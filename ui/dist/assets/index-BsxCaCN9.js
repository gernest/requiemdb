function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/javascript-Bs5rG7tp.js","assets/typescript-DpXz2DG8.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var bse=Object.defineProperty;var _se=(n,e,t)=>e in n?bse(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var lx=(n,e,t)=>(_se(n,typeof e!="symbol"?e+"":e,t),t);function DG(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const r=Object.getOwnPropertyDescriptor(i,o);r&&Object.defineProperty(n,o,r.get?r:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();var R1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var EG={exports:{}},jE={},TG={exports:{}},ki={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS=Symbol.for("react.element"),Cse=Symbol.for("react.portal"),yse=Symbol.for("react.fragment"),wse=Symbol.for("react.strict_mode"),Sse=Symbol.for("react.profiler"),xse=Symbol.for("react.provider"),kse=Symbol.for("react.context"),Lse=Symbol.for("react.forward_ref"),Dse=Symbol.for("react.suspense"),Ese=Symbol.for("react.memo"),Tse=Symbol.for("react.lazy"),JW=Symbol.iterator;function Ise(n){return n===null||typeof n!="object"?null:(n=JW&&n[JW]||n["@@iterator"],typeof n=="function"?n:null)}var IG={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NG=Object.assign,RG={};function d0(n,e,t){this.props=n,this.context=e,this.refs=RG,this.updater=t||IG}d0.prototype.isReactComponent={};d0.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};d0.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function MG(){}MG.prototype=d0.prototype;function c9(n,e,t){this.props=n,this.context=e,this.refs=RG,this.updater=t||IG}var d9=c9.prototype=new MG;d9.constructor=c9;NG(d9,d0.prototype);d9.isPureReactComponent=!0;var eV=Array.isArray,AG=Object.prototype.hasOwnProperty,u9={current:null},PG={key:!0,ref:!0,__self:!0,__source:!0};function OG(n,e,t){var i,o={},r=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(r=""+e.key),e)AG.call(e,i)&&!PG.hasOwnProperty(i)&&(o[i]=e[i]);var a=arguments.length-2;if(a===1)o.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)o[i]===void 0&&(o[i]=a[i]);return{$$typeof:rS,type:n,key:r,ref:s,props:o,_owner:u9.current}}function Nse(n,e){return{$$typeof:rS,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function h9(n){return typeof n=="object"&&n!==null&&n.$$typeof===rS}function Rse(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var tV=/\/+/g;function iR(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Rse(""+n.key):e.toString(36)}function oL(n,e,t,i,o){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(r){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case rS:case Cse:s=!0}}if(s)return s=n,o=o(s),n=i===""?"."+iR(s,0):i,eV(o)?(t="",n!=null&&(t=n.replace(tV,"$&/")+"/"),oL(o,e,t,"",function(c){return c})):o!=null&&(h9(o)&&(o=Nse(o,t+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(tV,"$&/")+"/")+n)),e.push(o)),1;if(s=0,i=i===""?".":i+":",eV(n))for(var a=0;a<n.length;a++){r=n[a];var l=i+iR(r,a);s+=oL(r,e,t,l,o)}else if(l=Ise(n),typeof l=="function")for(n=l.call(n),a=0;!(r=n.next()).done;)r=r.value,l=i+iR(r,a++),s+=oL(r,e,t,l,o);else if(r==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function cx(n,e,t){if(n==null)return n;var i=[],o=0;return oL(n,i,"","",function(r){return e.call(t,r,o++)}),i}function Mse(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Is={current:null},rL={transition:null},Ase={ReactCurrentDispatcher:Is,ReactCurrentBatchConfig:rL,ReactCurrentOwner:u9};ki.Children={map:cx,forEach:function(n,e,t){cx(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return cx(n,function(){e++}),e},toArray:function(n){return cx(n,function(e){return e})||[]},only:function(n){if(!h9(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ki.Component=d0;ki.Fragment=yse;ki.Profiler=Sse;ki.PureComponent=c9;ki.StrictMode=wse;ki.Suspense=Dse;ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ase;ki.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=NG({},n.props),o=n.key,r=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,s=u9.current),e.key!==void 0&&(o=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)AG.call(e,l)&&!PG.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:rS,type:n.type,key:o,ref:r,props:i,_owner:s}};ki.createContext=function(n){return n={$$typeof:kse,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:xse,_context:n},n.Consumer=n};ki.createElement=OG;ki.createFactory=function(n){var e=OG.bind(null,n);return e.type=n,e};ki.createRef=function(){return{current:null}};ki.forwardRef=function(n){return{$$typeof:Lse,render:n}};ki.isValidElement=h9;ki.lazy=function(n){return{$$typeof:Tse,_payload:{_status:-1,_result:n},_init:Mse}};ki.memo=function(n,e){return{$$typeof:Ese,type:n,compare:e===void 0?null:e}};ki.startTransition=function(n){var e=rL.transition;rL.transition={};try{n()}finally{rL.transition=e}};ki.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ki.useCallback=function(n,e){return Is.current.useCallback(n,e)};ki.useContext=function(n){return Is.current.useContext(n)};ki.useDebugValue=function(){};ki.useDeferredValue=function(n){return Is.current.useDeferredValue(n)};ki.useEffect=function(n,e){return Is.current.useEffect(n,e)};ki.useId=function(){return Is.current.useId()};ki.useImperativeHandle=function(n,e,t){return Is.current.useImperativeHandle(n,e,t)};ki.useInsertionEffect=function(n,e){return Is.current.useInsertionEffect(n,e)};ki.useLayoutEffect=function(n,e){return Is.current.useLayoutEffect(n,e)};ki.useMemo=function(n,e){return Is.current.useMemo(n,e)};ki.useReducer=function(n,e,t){return Is.current.useReducer(n,e,t)};ki.useRef=function(n){return Is.current.useRef(n)};ki.useState=function(n){return Is.current.useState(n)};ki.useSyncExternalStore=function(n,e,t){return Is.current.useSyncExternalStore(n,e,t)};ki.useTransition=function(){return Is.current.useTransition()};ki.version="18.2.0";TG.exports=ki;var De=TG.exports;const Ce=Vm(De),Pse=DG({__proto__:null,default:Ce},[De]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ose=De,Fse=Symbol.for("react.element"),Bse=Symbol.for("react.fragment"),Wse=Object.prototype.hasOwnProperty,Vse=Ose.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hse={key:!0,ref:!0,__self:!0,__source:!0};function FG(n,e,t){var i,o={},r=null,s=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)Wse.call(e,i)&&!Hse.hasOwnProperty(i)&&(o[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)o[i]===void 0&&(o[i]=e[i]);return{$$typeof:Fse,type:n,key:r,ref:s,props:o,_owner:Vse.current}}jE.Fragment=Bse;jE.jsx=FG;jE.jsxs=FG;EG.exports=jE;var mt=EG.exports,kP={},BG={exports:{}},Va={},WG={exports:{}},VG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(ae,Q){var _e=ae.length;ae.push(Q);e:for(;0<_e;){var Ie=_e-1>>>1,se=ae[Ie];if(0<o(se,Q))ae[Ie]=Q,ae[_e]=se,_e=Ie;else break e}}function t(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var Q=ae[0],_e=ae.pop();if(_e!==Q){ae[0]=_e;e:for(var Ie=0,se=ae.length,Y=se>>>1;Ie<Y;){var Ne=2*(Ie+1)-1,tt=ae[Ne],ne=Ne+1,$e=ae[ne];if(0>o(tt,_e))ne<se&&0>o($e,tt)?(ae[Ie]=$e,ae[ne]=_e,Ie=ne):(ae[Ie]=tt,ae[Ne]=_e,Ie=Ne);else if(ne<se&&0>o($e,_e))ae[Ie]=$e,ae[ne]=_e,Ie=ne;else break e}}return Q}function o(ae,Q){var _e=ae.sortIndex-Q.sortIndex;return _e!==0?_e:ae.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,u=null,h=3,g=!1,f=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(ae){for(var Q=t(c);Q!==null;){if(Q.callback===null)i(c);else if(Q.startTime<=ae)i(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=t(c)}}function y(ae){if(p=!1,C(ae),!f)if(t(l)!==null)f=!0,ye(w);else{var Q=t(c);Q!==null&&be(y,Q.startTime-ae)}}function w(ae,Q){f=!1,p&&(p=!1,v(L),L=-1),g=!0;var _e=h;try{for(C(Q),u=t(l);u!==null&&(!(u.expirationTime>Q)||ae&&!P());){var Ie=u.callback;if(typeof Ie=="function"){u.callback=null,h=u.priorityLevel;var se=Ie(u.expirationTime<=Q);Q=n.unstable_now(),typeof se=="function"?u.callback=se:u===t(l)&&i(l),C(Q)}else i(l);u=t(l)}if(u!==null)var Y=!0;else{var Ne=t(c);Ne!==null&&be(y,Ne.startTime-Q),Y=!1}return Y}finally{u=null,h=_e,g=!1}}var S=!1,x=null,L=-1,E=5,O=-1;function P(){return!(n.unstable_now()-O<E)}function A(){if(x!==null){var ae=n.unstable_now();O=ae;var Q=!0;try{Q=x(!0,ae)}finally{Q?F():(S=!1,x=null)}}else S=!1}var F;if(typeof _=="function")F=function(){_(A)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,te=K.port2;K.port1.onmessage=A,F=function(){te.postMessage(null)}}else F=function(){b(A,0)};function ye(ae){x=ae,S||(S=!0,F())}function be(ae,Q){L=b(function(){ae(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){f||g||(f=!0,ye(w))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(ae){switch(h){case 1:case 2:case 3:var Q=3;break;default:Q=h}var _e=h;h=Q;try{return ae()}finally{h=_e}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,Q){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var _e=h;h=ae;try{return Q()}finally{h=_e}},n.unstable_scheduleCallback=function(ae,Q,_e){var Ie=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Ie+_e:Ie):_e=Ie,ae){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=_e+se,ae={id:d++,callback:Q,priorityLevel:ae,startTime:_e,expirationTime:se,sortIndex:-1},_e>Ie?(ae.sortIndex=_e,e(c,ae),t(l)===null&&ae===t(c)&&(p?(v(L),L=-1):p=!0,be(y,_e-Ie))):(ae.sortIndex=se,e(l,ae),f||g||(f=!0,ye(w))),ae},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(ae){var Q=h;return function(){var _e=h;h=Q;try{return ae.apply(this,arguments)}finally{h=_e}}}})(VG);WG.exports=VG;var zse=WG.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HG=De,Pa=zse;function We(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zG=new Set,ty={};function Hm(n,e){c_(n,e),c_(n+"Capture",e)}function c_(n,e){for(ty[n]=e,n=0;n<e.length;n++)zG.add(e[n])}var oh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LP=Object.prototype.hasOwnProperty,Use=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iV={},nV={};function $se(n){return LP.call(nV,n)?!0:LP.call(iV,n)?!1:Use.test(n)?nV[n]=!0:(iV[n]=!0,!1)}function jse(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Kse(n,e,t,i){if(e===null||typeof e>"u"||jse(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ns(n,e,t,i,o,r,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=r,this.removeEmptyString=s}var Fr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Fr[n]=new Ns(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Fr[e]=new Ns(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Fr[n]=new Ns(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Fr[n]=new Ns(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Fr[n]=new Ns(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Fr[n]=new Ns(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Fr[n]=new Ns(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Fr[n]=new Ns(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Fr[n]=new Ns(n,5,!1,n.toLowerCase(),null,!1,!1)});var g9=/[\-:]([a-z])/g;function f9(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(g9,f9);Fr[e]=new Ns(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(g9,f9);Fr[e]=new Ns(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(g9,f9);Fr[e]=new Ns(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Fr[n]=new Ns(n,1,!1,n.toLowerCase(),null,!1,!1)});Fr.xlinkHref=new Ns("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Fr[n]=new Ns(n,1,!1,n.toLowerCase(),null,!0,!0)});function p9(n,e,t,i){var o=Fr.hasOwnProperty(e)?Fr[e]:null;(o!==null?o.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Kse(e,t,o,i)&&(t=null),i||o===null?$se(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):o.mustUseProperty?n[o.propertyName]=t===null?o.type===3?!1:"":t:(e=o.attributeName,i=o.attributeNamespace,t===null?n.removeAttribute(e):(o=o.type,t=o===3||o===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var bh=HG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dx=Symbol.for("react.element"),zv=Symbol.for("react.portal"),Uv=Symbol.for("react.fragment"),m9=Symbol.for("react.strict_mode"),DP=Symbol.for("react.profiler"),UG=Symbol.for("react.provider"),$G=Symbol.for("react.context"),v9=Symbol.for("react.forward_ref"),EP=Symbol.for("react.suspense"),TP=Symbol.for("react.suspense_list"),b9=Symbol.for("react.memo"),qh=Symbol.for("react.lazy"),jG=Symbol.for("react.offscreen"),oV=Symbol.iterator;function z0(n){return n===null||typeof n!="object"?null:(n=oV&&n[oV]||n["@@iterator"],typeof n=="function"?n:null)}var so=Object.assign,nR;function M1(n){if(nR===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);nR=e&&e[1]||""}return`
`+nR+n}var oR=!1;function rR(n,e){if(!n||oR)return"";oR=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),r=i.stack.split(`
`),s=o.length-1,a=r.length-1;1<=s&&0<=a&&o[s]!==r[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==r[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==r[a]){var l=`
`+o[s].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=s&&0<=a);break}}}finally{oR=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?M1(n):""}function qse(n){switch(n.tag){case 5:return M1(n.type);case 16:return M1("Lazy");case 13:return M1("Suspense");case 19:return M1("SuspenseList");case 0:case 2:case 15:return n=rR(n.type,!1),n;case 11:return n=rR(n.type.render,!1),n;case 1:return n=rR(n.type,!0),n;default:return""}}function IP(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Uv:return"Fragment";case zv:return"Portal";case DP:return"Profiler";case m9:return"StrictMode";case EP:return"Suspense";case TP:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case $G:return(n.displayName||"Context")+".Consumer";case UG:return(n._context.displayName||"Context")+".Provider";case v9:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case b9:return e=n.displayName||null,e!==null?e:IP(n.type)||"Memo";case qh:e=n._payload,n=n._init;try{return IP(n(e))}catch{}}return null}function Gse(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return IP(e);case 8:return e===m9?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zg(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function KG(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zse(n){var e=KG(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var o=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){i=""+s,r.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ux(n){n._valueTracker||(n._valueTracker=Zse(n))}function qG(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=KG(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function rD(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function NP(n,e){var t=e.checked;return so({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function rV(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Zg(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function GG(n,e){e=e.checked,e!=null&&p9(n,"checked",e,!1)}function RP(n,e){GG(n,e);var t=Zg(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?MP(n,e.type,t):e.hasOwnProperty("defaultValue")&&MP(n,e.type,Zg(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function sV(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function MP(n,e,t){(e!=="number"||rD(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var A1=Array.isArray;function Db(n,e,t,i){if(n=n.options,e){e={};for(var o=0;o<t.length;o++)e["$"+t[o]]=!0;for(t=0;t<n.length;t++)o=e.hasOwnProperty("$"+n[t].value),n[t].selected!==o&&(n[t].selected=o),o&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Zg(t),e=null,o=0;o<n.length;o++){if(n[o].value===t){n[o].selected=!0,i&&(n[o].defaultSelected=!0);return}e!==null||n[o].disabled||(e=n[o])}e!==null&&(e.selected=!0)}}function AP(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(We(91));return so({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function aV(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(We(92));if(A1(t)){if(1<t.length)throw Error(We(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Zg(t)}}function ZG(n,e){var t=Zg(e.value),i=Zg(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function lV(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function YG(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function PP(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?YG(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var hx,XG=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,o){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,o)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(hx=hx||document.createElement("div"),hx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hx.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function iy(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var lC={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yse=["Webkit","ms","Moz","O"];Object.keys(lC).forEach(function(n){Yse.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),lC[e]=lC[n]})});function QG(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||lC.hasOwnProperty(n)&&lC[n]?(""+e).trim():e+"px"}function JG(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,o=QG(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,o):n[t]=o}}var Xse=so({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function OP(n,e){if(e){if(Xse[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(We(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(We(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(We(61))}if(e.style!=null&&typeof e.style!="object")throw Error(We(62))}}function FP(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BP=null;function _9(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var WP=null,Eb=null,Tb=null;function cV(n){if(n=lS(n)){if(typeof WP!="function")throw Error(We(280));var e=n.stateNode;e&&(e=YE(e),WP(n.stateNode,n.type,e))}}function eZ(n){Eb?Tb?Tb.push(n):Tb=[n]:Eb=n}function tZ(){if(Eb){var n=Eb,e=Tb;if(Tb=Eb=null,cV(n),e)for(n=0;n<e.length;n++)cV(e[n])}}function iZ(n,e){return n(e)}function nZ(){}var sR=!1;function oZ(n,e,t){if(sR)return n(e,t);sR=!0;try{return iZ(n,e,t)}finally{sR=!1,(Eb!==null||Tb!==null)&&(nZ(),tZ())}}function ny(n,e){var t=n.stateNode;if(t===null)return null;var i=YE(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(We(231,e,typeof t));return t}var VP=!1;if(oh)try{var U0={};Object.defineProperty(U0,"passive",{get:function(){VP=!0}}),window.addEventListener("test",U0,U0),window.removeEventListener("test",U0,U0)}catch{VP=!1}function Qse(n,e,t,i,o,r,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var cC=!1,sD=null,aD=!1,HP=null,Jse={onError:function(n){cC=!0,sD=n}};function eae(n,e,t,i,o,r,s,a,l){cC=!1,sD=null,Qse.apply(Jse,arguments)}function tae(n,e,t,i,o,r,s,a,l){if(eae.apply(this,arguments),cC){if(cC){var c=sD;cC=!1,sD=null}else throw Error(We(198));aD||(aD=!0,HP=c)}}function zm(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function rZ(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function dV(n){if(zm(n)!==n)throw Error(We(188))}function iae(n){var e=n.alternate;if(!e){if(e=zm(n),e===null)throw Error(We(188));return e!==n?null:n}for(var t=n,i=e;;){var o=t.return;if(o===null)break;var r=o.alternate;if(r===null){if(i=o.return,i!==null){t=i;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===t)return dV(o),n;if(r===i)return dV(o),e;r=r.sibling}throw Error(We(188))}if(t.return!==i.return)t=o,i=r;else{for(var s=!1,a=o.child;a;){if(a===t){s=!0,t=o,i=r;break}if(a===i){s=!0,i=o,t=r;break}a=a.sibling}if(!s){for(a=r.child;a;){if(a===t){s=!0,t=r,i=o;break}if(a===i){s=!0,i=r,t=o;break}a=a.sibling}if(!s)throw Error(We(189))}}if(t.alternate!==i)throw Error(We(190))}if(t.tag!==3)throw Error(We(188));return t.stateNode.current===t?n:e}function sZ(n){return n=iae(n),n!==null?aZ(n):null}function aZ(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=aZ(n);if(e!==null)return e;n=n.sibling}return null}var lZ=Pa.unstable_scheduleCallback,uV=Pa.unstable_cancelCallback,nae=Pa.unstable_shouldYield,oae=Pa.unstable_requestPaint,Lo=Pa.unstable_now,rae=Pa.unstable_getCurrentPriorityLevel,C9=Pa.unstable_ImmediatePriority,cZ=Pa.unstable_UserBlockingPriority,lD=Pa.unstable_NormalPriority,sae=Pa.unstable_LowPriority,dZ=Pa.unstable_IdlePriority,KE=null,Cd=null;function aae(n){if(Cd&&typeof Cd.onCommitFiberRoot=="function")try{Cd.onCommitFiberRoot(KE,n,void 0,(n.current.flags&128)===128)}catch{}}var ac=Math.clz32?Math.clz32:dae,lae=Math.log,cae=Math.LN2;function dae(n){return n>>>=0,n===0?32:31-(lae(n)/cae|0)|0}var gx=64,fx=4194304;function P1(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function cD(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,o=n.suspendedLanes,r=n.pingedLanes,s=t&268435455;if(s!==0){var a=s&~o;a!==0?i=P1(a):(r&=s,r!==0&&(i=P1(r)))}else s=t&~o,s!==0?i=P1(s):r!==0&&(i=P1(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&o)&&(o=i&-i,r=e&-e,o>=r||o===16&&(r&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-ac(e),o=1<<t,i|=n[t],e&=~o;return i}function uae(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hae(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,o=n.expirationTimes,r=n.pendingLanes;0<r;){var s=31-ac(r),a=1<<s,l=o[s];l===-1?(!(a&t)||a&i)&&(o[s]=uae(a,e)):l<=e&&(n.expiredLanes|=a),r&=~a}}function zP(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function uZ(){var n=gx;return gx<<=1,!(gx&4194240)&&(gx=64),n}function aR(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function sS(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ac(e),n[e]=t}function gae(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var o=31-ac(t),r=1<<o;e[o]=0,i[o]=-1,n[o]=-1,t&=~r}}function y9(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-ac(t),o=1<<i;o&e|n[i]&e&&(n[i]|=e),t&=~o}}var hn=0;function hZ(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var gZ,w9,fZ,pZ,mZ,UP=!1,px=[],Sg=null,xg=null,kg=null,oy=new Map,ry=new Map,Xh=[],fae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hV(n,e){switch(n){case"focusin":case"focusout":Sg=null;break;case"dragenter":case"dragleave":xg=null;break;case"mouseover":case"mouseout":kg=null;break;case"pointerover":case"pointerout":oy.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ry.delete(e.pointerId)}}function $0(n,e,t,i,o,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:r,targetContainers:[o]},e!==null&&(e=lS(e),e!==null&&w9(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),n)}function pae(n,e,t,i,o){switch(e){case"focusin":return Sg=$0(Sg,n,e,t,i,o),!0;case"dragenter":return xg=$0(xg,n,e,t,i,o),!0;case"mouseover":return kg=$0(kg,n,e,t,i,o),!0;case"pointerover":var r=o.pointerId;return oy.set(r,$0(oy.get(r)||null,n,e,t,i,o)),!0;case"gotpointercapture":return r=o.pointerId,ry.set(r,$0(ry.get(r)||null,n,e,t,i,o)),!0}return!1}function vZ(n){var e=kp(n.target);if(e!==null){var t=zm(e);if(t!==null){if(e=t.tag,e===13){if(e=rZ(t),e!==null){n.blockedOn=e,mZ(n.priority,function(){fZ(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sL(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=$P(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);BP=i,t.target.dispatchEvent(i),BP=null}else return e=lS(t),e!==null&&w9(e),n.blockedOn=t,!1;e.shift()}return!0}function gV(n,e,t){sL(n)&&t.delete(e)}function mae(){UP=!1,Sg!==null&&sL(Sg)&&(Sg=null),xg!==null&&sL(xg)&&(xg=null),kg!==null&&sL(kg)&&(kg=null),oy.forEach(gV),ry.forEach(gV)}function j0(n,e){n.blockedOn===e&&(n.blockedOn=null,UP||(UP=!0,Pa.unstable_scheduleCallback(Pa.unstable_NormalPriority,mae)))}function sy(n){function e(o){return j0(o,n)}if(0<px.length){j0(px[0],n);for(var t=1;t<px.length;t++){var i=px[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Sg!==null&&j0(Sg,n),xg!==null&&j0(xg,n),kg!==null&&j0(kg,n),oy.forEach(e),ry.forEach(e),t=0;t<Xh.length;t++)i=Xh[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Xh.length&&(t=Xh[0],t.blockedOn===null);)vZ(t),t.blockedOn===null&&Xh.shift()}var Ib=bh.ReactCurrentBatchConfig,dD=!0;function vae(n,e,t,i){var o=hn,r=Ib.transition;Ib.transition=null;try{hn=1,S9(n,e,t,i)}finally{hn=o,Ib.transition=r}}function bae(n,e,t,i){var o=hn,r=Ib.transition;Ib.transition=null;try{hn=4,S9(n,e,t,i)}finally{hn=o,Ib.transition=r}}function S9(n,e,t,i){if(dD){var o=$P(n,e,t,i);if(o===null)vR(n,e,i,uD,t),hV(n,i);else if(pae(o,n,e,t,i))i.stopPropagation();else if(hV(n,i),e&4&&-1<fae.indexOf(n)){for(;o!==null;){var r=lS(o);if(r!==null&&gZ(r),r=$P(n,e,t,i),r===null&&vR(n,e,i,uD,t),r===o)break;o=r}o!==null&&i.stopPropagation()}else vR(n,e,i,null,t)}}var uD=null;function $P(n,e,t,i){if(uD=null,n=_9(i),n=kp(n),n!==null)if(e=zm(n),e===null)n=null;else if(t=e.tag,t===13){if(n=rZ(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return uD=n,null}function bZ(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rae()){case C9:return 1;case cZ:return 4;case lD:case sae:return 16;case dZ:return 536870912;default:return 16}default:return 16}}var rg=null,x9=null,aL=null;function _Z(){if(aL)return aL;var n,e=x9,t=e.length,i,o="value"in rg?rg.value:rg.textContent,r=o.length;for(n=0;n<t&&e[n]===o[n];n++);var s=t-n;for(i=1;i<=s&&e[t-i]===o[r-i];i++);return aL=o.slice(n,1<i?1-i:void 0)}function lL(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function mx(){return!0}function fV(){return!1}function Ha(n){function e(t,i,o,r,s){this._reactName=t,this._targetInst=o,this.type=i,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?mx:fV,this.isPropagationStopped=fV,this}return so(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=mx)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=mx)},persist:function(){},isPersistent:mx}),e}var u0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k9=Ha(u0),aS=so({},u0,{view:0,detail:0}),_ae=Ha(aS),lR,cR,K0,qE=so({},aS,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:L9,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==K0&&(K0&&n.type==="mousemove"?(lR=n.screenX-K0.screenX,cR=n.screenY-K0.screenY):cR=lR=0,K0=n),lR)},movementY:function(n){return"movementY"in n?n.movementY:cR}}),pV=Ha(qE),Cae=so({},qE,{dataTransfer:0}),yae=Ha(Cae),wae=so({},aS,{relatedTarget:0}),dR=Ha(wae),Sae=so({},u0,{animationName:0,elapsedTime:0,pseudoElement:0}),xae=Ha(Sae),kae=so({},u0,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Lae=Ha(kae),Dae=so({},u0,{data:0}),mV=Ha(Dae),Eae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nae(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Iae[n])?!!e[n]:!1}function L9(){return Nae}var Rae=so({},aS,{key:function(n){if(n.key){var e=Eae[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=lL(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Tae[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:L9,charCode:function(n){return n.type==="keypress"?lL(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?lL(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Mae=Ha(Rae),Aae=so({},qE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vV=Ha(Aae),Pae=so({},aS,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:L9}),Oae=Ha(Pae),Fae=so({},u0,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bae=Ha(Fae),Wae=so({},qE,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Vae=Ha(Wae),Hae=[9,13,27,32],D9=oh&&"CompositionEvent"in window,dC=null;oh&&"documentMode"in document&&(dC=document.documentMode);var zae=oh&&"TextEvent"in window&&!dC,CZ=oh&&(!D9||dC&&8<dC&&11>=dC),bV=" ",_V=!1;function yZ(n,e){switch(n){case"keyup":return Hae.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wZ(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $v=!1;function Uae(n,e){switch(n){case"compositionend":return wZ(e);case"keypress":return e.which!==32?null:(_V=!0,bV);case"textInput":return n=e.data,n===bV&&_V?null:n;default:return null}}function $ae(n,e){if($v)return n==="compositionend"||!D9&&yZ(n,e)?(n=_Z(),aL=x9=rg=null,$v=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CZ&&e.locale!=="ko"?null:e.data;default:return null}}var jae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CV(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!jae[n.type]:e==="textarea"}function SZ(n,e,t,i){eZ(i),e=hD(e,"onChange"),0<e.length&&(t=new k9("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var uC=null,ay=null;function Kae(n){AZ(n,0)}function GE(n){var e=qv(n);if(qG(e))return n}function qae(n,e){if(n==="change")return e}var xZ=!1;if(oh){var uR;if(oh){var hR="oninput"in document;if(!hR){var yV=document.createElement("div");yV.setAttribute("oninput","return;"),hR=typeof yV.oninput=="function"}uR=hR}else uR=!1;xZ=uR&&(!document.documentMode||9<document.documentMode)}function wV(){uC&&(uC.detachEvent("onpropertychange",kZ),ay=uC=null)}function kZ(n){if(n.propertyName==="value"&&GE(ay)){var e=[];SZ(e,ay,n,_9(n)),oZ(Kae,e)}}function Gae(n,e,t){n==="focusin"?(wV(),uC=e,ay=t,uC.attachEvent("onpropertychange",kZ)):n==="focusout"&&wV()}function Zae(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return GE(ay)}function Yae(n,e){if(n==="click")return GE(e)}function Xae(n,e){if(n==="input"||n==="change")return GE(e)}function Qae(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var mc=typeof Object.is=="function"?Object.is:Qae;function ly(n,e){if(mc(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var o=t[i];if(!LP.call(e,o)||!mc(n[o],e[o]))return!1}return!0}function SV(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function xV(n,e){var t=SV(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=SV(t)}}function LZ(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?LZ(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function DZ(){for(var n=window,e=rD();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=rD(n.document)}return e}function E9(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Jae(n){var e=DZ(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&LZ(t.ownerDocument.documentElement,t)){if(i!==null&&E9(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var o=t.textContent.length,r=Math.min(i.start,o);i=i.end===void 0?r:Math.min(i.end,o),!n.extend&&r>i&&(o=i,i=r,r=o),o=xV(t,r);var s=xV(t,i);o&&s&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),n.removeAllRanges(),r>i?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ele=oh&&"documentMode"in document&&11>=document.documentMode,jv=null,jP=null,hC=null,KP=!1;function kV(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;KP||jv==null||jv!==rD(i)||(i=jv,"selectionStart"in i&&E9(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),hC&&ly(hC,i)||(hC=i,i=hD(jP,"onSelect"),0<i.length&&(e=new k9("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=jv)))}function vx(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Kv={animationend:vx("Animation","AnimationEnd"),animationiteration:vx("Animation","AnimationIteration"),animationstart:vx("Animation","AnimationStart"),transitionend:vx("Transition","TransitionEnd")},gR={},EZ={};oh&&(EZ=document.createElement("div").style,"AnimationEvent"in window||(delete Kv.animationend.animation,delete Kv.animationiteration.animation,delete Kv.animationstart.animation),"TransitionEvent"in window||delete Kv.transitionend.transition);function ZE(n){if(gR[n])return gR[n];if(!Kv[n])return n;var e=Kv[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in EZ)return gR[n]=e[t];return n}var TZ=ZE("animationend"),IZ=ZE("animationiteration"),NZ=ZE("animationstart"),RZ=ZE("transitionend"),MZ=new Map,LV="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ef(n,e){MZ.set(n,e),Hm(e,[n])}for(var fR=0;fR<LV.length;fR++){var pR=LV[fR],tle=pR.toLowerCase(),ile=pR[0].toUpperCase()+pR.slice(1);Ef(tle,"on"+ile)}Ef(TZ,"onAnimationEnd");Ef(IZ,"onAnimationIteration");Ef(NZ,"onAnimationStart");Ef("dblclick","onDoubleClick");Ef("focusin","onFocus");Ef("focusout","onBlur");Ef(RZ,"onTransitionEnd");c_("onMouseEnter",["mouseout","mouseover"]);c_("onMouseLeave",["mouseout","mouseover"]);c_("onPointerEnter",["pointerout","pointerover"]);c_("onPointerLeave",["pointerout","pointerover"]);Hm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var O1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nle=new Set("cancel close invalid load scroll toggle".split(" ").concat(O1));function DV(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,tae(i,e,void 0,n),n.currentTarget=null}function AZ(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],o=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&o.isPropagationStopped())break e;DV(o,a,c),r=l}else for(s=0;s<i.length;s++){if(a=i[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&o.isPropagationStopped())break e;DV(o,a,c),r=l}}}if(aD)throw n=HP,aD=!1,HP=null,n}function Vn(n,e){var t=e[XP];t===void 0&&(t=e[XP]=new Set);var i=n+"__bubble";t.has(i)||(PZ(e,n,2,!1),t.add(i))}function mR(n,e,t){var i=0;e&&(i|=4),PZ(t,n,i,e)}var bx="_reactListening"+Math.random().toString(36).slice(2);function cy(n){if(!n[bx]){n[bx]=!0,zG.forEach(function(t){t!=="selectionchange"&&(nle.has(t)||mR(t,!1,n),mR(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[bx]||(e[bx]=!0,mR("selectionchange",!1,e))}}function PZ(n,e,t,i){switch(bZ(e)){case 1:var o=vae;break;case 4:o=bae;break;default:o=S9}t=o.bind(null,e,t,n),o=void 0,!VP||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?n.addEventListener(e,t,{capture:!0,passive:o}):n.addEventListener(e,t,!0):o!==void 0?n.addEventListener(e,t,{passive:o}):n.addEventListener(e,t,!1)}function vR(n,e,t,i,o){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var a=i.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=kp(a),s===null)return;if(l=s.tag,l===5||l===6){i=r=s;continue e}a=a.parentNode}}i=i.return}oZ(function(){var c=r,d=_9(t),u=[];e:{var h=MZ.get(n);if(h!==void 0){var g=k9,f=n;switch(n){case"keypress":if(lL(t)===0)break e;case"keydown":case"keyup":g=Mae;break;case"focusin":f="focus",g=dR;break;case"focusout":f="blur",g=dR;break;case"beforeblur":case"afterblur":g=dR;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=pV;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=yae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Oae;break;case TZ:case IZ:case NZ:g=xae;break;case RZ:g=Bae;break;case"scroll":g=_ae;break;case"wheel":g=Vae;break;case"copy":case"cut":case"paste":g=Lae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=vV}var p=(e&4)!==0,b=!p&&n==="scroll",v=p?h!==null?h+"Capture":null:h;p=[];for(var _=c,C;_!==null;){C=_;var y=C.stateNode;if(C.tag===5&&y!==null&&(C=y,v!==null&&(y=ny(_,v),y!=null&&p.push(dy(_,y,C)))),b)break;_=_.return}0<p.length&&(h=new g(h,f,null,t,d),u.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",h&&t!==BP&&(f=t.relatedTarget||t.fromElement)&&(kp(f)||f[rh]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(f=t.relatedTarget||t.toElement,g=c,f=f?kp(f):null,f!==null&&(b=zm(f),f!==b||f.tag!==5&&f.tag!==6)&&(f=null)):(g=null,f=c),g!==f)){if(p=pV,y="onMouseLeave",v="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(p=vV,y="onPointerLeave",v="onPointerEnter",_="pointer"),b=g==null?h:qv(g),C=f==null?h:qv(f),h=new p(y,_+"leave",g,t,d),h.target=b,h.relatedTarget=C,y=null,kp(d)===c&&(p=new p(v,_+"enter",f,t,d),p.target=C,p.relatedTarget=b,y=p),b=y,g&&f)t:{for(p=g,v=f,_=0,C=p;C;C=cv(C))_++;for(C=0,y=v;y;y=cv(y))C++;for(;0<_-C;)p=cv(p),_--;for(;0<C-_;)v=cv(v),C--;for(;_--;){if(p===v||v!==null&&p===v.alternate)break t;p=cv(p),v=cv(v)}p=null}else p=null;g!==null&&EV(u,h,g,p,!1),f!==null&&b!==null&&EV(u,b,f,p,!0)}}e:{if(h=c?qv(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var w=qae;else if(CV(h))if(xZ)w=Xae;else{w=Zae;var S=Gae}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=Yae);if(w&&(w=w(n,c))){SZ(u,w,t,d);break e}S&&S(n,h,c),n==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&MP(h,"number",h.value)}switch(S=c?qv(c):window,n){case"focusin":(CV(S)||S.contentEditable==="true")&&(jv=S,jP=c,hC=null);break;case"focusout":hC=jP=jv=null;break;case"mousedown":KP=!0;break;case"contextmenu":case"mouseup":case"dragend":KP=!1,kV(u,t,d);break;case"selectionchange":if(ele)break;case"keydown":case"keyup":kV(u,t,d)}var x;if(D9)e:{switch(n){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else $v?yZ(n,t)&&(L="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(L="onCompositionStart");L&&(CZ&&t.locale!=="ko"&&($v||L!=="onCompositionStart"?L==="onCompositionEnd"&&$v&&(x=_Z()):(rg=d,x9="value"in rg?rg.value:rg.textContent,$v=!0)),S=hD(c,L),0<S.length&&(L=new mV(L,n,null,t,d),u.push({event:L,listeners:S}),x?L.data=x:(x=wZ(t),x!==null&&(L.data=x)))),(x=zae?Uae(n,t):$ae(n,t))&&(c=hD(c,"onBeforeInput"),0<c.length&&(d=new mV("onBeforeInput","beforeinput",null,t,d),u.push({event:d,listeners:c}),d.data=x))}AZ(u,e)})}function dy(n,e,t){return{instance:n,listener:e,currentTarget:t}}function hD(n,e){for(var t=e+"Capture",i=[];n!==null;){var o=n,r=o.stateNode;o.tag===5&&r!==null&&(o=r,r=ny(n,t),r!=null&&i.unshift(dy(n,r,o)),r=ny(n,e),r!=null&&i.push(dy(n,r,o))),n=n.return}return i}function cv(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function EV(n,e,t,i,o){for(var r=e._reactName,s=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,o?(l=ny(t,r),l!=null&&s.unshift(dy(t,l,a))):o||(l=ny(t,r),l!=null&&s.push(dy(t,l,a)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var ole=/\r\n?/g,rle=/\u0000|\uFFFD/g;function TV(n){return(typeof n=="string"?n:""+n).replace(ole,`
`).replace(rle,"")}function _x(n,e,t){if(e=TV(e),TV(n)!==e&&t)throw Error(We(425))}function gD(){}var qP=null,GP=null;function ZP(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var YP=typeof setTimeout=="function"?setTimeout:void 0,sle=typeof clearTimeout=="function"?clearTimeout:void 0,IV=typeof Promise=="function"?Promise:void 0,ale=typeof queueMicrotask=="function"?queueMicrotask:typeof IV<"u"?function(n){return IV.resolve(null).then(n).catch(lle)}:YP;function lle(n){setTimeout(function(){throw n})}function bR(n,e){var t=e,i=0;do{var o=t.nextSibling;if(n.removeChild(t),o&&o.nodeType===8)if(t=o.data,t==="/$"){if(i===0){n.removeChild(o),sy(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=o}while(t);sy(e)}function Lg(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function NV(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var h0=Math.random().toString(36).slice(2),od="__reactFiber$"+h0,uy="__reactProps$"+h0,rh="__reactContainer$"+h0,XP="__reactEvents$"+h0,cle="__reactListeners$"+h0,dle="__reactHandles$"+h0;function kp(n){var e=n[od];if(e)return e;for(var t=n.parentNode;t;){if(e=t[rh]||t[od]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=NV(n);n!==null;){if(t=n[od])return t;n=NV(n)}return e}n=t,t=n.parentNode}return null}function lS(n){return n=n[od]||n[rh],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function qv(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(We(33))}function YE(n){return n[uy]||null}var QP=[],Gv=-1;function Tf(n){return{current:n}}function jn(n){0>Gv||(n.current=QP[Gv],QP[Gv]=null,Gv--)}function Fn(n,e){Gv++,QP[Gv]=n.current,n.current=e}var Yg={},ss=Tf(Yg),ea=Tf(!1),nm=Yg;function d_(n,e){var t=n.type.contextTypes;if(!t)return Yg;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var o={},r;for(r in t)o[r]=e[r];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=o),o}function ta(n){return n=n.childContextTypes,n!=null}function fD(){jn(ea),jn(ss)}function RV(n,e,t){if(ss.current!==Yg)throw Error(We(168));Fn(ss,e),Fn(ea,t)}function OZ(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var o in i)if(!(o in e))throw Error(We(108,Gse(n)||"Unknown",o));return so({},t,i)}function pD(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Yg,nm=ss.current,Fn(ss,n),Fn(ea,ea.current),!0}function MV(n,e,t){var i=n.stateNode;if(!i)throw Error(We(169));t?(n=OZ(n,e,nm),i.__reactInternalMemoizedMergedChildContext=n,jn(ea),jn(ss),Fn(ss,n)):jn(ea),Fn(ea,t)}var hu=null,XE=!1,_R=!1;function FZ(n){hu===null?hu=[n]:hu.push(n)}function ule(n){XE=!0,FZ(n)}function If(){if(!_R&&hu!==null){_R=!0;var n=0,e=hn;try{var t=hu;for(hn=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}hu=null,XE=!1}catch(o){throw hu!==null&&(hu=hu.slice(n+1)),lZ(C9,If),o}finally{hn=e,_R=!1}}return null}var Zv=[],Yv=0,mD=null,vD=0,ol=[],rl=0,om=null,Lu=1,Du="";function rp(n,e){Zv[Yv++]=vD,Zv[Yv++]=mD,mD=n,vD=e}function BZ(n,e,t){ol[rl++]=Lu,ol[rl++]=Du,ol[rl++]=om,om=n;var i=Lu;n=Du;var o=32-ac(i)-1;i&=~(1<<o),t+=1;var r=32-ac(e)+o;if(30<r){var s=o-o%5;r=(i&(1<<s)-1).toString(32),i>>=s,o-=s,Lu=1<<32-ac(e)+o|t<<o|i,Du=r+n}else Lu=1<<r|t<<o|i,Du=n}function T9(n){n.return!==null&&(rp(n,1),BZ(n,1,0))}function I9(n){for(;n===mD;)mD=Zv[--Yv],Zv[Yv]=null,vD=Zv[--Yv],Zv[Yv]=null;for(;n===om;)om=ol[--rl],ol[rl]=null,Du=ol[--rl],ol[rl]=null,Lu=ol[--rl],ol[rl]=null}var Ia=null,ka=null,Yn=!1,ql=null;function WZ(n,e){var t=ll(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function AV(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ia=n,ka=Lg(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ia=n,ka=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=om!==null?{id:Lu,overflow:Du}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ll(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ia=n,ka=null,!0):!1;default:return!1}}function JP(n){return(n.mode&1)!==0&&(n.flags&128)===0}function eO(n){if(Yn){var e=ka;if(e){var t=e;if(!AV(n,e)){if(JP(n))throw Error(We(418));e=Lg(t.nextSibling);var i=Ia;e&&AV(n,e)?WZ(i,t):(n.flags=n.flags&-4097|2,Yn=!1,Ia=n)}}else{if(JP(n))throw Error(We(418));n.flags=n.flags&-4097|2,Yn=!1,Ia=n}}}function PV(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ia=n}function Cx(n){if(n!==Ia)return!1;if(!Yn)return PV(n),Yn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!ZP(n.type,n.memoizedProps)),e&&(e=ka)){if(JP(n))throw VZ(),Error(We(418));for(;e;)WZ(n,e),e=Lg(e.nextSibling)}if(PV(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(We(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ka=Lg(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ka=null}}else ka=Ia?Lg(n.stateNode.nextSibling):null;return!0}function VZ(){for(var n=ka;n;)n=Lg(n.nextSibling)}function u_(){ka=Ia=null,Yn=!1}function N9(n){ql===null?ql=[n]:ql.push(n)}var hle=bh.ReactCurrentBatchConfig;function Bl(n,e){if(n&&n.defaultProps){e=so({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var bD=Tf(null),_D=null,Xv=null,R9=null;function M9(){R9=Xv=_D=null}function A9(n){var e=bD.current;jn(bD),n._currentValue=e}function tO(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Nb(n,e){_D=n,R9=Xv=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Qs=!0),n.firstContext=null)}function _l(n){var e=n._currentValue;if(R9!==n)if(n={context:n,memoizedValue:e,next:null},Xv===null){if(_D===null)throw Error(We(308));Xv=n,_D.dependencies={lanes:0,firstContext:n}}else Xv=Xv.next=n;return e}var Lp=null;function P9(n){Lp===null?Lp=[n]:Lp.push(n)}function HZ(n,e,t,i){var o=e.interleaved;return o===null?(t.next=t,P9(e)):(t.next=o.next,o.next=t),e.interleaved=t,sh(n,i)}function sh(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Gh=!1;function O9(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zZ(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function $u(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Dg(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ui&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,sh(n,t)}return o=i.interleaved,o===null?(e.next=e,P9(i)):(e.next=o.next,o.next=e),i.interleaved=e,sh(n,t)}function cL(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,y9(n,t)}}function OV(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var o=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?o=r=s:r=r.next=s,t=t.next}while(t!==null);r===null?o=r=e:r=r.next=e}else o=r=e;t={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function CD(n,e,t,i){var o=n.updateQueue;Gh=!1;var r=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?r=c:s.next=c,s=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(r!==null){var u=o.baseState;s=0,d=c=l=null,a=r;do{var h=a.lane,g=a.eventTime;if((i&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=n,p=a;switch(h=e,g=t,p.tag){case 1:if(f=p.payload,typeof f=="function"){u=f.call(g,u,h);break e}u=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=p.payload,h=typeof f=="function"?f.call(g,u,h):f,h==null)break e;u=so({},u,h);break e;case 2:Gh=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=u):d=d.next=g,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(d===null&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else r===null&&(o.shared.lanes=0);sm|=s,n.lanes=s,n.memoizedState=u}}function FV(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],o=i.callback;if(o!==null){if(i.callback=null,i=t,typeof o!="function")throw Error(We(191,o));o.call(i)}}}var UZ=new HG.Component().refs;function iO(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:so({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var QE={isMounted:function(n){return(n=n._reactInternals)?zm(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=ws(),o=Tg(n),r=$u(i,o);r.payload=e,t!=null&&(r.callback=t),e=Dg(n,r,o),e!==null&&(lc(e,n,o,i),cL(e,n,o))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=ws(),o=Tg(n),r=$u(i,o);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=Dg(n,r,o),e!==null&&(lc(e,n,o,i),cL(e,n,o))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ws(),i=Tg(n),o=$u(t,i);o.tag=2,e!=null&&(o.callback=e),e=Dg(n,o,i),e!==null&&(lc(e,n,i,t),cL(e,n,i))}};function BV(n,e,t,i,o,r,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,r,s):e.prototype&&e.prototype.isPureReactComponent?!ly(t,i)||!ly(o,r):!0}function $Z(n,e,t){var i=!1,o=Yg,r=e.contextType;return typeof r=="object"&&r!==null?r=_l(r):(o=ta(e)?nm:ss.current,i=e.contextTypes,r=(i=i!=null)?d_(n,o):Yg),e=new e(t,r),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=QE,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=r),e}function WV(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&QE.enqueueReplaceState(e,e.state,null)}function nO(n,e,t,i){var o=n.stateNode;o.props=t,o.state=n.memoizedState,o.refs=UZ,O9(n);var r=e.contextType;typeof r=="object"&&r!==null?o.context=_l(r):(r=ta(e)?nm:ss.current,o.context=d_(n,r)),o.state=n.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(iO(n,e,r,t),o.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&QE.enqueueReplaceState(o,o.state,null),CD(n,t,o,i),o.state=n.memoizedState),typeof o.componentDidMount=="function"&&(n.flags|=4194308)}function q0(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(We(309));var i=t.stateNode}if(!i)throw Error(We(147,n));var o=i,r=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(s){var a=o.refs;a===UZ&&(a=o.refs={}),s===null?delete a[r]:a[r]=s},e._stringRef=r,e)}if(typeof n!="string")throw Error(We(284));if(!t._owner)throw Error(We(290,n))}return n}function yx(n,e){throw n=Object.prototype.toString.call(e),Error(We(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function VV(n){var e=n._init;return e(n._payload)}function jZ(n){function e(v,_){if(n){var C=v.deletions;C===null?(v.deletions=[_],v.flags|=16):C.push(_)}}function t(v,_){if(!n)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function i(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function o(v,_){return v=Ig(v,_),v.index=0,v.sibling=null,v}function r(v,_,C){return v.index=C,n?(C=v.alternate,C!==null?(C=C.index,C<_?(v.flags|=2,_):C):(v.flags|=2,_)):(v.flags|=1048576,_)}function s(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,_,C,y){return _===null||_.tag!==6?(_=LR(C,v.mode,y),_.return=v,_):(_=o(_,C),_.return=v,_)}function l(v,_,C,y){var w=C.type;return w===Uv?d(v,_,C.props.children,y,C.key):_!==null&&(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===qh&&VV(w)===_.type)?(y=o(_,C.props),y.ref=q0(v,_,C),y.return=v,y):(y=pL(C.type,C.key,C.props,null,v.mode,y),y.ref=q0(v,_,C),y.return=v,y)}function c(v,_,C,y){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=DR(C,v.mode,y),_.return=v,_):(_=o(_,C.children||[]),_.return=v,_)}function d(v,_,C,y,w){return _===null||_.tag!==7?(_=Up(C,v.mode,y,w),_.return=v,_):(_=o(_,C),_.return=v,_)}function u(v,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=LR(""+_,v.mode,C),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dx:return C=pL(_.type,_.key,_.props,null,v.mode,C),C.ref=q0(v,null,_),C.return=v,C;case zv:return _=DR(_,v.mode,C),_.return=v,_;case qh:var y=_._init;return u(v,y(_._payload),C)}if(A1(_)||z0(_))return _=Up(_,v.mode,C,null),_.return=v,_;yx(v,_)}return null}function h(v,_,C,y){var w=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return w!==null?null:a(v,_,""+C,y);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case dx:return C.key===w?l(v,_,C,y):null;case zv:return C.key===w?c(v,_,C,y):null;case qh:return w=C._init,h(v,_,w(C._payload),y)}if(A1(C)||z0(C))return w!==null?null:d(v,_,C,y,null);yx(v,C)}return null}function g(v,_,C,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return v=v.get(C)||null,a(_,v,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case dx:return v=v.get(y.key===null?C:y.key)||null,l(_,v,y,w);case zv:return v=v.get(y.key===null?C:y.key)||null,c(_,v,y,w);case qh:var S=y._init;return g(v,_,C,S(y._payload),w)}if(A1(y)||z0(y))return v=v.get(C)||null,d(_,v,y,w,null);yx(_,y)}return null}function f(v,_,C,y){for(var w=null,S=null,x=_,L=_=0,E=null;x!==null&&L<C.length;L++){x.index>L?(E=x,x=null):E=x.sibling;var O=h(v,x,C[L],y);if(O===null){x===null&&(x=E);break}n&&x&&O.alternate===null&&e(v,x),_=r(O,_,L),S===null?w=O:S.sibling=O,S=O,x=E}if(L===C.length)return t(v,x),Yn&&rp(v,L),w;if(x===null){for(;L<C.length;L++)x=u(v,C[L],y),x!==null&&(_=r(x,_,L),S===null?w=x:S.sibling=x,S=x);return Yn&&rp(v,L),w}for(x=i(v,x);L<C.length;L++)E=g(x,v,L,C[L],y),E!==null&&(n&&E.alternate!==null&&x.delete(E.key===null?L:E.key),_=r(E,_,L),S===null?w=E:S.sibling=E,S=E);return n&&x.forEach(function(P){return e(v,P)}),Yn&&rp(v,L),w}function p(v,_,C,y){var w=z0(C);if(typeof w!="function")throw Error(We(150));if(C=w.call(C),C==null)throw Error(We(151));for(var S=w=null,x=_,L=_=0,E=null,O=C.next();x!==null&&!O.done;L++,O=C.next()){x.index>L?(E=x,x=null):E=x.sibling;var P=h(v,x,O.value,y);if(P===null){x===null&&(x=E);break}n&&x&&P.alternate===null&&e(v,x),_=r(P,_,L),S===null?w=P:S.sibling=P,S=P,x=E}if(O.done)return t(v,x),Yn&&rp(v,L),w;if(x===null){for(;!O.done;L++,O=C.next())O=u(v,O.value,y),O!==null&&(_=r(O,_,L),S===null?w=O:S.sibling=O,S=O);return Yn&&rp(v,L),w}for(x=i(v,x);!O.done;L++,O=C.next())O=g(x,v,L,O.value,y),O!==null&&(n&&O.alternate!==null&&x.delete(O.key===null?L:O.key),_=r(O,_,L),S===null?w=O:S.sibling=O,S=O);return n&&x.forEach(function(A){return e(v,A)}),Yn&&rp(v,L),w}function b(v,_,C,y){if(typeof C=="object"&&C!==null&&C.type===Uv&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case dx:e:{for(var w=C.key,S=_;S!==null;){if(S.key===w){if(w=C.type,w===Uv){if(S.tag===7){t(v,S.sibling),_=o(S,C.props.children),_.return=v,v=_;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===qh&&VV(w)===S.type){t(v,S.sibling),_=o(S,C.props),_.ref=q0(v,S,C),_.return=v,v=_;break e}t(v,S);break}else e(v,S);S=S.sibling}C.type===Uv?(_=Up(C.props.children,v.mode,y,C.key),_.return=v,v=_):(y=pL(C.type,C.key,C.props,null,v.mode,y),y.ref=q0(v,_,C),y.return=v,v=y)}return s(v);case zv:e:{for(S=C.key;_!==null;){if(_.key===S)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){t(v,_.sibling),_=o(_,C.children||[]),_.return=v,v=_;break e}else{t(v,_);break}else e(v,_);_=_.sibling}_=DR(C,v.mode,y),_.return=v,v=_}return s(v);case qh:return S=C._init,b(v,_,S(C._payload),y)}if(A1(C))return f(v,_,C,y);if(z0(C))return p(v,_,C,y);yx(v,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(t(v,_.sibling),_=o(_,C),_.return=v,v=_):(t(v,_),_=LR(C,v.mode,y),_.return=v,v=_),s(v)):t(v,_)}return b}var h_=jZ(!0),KZ=jZ(!1),cS={},yd=Tf(cS),hy=Tf(cS),gy=Tf(cS);function Dp(n){if(n===cS)throw Error(We(174));return n}function F9(n,e){switch(Fn(gy,e),Fn(hy,n),Fn(yd,cS),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:PP(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=PP(e,n)}jn(yd),Fn(yd,e)}function g_(){jn(yd),jn(hy),jn(gy)}function qZ(n){Dp(gy.current);var e=Dp(yd.current),t=PP(e,n.type);e!==t&&(Fn(hy,n),Fn(yd,t))}function B9(n){hy.current===n&&(jn(yd),jn(hy))}var Jn=Tf(0);function yD(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var CR=[];function W9(){for(var n=0;n<CR.length;n++)CR[n]._workInProgressVersionPrimary=null;CR.length=0}var dL=bh.ReactCurrentDispatcher,yR=bh.ReactCurrentBatchConfig,rm=0,oo=null,Ko=null,lr=null,wD=!1,gC=!1,fy=0,gle=0;function qr(){throw Error(We(321))}function V9(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!mc(n[t],e[t]))return!1;return!0}function H9(n,e,t,i,o,r){if(rm=r,oo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dL.current=n===null||n.memoizedState===null?vle:ble,n=t(i,o),gC){r=0;do{if(gC=!1,fy=0,25<=r)throw Error(We(301));r+=1,lr=Ko=null,e.updateQueue=null,dL.current=_le,n=t(i,o)}while(gC)}if(dL.current=SD,e=Ko!==null&&Ko.next!==null,rm=0,lr=Ko=oo=null,wD=!1,e)throw Error(We(300));return n}function z9(){var n=fy!==0;return fy=0,n}function Zc(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?oo.memoizedState=lr=n:lr=lr.next=n,lr}function Cl(){if(Ko===null){var n=oo.alternate;n=n!==null?n.memoizedState:null}else n=Ko.next;var e=lr===null?oo.memoizedState:lr.next;if(e!==null)lr=e,Ko=n;else{if(n===null)throw Error(We(310));Ko=n,n={memoizedState:Ko.memoizedState,baseState:Ko.baseState,baseQueue:Ko.baseQueue,queue:Ko.queue,next:null},lr===null?oo.memoizedState=lr=n:lr=lr.next=n}return lr}function py(n,e){return typeof e=="function"?e(n):e}function wR(n){var e=Cl(),t=e.queue;if(t===null)throw Error(We(311));t.lastRenderedReducer=n;var i=Ko,o=i.baseQueue,r=t.pending;if(r!==null){if(o!==null){var s=o.next;o.next=r.next,r.next=s}i.baseQueue=o=r,t.pending=null}if(o!==null){r=o.next,i=i.baseState;var a=s=null,l=null,c=r;do{var d=c.lane;if((rm&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,s=i):l=l.next=u,oo.lanes|=d,sm|=d}c=c.next}while(c!==null&&c!==r);l===null?s=i:l.next=a,mc(i,e.memoizedState)||(Qs=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){o=n;do r=o.lane,oo.lanes|=r,sm|=r,o=o.next;while(o!==n)}else o===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function SR(n){var e=Cl(),t=e.queue;if(t===null)throw Error(We(311));t.lastRenderedReducer=n;var i=t.dispatch,o=t.pending,r=e.memoizedState;if(o!==null){t.pending=null;var s=o=o.next;do r=n(r,s.action),s=s.next;while(s!==o);mc(r,e.memoizedState)||(Qs=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,i]}function GZ(){}function ZZ(n,e){var t=oo,i=Cl(),o=e(),r=!mc(i.memoizedState,o);if(r&&(i.memoizedState=o,Qs=!0),i=i.queue,U9(QZ.bind(null,t,i,n),[n]),i.getSnapshot!==e||r||lr!==null&&lr.memoizedState.tag&1){if(t.flags|=2048,my(9,XZ.bind(null,t,i,o,e),void 0,null),ur===null)throw Error(We(349));rm&30||YZ(t,e,o)}return o}function YZ(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=oo.updateQueue,e===null?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function XZ(n,e,t,i){e.value=t,e.getSnapshot=i,JZ(e)&&eY(n)}function QZ(n,e,t){return t(function(){JZ(e)&&eY(n)})}function JZ(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!mc(n,t)}catch{return!0}}function eY(n){var e=sh(n,1);e!==null&&lc(e,n,1,-1)}function HV(n){var e=Zc();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:n},e.queue=n,n=n.dispatch=mle.bind(null,oo,n),[e.memoizedState,n]}function my(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=oo.updateQueue,e===null?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function tY(){return Cl().memoizedState}function uL(n,e,t,i){var o=Zc();oo.flags|=n,o.memoizedState=my(1|e,t,void 0,i===void 0?null:i)}function JE(n,e,t,i){var o=Cl();i=i===void 0?null:i;var r=void 0;if(Ko!==null){var s=Ko.memoizedState;if(r=s.destroy,i!==null&&V9(i,s.deps)){o.memoizedState=my(e,t,r,i);return}}oo.flags|=n,o.memoizedState=my(1|e,t,r,i)}function zV(n,e){return uL(8390656,8,n,e)}function U9(n,e){return JE(2048,8,n,e)}function iY(n,e){return JE(4,2,n,e)}function nY(n,e){return JE(4,4,n,e)}function oY(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function rY(n,e,t){return t=t!=null?t.concat([n]):null,JE(4,4,oY.bind(null,e,n),t)}function $9(){}function sY(n,e){var t=Cl();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&V9(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function aY(n,e){var t=Cl();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&V9(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function lY(n,e,t){return rm&21?(mc(t,e)||(t=uZ(),oo.lanes|=t,sm|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Qs=!0),n.memoizedState=t)}function fle(n,e){var t=hn;hn=t!==0&&4>t?t:4,n(!0);var i=yR.transition;yR.transition={};try{n(!1),e()}finally{hn=t,yR.transition=i}}function cY(){return Cl().memoizedState}function ple(n,e,t){var i=Tg(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},dY(n))uY(e,t);else if(t=HZ(n,e,t,i),t!==null){var o=ws();lc(t,n,i,o),hY(t,e,i)}}function mle(n,e,t){var i=Tg(n),o={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(dY(n))uY(e,o);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var s=e.lastRenderedState,a=r(s,t);if(o.hasEagerState=!0,o.eagerState=a,mc(a,s)){var l=e.interleaved;l===null?(o.next=o,P9(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}t=HZ(n,e,o,i),t!==null&&(o=ws(),lc(t,n,i,o),hY(t,e,i))}}function dY(n){var e=n.alternate;return n===oo||e!==null&&e===oo}function uY(n,e){gC=wD=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function hY(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,y9(n,t)}}var SD={readContext:_l,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},vle={readContext:_l,useCallback:function(n,e){return Zc().memoizedState=[n,e===void 0?null:e],n},useContext:_l,useEffect:zV,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,uL(4194308,4,oY.bind(null,e,n),t)},useLayoutEffect:function(n,e){return uL(4194308,4,n,e)},useInsertionEffect:function(n,e){return uL(4,2,n,e)},useMemo:function(n,e){var t=Zc();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Zc();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=ple.bind(null,oo,n),[i.memoizedState,n]},useRef:function(n){var e=Zc();return n={current:n},e.memoizedState=n},useState:HV,useDebugValue:$9,useDeferredValue:function(n){return Zc().memoizedState=n},useTransition:function(){var n=HV(!1),e=n[0];return n=fle.bind(null,n[1]),Zc().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=oo,o=Zc();if(Yn){if(t===void 0)throw Error(We(407));t=t()}else{if(t=e(),ur===null)throw Error(We(349));rm&30||YZ(i,e,t)}o.memoizedState=t;var r={value:t,getSnapshot:e};return o.queue=r,zV(QZ.bind(null,i,r,n),[n]),i.flags|=2048,my(9,XZ.bind(null,i,r,t,e),void 0,null),t},useId:function(){var n=Zc(),e=ur.identifierPrefix;if(Yn){var t=Du,i=Lu;t=(i&~(1<<32-ac(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=fy++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=gle++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ble={readContext:_l,useCallback:sY,useContext:_l,useEffect:U9,useImperativeHandle:rY,useInsertionEffect:iY,useLayoutEffect:nY,useMemo:aY,useReducer:wR,useRef:tY,useState:function(){return wR(py)},useDebugValue:$9,useDeferredValue:function(n){var e=Cl();return lY(e,Ko.memoizedState,n)},useTransition:function(){var n=wR(py)[0],e=Cl().memoizedState;return[n,e]},useMutableSource:GZ,useSyncExternalStore:ZZ,useId:cY,unstable_isNewReconciler:!1},_le={readContext:_l,useCallback:sY,useContext:_l,useEffect:U9,useImperativeHandle:rY,useInsertionEffect:iY,useLayoutEffect:nY,useMemo:aY,useReducer:SR,useRef:tY,useState:function(){return SR(py)},useDebugValue:$9,useDeferredValue:function(n){var e=Cl();return Ko===null?e.memoizedState=n:lY(e,Ko.memoizedState,n)},useTransition:function(){var n=SR(py)[0],e=Cl().memoizedState;return[n,e]},useMutableSource:GZ,useSyncExternalStore:ZZ,useId:cY,unstable_isNewReconciler:!1};function f_(n,e){try{var t="",i=e;do t+=qse(i),i=i.return;while(i);var o=t}catch(r){o=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:e,stack:o,digest:null}}function xR(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function oO(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Cle=typeof WeakMap=="function"?WeakMap:Map;function gY(n,e,t){t=$u(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){kD||(kD=!0,fO=i),oO(n,e)},t}function fY(n,e,t){t=$u(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var o=e.value;t.payload=function(){return i(o)},t.callback=function(){oO(n,e)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){oO(n,e),typeof i!="function"&&(Eg===null?Eg=new Set([this]):Eg.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function UV(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new Cle;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(t)||(o.add(t),n=Ale.bind(null,n,e,t),e.then(n,n))}function $V(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function jV(n,e,t,i,o){return n.mode&1?(n.flags|=65536,n.lanes=o,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=$u(-1,1),e.tag=2,Dg(t,e,1))),t.lanes|=1),n)}var yle=bh.ReactCurrentOwner,Qs=!1;function vs(n,e,t,i){e.child=n===null?KZ(e,null,t,i):h_(e,n.child,t,i)}function KV(n,e,t,i,o){t=t.render;var r=e.ref;return Nb(e,o),i=H9(n,e,t,i,r,o),t=z9(),n!==null&&!Qs?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,ah(n,e,o)):(Yn&&t&&T9(e),e.flags|=1,vs(n,e,i,o),e.child)}function qV(n,e,t,i,o){if(n===null){var r=t.type;return typeof r=="function"&&!Q9(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,pY(n,e,r,i,o)):(n=pL(t.type,null,i,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!(n.lanes&o)){var s=r.memoizedProps;if(t=t.compare,t=t!==null?t:ly,t(s,i)&&n.ref===e.ref)return ah(n,e,o)}return e.flags|=1,n=Ig(r,i),n.ref=e.ref,n.return=e,e.child=n}function pY(n,e,t,i,o){if(n!==null){var r=n.memoizedProps;if(ly(r,i)&&n.ref===e.ref)if(Qs=!1,e.pendingProps=i=r,(n.lanes&o)!==0)n.flags&131072&&(Qs=!0);else return e.lanes=n.lanes,ah(n,e,o)}return rO(n,e,t,i,o)}function mY(n,e,t){var i=e.pendingProps,o=i.children,r=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fn(Jv,Ca),Ca|=t;else{if(!(t&1073741824))return n=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Fn(Jv,Ca),Ca|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:t,Fn(Jv,Ca),Ca|=i}else r!==null?(i=r.baseLanes|t,e.memoizedState=null):i=t,Fn(Jv,Ca),Ca|=i;return vs(n,e,o,t),e.child}function vY(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function rO(n,e,t,i,o){var r=ta(t)?nm:ss.current;return r=d_(e,r),Nb(e,o),t=H9(n,e,t,i,r,o),i=z9(),n!==null&&!Qs?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,ah(n,e,o)):(Yn&&i&&T9(e),e.flags|=1,vs(n,e,t,o),e.child)}function GV(n,e,t,i,o){if(ta(t)){var r=!0;pD(e)}else r=!1;if(Nb(e,o),e.stateNode===null)hL(n,e),$Z(e,t,i),nO(e,t,i,o),i=!0;else if(n===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=t.contextType;typeof c=="object"&&c!==null?c=_l(c):(c=ta(t)?nm:ss.current,c=d_(e,c));var d=t.getDerivedStateFromProps,u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==i||l!==c)&&WV(e,s,i,c),Gh=!1;var h=e.memoizedState;s.state=h,CD(e,i,s,o),l=e.memoizedState,a!==i||h!==l||ea.current||Gh?(typeof d=="function"&&(iO(e,t,d,i),l=e.memoizedState),(a=Gh||BV(e,t,a,i,h,l,c))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,zZ(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Bl(e.type,a),s.props=c,u=e.pendingProps,h=s.context,l=t.contextType,typeof l=="object"&&l!==null?l=_l(l):(l=ta(t)?nm:ss.current,l=d_(e,l));var g=t.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==u||h!==l)&&WV(e,s,i,l),Gh=!1,h=e.memoizedState,s.state=h,CD(e,i,s,o);var f=e.memoizedState;a!==u||h!==f||ea.current||Gh?(typeof g=="function"&&(iO(e,t,g,i),f=e.memoizedState),(c=Gh||BV(e,t,c,i,h,f,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,f,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,f,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=f),s.props=i,s.state=f,s.context=l,i=c):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),i=!1)}return sO(n,e,t,i,r,o)}function sO(n,e,t,i,o,r){vY(n,e);var s=(e.flags&128)!==0;if(!i&&!s)return o&&MV(e,t,!1),ah(n,e,r);i=e.stateNode,yle.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&s?(e.child=h_(e,n.child,null,r),e.child=h_(e,null,a,r)):vs(n,e,a,r),e.memoizedState=i.state,o&&MV(e,t,!0),e.child}function bY(n){var e=n.stateNode;e.pendingContext?RV(n,e.pendingContext,e.pendingContext!==e.context):e.context&&RV(n,e.context,!1),F9(n,e.containerInfo)}function ZV(n,e,t,i,o){return u_(),N9(o),e.flags|=256,vs(n,e,t,i),e.child}var aO={dehydrated:null,treeContext:null,retryLane:0};function lO(n){return{baseLanes:n,cachePool:null,transitions:null}}function _Y(n,e,t){var i=e.pendingProps,o=Jn.current,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=n!==null&&n.memoizedState===null?!1:(o&2)!==0),a?(r=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(o|=1),Fn(Jn,o&1),n===null)return eO(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,n=i.fallback,r?(i=e.mode,r=e.child,s={mode:"hidden",children:s},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=s):r=iT(s,i,0,null),n=Up(n,i,t,null),r.return=e,n.return=e,r.sibling=n,e.child=r,e.child.memoizedState=lO(t),e.memoizedState=aO,n):j9(e,s));if(o=n.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return wle(n,e,s,i,a,o,t);if(r){r=i.fallback,s=e.mode,o=n.child,a=o.sibling;var l={mode:"hidden",children:i.children};return!(s&1)&&e.child!==o?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ig(o,l),i.subtreeFlags=o.subtreeFlags&14680064),a!==null?r=Ig(a,r):(r=Up(r,s,t,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,s=n.child.memoizedState,s=s===null?lO(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},r.memoizedState=s,r.childLanes=n.childLanes&~t,e.memoizedState=aO,i}return r=n.child,n=r.sibling,i=Ig(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function j9(n,e){return e=iT({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function wx(n,e,t,i){return i!==null&&N9(i),h_(e,n.child,null,t),n=j9(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function wle(n,e,t,i,o,r,s){if(t)return e.flags&256?(e.flags&=-257,i=xR(Error(We(422))),wx(n,e,s,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(r=i.fallback,o=e.mode,i=iT({mode:"visible",children:i.children},o,0,null),r=Up(r,o,s,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&h_(e,n.child,null,s),e.child.memoizedState=lO(s),e.memoizedState=aO,r);if(!(e.mode&1))return wx(n,e,s,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(We(419)),i=xR(r,i,void 0),wx(n,e,s,i)}if(a=(s&n.childLanes)!==0,Qs||a){if(i=ur,i!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|s)?0:o,o!==0&&o!==r.retryLane&&(r.retryLane=o,sh(n,o),lc(i,n,o,-1))}return X9(),i=xR(Error(We(421))),wx(n,e,s,i)}return o.data==="$?"?(e.flags|=128,e.child=n.child,e=Ple.bind(null,n),o._reactRetry=e,null):(n=r.treeContext,ka=Lg(o.nextSibling),Ia=e,Yn=!0,ql=null,n!==null&&(ol[rl++]=Lu,ol[rl++]=Du,ol[rl++]=om,Lu=n.id,Du=n.overflow,om=e),e=j9(e,i.children),e.flags|=4096,e)}function YV(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),tO(n.return,e,t)}function kR(n,e,t,i,o){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:o}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=t,r.tailMode=o)}function CY(n,e,t){var i=e.pendingProps,o=i.revealOrder,r=i.tail;if(vs(n,e,i.children,t),i=Jn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&YV(n,t,e);else if(n.tag===19)YV(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Fn(Jn,i),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(t=e.child,o=null;t!==null;)n=t.alternate,n!==null&&yD(n)===null&&(o=t),t=t.sibling;t=o,t===null?(o=e.child,e.child=null):(o=t.sibling,t.sibling=null),kR(e,!1,o,t,r);break;case"backwards":for(t=null,o=e.child,e.child=null;o!==null;){if(n=o.alternate,n!==null&&yD(n)===null){e.child=o;break}n=o.sibling,o.sibling=t,t=o,o=n}kR(e,!0,t,null,r);break;case"together":kR(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hL(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ah(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),sm|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(We(153));if(e.child!==null){for(n=e.child,t=Ig(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ig(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Sle(n,e,t){switch(e.tag){case 3:bY(e),u_();break;case 5:qZ(e);break;case 1:ta(e.type)&&pD(e);break;case 4:F9(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,o=e.memoizedProps.value;Fn(bD,i._currentValue),i._currentValue=o;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Fn(Jn,Jn.current&1),e.flags|=128,null):t&e.child.childLanes?_Y(n,e,t):(Fn(Jn,Jn.current&1),n=ah(n,e,t),n!==null?n.sibling:null);Fn(Jn,Jn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return CY(n,e,t);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Fn(Jn,Jn.current),i)break;return null;case 22:case 23:return e.lanes=0,mY(n,e,t)}return ah(n,e,t)}var yY,cO,wY,SY;yY=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};cO=function(){};wY=function(n,e,t,i){var o=n.memoizedProps;if(o!==i){n=e.stateNode,Dp(yd.current);var r=null;switch(t){case"input":o=NP(n,o),i=NP(n,i),r=[];break;case"select":o=so({},o,{value:void 0}),i=so({},i,{value:void 0}),r=[];break;case"textarea":o=AP(n,o),i=AP(n,i),r=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=gD)}OP(t,i);var s;t=null;for(c in o)if(!i.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ty.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var l=i[c];if(a=o!=null?o[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(t||(t={}),t[s]=l[s])}else t||(r||(r=[]),r.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ty.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Vn("scroll",n),r||a===l||(r=[])):(r=r||[]).push(c,l))}t&&(r=r||[]).push("style",t);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};SY=function(n,e,t,i){t!==i&&(e.flags|=4)};function G0(n,e){if(!Yn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Gr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var o=n.child;o!==null;)t|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=n,o=o.sibling;else for(o=n.child;o!==null;)t|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=n,o=o.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function xle(n,e,t){var i=e.pendingProps;switch(I9(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(e),null;case 1:return ta(e.type)&&fD(),Gr(e),null;case 3:return i=e.stateNode,g_(),jn(ea),jn(ss),W9(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Cx(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ql!==null&&(vO(ql),ql=null))),cO(n,e),Gr(e),null;case 5:B9(e);var o=Dp(gy.current);if(t=e.type,n!==null&&e.stateNode!=null)wY(n,e,t,i,o),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(We(166));return Gr(e),null}if(n=Dp(yd.current),Cx(e)){i=e.stateNode,t=e.type;var r=e.memoizedProps;switch(i[od]=e,i[uy]=r,n=(e.mode&1)!==0,t){case"dialog":Vn("cancel",i),Vn("close",i);break;case"iframe":case"object":case"embed":Vn("load",i);break;case"video":case"audio":for(o=0;o<O1.length;o++)Vn(O1[o],i);break;case"source":Vn("error",i);break;case"img":case"image":case"link":Vn("error",i),Vn("load",i);break;case"details":Vn("toggle",i);break;case"input":rV(i,r),Vn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},Vn("invalid",i);break;case"textarea":aV(i,r),Vn("invalid",i)}OP(t,r),o=null;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];s==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&_x(i.textContent,a,n),o=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&_x(i.textContent,a,n),o=["children",""+a]):ty.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Vn("scroll",i)}switch(t){case"input":ux(i),sV(i,r,!0);break;case"textarea":ux(i),lV(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=gD)}i=o,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=YG(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=s.createElement(t,{is:i.is}):(n=s.createElement(t),t==="select"&&(s=n,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):n=s.createElementNS(n,t),n[od]=e,n[uy]=i,yY(n,e,!1,!1),e.stateNode=n;e:{switch(s=FP(t,i),t){case"dialog":Vn("cancel",n),Vn("close",n),o=i;break;case"iframe":case"object":case"embed":Vn("load",n),o=i;break;case"video":case"audio":for(o=0;o<O1.length;o++)Vn(O1[o],n);o=i;break;case"source":Vn("error",n),o=i;break;case"img":case"image":case"link":Vn("error",n),Vn("load",n),o=i;break;case"details":Vn("toggle",n),o=i;break;case"input":rV(n,i),o=NP(n,i),Vn("invalid",n);break;case"option":o=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},o=so({},i,{value:void 0}),Vn("invalid",n);break;case"textarea":aV(n,i),o=AP(n,i),Vn("invalid",n);break;default:o=i}OP(t,o),a=o;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?JG(n,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XG(n,l)):r==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&iy(n,l):typeof l=="number"&&iy(n,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(ty.hasOwnProperty(r)?l!=null&&r==="onScroll"&&Vn("scroll",n):l!=null&&p9(n,r,l,s))}switch(t){case"input":ux(n),sV(n,i,!1);break;case"textarea":ux(n),lV(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Zg(i.value));break;case"select":n.multiple=!!i.multiple,r=i.value,r!=null?Db(n,!!i.multiple,r,!1):i.defaultValue!=null&&Db(n,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(n.onclick=gD)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gr(e),null;case 6:if(n&&e.stateNode!=null)SY(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(We(166));if(t=Dp(gy.current),Dp(yd.current),Cx(e)){if(i=e.stateNode,t=e.memoizedProps,i[od]=e,(r=i.nodeValue!==t)&&(n=Ia,n!==null))switch(n.tag){case 3:_x(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&_x(i.nodeValue,t,(n.mode&1)!==0)}r&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[od]=e,e.stateNode=i}return Gr(e),null;case 13:if(jn(Jn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Yn&&ka!==null&&e.mode&1&&!(e.flags&128))VZ(),u_(),e.flags|=98560,r=!1;else if(r=Cx(e),i!==null&&i.dehydrated!==null){if(n===null){if(!r)throw Error(We(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(We(317));r[od]=e}else u_(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gr(e),r=!1}else ql!==null&&(vO(ql),ql=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Jn.current&1?Zo===0&&(Zo=3):X9())),e.updateQueue!==null&&(e.flags|=4),Gr(e),null);case 4:return g_(),cO(n,e),n===null&&cy(e.stateNode.containerInfo),Gr(e),null;case 10:return A9(e.type._context),Gr(e),null;case 17:return ta(e.type)&&fD(),Gr(e),null;case 19:if(jn(Jn),r=e.memoizedState,r===null)return Gr(e),null;if(i=(e.flags&128)!==0,s=r.rendering,s===null)if(i)G0(r,!1);else{if(Zo!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(s=yD(n),s!==null){for(e.flags|=128,G0(r,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)r=t,n=i,r.flags&=14680066,s=r.alternate,s===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,n=s.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Fn(Jn,Jn.current&1|2),e.child}n=n.sibling}r.tail!==null&&Lo()>p_&&(e.flags|=128,i=!0,G0(r,!1),e.lanes=4194304)}else{if(!i)if(n=yD(s),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),G0(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Yn)return Gr(e),null}else 2*Lo()-r.renderingStartTime>p_&&t!==1073741824&&(e.flags|=128,i=!0,G0(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Lo(),e.sibling=null,t=Jn.current,Fn(Jn,i?t&1|2:t&1),e):(Gr(e),null);case 22:case 23:return Y9(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ca&1073741824&&(Gr(e),e.subtreeFlags&6&&(e.flags|=8192)):Gr(e),null;case 24:return null;case 25:return null}throw Error(We(156,e.tag))}function kle(n,e){switch(I9(e),e.tag){case 1:return ta(e.type)&&fD(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return g_(),jn(ea),jn(ss),W9(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return B9(e),null;case 13:if(jn(Jn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(We(340));u_()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return jn(Jn),null;case 4:return g_(),null;case 10:return A9(e.type._context),null;case 22:case 23:return Y9(),null;case 24:return null;default:return null}}var Sx=!1,es=!1,Lle=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Qv(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){fo(n,e,i)}else t.current=null}function dO(n,e,t){try{t()}catch(i){fo(n,e,i)}}var XV=!1;function Dle(n,e){if(qP=dD,n=DZ(),E9(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var o=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var s=0,a=-1,l=-1,c=0,d=0,u=n,h=null;t:for(;;){for(var g;u!==t||o!==0&&u.nodeType!==3||(a=s+o),u!==r||i!==0&&u.nodeType!==3||(l=s+i),u.nodeType===3&&(s+=u.nodeValue.length),(g=u.firstChild)!==null;)h=u,u=g;for(;;){if(u===n)break t;if(h===t&&++c===o&&(a=s),h===r&&++d===i&&(l=s),(g=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=g}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(GP={focusedElem:n,selectionRange:t},dD=!1,ct=e;ct!==null;)if(e=ct,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ct=n;else for(;ct!==null;){e=ct;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var p=f.memoizedProps,b=f.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?p:Bl(e.type,p),b);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(y){fo(e,e.return,y)}if(n=e.sibling,n!==null){n.return=e.return,ct=n;break}ct=e.return}return f=XV,XV=!1,f}function fC(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&n)===n){var r=o.destroy;o.destroy=void 0,r!==void 0&&dO(e,t,r)}o=o.next}while(o!==i)}}function eT(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function uO(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function xY(n){var e=n.alternate;e!==null&&(n.alternate=null,xY(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[od],delete e[uy],delete e[XP],delete e[cle],delete e[dle])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function kY(n){return n.tag===5||n.tag===3||n.tag===4}function QV(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||kY(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hO(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=gD));else if(i!==4&&(n=n.child,n!==null))for(hO(n,e,t),n=n.sibling;n!==null;)hO(n,e,t),n=n.sibling}function gO(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(gO(n,e,t),n=n.sibling;n!==null;)gO(n,e,t),n=n.sibling}var br=null,Hl=!1;function Eh(n,e,t){for(t=t.child;t!==null;)LY(n,e,t),t=t.sibling}function LY(n,e,t){if(Cd&&typeof Cd.onCommitFiberUnmount=="function")try{Cd.onCommitFiberUnmount(KE,t)}catch{}switch(t.tag){case 5:es||Qv(t,e);case 6:var i=br,o=Hl;br=null,Eh(n,e,t),br=i,Hl=o,br!==null&&(Hl?(n=br,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):br.removeChild(t.stateNode));break;case 18:br!==null&&(Hl?(n=br,t=t.stateNode,n.nodeType===8?bR(n.parentNode,t):n.nodeType===1&&bR(n,t),sy(n)):bR(br,t.stateNode));break;case 4:i=br,o=Hl,br=t.stateNode.containerInfo,Hl=!0,Eh(n,e,t),br=i,Hl=o;break;case 0:case 11:case 14:case 15:if(!es&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var r=o,s=r.destroy;r=r.tag,s!==void 0&&(r&2||r&4)&&dO(t,e,s),o=o.next}while(o!==i)}Eh(n,e,t);break;case 1:if(!es&&(Qv(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){fo(t,e,a)}Eh(n,e,t);break;case 21:Eh(n,e,t);break;case 22:t.mode&1?(es=(i=es)||t.memoizedState!==null,Eh(n,e,t),es=i):Eh(n,e,t);break;default:Eh(n,e,t)}}function JV(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Lle),e.forEach(function(i){var o=Ole.bind(null,n,i);t.has(i)||(t.add(i),i.then(o,o))})}}function Il(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];try{var r=n,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:br=a.stateNode,Hl=!1;break e;case 3:br=a.stateNode.containerInfo,Hl=!0;break e;case 4:br=a.stateNode.containerInfo,Hl=!0;break e}a=a.return}if(br===null)throw Error(We(160));LY(r,s,o),br=null,Hl=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){fo(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DY(e,n),e=e.sibling}function DY(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Il(e,n),Bc(n),i&4){try{fC(3,n,n.return),eT(3,n)}catch(p){fo(n,n.return,p)}try{fC(5,n,n.return)}catch(p){fo(n,n.return,p)}}break;case 1:Il(e,n),Bc(n),i&512&&t!==null&&Qv(t,t.return);break;case 5:if(Il(e,n),Bc(n),i&512&&t!==null&&Qv(t,t.return),n.flags&32){var o=n.stateNode;try{iy(o,"")}catch(p){fo(n,n.return,p)}}if(i&4&&(o=n.stateNode,o!=null)){var r=n.memoizedProps,s=t!==null?t.memoizedProps:r,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&GG(o,r),FP(a,s);var c=FP(a,r);for(s=0;s<l.length;s+=2){var d=l[s],u=l[s+1];d==="style"?JG(o,u):d==="dangerouslySetInnerHTML"?XG(o,u):d==="children"?iy(o,u):p9(o,d,u,c)}switch(a){case"input":RP(o,r);break;case"textarea":ZG(o,r);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?Db(o,!!r.multiple,g,!1):h!==!!r.multiple&&(r.defaultValue!=null?Db(o,!!r.multiple,r.defaultValue,!0):Db(o,!!r.multiple,r.multiple?[]:"",!1))}o[uy]=r}catch(p){fo(n,n.return,p)}}break;case 6:if(Il(e,n),Bc(n),i&4){if(n.stateNode===null)throw Error(We(162));o=n.stateNode,r=n.memoizedProps;try{o.nodeValue=r}catch(p){fo(n,n.return,p)}}break;case 3:if(Il(e,n),Bc(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{sy(e.containerInfo)}catch(p){fo(n,n.return,p)}break;case 4:Il(e,n),Bc(n);break;case 13:Il(e,n),Bc(n),o=n.child,o.flags&8192&&(r=o.memoizedState!==null,o.stateNode.isHidden=r,!r||o.alternate!==null&&o.alternate.memoizedState!==null||(G9=Lo())),i&4&&JV(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(es=(c=es)||d,Il(e,n),es=c):Il(e,n),Bc(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(ct=n,d=n.child;d!==null;){for(u=ct=d;ct!==null;){switch(h=ct,g=h.child,h.tag){case 0:case 11:case 14:case 15:fC(4,h,h.return);break;case 1:Qv(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){i=h,t=h.return;try{e=i,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(p){fo(i,t,p)}}break;case 5:Qv(h,h.return);break;case 22:if(h.memoizedState!==null){tH(u);continue}}g!==null?(g.return=h,ct=g):tH(u)}d=d.sibling}e:for(d=null,u=n;;){if(u.tag===5){if(d===null){d=u;try{o=u.stateNode,c?(r=o.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=u.stateNode,l=u.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=QG("display",s))}catch(p){fo(n,n.return,p)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(p){fo(n,n.return,p)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===n)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Il(e,n),Bc(n),i&4&&JV(n);break;case 21:break;default:Il(e,n),Bc(n)}}function Bc(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(kY(t)){var i=t;break e}t=t.return}throw Error(We(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(iy(o,""),i.flags&=-33);var r=QV(n);gO(n,r,o);break;case 3:case 4:var s=i.stateNode.containerInfo,a=QV(n);hO(n,a,s);break;default:throw Error(We(161))}}catch(l){fo(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Ele(n,e,t){ct=n,EY(n)}function EY(n,e,t){for(var i=(n.mode&1)!==0;ct!==null;){var o=ct,r=o.child;if(o.tag===22&&i){var s=o.memoizedState!==null||Sx;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||es;a=Sx;var c=es;if(Sx=s,(es=l)&&!c)for(ct=o;ct!==null;)s=ct,l=s.child,s.tag===22&&s.memoizedState!==null?iH(o):l!==null?(l.return=s,ct=l):iH(o);for(;r!==null;)ct=r,EY(r),r=r.sibling;ct=o,Sx=a,es=c}eH(n)}else o.subtreeFlags&8772&&r!==null?(r.return=o,ct=r):eH(n)}}function eH(n){for(;ct!==null;){var e=ct;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:es||eT(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!es)if(t===null)i.componentDidMount();else{var o=e.elementType===e.type?t.memoizedProps:Bl(e.type,t.memoizedProps);i.componentDidUpdate(o,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&FV(e,r,i);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}FV(e,s,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&sy(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}es||e.flags&512&&uO(e)}catch(h){fo(e,e.return,h)}}if(e===n){ct=null;break}if(t=e.sibling,t!==null){t.return=e.return,ct=t;break}ct=e.return}}function tH(n){for(;ct!==null;){var e=ct;if(e===n){ct=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ct=t;break}ct=e.return}}function iH(n){for(;ct!==null;){var e=ct;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{eT(4,e)}catch(l){fo(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var o=e.return;try{i.componentDidMount()}catch(l){fo(e,o,l)}}var r=e.return;try{uO(e)}catch(l){fo(e,r,l)}break;case 5:var s=e.return;try{uO(e)}catch(l){fo(e,s,l)}}}catch(l){fo(e,e.return,l)}if(e===n){ct=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ct=a;break}ct=e.return}}var Tle=Math.ceil,xD=bh.ReactCurrentDispatcher,K9=bh.ReactCurrentOwner,ml=bh.ReactCurrentBatchConfig,Ui=0,ur=null,Wo=null,Ar=0,Ca=0,Jv=Tf(0),Zo=0,vy=null,sm=0,tT=0,q9=0,pC=null,Ks=null,G9=0,p_=1/0,au=null,kD=!1,fO=null,Eg=null,xx=!1,sg=null,LD=0,mC=0,pO=null,gL=-1,fL=0;function ws(){return Ui&6?Lo():gL!==-1?gL:gL=Lo()}function Tg(n){return n.mode&1?Ui&2&&Ar!==0?Ar&-Ar:hle.transition!==null?(fL===0&&(fL=uZ()),fL):(n=hn,n!==0||(n=window.event,n=n===void 0?16:bZ(n.type)),n):1}function lc(n,e,t,i){if(50<mC)throw mC=0,pO=null,Error(We(185));sS(n,t,i),(!(Ui&2)||n!==ur)&&(n===ur&&(!(Ui&2)&&(tT|=t),Zo===4&&Qh(n,Ar)),ia(n,i),t===1&&Ui===0&&!(e.mode&1)&&(p_=Lo()+500,XE&&If()))}function ia(n,e){var t=n.callbackNode;hae(n,e);var i=cD(n,n===ur?Ar:0);if(i===0)t!==null&&uV(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&uV(t),e===1)n.tag===0?ule(nH.bind(null,n)):FZ(nH.bind(null,n)),ale(function(){!(Ui&6)&&If()}),t=null;else{switch(hZ(i)){case 1:t=C9;break;case 4:t=cZ;break;case 16:t=lD;break;case 536870912:t=dZ;break;default:t=lD}t=OY(t,TY.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function TY(n,e){if(gL=-1,fL=0,Ui&6)throw Error(We(327));var t=n.callbackNode;if(Rb()&&n.callbackNode!==t)return null;var i=cD(n,n===ur?Ar:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=DD(n,i);else{e=i;var o=Ui;Ui|=2;var r=NY();(ur!==n||Ar!==e)&&(au=null,p_=Lo()+500,zp(n,e));do try{Rle();break}catch(a){IY(n,a)}while(!0);M9(),xD.current=r,Ui=o,Wo!==null?e=0:(ur=null,Ar=0,e=Zo)}if(e!==0){if(e===2&&(o=zP(n),o!==0&&(i=o,e=mO(n,o))),e===1)throw t=vy,zp(n,0),Qh(n,i),ia(n,Lo()),t;if(e===6)Qh(n,i);else{if(o=n.current.alternate,!(i&30)&&!Ile(o)&&(e=DD(n,i),e===2&&(r=zP(n),r!==0&&(i=r,e=mO(n,r))),e===1))throw t=vy,zp(n,0),Qh(n,i),ia(n,Lo()),t;switch(n.finishedWork=o,n.finishedLanes=i,e){case 0:case 1:throw Error(We(345));case 2:sp(n,Ks,au);break;case 3:if(Qh(n,i),(i&130023424)===i&&(e=G9+500-Lo(),10<e)){if(cD(n,0)!==0)break;if(o=n.suspendedLanes,(o&i)!==i){ws(),n.pingedLanes|=n.suspendedLanes&o;break}n.timeoutHandle=YP(sp.bind(null,n,Ks,au),e);break}sp(n,Ks,au);break;case 4:if(Qh(n,i),(i&4194240)===i)break;for(e=n.eventTimes,o=-1;0<i;){var s=31-ac(i);r=1<<s,s=e[s],s>o&&(o=s),i&=~r}if(i=o,i=Lo()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Tle(i/1960))-i,10<i){n.timeoutHandle=YP(sp.bind(null,n,Ks,au),i);break}sp(n,Ks,au);break;case 5:sp(n,Ks,au);break;default:throw Error(We(329))}}}return ia(n,Lo()),n.callbackNode===t?TY.bind(null,n):null}function mO(n,e){var t=pC;return n.current.memoizedState.isDehydrated&&(zp(n,e).flags|=256),n=DD(n,e),n!==2&&(e=Ks,Ks=t,e!==null&&vO(e)),n}function vO(n){Ks===null?Ks=n:Ks.push.apply(Ks,n)}function Ile(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var o=t[i],r=o.getSnapshot;o=o.value;try{if(!mc(r(),o))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qh(n,e){for(e&=~q9,e&=~tT,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ac(e),i=1<<t;n[t]=-1,e&=~i}}function nH(n){if(Ui&6)throw Error(We(327));Rb();var e=cD(n,0);if(!(e&1))return ia(n,Lo()),null;var t=DD(n,e);if(n.tag!==0&&t===2){var i=zP(n);i!==0&&(e=i,t=mO(n,i))}if(t===1)throw t=vy,zp(n,0),Qh(n,e),ia(n,Lo()),t;if(t===6)throw Error(We(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,sp(n,Ks,au),ia(n,Lo()),null}function Z9(n,e){var t=Ui;Ui|=1;try{return n(e)}finally{Ui=t,Ui===0&&(p_=Lo()+500,XE&&If())}}function am(n){sg!==null&&sg.tag===0&&!(Ui&6)&&Rb();var e=Ui;Ui|=1;var t=ml.transition,i=hn;try{if(ml.transition=null,hn=1,n)return n()}finally{hn=i,ml.transition=t,Ui=e,!(Ui&6)&&If()}}function Y9(){Ca=Jv.current,jn(Jv)}function zp(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,sle(t)),Wo!==null)for(t=Wo.return;t!==null;){var i=t;switch(I9(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&fD();break;case 3:g_(),jn(ea),jn(ss),W9();break;case 5:B9(i);break;case 4:g_();break;case 13:jn(Jn);break;case 19:jn(Jn);break;case 10:A9(i.type._context);break;case 22:case 23:Y9()}t=t.return}if(ur=n,Wo=n=Ig(n.current,null),Ar=Ca=e,Zo=0,vy=null,q9=tT=sm=0,Ks=pC=null,Lp!==null){for(e=0;e<Lp.length;e++)if(t=Lp[e],i=t.interleaved,i!==null){t.interleaved=null;var o=i.next,r=t.pending;if(r!==null){var s=r.next;r.next=o,i.next=s}t.pending=i}Lp=null}return n}function IY(n,e){do{var t=Wo;try{if(M9(),dL.current=SD,wD){for(var i=oo.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}wD=!1}if(rm=0,lr=Ko=oo=null,gC=!1,fy=0,K9.current=null,t===null||t.return===null){Zo=1,vy=e,Wo=null;break}e:{var r=n,s=t.return,a=t,l=e;if(e=Ar,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=$V(s);if(g!==null){g.flags&=-257,jV(g,s,a,r,e),g.mode&1&&UV(r,c,e),e=g,l=c;var f=e.updateQueue;if(f===null){var p=new Set;p.add(l),e.updateQueue=p}else f.add(l);break e}else{if(!(e&1)){UV(r,c,e),X9();break e}l=Error(We(426))}}else if(Yn&&a.mode&1){var b=$V(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),jV(b,s,a,r,e),N9(f_(l,a));break e}}r=l=f_(l,a),Zo!==4&&(Zo=2),pC===null?pC=[r]:pC.push(r),r=s;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var v=gY(r,l,e);OV(r,v);break e;case 1:a=l;var _=r.type,C=r.stateNode;if(!(r.flags&128)&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Eg===null||!Eg.has(C)))){r.flags|=65536,e&=-e,r.lanes|=e;var y=fY(r,a,e);OV(r,y);break e}}r=r.return}while(r!==null)}MY(t)}catch(w){e=w,Wo===t&&t!==null&&(Wo=t=t.return);continue}break}while(!0)}function NY(){var n=xD.current;return xD.current=SD,n===null?SD:n}function X9(){(Zo===0||Zo===3||Zo===2)&&(Zo=4),ur===null||!(sm&268435455)&&!(tT&268435455)||Qh(ur,Ar)}function DD(n,e){var t=Ui;Ui|=2;var i=NY();(ur!==n||Ar!==e)&&(au=null,zp(n,e));do try{Nle();break}catch(o){IY(n,o)}while(!0);if(M9(),Ui=t,xD.current=i,Wo!==null)throw Error(We(261));return ur=null,Ar=0,Zo}function Nle(){for(;Wo!==null;)RY(Wo)}function Rle(){for(;Wo!==null&&!nae();)RY(Wo)}function RY(n){var e=PY(n.alternate,n,Ca);n.memoizedProps=n.pendingProps,e===null?MY(n):Wo=e,K9.current=null}function MY(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=kle(t,e),t!==null){t.flags&=32767,Wo=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Zo=6,Wo=null;return}}else if(t=xle(t,e,Ca),t!==null){Wo=t;return}if(e=e.sibling,e!==null){Wo=e;return}Wo=e=n}while(e!==null);Zo===0&&(Zo=5)}function sp(n,e,t){var i=hn,o=ml.transition;try{ml.transition=null,hn=1,Mle(n,e,t,i)}finally{ml.transition=o,hn=i}return null}function Mle(n,e,t,i){do Rb();while(sg!==null);if(Ui&6)throw Error(We(327));t=n.finishedWork;var o=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(We(177));n.callbackNode=null,n.callbackPriority=0;var r=t.lanes|t.childLanes;if(gae(n,r),n===ur&&(Wo=ur=null,Ar=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||xx||(xx=!0,OY(lD,function(){return Rb(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=ml.transition,ml.transition=null;var s=hn;hn=1;var a=Ui;Ui|=4,K9.current=null,Dle(n,t),DY(t,n),Jae(GP),dD=!!qP,GP=qP=null,n.current=t,Ele(t),oae(),Ui=a,hn=s,ml.transition=r}else n.current=t;if(xx&&(xx=!1,sg=n,LD=o),r=n.pendingLanes,r===0&&(Eg=null),aae(t.stateNode),ia(n,Lo()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)o=e[t],i(o.value,{componentStack:o.stack,digest:o.digest});if(kD)throw kD=!1,n=fO,fO=null,n;return LD&1&&n.tag!==0&&Rb(),r=n.pendingLanes,r&1?n===pO?mC++:(mC=0,pO=n):mC=0,If(),null}function Rb(){if(sg!==null){var n=hZ(LD),e=ml.transition,t=hn;try{if(ml.transition=null,hn=16>n?16:n,sg===null)var i=!1;else{if(n=sg,sg=null,LD=0,Ui&6)throw Error(We(331));var o=Ui;for(Ui|=4,ct=n.current;ct!==null;){var r=ct,s=r.child;if(ct.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ct=c;ct!==null;){var d=ct;switch(d.tag){case 0:case 11:case 15:fC(8,d,r)}var u=d.child;if(u!==null)u.return=d,ct=u;else for(;ct!==null;){d=ct;var h=d.sibling,g=d.return;if(xY(d),d===c){ct=null;break}if(h!==null){h.return=g,ct=h;break}ct=g}}}var f=r.alternate;if(f!==null){var p=f.child;if(p!==null){f.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}ct=r}}if(r.subtreeFlags&2064&&s!==null)s.return=r,ct=s;else e:for(;ct!==null;){if(r=ct,r.flags&2048)switch(r.tag){case 0:case 11:case 15:fC(9,r,r.return)}var v=r.sibling;if(v!==null){v.return=r.return,ct=v;break e}ct=r.return}}var _=n.current;for(ct=_;ct!==null;){s=ct;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,ct=C;else e:for(s=_;ct!==null;){if(a=ct,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:eT(9,a)}}catch(w){fo(a,a.return,w)}if(a===s){ct=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,ct=y;break e}ct=a.return}}if(Ui=o,If(),Cd&&typeof Cd.onPostCommitFiberRoot=="function")try{Cd.onPostCommitFiberRoot(KE,n)}catch{}i=!0}return i}finally{hn=t,ml.transition=e}}return!1}function oH(n,e,t){e=f_(t,e),e=gY(n,e,1),n=Dg(n,e,1),e=ws(),n!==null&&(sS(n,1,e),ia(n,e))}function fo(n,e,t){if(n.tag===3)oH(n,n,t);else for(;e!==null;){if(e.tag===3){oH(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Eg===null||!Eg.has(i))){n=f_(t,n),n=fY(e,n,1),e=Dg(e,n,1),n=ws(),e!==null&&(sS(e,1,n),ia(e,n));break}}e=e.return}}function Ale(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=ws(),n.pingedLanes|=n.suspendedLanes&t,ur===n&&(Ar&t)===t&&(Zo===4||Zo===3&&(Ar&130023424)===Ar&&500>Lo()-G9?zp(n,0):q9|=t),ia(n,e)}function AY(n,e){e===0&&(n.mode&1?(e=fx,fx<<=1,!(fx&130023424)&&(fx=4194304)):e=1);var t=ws();n=sh(n,e),n!==null&&(sS(n,e,t),ia(n,t))}function Ple(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),AY(n,t)}function Ole(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,o=n.memoizedState;o!==null&&(t=o.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(We(314))}i!==null&&i.delete(e),AY(n,t)}var PY;PY=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ea.current)Qs=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Qs=!1,Sle(n,e,t);Qs=!!(n.flags&131072)}else Qs=!1,Yn&&e.flags&1048576&&BZ(e,vD,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;hL(n,e),n=e.pendingProps;var o=d_(e,ss.current);Nb(e,t),o=H9(null,e,i,n,o,t);var r=z9();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ta(i)?(r=!0,pD(e)):r=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,O9(e),o.updater=QE,e.stateNode=o,o._reactInternals=e,nO(e,i,n,t),e=sO(null,e,i,!0,r,t)):(e.tag=0,Yn&&r&&T9(e),vs(null,e,o,t),e=e.child),e;case 16:i=e.elementType;e:{switch(hL(n,e),n=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=Ble(i),n=Bl(i,n),o){case 0:e=rO(null,e,i,n,t);break e;case 1:e=GV(null,e,i,n,t);break e;case 11:e=KV(null,e,i,n,t);break e;case 14:e=qV(null,e,i,Bl(i.type,n),t);break e}throw Error(We(306,i,""))}return e;case 0:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Bl(i,o),rO(n,e,i,o,t);case 1:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Bl(i,o),GV(n,e,i,o,t);case 3:e:{if(bY(e),n===null)throw Error(We(387));i=e.pendingProps,r=e.memoizedState,o=r.element,zZ(n,e),CD(e,i,null,t);var s=e.memoizedState;if(i=s.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){o=f_(Error(We(423)),e),e=ZV(n,e,i,t,o);break e}else if(i!==o){o=f_(Error(We(424)),e),e=ZV(n,e,i,t,o);break e}else for(ka=Lg(e.stateNode.containerInfo.firstChild),Ia=e,Yn=!0,ql=null,t=KZ(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(u_(),i===o){e=ah(n,e,t);break e}vs(n,e,i,t)}e=e.child}return e;case 5:return qZ(e),n===null&&eO(e),i=e.type,o=e.pendingProps,r=n!==null?n.memoizedProps:null,s=o.children,ZP(i,o)?s=null:r!==null&&ZP(i,r)&&(e.flags|=32),vY(n,e),vs(n,e,s,t),e.child;case 6:return n===null&&eO(e),null;case 13:return _Y(n,e,t);case 4:return F9(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=h_(e,null,i,t):vs(n,e,i,t),e.child;case 11:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Bl(i,o),KV(n,e,i,o,t);case 7:return vs(n,e,e.pendingProps,t),e.child;case 8:return vs(n,e,e.pendingProps.children,t),e.child;case 12:return vs(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,o=e.pendingProps,r=e.memoizedProps,s=o.value,Fn(bD,i._currentValue),i._currentValue=s,r!==null)if(mc(r.value,s)){if(r.children===o.children&&!ea.current){e=ah(n,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){s=r.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=$u(-1,t&-t),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}r.lanes|=t,l=r.alternate,l!==null&&(l.lanes|=t),tO(r.return,t,e),a.lanes|=t;break}l=l.next}}else if(r.tag===10)s=r.type===e.type?null:r.child;else if(r.tag===18){if(s=r.return,s===null)throw Error(We(341));s.lanes|=t,a=s.alternate,a!==null&&(a.lanes|=t),tO(s,t,e),s=r.sibling}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===e){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}vs(n,e,o.children,t),e=e.child}return e;case 9:return o=e.type,i=e.pendingProps.children,Nb(e,t),o=_l(o),i=i(o),e.flags|=1,vs(n,e,i,t),e.child;case 14:return i=e.type,o=Bl(i,e.pendingProps),o=Bl(i.type,o),qV(n,e,i,o,t);case 15:return pY(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Bl(i,o),hL(n,e),e.tag=1,ta(i)?(n=!0,pD(e)):n=!1,Nb(e,t),$Z(e,i,o),nO(e,i,o,t),sO(null,e,i,!0,n,t);case 19:return CY(n,e,t);case 22:return mY(n,e,t)}throw Error(We(156,e.tag))};function OY(n,e){return lZ(n,e)}function Fle(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ll(n,e,t,i){return new Fle(n,e,t,i)}function Q9(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ble(n){if(typeof n=="function")return Q9(n)?1:0;if(n!=null){if(n=n.$$typeof,n===v9)return 11;if(n===b9)return 14}return 2}function Ig(n,e){var t=n.alternate;return t===null?(t=ll(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function pL(n,e,t,i,o,r){var s=2;if(i=n,typeof n=="function")Q9(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case Uv:return Up(t.children,o,r,e);case m9:s=8,o|=8;break;case DP:return n=ll(12,t,e,o|2),n.elementType=DP,n.lanes=r,n;case EP:return n=ll(13,t,e,o),n.elementType=EP,n.lanes=r,n;case TP:return n=ll(19,t,e,o),n.elementType=TP,n.lanes=r,n;case jG:return iT(t,o,r,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case UG:s=10;break e;case $G:s=9;break e;case v9:s=11;break e;case b9:s=14;break e;case qh:s=16,i=null;break e}throw Error(We(130,n==null?n:typeof n,""))}return e=ll(s,t,e,o),e.elementType=n,e.type=i,e.lanes=r,e}function Up(n,e,t,i){return n=ll(7,n,i,e),n.lanes=t,n}function iT(n,e,t,i){return n=ll(22,n,i,e),n.elementType=jG,n.lanes=t,n.stateNode={isHidden:!1},n}function LR(n,e,t){return n=ll(6,n,null,e),n.lanes=t,n}function DR(n,e,t){return e=ll(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Wle(n,e,t,i,o){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aR(0),this.expirationTimes=aR(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aR(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function J9(n,e,t,i,o,r,s,a,l){return n=new Wle(n,e,t,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=ll(3,null,null,e),n.current=r,r.stateNode=n,r.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},O9(r),n}function Vle(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zv,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function FY(n){if(!n)return Yg;n=n._reactInternals;e:{if(zm(n)!==n||n.tag!==1)throw Error(We(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ta(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(We(171))}if(n.tag===1){var t=n.type;if(ta(t))return OZ(n,t,e)}return e}function BY(n,e,t,i,o,r,s,a,l){return n=J9(t,i,!0,n,o,r,s,a,l),n.context=FY(null),t=n.current,i=ws(),o=Tg(t),r=$u(i,o),r.callback=e??null,Dg(t,r,o),n.current.lanes=o,sS(n,o,i),ia(n,i),n}function nT(n,e,t,i){var o=e.current,r=ws(),s=Tg(o);return t=FY(t),e.context===null?e.context=t:e.pendingContext=t,e=$u(r,s),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Dg(o,e,s),n!==null&&(lc(n,o,s,r),cL(n,o,s)),s}function ED(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function rH(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function e8(n,e){rH(n,e),(n=n.alternate)&&rH(n,e)}function Hle(){return null}var WY=typeof reportError=="function"?reportError:function(n){console.error(n)};function t8(n){this._internalRoot=n}oT.prototype.render=t8.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(We(409));nT(n,e,null,null)};oT.prototype.unmount=t8.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;am(function(){nT(null,n,null,null)}),e[rh]=null}};function oT(n){this._internalRoot=n}oT.prototype.unstable_scheduleHydration=function(n){if(n){var e=pZ();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Xh.length&&e!==0&&e<Xh[t].priority;t++);Xh.splice(t,0,n),t===0&&vZ(n)}};function i8(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function rT(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function sH(){}function zle(n,e,t,i,o){if(o){if(typeof i=="function"){var r=i;i=function(){var c=ED(s);r.call(c)}}var s=BY(e,i,n,0,null,!1,!1,"",sH);return n._reactRootContainer=s,n[rh]=s.current,cy(n.nodeType===8?n.parentNode:n),am(),s}for(;o=n.lastChild;)n.removeChild(o);if(typeof i=="function"){var a=i;i=function(){var c=ED(l);a.call(c)}}var l=J9(n,0,!1,null,null,!1,!1,"",sH);return n._reactRootContainer=l,n[rh]=l.current,cy(n.nodeType===8?n.parentNode:n),am(function(){nT(e,l,t,i)}),l}function sT(n,e,t,i,o){var r=t._reactRootContainer;if(r){var s=r;if(typeof o=="function"){var a=o;o=function(){var l=ED(s);a.call(l)}}nT(e,s,n,o)}else s=zle(t,e,n,o,i);return ED(s)}gZ=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=P1(e.pendingLanes);t!==0&&(y9(e,t|1),ia(e,Lo()),!(Ui&6)&&(p_=Lo()+500,If()))}break;case 13:am(function(){var i=sh(n,1);if(i!==null){var o=ws();lc(i,n,1,o)}}),e8(n,1)}};w9=function(n){if(n.tag===13){var e=sh(n,134217728);if(e!==null){var t=ws();lc(e,n,134217728,t)}e8(n,134217728)}};fZ=function(n){if(n.tag===13){var e=Tg(n),t=sh(n,e);if(t!==null){var i=ws();lc(t,n,e,i)}e8(n,e)}};pZ=function(){return hn};mZ=function(n,e){var t=hn;try{return hn=n,e()}finally{hn=t}};WP=function(n,e,t){switch(e){case"input":if(RP(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var o=YE(i);if(!o)throw Error(We(90));qG(i),RP(i,o)}}}break;case"textarea":ZG(n,t);break;case"select":e=t.value,e!=null&&Db(n,!!t.multiple,e,!1)}};iZ=Z9;nZ=am;var Ule={usingClientEntryPoint:!1,Events:[lS,qv,YE,eZ,tZ,Z9]},Z0={findFiberByHostInstance:kp,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$le={bundleType:Z0.bundleType,version:Z0.version,rendererPackageName:Z0.rendererPackageName,rendererConfig:Z0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bh.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=sZ(n),n===null?null:n.stateNode},findFiberByHostInstance:Z0.findFiberByHostInstance||Hle,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kx.isDisabled&&kx.supportsFiber)try{KE=kx.inject($le),Cd=kx}catch{}}Va.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ule;Va.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i8(e))throw Error(We(200));return Vle(n,e,null,t)};Va.createRoot=function(n,e){if(!i8(n))throw Error(We(299));var t=!1,i="",o=WY;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=J9(n,1,!1,null,null,t,!1,i,o),n[rh]=e.current,cy(n.nodeType===8?n.parentNode:n),new t8(e)};Va.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(We(188)):(n=Object.keys(n).join(","),Error(We(268,n)));return n=sZ(e),n=n===null?null:n.stateNode,n};Va.flushSync=function(n){return am(n)};Va.hydrate=function(n,e,t){if(!rT(e))throw Error(We(200));return sT(null,n,e,!0,t)};Va.hydrateRoot=function(n,e,t){if(!i8(n))throw Error(We(405));var i=t!=null&&t.hydratedSources||null,o=!1,r="",s=WY;if(t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=BY(e,null,n,1,t??null,o,!1,r,s),n[rh]=e.current,cy(n),i)for(n=0;n<i.length;n++)t=i[n],o=t._getVersion,o=o(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,o]:e.mutableSourceEagerHydrationData.push(t,o);return new oT(e)};Va.render=function(n,e,t){if(!rT(e))throw Error(We(200));return sT(null,n,e,!1,t)};Va.unmountComponentAtNode=function(n){if(!rT(n))throw Error(We(40));return n._reactRootContainer?(am(function(){sT(null,null,n,!1,function(){n._reactRootContainer=null,n[rh]=null})}),!0):!1};Va.unstable_batchedUpdates=Z9;Va.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!rT(t))throw Error(We(200));if(n==null||n._reactInternals===void 0)throw Error(We(38));return sT(n,e,t,!1,i)};Va.version="18.2.0-next-9e3b772b8-20220608";function VY(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VY)}catch(n){console.error(n)}}VY(),BG.exports=Va;var n8=BG.exports;const HY=Vm(n8),jle=DG({__proto__:null,default:HY},[n8]);var aH=n8;kP.createRoot=aH.createRoot,kP.hydrateRoot=aH.hydrateRoot;const Kle=De.createContext(null),ER={didCatch:!1,error:null};let qle=class extends De.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=ER}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var t,i,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];(t=(i=this.props).onReset)===null||t===void 0||t.call(i,{args:r,reason:"imperative-api"}),this.setState(ER)}}componentDidCatch(e,t){var i,o;(i=(o=this.props).onError)===null||i===void 0||i.call(o,e,t)}componentDidUpdate(e,t){const{didCatch:i}=this.state,{resetKeys:o}=this.props;if(i&&t.error!==null&&Gle(e.resetKeys,o)){var r,s;(r=(s=this.props).onReset)===null||r===void 0||r.call(s,{next:o,prev:e.resetKeys,reason:"keys"}),this.setState(ER)}}render(){const{children:e,fallbackRender:t,FallbackComponent:i,fallback:o}=this.props,{didCatch:r,error:s}=this.state;let a=e;if(r){const l={error:s,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")a=t(l);else if(i)a=De.createElement(i,l);else if(o===null||De.isValidElement(o))a=o;else throw s}return De.createElement(Kle.Provider,{value:{didCatch:r,error:s,resetErrorBoundary:this.resetErrorBoundary}},a)}};function Gle(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.length!==e.length||n.some((t,i)=>!Object.is(t,e[i]))}/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function po(){return po=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},po.apply(this,arguments)}var So;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(So||(So={}));const lH="popstate";function Zle(n){n===void 0&&(n={});function e(i,o){let{pathname:r,search:s,hash:a}=i.location;return by("",{pathname:r,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:dS(o)}return Xle(e,t,null,n)}function yi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function m_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yle(){return Math.random().toString(36).substr(2,8)}function cH(n,e){return{usr:n.state,key:n.key,idx:e}}function by(n,e,t,i){return t===void 0&&(t=null),po({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?_h(e):e,{state:t,key:e&&e.key||i||Yle()})}function dS(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function _h(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function Xle(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:r=!1}=i,s=o.history,a=So.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(po({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function u(){a=So.Pop;let b=d(),v=b==null?null:b-c;c=b,l&&l({action:a,location:p.location,delta:v})}function h(b,v){a=So.Push;let _=by(p.location,b,v);t&&t(_,b),c=d()+1;let C=cH(_,c),y=p.createHref(_);try{s.pushState(C,"",y)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;o.location.assign(y)}r&&l&&l({action:a,location:p.location,delta:1})}function g(b,v){a=So.Replace;let _=by(p.location,b,v);t&&t(_,b),c=d();let C=cH(_,c),y=p.createHref(_);s.replaceState(C,"",y),r&&l&&l({action:a,location:p.location,delta:0})}function f(b){let v=o.location.origin!=="null"?o.location.origin:o.location.href,_=typeof b=="string"?b:dS(b);return _=_.replace(/ $/,"%20"),yi(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let p={get action(){return a},get location(){return n(o,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(lH,u),l=b,()=>{o.removeEventListener(lH,u),l=null}},createHref(b){return e(o,b)},createURL:f,encodeLocation(b){let v=f(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:g,go(b){return s.go(b)}};return p}var uo;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(uo||(uo={}));const Qle=new Set(["lazy","caseSensitive","path","id","index","children"]);function Jle(n){return n.index===!0}function bO(n,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),n.map((o,r)=>{let s=[...t,r],a=typeof o.id=="string"?o.id:s.join("-");if(yi(o.index!==!0||!o.children,"Cannot specify children on an index route"),yi(!i[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Jle(o)){let l=po({},o,e(o),{id:a});return i[a]=l,l}else{let l=po({},o,e(o),{id:a,children:void 0});return i[a]=l,o.children&&(l.children=bO(o.children,e,s,i)),l}})}function eb(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?_h(e):e,o=uS(i.pathname||"/",t);if(o==null)return null;let r=zY(n);tce(r);let s=null;for(let a=0;s==null&&a<r.length;++a){let l=gce(o);s=dce(r[a],l)}return s}function ece(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function zY(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(r,s,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:s,route:r};l.relativePath.startsWith("/")&&(yi(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=$p([i,l.relativePath]),d=t.concat(l);r.children&&r.children.length>0&&(yi(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),zY(r.children,e,d,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:lce(c,r.index),routesMeta:d})};return n.forEach((r,s)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))o(r,s);else for(let l of UY(r.path))o(r,s,l)}),e}function UY(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return o?[r,""]:[r];let s=UY(i.join("/")),a=[];return a.push(...s.map(l=>l===""?r:[r,l].join("/"))),o&&a.push(...s),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function tce(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:cce(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const ice=/^:[\w-]+$/,nce=3,oce=2,rce=1,sce=10,ace=-2,dH=n=>n==="*";function lce(n,e){let t=n.split("/"),i=t.length;return t.some(dH)&&(i+=ace),e&&(i+=oce),t.filter(o=>!dH(o)).reduce((o,r)=>o+(ice.test(r)?nce:r===""?rce:sce),i)}function cce(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function dce(n,e){let{routesMeta:t}=n,i={},o="/",r=[];for(let s=0;s<t.length;++s){let a=t[s],l=s===t.length-1,c=o==="/"?e:e.slice(o.length)||"/",d=uce({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(i,d.params);let u=a.route;r.push({params:i,pathname:$p([o,d.pathname]),pathnameBase:bce($p([o,d.pathnameBase])),route:u}),d.pathnameBase!=="/"&&(o=$p([o,d.pathnameBase]))}return r}function uce(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=hce(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let r=o[0],s=r.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:i.reduce((c,d,u)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let p=a[u]||"";s=r.slice(0,r.length-p.length).replace(/(.)\/+$/,"$1")}const f=a[u];return g&&!f?c[h]=void 0:c[h]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:s,pattern:n}}function hce(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),m_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function gce(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return m_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function uS(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function fce(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?_h(n):n;return{pathname:t?t.startsWith("/")?t:pce(t,e):e,search:_ce(i),hash:Cce(o)}}function pce(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function TR(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $Y(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mce(n,e){let t=$Y(n);return e?t.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function vce(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=_h(n):(o=po({},n),yi(!o.pathname||!o.pathname.includes("?"),TR("?","pathname","search",o)),yi(!o.pathname||!o.pathname.includes("#"),TR("#","pathname","hash",o)),yi(!o.search||!o.search.includes("#"),TR("#","search","hash",o)));let r=n===""||o.pathname==="",s=r?"/":o.pathname,a;if(s==null)a=t;else{let u=e.length-1;if(!i&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),u-=1;o.pathname=h.join("/")}a=u>=0?e[u]:"/"}let l=fce(o,a),c=s&&s!=="/"&&s.endsWith("/"),d=(r||s===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const $p=n=>n.join("/").replace(/\/\/+/g,"/"),bce=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_ce=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Cce=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class o8{constructor(e,t,i,o){o===void 0&&(o=!1),this.status=e,this.statusText=t||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function jY(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const KY=["post","put","patch","delete"],yce=new Set(KY),wce=["get",...KY],Sce=new Set(wce),xce=new Set([301,302,303,307,308]),kce=new Set([307,308]),IR={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lce={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Y0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dce=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),GY="remix-router-transitions";function Ece(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;yi(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(n.mapRouteProperties)o=n.mapRouteProperties;else if(n.detectErrorBoundary){let J=n.detectErrorBoundary;o=ce=>({hasErrorBoundary:J(ce)})}else o=Dce;let r={},s=bO(n.routes,o,void 0,r),a,l=n.basename||"/",c=po({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},n.future),d=null,u=new Set,h=null,g=null,f=null,p=n.hydrationData!=null,b=eb(s,n.history.location,l),v=null;if(b==null){let J=il(404,{pathname:n.history.location.pathname}),{matches:ce,route:Se}=bH(s);b=ce,v={[Se.id]:J}}let _,C=b.some(J=>J.route.lazy),y=b.some(J=>J.route.loader);if(C)_=!1;else if(!y)_=!0;else if(c.v7_partialHydration){let J=n.hydrationData?n.hydrationData.loaderData:null,ce=n.hydrationData?n.hydrationData.errors:null,Se=ze=>ze.route.loader?ze.route.loader.hydrate===!0?!1:J&&J[ze.route.id]!==void 0||ce&&ce[ze.route.id]!==void 0:!0;if(ce){let ze=b.findIndex(ot=>ce[ot.route.id]!==void 0);_=b.slice(0,ze+1).every(Se)}else _=b.every(Se)}else _=n.hydrationData!=null;let w,S={historyAction:n.history.action,location:n.history.location,matches:b,initialized:_,navigation:IR,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||v,fetchers:new Map,blockers:new Map},x=So.Pop,L=!1,E,O=!1,P=new Map,A=null,F=!1,K=!1,te=[],ye=[],be=new Map,ae=0,Q=-1,_e=new Map,Ie=new Set,se=new Map,Y=new Map,Ne=new Set,tt=new Map,ne=new Map,$e=!1;function Me(){if(d=n.history.listen(J=>{let{action:ce,location:Se,delta:ze}=J;if($e){$e=!1;return}m_(ne.size===0||ze!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ot=Xi({currentLocation:S.location,nextLocation:Se,historyAction:ce});if(ot&&ze!=null){$e=!0,n.history.go(ze*-1),it(ot,{state:"blocked",location:Se,proceed(){it(ot,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),n.history.go(ze)},reset(){let Xt=new Map(S.blockers);Xt.set(ot,Y0),Te({blockers:Xt})}});return}return Ft(ce,Se)}),t){Wce(e,P);let J=()=>Vce(e,P);e.addEventListener("pagehide",J),A=()=>e.removeEventListener("pagehide",J)}return S.initialized||Ft(So.Pop,S.location,{initialHydration:!0}),w}function ni(){d&&d(),A&&A(),u.clear(),E&&E.abort(),S.fetchers.forEach((J,ce)=>le(ce)),S.blockers.forEach((J,ce)=>ui(ce))}function kt(J){return u.add(J),()=>u.delete(J)}function Te(J,ce){ce===void 0&&(ce={}),S=po({},S,J);let Se=[],ze=[];c.v7_fetcherPersist&&S.fetchers.forEach((ot,Xt)=>{ot.state==="idle"&&(Ne.has(Xt)?ze.push(Xt):Se.push(Xt))}),[...u].forEach(ot=>ot(S,{deletedFetchers:ze,unstable_viewTransitionOpts:ce.viewTransitionOpts,unstable_flushSync:ce.flushSync===!0})),c.v7_fetcherPersist&&(Se.forEach(ot=>S.fetchers.delete(ot)),ze.forEach(ot=>le(ot)))}function at(J,ce,Se){var ze,ot;let{flushSync:Xt}=Se===void 0?{}:Se,Vt=S.actionData!=null&&S.navigation.formMethod!=null&&zl(S.navigation.formMethod)&&S.navigation.state==="loading"&&((ze=J.state)==null?void 0:ze._isRedirect)!==!0,bt;ce.actionData?Object.keys(ce.actionData).length>0?bt=ce.actionData:bt=null:Vt?bt=S.actionData:bt=null;let Ct=ce.loaderData?vH(S.loaderData,ce.loaderData,ce.matches||[],ce.errors):S.loaderData,li=S.blockers;li.size>0&&(li=new Map(li),li.forEach((Qi,kn)=>li.set(kn,Y0)));let Qn=L===!0||S.navigation.formMethod!=null&&zl(S.navigation.formMethod)&&((ot=J.state)==null?void 0:ot._isRedirect)!==!0;a&&(s=a,a=void 0),F||x===So.Pop||(x===So.Push?n.history.push(J,J.state):x===So.Replace&&n.history.replace(J,J.state));let ri;if(x===So.Pop){let Qi=P.get(S.location.pathname);Qi&&Qi.has(J.pathname)?ri={currentLocation:S.location,nextLocation:J}:P.has(J.pathname)&&(ri={currentLocation:J,nextLocation:S.location})}else if(O){let Qi=P.get(S.location.pathname);Qi?Qi.add(J.pathname):(Qi=new Set([J.pathname]),P.set(S.location.pathname,Qi)),ri={currentLocation:S.location,nextLocation:J}}Te(po({},ce,{actionData:bt,loaderData:Ct,historyAction:x,location:J,initialized:!0,navigation:IR,revalidation:"idle",restoreScrollPosition:Fc(J,ce.matches||S.matches),preventScrollReset:Qn,blockers:li}),{viewTransitionOpts:ri,flushSync:Xt===!0}),x=So.Pop,L=!1,O=!1,F=!1,K=!1,te=[],ye=[]}async function ai(J,ce){if(typeof J=="number"){n.history.go(J);return}let Se=_O(S.location,S.matches,l,c.v7_prependBasename,J,c.v7_relativeSplatPath,ce==null?void 0:ce.fromRouteId,ce==null?void 0:ce.relative),{path:ze,submission:ot,error:Xt}=uH(c.v7_normalizeFormMethod,!1,Se,ce),Vt=S.location,bt=by(S.location,ze,ce&&ce.state);bt=po({},bt,n.history.encodeLocation(bt));let Ct=ce&&ce.replace!=null?ce.replace:void 0,li=So.Push;Ct===!0?li=So.Replace:Ct===!1||ot!=null&&zl(ot.formMethod)&&ot.formAction===S.location.pathname+S.location.search&&(li=So.Replace);let Qn=ce&&"preventScrollReset"in ce?ce.preventScrollReset===!0:void 0,ri=(ce&&ce.unstable_flushSync)===!0,Qi=Xi({currentLocation:Vt,nextLocation:bt,historyAction:li});if(Qi){it(Qi,{state:"blocked",location:bt,proceed(){it(Qi,{state:"proceeding",proceed:void 0,reset:void 0,location:bt}),ai(J,ce)},reset(){let kn=new Map(S.blockers);kn.set(Qi,Y0),Te({blockers:kn})}});return}return await Ft(li,bt,{submission:ot,pendingError:Xt,preventScrollReset:Qn,replace:ce&&ce.replace,enableViewTransition:ce&&ce.unstable_viewTransition,flushSync:ri})}function Wi(){if(M(),Te({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Ft(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Ft(x||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function Ft(J,ce,Se){E&&E.abort(),E=null,x=J,F=(Se&&Se.startUninterruptedRevalidation)===!0,Mn(S.location,S.matches),L=(Se&&Se.preventScrollReset)===!0,O=(Se&&Se.enableViewTransition)===!0;let ze=a||s,ot=Se&&Se.overrideNavigation,Xt=eb(ze,ce,l),Vt=(Se&&Se.flushSync)===!0;if(!Xt){let kn=il(404,{pathname:ce.pathname}),{matches:Kr,route:Co}=bH(ze);$i(),at(ce,{matches:Kr,loaderData:{},errors:{[Co.id]:kn}},{flushSync:Vt});return}if(S.initialized&&!K&&Mce(S.location,ce)&&!(Se&&Se.submission&&zl(Se.submission.formMethod))){at(ce,{matches:Xt},{flushSync:Vt});return}E=new AbortController;let bt=Q0(n.history,ce,E.signal,Se&&Se.submission),Ct,li;if(Se&&Se.pendingError)li={[vC(Xt).route.id]:Se.pendingError};else if(Se&&Se.submission&&zl(Se.submission.formMethod)){let kn=await Kt(bt,ce,Se.submission,Xt,{replace:Se.replace,flushSync:Vt});if(kn.shortCircuited)return;Ct=kn.pendingActionData,li=kn.pendingActionError,ot=NR(ce,Se.submission),Vt=!1,bt=new Request(bt.url,{signal:bt.signal})}let{shortCircuited:Qn,loaderData:ri,errors:Qi}=await Yt(bt,ce,Xt,ot,Se&&Se.submission,Se&&Se.fetcherSubmission,Se&&Se.replace,Se&&Se.initialHydration===!0,Vt,Ct,li);Qn||(E=null,at(ce,po({matches:Xt},Ct?{actionData:Ct}:{},{loaderData:ri,errors:Qi})))}async function Kt(J,ce,Se,ze,ot){ot===void 0&&(ot={}),M();let Xt=Fce(ce,Se);Te({navigation:Xt},{flushSync:ot.flushSync===!0});let Vt,bt=yO(ze,ce);if(!bt.route.action&&!bt.route.lazy)Vt={type:uo.error,error:il(405,{method:J.method,pathname:ce.pathname,routeId:bt.route.id})};else if(Vt=await X0("action",J,bt,ze,r,o,l,c.v7_relativeSplatPath),J.signal.aborted)return{shortCircuited:!0};if(Tp(Vt)){let Ct;return ot&&ot.replace!=null?Ct=ot.replace:Ct=Vt.location===S.location.pathname+S.location.search,await G(S,Vt,{submission:Se,replace:Ct}),{shortCircuited:!0}}if(tb(Vt)){let Ct=vC(ze,bt.route.id);return(ot&&ot.replace)!==!0&&(x=So.Push),{pendingActionData:{},pendingActionError:{[Ct.route.id]:Vt.error}}}if(Ep(Vt))throw il(400,{type:"defer-action"});return{pendingActionData:{[bt.route.id]:Vt.data}}}async function Yt(J,ce,Se,ze,ot,Xt,Vt,bt,Ct,li,Qn){let ri=ze||NR(ce,ot),Qi=ot||Xt||yH(ri),kn=a||s,[Kr,Co]=hH(n.history,S,Se,Qi,ce,c.v7_partialHydration&&bt===!0,K,te,ye,Ne,se,Ie,kn,l,li,Qn);if($i(Tt=>!(Se&&Se.some(fi=>fi.route.id===Tt))||Kr&&Kr.some(fi=>fi.route.id===Tt)),Q=++ae,Kr.length===0&&Co.length===0){let Tt=ut();return at(ce,po({matches:Se,loaderData:{},errors:Qn||null},li?{actionData:li}:{},Tt?{fetchers:new Map(S.fetchers)}:{}),{flushSync:Ct}),{shortCircuited:!0}}if(!F&&(!c.v7_partialHydration||!bt)){Co.forEach(fi=>{let ir=S.fetchers.get(fi.key),qf=J0(void 0,ir?ir.data:void 0);S.fetchers.set(fi.key,qf)});let Tt=li||S.actionData;Te(po({navigation:ri},Tt?Object.keys(Tt).length===0?{actionData:null}:{actionData:Tt}:{},Co.length>0?{fetchers:new Map(S.fetchers)}:{}),{flushSync:Ct})}Co.forEach(Tt=>{be.has(Tt.key)&&xe(Tt.key),Tt.controller&&be.set(Tt.key,Tt.controller)});let Jd=()=>Co.forEach(Tt=>xe(Tt.key));E&&E.signal.addEventListener("abort",Jd);let{results:lv,loaderResults:Dh,fetcherResults:gt}=await Z(S.matches,Se,Kr,Co,J);if(J.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",Jd),Co.forEach(Tt=>be.delete(Tt.key));let X=_H(lv);if(X){if(X.idx>=Kr.length){let Tt=Co[X.idx-Kr.length].key;Ie.add(Tt)}return await G(S,X.result,{replace:Vt}),{shortCircuited:!0}}let{loaderData:Oe,errors:Qe}=mH(S,Se,Kr,Dh,Qn,Co,gt,tt);tt.forEach((Tt,fi)=>{Tt.subscribe(ir=>{(ir||Tt.done)&&tt.delete(fi)})}),c.v7_partialHydration&&bt&&S.errors&&Object.entries(S.errors).filter(Tt=>{let[fi]=Tt;return!Kr.some(ir=>ir.route.id===fi)}).forEach(Tt=>{let[fi,ir]=Tt;Qe=Object.assign(Qe||{},{[fi]:ir})});let ji=ut(),Wn=ht(Q),mr=ji||Wn||Co.length>0;return po({loaderData:Oe,errors:Qe},mr?{fetchers:new Map(S.fetchers)}:{})}function Rn(J,ce,Se,ze){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");be.has(J)&&xe(J);let ot=(ze&&ze.unstable_flushSync)===!0,Xt=a||s,Vt=_O(S.location,S.matches,l,c.v7_prependBasename,Se,c.v7_relativeSplatPath,ce,ze==null?void 0:ze.relative),bt=eb(Xt,Vt,l);if(!bt){H(J,ce,il(404,{pathname:Vt}),{flushSync:ot});return}let{path:Ct,submission:li,error:Qn}=uH(c.v7_normalizeFormMethod,!0,Vt,ze);if(Qn){H(J,ce,Qn,{flushSync:ot});return}let ri=yO(bt,Ct);if(L=(ze&&ze.preventScrollReset)===!0,li&&zl(li.formMethod)){Os(J,ce,Ct,ri,bt,ot,li);return}se.set(J,{routeId:ce,path:Ct}),re(J,ce,Ct,ri,bt,ot,li)}async function Os(J,ce,Se,ze,ot,Xt,Vt){if(M(),se.delete(J),!ze.route.action&&!ze.route.lazy){let fi=il(405,{method:Vt.formMethod,pathname:Se,routeId:ce});H(J,ce,fi,{flushSync:Xt});return}let bt=S.fetchers.get(J);R(J,Bce(Vt,bt),{flushSync:Xt});let Ct=new AbortController,li=Q0(n.history,Se,Ct.signal,Vt);be.set(J,Ct);let Qn=ae,ri=await X0("action",li,ze,ot,r,o,l,c.v7_relativeSplatPath);if(li.signal.aborted){be.get(J)===Ct&&be.delete(J);return}if(c.v7_fetcherPersist&&Ne.has(J)){if(Tp(ri)||tb(ri)){R(J,Oh(void 0));return}}else{if(Tp(ri))if(be.delete(J),Q>Qn){R(J,Oh(void 0));return}else return Ie.add(J),R(J,J0(Vt)),G(S,ri,{fetcherSubmission:Vt});if(tb(ri)){H(J,ce,ri.error);return}}if(Ep(ri))throw il(400,{type:"defer-action"});let Qi=S.navigation.location||S.location,kn=Q0(n.history,Qi,Ct.signal),Kr=a||s,Co=S.navigation.state!=="idle"?eb(Kr,S.navigation.location,l):S.matches;yi(Co,"Didn't find any matches after fetcher action");let Jd=++ae;_e.set(J,Jd);let lv=J0(Vt,ri.data);S.fetchers.set(J,lv);let[Dh,gt]=hH(n.history,S,Co,Vt,Qi,!1,K,te,ye,Ne,se,Ie,Kr,l,{[ze.route.id]:ri.data},void 0);gt.filter(fi=>fi.key!==J).forEach(fi=>{let ir=fi.key,qf=S.fetchers.get(ir),QW=J0(void 0,qf?qf.data:void 0);S.fetchers.set(ir,QW),be.has(ir)&&xe(ir),fi.controller&&be.set(ir,fi.controller)}),Te({fetchers:new Map(S.fetchers)});let X=()=>gt.forEach(fi=>xe(fi.key));Ct.signal.addEventListener("abort",X);let{results:Oe,loaderResults:Qe,fetcherResults:ji}=await Z(S.matches,Co,Dh,gt,kn);if(Ct.signal.aborted)return;Ct.signal.removeEventListener("abort",X),_e.delete(J),be.delete(J),gt.forEach(fi=>be.delete(fi.key));let Wn=_H(Oe);if(Wn){if(Wn.idx>=Dh.length){let fi=gt[Wn.idx-Dh.length].key;Ie.add(fi)}return G(S,Wn.result)}let{loaderData:mr,errors:Tt}=mH(S,S.matches,Dh,Qe,void 0,gt,ji,tt);if(S.fetchers.has(J)){let fi=Oh(ri.data);S.fetchers.set(J,fi)}ht(Jd),S.navigation.state==="loading"&&Jd>Q?(yi(x,"Expected pending action"),E&&E.abort(),at(S.navigation.location,{matches:Co,loaderData:mr,errors:Tt,fetchers:new Map(S.fetchers)})):(Te({errors:Tt,loaderData:vH(S.loaderData,mr,Co,Tt),fetchers:new Map(S.fetchers)}),K=!1)}async function re(J,ce,Se,ze,ot,Xt,Vt){let bt=S.fetchers.get(J);R(J,J0(Vt,bt?bt.data:void 0),{flushSync:Xt});let Ct=new AbortController,li=Q0(n.history,Se,Ct.signal);be.set(J,Ct);let Qn=ae,ri=await X0("loader",li,ze,ot,r,o,l,c.v7_relativeSplatPath);if(Ep(ri)&&(ri=await XY(ri,li.signal,!0)||ri),be.get(J)===Ct&&be.delete(J),!li.signal.aborted){if(Ne.has(J)){R(J,Oh(void 0));return}if(Tp(ri))if(Q>Qn){R(J,Oh(void 0));return}else{Ie.add(J),await G(S,ri);return}if(tb(ri)){H(J,ce,ri.error);return}yi(!Ep(ri),"Unhandled fetcher deferred data"),R(J,Oh(ri.data))}}async function G(J,ce,Se){let{submission:ze,fetcherSubmission:ot,replace:Xt}=Se===void 0?{}:Se;ce.revalidate&&(K=!0);let Vt=by(J.location,ce.location,{_isRedirect:!0});if(yi(Vt,"Expected a location on the redirect navigation"),t){let Qi=!1;if(ce.reloadDocument)Qi=!0;else if(qY.test(ce.location)){const kn=n.history.createURL(ce.location);Qi=kn.origin!==e.location.origin||uS(kn.pathname,l)==null}if(Qi){Xt?e.location.replace(ce.location):e.location.assign(ce.location);return}}E=null;let bt=Xt===!0?So.Replace:So.Push,{formMethod:Ct,formAction:li,formEncType:Qn}=J.navigation;!ze&&!ot&&Ct&&li&&Qn&&(ze=yH(J.navigation));let ri=ze||ot;if(kce.has(ce.status)&&ri&&zl(ri.formMethod))await Ft(bt,Vt,{submission:po({},ri,{formAction:ce.location}),preventScrollReset:L});else{let Qi=NR(Vt,ze);await Ft(bt,Vt,{overrideNavigation:Qi,fetcherSubmission:ot,preventScrollReset:L})}}async function Z(J,ce,Se,ze,ot){let Xt=await Promise.all([...Se.map(Ct=>X0("loader",ot,Ct,ce,r,o,l,c.v7_relativeSplatPath)),...ze.map(Ct=>Ct.matches&&Ct.match&&Ct.controller?X0("loader",Q0(n.history,Ct.path,Ct.controller.signal),Ct.match,Ct.matches,r,o,l,c.v7_relativeSplatPath):{type:uo.error,error:il(404,{pathname:Ct.path})})]),Vt=Xt.slice(0,Se.length),bt=Xt.slice(Se.length);return await Promise.all([CH(J,Se,Vt,Vt.map(()=>ot.signal),!1,S.loaderData),CH(J,ze.map(Ct=>Ct.match),bt,ze.map(Ct=>Ct.controller?Ct.controller.signal:null),!0)]),{results:Xt,loaderResults:Vt,fetcherResults:bt}}function M(){K=!0,te.push(...$i()),se.forEach((J,ce)=>{be.has(ce)&&(ye.push(ce),xe(ce))})}function R(J,ce,Se){Se===void 0&&(Se={}),S.fetchers.set(J,ce),Te({fetchers:new Map(S.fetchers)},{flushSync:(Se&&Se.flushSync)===!0})}function H(J,ce,Se,ze){ze===void 0&&(ze={});let ot=vC(S.matches,ce);le(J),Te({errors:{[ot.route.id]:Se},fetchers:new Map(S.fetchers)},{flushSync:(ze&&ze.flushSync)===!0})}function V(J){return c.v7_fetcherPersist&&(Y.set(J,(Y.get(J)||0)+1),Ne.has(J)&&Ne.delete(J)),S.fetchers.get(J)||Lce}function le(J){let ce=S.fetchers.get(J);be.has(J)&&!(ce&&ce.state==="loading"&&_e.has(J))&&xe(J),se.delete(J),_e.delete(J),Ie.delete(J),Ne.delete(J),S.fetchers.delete(J)}function q(J){if(c.v7_fetcherPersist){let ce=(Y.get(J)||0)-1;ce<=0?(Y.delete(J),Ne.add(J)):Y.set(J,ce)}else le(J);Te({fetchers:new Map(S.fetchers)})}function xe(J){let ce=be.get(J);yi(ce,"Expected fetch controller: "+J),ce.abort(),be.delete(J)}function Fe(J){for(let ce of J){let Se=V(ce),ze=Oh(Se.data);S.fetchers.set(ce,ze)}}function ut(){let J=[],ce=!1;for(let Se of Ie){let ze=S.fetchers.get(Se);yi(ze,"Expected fetcher: "+Se),ze.state==="loading"&&(Ie.delete(Se),J.push(Se),ce=!0)}return Fe(J),ce}function ht(J){let ce=[];for(let[Se,ze]of _e)if(ze<J){let ot=S.fetchers.get(Se);yi(ot,"Expected fetcher: "+Se),ot.state==="loading"&&(xe(Se),_e.delete(Se),ce.push(Se))}return Fe(ce),ce.length>0}function _i(J,ce){let Se=S.blockers.get(J)||Y0;return ne.get(J)!==ce&&ne.set(J,ce),Se}function ui(J){S.blockers.delete(J),ne.delete(J)}function it(J,ce){let Se=S.blockers.get(J)||Y0;yi(Se.state==="unblocked"&&ce.state==="blocked"||Se.state==="blocked"&&ce.state==="blocked"||Se.state==="blocked"&&ce.state==="proceeding"||Se.state==="blocked"&&ce.state==="unblocked"||Se.state==="proceeding"&&ce.state==="unblocked","Invalid blocker state transition: "+Se.state+" -> "+ce.state);let ze=new Map(S.blockers);ze.set(J,ce),Te({blockers:ze})}function Xi(J){let{currentLocation:ce,nextLocation:Se,historyAction:ze}=J;if(ne.size===0)return;ne.size>1&&m_(!1,"A router only supports one blocker at a time");let ot=Array.from(ne.entries()),[Xt,Vt]=ot[ot.length-1],bt=S.blockers.get(Xt);if(!(bt&&bt.state==="proceeding")&&Vt({currentLocation:ce,nextLocation:Se,historyAction:ze}))return Xt}function $i(J){let ce=[];return tt.forEach((Se,ze)=>{(!J||J(ze))&&(Se.cancel(),ce.push(ze),tt.delete(ze))}),ce}function Fs(J,ce,Se){if(h=J,f=ce,g=Se||null,!p&&S.navigation===IR){p=!0;let ze=Fc(S.location,S.matches);ze!=null&&Te({restoreScrollPosition:ze})}return()=>{h=null,f=null,g=null}}function ei(J,ce){return g&&g(J,ce.map(ze=>ece(ze,S.loaderData)))||J.key}function Mn(J,ce){if(h&&f){let Se=ei(J,ce);h[Se]=f()}}function Fc(J,ce){if(h){let Se=ei(J,ce),ze=h[Se];if(typeof ze=="number")return ze}return null}function Qd(J){r={},a=bO(J,o,void 0,r)}return w={get basename(){return l},get future(){return c},get state(){return S},get routes(){return s},get window(){return e},initialize:Me,subscribe:kt,enableScrollRestoration:Fs,navigate:ai,fetch:Rn,revalidate:Wi,createHref:J=>n.history.createHref(J),encodeLocation:J=>n.history.encodeLocation(J),getFetcher:V,deleteFetcher:q,dispose:ni,getBlocker:_i,deleteBlocker:ui,_internalFetchControllers:be,_internalActiveDeferreds:tt,_internalSetRoutes:Qd},w}function Tce(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function _O(n,e,t,i,o,r,s,a){let l,c;if(s){l=[];for(let u of e)if(l.push(u),u.route.id===s){c=u;break}}else l=e,c=e[e.length-1];let d=vce(o||".",mce(l,r),uS(n.pathname,t)||n.pathname,a==="path");return o==null&&(d.search=n.search,d.hash=n.hash),(o==null||o===""||o===".")&&c&&c.route.index&&!r8(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i&&t!=="/"&&(d.pathname=d.pathname==="/"?t:$p([t,d.pathname])),dS(d)}function uH(n,e,t,i){if(!i||!Tce(i))return{path:t};if(i.formMethod&&!Oce(i.formMethod))return{path:t,error:il(405,{method:i.formMethod})};let o=()=>({path:t,error:il(400,{type:"invalid-body"})}),r=i.formMethod||"get",s=n?r.toUpperCase():r.toLowerCase(),a=YY(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!zl(s))return o();let h=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((g,f)=>{let[p,b]=f;return""+g+p+"="+b+`
`},""):String(i.body);return{path:t,submission:{formMethod:s,formAction:a,formEncType:i.formEncType,formData:void 0,json:void 0,text:h}}}else if(i.formEncType==="application/json"){if(!zl(s))return o();try{let h=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:s,formAction:a,formEncType:i.formEncType,formData:void 0,json:h,text:void 0}}}catch{return o()}}}yi(typeof FormData=="function","FormData is not available in this environment");let l,c;if(i.formData)l=CO(i.formData),c=i.formData;else if(i.body instanceof FormData)l=CO(i.body),c=i.body;else if(i.body instanceof URLSearchParams)l=i.body,c=pH(l);else if(i.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(i.body),c=pH(l)}catch{return o()}let d={formMethod:s,formAction:a,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(zl(d.formMethod))return{path:t,submission:d};let u=_h(t);return e&&u.search&&r8(u.search)&&l.append("index",""),u.search="?"+l,{path:dS(u),submission:d}}function Ice(n,e){let t=n;if(e){let i=n.findIndex(o=>o.route.id===e);i>=0&&(t=n.slice(0,i))}return t}function hH(n,e,t,i,o,r,s,a,l,c,d,u,h,g,f,p){let b=p?Object.values(p)[0]:f?Object.values(f)[0]:void 0,v=n.createURL(e.location),_=n.createURL(o),C=p?Object.keys(p)[0]:void 0,w=Ice(t,C).filter((x,L)=>{let{route:E}=x;if(E.lazy)return!0;if(E.loader==null)return!1;if(r)return E.loader.hydrate?!0:e.loaderData[E.id]===void 0&&(!e.errors||e.errors[E.id]===void 0);if(Nce(e.loaderData,e.matches[L],x)||a.some(A=>A===x.route.id))return!0;let O=e.matches[L],P=x;return gH(x,po({currentUrl:v,currentParams:O.params,nextUrl:_,nextParams:P.params},i,{actionResult:b,defaultShouldRevalidate:s||v.pathname+v.search===_.pathname+_.search||v.search!==_.search||ZY(O,P)}))}),S=[];return d.forEach((x,L)=>{if(r||!t.some(F=>F.route.id===x.routeId)||c.has(L))return;let E=eb(h,x.path,g);if(!E){S.push({key:L,routeId:x.routeId,path:x.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(L),P=yO(E,x.path),A=!1;u.has(L)?A=!1:l.includes(L)?A=!0:O&&O.state!=="idle"&&O.data===void 0?A=s:A=gH(P,po({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:t[t.length-1].params},i,{actionResult:b,defaultShouldRevalidate:s})),A&&S.push({key:L,routeId:x.routeId,path:x.path,matches:E,match:P,controller:new AbortController})}),[w,S]}function Nce(n,e,t){let i=!e||t.route.id!==e.route.id,o=n[t.route.id]===void 0;return i||o}function ZY(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function gH(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function fH(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];yi(o,"No route found in manifest");let r={};for(let s in i){let l=o[s]!==void 0&&s!=="hasErrorBoundary";m_(!l,'Route "'+o.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!Qle.has(s)&&(r[s]=i[s])}Object.assign(o,r),Object.assign(o,po({},e(o),{lazy:void 0}))}async function X0(n,e,t,i,o,r,s,a,l){l===void 0&&(l={});let c,d,u,h=p=>{let b,v=new Promise((_,C)=>b=C);return u=()=>b(),e.signal.addEventListener("abort",u),Promise.race([p({request:e,params:t.params,context:l.requestContext}),v])};try{let p=t.route[n];if(t.route.lazy)if(p){let b,v=await Promise.all([h(p).catch(_=>{b=_}),fH(t.route,r,o)]);if(b)throw b;d=v[0]}else if(await fH(t.route,r,o),p=t.route[n],p)d=await h(p);else if(n==="action"){let b=new URL(e.url),v=b.pathname+b.search;throw il(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:uo.data,data:void 0};else if(p)d=await h(p);else{let b=new URL(e.url),v=b.pathname+b.search;throw il(404,{pathname:v})}yi(d!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(p){c=uo.error,d=p}finally{u&&e.signal.removeEventListener("abort",u)}if(Pce(d)){let p=d.status;if(xce.has(p)){let v=d.headers.get("Location");if(yi(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!qY.test(v))v=_O(new URL(e.url),i.slice(0,i.indexOf(t)+1),s,!0,v,a);else if(!l.isStaticRequest){let _=new URL(e.url),C=v.startsWith("//")?new URL(_.protocol+v):new URL(v),y=uS(C.pathname,s)!=null;C.origin===_.origin&&y&&(v=C.pathname+C.search+C.hash)}if(l.isStaticRequest)throw d.headers.set("Location",v),d;return{type:uo.redirect,status:p,location:v,revalidate:d.headers.get("X-Remix-Revalidate")!==null,reloadDocument:d.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===uo.error?uo.error:uo.data,response:d};let b;try{let v=d.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?d.body==null?b=null:b=await d.json():b=await d.text()}catch(v){return{type:uo.error,error:v}}return c===uo.error?{type:c,error:new o8(p,d.statusText,b),headers:d.headers}:{type:uo.data,data:b,statusCode:d.status,headers:d.headers}}if(c===uo.error)return{type:c,error:d};if(Ace(d)){var g,f;return{type:uo.deferred,deferredData:d,statusCode:(g=d.init)==null?void 0:g.status,headers:((f=d.init)==null?void 0:f.headers)&&new Headers(d.init.headers)}}return{type:uo.data,data:d}}function Q0(n,e,t,i){let o=n.createURL(YY(e)).toString(),r={signal:t};if(i&&zl(i.formMethod)){let{formMethod:s,formEncType:a}=i;r.method=s.toUpperCase(),a==="application/json"?(r.headers=new Headers({"Content-Type":a}),r.body=JSON.stringify(i.json)):a==="text/plain"?r.body=i.text:a==="application/x-www-form-urlencoded"&&i.formData?r.body=CO(i.formData):r.body=i.formData}return new Request(o,r)}function CO(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function pH(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function Rce(n,e,t,i,o){let r={},s=null,a,l=!1,c={};return t.forEach((d,u)=>{let h=e[u].route.id;if(yi(!Tp(d),"Cannot handle redirect results in processLoaderData"),tb(d)){let g=vC(n,h),f=d.error;i&&(f=Object.values(i)[0],i=void 0),s=s||{},s[g.route.id]==null&&(s[g.route.id]=f),r[h]=void 0,l||(l=!0,a=jY(d.error)?d.error.status:500),d.headers&&(c[h]=d.headers)}else Ep(d)?(o.set(h,d.deferredData),r[h]=d.deferredData.data):r[h]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(c[h]=d.headers)}),i&&(s=i,r[Object.keys(i)[0]]=void 0),{loaderData:r,errors:s,statusCode:a||200,loaderHeaders:c}}function mH(n,e,t,i,o,r,s,a){let{loaderData:l,errors:c}=Rce(e,t,i,o,a);for(let d=0;d<r.length;d++){let{key:u,match:h,controller:g}=r[d];yi(s!==void 0&&s[d]!==void 0,"Did not find corresponding fetcher result");let f=s[d];if(!(g&&g.signal.aborted))if(tb(f)){let p=vC(n.matches,h==null?void 0:h.route.id);c&&c[p.route.id]||(c=po({},c,{[p.route.id]:f.error})),n.fetchers.delete(u)}else if(Tp(f))yi(!1,"Unhandled fetcher revalidation redirect");else if(Ep(f))yi(!1,"Unhandled fetcher deferred data");else{let p=Oh(f.data);n.fetchers.set(u,p)}}return{loaderData:l,errors:c}}function vH(n,e,t,i){let o=po({},e);for(let r of t){let s=r.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(o[s]=e[s]):n[s]!==void 0&&r.route.loader&&(o[s]=n[s]),i&&i.hasOwnProperty(s))break}return o}function vC(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function bH(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function il(n,e){let{pathname:t,routeId:i,method:o,type:r}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return n===400?(s="Bad Request",o&&t&&i?a="You made a "+o+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":r==="defer-action"?a="defer() is not supported in actions":r==="invalid-body"&&(a="Unable to encode submission body")):n===403?(s="Forbidden",a='Route "'+i+'" does not match URL "'+t+'"'):n===404?(s="Not Found",a='No route matches URL "'+t+'"'):n===405&&(s="Method Not Allowed",o&&t&&i?a="You made a "+o.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":o&&(a='Invalid request method "'+o.toUpperCase()+'"')),new o8(n||500,s,new Error(a),!0)}function _H(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(Tp(t))return{result:t,idx:e}}}function YY(n){let e=typeof n=="string"?_h(n):n;return dS(po({},e,{hash:""}))}function Mce(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function Ep(n){return n.type===uo.deferred}function tb(n){return n.type===uo.error}function Tp(n){return(n&&n.type)===uo.redirect}function Ace(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Pce(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Oce(n){return Sce.has(n.toLowerCase())}function zl(n){return yce.has(n.toLowerCase())}async function CH(n,e,t,i,o,r){for(let s=0;s<t.length;s++){let a=t[s],l=e[s];if(!l)continue;let c=n.find(u=>u.route.id===l.route.id),d=c!=null&&!ZY(c,l)&&(r&&r[l.route.id])!==void 0;if(Ep(a)&&(o||d)){let u=i[s];yi(u,"Expected an AbortSignal for revalidating fetcher deferred result"),await XY(a,u,o).then(h=>{h&&(t[s]=h||t[s])})}}}async function XY(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:uo.data,data:n.deferredData.unwrappedData}}catch(o){return{type:uo.error,error:o}}return{type:uo.data,data:n.deferredData.data}}}function r8(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function yO(n,e){let t=typeof e=="string"?_h(e).search:e.search;if(n[n.length-1].route.index&&r8(t||""))return n[n.length-1];let i=$Y(n);return i[i.length-1]}function yH(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:r,json:s}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(r!=null)return{formMethod:e,formAction:t,formEncType:i,formData:r,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:s,text:void 0}}}function NR(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Fce(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function J0(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Bce(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Oh(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function Wce(n,e){try{let t=n.sessionStorage.getItem(GY);if(t){let i=JSON.parse(t);for(let[o,r]of Object.entries(i||{}))r&&Array.isArray(r)&&e.set(o,new Set(r||[]))}}catch{}}function Vce(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(GY,JSON.stringify(t))}catch(i){m_(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function TD(){return TD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},TD.apply(this,arguments)}const QY=De.createContext(null),JY=De.createContext(null),eX=De.createContext(null),aT=De.createContext(null),hS=De.createContext({outlet:null,matches:[],isDataRoute:!1}),tX=De.createContext(null);function s8(){return De.useContext(aT)!=null}function Hce(){return s8()||yi(!1),De.useContext(aT).location}const zce=De.createContext(null);function Uce(n){let e=De.useContext(hS).outlet;return e&&De.createElement(zce.Provider,{value:n},e)}function $ce(n,e,t,i){s8()||yi(!1);let{navigator:o}=De.useContext(eX),{matches:r}=De.useContext(hS),s=r[r.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Hce(),d;if(e){var u;let b=typeof e=="string"?_h(e):e;l==="/"||(u=b.pathname)!=null&&u.startsWith(l)||yi(!1),d=b}else d=c;let h=d.pathname||"/",g=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let f=eb(n,{pathname:g}),p=Zce(f&&f.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:$p([l,o.encodeLocation?o.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:$p([l,o.encodeLocation?o.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),r,t,i);return e&&p?De.createElement(aT.Provider,{value:{location:TD({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:So.Pop}},p):p}function jce(){let n=iX(),e=jY(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return De.createElement(De.Fragment,null,De.createElement("h2",null,"Unexpected Application Error!"),De.createElement("h3",{style:{fontStyle:"italic"}},e),t?De.createElement("pre",{style:o},t):null,null)}const Kce=De.createElement(jce,null);class qce extends De.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?De.createElement(hS.Provider,{value:this.props.routeContext},De.createElement(tX.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gce(n){let{routeContext:e,match:t,children:i}=n,o=De.useContext(QY);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),De.createElement(hS.Provider,{value:e},i)}function Zce(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var r;if((r=t)!=null&&r.errors)n=t.matches;else return null}let s=n,a=(o=t)==null?void 0:o.errors;if(a!=null){let d=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id]));d>=0||yi(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(t&&i&&i.v7_partialHydration)for(let d=0;d<s.length;d++){let u=s[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:h,errors:g}=t,f=u.route.loader&&h[u.route.id]===void 0&&(!g||g[u.route.id]===void 0);if(u.route.lazy||f){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,u,h)=>{let g,f=!1,p=null,b=null;t&&(g=a&&u.route.id?a[u.route.id]:void 0,p=u.route.errorElement||Kce,l&&(c<0&&h===0?(Jce("route-fallback",!1),f=!0,b=null):c===h&&(f=!0,b=u.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,h+1)),_=()=>{let C;return g?C=p:f?C=b:u.route.Component?C=De.createElement(u.route.Component,null):u.route.element?C=u.route.element:C=d,De.createElement(Gce,{match:u,routeContext:{outlet:d,matches:v,isDataRoute:t!=null},children:C})};return t&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?De.createElement(qce,{location:t.location,revalidation:t.revalidation,component:p,error:g,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var wO=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(wO||{});function Yce(n){let e=De.useContext(JY);return e||yi(!1),e}function Xce(n){let e=De.useContext(hS);return e||yi(!1),e}function Qce(n){let e=Xce(),t=e.matches[e.matches.length-1];return t.route.id||yi(!1),t.route.id}function iX(){var n;let e=De.useContext(tX),t=Yce(wO.UseRouteError),i=Qce(wO.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}const wH={};function Jce(n,e,t){!e&&!wH[n]&&(wH[n]=!0)}function ede(n){return Uce(n.context)}function mL(n){yi(!1)}function tde(n){let{basename:e="/",children:t=null,location:i,navigationType:o=So.Pop,navigator:r,static:s=!1,future:a}=n;s8()&&yi(!1);let l=e.replace(/^\/*/,"/"),c=De.useMemo(()=>({basename:l,navigator:r,static:s,future:TD({v7_relativeSplatPath:!1},a)}),[l,a,r,s]);typeof i=="string"&&(i=_h(i));let{pathname:d="/",search:u="",hash:h="",state:g=null,key:f="default"}=i,p=De.useMemo(()=>{let b=uS(d,l);return b==null?null:{location:{pathname:b,search:u,hash:h,state:g,key:f},navigationType:o}},[l,d,u,h,g,f,o]);return p==null?null:De.createElement(eX.Provider,{value:c},De.createElement(aT.Provider,{children:t,value:p}))}new Promise(()=>{});function SO(n,e){e===void 0&&(e=[]);let t=[];return De.Children.forEach(n,(i,o)=>{if(!De.isValidElement(i))return;let r=[...e,o];if(i.type===De.Fragment){t.push.apply(t,SO(i.props.children,r));return}i.type!==mL&&yi(!1),!i.props.index||!i.props.children||yi(!1);let s={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=SO(i.props.children,r)),t.push(s)}),t}function ide(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:De.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:De.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:De.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ID(){return ID=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ID.apply(this,arguments)}const nde="6";try{window.__reactRouterVersion=nde}catch{}function ode(n,e){return Ece({basename:e==null?void 0:e.basename,future:ID({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Zle({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||rde(),routes:n,mapRouteProperties:ide,window:e==null?void 0:e.window}).initialize()}function rde(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=ID({},e,{errors:sde(e.errors)})),e}function sde(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new o8(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let r=window[o.__subType];if(typeof r=="function")try{let s=new r(o.message);s.stack="",t[i]=s}catch{}}if(t[i]==null){let r=new Error(o.message);r.stack="",t[i]=r}}else t[i]=o;return t}const ade=De.createContext({isTransitioning:!1}),lde=De.createContext(new Map),cde="startTransition",SH=Pse[cde],dde="flushSync",xH=jle[dde];function ude(n){SH?SH(n):n()}function e1(n){xH?xH(n):n()}let hde=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function gde(n){let{fallbackElement:e,router:t,future:i}=n,[o,r]=De.useState(t.state),[s,a]=De.useState(),[l,c]=De.useState({isTransitioning:!1}),[d,u]=De.useState(),[h,g]=De.useState(),[f,p]=De.useState(),b=De.useRef(new Map),{v7_startTransition:v}=i||{},_=De.useCallback(x=>{v?ude(x):x()},[v]),C=De.useCallback((x,L)=>{let{deletedFetchers:E,unstable_flushSync:O,unstable_viewTransitionOpts:P}=L;E.forEach(F=>b.current.delete(F)),x.fetchers.forEach((F,K)=>{F.data!==void 0&&b.current.set(K,F.data)});let A=t.window==null||typeof t.window.document.startViewTransition!="function";if(!P||A){O?e1(()=>r(x)):_(()=>r(x));return}if(O){e1(()=>{h&&(d&&d.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let F=t.window.document.startViewTransition(()=>{e1(()=>r(x))});F.finished.finally(()=>{e1(()=>{u(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),e1(()=>g(F));return}h?(d&&d.resolve(),h.skipTransition(),p({state:x,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(a(x),c({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[t.window,h,d,b,_]);De.useLayoutEffect(()=>t.subscribe(C),[t,C]),De.useEffect(()=>{l.isTransitioning&&!l.flushSync&&u(new hde)},[l]),De.useEffect(()=>{if(d&&s&&t.window){let x=s,L=d.promise,E=t.window.document.startViewTransition(async()=>{_(()=>r(x)),await L});E.finished.finally(()=>{u(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(E)}},[_,s,d,t.window]),De.useEffect(()=>{d&&s&&o.location.key===s.location.key&&d.resolve()},[d,h,o.location,s]),De.useEffect(()=>{!l.isTransitioning&&f&&(a(f.state),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),p(void 0))},[l.isTransitioning,f]),De.useEffect(()=>{},[]);let y=De.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:x=>t.navigate(x),push:(x,L,E)=>t.navigate(x,{state:L,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(x,L,E)=>t.navigate(x,{replace:!0,state:L,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[t]),w=t.basename||"/",S=De.useMemo(()=>({router:t,navigator:y,static:!1,basename:w}),[t,y,w]);return De.createElement(De.Fragment,null,De.createElement(QY.Provider,{value:S},De.createElement(JY.Provider,{value:o},De.createElement(lde.Provider,{value:b.current},De.createElement(ade.Provider,{value:l},De.createElement(tde,{basename:w,location:o.location,navigationType:o.historyAction,navigator:y,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},o.initialized||t.future.v7_partialHydration?De.createElement(fde,{routes:t.routes,future:t.future,state:o}):e))))),null)}function fde(n){let{routes:e,future:t,state:i}=n;return $ce(e,void 0,i,t)}var kH;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(kH||(kH={}));var LH;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(LH||(LH={}));var nX={exports:{}},pn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a8=Symbol.for("react.element"),l8=Symbol.for("react.portal"),lT=Symbol.for("react.fragment"),cT=Symbol.for("react.strict_mode"),dT=Symbol.for("react.profiler"),uT=Symbol.for("react.provider"),hT=Symbol.for("react.context"),pde=Symbol.for("react.server_context"),gT=Symbol.for("react.forward_ref"),fT=Symbol.for("react.suspense"),pT=Symbol.for("react.suspense_list"),mT=Symbol.for("react.memo"),vT=Symbol.for("react.lazy"),mde=Symbol.for("react.offscreen"),oX;oX=Symbol.for("react.module.reference");function kl(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case a8:switch(n=n.type,n){case lT:case dT:case cT:case fT:case pT:return n;default:switch(n=n&&n.$$typeof,n){case pde:case hT:case gT:case vT:case mT:case uT:return n;default:return e}}case l8:return e}}}pn.ContextConsumer=hT;pn.ContextProvider=uT;pn.Element=a8;pn.ForwardRef=gT;pn.Fragment=lT;pn.Lazy=vT;pn.Memo=mT;pn.Portal=l8;pn.Profiler=dT;pn.StrictMode=cT;pn.Suspense=fT;pn.SuspenseList=pT;pn.isAsyncMode=function(){return!1};pn.isConcurrentMode=function(){return!1};pn.isContextConsumer=function(n){return kl(n)===hT};pn.isContextProvider=function(n){return kl(n)===uT};pn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===a8};pn.isForwardRef=function(n){return kl(n)===gT};pn.isFragment=function(n){return kl(n)===lT};pn.isLazy=function(n){return kl(n)===vT};pn.isMemo=function(n){return kl(n)===mT};pn.isPortal=function(n){return kl(n)===l8};pn.isProfiler=function(n){return kl(n)===dT};pn.isStrictMode=function(n){return kl(n)===cT};pn.isSuspense=function(n){return kl(n)===fT};pn.isSuspenseList=function(n){return kl(n)===pT};pn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===lT||n===dT||n===cT||n===fT||n===pT||n===mde||typeof n=="object"&&n!==null&&(n.$$typeof===vT||n.$$typeof===mT||n.$$typeof===uT||n.$$typeof===hT||n.$$typeof===gT||n.$$typeof===oX||n.getModuleId!==void 0)};pn.typeOf=kl;nX.exports=pn;var rX=nX.exports;function vde(n){function e(se,Y,Ne,tt,ne){for(var $e=0,Me=0,ni=0,kt=0,Te,at,ai=0,Wi=0,Ft,Kt=Ft=Te=0,Yt=0,Rn=0,Os=0,re=0,G=Ne.length,Z=G-1,M,R="",H="",V="",le="",q;Yt<G;){if(at=Ne.charCodeAt(Yt),Yt===Z&&Me+kt+ni+$e!==0&&(Me!==0&&(at=Me===47?10:47),kt=ni=$e=0,G++,Z++),Me+kt+ni+$e===0){if(Yt===Z&&(0<Rn&&(R=R.replace(h,"")),0<R.trim().length)){switch(at){case 32:case 9:case 59:case 13:case 10:break;default:R+=Ne.charAt(Yt)}at=59}switch(at){case 123:for(R=R.trim(),Te=R.charCodeAt(0),Ft=1,re=++Yt;Yt<G;){switch(at=Ne.charCodeAt(Yt)){case 123:Ft++;break;case 125:Ft--;break;case 47:switch(at=Ne.charCodeAt(Yt+1)){case 42:case 47:e:{for(Kt=Yt+1;Kt<Z;++Kt)switch(Ne.charCodeAt(Kt)){case 47:if(at===42&&Ne.charCodeAt(Kt-1)===42&&Yt+2!==Kt){Yt=Kt+1;break e}break;case 10:if(at===47){Yt=Kt+1;break e}}Yt=Kt}}break;case 91:at++;case 40:at++;case 34:case 39:for(;Yt++<Z&&Ne.charCodeAt(Yt)!==at;);}if(Ft===0)break;Yt++}switch(Ft=Ne.substring(re,Yt),Te===0&&(Te=(R=R.replace(u,"").trim()).charCodeAt(0)),Te){case 64:switch(0<Rn&&(R=R.replace(h,"")),at=R.charCodeAt(1),at){case 100:case 109:case 115:case 45:Rn=Y;break;default:Rn=ye}if(Ft=e(Y,Rn,Ft,at,ne+1),re=Ft.length,0<ae&&(Rn=t(ye,R,Os),q=a(3,Ft,Rn,Y,F,A,re,at,ne,tt),R=Rn.join(""),q!==void 0&&(re=(Ft=q.trim()).length)===0&&(at=0,Ft="")),0<re)switch(at){case 115:R=R.replace(S,s);case 100:case 109:case 45:Ft=R+"{"+Ft+"}";break;case 107:R=R.replace(_,"$1 $2"),Ft=R+"{"+Ft+"}",Ft=te===1||te===2&&r("@"+Ft,3)?"@-webkit-"+Ft+"@"+Ft:"@"+Ft;break;default:Ft=R+Ft,tt===112&&(Ft=(H+=Ft,""))}else Ft="";break;default:Ft=e(Y,t(Y,R,Os),Ft,tt,ne+1)}V+=Ft,Ft=Os=Rn=Kt=Te=0,R="",at=Ne.charCodeAt(++Yt);break;case 125:case 59:if(R=(0<Rn?R.replace(h,""):R).trim(),1<(re=R.length))switch(Kt===0&&(Te=R.charCodeAt(0),Te===45||96<Te&&123>Te)&&(re=(R=R.replace(" ",":")).length),0<ae&&(q=a(1,R,Y,se,F,A,H.length,tt,ne,tt))!==void 0&&(re=(R=q.trim()).length)===0&&(R="\0\0"),Te=R.charCodeAt(0),at=R.charCodeAt(1),Te){case 0:break;case 64:if(at===105||at===99){le+=R+Ne.charAt(Yt);break}default:R.charCodeAt(re-1)!==58&&(H+=o(R,Te,at,R.charCodeAt(2)))}Os=Rn=Kt=Te=0,R="",at=Ne.charCodeAt(++Yt)}}switch(at){case 13:case 10:Me===47?Me=0:1+Te===0&&tt!==107&&0<R.length&&(Rn=1,R+="\0"),0<ae*_e&&a(0,R,Y,se,F,A,H.length,tt,ne,tt),A=1,F++;break;case 59:case 125:if(Me+kt+ni+$e===0){A++;break}default:switch(A++,M=Ne.charAt(Yt),at){case 9:case 32:if(kt+$e+Me===0)switch(ai){case 44:case 58:case 9:case 32:M="";break;default:at!==32&&(M=" ")}break;case 0:M="\\0";break;case 12:M="\\f";break;case 11:M="\\v";break;case 38:kt+Me+$e===0&&(Rn=Os=1,M="\f"+M);break;case 108:if(kt+Me+$e+K===0&&0<Kt)switch(Yt-Kt){case 2:ai===112&&Ne.charCodeAt(Yt-3)===58&&(K=ai);case 8:Wi===111&&(K=Wi)}break;case 58:kt+Me+$e===0&&(Kt=Yt);break;case 44:Me+ni+kt+$e===0&&(Rn=1,M+="\r");break;case 34:case 39:Me===0&&(kt=kt===at?0:kt===0?at:kt);break;case 91:kt+Me+ni===0&&$e++;break;case 93:kt+Me+ni===0&&$e--;break;case 41:kt+Me+$e===0&&ni--;break;case 40:if(kt+Me+$e===0){if(Te===0)switch(2*ai+3*Wi){case 533:break;default:Te=1}ni++}break;case 64:Me+ni+kt+$e+Kt+Ft===0&&(Ft=1);break;case 42:case 47:if(!(0<kt+$e+ni))switch(Me){case 0:switch(2*at+3*Ne.charCodeAt(Yt+1)){case 235:Me=47;break;case 220:re=Yt,Me=42}break;case 42:at===47&&ai===42&&re+2!==Yt&&(Ne.charCodeAt(re+2)===33&&(H+=Ne.substring(re,Yt+1)),M="",Me=0)}}Me===0&&(R+=M)}Wi=ai,ai=at,Yt++}if(re=H.length,0<re){if(Rn=Y,0<ae&&(q=a(2,H,Rn,se,F,A,re,tt,ne,tt),q!==void 0&&(H=q).length===0))return le+H+V;if(H=Rn.join(",")+"{"+H+"}",te*K!==0){switch(te!==2||r(H,2)||(K=0),K){case 111:H=H.replace(y,":-moz-$1")+H;break;case 112:H=H.replace(C,"::-webkit-input-$1")+H.replace(C,"::-moz-$1")+H.replace(C,":-ms-input-$1")+H}K=0}}return le+H+V}function t(se,Y,Ne){var tt=Y.trim().split(b);Y=tt;var ne=tt.length,$e=se.length;switch($e){case 0:case 1:var Me=0;for(se=$e===0?"":se[0]+" ";Me<ne;++Me)Y[Me]=i(se,Y[Me],Ne).trim();break;default:var ni=Me=0;for(Y=[];Me<ne;++Me)for(var kt=0;kt<$e;++kt)Y[ni++]=i(se[kt]+" ",tt[Me],Ne).trim()}return Y}function i(se,Y,Ne){var tt=Y.charCodeAt(0);switch(33>tt&&(tt=(Y=Y.trim()).charCodeAt(0)),tt){case 38:return Y.replace(v,"$1"+se.trim());case 58:return se.trim()+Y.replace(v,"$1"+se.trim());default:if(0<1*Ne&&0<Y.indexOf("\f"))return Y.replace(v,(se.charCodeAt(0)===58?"":"$1")+se.trim())}return se+Y}function o(se,Y,Ne,tt){var ne=se+";",$e=2*Y+3*Ne+4*tt;if($e===944){se=ne.indexOf(":",9)+1;var Me=ne.substring(se,ne.length-1).trim();return Me=ne.substring(0,se).trim()+Me+";",te===1||te===2&&r(Me,1)?"-webkit-"+Me+Me:Me}if(te===0||te===2&&!r(ne,1))return ne;switch($e){case 1015:return ne.charCodeAt(10)===97?"-webkit-"+ne+ne:ne;case 951:return ne.charCodeAt(3)===116?"-webkit-"+ne+ne:ne;case 963:return ne.charCodeAt(5)===110?"-webkit-"+ne+ne:ne;case 1009:if(ne.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+ne+ne;case 978:return"-webkit-"+ne+"-moz-"+ne+ne;case 1019:case 983:return"-webkit-"+ne+"-moz-"+ne+"-ms-"+ne+ne;case 883:if(ne.charCodeAt(8)===45)return"-webkit-"+ne+ne;if(0<ne.indexOf("image-set(",11))return ne.replace(P,"$1-webkit-$2")+ne;break;case 932:if(ne.charCodeAt(4)===45)switch(ne.charCodeAt(5)){case 103:return"-webkit-box-"+ne.replace("-grow","")+"-webkit-"+ne+"-ms-"+ne.replace("grow","positive")+ne;case 115:return"-webkit-"+ne+"-ms-"+ne.replace("shrink","negative")+ne;case 98:return"-webkit-"+ne+"-ms-"+ne.replace("basis","preferred-size")+ne}return"-webkit-"+ne+"-ms-"+ne+ne;case 964:return"-webkit-"+ne+"-ms-flex-"+ne+ne;case 1023:if(ne.charCodeAt(8)!==99)break;return Me=ne.substring(ne.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Me+"-webkit-"+ne+"-ms-flex-pack"+Me+ne;case 1005:return f.test(ne)?ne.replace(g,":-webkit-")+ne.replace(g,":-moz-")+ne:ne;case 1e3:switch(Me=ne.substring(13).trim(),Y=Me.indexOf("-")+1,Me.charCodeAt(0)+Me.charCodeAt(Y)){case 226:Me=ne.replace(w,"tb");break;case 232:Me=ne.replace(w,"tb-rl");break;case 220:Me=ne.replace(w,"lr");break;default:return ne}return"-webkit-"+ne+"-ms-"+Me+ne;case 1017:if(ne.indexOf("sticky",9)===-1)break;case 975:switch(Y=(ne=se).length-10,Me=(ne.charCodeAt(Y)===33?ne.substring(0,Y):ne).substring(se.indexOf(":",7)+1).trim(),$e=Me.charCodeAt(0)+(Me.charCodeAt(7)|0)){case 203:if(111>Me.charCodeAt(8))break;case 115:ne=ne.replace(Me,"-webkit-"+Me)+";"+ne;break;case 207:case 102:ne=ne.replace(Me,"-webkit-"+(102<$e?"inline-":"")+"box")+";"+ne.replace(Me,"-webkit-"+Me)+";"+ne.replace(Me,"-ms-"+Me+"box")+";"+ne}return ne+";";case 938:if(ne.charCodeAt(5)===45)switch(ne.charCodeAt(6)){case 105:return Me=ne.replace("-items",""),"-webkit-"+ne+"-webkit-box-"+Me+"-ms-flex-"+Me+ne;case 115:return"-webkit-"+ne+"-ms-flex-item-"+ne.replace(L,"")+ne;default:return"-webkit-"+ne+"-ms-flex-line-pack"+ne.replace("align-content","").replace(L,"")+ne}break;case 973:case 989:if(ne.charCodeAt(3)!==45||ne.charCodeAt(4)===122)break;case 931:case 953:if(O.test(se)===!0)return(Me=se.substring(se.indexOf(":")+1)).charCodeAt(0)===115?o(se.replace("stretch","fill-available"),Y,Ne,tt).replace(":fill-available",":stretch"):ne.replace(Me,"-webkit-"+Me)+ne.replace(Me,"-moz-"+Me.replace("fill-",""))+ne;break;case 962:if(ne="-webkit-"+ne+(ne.charCodeAt(5)===102?"-ms-"+ne:"")+ne,Ne+tt===211&&ne.charCodeAt(13)===105&&0<ne.indexOf("transform",10))return ne.substring(0,ne.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+ne}return ne}function r(se,Y){var Ne=se.indexOf(Y===1?":":"{"),tt=se.substring(0,Y!==3?Ne:10);return Ne=se.substring(Ne+1,se.length-1),Q(Y!==2?tt:tt.replace(E,"$1"),Ne,Y)}function s(se,Y){var Ne=o(Y,Y.charCodeAt(0),Y.charCodeAt(1),Y.charCodeAt(2));return Ne!==Y+";"?Ne.replace(x," or ($1)").substring(4):"("+Y+")"}function a(se,Y,Ne,tt,ne,$e,Me,ni,kt,Te){for(var at=0,ai=Y,Wi;at<ae;++at)switch(Wi=be[at].call(d,se,ai,Ne,tt,ne,$e,Me,ni,kt,Te)){case void 0:case!1:case!0:case null:break;default:ai=Wi}if(ai!==Y)return ai}function l(se){switch(se){case void 0:case null:ae=be.length=0;break;default:if(typeof se=="function")be[ae++]=se;else if(typeof se=="object")for(var Y=0,Ne=se.length;Y<Ne;++Y)l(se[Y]);else _e=!!se|0}return l}function c(se){return se=se.prefix,se!==void 0&&(Q=null,se?typeof se!="function"?te=1:(te=2,Q=se):te=0),c}function d(se,Y){var Ne=se;if(33>Ne.charCodeAt(0)&&(Ne=Ne.trim()),Ie=Ne,Ne=[Ie],0<ae){var tt=a(-1,Y,Ne,Ne,F,A,0,0,0,0);tt!==void 0&&typeof tt=="string"&&(Y=tt)}var ne=e(ye,Ne,Y,0,0);return 0<ae&&(tt=a(-2,ne,Ne,Ne,F,A,ne.length,0,0,0),tt!==void 0&&(ne=tt)),Ie="",K=0,A=F=1,ne}var u=/^\0+/g,h=/[\0\r\f]/g,g=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,b=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,_=/@(k\w+)\s*(\S*)\s*/,C=/::(place)/g,y=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,L=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,P=/([^-])(image-set\()/,A=1,F=1,K=0,te=1,ye=[],be=[],ae=0,Q=null,_e=0,Ie="";return d.use=l,d.set=c,n!==void 0&&c(n),d}var bde={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function _de(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Cde=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,DH=_de(function(n){return Cde.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),sX={exports:{}},mn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gr=typeof Symbol=="function"&&Symbol.for,c8=gr?Symbol.for("react.element"):60103,d8=gr?Symbol.for("react.portal"):60106,bT=gr?Symbol.for("react.fragment"):60107,_T=gr?Symbol.for("react.strict_mode"):60108,CT=gr?Symbol.for("react.profiler"):60114,yT=gr?Symbol.for("react.provider"):60109,wT=gr?Symbol.for("react.context"):60110,u8=gr?Symbol.for("react.async_mode"):60111,ST=gr?Symbol.for("react.concurrent_mode"):60111,xT=gr?Symbol.for("react.forward_ref"):60112,kT=gr?Symbol.for("react.suspense"):60113,yde=gr?Symbol.for("react.suspense_list"):60120,LT=gr?Symbol.for("react.memo"):60115,DT=gr?Symbol.for("react.lazy"):60116,wde=gr?Symbol.for("react.block"):60121,Sde=gr?Symbol.for("react.fundamental"):60117,xde=gr?Symbol.for("react.responder"):60118,kde=gr?Symbol.for("react.scope"):60119;function za(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case c8:switch(n=n.type,n){case u8:case ST:case bT:case CT:case _T:case kT:return n;default:switch(n=n&&n.$$typeof,n){case wT:case xT:case DT:case LT:case yT:return n;default:return e}}case d8:return e}}}function aX(n){return za(n)===ST}mn.AsyncMode=u8;mn.ConcurrentMode=ST;mn.ContextConsumer=wT;mn.ContextProvider=yT;mn.Element=c8;mn.ForwardRef=xT;mn.Fragment=bT;mn.Lazy=DT;mn.Memo=LT;mn.Portal=d8;mn.Profiler=CT;mn.StrictMode=_T;mn.Suspense=kT;mn.isAsyncMode=function(n){return aX(n)||za(n)===u8};mn.isConcurrentMode=aX;mn.isContextConsumer=function(n){return za(n)===wT};mn.isContextProvider=function(n){return za(n)===yT};mn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===c8};mn.isForwardRef=function(n){return za(n)===xT};mn.isFragment=function(n){return za(n)===bT};mn.isLazy=function(n){return za(n)===DT};mn.isMemo=function(n){return za(n)===LT};mn.isPortal=function(n){return za(n)===d8};mn.isProfiler=function(n){return za(n)===CT};mn.isStrictMode=function(n){return za(n)===_T};mn.isSuspense=function(n){return za(n)===kT};mn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===bT||n===ST||n===CT||n===_T||n===kT||n===yde||typeof n=="object"&&n!==null&&(n.$$typeof===DT||n.$$typeof===LT||n.$$typeof===yT||n.$$typeof===wT||n.$$typeof===xT||n.$$typeof===Sde||n.$$typeof===xde||n.$$typeof===kde||n.$$typeof===wde)};mn.typeOf=za;sX.exports=mn;var Lde=sX.exports,h8=Lde,Dde={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ede={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Tde={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lX={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},g8={};g8[h8.ForwardRef]=Tde;g8[h8.Memo]=lX;function EH(n){return h8.isMemo(n)?lX:g8[n.$$typeof]||Dde}var Ide=Object.defineProperty,Nde=Object.getOwnPropertyNames,TH=Object.getOwnPropertySymbols,Rde=Object.getOwnPropertyDescriptor,Mde=Object.getPrototypeOf,IH=Object.prototype;function cX(n,e,t){if(typeof e!="string"){if(IH){var i=Mde(e);i&&i!==IH&&cX(n,i,t)}var o=Nde(e);TH&&(o=o.concat(TH(e)));for(var r=EH(n),s=EH(e),a=0;a<o.length;++a){var l=o[a];if(!Ede[l]&&!(t&&t[l])&&!(s&&s[l])&&!(r&&r[l])){var c=Rde(e,l);try{Ide(n,l,c)}catch{}}}}return n}var Ade=cX;const Pde=Vm(Ade);var Ja={NVM_INC:"/Users/g.ernest/.nvm/versions/node/v21.7.1/include/node",TERM_PROGRAM:"vscode",NODE:"/Users/g.ernest/.nvm/versions/node/v21.7.1/bin/node",LESS_TERMCAP_md:"\x1B[38;5;136m",DOCKER_PASSWORD:"mjuninunda1989",INIT_CWD:"/Volumes/code/requiemdb/ui",NVM_CD_FLAGS:"",TERM:"xterm-256color",SHELL:"/usr/local/bin/bash",HISTSIZE:"32768",TMPDIR:"/var/folders/82/kbw661tj579fcykv_vz2sjbw0000gn/T/",npm_config_global_prefix:"/Users/g.ernest/.nvm/versions/node/v21.7.1",TERM_PROGRAM_VERSION:"1.87.2",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",COLOR:"1",TERM_SESSION_ID:"34872007-7DA3-49E9-B4E4-969962229AA6",npm_config_noproxy:"",npm_config_local_prefix:"/Volumes/code/requiemdb/ui",LC_ALL:"en_US.UTF-8",HISTFILESIZE:"32768",PYTHONIOENCODING:"UTF-8",USER:"g.ernest",NVM_DIR:"/Users/g.ernest/.nvm",LS_COLORS:"no=00:fi=00:di=01;31:ln=01;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.gz=01;31:*.bz2=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.avi=01;35:*.fli=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.ogg=01;35:*.mp3=01;35:*.wav=01;35:",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/Users/g.ernest/.nvm/versions/node/v21.7.1/etc/npmrc",KUBECONFIG:"/Users/g.ernest/.kube/config",NODE_REPL_MODE:"sloppy",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.6aDwdULpBx/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/g.ernest/.nvm/versions/node/v21.7.1/lib/node_modules/npm/bin/npm-cli.js",DOLLAR:"$",GOLINE:"8",PATH:"/Volumes/code/requiemdb/ui/node_modules/.bin:/Volumes/code/requiemdb/node_modules/.bin:/Volumes/code/node_modules/.bin:/Volumes/node_modules/.bin:/node_modules/.bin:/Users/g.ernest/.nvm/versions/node/v21.7.1/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/Cellar/go/1.22.0/libexec/bin:/Users/g.ernest/go/bin:/Users/g.ernest/.nvm/versions/node/v21.7.1/bin:/Users/g.ernest/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/Library/Apple/usr/bin:/Applications/Postgres.app/Contents/Versions/latest/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Users/g.ernest/go/bin:/Users/g.ernest/.nvm/versions/node/v21.7.1/bin:/Users/g.ernest/bin:/Users/g.ernest/go/bin",AZURE_ACCESS:"uhk56f2f66dyu5gjxdhszxp5vi3nvec7tmxllijsjvqtodbl65sq",npm_package_json:"/Volumes/code/requiemdb/ui/package.json",_:"/Volumes/code/requiemdb/ui/node_modules/.bin/vite",npm_config_userconfig:"/Users/g.ernest/.npmrc",npm_config_init_module:"/Users/g.ernest/.npm-init.js",__CFBundleIdentifier:"com.microsoft.VSCode",npm_command:"run-script",PWD:"/Volumes/code/requiemdb/ui",GOARCH:"amd64",npm_lifecycle_event:"build",EDITOR:"vim",npm_package_name:"ui",LANG:"en_US.UTF-8",npm_config_npm_version:"10.5.0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",XPC_FLAGS:"0x0",GOFILE:"ui.go",npm_config_node_gyp:"/Users/g.ernest/.nvm/versions/node/v21.7.1/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",GOPACKAGE:"ui",DOCKER_USER:"gernest",npm_package_version:"0.0.0",XPC_SERVICE_NAME:"0",HISTCONTROL:"ignoreboth",GPG_TTY:"/dev/ttys008",DOCKERHUB_USER:"gernest",SHLVL:"4",MANPAGER:"less -X",HOME:"/Users/g.ernest",GOROOT:"/usr/local/Cellar/go/1.22.0/libexec",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",GOOS:"darwin",DOCKER_EMAIL:"geofreyernest@live.com",GITHUB_USER:"gernest",npm_config_cache:"/Users/g.ernest/.npm",GITHUB_PASSWORD:"mjuninunda1989",LOGNAME:"g.ernest",npm_lifecycle_script:"vite build",DOCKER_REGISTRY_SERVER:"https://index.docker.io/v1/",NODE_REPL_HISTORY:"/Users/g.ernest/.node_history",LC_CTYPE:"UTF-8",VSCODE_GIT_IPC_HANDLE:"/var/folders/82/kbw661tj579fcykv_vz2sjbw0000gn/T/vscode-git-98169039a3.sock",NVM_BIN:"/Users/g.ernest/.nvm/versions/node/v21.7.1/bin",DOCKERHUB_PASSWORD:"mjuninunda1989",GITHUB_TOKEN:"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",PKG_CONFIG_PATH:"/usr/local/opt/icu4c/lib/pkgconfig",npm_config_user_agent:"npm/10.5.0 node/v21.7.1 darwin x64 workspaces/false",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",DISPLAY:"/private/tmp/com.apple.launchd.eZKvorr6lN/org.macosforge.xquartz:0",NODE_REPL_HISTORY_SIZE:"32768",npm_node_execpath:"/Users/g.ernest/.nvm/versions/node/v21.7.1/bin/node",npm_config_prefix:"/Users/g.ernest/.nvm/versions/node/v21.7.1",COLORTERM:"truecolor",NODE_ENV:"production"};function nc(){return(nc=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}var NH=function(n,e){for(var t=[n[0]],i=0,o=e.length;i<o;i+=1)t.push(e[i],n[i+1]);return t},xO=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!rX.typeOf(n)},ND=Object.freeze([]),Ng=Object.freeze({});function v_(n){return typeof n=="function"}function RH(n){return n.displayName||n.name||"Component"}function f8(n){return n&&typeof n.styledComponentId=="string"}var b_=typeof process<"u"&&Ja!==void 0&&(Ja.REACT_APP_SC_ATTR||Ja.SC_ATTR)||"data-styled",p8=typeof window<"u"&&"HTMLElement"in window,Ode=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ja!==void 0&&(Ja.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ja.REACT_APP_SC_DISABLE_SPEEDY!==""?Ja.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ja.REACT_APP_SC_DISABLE_SPEEDY:Ja.SC_DISABLE_SPEEDY!==void 0&&Ja.SC_DISABLE_SPEEDY!==""&&Ja.SC_DISABLE_SPEEDY!=="false"&&Ja.SC_DISABLE_SPEEDY)),Fde={};function lm(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var Bde=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var i=0,o=0;o<t;o++)i+=this.groupSizes[o];return i},e.insertRules=function(t,i){if(t>=this.groupSizes.length){for(var o=this.groupSizes,r=o.length,s=r;t>=s;)(s<<=1)<0&&lm(16,""+t);this.groupSizes=new Uint32Array(s),this.groupSizes.set(o),this.length=s;for(var a=r;a<s;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(t+1),c=0,d=i.length;c<d;c++)this.tag.insertRule(l,i[c])&&(this.groupSizes[t]++,l++)},e.clearGroup=function(t){if(t<this.length){var i=this.groupSizes[t],o=this.indexOfGroup(t),r=o+i;this.groupSizes[t]=0;for(var s=o;s<r;s++)this.tag.deleteRule(o)}},e.getGroup=function(t){var i="";if(t>=this.length||this.groupSizes[t]===0)return i;for(var o=this.groupSizes[t],r=this.indexOfGroup(t),s=r+o,a=r;a<s;a++)i+=this.tag.getRule(a)+`/*!sc*/
`;return i},n}(),vL=new Map,RD=new Map,bC=1,Lx=function(n){if(vL.has(n))return vL.get(n);for(;RD.has(bC);)bC++;var e=bC++;return vL.set(n,e),RD.set(e,n),e},Wde=function(n){return RD.get(n)},Vde=function(n,e){e>=bC&&(bC=e+1),vL.set(n,e),RD.set(e,n)},Hde="style["+b_+'][data-styled-version="5.3.11"]',zde=new RegExp("^"+b_+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Ude=function(n,e,t){for(var i,o=t.split(","),r=0,s=o.length;r<s;r++)(i=o[r])&&n.registerName(e,i)},$de=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),i=[],o=0,r=t.length;o<r;o++){var s=t[o].trim();if(s){var a=s.match(zde);if(a){var l=0|parseInt(a[1],10),c=a[2];l!==0&&(Vde(c,l),Ude(n,c,a[3]),n.getTag().insertRules(l,i)),i.length=0}else i.push(s)}}},jde=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},dX=function(n){var e=document.head,t=n||e,i=document.createElement("style"),o=function(a){for(var l=a.childNodes,c=l.length;c>=0;c--){var d=l[c];if(d&&d.nodeType===1&&d.hasAttribute(b_))return d}}(t),r=o!==void 0?o.nextSibling:null;i.setAttribute(b_,"active"),i.setAttribute("data-styled-version","5.3.11");var s=jde();return s&&i.setAttribute("nonce",s),t.insertBefore(i,r),i},Kde=function(){function n(t){var i=this.element=dX(t);i.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var r=document.styleSheets,s=0,a=r.length;s<a;s++){var l=r[s];if(l.ownerNode===o)return l}lm(17)}(i),this.length=0}var e=n.prototype;return e.insertRule=function(t,i){try{return this.sheet.insertRule(i,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var i=this.sheet.cssRules[t];return i!==void 0&&typeof i.cssText=="string"?i.cssText:""},n}(),qde=function(){function n(t){var i=this.element=dX(t);this.nodes=i.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,i){if(t<=this.length&&t>=0){var o=document.createTextNode(i),r=this.nodes[t];return this.element.insertBefore(o,r||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),Gde=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,i){return t<=this.length&&(this.rules.splice(t,0,i),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),MH=p8,Zde={isServer:!p8,useCSSOMInjection:!Ode},MD=function(){function n(t,i,o){t===void 0&&(t=Ng),i===void 0&&(i={}),this.options=nc({},Zde,{},t),this.gs=i,this.names=new Map(o),this.server=!!t.isServer,!this.server&&p8&&MH&&(MH=!1,function(r){for(var s=document.querySelectorAll(Hde),a=0,l=s.length;a<l;a++){var c=s[a];c&&c.getAttribute(b_)!=="active"&&($de(r,c),c.parentNode&&c.parentNode.removeChild(c))}}(this))}n.registerId=function(t){return Lx(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,i){return i===void 0&&(i=!0),new n(nc({},this.options,{},t),this.gs,i&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(o=(i=this.options).isServer,r=i.useCSSOMInjection,s=i.target,t=o?new Gde(s):r?new Kde(s):new qde(s),new Bde(t)));var t,i,o,r,s},e.hasNameForId=function(t,i){return this.names.has(t)&&this.names.get(t).has(i)},e.registerName=function(t,i){if(Lx(t),this.names.has(t))this.names.get(t).add(i);else{var o=new Set;o.add(i),this.names.set(t,o)}},e.insertRules=function(t,i,o){this.registerName(t,i),this.getTag().insertRules(Lx(t),o)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(Lx(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var i=t.getTag(),o=i.length,r="",s=0;s<o;s++){var a=Wde(s);if(a!==void 0){var l=t.names.get(a),c=i.getGroup(s);if(l&&c&&l.size){var d=b_+".g"+s+'[id="'+a+'"]',u="";l!==void 0&&l.forEach(function(h){h.length>0&&(u+=h+",")}),r+=""+c+d+'{content:"'+u+`"}/*!sc*/
`}}}return r}(this)},n}(),Yde=/(a)(d)/gi,AH=function(n){return String.fromCharCode(n+(n>25?39:97))};function kO(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=AH(e%52)+t;return(AH(e%52)+t).replace(Yde,"$1-$2")}var ib=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},uX=function(n){return ib(5381,n)};function hX(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(v_(t)&&!f8(t))return!1}return!0}var Xde=uX("5.3.11"),Qde=function(){function n(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&hX(e),this.componentId=t,this.baseHash=ib(Xde,t),this.baseStyle=i,MD.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,i){var o=this.componentId,r=[];if(this.baseStyle&&r.push(this.baseStyle.generateAndInjectStyles(e,t,i)),this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(o,this.staticRulesId))r.push(this.staticRulesId);else{var s=cm(this.rules,e,t,i).join(""),a=kO(ib(this.baseHash,s)>>>0);if(!t.hasNameForId(o,a)){var l=i(s,"."+a,void 0,o);t.insertRules(o,a,l)}r.push(a),this.staticRulesId=a}else{for(var c=this.rules.length,d=ib(this.baseHash,i.hash),u="",h=0;h<c;h++){var g=this.rules[h];if(typeof g=="string")u+=g;else if(g){var f=cm(g,e,t,i),p=Array.isArray(f)?f.join(""):f;d=ib(d,p+h),u+=p}}if(u){var b=kO(d>>>0);if(!t.hasNameForId(o,b)){var v=i(u,"."+b,void 0,o);t.insertRules(o,b,v)}r.push(b)}}return r.join(" ")},n}(),Jde=/^\s*\/\/.*$/gm,eue=[":","[",".","#"];function tue(n){var e,t,i,o,r=n===void 0?Ng:n,s=r.options,a=s===void 0?Ng:s,l=r.plugins,c=l===void 0?ND:l,d=new vde(a),u=[],h=function(p){function b(v){if(v)try{p(v+"}")}catch{}}return function(v,_,C,y,w,S,x,L,E,O){switch(v){case 1:if(E===0&&_.charCodeAt(0)===64)return p(_+";"),"";break;case 2:if(L===0)return _+"/*|*/";break;case 3:switch(L){case 102:case 112:return p(C[0]+_),"";default:return _+(O===0?"/*|*/":"")}case-2:_.split("/*|*/}").forEach(b)}}}(function(p){u.push(p)}),g=function(p,b,v){return b===0&&eue.indexOf(v[t.length])!==-1||v.match(o)?p:"."+e};function f(p,b,v,_){_===void 0&&(_="&");var C=p.replace(Jde,""),y=b&&v?v+" "+b+" { "+C+" }":C;return e=_,t=b,i=new RegExp("\\"+t+"\\b","g"),o=new RegExp("(\\"+t+"\\b){2,}"),d(v||!b?"":b,y)}return d.use([].concat(c,[function(p,b,v){p===2&&v.length&&v[0].lastIndexOf(t)>0&&(v[0]=v[0].replace(i,g))},h,function(p){if(p===-2){var b=u;return u=[],b}}])),f.hash=c.length?c.reduce(function(p,b){return b.name||lm(15),ib(p,b.name)},5381).toString():"",f}var gX=Ce.createContext();gX.Consumer;var fX=Ce.createContext(),iue=(fX.Consumer,new MD),LO=tue();function pX(){return De.useContext(gX)||iue}function mX(){return De.useContext(fX)||LO}var nue=function(){function n(e,t){var i=this;this.inject=function(o,r){r===void 0&&(r=LO);var s=i.name+r.hash;o.hasNameForId(i.id,s)||o.insertRules(i.id,s,r(i.rules,s,"@keyframes"))},this.toString=function(){return lm(12,String(i.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=LO),this.name+e.hash},n}(),oue=/([A-Z])/,rue=/([A-Z])/g,sue=/^ms-/,aue=function(n){return"-"+n.toLowerCase()};function PH(n){return oue.test(n)?n.replace(rue,aue).replace(sue,"-ms-"):n}var OH=function(n){return n==null||n===!1||n===""};function cm(n,e,t,i){if(Array.isArray(n)){for(var o,r=[],s=0,a=n.length;s<a;s+=1)(o=cm(n[s],e,t,i))!==""&&(Array.isArray(o)?r.push.apply(r,o):r.push(o));return r}if(OH(n))return"";if(f8(n))return"."+n.styledComponentId;if(v_(n)){if(typeof(c=n)!="function"||c.prototype&&c.prototype.isReactComponent||!e)return n;var l=n(e);return cm(l,e,t,i)}var c;return n instanceof nue?t?(n.inject(t,i),n.getName(i)):n:xO(n)?function d(u,h){var g,f,p=[];for(var b in u)u.hasOwnProperty(b)&&!OH(u[b])&&(Array.isArray(u[b])&&u[b].isCss||v_(u[b])?p.push(PH(b)+":",u[b],";"):xO(u[b])?p.push.apply(p,d(u[b],b)):p.push(PH(b)+": "+(g=b,(f=u[b])==null||typeof f=="boolean"||f===""?"":typeof f!="number"||f===0||g in bde||g.startsWith("--")?String(f).trim():f+"px")+";"));return h?[h+" {"].concat(p,["}"]):p}(n):n.toString()}var FH=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function gS(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return v_(n)||xO(n)?FH(cm(NH(ND,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:FH(cm(NH(n,t)))}var vX=function(n,e,t){return t===void 0&&(t=Ng),n.theme!==t.theme&&n.theme||e||t.theme},lue=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,cue=/(^-|-$)/g;function RR(n){return n.replace(lue,"-").replace(cue,"")}var bX=function(n){return kO(uX(n)>>>0)};function Dx(n){return typeof n=="string"&&!0}var DO=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},due=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function uue(n,e,t){var i=n[t];DO(e)&&DO(i)?_X(i,e):n[t]=e}function _X(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];for(var o=0,r=t;o<r.length;o++){var s=r[o];if(DO(s))for(var a in s)due(a)&&uue(n,s[a],a)}return n}var _y=Ce.createContext();_y.Consumer;function hue(n){var e=De.useContext(_y),t=De.useMemo(function(){return function(i,o){if(!i)return lm(14);if(v_(i)){var r=i(o);return r}return Array.isArray(i)||typeof i!="object"?lm(8):o?nc({},o,{},i):i}(n.theme,e)},[n.theme,e]);return n.children?Ce.createElement(_y.Provider,{value:t},n.children):null}var MR={};function CX(n,e,t){var i=f8(n),o=!Dx(n),r=e.attrs,s=r===void 0?ND:r,a=e.componentId,l=a===void 0?function(_,C){var y=typeof _!="string"?"sc":RR(_);MR[y]=(MR[y]||0)+1;var w=y+"-"+bX("5.3.11"+y+MR[y]);return C?C+"-"+w:w}(e.displayName,e.parentComponentId):a,c=e.displayName,d=c===void 0?function(_){return Dx(_)?"styled."+_:"Styled("+RH(_)+")"}(n):c,u=e.displayName&&e.componentId?RR(e.displayName)+"-"+e.componentId:e.componentId||l,h=i&&n.attrs?Array.prototype.concat(n.attrs,s).filter(Boolean):s,g=e.shouldForwardProp;i&&n.shouldForwardProp&&(g=e.shouldForwardProp?function(_,C,y){return n.shouldForwardProp(_,C,y)&&e.shouldForwardProp(_,C,y)}:n.shouldForwardProp);var f,p=new Qde(t,u,i?n.componentStyle:void 0),b=p.isStatic&&s.length===0,v=function(_,C){return function(y,w,S,x){var L=y.attrs,E=y.componentStyle,O=y.defaultProps,P=y.foldedComponentIds,A=y.shouldForwardProp,F=y.styledComponentId,K=y.target,te=function(tt,ne,$e){tt===void 0&&(tt=Ng);var Me=nc({},ne,{theme:tt}),ni={};return $e.forEach(function(kt){var Te,at,ai,Wi=kt;for(Te in v_(Wi)&&(Wi=Wi(Me)),Wi)Me[Te]=ni[Te]=Te==="className"?(at=ni[Te],ai=Wi[Te],at&&ai?at+" "+ai:at||ai):Wi[Te]}),[Me,ni]}(vX(w,De.useContext(_y),O)||Ng,w,L),ye=te[0],be=te[1],ae=function(tt,ne,$e,Me){var ni=pX(),kt=mX(),Te=ne?tt.generateAndInjectStyles(Ng,ni,kt):tt.generateAndInjectStyles($e,ni,kt);return Te}(E,x,ye),Q=S,_e=be.$as||w.$as||be.as||w.as||K,Ie=Dx(_e),se=be!==w?nc({},w,{},be):w,Y={};for(var Ne in se)Ne[0]!=="$"&&Ne!=="as"&&(Ne==="forwardedAs"?Y.as=se[Ne]:(A?A(Ne,DH,_e):!Ie||DH(Ne))&&(Y[Ne]=se[Ne]));return w.style&&be.style!==w.style&&(Y.style=nc({},w.style,{},be.style)),Y.className=Array.prototype.concat(P,F,ae!==F?ae:null,w.className,be.className).filter(Boolean).join(" "),Y.ref=Q,De.createElement(_e,Y)}(f,_,C,b)};return v.displayName=d,(f=Ce.forwardRef(v)).attrs=h,f.componentStyle=p,f.displayName=d,f.shouldForwardProp=g,f.foldedComponentIds=i?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):ND,f.styledComponentId=u,f.target=i?n.target:n,f.withComponent=function(_){var C=e.componentId,y=function(S,x){if(S==null)return{};var L,E,O={},P=Object.keys(S);for(E=0;E<P.length;E++)L=P[E],x.indexOf(L)>=0||(O[L]=S[L]);return O}(e,["componentId"]),w=C&&C+"-"+(Dx(_)?_:RR(RH(_)));return CX(_,nc({},y,{attrs:h,componentId:w}),t)},Object.defineProperty(f,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_){this._foldedDefaultProps=i?_X({},n.defaultProps,_):_}}),Object.defineProperty(f,"toString",{value:function(){return"."+f.styledComponentId}}),o&&Pde(f,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),f}var EO=function(n){return function e(t,i,o){if(o===void 0&&(o=Ng),!rX.isValidElementType(i))return lm(1,String(i));var r=function(){return t(i,o,gS.apply(void 0,arguments))};return r.withConfig=function(s){return e(t,i,nc({},o,{},s))},r.attrs=function(s){return e(t,i,nc({},o,{attrs:Array.prototype.concat(o.attrs,s).filter(Boolean)}))},r}(CX,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){EO[n]=EO(n)});var gue=function(){function n(t,i){this.rules=t,this.componentId=i,this.isStatic=hX(t),MD.registerId(this.componentId+1)}var e=n.prototype;return e.createStyles=function(t,i,o,r){var s=r(cm(this.rules,i,o,r).join(""),""),a=this.componentId+t;o.insertRules(a,a,s)},e.removeStyles=function(t,i){i.clearRules(this.componentId+t)},e.renderStyles=function(t,i,o,r){t>2&&MD.registerId(this.componentId+t),this.removeStyles(t,o),this.createStyles(t,i,o,r)},n}();function yX(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var o=gS.apply(void 0,[n].concat(t)),r="sc-global-"+bX(JSON.stringify(o)),s=new gue(o,r);function a(c){var d=pX(),u=mX(),h=De.useContext(_y),g=De.useRef(d.allocateGSInstance(r)).current;return d.server&&l(g,c,d,h,u),De.useLayoutEffect(function(){if(!d.server)return l(g,c,d,h,u),function(){return s.removeStyles(g,d)}},[g,c,d,h,u]),null}function l(c,d,u,h,g){if(s.isStatic)s.renderStyles(c,Fde,u,g);else{var f=nc({},d,{theme:vX(d,h,a.defaultProps)});s.renderStyles(c,f,u,g)}}return Ce.memo(a)}const Ec=EO;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var BH=Object.getOwnPropertySymbols,fue=Object.prototype.hasOwnProperty,pue=Object.prototype.propertyIsEnumerable;function mue(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function vue(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var i=Object.getOwnPropertyNames(e).map(function(r){return e[r]});if(i.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(r){o[r]=r}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var bue=vue()?Object.assign:function(n,e){for(var t,i=mue(n),o,r=1;r<arguments.length;r++){t=Object(arguments[r]);for(var s in t)fue.call(t,s)&&(i[s]=t[s]);if(BH){o=BH(t);for(var a=0;a<o.length;a++)pue.call(t,o[a])&&(i[o[a]]=t[o[a]])}}return i};const cc=Vm(bue);var WH=function(e,t){var i=cc({},e,t);for(var o in e){var r;!e[o]||typeof t[o]!="object"||cc(i,(r={},r[o]=cc(e[o],t[o]),r))}return i},_ue=function(e){var t={};return Object.keys(e).sort(function(i,o){return i.localeCompare(o,void 0,{numeric:!0,sensitivity:"base"})}).forEach(function(i){t[i]=e[i]}),t},Cue={breakpoints:[40,52,64].map(function(n){return n+"em"})},wX=function(e){return"@media screen and (min-width: "+e+")"},yue=function(e,t){return Rd(t,e,e)},Rd=function(e,t,i,o,r){for(t=t&&t.split?t.split("."):[t],o=0;o<t.length;o++)e=e?e[t[o]]:r;return e===r?i:e},fS=function n(e){var t={},i=function(s){var a={},l=!1,c=s.theme&&s.theme.disableStyledSystemCache;for(var d in s)if(e[d]){var u=e[d],h=s[d],g=Rd(s.theme,u.scale,u.defaults);if(typeof h=="object"){if(t.breakpoints=!c&&t.breakpoints||Rd(s.theme,"breakpoints",Cue.breakpoints),Array.isArray(h)){t.media=!c&&t.media||[null].concat(t.breakpoints.map(wX)),a=WH(a,wue(t.media,u,g,h,s));continue}h!==null&&(a=WH(a,Sue(t.breakpoints,u,g,h,s)),l=!0);continue}cc(a,u(h,g,s))}return l&&(a=_ue(a)),a};i.config=e,i.propNames=Object.keys(e),i.cache=t;var o=Object.keys(e).filter(function(r){return r!=="config"});return o.length>1&&o.forEach(function(r){var s;i[r]=n((s={},s[r]=e[r],s))}),i},wue=function(e,t,i,o,r){var s={};return o.slice(0,e.length).forEach(function(a,l){var c=e[l],d=t(a,i,r);if(!c)cc(s,d);else{var u;cc(s,(u={},u[c]=cc({},s[c],d),u))}}),s},Sue=function(e,t,i,o,r){var s={};for(var a in o){var l=e[a],c=o[a],d=t(c,i,r);if(!l)cc(s,d);else{var u,h=wX(l);cc(s,(u={},u[h]=cc({},s[h],d),u))}}return s},AD=function(e){var t=e.properties,i=e.property,o=e.scale,r=e.transform,s=r===void 0?yue:r,a=e.defaultScale;t=t||[i];var l=function(d,u,h){var g={},f=s(d,u,h);if(f!==null)return t.forEach(function(p){g[p]=f}),g};return l.scale=o,l.defaults=a,l},Ua=function(e){e===void 0&&(e={});var t={};Object.keys(e).forEach(function(o){var r=e[o];if(r===!0){t[o]=AD({property:o,scale:o});return}if(typeof r=="function"){t[o]=r;return}t[o]=AD(r)});var i=fS(t);return i},SX=function(){for(var e={},t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];i.forEach(function(s){!s||!s.config||cc(e,s.config)});var r=fS(e);return r},xue=function(e){return typeof e=="number"&&!isNaN(e)},kue=function(e,t){return Rd(t,e,!xue(e)||e>1?e:e*100+"%")},Lue={width:{property:"width",scale:"sizes",transform:kue},height:{property:"height",scale:"sizes"},minWidth:{property:"minWidth",scale:"sizes"},minHeight:{property:"minHeight",scale:"sizes"},maxWidth:{property:"maxWidth",scale:"sizes"},maxHeight:{property:"maxHeight",scale:"sizes"},size:{properties:["width","height"],scale:"sizes"},overflow:!0,overflowX:!0,overflowY:!0,display:!0,verticalAlign:!0},ha=Ua(Lue),TO={color:{property:"color",scale:"colors"},backgroundColor:{property:"backgroundColor",scale:"colors"},opacity:!0};TO.bg=TO.backgroundColor;var ET=Ua(TO),Due={fontSizes:[12,14,16,20,24,32,48,64,72]},Eue={fontFamily:{property:"fontFamily",scale:"fonts"},fontSize:{property:"fontSize",scale:"fontSizes",defaultScale:Due.fontSizes},fontWeight:{property:"fontWeight",scale:"fontWeights"},lineHeight:{property:"lineHeight",scale:"lineHeights"},letterSpacing:{property:"letterSpacing",scale:"letterSpacings"},textAlign:!0,fontStyle:!0},jd=Ua(Eue),Tue={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:!0,flex:!0,flexGrow:!0,flexShrink:!0,flexBasis:!0,justifySelf:!0,alignSelf:!0,order:!0},Rs=Ua(Tue),AR={space:[0,4,8,16,32,64,128,256,512]},Iue={gridGap:{property:"gridGap",scale:"space",defaultScale:AR.space},gridColumnGap:{property:"gridColumnGap",scale:"space",defaultScale:AR.space},gridRowGap:{property:"gridRowGap",scale:"space",defaultScale:AR.space},gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridAutoRows:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},ga=Ua(Iue),Hr={border:{property:"border",scale:"borders"},borderWidth:{property:"borderWidth",scale:"borderWidths"},borderStyle:{property:"borderStyle",scale:"borderStyles"},borderColor:{property:"borderColor",scale:"colors"},borderRadius:{property:"borderRadius",scale:"radii"},borderTop:{property:"borderTop",scale:"borders"},borderTopLeftRadius:{property:"borderTopLeftRadius",scale:"radii"},borderTopRightRadius:{property:"borderTopRightRadius",scale:"radii"},borderRight:{property:"borderRight",scale:"borders"},borderBottom:{property:"borderBottom",scale:"borders"},borderBottomLeftRadius:{property:"borderBottomLeftRadius",scale:"radii"},borderBottomRightRadius:{property:"borderBottomRightRadius",scale:"radii"},borderLeft:{property:"borderLeft",scale:"borders"},borderX:{properties:["borderLeft","borderRight"],scale:"borders"},borderY:{properties:["borderTop","borderBottom"],scale:"borders"}};Hr.borderTopWidth={property:"borderTopWidth",scale:"borderWidths"};Hr.borderTopColor={property:"borderTopColor",scale:"colors"};Hr.borderTopStyle={property:"borderTopStyle",scale:"borderStyles"};Hr.borderTopLeftRadius={property:"borderTopLeftRadius",scale:"radii"};Hr.borderTopRightRadius={property:"borderTopRightRadius",scale:"radii"};Hr.borderBottomWidth={property:"borderBottomWidth",scale:"borderWidths"};Hr.borderBottomColor={property:"borderBottomColor",scale:"colors"};Hr.borderBottomStyle={property:"borderBottomStyle",scale:"borderStyles"};Hr.borderBottomLeftRadius={property:"borderBottomLeftRadius",scale:"radii"};Hr.borderBottomRightRadius={property:"borderBottomRightRadius",scale:"radii"};Hr.borderLeftWidth={property:"borderLeftWidth",scale:"borderWidths"};Hr.borderLeftColor={property:"borderLeftColor",scale:"colors"};Hr.borderLeftStyle={property:"borderLeftStyle",scale:"borderStyles"};Hr.borderRightWidth={property:"borderRightWidth",scale:"borderWidths"};Hr.borderRightColor={property:"borderRightColor",scale:"colors"};Hr.borderRightStyle={property:"borderRightStyle",scale:"borderStyles"};var yl=Ua(Hr),lh={background:!0,backgroundImage:!0,backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0};lh.bgImage=lh.backgroundImage;lh.bgSize=lh.backgroundSize;lh.bgPosition=lh.backgroundPosition;lh.bgRepeat=lh.backgroundRepeat;var g0=Ua(lh),Ex={space:[0,4,8,16,32,64,128,256,512]},Nue={position:!0,zIndex:{property:"zIndex",scale:"zIndices"},top:{property:"top",scale:"space",defaultScale:Ex.space},right:{property:"right",scale:"space",defaultScale:Ex.space},bottom:{property:"bottom",scale:"space",defaultScale:Ex.space},left:{property:"left",scale:"space",defaultScale:Ex.space}},Um=Ua(Nue),js={space:[0,4,8,16,32,64,128,256,512]},VH=function(e){return typeof e=="number"&&!isNaN(e)},Gf=function(e,t){if(!VH(e))return Rd(t,e,e);var i=e<0,o=Math.abs(e),r=Rd(t,o,o);return VH(r)?r*(i?-1:1):i?"-"+r:r},Gi={};Gi.margin={margin:{property:"margin",scale:"space",transform:Gf,defaultScale:js.space},marginTop:{property:"marginTop",scale:"space",transform:Gf,defaultScale:js.space},marginRight:{property:"marginRight",scale:"space",transform:Gf,defaultScale:js.space},marginBottom:{property:"marginBottom",scale:"space",transform:Gf,defaultScale:js.space},marginLeft:{property:"marginLeft",scale:"space",transform:Gf,defaultScale:js.space},marginX:{properties:["marginLeft","marginRight"],scale:"space",transform:Gf,defaultScale:js.space},marginY:{properties:["marginTop","marginBottom"],scale:"space",transform:Gf,defaultScale:js.space}};Gi.margin.m=Gi.margin.margin;Gi.margin.mt=Gi.margin.marginTop;Gi.margin.mr=Gi.margin.marginRight;Gi.margin.mb=Gi.margin.marginBottom;Gi.margin.ml=Gi.margin.marginLeft;Gi.margin.mx=Gi.margin.marginX;Gi.margin.my=Gi.margin.marginY;Gi.padding={padding:{property:"padding",scale:"space",defaultScale:js.space},paddingTop:{property:"paddingTop",scale:"space",defaultScale:js.space},paddingRight:{property:"paddingRight",scale:"space",defaultScale:js.space},paddingBottom:{property:"paddingBottom",scale:"space",defaultScale:js.space},paddingLeft:{property:"paddingLeft",scale:"space",defaultScale:js.space},paddingX:{properties:["paddingLeft","paddingRight"],scale:"space",defaultScale:js.space},paddingY:{properties:["paddingTop","paddingBottom"],scale:"space",defaultScale:js.space}};Gi.padding.p=Gi.padding.padding;Gi.padding.pt=Gi.padding.paddingTop;Gi.padding.pr=Gi.padding.paddingRight;Gi.padding.pb=Gi.padding.paddingBottom;Gi.padding.pl=Gi.padding.paddingLeft;Gi.padding.px=Gi.padding.paddingX;Gi.padding.py=Gi.padding.paddingY;var xX=Ua(Gi.margin),kX=Ua(Gi.padding),m8=SX(xX,kX),_C=Ua({boxShadow:{property:"boxShadow",scale:"shadows"},textShadow:{property:"textShadow",scale:"shadows"}});function Cy(){return Cy=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Cy.apply(this,arguments)}var Xc=function(e,t,i,o,r){for(t=t&&t.split?t.split("."):[t],o=0;o<t.length;o++)e=e?e[t[o]]:r;return e===r?i:e},Rue=[40,52,64].map(function(n){return n+"em"}),Mue={space:[0,4,8,16,32,64,128,256,512],fontSizes:[12,14,16,20,24,32,48,64,72]},Aue={bg:"backgroundColor",m:"margin",mt:"marginTop",mr:"marginRight",mb:"marginBottom",ml:"marginLeft",mx:"marginX",my:"marginY",p:"padding",pt:"paddingTop",pr:"paddingRight",pb:"paddingBottom",pl:"paddingLeft",px:"paddingX",py:"paddingY"},HH={marginX:["marginLeft","marginRight"],marginY:["marginTop","marginBottom"],paddingX:["paddingLeft","paddingRight"],paddingY:["paddingTop","paddingBottom"],size:["width","height"]},Pue={color:"colors",backgroundColor:"colors",borderColor:"colors",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginX:"space",marginY:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingX:"space",paddingY:"space",top:"space",right:"space",bottom:"space",left:"space",gridGap:"space",gridColumnGap:"space",gridRowGap:"space",gap:"space",columnGap:"space",rowGap:"space",fontFamily:"fonts",fontSize:"fontSizes",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",border:"borders",borderTop:"borders",borderRight:"borders",borderBottom:"borders",borderLeft:"borders",borderWidth:"borderWidths",borderStyle:"borderStyles",borderRadius:"radii",borderTopRightRadius:"radii",borderTopLeftRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",borderTopWidth:"borderWidths",borderTopColor:"colors",borderTopStyle:"borderStyles",borderBottomWidth:"borderWidths",borderBottomColor:"colors",borderBottomStyle:"borderStyles",borderLeftWidth:"borderWidths",borderLeftColor:"colors",borderLeftStyle:"borderStyles",borderRightWidth:"borderWidths",borderRightColor:"colors",borderRightStyle:"borderStyles",outlineColor:"colors",boxShadow:"shadows",textShadow:"shadows",zIndex:"zIndices",width:"sizes",minWidth:"sizes",maxWidth:"sizes",height:"sizes",minHeight:"sizes",maxHeight:"sizes",flexBasis:"sizes",size:"sizes",fill:"colors",stroke:"colors"},Oue=function(e,t){if(typeof t!="number"||t>=0)return Xc(e,t,t);var i=Math.abs(t),o=Xc(e,i,i);return typeof o=="string"?"-"+o:o*-1},Fue=["margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","top","bottom","left","right"].reduce(function(n,e){var t;return Cy({},n,(t={},t[e]=Oue,t))},{}),Bue=function(e){return function(t){var i={},o=Xc(t,"breakpoints",Rue),r=[null].concat(o.map(function(d){return"@media screen and (min-width: "+d+")"}));for(var s in e){var a=typeof e[s]=="function"?e[s](t):e[s];if(a!=null){if(!Array.isArray(a)){i[s]=a;continue}for(var l=0;l<a.slice(0,r.length).length;l++){var c=r[l];if(!c){i[s]=a[l];continue}i[c]=i[c]||{},a[l]!=null&&(i[c][s]=a[l])}}}return i}},LX=function n(e){return function(t){t===void 0&&(t={});var i=Cy({},Mue,{},t.theme||t),o={},r=typeof e=="function"?e(i):e,s=Bue(r)(i);for(var a in s){var l=s[a],c=typeof l=="function"?l(i):l;if(a==="variant"){var d=n(Xc(i,c))(i);o=Cy({},o,{},d);continue}if(c&&typeof c=="object"){o[a]=n(c)(i);continue}var u=Xc(Aue,a,a),h=Xc(Pue,u),g=Xc(i,h,Xc(i,u,{})),f=Xc(Fue,u,Xc),p=f(g,c,c);if(HH[u])for(var b=HH[u],v=0;v<b.length;v++)o[b[v]]=p;else o[u]=p}return o}},__=function(e){var t,i=e.scale,o=e.prop,r=o===void 0?"variant":o,s=e.variants,a=s===void 0?{}:s,l=e.key,c;Object.keys(a).length?c=function(g,f,p){return LX(Rd(f,g,null))(p.theme)}:c=function(g,f){return Rd(f,g,null)},c.scale=i||l,c.defaults=a;var d=(t={},t[r]=c,t),u=fS(d);return u},Wue=__({key:"buttons"}),Vue=__({key:"textStyles",prop:"textStyle"}),Hue=__({key:"colorStyles",prop:"colors"}),zue=ha.width,Uue=ha.height,$ue=ha.minWidth,jue=ha.minHeight,Kue=ha.maxWidth,que=ha.maxHeight,Gue=ha.size,Zue=ha.verticalAlign,DX=ha.display,Yue=ha.overflow,Xue=ha.overflowX,Que=ha.overflowY,Jue=ET.opacity,ehe=jd.fontSize,the=jd.fontFamily,ihe=jd.fontWeight,nhe=jd.lineHeight,ohe=jd.textAlign,rhe=jd.fontStyle,she=jd.letterSpacing,ahe=Rs.alignItems,lhe=Rs.alignContent,che=Rs.justifyItems,dhe=Rs.justifyContent,uhe=Rs.flexWrap,hhe=Rs.flexDirection,ghe=Rs.flex,fhe=Rs.flexGrow,phe=Rs.flexShrink,mhe=Rs.flexBasis,vhe=Rs.justifySelf,bhe=Rs.alignSelf,_he=Rs.order,Che=ga.gridGap,yhe=ga.gridColumnGap,whe=ga.gridRowGap,She=ga.gridColumn,xhe=ga.gridRow,khe=ga.gridAutoFlow,Lhe=ga.gridAutoColumns,Dhe=ga.gridAutoRows,Ehe=ga.gridTemplateColumns,The=ga.gridTemplateRows,Ihe=ga.gridTemplateAreas,Nhe=ga.gridArea,Rhe=yl.borderWidth,Mhe=yl.borderStyle,Ahe=yl.borderColor,Phe=yl.borderTop,Ohe=yl.borderRight,Fhe=yl.borderBottom,Bhe=yl.borderLeft,Whe=yl.borderRadius,Vhe=g0.backgroundImage,Hhe=g0.backgroundSize,zhe=g0.backgroundPosition,Uhe=g0.backgroundRepeat,$he=Um.zIndex,jhe=Um.top,Khe=Um.right,qhe=Um.bottom,Ghe=Um.left,Zhe=function(e){var t=e.prop,i=e.cssProperty,o=e.alias,r=e.key,s=e.transformValue,a=e.scale,l=e.properties,c={};c[t]=AD({properties:l,property:i||t,scale:r,defaultScale:a,transform:s}),o&&(c[o]=c[t]);var d=fS(c);return d};const Yhe=Object.freeze(Object.defineProperty({__proto__:null,alignContent:lhe,alignItems:ahe,alignSelf:bhe,background:g0,backgroundImage:Vhe,backgroundPosition:zhe,backgroundRepeat:Uhe,backgroundSize:Hhe,border:yl,borderBottom:Fhe,borderColor:Ahe,borderLeft:Bhe,borderRadius:Whe,borderRight:Ohe,borderStyle:Mhe,borderTop:Phe,borderWidth:Rhe,borders:yl,bottom:qhe,boxShadow:_C,buttonStyle:Wue,color:ET,colorStyle:Hue,compose:SX,createParser:fS,createStyleFunction:AD,display:DX,flex:ghe,flexBasis:mhe,flexDirection:hhe,flexGrow:fhe,flexShrink:phe,flexWrap:uhe,flexbox:Rs,fontFamily:the,fontSize:ehe,fontStyle:rhe,fontWeight:ihe,get:Rd,grid:ga,gridArea:Nhe,gridAutoColumns:Lhe,gridAutoFlow:khe,gridAutoRows:Dhe,gridColumn:She,gridColumnGap:yhe,gridGap:Che,gridRow:xhe,gridRowGap:whe,gridTemplateAreas:Ihe,gridTemplateColumns:Ehe,gridTemplateRows:The,height:Uue,justifyContent:dhe,justifyItems:che,justifySelf:vhe,layout:ha,left:Ghe,letterSpacing:she,lineHeight:nhe,margin:xX,maxHeight:que,maxWidth:Kue,minHeight:jue,minWidth:$ue,opacity:Jue,order:_he,overflow:Yue,overflowX:Xue,overflowY:Que,padding:kX,position:Um,right:Khe,shadow:_C,size:Gue,space:m8,style:Zhe,system:Ua,textAlign:ohe,textShadow:_C,textStyle:Vue,top:jhe,typography:jd,variant:__,verticalAlign:Zue,width:zue,zIndex:$he},Symbol.toStringTag,{value:"Module"}));var Xhe=function(e){return Qhe(e)&&!Jhe(e)};function Qhe(n){return!!n&&typeof n=="object"}function Jhe(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||ige(n)}var ege=typeof Symbol=="function"&&Symbol.for,tge=ege?Symbol.for("react.element"):60103;function ige(n){return n.$$typeof===tge}function nge(n){return Array.isArray(n)?[]:{}}function yy(n,e){return e.clone!==!1&&e.isMergeableObject(n)?C_(nge(n),n,e):n}function oge(n,e,t){return n.concat(e).map(function(i){return yy(i,t)})}function rge(n,e){if(!e.customMerge)return C_;var t=e.customMerge(n);return typeof t=="function"?t:C_}function sge(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter(function(e){return Object.propertyIsEnumerable.call(n,e)}):[]}function zH(n){return Object.keys(n).concat(sge(n))}function EX(n,e){try{return e in n}catch{return!1}}function age(n,e){return EX(n,e)&&!(Object.hasOwnProperty.call(n,e)&&Object.propertyIsEnumerable.call(n,e))}function lge(n,e,t){var i={};return t.isMergeableObject(n)&&zH(n).forEach(function(o){i[o]=yy(n[o],t)}),zH(e).forEach(function(o){age(n,o)||(EX(n,o)&&t.isMergeableObject(e[o])?i[o]=rge(o,t)(n[o],e[o],t):i[o]=yy(e[o],t))}),i}function C_(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||oge,t.isMergeableObject=t.isMergeableObject||Xhe,t.cloneUnlessOtherwiseSpecified=yy;var i=Array.isArray(e),o=Array.isArray(n),r=i===o;return r?i?t.arrayMerge(n,e,t):lge(n,e,t):yy(e,t)}C_.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,o){return C_(i,o,t)},{})};var cge=C_,dge=cge;const wl=Vm(dge),Ch=n=>LX(n.sx),qi=Ec.div.withConfig({displayName:"Box",componentId:"sc-g0xbh4-0"})(m8,ET,jd,ha,Rs,ga,g0,yl,Um,_C,Ch);var PD={exports:{}};PD.exports;(function(n,e){var t=9007199254740991,i="[object Arguments]",o="[object Function]",r="[object GeneratorFunction]",s="[object Map]",a="[object Object]",l="[object Promise]",c="[object Set]",d="[object WeakMap]",u="[object DataView]",h=/[\\^$.*+?()[\]{}|]/g,g=/^\[object .+?Constructor\]$/,f=typeof R1=="object"&&R1&&R1.Object===Object&&R1,p=typeof self=="object"&&self&&self.Object===Object&&self,b=f||p||Function("return this")(),v=e&&!e.nodeType&&e,_=v&&!0&&n&&!n.nodeType&&n,C=_&&_.exports===v;function y(q,xe){return q==null?void 0:q[xe]}function w(q){var xe=!1;if(q!=null&&typeof q.toString!="function")try{xe=!!(q+"")}catch{}return xe}function S(q,xe){return function(Fe){return q(xe(Fe))}}var x=Function.prototype,L=Object.prototype,E=b["__core-js_shared__"],O=function(){var q=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return q?"Symbol(src)_1."+q:""}(),P=x.toString,A=L.hasOwnProperty,F=L.toString,K=RegExp("^"+P.call(A).replace(h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=C?b.Buffer:void 0,ye=L.propertyIsEnumerable,be=te?te.isBuffer:void 0,ae=S(Object.keys,Object),Q=at(b,"DataView"),_e=at(b,"Map"),Ie=at(b,"Promise"),se=at(b,"Set"),Y=at(b,"WeakMap"),Ne=!ye.call({valueOf:1},"valueOf"),tt=Kt(Q),ne=Kt(_e),$e=Kt(Ie),Me=Kt(se),ni=Kt(Y);function kt(q){return F.call(q)}function Te(q){if(!H(q)||Wi(q))return!1;var xe=M(q)||w(q)?K:g;return xe.test(Kt(q))}function at(q,xe){var Fe=y(q,xe);return Te(Fe)?Fe:void 0}var ai=kt;(Q&&ai(new Q(new ArrayBuffer(1)))!=u||_e&&ai(new _e)!=s||Ie&&ai(Ie.resolve())!=l||se&&ai(new se)!=c||Y&&ai(new Y)!=d)&&(ai=function(q){var xe=F.call(q),Fe=xe==a?q.constructor:void 0,ut=Fe?Kt(Fe):void 0;if(ut)switch(ut){case tt:return u;case ne:return s;case $e:return l;case Me:return c;case ni:return d}return xe});function Wi(q){return!!O&&O in q}function Ft(q){var xe=q&&q.constructor,Fe=typeof xe=="function"&&xe.prototype||L;return q===Fe}function Kt(q){if(q!=null){try{return P.call(q)}catch{}try{return q+""}catch{}}return""}function Yt(q){return re(q)&&A.call(q,"callee")&&(!ye.call(q,"callee")||F.call(q)==i)}var Rn=Array.isArray;function Os(q){return q!=null&&R(q.length)&&!M(q)}function re(q){return V(q)&&Os(q)}var G=be||le;function Z(q){if(Os(q)&&(Rn(q)||typeof q=="string"||typeof q.splice=="function"||G(q)||Yt(q)))return!q.length;var xe=ai(q);if(xe==s||xe==c)return!q.size;if(Ne||Ft(q))return!ae(q).length;for(var Fe in q)if(A.call(q,Fe))return!1;return!0}function M(q){var xe=H(q)?F.call(q):"";return xe==o||xe==r}function R(q){return typeof q=="number"&&q>-1&&q%1==0&&q<=t}function H(q){var xe=typeof q;return!!q&&(xe=="object"||xe=="function")}function V(q){return!!q&&typeof q=="object"}function le(){return!1}n.exports=Z})(PD,PD.exports);var uge=PD.exports;const hge=Vm(uge);function gge(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}var fge=gge;const pge=Vm(fge),mge=hge,vge=pge;function bge(n){return n.map(e=>e.includes(" ")?`"${e}"`:e).join(", ")}function v8(n){return typeof n=="string"&&/(inset\s|)([0-9.]+(\w*)\s){1,4}(rgb[a]?\(.*\)|\w+)/.test(n)}function TX(n){return v8(n)?!1:!!(n.startsWith("#")||n.startsWith("rgb")||n.startsWith("hsl")||n.startsWith("var"))}function OD(n,e){return Array.isArray(n)?n.filter(e):Object.entries(n).reduce((t,[i,o])=>{if(vge(o)){const r=OD(o,e);mge(r)||(t[i]=r)}else e(o)&&(t[i]=o);return t},{})}function _ge(n){return{colors:OD(n,e=>TX(e)),shadows:OD(n,e=>v8(e))}}function Cge(n){const{scale:e,...t}=n;return t}var UH={fontStack:bge,isShadowValue:v8,isColorValue:TX,filterObject:OD,partitionColors:_ge,omitScale:Cge};const yge={light:{colors:{canvasDefaultTransparent:"var(--bgColor-transparent, var(--color-canvas-default-transparent, rgba(255,255,255,0)))",pageHeaderBg:"var(--page-header-bgColor, var(--color-page-header-bg, #f6f8fa))",marketingIcon:{primary:"var(--color-marketing-icon-primary, #218bff)",secondary:"var(--color-marketing-icon-secondary, #54aeff)"},diffBlob:{addition:{numText:"var(--diffBlob-addition-fgColor-num, var(--color-diff-blob-addition-num-text, #1F2328))",fg:"var(--diffBlob-addition-fgColor-text, var(--color-diff-blob-addition-fg, #1F2328))",numBg:"var(--diffBlob-addition-bgColor-num, var(--color-diff-blob-addition-num-bg, #ccffd8))",lineBg:"var(--diffBlob-addition-bgColor-line, var(--color-diff-blob-addition-line-bg, #e6ffec))",wordBg:"var(--diffBlob-addition-bgColor-word, var(--color-diff-blob-addition-word-bg, #abf2bc))"},deletion:{numText:"var(--diffBlob-deletion-fgColor-num, var(--color-diff-blob-deletion-num-text, #1F2328))",fg:"var(--diffBlob-deletion-fgColor-text, var(--color-diff-blob-deletion-fg, #1F2328))",numBg:"var(--diffBlob-deletion-bgColor-num, var(--color-diff-blob-deletion-num-bg, #ffd7d5))",lineBg:"var(--diffBlob-deletion-bgColor-line, var(--color-diff-blob-deletion-line-bg, #ffebe9))",wordBg:"var(--diffBlob-deletion-bgColor-word, var(--color-diff-blob-deletion-word-bg, rgba(255,129,130,0.4)))"},hunk:{numBg:"var(--diffBlob-hunk-bgColor-num, var(--color-diff-blob-hunk-num-bg, rgba(84,174,255,0.4)))"},expander:{icon:"var(--diffBlob-expander-iconColor, var(--color-diff-blob-expander-icon, #656d76))"},selectedLineHighlightMixBlendMode:"var(--color-diff-blob-selected-line-highlight-mix-blend-mode, multiply)"},diffstat:{deletionBorder:"var(--color-diffstat-deletion-border, rgba(31,35,40,0.15))",additionBorder:"var(--color-diffstat-addition-border, rgba(31,35,40,0.15))",additionBg:"var(undefined, var(--color-diffstat-addition-bg, #1f883d))"},searchKeyword:{hl:"var(--highlight-neutral-bgColor, var(--color-search-keyword-hl, #fff8c5))"},prettylights:{syntax:{comment:"var(--color-prettylights-syntax-comment, #57606a)",constant:"var(--color-prettylights-syntax-constant, #0550ae)",entity:"var(--color-prettylights-syntax-entity, #6639ba)",storageModifierImport:"var(--color-prettylights-syntax-storage-modifier-import, #24292f)",entityTag:"var(--color-prettylights-syntax-entity-tag, #116329)",keyword:"var(--color-prettylights-syntax-keyword, #cf222e)",string:"var(--color-prettylights-syntax-string, #0a3069)",variable:"var(--color-prettylights-syntax-variable, #953800)",brackethighlighterUnmatched:"var(--color-prettylights-syntax-brackethighlighter-unmatched, #82071e)",invalidIllegalText:"var(--color-prettylights-syntax-invalid-illegal-text, #f6f8fa)",invalidIllegalBg:"var(--color-prettylights-syntax-invalid-illegal-bg, #82071e)",carriageReturnText:"var(--color-prettylights-syntax-carriage-return-text, #f6f8fa)",carriageReturnBg:"var(--color-prettylights-syntax-carriage-return-bg, #cf222e)",stringRegexp:"var(--color-prettylights-syntax-string-regexp, #116329)",markupList:"var(--color-prettylights-syntax-markup-list, #3b2300)",markupHeading:"var(--color-prettylights-syntax-markup-heading, #0550ae)",markupItalic:"var(--color-prettylights-syntax-markup-italic, #24292f)",markupBold:"var(--color-prettylights-syntax-markup-bold, #24292f)",markupDeletedText:"var(--color-prettylights-syntax-markup-deleted-text, #82071e)",markupDeletedBg:"var(--color-prettylights-syntax-markup-deleted-bg, #ffebe9)",markupInsertedText:"var(--color-prettylights-syntax-markup-inserted-text, #116329)",markupInsertedBg:"var(--color-prettylights-syntax-markup-inserted-bg, #dafbe1)",markupChangedText:"var(--color-prettylights-syntax-markup-changed-text, #953800)",markupChangedBg:"var(--color-prettylights-syntax-markup-changed-bg, #ffd8b5)",markupIgnoredText:"var(--color-prettylights-syntax-markup-ignored-text, #eaeef2)",markupIgnoredBg:"var(--color-prettylights-syntax-markup-ignored-bg, #0550ae)",metaDiffRange:"var(--color-prettylights-syntax-meta-diff-range, #8250df)",brackethighlighterAngle:"var(--color-prettylights-syntax-brackethighlighter-angle, #57606a)",sublimelinterGutterMark:"var(--color-prettylights-syntax-sublimelinter-gutter-mark, #8c959f)",constantOtherReferenceLink:"var(--color-prettylights-syntax-constant-other-reference-link, #0a3069)"}},codemirror:{text:"var(--codeMirror-fgColor, var(--color-codemirror-text, #1F2328))",bg:"var(--codeMirror-bgColor, var(--color-codemirror-bg, #ffffff))",guttersBg:"var(--codeMirror-gutters-bgColor, var(--color-codemirror-gutters-bg, #ffffff))",guttermarkerText:"var(--codeMirror-gutterMarker-fgColor-default, var(--color-codemirror-guttermarker-text, #ffffff))",guttermarkerSubtleText:"var(--codeMirror-gutterMarker-fgColor-muted, var(--color-codemirror-guttermarker-subtle-text, #6e7781))",linenumberText:"var(--codeMirror-lineNumber-fgColor, var(--color-codemirror-linenumber-text, #656d76))",cursor:"var(--codeMirror-cursor-fgColor, var(--color-codemirror-cursor, #1F2328))",selectionBg:"var(--codeMirror-selection-bgColor, var(--color-codemirror-selection-bg, rgba(84,174,255,0.4)))",activelineBg:"var(--codeMirror-activeline-bgColor, var(--color-codemirror-activeline-bg, rgba(234,238,242,0.5)))",matchingbracketText:"var(--codeMirror-matchingBracket-fgColor, var(--color-codemirror-matchingbracket-text, #1F2328))",linesBg:"var(--codeMirror-lines-bgColor, var(--color-codemirror-lines-bg, #ffffff))",syntax:{comment:"var(--codeMirror-syntax-fgColor-comment, var(--color-codemirror-syntax-comment, #24292f))",constant:"var(--codeMirror-syntax-fgColor-constant, var(--color-codemirror-syntax-constant, #0550ae))",entity:"var(--codeMirror-syntax-fgColor-entity, var(--color-codemirror-syntax-entity, #8250df))",keyword:"var(--codeMirror-syntax-fgColor-keyword, var(--color-codemirror-syntax-keyword, #cf222e))",storage:"var(--codeMirror-syntax-fgColor-storage, var(--color-codemirror-syntax-storage, #cf222e))",string:"var(--codeMirror-syntax-fgColor-string, var(--color-codemirror-syntax-string, #0a3069))",support:"var(--codeMirror-syntax-fgColor-support, var(--color-codemirror-syntax-support, #0550ae))",variable:"var(--codeMirror-syntax-fgColor-variable, var(--color-codemirror-syntax-variable, #953800))"}},checks:{bg:"var(--color-checks-bg, #24292f)",runBorderWidth:"var(--color-checks-run-border-width, 0px)",containerBorderWidth:"var(--color-checks-container-border-width, 0px)",textPrimary:"var(--color-checks-text-primary, #f6f8fa)",textSecondary:"var(--color-checks-text-secondary, #8c959f)",textLink:"var(--color-checks-text-link, #54aeff)",btnIcon:"var(--color-checks-btn-icon, #afb8c1)",btnHoverIcon:"var(--color-checks-btn-hover-icon, #f6f8fa)",btnHoverBg:"var(--color-checks-btn-hover-bg, rgba(255,255,255,0.125))",inputText:"var(--color-checks-input-text, #eaeef2)",inputPlaceholderText:"var(--color-checks-input-placeholder-text, #8c959f)",inputFocusText:"var(--color-checks-input-focus-text, #8c959f)",inputBg:"var(--color-checks-input-bg, #32383f)",inputShadow:"var(--color-checks-input-shadow, none)",donutError:"var(--color-checks-donut-error, #fa4549)",donutPending:"var(--color-checks-donut-pending, #bf8700)",donutSuccess:"var(--color-checks-donut-success, #1f883d)",donutNeutral:"var(--color-checks-donut-neutral, #afb8c1)",dropdownText:"var(--color-checks-dropdown-text, #afb8c1)",dropdownBg:"var(--color-checks-dropdown-bg, #32383f)",dropdownBorder:"var(--color-checks-dropdown-border, #424a53)",dropdownShadow:"var(--color-checks-dropdown-shadow, rgba(31,35,40,0.3))",dropdownHoverText:"var(--color-checks-dropdown-hover-text, #f6f8fa)",dropdownHoverBg:"var(--color-checks-dropdown-hover-bg, #424a53)",dropdownBtnHoverText:"var(--color-checks-dropdown-btn-hover-text, #f6f8fa)",dropdownBtnHoverBg:"var(--color-checks-dropdown-btn-hover-bg, #32383f)",scrollbarThumbBg:"var(--color-checks-scrollbar-thumb-bg, #57606a)",headerLabelText:"var(--color-checks-header-label-text, #d0d7de)",headerLabelOpenText:"var(--color-checks-header-label-open-text, #f6f8fa)",headerBorder:"var(--color-checks-header-border, #32383f)",headerIcon:"var(--color-checks-header-icon, #8c959f)",lineText:"var(--color-checks-line-text, #d0d7de)",lineNumText:"var(--color-checks-line-num-text, rgba(140,149,159,0.75))",lineTimestampText:"var(--color-checks-line-timestamp-text, #8c959f)",lineHoverBg:"var(--color-checks-line-hover-bg, #32383f)",lineSelectedBg:"var(--color-checks-line-selected-bg, rgba(33,139,255,0.15))",lineSelectedNumText:"var(--color-checks-line-selected-num-text, #54aeff)",lineDtFmText:"var(--color-checks-line-dt-fm-text, #24292f)",lineDtFmBg:"var(--color-checks-line-dt-fm-bg, #9a6700)",gateBg:"var(--color-checks-gate-bg, rgba(125,78,0,0.15))",gateText:"var(--color-checks-gate-text, #d0d7de)",gateWaitingText:"var(--color-checks-gate-waiting-text, #d4a72c)",stepHeaderOpenBg:"var(--color-checks-step-header-open-bg, #32383f)",stepErrorText:"var(--color-checks-step-error-text, #ff8182)",stepWarningText:"var(--color-checks-step-warning-text, #d4a72c)",loglineText:"var(--color-checks-logline-text, #8c959f)",loglineNumText:"var(--color-checks-logline-num-text, rgba(140,149,159,0.75))",loglineDebugText:"var(--color-checks-logline-debug-text, #c297ff)",loglineErrorText:"var(--color-checks-logline-error-text, #d0d7de)",loglineErrorNumText:"var(--color-checks-logline-error-num-text, #ff8182)",loglineErrorBg:"var(--color-checks-logline-error-bg, rgba(164,14,38,0.15))",loglineWarningText:"var(--color-checks-logline-warning-text, #d0d7de)",loglineWarningNumText:"var(--color-checks-logline-warning-num-text, #d4a72c)",loglineWarningBg:"var(--color-checks-logline-warning-bg, rgba(125,78,0,0.15))",loglineCommandText:"var(--color-checks-logline-command-text, #54aeff)",loglineSectionText:"var(--color-checks-logline-section-text, #4ac26b)",ansi:{black:"var(--color-checks-ansi-black, #24292f)",blackBright:"var(--color-checks-ansi-black-bright, #32383f)",white:"var(--color-checks-ansi-white, #d0d7de)",whiteBright:"var(--color-checks-ansi-white-bright, #d0d7de)",gray:"var(--color-checks-ansi-gray, #8c959f)",red:"var(--color-checks-ansi-red, #ff8182)",redBright:"var(--color-checks-ansi-red-bright, #ffaba8)",green:"var(--color-checks-ansi-green, #4ac26b)",greenBright:"var(--color-checks-ansi-green-bright, #6fdd8b)",yellow:"var(--color-checks-ansi-yellow, #d4a72c)",yellowBright:"var(--color-checks-ansi-yellow-bright, #eac54f)",blue:"var(--color-checks-ansi-blue, #54aeff)",blueBright:"var(--color-checks-ansi-blue-bright, #80ccff)",magenta:"var(--color-checks-ansi-magenta, #c297ff)",magentaBright:"var(--color-checks-ansi-magenta-bright, #d8b9ff)",cyan:"var(--color-checks-ansi-cyan, #76e3ea)",cyanBright:"var(--color-checks-ansi-cyan-bright, #b3f0ff)"}},project:{headerBg:"var(--color-project-header-bg, #24292f)",sidebarBg:"var(--color-project-sidebar-bg, #ffffff)",gradientIn:"var(--color-project-gradient-in, #ffffff)",gradientOut:"var(--color-project-gradient-out, rgba(255,255,255,0))"},mktg:{btn:{bg:"var(--color-mktg-btn-bg, #1b1f23))"}},control:{borderColor:{emphasis:"var(--control-borderColor-emphasis, var(--color-control-border-color-emphasis, #858F99))"}},avatar:{bg:"var(--avatar-bgColor, var(--color-avatar-bg, #ffffff))",border:"var(--avatar-borderColor, var(--color-avatar-border, rgba(31,35,40,0.15)))",stackFade:"var(--avatarStack-fade-bgColor-default, var(--color-avatar-stack-fade, #afb8c1))",stackFadeMore:"var(--avatarStack-fade-bgColor-muted, var(--color-avatar-stack-fade-more, #d0d7de))"},topicTag:{border:"var(--topicTag-borderColor, var(--color-topic-tag-border, transparent))"},counter:{border:"var(--counter-borderColor, var(--color-counter-border, transparent))"},selectMenu:{backdropBorder:"var(--selectMenu-borderColor, var(--color-select-menu-backdrop-border, transparent))",tapHighlight:"var(--control-bgColor-active, var(--color-select-menu-tap-highlight, rgba(175,184,193,0.5)))",tapFocusBg:"var(--selectMenu-bgColor-active, var(--color-select-menu-tap-focus-bg, #b6e3ff))"},overlay:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-overlay-backdrop, rgba(140,149,159,0.2)))"},header:{text:"var(--header-fgColor-default, var(--color-header-text, rgba(255,255,255,0.7)))",bg:"var(--header-bgColor, var(--color-header-bg, #24292f))",divider:"var(--header-borderColor-divider, var(--color-header-divider, #57606a))",logo:"var(--header-fgColor-logo, var(--color-header-logo, #ffffff))"},headerSearch:{bg:"var(--headerSearch-bgColor, var(--color-header-search-bg, #24292f))",border:"var(--headerSearch-borderColor, var(--color-header-search-border, #57606a))"},sidenav:{selectedBg:"var(--sideNav-bgColor-selected, var(--color-sidenav-selected-bg, #ffffff))"},menu:{bgActive:"var(--menu-bgColor-active, var(--color-menu-bg-active, transparent))"},input:{disabledBg:"var(--control-bgColor-disabled, var(--color-input-disabled-bg, rgba(175,184,193,0.2)))"},timeline:{badgeBg:"var(--timelineBadge-bgColor, var(--color-timeline-badge-bg, #eaeef2))"},ansi:{black:"var(--color-ansi-black, #24292f)",blackBright:"var(--color-ansi-black-bright, #57606a)",white:"var(--color-ansi-white, #6e7781)",whiteBright:"var(--color-ansi-white-bright, #8c959f)",gray:"var(--color-ansi-gray, #6e7781)",red:"var(--color-ansi-red, #cf222e)",redBright:"var(--color-ansi-red-bright, #a40e26)",green:"var(--color-ansi-green, #116329)",greenBright:"var(--color-ansi-green-bright, #1a7f37)",yellow:"var(--color-ansi-yellow, #4d2d00)",yellowBright:"var(--color-ansi-yellow-bright, #633c01)",blue:"var(--color-ansi-blue, #0969da)",blueBright:"var(--color-ansi-blue-bright, #218bff)",magenta:"var(--color-ansi-magenta, #8250df)",magentaBright:"var(--color-ansi-magenta-bright, #a475f9)",cyan:"var(--color-ansi-cyan, #1b7c83)",cyanBright:"var(--color-ansi-cyan-bright, #3192aa)"},btn:{text:"var(--button-default-fgColor-rest, var(--color-btn-text, #24292f))",bg:"var(--button-default-bgColor-rest, var(--color-btn-bg, #f6f8fa))",border:"var(--button-default-borderColor-rest, var(--color-btn-border, rgba(31,35,40,0.15)))",hoverBg:"var(--button-default-bgColor-hover, var(--color-btn-hover-bg, #f3f4f6))",hoverBorder:"var(--button-default-borderColor-hover, var(--color-btn-hover-border, rgba(31,35,40,0.15)))",activeBg:"var(--button-default-bgColor-active, var(--color-btn-active-bg, hsla(220,14%,93%,1)))",activeBorder:"var(--button-default-borderColor-active, var(--color-btn-active-border, rgba(31,35,40,0.15)))",selectedBg:"var(--button-default-bgColor-selected, var(--color-btn-selected-bg, hsla(220,14%,94%,1)))",counterBg:"var(--buttonCounter-default-bgColor-rest, var(--color-btn-counter-bg, rgba(31,35,40,0.08)))",primary:{text:"var(--button-primary-fgColor-rest, var(--color-btn-primary-text, #ffffff))",bg:"var(--button-primary-bgColor-rest, var(--color-btn-primary-bg, #1f883d))",border:"var(--button-primary-borderColor-rest, var(--color-btn-primary-border, rgba(31,35,40,0.15)))",hoverBg:"var(--button-primary-bgColor-hover, var(--color-btn-primary-hover-bg, #1a7f37))",hoverBorder:"var(--button-primary-borderColor-hover, var(--color-btn-primary-hover-border, rgba(31,35,40,0.15)))",selectedBg:"var(--button-primary-bgColor-active, var(--color-btn-primary-selected-bg, hsla(137,66%,28%,1)))",disabledText:"var(--button-primary-fgColor-disabled, var(--color-btn-primary-disabled-text, rgba(255,255,255,0.8)))",disabledBg:"var(--button-primary-bgColor-disabled, var(--color-btn-primary-disabled-bg, #94d3a2))",disabledBorder:"var(--button-primary-borderColor-disabled, var(--color-btn-primary-disabled-border, rgba(31,35,40,0.15)))",icon:"var(--button-primary-iconColor-rest, var(--color-btn-primary-icon, rgba(255,255,255,0.8)))",counterBg:"var(--buttonCounter-primary-bgColor-rest, var(--color-btn-primary-counter-bg, rgba(0,45,17,0.2)))"},outline:{text:"var(--button-outline-fgColor-rest, var(--color-btn-outline-text, #0969da))",hoverText:"var(--button-outline-fgColor-hover, var(--color-btn-outline-hover-text, #ffffff))",hoverBg:"var(--button-outline-bgColor-hover, var(--color-btn-outline-hover-bg, #0969da))",hoverBorder:"var(--button-outline-borderColor-hover, var(--color-btn-outline-hover-border, rgba(31,35,40,0.15)))",hoverCounterBg:"var(--buttonCounter-outline-bgColor-hover, var(--color-btn-outline-hover-counter-bg, rgba(255,255,255,0.2)))",selectedText:"var(--button-outline-fgColor-active, var(--color-btn-outline-selected-text, #ffffff))",selectedBg:"var(--button-outline-bgColor-active, var(--color-btn-outline-selected-bg, hsla(212,92%,42%,1)))",selectedBorder:"var(--button-outline-borderColor-active, var(--color-btn-outline-selected-border, rgba(31,35,40,0.15)))",disabledText:"var(--button-outline-fgColor-disabled, var(--color-btn-outline-disabled-text, rgba(9,105,218,0.5)))",disabledBg:"var(--button-outline-bgColor-disabled, var(--color-btn-outline-disabled-bg, #f6f8fa))",disabledCounterBg:"var(--buttonCounter-outline-bgColor-disabled, var(--color-btn-outline-disabled-counter-bg, rgba(9,105,218,0.05)))",counterBg:"var(--buttonCounter-outline-bgColor-rest, var(--color-btn-outline-counter-bg, #0969da1a))",counterFg:"var(--buttonCounter-outline-fgColor-rest, var(--color-btn-outline-counter-fg, #0550ae))",hoverCounterFg:"var(--buttonCounter-outline-fgColor-hover, var(--color-btn-outline-hover-counter-fg, #ffffff))",disabledCounterFg:"var(--buttonCounter-outline-fgColor-disabled, var(--color-btn-outline-disabled-counter-fg, rgba(9,105,218,0.5)))"},danger:{text:"var(--button-danger-fgColor-rest, var(--color-btn-danger-text, #cf222e))",hoverText:"var(--button-danger-fgColor-hover, var(--color-btn-danger-hover-text, #ffffff))",hoverBg:"var(--button-danger-bgColor-hover, var(--color-btn-danger-hover-bg, #a40e26))",hoverBorder:"var(--button-danger-borderColor-hover, var(--color-btn-danger-hover-border, rgba(31,35,40,0.15)))",hoverCounterBg:"var(--buttonCounter-danger-bgColor-hover, var(--color-btn-danger-hover-counter-bg, rgba(255,255,255,0.2)))",selectedText:"var(--button-danger-fgColor-active, var(--color-btn-danger-selected-text, #ffffff))",selectedBg:"var(--button-danger-bgColor-active, var(--color-btn-danger-selected-bg, hsla(356,72%,44%,1)))",selectedBorder:"var(--button-danger-borderColor-active, var(--color-btn-danger-selected-border, rgba(31,35,40,0.15)))",disabledText:"var(--button-danger-fgColor-disabled, var(--color-btn-danger-disabled-text, rgba(207,34,46,0.5)))",disabledBg:"var(--button-danger-bgColor-disabled, var(--color-btn-danger-disabled-bg, #f6f8fa))",disabledCounterBg:"var(--buttonCounter-danger-bgColor-disabled, var(--color-btn-danger-disabled-counter-bg, rgba(207,34,46,0.05)))",counterBg:"var(--buttonCounter-danger-bgColor-rest, var(--color-btn-danger-counter-bg, rgba(207,34,46,0.1)))",icon:"var(--button-danger-iconColor-rest, var(--color-btn-danger-icon, #cf222e))",hoverIcon:"var(--button-danger-iconColor-hover, var(--color-btn-danger-hover-icon, #ffffff))",counterFg:"var(--buttonCounter-danger-fgColor-rest, var(--color-btn-danger-counter-fg, #a40e26))",hoverCounterFg:"var(--buttonCounter-danger-fgColor-hover, var(--color-btn-danger-hover-counter-fg, #ffffff))",disabledCounterFg:"var(--buttonCounter-danger-fgColor-disabled, var(--color-btn-danger-disabled-counter-fg, rgba(207,34,46,0.5)))"},inactive:{bg:"var(--button-inactive-bgColor-rest, var(--color-btn-inactive-bg, #eaeef2))",text:"var(--button-inactive-fgColor-rest, var(--color-btn-inactive-text, #57606a))"}},underlinenav:{icon:"var(--underlineNav-iconColor-rest, var(--color-underlinenav-icon, #6e7781))",borderHover:"var(--underlineNav-borderColor-hover, var(--color-underlinenav-border-hover, rgba(175,184,193,0.2)))"},actionListItem:{inlineDivider:"var(--borderColor-muted, var(--color-action-list-item-inline-divider, rgba(208,215,222,0.48)))",default:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-action-list-item-default-hover-bg, rgba(208,215,222,0.32)))",hoverBorder:"var(--control-transparent-borderColor-hover, var(--color-action-list-item-default-hover-border, transparent))",activeBg:"var(--control-transparent-bgColor-active, var(--color-action-list-item-default-active-bg, rgba(208,215,222,0.48)))",activeBorder:"var(--control-transparent-borderColor-active, var(--color-action-list-item-default-active-border, transparent))",selectedBg:"var(--control-transparent-bgColor-selected, var(--color-action-list-item-default-selected-bg, rgba(208,215,222,0.24)))"},danger:{hoverBg:"var(--control-danger-bgColor-hover, var(--color-action-list-item-default-danger-hover-bg, rgba(255,235,233,0.64)))",activeBg:"var(--control-danger-bgColor-active, var(--color-action-list-item-default-danger-active-bg, #ffebe9))",hoverText:"var(--control-danger-fgColor-hover, var(--color-action-list-item-default-danger-hover-text, #d1242f))"}},switchTrack:{bg:"var(--controlTrack-bgColor-rest, var(--color-switch-track-bg, #eaeef2))",hoverBg:"var(--controlTrack-bgColor-hover, var(--color-switch-track-hover-bg, hsla(210,24%,90%,1)))",activeBg:"var(--controlTrack-bgColor-active, var(--color-switch-track-active-bg, hsla(210,24%,88%,1)))",disabledBg:"var(--controlTrack-bgColor-disabled, var(--color-switch-track-disabled-bg, #8c959f))",fg:"var(--controlTrack-fgColor-rest, var(--color-switch-track-fg, #656d76))",disabledFg:"var(--controlTrack-fgColor-disabled, var(--color-switch-track-disabled-fg, #ffffff))",border:"var(--controlTrack-borderColor-rest, var(--color-switch-track-border, transparent))",checked:{bg:"var(--control-checked-bgColor-rest, var(--color-switch-track-checked-bg, #0969da))",hoverBg:"var(--control-checked-bgColor-hover, var(--color-switch-track-checked-hover-bg, #0860CA))",activeBg:"var(--control-checked-bgColor-active, var(--color-switch-track-checked-active-bg, #0757BA))",fg:"var(--control-checked-fgColor-rest, var(--color-switch-track-checked-fg, #ffffff))",disabledFg:"var(--control-checked-fgColor-disabled, var(--color-switch-track-checked-disabled-fg, #ffffff))",border:"var(--borderColor-transparent, var(--color-switch-track-checked-border, transparent))"}},switchKnob:{bg:"var(--controlKnob-bgColor-rest, var(--color-switch-knob-bg, #ffffff))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-disabled-bg, #f6f8fa))",border:"var(--controlKnob-borderColor-rest, var(--color-switch-knob-border, #858F99))",checked:{bg:"var(--controlKnob-bgColor-checked, var(--color-switch-knob-checked-bg, #ffffff))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-checked-disabled-bg, #f6f8fa))",border:"var(--controlKnob-borderColor-checked, var(--color-switch-knob-checked-border, #0969da))"}},segmentedControl:{bg:"var(--controlTrack-bgColor-rest, var(--color-segmented-control-bg, #eaeef2))",button:{bg:"var(--controlKnob-bgColor-rest, var(--color-segmented-control-button-bg, #ffffff))",hover:{bg:"var(--controlTrack-bgColor-hover, var(--color-segmented-control-button-hover-bg, rgba(175,184,193,0.2)))"},active:{bg:"var(--controlTrack-bgColor-active, var(--color-segmented-control-button-hover-active-bg, rgba(175,184,193,0.4)))"},selected:{border:"var(--controlKnob-borderColor-rest, var(--color-segmented-control-button-hover-active-selected-border, #8c959f))"}}},treeViewItem:{chevron:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-tree-view-item-chevron-hover-bg, rgba(208,215,222,0.32)))"},directory:{fill:"var(--treeViewItem-leadingVisual-bgColor-rest, var(--color-tree-view-item-chevron-directory-fill, #54aeff))"}},fg:{default:"var(--fgColor-default, var(--color-fg-default, #1F2328))",muted:"var(--fgColor-muted, var(--color-fg-muted, #656d76))",subtle:"var(--fgColor-muted, var(--color-fg-subtle, #6e7781))",onEmphasis:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis, #ffffff))"},canvas:{default:"var(--bgColor-default, var(--color-canvas-default, #ffffff))",overlay:"var(--overlay-bgColor, var(--color-canvas-overlay, #ffffff))",inset:"var(--bgColor-inset, var(--color-canvas-inset, #f6f8fa))",subtle:"var(--bgColor-muted, var(--color-canvas-subtle, #f6f8fa))"},border:{default:"var(--borderColor-default, var(--color-border-default, #d0d7de))",muted:"var(--borderColor-muted, var(--color-border-muted, hsla(210,18%,87%,1)))",subtle:"var(--borderColor-muted, var(--color-border-subtle, rgba(31,35,40,0.15)))"},neutral:{emphasisPlus:"var(--bgColor-emphasis, var(--color-neutral-emphasis-plus, #24292f))",emphasis:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis, #6e7781))",muted:"var(--bgColor-neutral-muted, var(--color-neutral-muted, rgba(175,184,193,0.2)))",subtle:"var(--bgColor-neutral-muted, var(--color-neutral-subtle, rgba(234,238,242,0.5)))"},accent:{fg:"var(--fgColor-accent, var(--color-accent-fg, #0969da))",emphasis:"var(--bgColor-accent-emphasis, var(--color-accent-emphasis, #0969da))",muted:"var(--borderColor-accent-muted, var(--color-accent-muted, rgba(84,174,255,0.4)))",subtle:"var(--bgColor-accent-muted, var(--color-accent-subtle, #ddf4ff))"},success:{fg:"var(--fgColor-success, var(--color-success-fg, #1a7f37))",emphasis:"var(--bgColor-success-emphasis, var(--color-success-emphasis, #1f883d))",muted:"var(--borderColor-success-muted, var(--color-success-muted, rgba(74,194,107,0.4)))",subtle:"var(--bgColor-success-muted, var(--color-success-subtle, #dafbe1))"},attention:{fg:"var(--fgColor-attention, var(--color-attention-fg, #9a6700))",emphasis:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis, #9a6700))",muted:"var(--borderColor-attention-muted, var(--color-attention-muted, rgba(212,167,44,0.4)))",subtle:"var(--bgColor-attention-muted, var(--color-attention-subtle, #fff8c5))"},severe:{fg:"var(--fgColor-severe, var(--color-severe-fg, #bc4c00))",emphasis:"var(--bgColor-severe-emphasis, var(--color-severe-emphasis, #bc4c00))",muted:"var(--borderColor-severe-muted, var(--color-severe-muted, rgba(251,143,68,0.4)))",subtle:"var(--bgColor-severe-muted, var(--color-severe-subtle, #fff1e5))"},danger:{fg:"var(--fgColor-danger, var(--color-danger-fg, #d1242f))",emphasis:"var(--borderColor-danger-emphasis, var(--color-danger-emphasis, #cf222e))",muted:"var(--borderColor-danger-muted, var(--color-danger-muted, rgba(255,129,130,0.4)))",subtle:"var(--bgColor-danger-muted, var(--color-danger-subtle, #ffebe9))"},open:{fg:"var(--fgColor-open, var(--color-open-fg, #1a7f37))",emphasis:"var(--bgColor-open-emphasis, var(--color-open-emphasis, #1f883d))",muted:"var(--borderColor-open-muted, var(--color-open-muted, rgba(74,194,107,0.4)))",subtle:"var(--bgColor-open-muted, var(--color-open-subtle, #dafbe1))"},closed:{fg:"var(--fgColor-closed, var(--color-closed-fg, #d1242f))",emphasis:"var(--bgColor-closed-emphasis, var(--color-closed-emphasis, #cf222e))",muted:"var(--borderColor-closed-muted, var(--color-closed-muted, rgba(255,129,130,0.4)))",subtle:"var(--bgColor-closed-muted, var(--color-closed-subtle, #ffebe9))"},done:{fg:"var(--fgColor-done, var(--color-done-fg, #8250df))",emphasis:"var(--bgColor-done-emphasis, var(--color-done-emphasis, #8250df))",muted:"var(--borderColor-done-muted, var(--color-done-muted, rgba(194,151,255,0.4)))",subtle:"var(--bgColor-done-muted, var(--color-done-subtle, #fbefff))"},sponsors:{fg:"var(--fgColor-sponsors, var(--color-sponsors-fg, #bf3989))",emphasis:"var(--bgColor-sponsors-emphasis, var(--color-sponsors-emphasis, #bf3989))",muted:"var(--borderColor-sponsors-muted, var(--color-sponsors-muted, rgba(255,128,200,0.4)))",subtle:"var(--bgColor-sponsors-muted, var(--color-sponsors-subtle, #ffeff7))"},primer:{fg:{disabled:"var(--fgColor-disabled, var(--color-primer-fg-disabled, #8c959f))"},canvas:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-primer-fg-canvas-backdrop, rgba(31,35,40,0.5)))",sticky:"var(--color-primer-canvas-sticky, rgba(255,255,255,0.95))"},border:{active:"var(--underlineNav-borderColor-active, var(--color-primer-border-active, #fd8c73))",contrast:"var(--borderColor-muted, var(--color-primer-border-contrast, rgba(31,35,40,0.1)))"}}},shadows:{mktg:{btn:{shadow:{outline:"var(--color-mktg-btn-shadow-outline, rgb(0 0 0 / 15%) 0 0 0 1px inset))",focus:"var(--color-mktg-btn-shadow-focus, rgb(0 0 0 / 15%) 0 0 0 4px))",hover:"var(--color-mktg-btn-shadow-hover, 0 3px 2px rgba(0, 0, 0, 0.07), 0 7px 5px rgba(0, 0, 0, 0.04), 0 12px 10px rgba(0, 0, 0, 0.03), 0 22px 18px rgba(0, 0, 0, 0.03), 0 42px 33px rgba(0, 0, 0, 0.02), 0 100px 80px rgba(0, 0, 0, 0.02)))",hoverMuted:"var(--color-mktg-btn-shadow-hover-muted, rgb(0 0 0 / 70%) 0 0 0 2px inset))"}}},avatar:{childShadow:"var(--avatar-shadow, var(--color-avatar-child-shadow, 0 0 0 2px rgba(255,255,255,0.8)))"},overlay:{shadow:"var(--shadow-floating-small, var(--color-overlay-shadow, 0 1px 3px rgba(31,35,40,0.12), 0 8px 24px rgba(66,74,83,0.12)))"},btn:{shadow:"var(--button-default-shadow-resting, var(--color-btn-shadow, 0 1px 0 rgba(31,35,40,0.04)))",insetShadow:"var(--button-default-shadow-inset, var(--color-btn-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.25)))",primary:{shadow:"var(--shadow-resting-small, var(--color-btn-primary-shadow, 0 1px 0 rgba(31,35,40,0.1)))",insetShadow:"var(--shadow-highlight, var(--color-btn-primary-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))",selectedShadow:"var(--button-primary-shadow-selected, var(--color-btn-primary-selected-shadow, inset 0 1px 0 rgba(0,45,17,0.2)))"},outline:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-outline-hover-shadow, 0 1px 0 rgba(31,35,40,0.1)))",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-outline-hover-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))",selectedShadow:"var(--button-outline-shadow-selected, var(--color-btn-outline-selected-shadow, inset 0 1px 0 rgba(0,33,85,0.2)))"},danger:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-danger-hover-shadow, 0 1px 0 rgba(31,35,40,0.1)))",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-danger-hover-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))",selectedShadow:"var(--button-danger-shadow-selected, var(--color-btn-danger-selected-shadow, inset 0 1px 0 rgba(76,0,20,0.2)))"}},shadow:{small:"var(--shadow-resting-small, var(--color-shadow-small, 0 1px 0 rgba(31,35,40,0.04)))",medium:"var(--shadow-resting-medium, var(--color-shadow-medium, 0 3px 6px rgba(140,149,159,0.15)))",large:"var(--shadow-floating-large, var(--color-shadow-large, 0 8px 24px rgba(140,149,159,0.2)))",extraLarge:"var(--shadow-floating-xlarge, var(--color-shadow-extra-large, 0 12px 28px rgba(140,149,159,0.3)))"},primer:{shadow:{highlight:"var(--shadow-highlight, var(--color-primer-shadow-highlight, inset 0 1px 0 rgba(255,255,255,0.25)))",inset:"var(--shadow-inset, var(--color-primer-shadow-inset, inset 0 1px 0 rgba(208,215,222,0.2)))"}}}},light_high_contrast:{colors:{canvasDefaultTransparent:"var(--bgColor-transparent, var(--color-canvas-default-transparent, rgba(255,255,255,0)))",pageHeaderBg:"var(--page-header-bgColor, var(--color-page-header-bg, #ffffff))",marketingIcon:{primary:"var(--color-marketing-icon-primary, #1168e3)",secondary:"var(--color-marketing-icon-secondary, #368cf9)"},diffBlob:{addition:{numText:"var(--diffBlob-addition-fgColor-num, var(--color-diff-blob-addition-num-text, #0e1116))",fg:"var(--diffBlob-addition-fgColor-text, var(--color-diff-blob-addition-fg, #ffffff))",numBg:"var(--diffBlob-addition-bgColor-num, var(--color-diff-blob-addition-num-bg, #ccffd8))",lineBg:"var(--diffBlob-addition-bgColor-line, var(--color-diff-blob-addition-line-bg, #e6ffec))",wordBg:"var(--diffBlob-addition-bgColor-word, var(--color-diff-blob-addition-word-bg, #055d20))"},deletion:{numText:"var(--diffBlob-deletion-fgColor-num, var(--color-diff-blob-deletion-num-text, #0e1116))",fg:"var(--diffBlob-deletion-fgColor-text, var(--color-diff-blob-deletion-fg, #ffffff))",numBg:"var(--diffBlob-deletion-bgColor-num, var(--color-diff-blob-deletion-num-bg, #ffd7d5))",lineBg:"var(--diffBlob-deletion-bgColor-line, var(--color-diff-blob-deletion-line-bg, #fff0ee))",wordBg:"var(--diffBlob-deletion-bgColor-word, var(--color-diff-blob-deletion-word-bg, #a0111f))"},hunk:{numBg:"var(--diffBlob-hunk-bgColor-num, var(--color-diff-blob-hunk-num-bg, #9cd7ff))"},expander:{icon:"var(--diffBlob-expander-iconColor, var(--color-diff-blob-expander-icon, #0e1116))"},selectedLineHighlightMixBlendMode:"var(--color-diff-blob-selected-line-highlight-mix-blend-mode, multiply)"},diffstat:{deletionBorder:"var(--color-diffstat-deletion-border, rgba(1,4,9,0.8))",additionBorder:"var(--color-diffstat-addition-border, rgba(1,4,9,0.8))",additionBg:"var(undefined, var(--color-diffstat-addition-bg, #055d20))"},searchKeyword:{hl:"var(--highlight-neutral-bgColor, var(--color-search-keyword-hl, #fcf7be))"},prettylights:{syntax:{comment:"var(--color-prettylights-syntax-comment, #4b535d)",constant:"var(--color-prettylights-syntax-constant, #023b95)",entity:"var(--color-prettylights-syntax-entity, #512598)",storageModifierImport:"var(--color-prettylights-syntax-storage-modifier-import, #0e1116)",entityTag:"var(--color-prettylights-syntax-entity-tag, #024c1a)",keyword:"var(--color-prettylights-syntax-keyword, #a0111f)",string:"var(--color-prettylights-syntax-string, #032563)",variable:"var(--color-prettylights-syntax-variable, #702c00)",brackethighlighterUnmatched:"var(--color-prettylights-syntax-brackethighlighter-unmatched, #6e011a)",invalidIllegalText:"var(--color-prettylights-syntax-invalid-illegal-text, #ffffff)",invalidIllegalBg:"var(--color-prettylights-syntax-invalid-illegal-bg, #6e011a)",carriageReturnText:"var(--color-prettylights-syntax-carriage-return-text, #ffffff)",carriageReturnBg:"var(--color-prettylights-syntax-carriage-return-bg, #a0111f)",stringRegexp:"var(--color-prettylights-syntax-string-regexp, #024c1a)",markupList:"var(--color-prettylights-syntax-markup-list, #2e1800)",markupHeading:"var(--color-prettylights-syntax-markup-heading, #023b95)",markupItalic:"var(--color-prettylights-syntax-markup-italic, #0e1116)",markupBold:"var(--color-prettylights-syntax-markup-bold, #0e1116)",markupDeletedText:"var(--color-prettylights-syntax-markup-deleted-text, #6e011a)",markupDeletedBg:"var(--color-prettylights-syntax-markup-deleted-bg, #fff0ee)",markupInsertedText:"var(--color-prettylights-syntax-markup-inserted-text, #024c1a)",markupInsertedBg:"var(--color-prettylights-syntax-markup-inserted-bg, #d2fedb)",markupChangedText:"var(--color-prettylights-syntax-markup-changed-text, #702c00)",markupChangedBg:"var(--color-prettylights-syntax-markup-changed-bg, #ffc67b)",markupIgnoredText:"var(--color-prettylights-syntax-markup-ignored-text, #e7ecf0)",markupIgnoredBg:"var(--color-prettylights-syntax-markup-ignored-bg, #023b95)",metaDiffRange:"var(--color-prettylights-syntax-meta-diff-range, #622cbc)",brackethighlighterAngle:"var(--color-prettylights-syntax-brackethighlighter-angle, #4b535d)",sublimelinterGutterMark:"var(--color-prettylights-syntax-sublimelinter-gutter-mark, #88929d)",constantOtherReferenceLink:"var(--color-prettylights-syntax-constant-other-reference-link, #032563)"}},codemirror:{text:"var(--codeMirror-fgColor, var(--color-codemirror-text, #0e1116))",bg:"var(--codeMirror-bgColor, var(--color-codemirror-bg, #ffffff))",guttersBg:"var(--codeMirror-gutters-bgColor, var(--color-codemirror-gutters-bg, #ffffff))",guttermarkerText:"var(--codeMirror-gutterMarker-fgColor-default, var(--color-codemirror-guttermarker-text, #ffffff))",guttermarkerSubtleText:"var(--codeMirror-gutterMarker-fgColor-muted, var(--color-codemirror-guttermarker-subtle-text, #66707b))",linenumberText:"var(--codeMirror-lineNumber-fgColor, var(--color-codemirror-linenumber-text, #0e1116))",cursor:"var(--codeMirror-cursor-fgColor, var(--color-codemirror-cursor, #0e1116))",selectionBg:"var(--codeMirror-selection-bgColor, var(--color-codemirror-selection-bg, #368cf9))",activelineBg:"var(--codeMirror-activeline-bgColor, var(--color-codemirror-activeline-bg, #e7ecf0))",matchingbracketText:"var(--codeMirror-matchingBracket-fgColor, var(--color-codemirror-matchingbracket-text, #0e1116))",linesBg:"var(--codeMirror-lines-bgColor, var(--color-codemirror-lines-bg, #ffffff))",syntax:{comment:"var(--codeMirror-syntax-fgColor-comment, var(--color-codemirror-syntax-comment, #0e1116))",constant:"var(--codeMirror-syntax-fgColor-constant, var(--color-codemirror-syntax-constant, #023b95))",entity:"var(--codeMirror-syntax-fgColor-entity, var(--color-codemirror-syntax-entity, #622cbc))",keyword:"var(--codeMirror-syntax-fgColor-keyword, var(--color-codemirror-syntax-keyword, #a0111f))",storage:"var(--codeMirror-syntax-fgColor-storage, var(--color-codemirror-syntax-storage, #a0111f))",string:"var(--codeMirror-syntax-fgColor-string, var(--color-codemirror-syntax-string, #032563))",support:"var(--codeMirror-syntax-fgColor-support, var(--color-codemirror-syntax-support, #023b95))",variable:"var(--codeMirror-syntax-fgColor-variable, var(--color-codemirror-syntax-variable, #702c00))"}},checks:{bg:"var(--color-checks-bg, #0e1116)",runBorderWidth:"var(--color-checks-run-border-width, 0px)",containerBorderWidth:"var(--color-checks-container-border-width, 0px)",textPrimary:"var(--color-checks-text-primary, #ffffff)",textSecondary:"var(--color-checks-text-secondary, #88929d)",textLink:"var(--color-checks-text-link, #368cf9)",btnIcon:"var(--color-checks-btn-icon, #acb6c0)",btnHoverIcon:"var(--color-checks-btn-hover-icon, #ffffff)",btnHoverBg:"var(--color-checks-btn-hover-bg, rgba(255,255,255,0.125))",inputText:"var(--color-checks-input-text, #e7ecf0)",inputPlaceholderText:"var(--color-checks-input-placeholder-text, #88929d)",inputFocusText:"var(--color-checks-input-focus-text, #88929d)",inputBg:"var(--color-checks-input-bg, #20252c)",inputShadow:"var(--color-checks-input-shadow, none)",donutError:"var(--color-checks-donut-error, #d5232c)",donutPending:"var(--color-checks-donut-pending, #956400)",donutSuccess:"var(--color-checks-donut-success, #055d20)",donutNeutral:"var(--color-checks-donut-neutral, #acb6c0)",dropdownText:"var(--color-checks-dropdown-text, #acb6c0)",dropdownBg:"var(--color-checks-dropdown-bg, #20252c)",dropdownBorder:"var(--color-checks-dropdown-border, #343b43)",dropdownShadow:"var(--color-checks-dropdown-shadow, rgba(1,4,9,0.3))",dropdownHoverText:"var(--color-checks-dropdown-hover-text, #ffffff)",dropdownHoverBg:"var(--color-checks-dropdown-hover-bg, #343b43)",dropdownBtnHoverText:"var(--color-checks-dropdown-btn-hover-text, #ffffff)",dropdownBtnHoverBg:"var(--color-checks-dropdown-btn-hover-bg, #20252c)",scrollbarThumbBg:"var(--color-checks-scrollbar-thumb-bg, #4b535d)",headerLabelText:"var(--color-checks-header-label-text, #ced5dc)",headerLabelOpenText:"var(--color-checks-header-label-open-text, #ffffff)",headerBorder:"var(--color-checks-header-border, #20252c)",headerIcon:"var(--color-checks-header-icon, #88929d)",lineText:"var(--color-checks-line-text, #ced5dc)",lineNumText:"var(--color-checks-line-num-text, rgba(136,146,157,0.75))",lineTimestampText:"var(--color-checks-line-timestamp-text, #88929d)",lineHoverBg:"var(--color-checks-line-hover-bg, #20252c)",lineSelectedBg:"var(--color-checks-line-selected-bg, rgba(17,104,227,0.15))",lineSelectedNumText:"var(--color-checks-line-selected-num-text, #368cf9)",lineDtFmText:"var(--color-checks-line-dt-fm-text, #0e1116)",lineDtFmBg:"var(--color-checks-line-dt-fm-bg, #744500)",gateBg:"var(--color-checks-gate-bg, rgba(96,55,0,0.15))",gateText:"var(--color-checks-gate-text, #ced5dc)",gateWaitingText:"var(--color-checks-gate-waiting-text, #b58407)",stepHeaderOpenBg:"var(--color-checks-step-header-open-bg, #20252c)",stepErrorText:"var(--color-checks-step-error-text, #ee5a5d)",stepWarningText:"var(--color-checks-step-warning-text, #b58407)",loglineText:"var(--color-checks-logline-text, #88929d)",loglineNumText:"var(--color-checks-logline-num-text, rgba(136,146,157,0.75))",loglineDebugText:"var(--color-checks-logline-debug-text, #a371f7)",loglineErrorText:"var(--color-checks-logline-error-text, #ced5dc)",loglineErrorNumText:"var(--color-checks-logline-error-num-text, #ee5a5d)",loglineErrorBg:"var(--color-checks-logline-error-bg, rgba(134,6,29,0.15))",loglineWarningText:"var(--color-checks-logline-warning-text, #ced5dc)",loglineWarningNumText:"var(--color-checks-logline-warning-num-text, #b58407)",loglineWarningBg:"var(--color-checks-logline-warning-bg, rgba(96,55,0,0.15))",loglineCommandText:"var(--color-checks-logline-command-text, #368cf9)",loglineSectionText:"var(--color-checks-logline-section-text, #26a148)",ansi:{black:"var(--color-checks-ansi-black, #0e1116)",blackBright:"var(--color-checks-ansi-black-bright, #20252c)",white:"var(--color-checks-ansi-white, #ced5dc)",whiteBright:"var(--color-checks-ansi-white-bright, #ced5dc)",gray:"var(--color-checks-ansi-gray, #88929d)",red:"var(--color-checks-ansi-red, #ee5a5d)",redBright:"var(--color-checks-ansi-red-bright, #ff8e8a)",green:"var(--color-checks-ansi-green, #26a148)",greenBright:"var(--color-checks-ansi-green-bright, #43c663)",yellow:"var(--color-checks-ansi-yellow, #b58407)",yellowBright:"var(--color-checks-ansi-yellow-bright, #d5a824)",blue:"var(--color-checks-ansi-blue, #368cf9)",blueBright:"var(--color-checks-ansi-blue-bright, #67b3fd)",magenta:"var(--color-checks-ansi-magenta, #a371f7)",magentaBright:"var(--color-checks-ansi-magenta-bright, #c49bff)",cyan:"var(--color-checks-ansi-cyan, #76e3ea)",cyanBright:"var(--color-checks-ansi-cyan-bright, #b3f0ff)"}},project:{headerBg:"var(--color-project-header-bg, #0e1116)",sidebarBg:"var(--color-project-sidebar-bg, #ffffff)",gradientIn:"var(--color-project-gradient-in, #ffffff)",gradientOut:"var(--color-project-gradient-out, rgba(255,255,255,0))"},mktg:{btn:{bg:"var(--color-mktg-btn-bg, #1b1f23))"}},control:{borderColor:{emphasis:"var(--control-borderColor-emphasis, var(--color-control-border-color-emphasis, #20252c))"}},avatar:{bg:"var(--avatar-bgColor, var(--color-avatar-bg, #ffffff))",border:"var(--avatar-borderColor, var(--color-avatar-border, rgba(1,4,9,0.8)))",stackFade:"var(--avatarStack-fade-bgColor-default, var(--color-avatar-stack-fade, #acb6c0))",stackFadeMore:"var(--avatarStack-fade-bgColor-muted, var(--color-avatar-stack-fade-more, #ced5dc))"},topicTag:{border:"var(--topicTag-borderColor, var(--color-topic-tag-border, #0349b4))"},counter:{border:"var(--counter-borderColor, var(--color-counter-border, #20252c))"},selectMenu:{backdropBorder:"var(--selectMenu-borderColor, var(--color-select-menu-backdrop-border, transparent))",tapHighlight:"var(--control-bgColor-active, var(--color-select-menu-tap-highlight, rgba(172,182,192,0.5)))",tapFocusBg:"var(--selectMenu-bgColor-active, var(--color-select-menu-tap-focus-bg, #9cd7ff))"},overlay:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-overlay-backdrop, rgba(136,146,157,0.2)))"},header:{text:"var(--header-fgColor-default, var(--color-header-text, rgba(255,255,255,0.7)))",bg:"var(--header-bgColor, var(--color-header-bg, #0e1116))",divider:"var(--header-borderColor-divider, var(--color-header-divider, #acb6c0))",logo:"var(--header-fgColor-logo, var(--color-header-logo, #ffffff))"},headerSearch:{bg:"var(--headerSearch-bgColor, var(--color-header-search-bg, #0e1116))",border:"var(--headerSearch-borderColor, var(--color-header-search-border, #4b535d))"},sidenav:{selectedBg:"var(--sideNav-bgColor-selected, var(--color-sidenav-selected-bg, #ffffff))"},menu:{bgActive:"var(--menu-bgColor-active, var(--color-menu-bg-active, transparent))"},input:{disabledBg:"var(--control-bgColor-disabled, var(--color-input-disabled-bg, rgba(172,182,192,0.2)))"},timeline:{badgeBg:"var(--timelineBadge-bgColor, var(--color-timeline-badge-bg, #e7ecf0))"},ansi:{black:"var(--color-ansi-black, #0e1116)",blackBright:"var(--color-ansi-black-bright, #4b535d)",white:"var(--color-ansi-white, #66707b)",whiteBright:"var(--color-ansi-white-bright, #88929d)",gray:"var(--color-ansi-gray, #66707b)",red:"var(--color-ansi-red, #a0111f)",redBright:"var(--color-ansi-red-bright, #86061d)",green:"var(--color-ansi-green, #024c1a)",greenBright:"var(--color-ansi-green-bright, #055d20)",yellow:"var(--color-ansi-yellow, #3f2200)",yellowBright:"var(--color-ansi-yellow-bright, #4e2c00)",blue:"var(--color-ansi-blue, #0349b4)",blueBright:"var(--color-ansi-blue-bright, #1168e3)",magenta:"var(--color-ansi-magenta, #622cbc)",magentaBright:"var(--color-ansi-magenta-bright, #844ae7)",cyan:"var(--color-ansi-cyan, #1b7c83)",cyanBright:"var(--color-ansi-cyan-bright, #3192aa)"},btn:{text:"var(--button-default-fgColor-rest, var(--color-btn-text, #0e1116))",bg:"var(--button-default-bgColor-rest, var(--color-btn-bg, #e7ecf0))",border:"var(--button-default-borderColor-rest, var(--color-btn-border, rgba(1,4,9,0.8)))",hoverBg:"var(--button-default-bgColor-hover, var(--color-btn-hover-bg, #ced5dc))",hoverBorder:"var(--button-default-borderColor-hover, var(--color-btn-hover-border, rgba(1,4,9,0.8)))",activeBg:"var(--button-default-bgColor-active, var(--color-btn-active-bg, #acb6c0))",activeBorder:"var(--button-default-borderColor-active, var(--color-btn-active-border, rgba(1,4,9,0.8)))",selectedBg:"var(--button-default-bgColor-selected, var(--color-btn-selected-bg, #acb6c0))",counterBg:"var(--buttonCounter-default-bgColor-rest, var(--color-btn-counter-bg, rgba(1,4,9,0.08)))",primary:{text:"var(--button-primary-fgColor-rest, var(--color-btn-primary-text, #ffffff))",bg:"var(--button-primary-bgColor-rest, var(--color-btn-primary-bg, #055d20))",border:"var(--button-primary-borderColor-rest, var(--color-btn-primary-border, #013d14))",hoverBg:"var(--button-primary-bgColor-hover, var(--color-btn-primary-hover-bg, #024c1a))",hoverBorder:"var(--button-primary-borderColor-hover, var(--color-btn-primary-hover-border, #013d14))",selectedBg:"var(--button-primary-bgColor-active, var(--color-btn-primary-selected-bg, hsla(139,95%,13%,1)))",disabledText:"var(--button-primary-fgColor-disabled, var(--color-btn-primary-disabled-text, rgba(255,255,255,0.8)))",disabledBg:"var(--button-primary-bgColor-disabled, var(--color-btn-primary-disabled-bg, #94d3a2))",disabledBorder:"var(--button-primary-borderColor-disabled, var(--color-btn-primary-disabled-border, rgba(1,4,9,0.8)))",icon:"var(--button-primary-iconColor-rest, var(--color-btn-primary-icon, rgba(255,255,255,0.8)))",counterBg:"var(--buttonCounter-primary-bgColor-rest, var(--color-btn-primary-counter-bg, rgba(0,35,11,0.2)))"},outline:{text:"var(--button-outline-fgColor-rest, var(--color-btn-outline-text, #023b95))",hoverText:"var(--button-outline-fgColor-hover, var(--color-btn-outline-hover-text, #ffffff))",hoverBg:"var(--button-outline-bgColor-hover, var(--color-btn-outline-hover-bg, #0349b4))",hoverBorder:"var(--button-outline-borderColor-hover, var(--color-btn-outline-hover-border, #022f7a))",hoverCounterBg:"var(--buttonCounter-outline-bgColor-hover, var(--color-btn-outline-hover-counter-bg, rgba(255,255,255,0.2)))",selectedText:"var(--button-outline-fgColor-active, var(--color-btn-outline-selected-text, #ffffff))",selectedBg:"var(--button-outline-bgColor-active, var(--color-btn-outline-selected-bg, #022f7a))",selectedBorder:"var(--button-outline-borderColor-active, var(--color-btn-outline-selected-border, #022f7a))",disabledText:"var(--button-outline-fgColor-disabled, var(--color-btn-outline-disabled-text, rgba(3,73,180,0.5)))",disabledBg:"var(--button-outline-bgColor-disabled, var(--color-btn-outline-disabled-bg, #e7ecf0))",disabledCounterBg:"var(--buttonCounter-outline-bgColor-disabled, var(--color-btn-outline-disabled-counter-bg, rgba(3,73,180,0.05)))",counterBg:"var(--buttonCounter-outline-bgColor-rest, var(--color-btn-outline-counter-bg, #0969da1a))",counterFg:"var(--buttonCounter-outline-fgColor-rest, var(--color-btn-outline-counter-fg, #023b95))",hoverCounterFg:"var(--buttonCounter-outline-fgColor-hover, var(--color-btn-outline-hover-counter-fg, #ffffff))",disabledCounterFg:"var(--buttonCounter-outline-fgColor-disabled, var(--color-btn-outline-disabled-counter-fg, rgba(3,73,180,0.5)))"},danger:{text:"var(--button-danger-fgColor-rest, var(--color-btn-danger-text, #86061d))",hoverText:"var(--button-danger-fgColor-hover, var(--color-btn-danger-hover-text, #ffffff))",hoverBg:"var(--button-danger-bgColor-hover, var(--color-btn-danger-hover-bg, #a0111f))",hoverBorder:"var(--button-danger-borderColor-hover, var(--color-btn-danger-hover-border, #6e011a))",hoverCounterBg:"var(--buttonCounter-danger-bgColor-hover, var(--color-btn-danger-hover-counter-bg, rgba(255,255,255,0.2)))",selectedText:"var(--button-danger-fgColor-active, var(--color-btn-danger-selected-text, #ffffff))",selectedBg:"var(--button-danger-bgColor-active, var(--color-btn-danger-selected-bg, #6e011a))",selectedBorder:"var(--button-danger-borderColor-active, var(--color-btn-danger-selected-border, #6e011a))",disabledText:"var(--button-danger-fgColor-disabled, var(--color-btn-danger-disabled-text, rgba(160,17,31,0.5)))",disabledBg:"var(--button-danger-bgColor-disabled, var(--color-btn-danger-disabled-bg, #e7ecf0))",disabledCounterBg:"var(--buttonCounter-danger-bgColor-disabled, var(--color-btn-danger-disabled-counter-bg, rgba(160,17,31,0.05)))",counterBg:"var(--buttonCounter-danger-bgColor-rest, var(--color-btn-danger-counter-bg, rgba(160,17,31,0.1)))",icon:"var(--button-danger-iconColor-rest, var(--color-btn-danger-icon, #86061d))",hoverIcon:"var(--button-danger-iconColor-hover, var(--color-btn-danger-hover-icon, #ffffff))",counterFg:"var(--buttonCounter-danger-fgColor-rest, var(--color-btn-danger-counter-fg, #86061d))",hoverCounterFg:"var(--buttonCounter-danger-fgColor-hover, var(--color-btn-danger-hover-counter-fg, #ffffff))",disabledCounterFg:"var(--buttonCounter-danger-fgColor-disabled, var(--color-btn-danger-disabled-counter-fg, rgba(160,17,31,0.5)))"},inactive:{bg:"var(--button-inactive-bgColor-rest, var(--color-btn-inactive-bg, #e7ecf0))",text:"var(--button-inactive-fgColor-rest, var(--color-btn-inactive-text, #4b535d))"}},underlinenav:{icon:"var(--underlineNav-iconColor-rest, var(--color-underlinenav-icon, #66707b))",borderHover:"var(--underlineNav-borderColor-hover, var(--color-underlinenav-border-hover, rgba(172,182,192,0.2)))"},actionListItem:{inlineDivider:"var(--borderColor-muted, var(--color-action-list-item-inline-divider, #88929d))",default:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-action-list-item-default-hover-bg, #e7ecf0))",hoverBorder:"var(--control-transparent-borderColor-hover, var(--color-action-list-item-default-hover-border, #88929d))",activeBg:"var(--control-transparent-bgColor-active, var(--color-action-list-item-default-active-bg, #ced5dc))",activeBorder:"var(--control-transparent-borderColor-active, var(--color-action-list-item-default-active-border, #20252c))",selectedBg:"var(--control-transparent-bgColor-selected, var(--color-action-list-item-default-selected-bg, #ced5dc))"},danger:{hoverBg:"var(--control-danger-bgColor-hover, var(--color-action-list-item-danger-hover-bg, #a0111f))",activeBg:"var(--control-danger-bgColor-active, var(--color-action-list-item-danger-active-bg, #6e011a))",hoverText:"var(--control-danger-fgColor-hover, var(--color-action-list-item-danger-hover-text, #ffffff))"}},switchTrack:{bg:"var(--controlTrack-bgColor-rest, var(--color-switch-track-bg, #66707b))",hoverBg:"var(--controlTrack-bgColor-hover, var(--color-switch-track-hover-bg, hsla(211,9%,47%,1)))",activeBg:"var(--controlTrack-bgColor-active, var(--color-switch-track-active-bg, hsla(211,9%,49%,1)))",disabledBg:"var(--controlTrack-bgColor-disabled, var(--color-switch-track-disabled-bg, #88929d))",fg:"var(--controlTrack-fgColor-rest, var(--color-switch-track-fg, #ffffff))",disabledFg:"var(--controlTrack-fgColor-disabled, var(--color-switch-track-disabled-fg, #ffffff))",border:"var(--controlTrack-borderColor-rest, var(--color-switch-track-border, transparent))",checked:{bg:"var(--control-checked-bgColor-rest, var(--color-switch-track-checked-bg, #0349b4))",hoverBg:"var(--control-checked-bgColor-hover, var(--color-switch-track-checked-hover-bg, #0860CA))",activeBg:"var(--control-checked-bgColor-active, var(--color-switch-track-checked-active-bg, #0757BA))",fg:"var(--control-checked-fgColor-rest, var(--color-switch-track-checked-fg, #ffffff))",disabledFg:"var(--control-checked-fgColor-disabled, var(--color-switch-track-checked-disabled-fg, #ffffff))",border:"var(--borderColor-transparent, var(--color-switch-track-checked-border, transparent))"}},switchKnob:{bg:"var(--controlKnob-bgColor-rest, var(--color-switch-knob-bg, #ffffff))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-disabled-bg, #e7ecf0))",border:"var(--controlKnob-borderColor-rest, var(--color-switch-knob-border, #20252c))",checked:{bg:"var(--controlKnob-bgColor-checked, var(--color-switch-knob-checked-bg, #ffffff))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-checked-disabled-bg, #e7ecf0))",border:"var(--controlKnob-borderColor-checked, var(--color-switch-knob-checked-border, #0349b4))"}},segmentedControl:{bg:"var(--controlTrack-bgColor-rest, var(--color-segmented-control-bg, #e7ecf0))",button:{bg:"var(--controlKnob-bgColor-rest, var(--color-segmented-control-button-bg, #ffffff))",hover:{bg:"var(--controlTrack-bgColor-hover, var(--color-segmented-control-button-hover-bg, rgba(172,182,192,0.2)))"},active:{bg:"var(--controlTrack-bgColor-active, var(--color-segmented-control-button-hover-active-bg, rgba(172,182,192,0.4)))"},selected:{border:"var(--controlKnob-borderColor-rest, var(--color-segmented-control-button-hover-active-selected-border, #88929d))"}}},treeViewItem:{chevron:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-tree-view-item-chevron-hover-bg, #ced5dc))"},directory:{fill:"var(--treeViewItem-leadingVisual-bgColor-rest, var(--color-tree-view-item-chevron-directory-fill, #368cf9))"}},fg:{default:"var(--fgColor-default, var(--color-fg-default, #0e1116))",muted:"var(--fgColor-muted, var(--color-fg-muted, #0e1116))",subtle:"var(--fgColor-muted, var(--color-fg-subtle, #66707b))",onEmphasis:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis, #ffffff))"},canvas:{default:"var(--bgColor-default, var(--color-canvas-default, #ffffff))",overlay:"var(--overlay-bgColor, var(--color-canvas-overlay, #ffffff))",inset:"var(--bgColor-inset, var(--color-canvas-inset, #ffffff))",subtle:"var(--bgColor-muted, var(--color-canvas-subtle, #e7ecf0))"},border:{default:"var(--borderColor-default, var(--color-border-default, #20252c))",muted:"var(--borderColor-muted, var(--color-border-muted, #88929d))",subtle:"var(--borderColor-muted, var(--color-border-subtle, rgba(1,4,9,0.8)))"},neutral:{emphasisPlus:"var(--bgColor-emphasis, var(--color-neutral-emphasis-plus, #0e1116))",emphasis:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis, #66707b))",muted:"var(--bgColor-neutral-muted, var(--color-neutral-muted, rgba(172,182,192,0.2)))",subtle:"var(--bgColor-neutral-muted, var(--color-neutral-subtle, #e7ecf0))"},accent:{fg:"var(--fgColor-accent, var(--color-accent-fg, #0349b4))",emphasis:"var(--bgColor-accent-emphasis, var(--color-accent-emphasis, #0349b4))",muted:"var(--borderColor-accent-muted, var(--color-accent-muted, #368cf9))",subtle:"var(--bgColor-accent-muted, var(--color-accent-subtle, #dff7ff))"},success:{fg:"var(--fgColor-success, var(--color-success-fg, #055d20))",emphasis:"var(--bgColor-success-emphasis, var(--color-success-emphasis, #055d20))",muted:"var(--borderColor-success-muted, var(--color-success-muted, #26a148))",subtle:"var(--bgColor-success-muted, var(--color-success-subtle, #d2fedb))"},attention:{fg:"var(--fgColor-attention, var(--color-attention-fg, #744500))",emphasis:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis, #744500))",muted:"var(--borderColor-attention-muted, var(--color-attention-muted, #b58407))",subtle:"var(--bgColor-attention-muted, var(--color-attention-subtle, #fcf7be))"},severe:{fg:"var(--fgColor-severe, var(--color-severe-fg, #873800))",emphasis:"var(--bgColor-severe-emphasis, var(--color-severe-emphasis, #873800))",muted:"var(--borderColor-severe-muted, var(--color-severe-muted, #dc6d1a))",subtle:"var(--bgColor-severe-muted, var(--color-severe-subtle, #fff2d5))"},danger:{fg:"var(--fgColor-danger, var(--color-danger-fg, #d1242f))",emphasis:"var(--borderColor-danger-emphasis, var(--color-danger-emphasis, #a0111f))",muted:"var(--borderColor-danger-muted, var(--color-danger-muted, #ee5a5d))",subtle:"var(--bgColor-danger-muted, var(--color-danger-subtle, #fff0ee))"},open:{fg:"var(--fgColor-open, var(--color-open-fg, #055d20))",emphasis:"var(--bgColor-open-emphasis, var(--color-open-emphasis, #055d20))",muted:"var(--borderColor-open-muted, var(--color-open-muted, rgba(38,161,72,0.4)))",subtle:"var(--bgColor-open-muted, var(--color-open-subtle, #d2fedb))"},closed:{fg:"var(--fgColor-closed, var(--color-closed-fg, #d1242f))",emphasis:"var(--bgColor-closed-emphasis, var(--color-closed-emphasis, #a0111f))",muted:"var(--borderColor-closed-muted, var(--color-closed-muted, rgba(238,90,93,0.4)))",subtle:"var(--bgColor-closed-muted, var(--color-closed-subtle, #fff0ee))"},done:{fg:"var(--fgColor-done, var(--color-done-fg, #622cbc))",emphasis:"var(--bgColor-done-emphasis, var(--color-done-emphasis, #622cbc))",muted:"var(--borderColor-done-muted, var(--color-done-muted, #a371f7))",subtle:"var(--bgColor-done-muted, var(--color-done-subtle, #faf0fe))"},sponsors:{fg:"var(--fgColor-sponsors, var(--color-sponsors-fg, #971368))",emphasis:"var(--bgColor-sponsors-emphasis, var(--color-sponsors-emphasis, #971368))",muted:"var(--borderColor-sponsors-muted, var(--color-sponsors-muted, #ed4baf))",subtle:"var(--bgColor-sponsors-muted, var(--color-sponsors-subtle, #feeff7))"},primer:{fg:{disabled:"var(--fgColor-disabled, var(--color-primer-fg-disabled, #88929d))"},canvas:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-primer-fg-canvas-backdrop, rgba(1,4,9,0.5)))",sticky:"var(--color-primer-canvas-sticky, rgba(255,255,255,0.95))"},border:{active:"var(--underlineNav-borderColor-active, var(--color-primer-border-active, #ef5b48))",contrast:"var(--borderColor-muted, var(--color-primer-border-contrast, rgba(1,4,9,0.1)))"}}},shadows:{mktg:{btn:{shadow:{outline:"var(--color-mktg-btn-shadow-outline, rgb(0 0 0 / 15%) 0 0 0 1px inset))",focus:"var(--color-mktg-btn-shadow-focus, rgb(0 0 0 / 15%) 0 0 0 4px))",hover:"var(--color-mktg-btn-shadow-hover, 0 3px 2px rgba(0, 0, 0, 0.07), 0 7px 5px rgba(0, 0, 0, 0.04), 0 12px 10px rgba(0, 0, 0, 0.03), 0 22px 18px rgba(0, 0, 0, 0.03), 0 42px 33px rgba(0, 0, 0, 0.02), 0 100px 80px rgba(0, 0, 0, 0.02)))",hoverMuted:"var(--color-mktg-btn-shadow-hover-muted, rgb(0 0 0 / 70%) 0 0 0 2px inset))"}}},avatar:{childShadow:"var(--avatar-shadow, var(--color-avatar-child-shadow, 0 0 0 2px rgba(255,255,255,0.8)))"},overlay:{shadow:"var(--shadow-floating-small, var(--color-overlay-shadow, 0 1px 3px rgba(1,4,9,0.12), 0 8px 24px rgba(52,59,67,0.12)))"},btn:{shadow:"var(--button-default-shadow-resting, var(--color-btn-shadow, 0 1px 0 rgba(1,4,9,0.04)))",insetShadow:"var(--button-default-shadow-inset, var(--color-btn-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.25)))",primary:{shadow:"var(--shadow-resting-small, var(--color-btn-primary-shadow, 0 1px 0 rgba(1,4,9,0.1)))",insetShadow:"var(--shadow-highlight, var(--color-btn-primary-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))",selectedShadow:"var(--button-primary-shadow-selected, var(--color-btn-primary-selected-shadow, inset 0 1px 0 rgba(0,35,11,0.2)))"},outline:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-outline-hover-shadow, 0 1px 0 rgba(1,4,9,0.1)))",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-outline-hover-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))",selectedShadow:"var(--button-outline-shadow-selected, var(--color-btn-outline-selected-shadow, inset 0 1px 0 rgba(2,26,74,0.2)))"},danger:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-danger-hover-shadow, 0 1px 0 rgba(1,4,9,0.1)))",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-danger-hover-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))",selectedShadow:"var(--button-danger-shadow-selected, var(--color-btn-danger-selected-shadow, inset 0 1px 0 rgba(67,0,17,0.2)))"}},shadow:{small:"var(--shadow-resting-small, var(--color-shadow-small, 0 1px 0 rgba(1,4,9,0.04)))",medium:"var(--shadow-resting-medium, var(--color-shadow-medium, 0 3px 6px rgba(136,146,157,0.15)))",large:"var(--shadow-floating-large, var(--color-shadow-large, 0 8px 24px rgba(136,146,157,0.2)))",extraLarge:"var(--shadow-floating-xlarge, var(--color-shadow-extra-large, 0 12px 28px rgba(136,146,157,0.3)))"},primer:{shadow:{highlight:"var(--shadow-highlight, var(--color-primer-shadow-highlight, inset 0 1px 0 rgba(255,255,255,0.25)))",inset:"var(--shadow-inset, var(--color-primer-shadow-inset, inset 0 1px 0 rgba(206,213,220,0.2)))"}}}},light_colorblind:{colors:{canvasDefaultTransparent:"var(--bgColor-transparent, var(--color-canvas-default-transparent, rgba(255,255,255,0)))",pageHeaderBg:"var(--page-header-bgColor, var(--color-page-header-bg, #f6f8fa))",marketingIcon:{primary:"var(--color-marketing-icon-primary, #218bff)",secondary:"var(--color-marketing-icon-secondary, #54aeff)"},diffBlob:{addition:{numText:"var(--diffBlob-addition-fgColor-num, var(--color-diff-blob-addition-num-text, #24292f))",fg:"var(--diffBlob-addition-fgColor-text, var(--color-diff-blob-addition-fg, #24292f))",numBg:"var(--diffBlob-addition-bgColor-num, var(--color-diff-blob-addition-num-bg, rgba(84,174,255,0.4)))",lineBg:"var(--diffBlob-addition-bgColor-line, var(--color-diff-blob-addition-line-bg, rgba(221,244,255,0.5)))",wordBg:"var(--diffBlob-addition-bgColor-word, var(--color-diff-blob-addition-word-bg, rgba(84,174,255,0.4)))"},deletion:{numText:"var(--diffBlob-deletion-fgColor-num, var(--color-diff-blob-deletion-num-text, #24292f))",fg:"var(--diffBlob-deletion-fgColor-text, var(--color-diff-blob-deletion-fg, #24292f))",numBg:"var(--diffBlob-deletion-bgColor-num, var(--color-diff-blob-deletion-num-bg, rgba(247,153,57,0.4)))",lineBg:"var(--diffBlob-deletion-bgColor-line, var(--color-diff-blob-deletion-line-bg, rgba(255,245,232,0.5)))",wordBg:"var(--diffBlob-deletion-bgColor-word, var(--color-diff-blob-deletion-word-bg, rgba(255,188,109,0.5)))"},hunk:{numBg:"var(--diffBlob-hunk-bgColor-num, var(--color-diff-blob-hunk-num-bg, rgba(84,174,255,0.4)))"},expander:{icon:"var(--diffBlob-expander-iconColor, var(--color-diff-blob-expander-icon, #57606a))"},selectedLineHighlightMixBlendMode:"var(--color-diff-blob-selected-line-highlight-mix-blend-mode, multiply)"},diffstat:{deletionBorder:"var(--color-diffstat-deletion-border, rgba(27,31,36,0.15))",additionBorder:"var(--color-diffstat-addition-border, rgba(27,31,36,0.15))",additionBg:"var(undefined, var(--color-diffstat-addition-bg, #0969da))"},searchKeyword:{hl:"var(--highlight-neutral-bgColor, var(--color-search-keyword-hl, #fff8c5))"},prettylights:{syntax:{comment:"var(--color-prettylights-syntax-comment, #57606a)",constant:"var(--color-prettylights-syntax-constant, #0550ae)",entity:"var(--color-prettylights-syntax-entity, #6639ba)",storageModifierImport:"var(--color-prettylights-syntax-storage-modifier-import, #24292f)",entityTag:"var(--color-prettylights-syntax-entity-tag, #0550ae)",keyword:"var(--color-prettylights-syntax-keyword, #b35900)",string:"var(--color-prettylights-syntax-string, #0a3069)",variable:"var(--color-prettylights-syntax-variable, #8a4600)",brackethighlighterUnmatched:"var(--color-prettylights-syntax-brackethighlighter-unmatched, #6f3800)",invalidIllegalText:"var(--color-prettylights-syntax-invalid-illegal-text, #f6f8fa)",invalidIllegalBg:"var(--color-prettylights-syntax-invalid-illegal-bg, #6f3800)",carriageReturnText:"var(--color-prettylights-syntax-carriage-return-text, #f6f8fa)",carriageReturnBg:"var(--color-prettylights-syntax-carriage-return-bg, #b35900)",stringRegexp:"var(--color-prettylights-syntax-string-regexp, #0550ae)",markupList:"var(--color-prettylights-syntax-markup-list, #3b2300)",markupHeading:"var(--color-prettylights-syntax-markup-heading, #0550ae)",markupItalic:"var(--color-prettylights-syntax-markup-italic, #24292f)",markupBold:"var(--color-prettylights-syntax-markup-bold, #24292f)",markupDeletedText:"var(--color-prettylights-syntax-markup-deleted-text, #6f3800)",markupDeletedBg:"var(--color-prettylights-syntax-markup-deleted-bg, #fff5e8)",markupInsertedText:"var(--color-prettylights-syntax-markup-inserted-text, #0550ae)",markupInsertedBg:"var(--color-prettylights-syntax-markup-inserted-bg, #ddf4ff)",markupChangedText:"var(--color-prettylights-syntax-markup-changed-text, #8a4600)",markupChangedBg:"var(--color-prettylights-syntax-markup-changed-bg, #ffddb0)",markupIgnoredText:"var(--color-prettylights-syntax-markup-ignored-text, #eaeef2)",markupIgnoredBg:"var(--color-prettylights-syntax-markup-ignored-bg, #0550ae)",metaDiffRange:"var(--color-prettylights-syntax-meta-diff-range, #8250df)",brackethighlighterAngle:"var(--color-prettylights-syntax-brackethighlighter-angle, #57606a)",sublimelinterGutterMark:"var(--color-prettylights-syntax-sublimelinter-gutter-mark, #8c959f)",constantOtherReferenceLink:"var(--color-prettylights-syntax-constant-other-reference-link, #0a3069)"}},codemirror:{text:"var(--codeMirror-fgColor, var(--color-codemirror-text, #24292f))",bg:"var(--codeMirror-bgColor, var(--color-codemirror-bg, #ffffff))",guttersBg:"var(--codeMirror-gutters-bgColor, var(--color-codemirror-gutters-bg, #ffffff))",guttermarkerText:"var(--codeMirror-gutterMarker-fgColor-default, var(--color-codemirror-guttermarker-text, #ffffff))",guttermarkerSubtleText:"var(--codeMirror-gutterMarker-fgColor-muted, var(--color-codemirror-guttermarker-subtle-text, #6e7781))",linenumberText:"var(--codeMirror-lineNumber-fgColor, var(--color-codemirror-linenumber-text, #57606a))",cursor:"var(--codeMirror-cursor-fgColor, var(--color-codemirror-cursor, #24292f))",selectionBg:"var(--codeMirror-selection-bgColor, var(--color-codemirror-selection-bg, rgba(84,174,255,0.4)))",activelineBg:"var(--codeMirror-activeline-bgColor, var(--color-codemirror-activeline-bg, rgba(234,238,242,0.5)))",matchingbracketText:"var(--codeMirror-matchingBracket-fgColor, var(--color-codemirror-matchingbracket-text, #24292f))",linesBg:"var(--codeMirror-lines-bgColor, var(--color-codemirror-lines-bg, #ffffff))",syntax:{comment:"var(--codeMirror-syntax-fgColor-comment, var(--color-codemirror-syntax-comment, #24292f))",constant:"var(--codeMirror-syntax-fgColor-constant, var(--color-codemirror-syntax-constant, #0550ae))",entity:"var(--codeMirror-syntax-fgColor-entity, var(--color-codemirror-syntax-entity, #8250df))",keyword:"var(--codeMirror-syntax-fgColor-keyword, var(--color-codemirror-syntax-keyword, #b35900))",storage:"var(--codeMirror-syntax-fgColor-storage, var(--color-codemirror-syntax-storage, #b35900))",string:"var(--codeMirror-syntax-fgColor-string, var(--color-codemirror-syntax-string, #0a3069))",support:"var(--codeMirror-syntax-fgColor-support, var(--color-codemirror-syntax-support, #0550ae))",variable:"var(--codeMirror-syntax-fgColor-variable, var(--color-codemirror-syntax-variable, #8a4600))"}},checks:{bg:"var(--color-checks-bg, #24292f)",runBorderWidth:"var(--color-checks-run-border-width, 0px)",containerBorderWidth:"var(--color-checks-container-border-width, 0px)",textPrimary:"var(--color-checks-text-primary, #f6f8fa)",textSecondary:"var(--color-checks-text-secondary, #8c959f)",textLink:"var(--color-checks-text-link, #54aeff)",btnIcon:"var(--color-checks-btn-icon, #afb8c1)",btnHoverIcon:"var(--color-checks-btn-hover-icon, #f6f8fa)",btnHoverBg:"var(--color-checks-btn-hover-bg, rgba(255,255,255,0.125))",inputText:"var(--color-checks-input-text, #eaeef2)",inputPlaceholderText:"var(--color-checks-input-placeholder-text, #8c959f)",inputFocusText:"var(--color-checks-input-focus-text, #8c959f)",inputBg:"var(--color-checks-input-bg, #32383f)",inputShadow:"var(--color-checks-input-shadow, none)",donutError:"var(--color-checks-donut-error, #dd7815)",donutPending:"var(--color-checks-donut-pending, #bf8700)",donutSuccess:"var(--color-checks-donut-success, #0969da)",donutNeutral:"var(--color-checks-donut-neutral, #afb8c1)",dropdownText:"var(--color-checks-dropdown-text, #afb8c1)",dropdownBg:"var(--color-checks-dropdown-bg, #32383f)",dropdownBorder:"var(--color-checks-dropdown-border, #424a53)",dropdownShadow:"var(--color-checks-dropdown-shadow, rgba(27,31,36,0.3))",dropdownHoverText:"var(--color-checks-dropdown-hover-text, #f6f8fa)",dropdownHoverBg:"var(--color-checks-dropdown-hover-bg, #424a53)",dropdownBtnHoverText:"var(--color-checks-dropdown-btn-hover-text, #f6f8fa)",dropdownBtnHoverBg:"var(--color-checks-dropdown-btn-hover-bg, #32383f)",scrollbarThumbBg:"var(--color-checks-scrollbar-thumb-bg, #57606a)",headerLabelText:"var(--color-checks-header-label-text, #d0d7de)",headerLabelOpenText:"var(--color-checks-header-label-open-text, #f6f8fa)",headerBorder:"var(--color-checks-header-border, #32383f)",headerIcon:"var(--color-checks-header-icon, #8c959f)",lineText:"var(--color-checks-line-text, #d0d7de)",lineNumText:"var(--color-checks-line-num-text, rgba(140,149,159,0.75))",lineTimestampText:"var(--color-checks-line-timestamp-text, #8c959f)",lineHoverBg:"var(--color-checks-line-hover-bg, #32383f)",lineSelectedBg:"var(--color-checks-line-selected-bg, rgba(33,139,255,0.15))",lineSelectedNumText:"var(--color-checks-line-selected-num-text, #54aeff)",lineDtFmText:"var(--color-checks-line-dt-fm-text, #24292f)",lineDtFmBg:"var(--color-checks-line-dt-fm-bg, #9a6700)",gateBg:"var(--color-checks-gate-bg, rgba(125,78,0,0.15))",gateText:"var(--color-checks-gate-text, #d0d7de)",gateWaitingText:"var(--color-checks-gate-waiting-text, #d4a72c)",stepHeaderOpenBg:"var(--color-checks-step-header-open-bg, #32383f)",stepErrorText:"var(--color-checks-step-error-text, #f79939)",stepWarningText:"var(--color-checks-step-warning-text, #d4a72c)",loglineText:"var(--color-checks-logline-text, #8c959f)",loglineNumText:"var(--color-checks-logline-num-text, rgba(140,149,159,0.75))",loglineDebugText:"var(--color-checks-logline-debug-text, #c297ff)",loglineErrorText:"var(--color-checks-logline-error-text, #d0d7de)",loglineErrorNumText:"var(--color-checks-logline-error-num-text, #f79939)",loglineErrorBg:"var(--color-checks-logline-error-bg, rgba(138,70,0,0.15))",loglineWarningText:"var(--color-checks-logline-warning-text, #d0d7de)",loglineWarningNumText:"var(--color-checks-logline-warning-num-text, #d4a72c)",loglineWarningBg:"var(--color-checks-logline-warning-bg, rgba(125,78,0,0.15))",loglineCommandText:"var(--color-checks-logline-command-text, #54aeff)",loglineSectionText:"var(--color-checks-logline-section-text, #54aeff)",ansi:{black:"var(--color-checks-ansi-black, #24292f)",blackBright:"var(--color-checks-ansi-black-bright, #32383f)",white:"var(--color-checks-ansi-white, #d0d7de)",whiteBright:"var(--color-checks-ansi-white-bright, #d0d7de)",gray:"var(--color-checks-ansi-gray, #8c959f)",red:"var(--color-checks-ansi-red, #f79939)",redBright:"var(--color-checks-ansi-red-bright, #ffbc6d)",green:"var(--color-checks-ansi-green, #54aeff)",greenBright:"var(--color-checks-ansi-green-bright, #80ccff)",yellow:"var(--color-checks-ansi-yellow, #d4a72c)",yellowBright:"var(--color-checks-ansi-yellow-bright, #eac54f)",blue:"var(--color-checks-ansi-blue, #54aeff)",blueBright:"var(--color-checks-ansi-blue-bright, #80ccff)",magenta:"var(--color-checks-ansi-magenta, #c297ff)",magentaBright:"var(--color-checks-ansi-magenta-bright, #d8b9ff)",cyan:"var(--color-checks-ansi-cyan, #76e3ea)",cyanBright:"var(--color-checks-ansi-cyan-bright, #b3f0ff)"}},project:{headerBg:"var(--color-project-header-bg, #24292f)",sidebarBg:"var(--color-project-sidebar-bg, #ffffff)",gradientIn:"var(--color-project-gradient-in, #ffffff)",gradientOut:"var(--color-project-gradient-out, rgba(255,255,255,0))"},mktg:{btn:{bg:"var(--color-mktg-btn-bg, #1b1f23))"}},control:{borderColor:{emphasis:"var(--control-borderColor-emphasis, var(--color-control-border-color-emphasis, #858F99))"}},avatar:{bg:"var(--avatar-bgColor, var(--color-avatar-bg, #ffffff))",border:"var(--avatar-borderColor, var(--color-avatar-border, rgba(27,31,36,0.15)))",stackFade:"var(--avatarStack-fade-bgColor-default, var(--color-avatar-stack-fade, #afb8c1))",stackFadeMore:"var(--avatarStack-fade-bgColor-muted, var(--color-avatar-stack-fade-more, #d0d7de))"},topicTag:{border:"var(--topicTag-borderColor, var(--color-topic-tag-border, transparent))"},counter:{border:"var(--counter-borderColor, var(--color-counter-border, transparent))"},selectMenu:{backdropBorder:"var(--selectMenu-borderColor, var(--color-select-menu-backdrop-border, transparent))",tapHighlight:"var(--control-bgColor-active, var(--color-select-menu-tap-highlight, rgba(175,184,193,0.5)))",tapFocusBg:"var(--selectMenu-bgColor-active, var(--color-select-menu-tap-focus-bg, #b6e3ff))"},overlay:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-overlay-backdrop, rgba(140,149,159,0.2)))"},header:{text:"var(--header-fgColor-default, var(--color-header-text, rgba(255,255,255,0.7)))",bg:"var(--header-bgColor, var(--color-header-bg, #24292f))",divider:"var(--header-borderColor-divider, var(--color-header-divider, #57606a))",logo:"var(--header-fgColor-logo, var(--color-header-logo, #ffffff))"},headerSearch:{bg:"var(--headerSearch-bgColor, var(--color-header-search-bg, #24292f))",border:"var(--headerSearch-borderColor, var(--color-header-search-border, #57606a))"},sidenav:{selectedBg:"var(--sideNav-bgColor-selected, var(--color-sidenav-selected-bg, #ffffff))"},menu:{bgActive:"var(--menu-bgColor-active, var(--color-menu-bg-active, transparent))"},input:{disabledBg:"var(--control-bgColor-disabled, var(--color-input-disabled-bg, rgba(175,184,193,0.2)))"},timeline:{badgeBg:"var(--timelineBadge-bgColor, var(--color-timeline-badge-bg, #eaeef2))"},ansi:{black:"var(--color-ansi-black, #24292f)",blackBright:"var(--color-ansi-black-bright, #57606a)",white:"var(--color-ansi-white, #6e7781)",whiteBright:"var(--color-ansi-white-bright, #8c959f)",gray:"var(--color-ansi-gray, #6e7781)",red:"var(--color-ansi-red, #b35900)",redBright:"var(--color-ansi-red-bright, #8a4600)",green:"var(--color-ansi-green, #0550ae)",greenBright:"var(--color-ansi-green-bright, #0969da)",yellow:"var(--color-ansi-yellow, #4d2d00)",yellowBright:"var(--color-ansi-yellow-bright, #633c01)",blue:"var(--color-ansi-blue, #0969da)",blueBright:"var(--color-ansi-blue-bright, #218bff)",magenta:"var(--color-ansi-magenta, #8250df)",magentaBright:"var(--color-ansi-magenta-bright, #a475f9)",cyan:"var(--color-ansi-cyan, #1b7c83)",cyanBright:"var(--color-ansi-cyan-bright, #3192aa)"},btn:{text:"var(--button-default-fgColor-rest, var(--color-btn-text, #24292f))",bg:"var(--button-default-bgColor-rest, var(--color-btn-bg, #f6f8fa))",border:"var(--button-default-borderColor-rest, var(--color-btn-border, rgba(27,31,36,0.15)))",hoverBg:"var(--button-default-bgColor-hover, var(--color-btn-hover-bg, #f3f4f6))",hoverBorder:"var(--button-default-borderColor-hover, var(--color-btn-hover-border, rgba(27,31,36,0.15)))",activeBg:"var(--button-default-bgColor-active, var(--color-btn-active-bg, hsla(220,14%,93%,1)))",activeBorder:"var(--button-default-borderColor-active, var(--color-btn-active-border, rgba(27,31,36,0.15)))",selectedBg:"var(--button-default-bgColor-selected, var(--color-btn-selected-bg, hsla(220,14%,94%,1)))",counterBg:"var(--buttonCounter-default-bgColor-rest, var(--color-btn-counter-bg, rgba(27,31,36,0.08)))",primary:{text:"var(--button-primary-fgColor-rest, var(--color-btn-primary-text, #ffffff))",bg:"var(--button-primary-bgColor-rest, var(--color-btn-primary-bg, #0969da))",border:"var(--button-primary-borderColor-rest, var(--color-btn-primary-border, rgba(27,31,36,0.15)))",hoverBg:"var(--button-primary-bgColor-hover, var(--color-btn-primary-hover-bg, #0969da))",hoverBorder:"var(--button-primary-borderColor-hover, var(--color-btn-primary-hover-border, rgba(27,31,36,0.15)))",selectedBg:"var(--button-primary-bgColor-active, var(--color-btn-primary-selected-bg, hsla(212,92%,43%,1)))",disabledText:"var(--button-primary-fgColor-disabled, var(--color-btn-primary-disabled-text, rgba(255,255,255,0.8)))",disabledBg:"var(--button-primary-bgColor-disabled, var(--color-btn-primary-disabled-bg, #80ccff))",disabledBorder:"var(--button-primary-borderColor-disabled, var(--color-btn-primary-disabled-border, rgba(27,31,36,0.15)))",icon:"var(--button-primary-iconColor-rest, var(--color-btn-primary-icon, rgba(255,255,255,0.8)))",counterBg:"var(--buttonCounter-primary-bgColor-rest, var(--color-btn-primary-counter-bg, rgba(0,33,85,0.2)))"},outline:{text:"var(--button-outline-fgColor-rest, var(--color-btn-outline-text, #0969da))",hoverText:"var(--button-outline-fgColor-hover, var(--color-btn-outline-hover-text, #ffffff))",hoverBg:"var(--button-outline-bgColor-hover, var(--color-btn-outline-hover-bg, #0969da))",hoverBorder:"var(--button-outline-borderColor-hover, var(--color-btn-outline-hover-border, rgba(27,31,36,0.15)))",hoverCounterBg:"var(--buttonCounter-outline-bgColor-hover, var(--color-btn-outline-hover-counter-bg, rgba(255,255,255,0.2)))",selectedText:"var(--button-outline-fgColor-active, var(--color-btn-outline-selected-text, #ffffff))",selectedBg:"var(--button-outline-bgColor-active, var(--color-btn-outline-selected-bg, hsla(212,92%,42%,1)))",selectedBorder:"var(--button-outline-borderColor-active, var(--color-btn-outline-selected-border, rgba(27,31,36,0.15)))",disabledText:"var(--button-outline-fgColor-disabled, var(--color-btn-outline-disabled-text, rgba(9,105,218,0.5)))",disabledBg:"var(--button-outline-bgColor-disabled, var(--color-btn-outline-disabled-bg, #f6f8fa))",disabledCounterBg:"var(--buttonCounter-outline-bgColor-disabled, var(--color-btn-outline-disabled-counter-bg, rgba(9,105,218,0.05)))",counterBg:"var(--buttonCounter-outline-bgColor-rest, var(--color-btn-outline-counter-bg, #0969da1a))",counterFg:"var(--buttonCounter-outline-fgColor-rest, var(--color-btn-outline-counter-fg, #0550ae))",hoverCounterFg:"var(--buttonCounter-outline-fgColor-hover, var(--color-btn-outline-hover-counter-fg, #ffffff))",disabledCounterFg:"var(--buttonCounter-outline-fgColor-disabled, var(--color-btn-outline-disabled-counter-fg, rgba(9,105,218,0.5)))"},danger:{text:"var(--button-danger-fgColor-rest, var(--color-btn-danger-text, #b35900))",hoverText:"var(--button-danger-fgColor-hover, var(--color-btn-danger-hover-text, #ffffff))",hoverBg:"var(--button-danger-bgColor-hover, var(--color-btn-danger-hover-bg, #8a4600))",hoverBorder:"var(--button-danger-borderColor-hover, var(--color-btn-danger-hover-border, rgba(27,31,36,0.15)))",hoverCounterBg:"var(--buttonCounter-danger-bgColor-hover, var(--color-btn-danger-hover-counter-bg, rgba(255,255,255,0.2)))",selectedText:"var(--button-danger-fgColor-active, var(--color-btn-danger-selected-text, #ffffff))",selectedBg:"var(--button-danger-bgColor-active, var(--color-btn-danger-selected-bg, hsla(30,100%,32%,1)))",selectedBorder:"var(--button-danger-borderColor-active, var(--color-btn-danger-selected-border, rgba(27,31,36,0.15)))",disabledText:"var(--button-danger-fgColor-disabled, var(--color-btn-danger-disabled-text, rgba(179,89,0,0.5)))",disabledBg:"var(--button-danger-bgColor-disabled, var(--color-btn-danger-disabled-bg, #f6f8fa))",disabledCounterBg:"var(--buttonCounter-danger-bgColor-disabled, var(--color-btn-danger-disabled-counter-bg, rgba(179,89,0,0.05)))",counterBg:"var(--buttonCounter-danger-bgColor-rest, var(--color-btn-danger-counter-bg, rgba(179,89,0,0.1)))",icon:"var(--button-danger-iconColor-rest, var(--color-btn-danger-icon, #b35900))",hoverIcon:"var(--button-danger-iconColor-hover, var(--color-btn-danger-hover-icon, #ffffff))",counterFg:"var(--buttonCounter-danger-fgColor-rest, var(--color-btn-danger-counter-fg, #8a4600))",hoverCounterFg:"var(--buttonCounter-danger-fgColor-hover, var(--color-btn-danger-hover-counter-fg, #ffffff))",disabledCounterFg:"var(--buttonCounter-danger-fgColor-disabled, var(--color-btn-danger-disabled-counter-fg, rgba(179,89,0,0.5)))"},inactive:{bg:"var(--button-inactive-bgColor-rest, var(--color-btn-inactive-bg, #eaeef2))",text:"var(--button-inactive-fgColor-rest, var(--color-btn-inactive-text, #57606a))"}},underlinenav:{icon:"var(--underlineNav-iconColor-rest, var(--color-underlinenav-icon, #6e7781))",borderHover:"var(--underlineNav-borderColor-hover, var(--color-underlinenav-border-hover, rgba(175,184,193,0.2)))"},actionListItem:{inlineDivider:"var(--borderColor-muted, var(--color-action-list-item-inline-divider, rgba(208,215,222,0.48)))",default:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-action-list-item-default-hover-bg, rgba(208,215,222,0.32)))",hoverBorder:"var(--control-transparent-borderColor-hover, var(--color-action-list-item-default-hover-border, transparent))",activeBg:"var(--control-transparent-bgColor-active, var(--color-action-list-item-default-active-bg, rgba(208,215,222,0.48)))",activeBorder:"var(--control-transparent-borderColor-active, var(--color-action-list-item-default-active-border, transparent))",selectedBg:"var(--control-transparent-bgColor-selected, var(--color-action-list-item-default-selected-bg, rgba(208,215,222,0.24)))"},danger:{hoverBg:"var(--control-danger-bgColor-hover, var(--color-action-list-item-default-danger-hover-bg, rgba(255,245,232,0.64)))",activeBg:"var(--control-danger-bgColor-active, var(--color-action-list-item-default-danger-active-bg, #fff5e8))",hoverText:"var(--control-danger-fgColor-hover, var(--color-action-list-item-default-danger-hover-text, #b35900))"}},switchTrack:{bg:"var(--controlTrack-bgColor-rest, var(--color-switch-track-bg, #eaeef2))",hoverBg:"var(--controlTrack-bgColor-hover, var(--color-switch-track-hover-bg, hsla(210,24%,90%,1)))",activeBg:"var(--controlTrack-bgColor-active, var(--color-switch-track-active-bg, hsla(210,24%,88%,1)))",disabledBg:"var(--controlTrack-bgColor-disabled, var(--color-switch-track-disabled-bg, #8c959f))",fg:"var(--controlTrack-fgColor-rest, var(--color-switch-track-fg, #57606a))",disabledFg:"var(--controlTrack-fgColor-disabled, var(--color-switch-track-disabled-fg, #ffffff))",border:"var(--controlTrack-borderColor-rest, var(--color-switch-track-border, transparent))",checked:{bg:"var(--control-checked-bgColor-rest, var(--color-switch-track-checked-bg, #0969da))",hoverBg:"var(--control-checked-bgColor-hover, var(--color-switch-track-checked-hover-bg, #0860CA))",activeBg:"var(--control-checked-bgColor-active, var(--color-switch-track-checked-active-bg, #0757BA))",fg:"var(--control-checked-fgColor-rest, var(--color-switch-track-checked-fg, #ffffff))",disabledFg:"var(--control-checked-fgColor-disabled, var(--color-switch-track-checked-disabled-fg, #ffffff))",border:"var(--borderColor-transparent, var(--color-switch-track-checked-border, transparent))"}},switchKnob:{bg:"var(--controlKnob-bgColor-rest, var(--color-switch-knob-bg, #ffffff))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-disabled-bg, #f6f8fa))",border:"var(--controlKnob-borderColor-rest, var(--color-switch-knob-border, #858F99))",checked:{bg:"var(--controlKnob-bgColor-checked, var(--color-switch-knob-checked-bg, #ffffff))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-checked-disabled-bg, #f6f8fa))",border:"var(--controlKnob-borderColor-checked, var(--color-switch-knob-checked-border, #0969da))"}},segmentedControl:{bg:"var(--controlTrack-bgColor-rest, var(--color-segmented-control-bg, #eaeef2))",button:{bg:"var(--controlKnob-bgColor-rest, var(--color-segmented-control-button-bg, #ffffff))",hover:{bg:"var(--controlTrack-bgColor-hover, var(--color-segmented-control-button-hover-bg, rgba(175,184,193,0.2)))"},active:{bg:"var(--controlTrack-bgColor-active, var(--color-segmented-control-button-hover-active-bg, rgba(175,184,193,0.4)))"},selected:{border:"var(--controlKnob-borderColor-rest, var(--color-segmented-control-button-hover-active-selected-border, #8c959f))"}}},treeViewItem:{chevron:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-tree-view-item-chevron-hover-bg, rgba(208,215,222,0.32)))"},directory:{fill:"var(--treeViewItem-leadingVisual-bgColor-rest, var(--color-tree-view-item-chevron-directory-fill, #54aeff))"}},fg:{default:"var(--fgColor-default, var(--color-fg-default, #24292f))",muted:"var(--fgColor-muted, var(--color-fg-muted, #57606a))",subtle:"var(--fgColor-muted, var(--color-fg-subtle, #6e7781))",onEmphasis:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis, #ffffff))"},canvas:{default:"var(--bgColor-default, var(--color-canvas-default, #ffffff))",overlay:"var(--overlay-bgColor, var(--color-canvas-overlay, #ffffff))",inset:"var(--bgColor-inset, var(--color-canvas-inset, #f6f8fa))",subtle:"var(--bgColor-muted, var(--color-canvas-subtle, #f6f8fa))"},border:{default:"var(--borderColor-default, var(--color-border-default, #d0d7de))",muted:"var(--borderColor-muted, var(--color-border-muted, hsla(210,18%,87%,1)))",subtle:"var(--borderColor-muted, var(--color-border-subtle, rgba(27,31,36,0.15)))"},neutral:{emphasisPlus:"var(--bgColor-emphasis, var(--color-neutral-emphasis-plus, #24292f))",emphasis:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis, #6e7781))",muted:"var(--bgColor-neutral-muted, var(--color-neutral-muted, rgba(175,184,193,0.2)))",subtle:"var(--bgColor-neutral-muted, var(--color-neutral-subtle, rgba(234,238,242,0.5)))"},accent:{fg:"var(--fgColor-accent, var(--color-accent-fg, #0969da))",emphasis:"var(--bgColor-accent-emphasis, var(--color-accent-emphasis, #0969da))",muted:"var(--borderColor-accent-muted, var(--color-accent-muted, rgba(84,174,255,0.4)))",subtle:"var(--bgColor-accent-muted, var(--color-accent-subtle, #ddf4ff))"},success:{fg:"var(--fgColor-success, var(--color-success-fg, #0969da))",emphasis:"var(--bgColor-success-emphasis, var(--color-success-emphasis, #0969da))",muted:"var(--borderColor-success-muted, var(--color-success-muted, rgba(84,174,255,0.4)))",subtle:"var(--bgColor-success-muted, var(--color-success-subtle, #ddf4ff))"},attention:{fg:"var(--fgColor-attention, var(--color-attention-fg, #9a6700))",emphasis:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis, #9a6700))",muted:"var(--borderColor-attention-muted, var(--color-attention-muted, rgba(212,167,44,0.4)))",subtle:"var(--bgColor-attention-muted, var(--color-attention-subtle, #fff8c5))"},severe:{fg:"var(--fgColor-severe, var(--color-severe-fg, #b35900))",emphasis:"var(--bgColor-severe-emphasis, var(--color-severe-emphasis, #b35900))",muted:"var(--borderColor-severe-muted, var(--color-severe-muted, rgba(247,153,57,0.4)))",subtle:"var(--bgColor-severe-muted, var(--color-severe-subtle, #fff5e8))"},danger:{fg:"var(--fgColor-danger, var(--color-danger-fg, #b35900))",emphasis:"var(--borderColor-danger-emphasis, var(--color-danger-emphasis, #b35900))",muted:"var(--borderColor-danger-muted, var(--color-danger-muted, rgba(247,153,57,0.4)))",subtle:"var(--bgColor-danger-muted, var(--color-danger-subtle, #fff5e8))"},open:{fg:"var(--fgColor-open, var(--color-open-fg, #b35900))",emphasis:"var(--bgColor-open-emphasis, var(--color-open-emphasis, #dd7815))",muted:"var(--borderColor-open-muted, var(--color-open-muted, rgba(247,153,57,0.4)))",subtle:"var(--bgColor-open-muted, var(--color-open-subtle, #fff5e8))"},closed:{fg:"var(--fgColor-closed, var(--color-closed-fg, #6e7781))",emphasis:"var(--bgColor-closed-emphasis, var(--color-closed-emphasis, #6e7781))",muted:"var(--borderColor-closed-muted, var(--color-closed-muted, rgba(175,184,193,0.4)))",subtle:"var(--bgColor-closed-muted, var(--color-closed-subtle, #f6f8fa))"},done:{fg:"var(--fgColor-done, var(--color-done-fg, #8250df))",emphasis:"var(--bgColor-done-emphasis, var(--color-done-emphasis, #8250df))",muted:"var(--borderColor-done-muted, var(--color-done-muted, rgba(194,151,255,0.4)))",subtle:"var(--bgColor-done-muted, var(--color-done-subtle, #fbefff))"},sponsors:{fg:"var(--fgColor-sponsors, var(--color-sponsors-fg, #bf3989))",emphasis:"var(--bgColor-sponsors-emphasis, var(--color-sponsors-emphasis, #bf3989))",muted:"var(--borderColor-sponsors-muted, var(--color-sponsors-muted, rgba(255,128,200,0.4)))",subtle:"var(--bgColor-sponsors-muted, var(--color-sponsors-subtle, #ffeff7))"},primer:{fg:{disabled:"var(--fgColor-disabled, var(--color-primer-fg-disabled, #8c959f))"},canvas:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-primer-fg-canvas-backdrop, rgba(27,31,36,0.5)))",sticky:"var(--color-primer-canvas-sticky, rgba(255,255,255,0.95))"},border:{active:"var(--underlineNav-borderColor-active, var(--color-primer-border-active, #fd8c73))",contrast:"var(--borderColor-muted, var(--color-primer-border-contrast, rgba(27,31,36,0.1)))"}}},shadows:{mktg:{btn:{shadow:{outline:"var(--color-mktg-btn-shadow-outline, rgb(0 0 0 / 15%) 0 0 0 1px inset))",focus:"var(--color-mktg-btn-shadow-focus, rgb(0 0 0 / 15%) 0 0 0 4px))",hover:"var(--color-mktg-btn-shadow-hover, 0 3px 2px rgba(0, 0, 0, 0.07), 0 7px 5px rgba(0, 0, 0, 0.04), 0 12px 10px rgba(0, 0, 0, 0.03), 0 22px 18px rgba(0, 0, 0, 0.03), 0 42px 33px rgba(0, 0, 0, 0.02), 0 100px 80px rgba(0, 0, 0, 0.02)))",hoverMuted:"var(--color-mktg-btn-shadow-hover-muted, rgb(0 0 0 / 70%) 0 0 0 2px inset))"}}},avatar:{childShadow:"var(--avatar-shadow, var(--color-avatar-child-shadow, 0 0 0 2px rgba(255,255,255,0.8)))"},overlay:{shadow:"var(--shadow-floating-small, var(--color-overlay-shadow, 0 1px 3px rgba(27,31,36,0.12), 0 8px 24px rgba(66,74,83,0.12)))"},btn:{shadow:"var(--button-default-shadow-resting, var(--color-btn-shadow, 0 1px 0 rgba(27,31,36,0.04)))",insetShadow:"var(--button-default-shadow-inset, var(--color-btn-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.25)))",primary:{shadow:"var(--shadow-resting-small, var(--color-btn-primary-shadow, 0 1px 0 rgba(27,31,36,0.1)))",insetShadow:"var(--shadow-highlight, var(--color-btn-primary-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))",selectedShadow:"var(--button-primary-shadow-selected, var(--color-btn-primary-selected-shadow, inset 0 1px 0 rgba(0,33,85,0.2)))"},outline:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-outline-hover-shadow, 0 1px 0 rgba(27,31,36,0.1)))",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-outline-hover-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))",selectedShadow:"var(--button-outline-shadow-selected, var(--color-btn-outline-selected-shadow, inset 0 1px 0 rgba(0,33,85,0.2)))"},danger:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-danger-hover-shadow, 0 1px 0 rgba(27,31,36,0.1)))",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-danger-hover-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))",selectedShadow:"var(--button-danger-shadow-selected, var(--color-btn-danger-selected-shadow, inset 0 1px 0 rgba(65,32,0,0.2)))"}},shadow:{small:"var(--shadow-resting-small, var(--color-shadow-small, 0 1px 0 rgba(27,31,36,0.04)))",medium:"var(--shadow-resting-medium, var(--color-shadow-medium, 0 3px 6px rgba(140,149,159,0.15)))",large:"var(--shadow-floating-large, var(--color-shadow-large, 0 8px 24px rgba(140,149,159,0.2)))",extraLarge:"var(--shadow-floating-xlarge, var(--color-shadow-extra-large, 0 12px 28px rgba(140,149,159,0.3)))"},primer:{shadow:{highlight:"var(--shadow-highlight, var(--color-primer-shadow-highlight, inset 0 1px 0 rgba(255,255,255,0.25)))",inset:"var(--shadow-inset, var(--color-primer-shadow-inset, inset 0 1px 0 rgba(208,215,222,0.2)))"}}}},light_tritanopia:{colors:{canvasDefaultTransparent:"var(--bgColor-transparent, var(--color-canvas-default-transparent, rgba(255,255,255,0)))",pageHeaderBg:"var(--page-header-bgColor, var(--color-page-header-bg, #f6f8fa))",marketingIcon:{primary:"var(--color-marketing-icon-primary, #218bff)",secondary:"var(--color-marketing-icon-secondary, #54aeff)"},diffBlob:{addition:{numText:"var(--diffBlob-addition-fgColor-num, var(--color-diff-blob-addition-num-text, #24292f))",fg:"var(--diffBlob-addition-fgColor-text, var(--color-diff-blob-addition-fg, #24292f))",numBg:"var(--diffBlob-addition-bgColor-num, var(--color-diff-blob-addition-num-bg, rgba(84,174,255,0.4)))",lineBg:"var(--diffBlob-addition-bgColor-line, var(--color-diff-blob-addition-line-bg, rgba(221,244,255,0.5)))",wordBg:"var(--diffBlob-addition-bgColor-word, var(--color-diff-blob-addition-word-bg, rgba(84,174,255,0.4)))"},deletion:{numText:"var(--diffBlob-deletion-fgColor-num, var(--color-diff-blob-deletion-num-text, #24292f))",fg:"var(--diffBlob-deletion-fgColor-text, var(--color-diff-blob-deletion-fg, #24292f))",numBg:"var(--diffBlob-deletion-bgColor-num, var(--color-diff-blob-deletion-num-bg, rgba(255,129,130,0.4)))",lineBg:"var(--diffBlob-deletion-bgColor-line, var(--color-diff-blob-deletion-line-bg, rgba(255,235,233,0.5)))",wordBg:"var(--diffBlob-deletion-bgColor-word, var(--color-diff-blob-deletion-word-bg, rgba(255,171,168,0.5)))"},hunk:{numBg:"var(--diffBlob-hunk-bgColor-num, var(--color-diff-blob-hunk-num-bg, rgba(84,174,255,0.4)))"},expander:{icon:"var(--diffBlob-expander-iconColor, var(--color-diff-blob-expander-icon, #57606a))"},selectedLineHighlightMixBlendMode:"var(--color-diff-blob-selected-line-highlight-mix-blend-mode, multiply)"},diffstat:{deletionBorder:"var(--color-diffstat-deletion-border, rgba(27,31,36,0.15))",additionBorder:"var(--color-diffstat-addition-border, rgba(27,31,36,0.15))",additionBg:"var(undefined, var(--color-diffstat-addition-bg, #0969da))"},searchKeyword:{hl:"var(--highlight-neutral-bgColor, var(--color-search-keyword-hl, #fff8c5))"},prettylights:{syntax:{comment:"var(--color-prettylights-syntax-comment, #57606a)",constant:"var(--color-prettylights-syntax-constant, #0550ae)",entity:"var(--color-prettylights-syntax-entity, #6639ba)",storageModifierImport:"var(--color-prettylights-syntax-storage-modifier-import, #24292f)",entityTag:"var(--color-prettylights-syntax-entity-tag, #0550ae)",keyword:"var(--color-prettylights-syntax-keyword, #cf222e)",string:"var(--color-prettylights-syntax-string, #0a3069)",variable:"var(--color-prettylights-syntax-variable, #a40e26)",brackethighlighterUnmatched:"var(--color-prettylights-syntax-brackethighlighter-unmatched, #82071e)",invalidIllegalText:"var(--color-prettylights-syntax-invalid-illegal-text, #f6f8fa)",invalidIllegalBg:"var(--color-prettylights-syntax-invalid-illegal-bg, #82071e)",carriageReturnText:"var(--color-prettylights-syntax-carriage-return-text, #f6f8fa)",carriageReturnBg:"var(--color-prettylights-syntax-carriage-return-bg, #cf222e)",stringRegexp:"var(--color-prettylights-syntax-string-regexp, #0550ae)",markupList:"var(--color-prettylights-syntax-markup-list, #3b2300)",markupHeading:"var(--color-prettylights-syntax-markup-heading, #0550ae)",markupItalic:"var(--color-prettylights-syntax-markup-italic, #24292f)",markupBold:"var(--color-prettylights-syntax-markup-bold, #24292f)",markupDeletedText:"var(--color-prettylights-syntax-markup-deleted-text, #82071e)",markupDeletedBg:"var(--color-prettylights-syntax-markup-deleted-bg, #ffebe9)",markupInsertedText:"var(--color-prettylights-syntax-markup-inserted-text, #0550ae)",markupInsertedBg:"var(--color-prettylights-syntax-markup-inserted-bg, #ddf4ff)",markupChangedText:"var(--color-prettylights-syntax-markup-changed-text, #a40e26)",markupChangedBg:"var(--color-prettylights-syntax-markup-changed-bg, #ffcecb)",markupIgnoredText:"var(--color-prettylights-syntax-markup-ignored-text, #eaeef2)",markupIgnoredBg:"var(--color-prettylights-syntax-markup-ignored-bg, #0550ae)",metaDiffRange:"var(--color-prettylights-syntax-meta-diff-range, #8250df)",brackethighlighterAngle:"var(--color-prettylights-syntax-brackethighlighter-angle, #57606a)",sublimelinterGutterMark:"var(--color-prettylights-syntax-sublimelinter-gutter-mark, #8c959f)",constantOtherReferenceLink:"var(--color-prettylights-syntax-constant-other-reference-link, #0a3069)"}},codemirror:{text:"var(--codeMirror-fgColor, var(--color-codemirror-text, #24292f))",bg:"var(--codeMirror-bgColor, var(--color-codemirror-bg, #ffffff))",guttersBg:"var(--codeMirror-gutters-bgColor, var(--color-codemirror-gutters-bg, #ffffff))",guttermarkerText:"var(--codeMirror-gutterMarker-fgColor-default, var(--color-codemirror-guttermarker-text, #ffffff))",guttermarkerSubtleText:"var(--codeMirror-gutterMarker-fgColor-muted, var(--color-codemirror-guttermarker-subtle-text, #6e7781))",linenumberText:"var(--codeMirror-lineNumber-fgColor, var(--color-codemirror-linenumber-text, #57606a))",cursor:"var(--codeMirror-cursor-fgColor, var(--color-codemirror-cursor, #24292f))",selectionBg:"var(--codeMirror-selection-bgColor, var(--color-codemirror-selection-bg, rgba(84,174,255,0.4)))",activelineBg:"var(--codeMirror-activeline-bgColor, var(--color-codemirror-activeline-bg, rgba(234,238,242,0.5)))",matchingbracketText:"var(--codeMirror-matchingBracket-fgColor, var(--color-codemirror-matchingbracket-text, #24292f))",linesBg:"var(--codeMirror-lines-bgColor, var(--color-codemirror-lines-bg, #ffffff))",syntax:{comment:"var(--codeMirror-syntax-fgColor-comment, var(--color-codemirror-syntax-comment, #24292f))",constant:"var(--codeMirror-syntax-fgColor-constant, var(--color-codemirror-syntax-constant, #0550ae))",entity:"var(--codeMirror-syntax-fgColor-entity, var(--color-codemirror-syntax-entity, #8250df))",keyword:"var(--codeMirror-syntax-fgColor-keyword, var(--color-codemirror-syntax-keyword, #cf222e))",storage:"var(--codeMirror-syntax-fgColor-storage, var(--color-codemirror-syntax-storage, #cf222e))",string:"var(--codeMirror-syntax-fgColor-string, var(--color-codemirror-syntax-string, #0a3069))",support:"var(--codeMirror-syntax-fgColor-support, var(--color-codemirror-syntax-support, #0550ae))",variable:"var(--codeMirror-syntax-fgColor-variable, var(--color-codemirror-syntax-variable, #a40e26))"}},checks:{bg:"var(--color-checks-bg, #24292f)",runBorderWidth:"var(--color-checks-run-border-width, 0px)",containerBorderWidth:"var(--color-checks-container-border-width, 0px)",textPrimary:"var(--color-checks-text-primary, #f6f8fa)",textSecondary:"var(--color-checks-text-secondary, #8c959f)",textLink:"var(--color-checks-text-link, #54aeff)",btnIcon:"var(--color-checks-btn-icon, #afb8c1)",btnHoverIcon:"var(--color-checks-btn-hover-icon, #f6f8fa)",btnHoverBg:"var(--color-checks-btn-hover-bg, rgba(255,255,255,0.125))",inputText:"var(--color-checks-input-text, #eaeef2)",inputPlaceholderText:"var(--color-checks-input-placeholder-text, #8c959f)",inputFocusText:"var(--color-checks-input-focus-text, #8c959f)",inputBg:"var(--color-checks-input-bg, #32383f)",inputShadow:"var(--color-checks-input-shadow, none)",donutError:"var(--color-checks-donut-error, #fa4549)",donutPending:"var(--color-checks-donut-pending, #bf8700)",donutSuccess:"var(--color-checks-donut-success, #0969da)",donutNeutral:"var(--color-checks-donut-neutral, #afb8c1)",dropdownText:"var(--color-checks-dropdown-text, #afb8c1)",dropdownBg:"var(--color-checks-dropdown-bg, #32383f)",dropdownBorder:"var(--color-checks-dropdown-border, #424a53)",dropdownShadow:"var(--color-checks-dropdown-shadow, rgba(27,31,36,0.3))",dropdownHoverText:"var(--color-checks-dropdown-hover-text, #f6f8fa)",dropdownHoverBg:"var(--color-checks-dropdown-hover-bg, #424a53)",dropdownBtnHoverText:"var(--color-checks-dropdown-btn-hover-text, #f6f8fa)",dropdownBtnHoverBg:"var(--color-checks-dropdown-btn-hover-bg, #32383f)",scrollbarThumbBg:"var(--color-checks-scrollbar-thumb-bg, #57606a)",headerLabelText:"var(--color-checks-header-label-text, #d0d7de)",headerLabelOpenText:"var(--color-checks-header-label-open-text, #f6f8fa)",headerBorder:"var(--color-checks-header-border, #32383f)",headerIcon:"var(--color-checks-header-icon, #8c959f)",lineText:"var(--color-checks-line-text, #d0d7de)",lineNumText:"var(--color-checks-line-num-text, rgba(140,149,159,0.75))",lineTimestampText:"var(--color-checks-line-timestamp-text, #8c959f)",lineHoverBg:"var(--color-checks-line-hover-bg, #32383f)",lineSelectedBg:"var(--color-checks-line-selected-bg, rgba(33,139,255,0.15))",lineSelectedNumText:"var(--color-checks-line-selected-num-text, #54aeff)",lineDtFmText:"var(--color-checks-line-dt-fm-text, #24292f)",lineDtFmBg:"var(--color-checks-line-dt-fm-bg, #9a6700)",gateBg:"var(--color-checks-gate-bg, rgba(125,78,0,0.15))",gateText:"var(--color-checks-gate-text, #d0d7de)",gateWaitingText:"var(--color-checks-gate-waiting-text, #d4a72c)",stepHeaderOpenBg:"var(--color-checks-step-header-open-bg, #32383f)",stepErrorText:"var(--color-checks-step-error-text, #ff8182)",stepWarningText:"var(--color-checks-step-warning-text, #d4a72c)",loglineText:"var(--color-checks-logline-text, #8c959f)",loglineNumText:"var(--color-checks-logline-num-text, rgba(140,149,159,0.75))",loglineDebugText:"var(--color-checks-logline-debug-text, #c297ff)",loglineErrorText:"var(--color-checks-logline-error-text, #d0d7de)",loglineErrorNumText:"var(--color-checks-logline-error-num-text, #ff8182)",loglineErrorBg:"var(--color-checks-logline-error-bg, rgba(164,14,38,0.15))",loglineWarningText:"var(--color-checks-logline-warning-text, #d0d7de)",loglineWarningNumText:"var(--color-checks-logline-warning-num-text, #d4a72c)",loglineWarningBg:"var(--color-checks-logline-warning-bg, rgba(125,78,0,0.15))",loglineCommandText:"var(--color-checks-logline-command-text, #54aeff)",loglineSectionText:"var(--color-checks-logline-section-text, #54aeff)",ansi:{black:"var(--color-checks-ansi-black, #24292f)",blackBright:"var(--color-checks-ansi-black-bright, #32383f)",white:"var(--color-checks-ansi-white, #d0d7de)",whiteBright:"var(--color-checks-ansi-white-bright, #d0d7de)",gray:"var(--color-checks-ansi-gray, #8c959f)",red:"var(--color-checks-ansi-red, #ff8182)",redBright:"var(--color-checks-ansi-red-bright, #ffaba8)",green:"var(--color-checks-ansi-green, #54aeff)",greenBright:"var(--color-checks-ansi-green-bright, #80ccff)",yellow:"var(--color-checks-ansi-yellow, #d4a72c)",yellowBright:"var(--color-checks-ansi-yellow-bright, #eac54f)",blue:"var(--color-checks-ansi-blue, #54aeff)",blueBright:"var(--color-checks-ansi-blue-bright, #80ccff)",magenta:"var(--color-checks-ansi-magenta, #c297ff)",magentaBright:"var(--color-checks-ansi-magenta-bright, #d8b9ff)",cyan:"var(--color-checks-ansi-cyan, #76e3ea)",cyanBright:"var(--color-checks-ansi-cyan-bright, #b3f0ff)"}},project:{headerBg:"var(--color-project-header-bg, #24292f)",sidebarBg:"var(--color-project-sidebar-bg, #ffffff)",gradientIn:"var(--color-project-gradient-in, #ffffff)",gradientOut:"var(--color-project-gradient-out, rgba(255,255,255,0))"},mktg:{btn:{bg:"var(--color-mktg-btn-bg, #1b1f23))"}},control:{borderColor:{emphasis:"var(--control-borderColor-emphasis, var(--color-control-border-color-emphasis, #858F99))"}},avatar:{bg:"var(--avatar-bgColor, var(--color-avatar-bg, #ffffff))",border:"var(--avatar-borderColor, var(--color-avatar-border, rgba(27,31,36,0.15)))",stackFade:"var(--avatarStack-fade-bgColor-default, var(--color-avatar-stack-fade, #afb8c1))",stackFadeMore:"var(--avatarStack-fade-bgColor-muted, var(--color-avatar-stack-fade-more, #d0d7de))"},topicTag:{border:"var(--topicTag-borderColor, var(--color-topic-tag-border, transparent))"},counter:{border:"var(--counter-borderColor, var(--color-counter-border, transparent))"},selectMenu:{backdropBorder:"var(--selectMenu-borderColor, var(--color-select-menu-backdrop-border, transparent))",tapHighlight:"var(--control-bgColor-active, var(--color-select-menu-tap-highlight, rgba(175,184,193,0.5)))",tapFocusBg:"var(--selectMenu-bgColor-active, var(--color-select-menu-tap-focus-bg, #b6e3ff))"},overlay:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-overlay-backdrop, rgba(140,149,159,0.2)))"},header:{text:"var(--header-fgColor-default, var(--color-header-text, rgba(255,255,255,0.7)))",bg:"var(--header-bgColor, var(--color-header-bg, #24292f))",divider:"var(--header-borderColor-divider, var(--color-header-divider, #57606a))",logo:"var(--header-fgColor-logo, var(--color-header-logo, #ffffff))"},headerSearch:{bg:"var(--headerSearch-bgColor, var(--color-header-search-bg, #24292f))",border:"var(--headerSearch-borderColor, var(--color-header-search-border, #57606a))"},sidenav:{selectedBg:"var(--sideNav-bgColor-selected, var(--color-sidenav-selected-bg, #ffffff))"},menu:{bgActive:"var(--menu-bgColor-active, var(--color-menu-bg-active, transparent))"},input:{disabledBg:"var(--control-bgColor-disabled, var(--color-input-disabled-bg, rgba(175,184,193,0.2)))"},timeline:{badgeBg:"var(--timelineBadge-bgColor, var(--color-timeline-badge-bg, #eaeef2))"},ansi:{black:"var(--color-ansi-black, #24292f)",blackBright:"var(--color-ansi-black-bright, #57606a)",white:"var(--color-ansi-white, #6e7781)",whiteBright:"var(--color-ansi-white-bright, #8c959f)",gray:"var(--color-ansi-gray, #6e7781)",red:"var(--color-ansi-red, #cf222e)",redBright:"var(--color-ansi-red-bright, #a40e26)",green:"var(--color-ansi-green, #0550ae)",greenBright:"var(--color-ansi-green-bright, #0969da)",yellow:"var(--color-ansi-yellow, #4d2d00)",yellowBright:"var(--color-ansi-yellow-bright, #633c01)",blue:"var(--color-ansi-blue, #0969da)",blueBright:"var(--color-ansi-blue-bright, #218bff)",magenta:"var(--color-ansi-magenta, #8250df)",magentaBright:"var(--color-ansi-magenta-bright, #a475f9)",cyan:"var(--color-ansi-cyan, #1b7c83)",cyanBright:"var(--color-ansi-cyan-bright, #3192aa)"},btn:{text:"var(--button-default-fgColor-rest, var(--color-btn-text, #24292f))",bg:"var(--button-default-bgColor-rest, var(--color-btn-bg, #f6f8fa))",border:"var(--button-default-borderColor-rest, var(--color-btn-border, rgba(27,31,36,0.15)))",hoverBg:"var(--button-default-bgColor-hover, var(--color-btn-hover-bg, #f3f4f6))",hoverBorder:"var(--button-default-borderColor-hover, var(--color-btn-hover-border, rgba(27,31,36,0.15)))",activeBg:"var(--button-default-bgColor-active, var(--color-btn-active-bg, hsla(220,14%,93%,1)))",activeBorder:"var(--button-default-borderColor-active, var(--color-btn-active-border, rgba(27,31,36,0.15)))",selectedBg:"var(--button-default-bgColor-selected, var(--color-btn-selected-bg, hsla(220,14%,94%,1)))",counterBg:"var(--buttonCounter-default-bgColor-rest, var(--color-btn-counter-bg, rgba(27,31,36,0.08)))",primary:{text:"var(--button-primary-fgColor-rest, var(--color-btn-primary-text, #ffffff))",bg:"var(--button-primary-bgColor-rest, var(--color-btn-primary-bg, #0969da))",border:"var(--button-primary-borderColor-rest, var(--color-btn-primary-border, rgba(27,31,36,0.15)))",hoverBg:"var(--button-primary-bgColor-hover, var(--color-btn-primary-hover-bg, #0969da))",hoverBorder:"var(--button-primary-borderColor-hover, var(--color-btn-primary-hover-border, rgba(27,31,36,0.15)))",selectedBg:"var(--button-primary-bgColor-active, var(--color-btn-primary-selected-bg, hsla(212,92%,43%,1)))",disabledText:"var(--button-primary-fgColor-disabled, var(--color-btn-primary-disabled-text, rgba(255,255,255,0.8)))",disabledBg:"var(--button-primary-bgColor-disabled, var(--color-btn-primary-disabled-bg, #80ccff))",disabledBorder:"var(--button-primary-borderColor-disabled, var(--color-btn-primary-disabled-border, rgba(27,31,36,0.15)))",icon:"var(--button-primary-iconColor-rest, var(--color-btn-primary-icon, rgba(255,255,255,0.8)))",counterBg:"var(--buttonCounter-primary-bgColor-rest, var(--color-btn-primary-counter-bg, rgba(0,33,85,0.2)))"},outline:{text:"var(--button-outline-fgColor-rest, var(--color-btn-outline-text, #0969da))",hoverText:"var(--button-outline-fgColor-hover, var(--color-btn-outline-hover-text, #ffffff))",hoverBg:"var(--button-outline-bgColor-hover, var(--color-btn-outline-hover-bg, #0969da))",hoverBorder:"var(--button-outline-borderColor-hover, var(--color-btn-outline-hover-border, rgba(27,31,36,0.15)))",hoverCounterBg:"var(--buttonCounter-outline-bgColor-hover, var(--color-btn-outline-hover-counter-bg, rgba(255,255,255,0.2)))",selectedText:"var(--button-outline-fgColor-active, var(--color-btn-outline-selected-text, #ffffff))",selectedBg:"var(--button-outline-bgColor-active, var(--color-btn-outline-selected-bg, hsla(212,92%,42%,1)))",selectedBorder:"var(--button-outline-borderColor-active, var(--color-btn-outline-selected-border, rgba(27,31,36,0.15)))",disabledText:"var(--button-outline-fgColor-disabled, var(--color-btn-outline-disabled-text, rgba(9,105,218,0.5)))",disabledBg:"var(--button-outline-bgColor-disabled, var(--color-btn-outline-disabled-bg, #f6f8fa))",disabledCounterBg:"var(--buttonCounter-outline-bgColor-disabled, var(--color-btn-outline-disabled-counter-bg, rgba(9,105,218,0.05)))",counterBg:"var(--buttonCounter-outline-bgColor-rest, var(--color-btn-outline-counter-bg, #0969da1a))",counterFg:"var(--buttonCounter-outline-fgColor-rest, var(--color-btn-outline-counter-fg, #0550ae))",hoverCounterFg:"var(--buttonCounter-outline-fgColor-hover, var(--color-btn-outline-hover-counter-fg, #ffffff))",disabledCounterFg:"var(--buttonCounter-outline-fgColor-disabled, var(--color-btn-outline-disabled-counter-fg, rgba(9,105,218,0.5)))"},danger:{text:"var(--button-danger-fgColor-rest, var(--color-btn-danger-text, #cf222e))",hoverText:"var(--button-danger-fgColor-hover, var(--color-btn-danger-hover-text, #ffffff))",hoverBg:"var(--button-danger-bgColor-hover, var(--color-btn-danger-hover-bg, #a40e26))",hoverBorder:"var(--button-danger-borderColor-hover, var(--color-btn-danger-hover-border, rgba(27,31,36,0.15)))",hoverCounterBg:"var(--buttonCounter-danger-bgColor-hover, var(--color-btn-danger-hover-counter-bg, rgba(255,255,255,0.2)))",selectedText:"var(--button-danger-fgColor-active, var(--color-btn-danger-selected-text, #ffffff))",selectedBg:"var(--button-danger-bgColor-active, var(--color-btn-danger-selected-bg, hsla(356,72%,44%,1)))",selectedBorder:"var(--button-danger-borderColor-active, var(--color-btn-danger-selected-border, rgba(27,31,36,0.15)))",disabledText:"var(--button-danger-fgColor-disabled, var(--color-btn-danger-disabled-text, rgba(207,34,46,0.5)))",disabledBg:"var(--button-danger-bgColor-disabled, var(--color-btn-danger-disabled-bg, #f6f8fa))",disabledCounterBg:"var(--buttonCounter-danger-bgColor-disabled, var(--color-btn-danger-disabled-counter-bg, rgba(207,34,46,0.05)))",counterBg:"var(--buttonCounter-danger-bgColor-rest, var(--color-btn-danger-counter-bg, rgba(207,34,46,0.1)))",icon:"var(--button-danger-iconColor-rest, var(--color-btn-danger-icon, #cf222e))",hoverIcon:"var(--button-danger-iconColor-hover, var(--color-btn-danger-hover-icon, #ffffff))",counterFg:"var(--buttonCounter-danger-fgColor-rest, var(--color-btn-danger-counter-fg, #a40e26))",hoverCounterFg:"var(--buttonCounter-danger-fgColor-hover, var(--color-btn-danger-hover-counter-fg, #ffffff))",disabledCounterFg:"var(--buttonCounter-danger-fgColor-disabled, var(--color-btn-danger-disabled-counter-fg, rgba(207,34,46,0.5)))"},inactive:{bg:"var(--button-inactive-bgColor-rest, var(--color-btn-inactive-bg, #eaeef2))",text:"var(--button-inactive-fgColor-rest, var(--color-btn-inactive-text, #57606a))"}},underlinenav:{icon:"var(--underlineNav-iconColor-rest, var(--color-underlinenav-icon, #6e7781))",borderHover:"var(--underlineNav-borderColor-hover, var(--color-underlinenav-border-hover, rgba(175,184,193,0.2)))"},actionListItem:{inlineDivider:"var(--borderColor-muted, var(--color-action-list-item-inline-divider, rgba(208,215,222,0.48)))",default:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-action-list-item-default-hover-bg, rgba(208,215,222,0.32)))",hoverBorder:"var(--control-transparent-borderColor-hover, var(--color-action-list-item-default-hover-border, transparent))",activeBg:"var(--control-transparent-bgColor-active, var(--color-action-list-item-default-active-bg, rgba(208,215,222,0.48)))",activeBorder:"var(--control-transparent-borderColor-active, var(--color-action-list-item-default-active-border, transparent))",selectedBg:"var(--control-transparent-bgColor-selected, var(--color-action-list-item-default-selected-bg, rgba(208,215,222,0.24)))"},danger:{hoverBg:"var(--control-danger-bgColor-hover, var(--color-action-list-item-default-danger-hover-bg, rgba(255,235,233,0.64)))",activeBg:"var(--control-danger-bgColor-active, var(--color-action-list-item-default-danger-active-bg, #ffebe9))",hoverText:"var(--control-danger-fgColor-hover, var(--color-action-list-item-default-danger-hover-text, #cf222e))"}},switchTrack:{bg:"var(--controlTrack-bgColor-rest, var(--color-switch-track-bg, #eaeef2))",hoverBg:"var(--controlTrack-bgColor-hover, var(--color-switch-track-hover-bg, hsla(210,24%,90%,1)))",activeBg:"var(--controlTrack-bgColor-active, var(--color-switch-track-active-bg, hsla(210,24%,88%,1)))",disabledBg:"var(--controlTrack-bgColor-disabled, var(--color-switch-track-disabled-bg, #8c959f))",fg:"var(--controlTrack-fgColor-rest, var(--color-switch-track-fg, #57606a))",disabledFg:"var(--controlTrack-fgColor-disabled, var(--color-switch-track-disabled-fg, #ffffff))",border:"var(--controlTrack-borderColor-rest, var(--color-switch-track-border, transparent))",checked:{bg:"var(--control-checked-bgColor-rest, var(--color-switch-track-checked-bg, #0969da))",hoverBg:"var(--control-checked-bgColor-hover, var(--color-switch-track-checked-hover-bg, #0860CA))",activeBg:"var(--control-checked-bgColor-active, var(--color-switch-track-checked-active-bg, #0757BA))",fg:"var(--control-checked-fgColor-rest, var(--color-switch-track-checked-fg, #ffffff))",disabledFg:"var(--control-checked-fgColor-disabled, var(--color-switch-track-checked-disabled-fg, #ffffff))",border:"var(--borderColor-transparent, var(--color-switch-track-checked-border, transparent))"}},switchKnob:{bg:"var(--controlKnob-bgColor-rest, var(--color-switch-knob-bg, #ffffff))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-disabled-bg, #f6f8fa))",border:"var(--controlKnob-borderColor-rest, var(--color-switch-knob-border, #858F99))",checked:{bg:"var(--controlKnob-bgColor-checked, var(--color-switch-knob-checked-bg, #ffffff))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-checked-disabled-bg, #f6f8fa))",border:"var(--controlKnob-borderColor-checked, var(--color-switch-knob-checked-border, #0969da))"}},segmentedControl:{bg:"var(--controlTrack-bgColor-rest, var(--color-segmented-control-bg, #eaeef2))",button:{bg:"var(--controlKnob-bgColor-rest, var(--color-segmented-control-button-bg, #ffffff))",hover:{bg:"var(--controlTrack-bgColor-hover, var(--color-segmented-control-button-hover-bg, rgba(175,184,193,0.2)))"},active:{bg:"var(--controlTrack-bgColor-active, var(--color-segmented-control-button-hover-active-bg, rgba(175,184,193,0.4)))"},selected:{border:"var(--controlKnob-borderColor-rest, var(--color-segmented-control-button-hover-active-selected-border, #8c959f))"}}},treeViewItem:{chevron:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-tree-view-item-chevron-hover-bg, rgba(208,215,222,0.32)))"},directory:{fill:"var(--treeViewItem-leadingVisual-bgColor-rest, var(--color-tree-view-item-chevron-directory-fill, #54aeff))"}},fg:{default:"var(--fgColor-default, var(--color-fg-default, #24292f))",muted:"var(--fgColor-muted, var(--color-fg-muted, #57606a))",subtle:"var(--fgColor-muted, var(--color-fg-subtle, #6e7781))",onEmphasis:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis, #ffffff))"},canvas:{default:"var(--bgColor-default, var(--color-canvas-default, #ffffff))",overlay:"var(--overlay-bgColor, var(--color-canvas-overlay, #ffffff))",inset:"var(--bgColor-inset, var(--color-canvas-inset, #f6f8fa))",subtle:"var(--bgColor-muted, var(--color-canvas-subtle, #f6f8fa))"},border:{default:"var(--borderColor-default, var(--color-border-default, #d0d7de))",muted:"var(--borderColor-muted, var(--color-border-muted, hsla(210,18%,87%,1)))",subtle:"var(--borderColor-muted, var(--color-border-subtle, rgba(27,31,36,0.15)))"},neutral:{emphasisPlus:"var(--bgColor-emphasis, var(--color-neutral-emphasis-plus, #24292f))",emphasis:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis, #6e7781))",muted:"var(--bgColor-neutral-muted, var(--color-neutral-muted, rgba(175,184,193,0.2)))",subtle:"var(--bgColor-neutral-muted, var(--color-neutral-subtle, rgba(234,238,242,0.5)))"},accent:{fg:"var(--fgColor-accent, var(--color-accent-fg, #0969da))",emphasis:"var(--bgColor-accent-emphasis, var(--color-accent-emphasis, #0969da))",muted:"var(--borderColor-accent-muted, var(--color-accent-muted, rgba(84,174,255,0.4)))",subtle:"var(--bgColor-accent-muted, var(--color-accent-subtle, #ddf4ff))"},success:{fg:"var(--fgColor-success, var(--color-success-fg, #0969da))",emphasis:"var(--bgColor-success-emphasis, var(--color-success-emphasis, #0969da))",muted:"var(--borderColor-success-muted, var(--color-success-muted, rgba(84,174,255,0.4)))",subtle:"var(--bgColor-success-muted, var(--color-success-subtle, #ddf4ff))"},attention:{fg:"var(--fgColor-attention, var(--color-attention-fg, #9a6700))",emphasis:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis, #9a6700))",muted:"var(--borderColor-attention-muted, var(--color-attention-muted, rgba(212,167,44,0.4)))",subtle:"var(--bgColor-attention-muted, var(--color-attention-subtle, #fff8c5))"},severe:{fg:"var(--fgColor-severe, var(--color-severe-fg, #cf222e))",emphasis:"var(--bgColor-severe-emphasis, var(--color-severe-emphasis, #cf222e))",muted:"var(--borderColor-severe-muted, var(--color-severe-muted, rgba(255,129,130,0.4)))",subtle:"var(--bgColor-severe-muted, var(--color-severe-subtle, #ffebe9))"},danger:{fg:"var(--fgColor-danger, var(--color-danger-fg, #cf222e))",emphasis:"var(--borderColor-danger-emphasis, var(--color-danger-emphasis, #cf222e))",muted:"var(--borderColor-danger-muted, var(--color-danger-muted, rgba(255,129,130,0.4)))",subtle:"var(--bgColor-danger-muted, var(--color-danger-subtle, #ffebe9))"},open:{fg:"var(--fgColor-open, var(--color-open-fg, #cf222e))",emphasis:"var(--bgColor-open-emphasis, var(--color-open-emphasis, #fa4549))",muted:"var(--borderColor-open-muted, var(--color-open-muted, rgba(255,129,130,0.4)))",subtle:"var(--bgColor-open-muted, var(--color-open-subtle, #ffebe9))"},closed:{fg:"var(--fgColor-closed, var(--color-closed-fg, #6e7781))",emphasis:"var(--bgColor-closed-emphasis, var(--color-closed-emphasis, #6e7781))",muted:"var(--borderColor-closed-muted, var(--color-closed-muted, rgba(175,184,193,0.4)))",subtle:"var(--bgColor-closed-muted, var(--color-closed-subtle, #f6f8fa))"},done:{fg:"var(--fgColor-done, var(--color-done-fg, #8250df))",emphasis:"var(--bgColor-done-emphasis, var(--color-done-emphasis, #8250df))",muted:"var(--borderColor-done-muted, var(--color-done-muted, rgba(194,151,255,0.4)))",subtle:"var(--bgColor-done-muted, var(--color-done-subtle, #fbefff))"},sponsors:{fg:"var(--fgColor-sponsors, var(--color-sponsors-fg, #bf3989))",emphasis:"var(--bgColor-sponsors-emphasis, var(--color-sponsors-emphasis, #bf3989))",muted:"var(--borderColor-sponsors-muted, var(--color-sponsors-muted, rgba(255,128,200,0.4)))",subtle:"var(--bgColor-sponsors-muted, var(--color-sponsors-subtle, #ffeff7))"},primer:{fg:{disabled:"var(--fgColor-disabled, var(--color-primer-fg-disabled, #8c959f))"},canvas:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-primer-fg-canvas-backdrop, rgba(27,31,36,0.5)))",sticky:"var(--color-primer-canvas-sticky, rgba(255,255,255,0.95))"},border:{active:"var(--underlineNav-borderColor-active, var(--color-primer-border-active, #fd8c73))",contrast:"var(--borderColor-muted, var(--color-primer-border-contrast, rgba(27,31,36,0.1)))"}}},shadows:{mktg:{btn:{shadow:{outline:"var(--color-mktg-btn-shadow-outline, rgb(0 0 0 / 15%) 0 0 0 1px inset))",focus:"var(--color-mktg-btn-shadow-focus, rgb(0 0 0 / 15%) 0 0 0 4px))",hover:"var(--color-mktg-btn-shadow-hover, 0 3px 2px rgba(0, 0, 0, 0.07), 0 7px 5px rgba(0, 0, 0, 0.04), 0 12px 10px rgba(0, 0, 0, 0.03), 0 22px 18px rgba(0, 0, 0, 0.03), 0 42px 33px rgba(0, 0, 0, 0.02), 0 100px 80px rgba(0, 0, 0, 0.02)))",hoverMuted:"var(--color-mktg-btn-shadow-hover-muted, rgb(0 0 0 / 70%) 0 0 0 2px inset))"}}},avatar:{childShadow:"var(--avatar-shadow, var(--color-avatar-child-shadow, 0 0 0 2px rgba(255,255,255,0.8)))"},overlay:{shadow:"var(--shadow-floating-small, var(--color-overlay-shadow, 0 1px 3px rgba(27,31,36,0.12), 0 8px 24px rgba(66,74,83,0.12)))"},btn:{shadow:"var(--button-default-shadow-resting, var(--color-btn-shadow, 0 1px 0 rgba(27,31,36,0.04)))",insetShadow:"var(--button-default-shadow-inset, var(--color-btn-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.25)))",primary:{shadow:"var(--shadow-resting-small, var(--color-btn-primary-shadow, 0 1px 0 rgba(27,31,36,0.1)))",insetShadow:"var(--shadow-highlight, var(--color-btn-primary-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))",selectedShadow:"var(--button-primary-shadow-selected, var(--color-btn-primary-selected-shadow, inset 0 1px 0 rgba(0,33,85,0.2)))"},outline:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-outline-hover-shadow, 0 1px 0 rgba(27,31,36,0.1)))",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-outline-hover-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))",selectedShadow:"var(--button-outline-shadow-selected, var(--color-btn-outline-selected-shadow, inset 0 1px 0 rgba(0,33,85,0.2)))"},danger:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-danger-hover-shadow, 0 1px 0 rgba(27,31,36,0.1)))",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-danger-hover-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))",selectedShadow:"var(--button-danger-shadow-selected, var(--color-btn-danger-selected-shadow, inset 0 1px 0 rgba(76,0,20,0.2)))"}},shadow:{small:"var(--shadow-resting-small, var(--color-shadow-small, 0 1px 0 rgba(27,31,36,0.04)))",medium:"var(--shadow-resting-medium, var(--color-shadow-medium, 0 3px 6px rgba(140,149,159,0.15)))",large:"var(--shadow-floating-large, var(--color-shadow-large, 0 8px 24px rgba(140,149,159,0.2)))",extraLarge:"var(--shadow-floating-xlarge, var(--color-shadow-extra-large, 0 12px 28px rgba(140,149,159,0.3)))"},primer:{shadow:{highlight:"var(--shadow-highlight, var(--color-primer-shadow-highlight, inset 0 1px 0 rgba(255,255,255,0.25)))",inset:"var(--shadow-inset, var(--color-primer-shadow-inset, inset 0 1px 0 rgba(208,215,222,0.2)))"}}}},dark:{colors:{canvasDefaultTransparent:"var(--bgColor-transparent, var(--color-canvas-default-transparent, rgba(13,17,23,0)))",pageHeaderBg:"var(--page-header-bgColor, var(--color-page-header-bg, #0d1117))",marketingIcon:{primary:"var(--color-marketing-icon-primary, #79c0ff)",secondary:"var(--color-marketing-icon-secondary, #1f6feb)"},diffBlob:{addition:{numText:"var(--diffBlob-addition-fgColor-num, var(--color-diff-blob-addition-num-text, #e6edf3))",fg:"var(--diffBlob-addition-fgColor-text, var(--color-diff-blob-addition-fg, #e6edf3))",numBg:"var(--diffBlob-addition-bgColor-num, var(--color-diff-blob-addition-num-bg, rgba(63,185,80,0.3)))",lineBg:"var(--diffBlob-addition-bgColor-line, var(--color-diff-blob-addition-line-bg, rgba(46,160,67,0.15)))",wordBg:"var(--diffBlob-addition-bgColor-word, var(--color-diff-blob-addition-word-bg, rgba(46,160,67,0.4)))"},deletion:{numText:"var(--diffBlob-deletion-fgColor-num, var(--color-diff-blob-deletion-num-text, #e6edf3))",fg:"var(--diffBlob-deletion-fgColor-text, var(--color-diff-blob-deletion-fg, #e6edf3))",numBg:"var(--diffBlob-deletion-bgColor-num, var(--color-diff-blob-deletion-num-bg, rgba(248,81,73,0.3)))",lineBg:"var(--diffBlob-deletion-bgColor-line, var(--color-diff-blob-deletion-line-bg, rgba(248,81,73,0.1)))",wordBg:"var(--diffBlob-deletion-bgColor-word, var(--color-diff-blob-deletion-word-bg, rgba(248,81,73,0.4)))"},hunk:{numBg:"var(--diffBlob-hunk-bgColor-num, var(--color-diff-blob-hunk-num-bg, rgba(56,139,253,0.4)))"},expander:{icon:"var(--diffBlob-expander-iconColor, var(--color-diff-blob-expander-icon, #848d97))"},selectedLineHighlightMixBlendMode:"var(--color-diff-blob-selected-line-highlight-mix-blend-mode, screen)"},diffstat:{deletionBorder:"var(--color-diffstat-deletion-border, rgba(240,246,252,0.1))",additionBorder:"var(--color-diffstat-addition-border, rgba(240,246,252,0.1))",additionBg:"var(--diffStat-addition-bgColor, var(--color-diffstat-addition-bg, #3fb950))"},searchKeyword:{hl:"var(--highlight-neutral-bgColor, var(--color-search-keyword-hl, rgba(210,153,34,0.4)))"},prettylights:{syntax:{comment:"var(--color-prettylights-syntax-comment, #8b949e)",constant:"var(--color-prettylights-syntax-constant, #79c0ff)",entity:"var(--color-prettylights-syntax-entity, #d2a8ff)",storageModifierImport:"var(--color-prettylights-syntax-storage-modifier-import, #c9d1d9)",entityTag:"var(--color-prettylights-syntax-entity-tag, #7ee787)",keyword:"var(--color-prettylights-syntax-keyword, #ff7b72)",string:"var(--color-prettylights-syntax-string, #a5d6ff)",variable:"var(--color-prettylights-syntax-variable, #ffa657)",brackethighlighterUnmatched:"var(--color-prettylights-syntax-brackethighlighter-unmatched, #f85149)",invalidIllegalText:"var(--color-prettylights-syntax-invalid-illegal-text, #f0f6fc)",invalidIllegalBg:"var(--color-prettylights-syntax-invalid-illegal-bg, #8e1519)",carriageReturnText:"var(--color-prettylights-syntax-carriage-return-text, #f0f6fc)",carriageReturnBg:"var(--color-prettylights-syntax-carriage-return-bg, #b62324)",stringRegexp:"var(--color-prettylights-syntax-string-regexp, #7ee787)",markupList:"var(--color-prettylights-syntax-markup-list, #f2cc60)",markupHeading:"var(--color-prettylights-syntax-markup-heading, #1f6feb)",markupItalic:"var(--color-prettylights-syntax-markup-italic, #c9d1d9)",markupBold:"var(--color-prettylights-syntax-markup-bold, #c9d1d9)",markupDeletedText:"var(--color-prettylights-syntax-markup-deleted-text, #ffdcd7)",markupDeletedBg:"var(--color-prettylights-syntax-markup-deleted-bg, #67060c)",markupInsertedText:"var(--color-prettylights-syntax-markup-inserted-text, #aff5b4)",markupInsertedBg:"var(--color-prettylights-syntax-markup-inserted-bg, #033a16)",markupChangedText:"var(--color-prettylights-syntax-markup-changed-text, #ffdfb6)",markupChangedBg:"var(--color-prettylights-syntax-markup-changed-bg, #5a1e02)",markupIgnoredText:"var(--color-prettylights-syntax-markup-ignored-text, #c9d1d9)",markupIgnoredBg:"var(--color-prettylights-syntax-markup-ignored-bg, #1158c7)",metaDiffRange:"var(--color-prettylights-syntax-meta-diff-range, #d2a8ff)",brackethighlighterAngle:"var(--color-prettylights-syntax-brackethighlighter-angle, #8b949e)",sublimelinterGutterMark:"var(--color-prettylights-syntax-sublimelinter-gutter-mark, #484f58)",constantOtherReferenceLink:"var(--color-prettylights-syntax-constant-other-reference-link, #a5d6ff)"}},codemirror:{text:"var(--codeMirror-fgColor, var(--color-codemirror-text, #e6edf3))",bg:"var(--codeMirror-bgColor, var(--color-codemirror-bg, #0d1117))",guttersBg:"var(--codeMirror-gutters-bgColor, var(--color-codemirror-gutters-bg, #0d1117))",guttermarkerText:"var(--codeMirror-gutterMarker-fgColor-default, var(--color-codemirror-guttermarker-text, #0d1117))",guttermarkerSubtleText:"var(--codeMirror-gutterMarker-fgColor-muted, var(--color-codemirror-guttermarker-subtle-text, #6e7681))",linenumberText:"var(--codeMirror-lineNumber-fgColor, var(--color-codemirror-linenumber-text, #848d97))",cursor:"var(--codeMirror-cursor-fgColor, var(--color-codemirror-cursor, #e6edf3))",selectionBg:"var(--codeMirror-selection-bgColor, var(--color-codemirror-selection-bg, rgba(56,139,253,0.4)))",activelineBg:"var(--codeMirror-activeline-bgColor, var(--color-codemirror-activeline-bg, rgba(110,118,129,0.1)))",matchingbracketText:"var(--codeMirror-matchingBracket-fgColor, var(--color-codemirror-matchingbracket-text, #e6edf3))",linesBg:"var(--codeMirror-lines-bgColor, var(--color-codemirror-lines-bg, #0d1117))",syntax:{comment:"var(--codeMirror-syntax-fgColor-comment, var(--color-codemirror-syntax-comment, #8b949e))",constant:"var(--codeMirror-syntax-fgColor-constant, var(--color-codemirror-syntax-constant, #79c0ff))",entity:"var(--codeMirror-syntax-fgColor-entity, var(--color-codemirror-syntax-entity, #d2a8ff))",keyword:"var(--codeMirror-syntax-fgColor-keyword, var(--color-codemirror-syntax-keyword, #ff7b72))",storage:"var(--codeMirror-syntax-fgColor-storage, var(--color-codemirror-syntax-storage, #ff7b72))",string:"var(--codeMirror-syntax-fgColor-string, var(--color-codemirror-syntax-string, #a5d6ff))",support:"var(--codeMirror-syntax-fgColor-support, var(--color-codemirror-syntax-support, #79c0ff))",variable:"var(--codeMirror-syntax-fgColor-variable, var(--color-codemirror-syntax-variable, #ffa657))"}},checks:{bg:"var(--color-checks-bg, #010409)",runBorderWidth:"var(--color-checks-run-border-width, 1px)",containerBorderWidth:"var(--color-checks-container-border-width, 1px)",textPrimary:"var(--color-checks-text-primary, #e6edf3)",textSecondary:"var(--color-checks-text-secondary, #848d97)",textLink:"var(--color-checks-text-link, #2f81f7)",btnIcon:"var(--color-checks-btn-icon, #848d97)",btnHoverIcon:"var(--color-checks-btn-hover-icon, #e6edf3)",btnHoverBg:"var(--color-checks-btn-hover-bg, rgba(110,118,129,0.1))",inputText:"var(--color-checks-input-text, #848d97)",inputPlaceholderText:"var(--color-checks-input-placeholder-text, #6e7681)",inputFocusText:"var(--color-checks-input-focus-text, #e6edf3)",inputBg:"var(--color-checks-input-bg, #161b22)",donutError:"var(--color-checks-donut-error, #f85149)",donutPending:"var(--color-checks-donut-pending, #d29922)",donutSuccess:"var(--color-checks-donut-success, #2ea043)",donutNeutral:"var(--color-checks-donut-neutral, #8b949e)",dropdownText:"var(--color-checks-dropdown-text, #e6edf3)",dropdownBg:"var(--color-checks-dropdown-bg, #161b22)",dropdownBorder:"var(--color-checks-dropdown-border, #30363d)",dropdownShadow:"var(--color-checks-dropdown-shadow, rgba(1,4,9,0.3))",dropdownHoverText:"var(--color-checks-dropdown-hover-text, #e6edf3)",dropdownHoverBg:"var(--color-checks-dropdown-hover-bg, rgba(110,118,129,0.1))",dropdownBtnHoverText:"var(--color-checks-dropdown-btn-hover-text, #e6edf3)",dropdownBtnHoverBg:"var(--color-checks-dropdown-btn-hover-bg, rgba(110,118,129,0.1))",scrollbarThumbBg:"var(--color-checks-scrollbar-thumb-bg, rgba(110,118,129,0.4))",headerLabelText:"var(--color-checks-header-label-text, #848d97)",headerLabelOpenText:"var(--color-checks-header-label-open-text, #e6edf3)",headerBorder:"var(--color-checks-header-border, #21262d)",headerIcon:"var(--color-checks-header-icon, #848d97)",lineText:"var(--color-checks-line-text, #848d97)",lineNumText:"var(--color-checks-line-num-text, #6e7681)",lineTimestampText:"var(--color-checks-line-timestamp-text, #6e7681)",lineHoverBg:"var(--color-checks-line-hover-bg, rgba(110,118,129,0.1))",lineSelectedBg:"var(--color-checks-line-selected-bg, rgba(56,139,253,0.1))",lineSelectedNumText:"var(--color-checks-line-selected-num-text, #2f81f7)",lineDtFmText:"var(--color-checks-line-dt-fm-text, #ffffff)",lineDtFmBg:"var(--color-checks-line-dt-fm-bg, #9e6a03)",gateBg:"var(--color-checks-gate-bg, rgba(187,128,9,0.15))",gateText:"var(--color-checks-gate-text, #848d97)",gateWaitingText:"var(--color-checks-gate-waiting-text, #d29922)",stepHeaderOpenBg:"var(--color-checks-step-header-open-bg, #161b22)",stepErrorText:"var(--color-checks-step-error-text, #f85149)",stepWarningText:"var(--color-checks-step-warning-text, #d29922)",loglineText:"var(--color-checks-logline-text, #848d97)",loglineNumText:"var(--color-checks-logline-num-text, #6e7681)",loglineDebugText:"var(--color-checks-logline-debug-text, #a371f7)",loglineErrorText:"var(--color-checks-logline-error-text, #848d97)",loglineErrorNumText:"var(--color-checks-logline-error-num-text, #6e7681)",loglineErrorBg:"var(--color-checks-logline-error-bg, rgba(248,81,73,0.1))",loglineWarningText:"var(--color-checks-logline-warning-text, #848d97)",loglineWarningNumText:"var(--color-checks-logline-warning-num-text, #d29922)",loglineWarningBg:"var(--color-checks-logline-warning-bg, rgba(187,128,9,0.15))",loglineCommandText:"var(--color-checks-logline-command-text, #2f81f7)",loglineSectionText:"var(--color-checks-logline-section-text, #3fb950)",ansi:{black:"var(--color-checks-ansi-black, #0d1117)",blackBright:"var(--color-checks-ansi-black-bright, #161b22)",white:"var(--color-checks-ansi-white, #b1bac4))",whiteBright:"var(--color-checks-ansi-white-bright, #b1bac4)",gray:"var(--color-checks-ansi-gray, #6e7681)",red:"var(--color-checks-ansi-red, #ff7b72)",redBright:"var(--color-checks-ansi-red-bright, #ffa198)",green:"var(--color-checks-ansi-green, #3fb950)",greenBright:"var(--color-checks-ansi-green-bright, #56d364)",yellow:"var(--color-checks-ansi-yellow, #d29922)",yellowBright:"var(--color-checks-ansi-yellow-bright, #e3b341)",blue:"var(--color-checks-ansi-blue, #58a6ff)",blueBright:"var(--color-checks-ansi-blue-bright, #79c0ff)",magenta:"var(--color-checks-ansi-magenta, #bc8cff)",magentaBright:"var(--color-checks-ansi-magenta-bright, #d2a8ff)",cyan:"var(--color-checks-ansi-cyan, #76e3ea)",cyanBright:"var(--color-checks-ansi-cyan-bright, #b3f0ff)"}},project:{headerBg:"var(--color-project-header-bg, #0d1117)",sidebarBg:"var(--color-project-sidebar-bg, #161b22)",gradientIn:"var(--color-project-gradient-in, #161b22)",gradientOut:"var(--color-project-gradient-out, rgba(22,27,34,0))"},mktg:{btn:{bg:"var(--color-mktg-btn-bg, #f6f8fa))"}},control:{borderColor:{emphasis:"var(--control-borderColor-emphasis, var(--color-control-border-color-emphasis, #606771))"}},avatar:{bg:"var(--avatar-bgColor, var(--color-avatar-bg, rgba(255,255,255,0.1)))",border:"var(--avatar-borderColor, var(--color-avatar-border, rgba(240,246,252,0.1)))",stackFade:"var(--avatarStack-fade-bgColor-default, var(--color-avatar-stack-fade, #30363d))",stackFadeMore:"var(--avatarStack-fade-bgColor-muted, var(--color-avatar-stack-fade-more, #21262d))"},topicTag:{border:"var(--topicTag-borderColor, var(--color-topic-tag-border, transparent))"},counter:{border:"var(--counter-borderColor, var(--color-counter-border, transparent))"},selectMenu:{backdropBorder:"var(--selectMenu-borderColor, var(--color-select-menu-backdrop-border, #484f58))",tapHighlight:"var(--control-bgColor-active, var(--color-select-menu-tap-highlight, rgba(48,54,61,0.5)))",tapFocusBg:"var(--selectMenu-bgColor-active, var(--color-select-menu-tap-focus-bg, #0c2d6b))"},overlay:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-overlay-backdrop, rgba(22,27,34,0.4)))"},header:{text:"var(--header-fgColor-default, var(--color-header-text, rgba(255,255,255,0.7)))",bg:"var(--header-bgColor, var(--color-header-bg, #161b22))",divider:"var(--header-borderColor-divider, var(--color-header-divider, #8b949e))",logo:"var(--header-fgColor-logo, var(--color-header-logo, #f0f6fc))"},headerSearch:{bg:"var(--headerSearch-bgColor, var(--color-header-search-bg, #0d1117))",border:"var(--headerSearch-borderColor, var(--color-header-search-border, #30363d))"},sidenav:{selectedBg:"var(--sideNav-bgColor-selected, var(--color-sidenav-selected-bg, #21262d))"},menu:{bgActive:"var(--menu-bgColor-active, var(--color-menu-bg-active, #161b22))"},input:{disabledBg:"var(--control-bgColor-disabled, var(--color-input-disabled-bg, rgba(110,118,129,0)))"},timeline:{badgeBg:"var(--timelineBadge-bgColor, var(--color-timeline-badge-bg, #21262d))"},ansi:{black:"var(--color-ansi-black, #484f58)",blackBright:"var(--color-ansi-black-bright, #6e7681)",white:"var(--color-ansi-white, #b1bac4)",whiteBright:"var(--color-ansi-white-bright, #ffffff)",gray:"var(--color-ansi-gray, #6e7681)",red:"var(--color-ansi-red, #ff7b72)",redBright:"var(--color-ansi-red-bright, #ffa198)",green:"var(--color-ansi-green, #3fb950)",greenBright:"var(--color-ansi-green-bright, #56d364)",yellow:"var(--color-ansi-yellow, #d29922)",yellowBright:"var(--color-ansi-yellow-bright, #e3b341)",blue:"var(--color-ansi-blue, #58a6ff)",blueBright:"var(--color-ansi-blue-bright, #79c0ff)",magenta:"var(--color-ansi-magenta, #bc8cff)",magentaBright:"var(--color-ansi-magenta-bright, #d2a8ff)",cyan:"var(--color-ansi-cyan, #39c5cf)",cyanBright:"var(--color-ansi-cyan-bright, #56d4dd)"},btn:{text:"var(--button-default-fgColor-rest, var(--color-btn-text, #c9d1d9))",bg:"var(--button-default-bgColor-rest, var(--color-btn-bg, #21262d))",border:"var(--button-default-borderColor-rest, var(--color-btn-border, rgba(240,246,252,0.1)))",hoverBg:"var(--button-default-bgColor-hover, var(--color-btn-hover-bg, #30363d))",hoverBorder:"var(--button-default-borderColor-hover, var(--color-btn-hover-border, #8b949e))",activeBg:"var(--button-default-bgColor-active, var(--color-btn-active-bg, hsla(212,12%,18%,1)))",activeBorder:"var(--button-default-borderColor-active, var(--color-btn-active-border, #6e7681))",selectedBg:"var(--button-default-bgColor-selected, var(--color-btn-selected-bg, #161b22))",counterBg:"var(--buttonCounter-default-bgColor-rest, var(--color-btn-counter-bg, #30363d))",primary:{text:"var(--button-primary-fgColor-rest, var(--color-btn-primary-text, #ffffff))",bg:"var(--button-primary-bgColor-rest, var(--color-btn-primary-bg, #238636))",border:"var(--button-primary-borderColor-rest, var(--color-btn-primary-border, rgba(240,246,252,0.1)))",hoverBg:"var(--button-primary-bgColor-hover, var(--color-btn-primary-hover-bg, #2ea043))",hoverBorder:"var(--button-primary-borderColor-hover, var(--color-btn-primary-hover-border, rgba(240,246,252,0.1)))",selectedBg:"var(--button-primary-bgColor-active, var(--color-btn-primary-selected-bg, #238636))",disabledText:"var(--button-primary-fgColor-disabled, var(--color-btn-primary-disabled-text, rgba(255,255,255,0.5)))",disabledBg:"var(--button-primary-bgColor-disabled, var(--color-btn-primary-disabled-bg, rgba(35,134,54,0.6)))",disabledBorder:"var(--button-primary-borderColor-disabled, var(--color-btn-primary-disabled-border, rgba(240,246,252,0.1)))",icon:"var(--button-primary-iconColor-rest, var(--color-btn-primary-icon, #ffffff))",counterBg:"var(--buttonCounter-primary-bgColor-rest, var(--color-btn-primary-counter-bg, rgba(4,38,15,0.2)))"},outline:{text:"var(--button-outline-fgColor-rest, var(--color-btn-outline-text, #388bfd))",hoverText:"var(--button-outline-fgColor-hover, var(--color-btn-outline-hover-text, #58a6ff))",hoverBg:"var(--button-outline-bgColor-hover, var(--color-btn-outline-hover-bg, #30363d))",hoverBorder:"var(--button-outline-borderColor-hover, var(--color-btn-outline-hover-border, rgba(240,246,252,0.1)))",hoverCounterBg:"var(--buttonCounter-outline-bgColor-hover, var(--color-btn-outline-hover-counter-bg, rgba(5,29,77,0.2)))",selectedText:"var(--button-outline-fgColor-active, var(--color-btn-outline-selected-text, #ffffff))",selectedBg:"var(--button-outline-bgColor-active, var(--color-btn-outline-selected-bg, #0d419d))",selectedBorder:"var(--button-outline-borderColor-active, var(--color-btn-outline-selected-border, rgba(240,246,252,0.1)))",disabledText:"var(--button-outline-fgColor-disabled, var(--color-btn-outline-disabled-text, rgba(88,166,255,0.5)))",disabledBg:"var(--button-outline-bgColor-disabled, var(--color-btn-outline-disabled-bg, #0d1117))",disabledCounterBg:"var(--buttonCounter-outline-bgColor-disabled, var(--color-btn-outline-disabled-counter-bg, rgba(31,111,235,0.05)))",counterBg:"var(--buttonCounter-outline-bgColor-rest, var(--color-btn-outline-counter-bg, rgba(5,29,77,0.2)))",hoverCounterFg:"var(--buttonCounter-outline-fgColor-hover, var(--color-btn-outline-hover-counter-fg, #58a6ff))",disabledCounterFg:"var(--buttonCounter-outline-fgColor-disabled, var(--color-btn-outline-disabled-counter-fg, rgba(47,129,247,0.5)))",counterFg:"var(--buttonCounter-outline-fgColor-rest, var(--color-btn-outline-counter-fg, #388bfd))"},danger:{text:"var(--button-danger-fgColor-rest, var(--color-btn-danger-text, #f85149))",hoverText:"var(--button-danger-fgColor-hover, var(--color-btn-danger-hover-text, #ffffff))",hoverBg:"var(--button-danger-bgColor-hover, var(--color-btn-danger-hover-bg, #da3633))",hoverBorder:"var(--button-danger-borderColor-hover, var(--color-btn-danger-hover-border, #f85149))",hoverIcon:"var(--button-danger-iconColor-hover, var(--color-btn-danger-hover-icon, #ffffff))",hoverCounterBg:"var(--buttonCounter-danger-bgColor-hover, var(--color-btn-danger-hover-counter-bg, rgba(255,255,255,0.2)))",selectedText:"var(--button-danger-fgColor-active, var(--color-btn-danger-selected-text, #ffffff))",selectedBg:"var(--button-danger-bgColor-active, var(--color-btn-danger-selected-bg, #b62324))",selectedBorder:"var(--button-danger-borderColor-active, var(--color-btn-danger-selected-border, #ff7b72))",disabledText:"var(--button-danger-fgColor-disabled, var(--color-btn-danger-disabled-text, rgba(248,81,73,0.5)))",disabledBg:"var(--button-danger-bgColor-disabled, var(--color-btn-danger-disabled-bg, #0d1117))",disabledCounterBg:"var(--buttonCounter-danger-bgColor-disabled, var(--color-btn-danger-disabled-counter-bg, rgba(218,54,51,0.05)))",counterBg:"var(--buttonCounter-danger-bgColor-rest, var(--color-btn-danger-counter-bg, rgba(73,2,2,0.2)))",icon:"var(--button-danger-iconColor-rest, var(--color-btn-danger-icon, #f85149))",counterFg:"var(--buttonCounter-danger-fgColor-rest, var(--color-btn-danger-counter-fg, #f85149))",disabledCounterFg:"var(--buttonCounter-danger-fgColor-disabled, var(--color-btn-danger-disabled-counter-fg, rgba(248,81,73,0.5)))",hoverCounterFg:"var(--buttonCounter-danger-fgColor-hover, var(--color-btn-danger-hover-counter-fg, #ffffff))"},inactive:{bg:"var(--button-inactive-bgColor-rest, var(--color-btn-inactive-bg, #21262d))",text:"var(--button-inactive-fgColor-rest, var(--color-btn-inactive-text, #8b949e))"}},underlinenav:{icon:"var(--underlineNav-iconColor-rest, var(--color-underlinenav-icon, #6e7681))",borderHover:"var(--underlineNav-borderColor-hover, var(--color-underlinenav-border-hover, rgba(110,118,129,0.4)))"},actionListItem:{inlineDivider:"var(--borderColor-muted, var(--color-action-list-item-inline-divider, rgba(48,54,61,0.48)))",default:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-action-list-item-default-hover-bg, rgba(177,186,196,0.12)))",hoverBorder:"var(--control-transparent-borderColor-hover, var(--color-action-list-item-default-hover-border, transparent))",activeBg:"var(--control-transparent-bgColor-active, var(--color-action-list-item-default-active-bg, rgba(177,186,196,0.2)))",activeBorder:"var(--control-transparent-borderColor-active, var(--color-action-list-item-default-active-border, transparent))",selectedBg:"var(--control-transparent-bgColor-selected, var(--color-action-list-item-default-selected-bg, rgba(177,186,196,0.08)))"},danger:{hoverBg:"var(--control-danger-bgColor-hover, var(--color-action-list-item-danger-hover-bg, rgba(248,81,73,0.16)))",activeBg:"var(--control-danger-bgColor-active, var(--color-action-list-item-danger-active-bg, rgba(248,81,73,0.24)))",hoverText:"var(--control-danger-fgColor-hover, var(--color-action-list-item-danger-hover-text, #ff7b72))"}},switchTrack:{bg:"var(--controlTrack-bgColor-rest, var(--color-switch-track-bg, rgba(110,118,129,0.1)))",hoverBg:"var(--controlTrack-bgColor-hover, var(--color-switch-track-hover-bg, hsla(215,8%,72%,0.1)))",activeBg:"var(--controlTrack-bgColor-active, var(--color-switch-track-active-bg, rgba(110,118,129,0.4)))",disabledBg:"var(--controlTrack-bgColor-disabled, var(--color-switch-track-disabled-bg, #21262d))",fg:"var(--controlTrack-fgColor-rest, var(--color-switch-track-fg, #848d97))",disabledFg:"var(--controlTrack-fgColor-disabled, var(--color-switch-track-disabled-fg, #010409))",border:"var(--controlTrack-borderColor-rest, var(--color-switch-track-border, transparent))",checked:{bg:"var(--control-checked-bgColor-rest, var(--color-switch-track-checked-bg, rgba(31,111,235,0.35)))",hoverBg:"var(--control-checked-bgColor-hover, var(--color-switch-track-checked-hover-bg, rgba(31,111,235,0.5)))",activeBg:"var(--control-checked-bgColor-active, var(--color-switch-track-checked-active-bg, rgba(31,111,235,0.65)))",fg:"var(--control-checked-fgColor-rest, var(--color-switch-track-checked-fg, #ffffff))",disabledFg:"var(--control-checked-fgColor-disabled, var(--color-switch-track-checked-disabled-fg, #010409))",border:"var(--borderColor-transparent, var(--color-switch-track-checked-border, transparent))"}},switchKnob:{bg:"var(--controlKnob-bgColor-rest, var(--color-switch-knob-bg, #0d1117))",border:"var(--controlKnob-borderColor-rest, var(--color-switch-knob-border, #606771))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-disabled-bg, #161b22))",checked:{bg:"var(--controlKnob-bgColor-checked, var(--color-switch-knob-checked-bg, #0d1117))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-checked-disabled-bg, #161b22))",border:"var(--controlKnob-borderColor-checked, var(--color-switch-knob-checked-border, rgba(31,111,235,0.35)))"}},segmentedControl:{bg:"var(--controlTrack-bgColor-rest, var(--color-segmented-control-bg, rgba(110,118,129,0.1)))",button:{bg:"var(--controlKnob-bgColor-rest, var(--color-segmented-control-button-bg, #0d1117))",hover:{bg:"var(--controlTrack-bgColor-hover, var(--color-segmented-control-button-hover-bg, #30363d))"},active:{bg:"var(--controlTrack-bgColor-active, var(--color-segmented-control-button-active-bg, #21262d))"},selected:{border:"var(--controlKnob-borderColor-rest, var(--color-segmented-control-button-selected-border, #6e7681))"}}},treeViewItem:{chevron:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-tree-view-item-chevron-hover-bg, rgba(177,186,196,0.12)))"},directory:{fill:"var(--treeViewItem-leadingVisual-bgColor-rest, var(--color-tree-view-item-directory-fill, #848d97))"}},fg:{default:"var(--fgColor-default, var(--color-fg-default, #e6edf3))",muted:"var(--fgColor-muted, var(--color-fg-muted, #848d97))",subtle:"var(--fgColor-muted, var(--color-fg-subtle, #6e7681))",onEmphasis:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis, #ffffff))"},canvas:{default:"var(--bgColor-default, var(--color-canvas-default, #0d1117))",overlay:"var(--overlay-bgColor, var(--color-canvas-overlay, #161b22))",inset:"var(--bgColor-inset, var(--color-canvas-inset, #010409))",subtle:"var(--bgColor-muted, var(--color-canvas-subtle, #161b22))"},border:{default:"var(--borderColor-default, var(--color-border-default, #30363d))",muted:"var(--borderColor-muted, var(--color-border-muted, #21262d))",subtle:"var(--borderColor-muted, var(--color-border-subtle, rgba(240,246,252,0.1)))"},neutral:{emphasisPlus:"var(--bgColor-emphasis, var(--color-neutral-emphasis-plus, #6e7681))",emphasis:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis, #6e7681))",muted:"var(--bgColor-neutral-muted, var(--color-neutral-muted, rgba(110,118,129,0.4)))",subtle:"var(--bgColor-neutral-muted, var(--color-neutral-subtle, rgba(110,118,129,0.1)))"},accent:{fg:"var(--fgColor-accent, var(--color-accent-fg, #2f81f7))",emphasis:"var(--bgColor-accent-emphasis, var(--color-accent-emphasis, #1f6feb))",muted:"var(--borderColor-accent-muted, var(--color-accent-muted, rgba(56,139,253,0.4)))",subtle:"var(--bgColor-accent-muted, var(--color-accent-subtle, rgba(56,139,253,0.1)))"},success:{fg:"var(--fgColor-success, var(--color-success-fg, #3fb950))",emphasis:"var(--bgColor-success-emphasis, var(--color-success-emphasis, #238636))",muted:"var(--borderColor-success-muted, var(--color-success-muted, rgba(46,160,67,0.4)))",subtle:"var(--bgColor-success-muted, var(--color-success-subtle, rgba(46,160,67,0.15)))"},attention:{fg:"var(--fgColor-attention, var(--color-attention-fg, #d29922))",emphasis:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis, #9e6a03))",muted:"var(--borderColor-attention-muted, var(--color-attention-muted, rgba(187,128,9,0.4)))",subtle:"var(--bgColor-attention-muted, var(--color-attention-subtle, rgba(187,128,9,0.15)))"},severe:{fg:"var(--fgColor-severe, var(--color-severe-fg, #db6d28))",emphasis:"var(--bgColor-severe-emphasis, var(--color-severe-emphasis, #bd561d))",muted:"var(--borderColor-severe-muted, var(--color-severe-muted, rgba(219,109,40,0.4)))",subtle:"var(--bgColor-severe-muted, var(--color-severe-subtle, rgba(219,109,40,0.1)))"},danger:{fg:"var(--fgColor-danger, var(--color-danger-fg, #f85149))",emphasis:"var(--borderColor-danger-emphasis, var(--color-danger-emphasis, #da3633))",muted:"var(--borderColor-danger-muted, var(--color-danger-muted, rgba(248,81,73,0.4)))",subtle:"var(--bgColor-danger-muted, var(--color-danger-subtle, rgba(248,81,73,0.1)))"},open:{fg:"var(--fgColor-open, var(--color-open-fg, #3fb950))",emphasis:"var(--bgColor-open-emphasis, var(--color-open-emphasis, #238636))",muted:"var(--borderColor-open-muted, var(--color-open-muted, rgba(46,160,67,0.4)))",subtle:"var(--bgColor-open-muted, var(--color-open-subtle, rgba(46,160,67,0.15)))"},closed:{fg:"var(--fgColor-closed, var(--color-closed-fg, #f85149))",emphasis:"var(--bgColor-closed-emphasis, var(--color-closed-emphasis, #da3633))",muted:"var(--borderColor-closed-muted, var(--color-closed-muted, rgba(248,81,73,0.4)))",subtle:"var(--bgColor-closed-muted, var(--color-closed-subtle, rgba(248,81,73,0.15)))"},done:{fg:"var(--fgColor-done, var(--color-done-fg, #a371f7))",emphasis:"var(--bgColor-done-emphasis, var(--color-done-emphasis, #8957e5))",muted:"var(--borderColor-done-muted, var(--color-done-muted, rgba(163,113,247,0.4)))",subtle:"var(--bgColor-done-muted, var(--color-done-subtle, rgba(163,113,247,0.1)))"},sponsors:{fg:"var(--fgColor-sponsors, var(--color-sponsors-fg, #db61a2))",emphasis:"var(--bgColor-sponsors-emphasis, var(--color-sponsors-emphasis, #bf4b8a))",muted:"var(--borderColor-sponsors-muted, var(--color-sponsors-muted, rgba(219,97,162,0.4)))",subtle:"var(--bgColor-sponsors-muted, var(--color-sponsors-subtle, rgba(219,97,162,0.1)))"},primer:{fg:{disabled:"var(--fgColor-disabled, var(--color-primer-fg-disabled, #484f58))"},canvas:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-primer-canvas-backdrop, rgba(1,4,9,0.8)))",sticky:"var(--color-primer-canvas-sticky, rgba(13,17,23,0.95))"},border:{active:"var(--underlineNav-borderColor-active, var(--color-primer-border-active, #f78166))",contrast:"var(--borderColor-muted, var(--color-primer-border-contrast, rgba(255,255,255,0.2)))"}}},shadows:{checks:{inputShadow:"var(--color-checks-input-shadow, 0 0 0 1px #30363d)"},mktg:{btn:{shadow:{outline:"var(--color-mktg-btn-shadow-outline, rgb(255 255 255 / 25%) 0 0 0 1px inset))",focus:"var(--color-mktg-btn-shadow-focus, rgb(255 255 255 / 25%) 0 0 0 4px))",hover:"var(--color-mktg-btn-shadow-hover, 0 4px 7px rgba(0, 0, 0, 0.15), 0 100px 80px rgba(255, 255, 255, 0.02), 0 42px 33px rgba(255, 255, 255, 0.024), 0 22px 18px rgba(255, 255, 255, 0.028), 0 12px 10px rgba(255, 255, 255, 0.034), 0 7px 5px rgba(255, 255, 255, 0.04), 0 3px 2px rgba(255, 255, 255, 0.07)))",hoverMuted:"var(--color-mktg-btn-shadow-hover-muted, rgb(255 255 255) 0 0 0 2px inset))"}}},avatar:{childShadow:"var(--avatar-shadow, var(--color-avatar-child-shadow, 0 0 0 2px #0d1117))"},overlay:{shadow:"var(--shadow-floating-small, var(--color-overlay-shadow, 0 0 0 1px #30363d, 0 16px 32px rgba(1,4,9,0.85)))"},btn:{shadow:"var(--button-default-shadow-resting, var(--color-btn-shadow, 0 0 transparent))",insetShadow:"var(--button-default-shadow-inset, var(--color-btn-inset-shadow, 0 0 transparent))",primary:{shadow:"var(--shadow-resting-small, var(--color-btn-primary-shadow, 0 0 transparent))",insetShadow:"var(--shadow-highlight, var(--color-btn-primary-inset-shadow, 0 0 transparent))",selectedShadow:"var(--button-primary-shadow-selected, var(--color-btn-primary-selected-shadow, 0 0 transparent))"},outline:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-outline-hover-shadow, 0 1px 0 rgba(1,4,9,0.1)))",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-outline-hover-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))",selectedShadow:"var(--button-outline-shadow-selected, var(--color-btn-outline-selected-shadow, 0 0 transparent))"},danger:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-danger-hover-shadow, 0 0 transparent))",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-danger-hover-inset-shadow, 0 0 transparent))",selectedShadow:"var(--button-danger-shadow-selected, var(--color-btn-danger-selected-shadow, 0 0 transparent))"}},shadow:{small:"var(--shadow-resting-small, var(--color-shadow-small, 0 0 transparent))",medium:"var(--shadow-resting-medium, var(--color-shadow-medium, 0 3px 6px #010409))",large:"var(--shadow-floating-large, var(--color-shadow-large, 0 8px 24px #010409))",extraLarge:"var(--shadow-floating-xlarge, var(--color-shadow-extra-large, 0 12px 48px #010409))"},primer:{shadow:{highlight:"var(--shadow-highlight, var(--color-primer-shadow-highlight, 0 0 transparent))",inset:"var(--shadow-inset, var(--color-primer-shadow-inset, 0 0 transparent))"}}}},dark_dimmed:{colors:{canvasDefaultTransparent:"var(--bgColor-transparent, var(--color-canvas-default-transparent, rgba(34,39,46,0)))",pageHeaderBg:"var(--page-header-bgColor, var(--color-page-header-bg, #22272e))",marketingIcon:{primary:"var(--color-marketing-icon-primary, #6cb6ff)",secondary:"var(--color-marketing-icon-secondary, #316dca)"},diffBlob:{addition:{numText:"var(--diffBlob-addition-fgColor-num, var(--color-diff-blob-addition-num-text, #adbac7))",fg:"var(--diffBlob-addition-fgColor-text, var(--color-diff-blob-addition-fg, #adbac7))",numBg:"var(--diffBlob-addition-bgColor-num, var(--color-diff-blob-addition-num-bg, rgba(87,171,90,0.3)))",lineBg:"var(--diffBlob-addition-bgColor-line, var(--color-diff-blob-addition-line-bg, rgba(70,149,74,0.15)))",wordBg:"var(--diffBlob-addition-bgColor-word, var(--color-diff-blob-addition-word-bg, rgba(70,149,74,0.4)))"},deletion:{numText:"var(--diffBlob-deletion-fgColor-num, var(--color-diff-blob-deletion-num-text, #adbac7))",fg:"var(--diffBlob-deletion-fgColor-text, var(--color-diff-blob-deletion-fg, #adbac7))",numBg:"var(--diffBlob-deletion-bgColor-num, var(--color-diff-blob-deletion-num-bg, rgba(229,83,75,0.3)))",lineBg:"var(--diffBlob-deletion-bgColor-line, var(--color-diff-blob-deletion-line-bg, rgba(229,83,75,0.1)))",wordBg:"var(--diffBlob-deletion-bgColor-word, var(--color-diff-blob-deletion-word-bg, rgba(229,83,75,0.4)))"},hunk:{numBg:"var(--diffBlob-hunk-bgColor-num, var(--color-diff-blob-hunk-num-bg, rgba(65,132,228,0.4)))"},expander:{icon:"#adbac7"},selectedLineHighlightMixBlendMode:"var(--color-diff-blob-selected-line-highlight-mix-blend-mode, screen)"},diffstat:{deletionBorder:"var(--color-diffstat-deletion-border, rgba(205,217,229,0.1))",additionBorder:"var(--color-diffstat-addition-border, rgba(205,217,229,0.1))",additionBg:"var(--diffStat-addition-bgColor, var(--color-diffstat-addition-bg, #57ab5a))"},searchKeyword:{hl:"var(--highlight-neutral-bgColor, var(--color-search-keyword-hl, rgba(198,144,38,0.4)))"},prettylights:{syntax:{comment:"var(--color-prettylights-syntax-comment, #768390)",constant:"var(--color-prettylights-syntax-constant, #6cb6ff)",entity:"var(--color-prettylights-syntax-entity, #dcbdfb)",storageModifierImport:"var(--color-prettylights-syntax-storage-modifier-import, #adbac7)",entityTag:"var(--color-prettylights-syntax-entity-tag, #8ddb8c)",keyword:"var(--color-prettylights-syntax-keyword, #f47067)",string:"var(--color-prettylights-syntax-string, #96d0ff)",variable:"var(--color-prettylights-syntax-variable, #f69d50)",brackethighlighterUnmatched:"var(--color-prettylights-syntax-brackethighlighter-unmatched, #e5534b)",invalidIllegalText:"var(--color-prettylights-syntax-invalid-illegal-text, #cdd9e5)",invalidIllegalBg:"var(--color-prettylights-syntax-invalid-illegal-bg, #922323)",carriageReturnText:"var(--color-prettylights-syntax-carriage-return-text, #cdd9e5)",carriageReturnBg:"var(--color-prettylights-syntax-carriage-return-bg, #ad2e2c)",stringRegexp:"var(--color-prettylights-syntax-string-regexp, #8ddb8c)",markupList:"var(--color-prettylights-syntax-markup-list, #eac55f)",markupHeading:"var(--color-prettylights-syntax-markup-heading, #316dca)",markupItalic:"var(--color-prettylights-syntax-markup-italic, #adbac7)",markupBold:"var(--color-prettylights-syntax-markup-bold, #adbac7)",markupDeletedText:"var(--color-prettylights-syntax-markup-deleted-text, #ffd8d3)",markupDeletedBg:"var(--color-prettylights-syntax-markup-deleted-bg, #78191b)",markupInsertedText:"var(--color-prettylights-syntax-markup-inserted-text, #b4f1b4)",markupInsertedBg:"var(--color-prettylights-syntax-markup-inserted-bg, #1b4721)",markupChangedText:"var(--color-prettylights-syntax-markup-changed-text, #ffddb0)",markupChangedBg:"var(--color-prettylights-syntax-markup-changed-bg, #682d0f)",markupIgnoredText:"var(--color-prettylights-syntax-markup-ignored-text, #adbac7)",markupIgnoredBg:"var(--color-prettylights-syntax-markup-ignored-bg, #255ab2)",metaDiffRange:"var(--color-prettylights-syntax-meta-diff-range, #dcbdfb)",brackethighlighterAngle:"var(--color-prettylights-syntax-brackethighlighter-angle, #768390)",sublimelinterGutterMark:"var(--color-prettylights-syntax-sublimelinter-gutter-mark, #545d68)",constantOtherReferenceLink:"var(--color-prettylights-syntax-constant-other-reference-link, #96d0ff)"}},codemirror:{text:"var(--codeMirror-fgColor, var(--color-codemirror-text, #adbac7))",bg:"var(--codeMirror-bgColor, var(--color-codemirror-bg, #22272e))",guttersBg:"var(--codeMirror-gutters-bgColor, var(--color-codemirror-gutters-bg, #22272e))",guttermarkerText:"var(--codeMirror-gutterMarker-fgColor-default, var(--color-codemirror-guttermarker-text, #22272e))",guttermarkerSubtleText:"var(--codeMirror-gutterMarker-fgColor-muted, var(--color-codemirror-guttermarker-subtle-text, #636e7b))",linenumberText:"var(--codeMirror-lineNumber-fgColor, var(--color-codemirror-linenumber-text, #768390))",cursor:"var(--codeMirror-cursor-fgColor, var(--color-codemirror-cursor, #adbac7))",selectionBg:"var(--codeMirror-selection-bgColor, var(--color-codemirror-selection-bg, rgba(65,132,228,0.4)))",activelineBg:"var(--codeMirror-activeline-bgColor, var(--color-codemirror-activeline-bg, rgba(99,110,123,0.1)))",matchingbracketText:"var(--codeMirror-matchingBracket-fgColor, var(--color-codemirror-matchingbracket-text, #adbac7))",linesBg:"var(--codeMirror-lines-bgColor, var(--color-codemirror-lines-bg, #22272e))",syntax:{comment:"var(--codeMirror-syntax-fgColor-comment, var(--color-codemirror-syntax-comment, #768390))",constant:"var(--codeMirror-syntax-fgColor-constant, var(--color-codemirror-syntax-constant, #6cb6ff))",entity:"var(--codeMirror-syntax-fgColor-entity, var(--color-codemirror-syntax-entity, #dcbdfb))",keyword:"var(--codeMirror-syntax-fgColor-keyword, var(--color-codemirror-syntax-keyword, #f47067))",storage:"var(--codeMirror-syntax-fgColor-storage, var(--color-codemirror-syntax-storage, #f47067))",string:"var(--codeMirror-syntax-fgColor-string, var(--color-codemirror-syntax-string, #96d0ff))",support:"var(--codeMirror-syntax-fgColor-support, var(--color-codemirror-syntax-support, #6cb6ff))",variable:"var(--codeMirror-syntax-fgColor-variable, var(--color-codemirror-syntax-variable, #f69d50))"}},checks:{bg:"var(--color-checks-bg, #1c2128)",runBorderWidth:"var(--color-checks-run-border-width, 1px)",containerBorderWidth:"var(--color-checks-container-border-width, 1px)",textPrimary:"var(--color-checks-text-primary, #adbac7)",textSecondary:"var(--color-checks-text-secondary, #768390)",textLink:"var(--color-checks-text-link, #539bf5)",btnIcon:"var(--color-checks-btn-icon, #768390)",btnHoverIcon:"var(--color-checks-btn-hover-icon, #adbac7)",btnHoverBg:"var(--color-checks-btn-hover-bg, rgba(99,110,123,0.1))",inputText:"var(--color-checks-input-text, #768390)",inputPlaceholderText:"var(--color-checks-input-placeholder-text, #636e7b)",inputFocusText:"var(--color-checks-input-focus-text, #adbac7)",inputBg:"var(--color-checks-input-bg, #2d333b)",donutError:"var(--color-checks-donut-error, #e5534b)",donutPending:"var(--color-checks-donut-pending, #c69026)",donutSuccess:"var(--color-checks-donut-success, #46954a)",donutNeutral:"var(--color-checks-donut-neutral, #768390)",dropdownText:"var(--color-checks-dropdown-text, #adbac7)",dropdownBg:"var(--color-checks-dropdown-bg, #2d333b)",dropdownBorder:"var(--color-checks-dropdown-border, #444c56)",dropdownShadow:"var(--color-checks-dropdown-shadow, rgba(28,33,40,0.3))",dropdownHoverText:"var(--color-checks-dropdown-hover-text, #adbac7)",dropdownHoverBg:"var(--color-checks-dropdown-hover-bg, rgba(99,110,123,0.1))",dropdownBtnHoverText:"var(--color-checks-dropdown-btn-hover-text, #adbac7)",dropdownBtnHoverBg:"var(--color-checks-dropdown-btn-hover-bg, rgba(99,110,123,0.1))",scrollbarThumbBg:"var(--color-checks-scrollbar-thumb-bg, rgba(99,110,123,0.4))",headerLabelText:"var(--color-checks-header-label-text, #768390)",headerLabelOpenText:"var(--color-checks-header-label-open-text, #adbac7)",headerBorder:"var(--color-checks-header-border, #373e47)",headerIcon:"var(--color-checks-header-icon, #768390)",lineText:"var(--color-checks-line-text, #768390)",lineNumText:"var(--color-checks-line-num-text, #636e7b)",lineTimestampText:"var(--color-checks-line-timestamp-text, #636e7b)",lineHoverBg:"var(--color-checks-line-hover-bg, rgba(99,110,123,0.1))",lineSelectedBg:"var(--color-checks-line-selected-bg, rgba(65,132,228,0.1))",lineSelectedNumText:"var(--color-checks-line-selected-num-text, #539bf5)",lineDtFmText:"var(--color-checks-line-dt-fm-text, #cdd9e5)",lineDtFmBg:"var(--color-checks-line-dt-fm-bg, #966600)",gateBg:"var(--color-checks-gate-bg, rgba(174,124,20,0.15))",gateText:"var(--color-checks-gate-text, #768390)",gateWaitingText:"var(--color-checks-gate-waiting-text, #c69026)",stepHeaderOpenBg:"var(--color-checks-step-header-open-bg, #2d333b)",stepErrorText:"var(--color-checks-step-error-text, #e5534b)",stepWarningText:"var(--color-checks-step-warning-text, #c69026)",loglineText:"var(--color-checks-logline-text, #768390)",loglineNumText:"var(--color-checks-logline-num-text, #636e7b)",loglineDebugText:"var(--color-checks-logline-debug-text, #986ee2)",loglineErrorText:"var(--color-checks-logline-error-text, #768390)",loglineErrorNumText:"var(--color-checks-logline-error-num-text, #636e7b)",loglineErrorBg:"var(--color-checks-logline-error-bg, rgba(229,83,75,0.1))",loglineWarningText:"var(--color-checks-logline-warning-text, #768390)",loglineWarningNumText:"var(--color-checks-logline-warning-num-text, #c69026)",loglineWarningBg:"var(--color-checks-logline-warning-bg, rgba(174,124,20,0.15))",loglineCommandText:"var(--color-checks-logline-command-text, #539bf5)",loglineSectionText:"var(--color-checks-logline-section-text, #57ab5a)",ansi:{black:"var(--color-checks-ansi-black, #22272e)",blackBright:"var(--color-checks-ansi-black-bright, #2d333b)",white:"var(--color-checks-ansi-white, #909dab))",whiteBright:"var(--color-checks-ansi-white-bright, #909dab)",gray:"var(--color-checks-ansi-gray, #636e7b)",red:"var(--color-checks-ansi-red, #f47067)",redBright:"var(--color-checks-ansi-red-bright, #ff938a)",green:"var(--color-checks-ansi-green, #57ab5a)",greenBright:"var(--color-checks-ansi-green-bright, #6bc46d)",yellow:"var(--color-checks-ansi-yellow, #c69026)",yellowBright:"var(--color-checks-ansi-yellow-bright, #daaa3f)",blue:"var(--color-checks-ansi-blue, #539bf5)",blueBright:"var(--color-checks-ansi-blue-bright, #6cb6ff)",magenta:"var(--color-checks-ansi-magenta, #b083f0)",magentaBright:"var(--color-checks-ansi-magenta-bright, #dcbdfb)",cyan:"var(--color-checks-ansi-cyan, #76e3ea)",cyanBright:"var(--color-checks-ansi-cyan-bright, #b3f0ff)"}},project:{headerBg:"var(--color-project-header-bg, #22272e)",sidebarBg:"var(--color-project-sidebar-bg, #2d333b)",gradientIn:"var(--color-project-gradient-in, #2d333b)",gradientOut:"var(--color-project-gradient-out, rgba(45,51,59,0))"},mktg:{btn:{bg:"var(--color-mktg-btn-bg, #f6f8fa))"}},control:{borderColor:{emphasis:"var(--control-borderColor-emphasis, var(--color-control-border-color-emphasis, #606771))"}},avatar:{bg:"var(--avatar-bgColor, var(--color-avatar-bg, rgba(205,217,229,0.1)))",border:"var(--avatar-borderColor, var(--color-avatar-border, rgba(205,217,229,0.1)))",stackFade:"var(--avatarStack-fade-bgColor-default, var(--color-avatar-stack-fade, #444c56))",stackFadeMore:"var(--avatarStack-fade-bgColor-muted, var(--color-avatar-stack-fade-more, #373e47))"},topicTag:{border:"var(--topicTag-borderColor, var(--color-topic-tag-border, transparent))"},counter:{border:"var(--counter-borderColor, var(--color-counter-border, transparent))"},selectMenu:{backdropBorder:"var(--selectMenu-borderColor, var(--color-select-menu-backdrop-border, #545d68))",tapHighlight:"var(--control-bgColor-active, var(--color-select-menu-tap-highlight, rgba(68,76,86,0.5)))",tapFocusBg:"var(--selectMenu-bgColor-active, var(--color-select-menu-tap-focus-bg, #143d79))"},overlay:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-overlay-backdrop, rgba(45,51,59,0.4)))"},header:{text:"var(--header-fgColor-default, var(--color-header-text, rgba(205,217,229,0.7)))",bg:"var(--header-bgColor, var(--color-header-bg, #2d333b))",divider:"var(--header-borderColor-divider, var(--color-header-divider, #768390))",logo:"var(--header-fgColor-logo, var(--color-header-logo, #cdd9e5))"},headerSearch:{bg:"var(--headerSearch-bgColor, var(--color-header-search-bg, #22272e))",border:"var(--headerSearch-borderColor, var(--color-header-search-border, #444c56))"},sidenav:{selectedBg:"var(--sideNav-bgColor-selected, var(--color-sidenav-selected-bg, #373e47))"},menu:{bgActive:"var(--menu-bgColor-active, var(--color-menu-bg-active, #2d333b))"},input:{disabledBg:"var(--control-bgColor-disabled, var(--color-input-disabled-bg, rgba(99,110,123,0)))"},timeline:{badgeBg:"var(--timelineBadge-bgColor, var(--color-timeline-badge-bg, #373e47))"},ansi:{black:"var(--color-ansi-black, #545d68)",blackBright:"var(--color-ansi-black-bright, #636e7b)",white:"var(--color-ansi-white, #909dab)",whiteBright:"var(--color-ansi-white-bright, #cdd9e5)",gray:"var(--color-ansi-gray, #636e7b)",red:"var(--color-ansi-red, #f47067)",redBright:"var(--color-ansi-red-bright, #ff938a)",green:"var(--color-ansi-green, #57ab5a)",greenBright:"var(--color-ansi-green-bright, #6bc46d)",yellow:"var(--color-ansi-yellow, #c69026)",yellowBright:"var(--color-ansi-yellow-bright, #daaa3f)",blue:"var(--color-ansi-blue, #539bf5)",blueBright:"var(--color-ansi-blue-bright, #6cb6ff)",magenta:"var(--color-ansi-magenta, #b083f0)",magentaBright:"var(--color-ansi-magenta-bright, #dcbdfb)",cyan:"var(--color-ansi-cyan, #39c5cf)",cyanBright:"var(--color-ansi-cyan-bright, #56d4dd)"},btn:{text:"var(--button-default-fgColor-rest, var(--color-btn-text, #adbac7))",bg:"var(--button-default-bgColor-rest, var(--color-btn-bg, #373e47))",border:"var(--button-default-borderColor-rest, var(--color-btn-border, rgba(205,217,229,0.1)))",hoverBg:"var(--button-default-bgColor-hover, var(--color-btn-hover-bg, #444c56))",hoverBorder:"var(--button-default-borderColor-hover, var(--color-btn-hover-border, #768390))",activeBg:"var(--button-default-bgColor-active, var(--color-btn-active-bg, hsla(213,12%,27%,1)))",activeBorder:"var(--button-default-borderColor-active, var(--color-btn-active-border, #636e7b))",selectedBg:"var(--button-default-bgColor-selected, var(--color-btn-selected-bg, #2d333b))",counterBg:"var(--buttonCounter-default-bgColor-rest, var(--color-btn-counter-bg, #444c56))",primary:{text:"var(--button-primary-fgColor-rest, var(--color-btn-primary-text, #ffffff))",bg:"var(--button-primary-bgColor-rest, var(--color-btn-primary-bg, #347d39))",border:"var(--button-primary-borderColor-rest, var(--color-btn-primary-border, rgba(205,217,229,0.1)))",hoverBg:"var(--button-primary-bgColor-hover, var(--color-btn-primary-hover-bg, #46954a))",hoverBorder:"var(--button-primary-borderColor-hover, var(--color-btn-primary-hover-border, rgba(205,217,229,0.1)))",selectedBg:"var(--button-primary-bgColor-active, var(--color-btn-primary-selected-bg, #347d39))",disabledText:"var(--button-primary-fgColor-disabled, var(--color-btn-primary-disabled-text, rgba(205,217,229,0.5)))",disabledBg:"var(--button-primary-bgColor-disabled, var(--color-btn-primary-disabled-bg, rgba(52,125,57,0.6)))",disabledBorder:"var(--button-primary-borderColor-disabled, var(--color-btn-primary-disabled-border, rgba(205,217,229,0.1)))",icon:"var(--button-primary-iconColor-rest, var(--color-btn-primary-icon, #cdd9e5))",counterBg:"var(--buttonCounter-primary-bgColor-rest, var(--color-btn-primary-counter-bg, rgba(17,52,23,0.2)))"},outline:{text:"var(--button-outline-fgColor-rest, var(--color-btn-outline-text, #4184e4))",hoverText:"var(--button-outline-fgColor-hover, var(--color-btn-outline-hover-text, #539bf5))",hoverBg:"var(--button-outline-bgColor-hover, var(--color-btn-outline-hover-bg, #444c56))",hoverBorder:"var(--button-outline-borderColor-hover, var(--color-btn-outline-hover-border, rgba(205,217,229,0.1)))",hoverCounterBg:"var(--buttonCounter-outline-bgColor-hover, var(--color-btn-outline-hover-counter-bg, rgba(15,45,92,0.2)))",selectedText:"var(--button-outline-fgColor-active, var(--color-btn-outline-selected-text, #cdd9e5))",selectedBg:"var(--button-outline-bgColor-active, var(--color-btn-outline-selected-bg, #1b4b91))",selectedBorder:"var(--button-outline-borderColor-active, var(--color-btn-outline-selected-border, rgba(205,217,229,0.1)))",disabledText:"var(--button-outline-fgColor-disabled, var(--color-btn-outline-disabled-text, rgba(83,155,245,0.5)))",disabledBg:"var(--button-outline-bgColor-disabled, var(--color-btn-outline-disabled-bg, #22272e))",disabledCounterBg:"var(--buttonCounter-outline-bgColor-disabled, var(--color-btn-outline-disabled-counter-bg, rgba(49,109,202,0.05)))",counterBg:"var(--buttonCounter-outline-bgColor-rest, var(--color-btn-outline-counter-bg, rgba(15,45,92,0.2)))",hoverCounterFg:"var(--buttonCounter-outline-fgColor-hover, var(--color-btn-outline-hover-counter-fg, #539bf5))",disabledCounterFg:"var(--buttonCounter-outline-fgColor-disabled, var(--color-btn-outline-disabled-counter-fg, rgba(83,155,245,0.5)))",counterFg:"var(--buttonCounter-outline-fgColor-rest, var(--color-btn-outline-counter-fg, #4184e4))"},danger:{text:"var(--button-danger-fgColor-rest, var(--color-btn-danger-text, #e5534b))",hoverText:"var(--button-danger-fgColor-hover, var(--color-btn-danger-hover-text, #cdd9e5))",hoverBg:"var(--button-danger-bgColor-hover, var(--color-btn-danger-hover-bg, #c93c37))",hoverBorder:"var(--button-danger-borderColor-hover, var(--color-btn-danger-hover-border, #e5534b))",hoverIcon:"var(--button-danger-iconColor-hover, var(--color-btn-danger-hover-icon, #cdd9e5))",hoverCounterBg:"var(--buttonCounter-danger-bgColor-hover, var(--color-btn-danger-hover-counter-bg, rgba(255,255,255,0.2)))",selectedText:"var(--button-danger-fgColor-active, var(--color-btn-danger-selected-text, #ffffff))",selectedBg:"var(--button-danger-bgColor-active, var(--color-btn-danger-selected-bg, #ad2e2c))",selectedBorder:"var(--button-danger-borderColor-active, var(--color-btn-danger-selected-border, #f47067))",disabledText:"var(--button-danger-fgColor-disabled, var(--color-btn-danger-disabled-text, rgba(229,83,75,0.5)))",disabledBg:"var(--button-danger-bgColor-disabled, var(--color-btn-danger-disabled-bg, #22272e))",disabledCounterBg:"var(--buttonCounter-danger-bgColor-disabled, var(--color-btn-danger-disabled-counter-bg, rgba(201,60,55,0.05)))",counterBg:"var(--buttonCounter-danger-bgColor-rest, var(--color-btn-danger-counter-bg, rgba(93,15,18,0.2)))",icon:"var(--button-danger-iconColor-rest, var(--color-btn-danger-icon, #e5534b))",counterFg:"var(--buttonCounter-danger-fgColor-rest, var(--color-btn-danger-counter-fg, #e5534b))",disabledCounterFg:"var(--buttonCounter-danger-fgColor-disabled, var(--color-btn-danger-disabled-counter-fg, rgba(229,83,75,0.5)))",hoverCounterFg:"var(--buttonCounter-danger-fgColor-hover, var(--color-btn-danger-hover-counter-fg, #cdd9e5))"},inactive:{bg:"var(--button-inactive-bgColor-rest, var(--color-btn-inactive-bg, #373e47))",text:"var(--button-inactive-fgColor-rest, var(--color-btn-inactive-text, #768390))"}},underlinenav:{icon:"var(--underlineNav-iconColor-rest, var(--color-underlinenav-icon, #636e7b))",borderHover:"var(--underlineNav-borderColor-hover, var(--color-underlinenav-border-hover, rgba(99,110,123,0.4)))"},actionListItem:{inlineDivider:"var(--borderColor-muted, var(--color-action-list-item-inline-divider, rgba(68,76,86,0.48)))",default:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-action-list-item-default-hover-bg, rgba(144,157,171,0.12)))",hoverBorder:"var(--control-transparent-borderColor-hover, var(--color-action-list-item-default-hover-border, transparent))",activeBg:"var(--control-transparent-bgColor-active, var(--color-action-list-item-default-active-bg, rgba(144,157,171,0.2)))",activeBorder:"var(--control-transparent-borderColor-active, var(--color-action-list-item-default-active-border, transparent))",selectedBg:"var(--control-transparent-bgColor-selected, var(--color-action-list-item-default-selected-bg, rgba(144,157,171,0.08)))"},danger:{hoverBg:"var(--control-danger-bgColor-hover, var(--color-action-list-item-danger-hover-bg, rgba(229,83,75,0.16)))",activeBg:"var(--control-danger-bgColor-active, var(--color-action-list-item-danger-active-bg, rgba(229,83,75,0.24)))",hoverText:"var(--control-danger-fgColor-hover, var(--color-action-list-item-danger-hover-text, #f47067))"}},switchTrack:{bg:"var(--controlTrack-bgColor-rest, var(--color-switch-track-bg, rgba(99,110,123,0.1)))",hoverBg:"var(--controlTrack-bgColor-hover, var(--color-switch-track-hover-bg, hsla(213,11%,69%,0.1)))",activeBg:"var(--controlTrack-bgColor-active, var(--color-switch-track-active-bg, rgba(99,110,123,0.4)))",disabledBg:"var(--controlTrack-bgColor-disabled, var(--color-switch-track-disabled-bg, #373e47))",fg:"var(--controlTrack-fgColor-rest, var(--color-switch-track-fg, #768390))",disabledFg:"var(--controlTrack-fgColor-disabled, var(--color-switch-track-disabled-fg, #1c2128))",border:"var(--controlTrack-borderColor-rest, var(--color-switch-track-border, transparent))",checked:{bg:"var(--control-checked-bgColor-rest, var(--color-switch-track-checked-bg, rgba(49,109,202,0.35)))",hoverBg:"var(--control-checked-bgColor-hover, var(--color-switch-track-checked-hover-bg, rgba(49,109,202,0.5)))",activeBg:"var(--control-checked-bgColor-active, var(--color-switch-track-checked-active-bg, rgba(49,109,202,0.65)))",fg:"var(--control-checked-fgColor-rest, var(--color-switch-track-checked-fg, #cdd9e5))",disabledFg:"var(--control-checked-fgColor-disabled, var(--color-switch-track-checked-disabled-fg, #1c2128))",border:"var(--borderColor-transparent, var(--color-switch-track-checked-border, transparent))"}},switchKnob:{bg:"var(--controlKnob-bgColor-rest, var(--color-switch-knob-bg, #22272e))",border:"var(--controlKnob-borderColor-rest, var(--color-switch-knob-border, #606771))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-disabled-bg, #2d333b))",checked:{bg:"var(--controlKnob-bgColor-checked, var(--color-switch-knob-checked-bg, #22272e))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-checked-disabled-bg, #2d333b))",border:"var(--controlKnob-borderColor-checked, var(--color-switch-knob-checked-border, rgba(49,109,202,0.35)))"}},segmentedControl:{bg:"var(--controlTrack-bgColor-rest, var(--color-segmented-control-bg, rgba(99,110,123,0.1)))",button:{bg:"var(--controlKnob-bgColor-rest, var(--color-segmented-control-button-bg, #22272e))",hover:{bg:"var(--controlTrack-bgColor-hover, var(--color-segmented-control-button-hover-bg, #444c56))"},active:{bg:"var(--controlTrack-bgColor-active, var(--color-segmented-control-button-active-bg, #373e47))"},selected:{border:"var(--controlKnob-borderColor-rest, var(--color-segmented-control-button-selected-border, #636e7b))"}}},treeViewItem:{chevron:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-tree-view-item-chevron-hover-bg, rgba(144,157,171,0.12)))"},directory:{fill:"var(--treeViewItem-leadingVisual-bgColor-rest, var(--color-tree-view-item-directory-fill, #768390))"}},fg:{default:"var(--fgColor-default, var(--color-fg-default, #adbac7))",muted:"var(--fgColor-muted, var(--color-fg-muted, #768390))",subtle:"var(--fgColor-muted, var(--color-fg-subtle, #636e7b))",onEmphasis:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis, #cdd9e5))"},canvas:{default:"var(--bgColor-default, var(--color-canvas-default, #22272e))",overlay:"var(--overlay-bgColor, var(--color-canvas-overlay, #2d333b))",inset:"var(--bgColor-inset, var(--color-canvas-inset, #1c2128))",subtle:"var(--bgColor-muted, var(--color-canvas-subtle, #2d333b))"},border:{default:"var(--borderColor-default, var(--color-border-default, #444c56))",muted:"var(--borderColor-muted, var(--color-border-muted, #373e47))",subtle:"var(--borderColor-muted, var(--color-border-subtle, rgba(205,217,229,0.1)))"},neutral:{emphasisPlus:"var(--bgColor-emphasis, var(--color-neutral-emphasis-plus, #636e7b))",emphasis:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis, #636e7b))",muted:"var(--bgColor-neutral-muted, var(--color-neutral-muted, rgba(99,110,123,0.4)))",subtle:"var(--bgColor-neutral-muted, var(--color-neutral-subtle, rgba(99,110,123,0.1)))"},accent:{fg:"var(--fgColor-acccent, var(--color-accent-fg, #539bf5))",emphasis:"var(--bgColor-accent-emphasis, var(--color-accent-emphasis, #316dca))",muted:"var(--borderColor-accent-muted, var(--color-accent-muted, rgba(65,132,228,0.4)))",subtle:"var(--bgColor-accent-muted, var(--color-accent-subtle, rgba(65,132,228,0.1)))"},success:{fg:"var(--fgColor-success, var(--color-success-fg, #57ab5a))",emphasis:"var(--bgColor-success-emphasis, var(--color-success-emphasis, #347d39))",muted:"var(--borderColor-success-muted, var(--color-success-muted, rgba(70,149,74,0.4)))",subtle:"var(--bgColor-success-muted, var(--color-success-subtle, rgba(70,149,74,0.15)))"},attention:{fg:"var(--fgColor-attention, var(--color-attention-fg, #c69026))",emphasis:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis, #966600))",muted:"var(--borderColor-attention-muted, var(--color-attention-muted, rgba(174,124,20,0.4)))",subtle:"var(--bgColor-attention-muted, var(--color-attention-subtle, rgba(174,124,20,0.15)))"},severe:{fg:"var(--fgColor-severe, var(--color-severe-fg, #cc6b2c))",emphasis:"var(--bgColor-severe-emphasis, var(--color-severe-emphasis, #ae5622))",muted:"var(--borderColor-severe-muted, var(--color-severe-muted, rgba(204,107,44,0.4)))",subtle:"var(--bgColor-severe-muted, var(--color-severe-subtle, rgba(204,107,44,0.1)))"},danger:{fg:"var(--fgColor-danger, var(--color-danger-fg, #e5534b))",emphasis:"var(--borderColor-danger-emphasis, var(--color-danger-emphasis, #c93c37))",muted:"var(--borderColor-danger-muted, var(--color-danger-muted, rgba(229,83,75,0.4)))",subtle:"var(--bgColor-danger-muted, var(--color-danger-subtle, rgba(229,83,75,0.1)))"},open:{fg:"var(--fgColor-open, var(--color-open-fg, #57ab5a))",emphasis:"var(--bgColor-open-emphasis, var(--color-open-emphasis, #347d39))",muted:"var(--borderColor-open-muted, var(--color-open-muted, rgba(70,149,74,0.4)))",subtle:"var(--bgColor-open-muted, var(--color-open-subtle, rgba(70,149,74,0.15)))"},closed:{fg:"var(--fgColor-closed, var(--color-closed-fg, #e5534b))",emphasis:"var(--bgColor-closed-emphasis, var(--color-closed-emphasis, #c93c37))",muted:"var(--borderColor-closed-muted, var(--color-closed-muted, rgba(229,83,75,0.4)))",subtle:"var(--bgColor-closed-muted, var(--color-closed-subtle, rgba(229,83,75,0.15)))"},done:{fg:"var(--fgColor-done, var(--color-done-fg, #986ee2))",emphasis:"var(--bgColor-done-emphasis, var(--color-done-emphasis, #8256d0))",muted:"var(--borderColor-done-muted, var(--color-done-muted, rgba(152,110,226,0.4)))",subtle:"var(--bgColor-done-muted, var(--color-done-subtle, rgba(152,110,226,0.1)))"},sponsors:{fg:"var(--fgColor-sponsors, var(--color-sponsors-fg, #c96198))",emphasis:"var(--bgColor-sponsors-emphasis, var(--color-sponsors-emphasis, #ae4c82))",muted:"var(--borderColor-sponsors-muted, var(--color-sponsors-muted, rgba(201,97,152,0.4)))",subtle:"var(--bgColor-sponsors-muted, var(--color-sponsors-subtle, rgba(201,97,152,0.1)))"},primer:{fg:{disabled:"var(--fgColor-disabled, var(--color-primer-fg-disabled, #545d68))"},canvas:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-primer-canvas-backdrop, rgba(28,33,40,0.8)))",sticky:"var(--color-primer-canvas-sticky, rgba(34,39,46,0.95))"},border:{active:"var(--underlineNav-borderColor-active, var(--color-primer-border-active, #ec775c))",contrast:"var(--borderColor-muted, var(--color-primer-border-contrast, rgba(205,217,229,0.2)))"}}},shadows:{checks:{inputShadow:"var(--color-checks-input-shadow, 0 0 0 1px #444c56)"},mktg:{btn:{shadow:{outline:"var(--color-mktg-btn-shadow-outline, rgb(255 255 255 / 25%) 0 0 0 1px inset))",focus:"var(--color-mktg-btn-shadow-focus, rgb(255 255 255 / 25%) 0 0 0 4px))",hover:"var(--color-mktg-btn-shadow-hover, 0 4px 7px rgba(0, 0, 0, 0.15), 0 100px 80px rgba(255, 255, 255, 0.02), 0 42px 33px rgba(255, 255, 255, 0.024), 0 22px 18px rgba(255, 255, 255, 0.028), 0 12px 10px rgba(255, 255, 255, 0.034), 0 7px 5px rgba(255, 255, 255, 0.04), 0 3px 2px rgba(255, 255, 255, 0.07)))",hoverMuted:"var(--color-mktg-btn-shadow-hover-muted, rgb(255 255 255) 0 0 0 2px inset))"}}},avatar:{childShadow:"var(--avatar-shadow, var(--color-avatar-child-shadow, 0 0 0 2px #22272e))"},overlay:{shadow:"var(--shadow-floating-small, var(--color-overlay-shadow, 0 0 0 1px #444c56, 0 16px 32px rgba(28,33,40,0.85)))"},btn:{shadow:"var(--button-default-shadow-resting, var(--color-btn-shadow, 0 0 transparent))",insetShadow:"var(--button-default-shadow-inset, var(--color-btn-inset-shadow, 0 0 transparent))",primary:{shadow:"var(--shadow-resting-small, var(--color-btn-primary-shadow, 0 0 transparent))",insetShadow:"var(--shadow-highlight, var(--color-btn-primary-inset-shadow, 0 0 transparent))",selectedShadow:"var(--button-primary-shadow-selected, var(--color-btn-primary-selected-shadow, 0 0 transparent))"},outline:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-outline-hover-shadow, 0 1px 0 rgba(28,33,40,0.1)))// HI_KATIE: no matches",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-outline-hover-inset-shadow, inset 0 1px 0 rgba(205,217,229,0.03)))// HI_KATIE: no matches",selectedShadow:"var(--button-outline-shadow-selected, var(--color-btn-outline-selected-shadow, 0 0 transparent))"},danger:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-danger-hover-shadow, 0 0 transparent))",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-danger-hover-inset-shadow, 0 0 transparent))",selectedShadow:"var(--button-danger-shadow-selected, var(--color-btn-danger-selected-shadow, 0 0 transparent))"}},shadow:{small:"var(--shadow-resting-small, var(--color-shadow-small, 0 0 transparent))",medium:"var(--shadow-resting-medium, var(--color-shadow-medium, 0 3px 6px #1c2128))",large:"var(--shadow-floating-large, var(--color-shadow-large, 0 8px 24px #1c2128))",extraLarge:"var(--shadow-floating-xlarge, var(--color-shadow-extra-large, 0 12px 48px #1c2128))"},primer:{shadow:{highlight:"var(--shadow-highlight, var(--color-primer-shadow-highlight, 0 0 transparent))",inset:"var(--shadow-inset, var(--color-primer-shadow-inset, 0 0 transparent))"}}}},dark_high_contrast:{colors:{canvasDefaultTransparent:"var(--bgColor-transparent, var(--color-canvas-default-transparent, rgba(10,12,16,0)))",pageHeaderBg:"var(--page-header-bgColor, var(--color-page-header-bg, #0a0c10))",marketingIcon:{primary:"var(--color-marketing-icon-primary, #91cbff)",secondary:"var(--color-marketing-icon-secondary, #409eff)"},diffBlob:{addition:{numText:"var(--diffBlob-addition-fgColor-num, var(--color-diff-blob-addition-num-text, #f0f3f6))",fg:"var(--diffBlob-addition-fgColor-text, var(--color-diff-blob-addition-fg, #0a0c10))",numBg:"var(--diffBlob-addition-bgColor-num, var(--color-diff-blob-addition-num-bg, rgba(38,205,77,0.3)))",lineBg:"var(--diffBlob-addition-bgColor-line, var(--color-diff-blob-addition-line-bg, rgba(9,180,58,0.15)))",wordBg:"var(--diffBlob-addition-bgColor-word, var(--color-diff-blob-addition-word-bg, #09b43a))"},deletion:{numText:"var(--diffBlob-deletion-fgColor-num, var(--color-diff-blob-deletion-num-text, #f0f3f6))",fg:"var(--diffBlob-deletion-fgColor-text, var(--color-diff-blob-deletion-fg, #0a0c10))",numBg:"var(--diffBlob-deletion-bgColor-num, var(--color-diff-blob-deletion-num-bg, rgba(255,106,105,0.3)))",lineBg:"var(--diffBlob-deletion-bgColor-line, var(--color-diff-blob-deletion-line-bg, rgba(255,106,105,0.1)))",wordBg:"var(--diffBlob-deletion-bgColor-word, var(--color-diff-blob-deletion-word-bg, #ff6a69))"},hunk:{numBg:"var(--diffBlob-hunk-bgColor-num, var(--color-diff-blob-hunk-num-bg, rgba(64,158,255,0.4)))"},expander:{icon:"var(--diffBlob-expander-iconColor, var(--color-diff-blob-expander-icon, #f0f3f6))"},selectedLineHighlightMixBlendMode:"var(--color-diff-blob-selected-line-highlight-mix-blend-mode, screen)"},diffstat:{deletionBorder:"var(--color-diffstat-deletion-border, #ffb1af)",additionBorder:"var(--color-diffstat-addition-border, #4ae168)",additionBg:"var(--diffStat-addition-bgColor, var(--color-diffstat-addition-bg, #26cd4d))"},searchKeyword:{hl:"var(--highlight-neutral-bgColor, var(--color-search-keyword-hl, rgba(240,183,47,0.4)))"},prettylights:{syntax:{comment:"var(--color-prettylights-syntax-comment, #bdc4cc)",constant:"var(--color-prettylights-syntax-constant, #91cbff)",entity:"var(--color-prettylights-syntax-entity, #dbb7ff)",storageModifierImport:"var(--color-prettylights-syntax-storage-modifier-import, #f0f3f6)",entityTag:"var(--color-prettylights-syntax-entity-tag, #72f088)",keyword:"var(--color-prettylights-syntax-keyword, #ff9492)",string:"var(--color-prettylights-syntax-string, #addcff)",variable:"var(--color-prettylights-syntax-variable, #ffb757)",brackethighlighterUnmatched:"var(--color-prettylights-syntax-brackethighlighter-unmatched, #ff6a69)",invalidIllegalText:"var(--color-prettylights-syntax-invalid-illegal-text, #ffffff)",invalidIllegalBg:"var(--color-prettylights-syntax-invalid-illegal-bg, #e82a2f)",carriageReturnText:"var(--color-prettylights-syntax-carriage-return-text, #ffffff)",carriageReturnBg:"var(--color-prettylights-syntax-carriage-return-bg, #ff4445)",stringRegexp:"var(--color-prettylights-syntax-string-regexp, #72f088)",markupList:"var(--color-prettylights-syntax-markup-list, #fbd669)",markupHeading:"var(--color-prettylights-syntax-markup-heading, #409eff)",markupItalic:"var(--color-prettylights-syntax-markup-italic, #f0f3f6)",markupBold:"var(--color-prettylights-syntax-markup-bold, #f0f3f6)",markupDeletedText:"var(--color-prettylights-syntax-markup-deleted-text, #ffdedb)",markupDeletedBg:"var(--color-prettylights-syntax-markup-deleted-bg, #cc1421)",markupInsertedText:"var(--color-prettylights-syntax-markup-inserted-text, #acf7b6)",markupInsertedBg:"var(--color-prettylights-syntax-markup-inserted-bg, #007728)",markupChangedText:"var(--color-prettylights-syntax-markup-changed-text, #ffe1b4)",markupChangedBg:"var(--color-prettylights-syntax-markup-changed-bg, #a74c00)",markupIgnoredText:"var(--color-prettylights-syntax-markup-ignored-text, #f0f3f6)",markupIgnoredBg:"var(--color-prettylights-syntax-markup-ignored-bg, #318bf8)",metaDiffRange:"var(--color-prettylights-syntax-meta-diff-range, #dbb7ff)",brackethighlighterAngle:"var(--color-prettylights-syntax-brackethighlighter-angle, #bdc4cc)",sublimelinterGutterMark:"var(--color-prettylights-syntax-sublimelinter-gutter-mark, #7a828e)",constantOtherReferenceLink:"var(--color-prettylights-syntax-constant-other-reference-link, #addcff)"}},codemirror:{text:"var(--codeMirror-fgColor, var(--color-codemirror-text, #f0f3f6))",bg:"var(--codeMirror-bgColor, var(--color-codemirror-bg, #0a0c10))",guttersBg:"var(--codeMirror-gutters-bgColor, var(--color-codemirror-gutters-bg, #0a0c10))",guttermarkerText:"var(--codeMirror-gutterMarker-fgColor-default, var(--color-codemirror-guttermarker-text, #0a0c10))",guttermarkerSubtleText:"var(--codeMirror-gutterMarker-fgColor-muted, var(--color-codemirror-guttermarker-subtle-text, #9ea7b3))",linenumberText:"var(--codeMirror-lineNumber-fgColor, var(--color-codemirror-linenumber-text, #f0f3f6))",cursor:"var(--codeMirror-cursor-fgColor, var(--color-codemirror-cursor, #f0f3f6))",selectionBg:"var(--codeMirror-selection-bgColor, var(--color-codemirror-selection-bg, rgba(64,158,255,0.4)))",activelineBg:"var(--codeMirror-activeline-bgColor, var(--color-codemirror-activeline-bg, rgba(158,167,179,0.1)))",matchingbracketText:"var(--codeMirror-matchingBracket-fgColor, var(--color-codemirror-matchingbracket-text, #f0f3f6))",linesBg:"var(--codeMirror-lines-bgColor, var(--color-codemirror-lines-bg, #0a0c10))",syntax:{comment:"var(--codeMirror-syntax-fgColor-comment, var(--color-codemirror-syntax-comment, #bdc4cc))",constant:"var(--codeMirror-syntax-fgColor-constant, var(--color-codemirror-syntax-constant, #91cbff))",entity:"var(--codeMirror-syntax-fgColor-entity, var(--color-codemirror-syntax-entity, #dbb7ff))",keyword:"var(--codeMirror-syntax-fgColor-keyword, var(--color-codemirror-syntax-keyword, #ff9492))",storage:"var(--codeMirror-syntax-fgColor-storage, var(--color-codemirror-syntax-storage, #ff9492))",string:"var(--codeMirror-syntax-fgColor-string, var(--color-codemirror-syntax-string, #addcff))",support:"var(--codeMirror-syntax-fgColor-support, var(--color-codemirror-syntax-support, #91cbff))",variable:"var(--codeMirror-syntax-fgColor-variable, var(--color-codemirror-syntax-variable, #ffb757))"}},checks:{bg:"var(--color-checks-bg, #010409)",runBorderWidth:"var(--color-checks-run-border-width, 1px)",containerBorderWidth:"var(--color-checks-container-border-width, 1px)",textPrimary:"var(--color-checks-text-primary, #f0f3f6)",textSecondary:"var(--color-checks-text-secondary, #f0f3f6)",textLink:"var(--color-checks-text-link, #71b7ff)",btnIcon:"var(--color-checks-btn-icon, #f0f3f6)",btnHoverIcon:"var(--color-checks-btn-hover-icon, #f0f3f6)",btnHoverBg:"var(--color-checks-btn-hover-bg, rgba(158,167,179,0.1))",inputText:"var(--color-checks-input-text, #f0f3f6)",inputPlaceholderText:"var(--color-checks-input-placeholder-text, #9ea7b3)",inputFocusText:"var(--color-checks-input-focus-text, #f0f3f6)",inputBg:"var(--color-checks-input-bg, #272b33)",donutError:"var(--color-checks-donut-error, #ff6a69)",donutPending:"var(--color-checks-donut-pending, #f0b72f)",donutSuccess:"var(--color-checks-donut-success, #09b43a)",donutNeutral:"var(--color-checks-donut-neutral, #bdc4cc)",dropdownText:"var(--color-checks-dropdown-text, #f0f3f6)",dropdownBg:"var(--color-checks-dropdown-bg, #272b33)",dropdownBorder:"var(--color-checks-dropdown-border, #7a828e)",dropdownShadow:"var(--color-checks-dropdown-shadow, rgba(1,4,9,0.3))",dropdownHoverText:"var(--color-checks-dropdown-hover-text, #f0f3f6)",dropdownHoverBg:"var(--color-checks-dropdown-hover-bg, rgba(158,167,179,0.1))",dropdownBtnHoverText:"var(--color-checks-dropdown-btn-hover-text, #f0f3f6)",dropdownBtnHoverBg:"var(--color-checks-dropdown-btn-hover-bg, rgba(158,167,179,0.1))",scrollbarThumbBg:"var(--color-checks-scrollbar-thumb-bg, rgba(158,167,179,0.4))",headerLabelText:"var(--color-checks-header-label-text, #f0f3f6)",headerLabelOpenText:"var(--color-checks-header-label-open-text, #f0f3f6)",headerBorder:"var(--color-checks-header-border, #7a828e)",headerIcon:"var(--color-checks-header-icon, #f0f3f6)",lineText:"var(--color-checks-line-text, #f0f3f6)",lineNumText:"var(--color-checks-line-num-text, #9ea7b3)",lineTimestampText:"var(--color-checks-line-timestamp-text, #9ea7b3)",lineHoverBg:"var(--color-checks-line-hover-bg, rgba(158,167,179,0.1))",lineSelectedBg:"var(--color-checks-line-selected-bg, rgba(64,158,255,0.1))",lineSelectedNumText:"var(--color-checks-line-selected-num-text, #71b7ff)",lineDtFmText:"var(--color-checks-line-dt-fm-text, #0a0c10)",lineDtFmBg:"var(--color-checks-line-dt-fm-bg, #e09b13)",gateBg:"var(--color-checks-gate-bg, rgba(224,155,19,0.15))",gateText:"var(--color-checks-gate-text, #f0f3f6)",gateWaitingText:"var(--color-checks-gate-waiting-text, #f0b72f)",stepHeaderOpenBg:"var(--color-checks-step-header-open-bg, #272b33)",stepErrorText:"var(--color-checks-step-error-text, #ff6a69)",stepWarningText:"var(--color-checks-step-warning-text, #f0b72f)",loglineText:"var(--color-checks-logline-text, #f0f3f6)",loglineNumText:"var(--color-checks-logline-num-text, #9ea7b3)",loglineDebugText:"var(--color-checks-logline-debug-text, #b780ff)",loglineErrorText:"var(--color-checks-logline-error-text, #f0f3f6)",loglineErrorNumText:"var(--color-checks-logline-error-num-text, #9ea7b3)",loglineErrorBg:"var(--color-checks-logline-error-bg, rgba(255,106,105,0.1))",loglineWarningText:"var(--color-checks-logline-warning-text, #f0f3f6)",loglineWarningNumText:"var(--color-checks-logline-warning-num-text, #f0b72f)",loglineWarningBg:"var(--color-checks-logline-warning-bg, rgba(224,155,19,0.15))",loglineCommandText:"var(--color-checks-logline-command-text, #71b7ff)",loglineSectionText:"var(--color-checks-logline-section-text, #26cd4d)",ansi:{black:"var(--color-checks-ansi-black, #0a0c10)",blackBright:"var(--color-checks-ansi-black-bright, #272b33)",white:"var(--color-checks-ansi-white, #d9dee3))",whiteBright:"var(--color-checks-ansi-white-bright, #d9dee3)",gray:"var(--color-checks-ansi-gray, #9ea7b3)",red:"var(--color-checks-ansi-red, #ff9492)",redBright:"var(--color-checks-ansi-red-bright, #ffb1af)",green:"var(--color-checks-ansi-green, #26cd4d)",greenBright:"var(--color-checks-ansi-green-bright, #4ae168)",yellow:"var(--color-checks-ansi-yellow, #f0b72f)",yellowBright:"var(--color-checks-ansi-yellow-bright, #f7c843)",blue:"var(--color-checks-ansi-blue, #71b7ff)",blueBright:"var(--color-checks-ansi-blue-bright, #91cbff)",magenta:"var(--color-checks-ansi-magenta, #cb9eff)",magentaBright:"var(--color-checks-ansi-magenta-bright, #dbb7ff)",cyan:"var(--color-checks-ansi-cyan, #76e3ea)",cyanBright:"var(--color-checks-ansi-cyan-bright, #b3f0ff)"}},project:{headerBg:"var(--color-project-header-bg, #0a0c10)",sidebarBg:"var(--color-project-sidebar-bg, #272b33)",gradientIn:"var(--color-project-gradient-in, #272b33)",gradientOut:"var(--color-project-gradient-out, rgba(39,43,51,0))"},mktg:{btn:{bg:"var(--color-mktg-btn-bg, #f6f8fa))"}},control:{borderColor:{emphasis:"var(--control-borderColor-emphasis, var(--color-control-border-color-emphasis, #9ea7b3))"}},avatar:{bg:"var(--avatar-bgColor, var(--color-avatar-bg, rgba(255,255,255,0.1)))",border:"var(--avatar-borderColor, var(--color-avatar-border, rgba(255,255,255,0.9)))",stackFade:"var(--avatarStack-fade-bgColor-default, var(--color-avatar-stack-fade, #525964))",stackFadeMore:"var(--avatarStack-fade-bgColor-muted, var(--color-avatar-stack-fade-more, #272b33))"},topicTag:{border:"var(--topicTag-borderColor, var(--color-topic-tag-border, #409eff))"},counter:{border:"var(--counter-borderColor, var(--color-counter-border, transparent))"},selectMenu:{backdropBorder:"var(--selectMenu-borderColor, var(--color-select-menu-backdrop-border, #7a828e))",tapHighlight:"var(--control-bgColor-active, var(--color-select-menu-tap-highlight, rgba(82,89,100,0.5)))",tapFocusBg:"var(--selectMenu-bgColor-active, var(--color-select-menu-tap-focus-bg, #1e60d5))"},overlay:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-overlay-backdrop, rgba(39,43,51,0.4)))"},header:{text:"var(--header-fgColor-default, var(--color-header-text, rgba(255,255,255,0.7)))",bg:"var(--header-bgColor, var(--color-header-bg, #272b33))",divider:"var(--header-borderColor-divider, var(--color-header-divider, #bdc4cc))",logo:"var(--header-fgColor-logo, var(--color-header-logo, #ffffff))"},headerSearch:{bg:"var(--headerSearch-bgColor, var(--color-header-search-bg, #0a0c10))",border:"var(--headerSearch-borderColor, var(--color-header-search-border, #525964))"},sidenav:{selectedBg:"var(--sideNav-bgColor-selected, var(--color-sidenav-selected-bg, #272b33))"},menu:{bgActive:"var(--menu-bgColor-active, var(--color-menu-bg-active, #272b33))"},input:{disabledBg:"var(--control-bgColor-disabled, var(--color-input-disabled-bg, rgba(158,167,179,0)))"},timeline:{badgeBg:"var(--timelineBadge-bgColor, var(--color-timeline-badge-bg, #272b33))"},ansi:{black:"var(--color-ansi-black, #7a828e)",blackBright:"var(--color-ansi-black-bright, #9ea7b3)",white:"var(--color-ansi-white, #d9dee3)",whiteBright:"var(--color-ansi-white-bright, #ffffff)",gray:"var(--color-ansi-gray, #9ea7b3)",red:"var(--color-ansi-red, #ff9492)",redBright:"var(--color-ansi-red-bright, #ffb1af)",green:"var(--color-ansi-green, #26cd4d)",greenBright:"var(--color-ansi-green-bright, #4ae168)",yellow:"var(--color-ansi-yellow, #f0b72f)",yellowBright:"var(--color-ansi-yellow-bright, #f7c843)",blue:"var(--color-ansi-blue, #71b7ff)",blueBright:"var(--color-ansi-blue-bright, #91cbff)",magenta:"var(--color-ansi-magenta, #cb9eff)",magentaBright:"var(--color-ansi-magenta-bright, #dbb7ff)",cyan:"var(--color-ansi-cyan, #39c5cf)",cyanBright:"var(--color-ansi-cyan-bright, #56d4dd)"},btn:{text:"var(--button-default-fgColor-rest, var(--color-btn-text, #f0f3f6))",bg:"var(--button-default-bgColor-rest, var(--color-btn-bg, #272b33))",border:"var(--button-default-borderColor-rest, var(--color-btn-border, #7a828e))",hoverBg:"var(--button-default-bgColor-hover, var(--color-btn-hover-bg, #525964))",hoverBorder:"var(--button-default-borderColor-hover, var(--color-btn-hover-border, #bdc4cc))",activeBg:"var(--button-default-bgColor-active, var(--color-btn-active-bg, hsla(217,10%,33%,1)))",activeBorder:"var(--button-default-borderColor-active, var(--color-btn-active-border, #9ea7b3))",selectedBg:"var(--button-default-bgColor-selected, var(--color-btn-selected-bg, rgba(82,89,100,0.9)))",counterBg:"var(--buttonCounter-default-bgColor-rest, var(--color-btn-counter-bg, #525964))",primary:{text:"var(--button-primary-fgColor-rest, var(--color-btn-primary-text, #0a0c10))",bg:"var(--button-primary-bgColor-rest, var(--color-btn-primary-bg, #09b43a))",border:"var(--button-primary-borderColor-rest, var(--color-btn-primary-border, #4ae168))",hoverBg:"var(--button-primary-bgColor-hover, var(--color-btn-primary-hover-bg, #26cd4d))",hoverBorder:"var(--button-primary-borderColor-hover, var(--color-btn-primary-hover-border, #4ae168))",selectedBg:"var(--button-primary-bgColor-active, var(--color-btn-primary-selected-bg, #09b43a))",disabledText:"var(--button-primary-fgColor-disabled, var(--color-btn-primary-disabled-text, rgba(10,12,16,0.5)))",disabledBg:"var(--button-primary-bgColor-disabled, var(--color-btn-primary-disabled-bg, rgba(9,180,58,0.6)))",disabledBorder:"var(--button-primary-borderColor-disabled, var(--color-btn-primary-disabled-border, rgba(74,225,104,0.4)))",icon:"var(--button-primary-iconColor-rest, var(--color-btn-primary-icon, #0a0c10))",counterBg:"var(--buttonCounter-primary-bgColor-rest, var(--color-btn-primary-counter-bg, rgba(1,4,9,0.15)))"},outline:{text:"var(--button-outline-fgColor-rest, var(--color-btn-outline-text, #409eff))",hoverText:"var(--button-outline-fgColor-hover, var(--color-btn-outline-hover-text, #71b7ff))",hoverBg:"var(--button-outline-bgColor-hover, var(--color-btn-outline-hover-bg, #525964))",hoverBorder:"var(--button-outline-borderColor-hover, var(--color-btn-outline-hover-border, #7a828e))",hoverCounterBg:"var(--buttonCounter-outline-bgColor-hover, var(--color-btn-outline-hover-counter-bg, rgba(25,79,177,0.2)))",selectedText:"var(--button-outline-fgColor-active, var(--color-btn-outline-selected-text, #ffffff))",selectedBg:"var(--button-outline-bgColor-active, var(--color-btn-outline-selected-bg, #2672f3))",selectedBorder:"var(--button-outline-borderColor-active, var(--color-btn-outline-selected-border, #7a828e))",disabledText:"var(--button-outline-fgColor-disabled, var(--color-btn-outline-disabled-text, rgba(113,183,255,0.5)))",disabledBg:"var(--button-outline-bgColor-disabled, var(--color-btn-outline-disabled-bg, #0a0c10))",disabledCounterBg:"var(--buttonCounter-outline-bgColor-disabled, var(--color-btn-outline-disabled-counter-bg, rgba(64,158,255,0.05)))",counterBg:"var(--buttonCounter-outline-bgColor-rest, var(--color-btn-outline-counter-bg, rgba(25,79,177,0.2)))",hoverCounterFg:"var(--buttonCounter-outline-fgColor-hover, var(--color-btn-outline-hover-counter-fg, #71b7ff))",disabledCounterFg:"var(--buttonCounter-outline-fgColor-disabled, var(--color-btn-outline-disabled-counter-fg, rgba(113,183,255,0.5)))",counterFg:"var(--buttonCounter-outline-fgColor-rest, var(--color-btn-outline-counter-fg, #409eff))"},danger:{text:"var(--button-danger-fgColor-rest, var(--color-btn-danger-text, #ff6a69))",hoverText:"var(--button-danger-fgColor-hover, var(--color-btn-danger-hover-text, #0a0c10))",hoverBg:"var(--button-danger-bgColor-hover, var(--color-btn-danger-hover-bg, #ff6a69))",hoverBorder:"var(--button-danger-borderColor-hover, var(--color-btn-danger-hover-border, #ff6a69))",hoverIcon:"var(--button-danger-iconColor-hover, var(--color-btn-danger-hover-icon, #0a0c10))",hoverCounterBg:"var(--buttonCounter-danger-bgColor-hover, var(--color-btn-danger-hover-counter-bg, rgba(1,4,9,0.15)))",selectedText:"var(--button-danger-fgColor-active, var(--color-btn-danger-selected-text, #ffffff))",selectedBg:"var(--button-danger-bgColor-active, var(--color-btn-danger-selected-bg, #ff4445))",selectedBorder:"var(--button-danger-borderColor-active, var(--color-btn-danger-selected-border, #ff9492))",disabledText:"var(--button-danger-fgColor-disabled, var(--color-btn-danger-disabled-text, rgba(255,106,105,0.5)))",disabledBg:"var(--button-danger-bgColor-disabled, var(--color-btn-danger-disabled-bg, #0a0c10))",disabledCounterBg:"var(--buttonCounter-danger-bgColor-disabled, var(--color-btn-danger-disabled-counter-bg, rgba(255,106,105,0.05)))",counterBg:"var(--buttonCounter-danger-bgColor-rest, var(--color-btn-danger-counter-bg, rgba(1,4,9,0.15)))",icon:"var(--button-danger-iconColor-rest, var(--color-btn-danger-icon, #ff6a69))",counterFg:"var(--buttonCounter-danger-fgColor-rest, var(--color-btn-danger-counter-fg, #ff6a69))",disabledCounterFg:"var(--buttonCounter-danger-fgColor-disabled, var(--color-btn-danger-disabled-counter-fg, rgba(255,106,105,0.5)))",hoverCounterFg:"var(--buttonCounter-danger-fgColor-hover, var(--color-btn-danger-hover-counter-fg, #ffffff))"},inactive:{bg:"var(--button-inactive-bgColor-rest, var(--color-btn-inactive-bg, #272b33))",text:"var(--button-inactive-fgColor-rest, var(--color-btn-inactive-text, #bdc4cc))"}},underlinenav:{icon:"var(--underlineNav-iconColor-rest, var(--color-underlinenav-icon, #f0f3f6))",borderHover:"var(--underlineNav-borderColor-hover, var(--color-underlinenav-border-hover, #bdc4cc))"},actionListItem:{inlineDivider:"var(--borderColor-muted, var(--color-action-list-item-inline-divider, #7a828e))",default:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-action-list-item-default-hover-bg, #272b33))",hoverBorder:"var(--control-transparent-borderColor-hover, var(--color-action-list-item-default-hover-border, #7a828e))",activeBg:"var(--control-transparent-bgColor-active, var(--color-action-list-item-default-active-bg, #525964))",activeBorder:"var(--control-transparent-borderColor-active, var(--color-action-list-item-default-active-border, #9ea7b3))",selectedBg:"var(--control-transparent-bgColor-selected, var(--color-action-list-item-default-selected-bg, #525964))"},danger:{hoverBg:"var(--control-danger-bgColor-hover, var(--color-action-list-item-danger-hover-bg, #ff6a69))",activeBg:"var(--control-danger-bgColor-active, var(--color-action-list-item-danger-active-bg, #ff4445))",hoverText:"var(--control-danger-fgColor-hover, var(--color-action-list-item-danger-hover-text, #0a0c10))"}},switchTrack:{bg:"var(--controlTrack-bgColor-rest, var(--color-switch-track-bg, #9ea7b3))",hoverBg:"var(--controlTrack-bgColor-hover, var(--color-switch-track-hover-bg, hsla(214,12%,61%,1)))",activeBg:"var(--controlTrack-bgColor-active, var(--color-switch-track-active-bg, hsla(214,12%,58%,1)))",disabledBg:"var(--controlTrack-bgColor-disabled, var(--color-switch-track-disabled-bg, #272b33))",fg:"var(--controlTrack-fgColor-rest, var(--color-switch-track-fg, #0a0c10))",disabledFg:"var(--controlTrack-fgColor-disabled, var(--color-switch-track-disabled-fg, #010409))",border:"var(--controlTrack-borderColor-rest, var(--color-switch-track-border, transparent))",checked:{bg:"var(--control-checked-bgColor-rest, var(--color-switch-track-checked-bg, #409eff))",hoverBg:"var(--control-checked-bgColor-hover, var(--color-switch-track-checked-hover-bg, rgba(64,158,255,0.5)))",activeBg:"var(--control-checked-bgColor-active, var(--color-switch-track-checked-active-bg, rgba(64,158,255,0.65)))",fg:"var(--control-checked-fgColor-rest, var(--color-switch-track-checked-fg, #0a0c10))",disabledFg:"var(--control-checked-fgColor-disabled, var(--color-switch-track-checked-disabled-fg, #010409))",border:"var(--borderColor-transparent, var(--color-switch-track-checked-border, transparent))"}},switchKnob:{bg:"var(--controlKnob-bgColor-rest, var(--color-switch-knob-bg, #0a0c10))",border:"var(--controlKnob-borderColor-rest, var(--color-switch-knob-border, #9ea7b3))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-disabled-bg, #272b33))",checked:{bg:"var(--controlKnob-bgColor-checked, var(--color-switch-knob-checked-bg, #0a0c10))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-checked-disabled-bg, #272b33))",border:"var(--controlKnob-borderColor-checked, var(--color-switch-knob-checked-border, #409eff))"}},segmentedControl:{bg:"var(--controlTrack-bgColor-rest, var(--color-segmented-control-bg, rgba(158,167,179,0.1)))",button:{bg:"var(--controlKnob-bgColor-rest, var(--color-segmented-control-button-bg, #0a0c10))",hover:{bg:"var(--controlTrack-bgColor-hover, var(--color-segmented-control-button-hover-bg, #525964))"},active:{bg:"var(--controlTrack-bgColor-active, var(--color-segmented-control-button-active-bg, #272b33))"},selected:{border:"var(--controlKnob-borderColor-rest, var(--color-segmented-control-button-selected-border, #9ea7b3))"}}},treeViewItem:{chevron:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-tree-view-item-chevron-hover-bg, #525964))"},directory:{fill:"var(--treeViewItem-leadingVisual-bgColor-rest, var(--color-tree-view-item-directory-fill, #f0f3f6))"}},fg:{default:"var(--fgColor-default, var(--color-fg-default, #f0f3f6))",muted:"var(--fgColor-muted, var(--color-fg-muted, #f0f3f6))",subtle:"var(--fgColor-muted, var(--color-fg-subtle, #9ea7b3))",onEmphasis:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis, #0a0c10))"},canvas:{default:"var(--bgColor-default, var(--color-canvas-default, #0a0c10))",overlay:"var(--overlay-bgColor, var(--color-canvas-overlay, #272b33))",inset:"var(--bgColor-inset, var(--color-canvas-inset, #010409))",subtle:"var(--bgColor-muted, var(--color-canvas-subtle, #272b33))"},border:{default:"var(--borderColor-default, var(--color-border-default, #7a828e))",muted:"var(--borderColor-muted, var(--color-border-muted, #7a828e))",subtle:"var(--borderColor-muted, var(--color-border-subtle, #7a828e))"},neutral:{emphasisPlus:"var(--bgColor-emphasis, var(--color-neutral-emphasis-plus, #ffffff))",emphasis:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis, #9ea7b3))",muted:"var(--bgColor-neutral-muted, var(--color-neutral-muted, rgba(158,167,179,0.4)))",subtle:"var(--bgColor-neutral-muted, var(--color-neutral-subtle, rgba(158,167,179,0.1)))"},accent:{fg:"var(--fgColor-accent, var(--color-accent-fg, #71b7ff))",emphasis:"var(--bgColor-accent-emphasis, var(--color-accent-emphasis, #409eff))",muted:"var(--borderColor-accent-muted, var(--color-accent-muted, #409eff))",subtle:"var(--bgColor-accent-muted, var(--color-accent-subtle, rgba(64,158,255,0.1)))"},success:{fg:"var(--fgColor-success, var(--color-success-fg, #26cd4d))",emphasis:"var(--bgColor-success-emphasis, var(--color-success-emphasis, #09b43a))",muted:"var(--borderColor-success-muted, var(--color-success-muted, #09b43a))",subtle:"var(--bgColor-success-muted, var(--color-success-subtle, rgba(9,180,58,0.15)))"},attention:{fg:"var(--fgColor-attention, var(--color-attention-fg, #f0b72f))",emphasis:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis, #e09b13))",muted:"var(--borderColor-attention-muted, var(--color-attention-muted, #e09b13))",subtle:"var(--bgColor-attention-muted, var(--color-attention-subtle, rgba(224,155,19,0.15)))"},severe:{fg:"var(--fgColor-severe, var(--color-severe-fg, #e7811d))",emphasis:"var(--bgColor-severe-emphasis, var(--color-severe-emphasis, #e7811d))",muted:"var(--borderColor-severe-muted, var(--color-severe-muted, #e7811d))",subtle:"var(--bgColor-severe-muted, var(--color-severe-subtle, rgba(231,129,29,0.1)))"},danger:{fg:"var(--fgColor-danger, var(--color-danger-fg, #ff6a69))",emphasis:"var(--borderColor-danger-emphasis, var(--color-danger-emphasis, #ff6a69))",muted:"var(--borderColor-danger-muted, var(--color-danger-muted, #ff6a69))",subtle:"var(--bgColor-danger-muted, var(--color-danger-subtle, rgba(255,106,105,0.1)))"},open:{fg:"var(--fgColor-open, var(--color-open-fg, #26cd4d))",emphasis:"var(--bgColor-open-emphasis, var(--color-open-emphasis, #09b43a))",muted:"var(--borderColor-open-muted, var(--color-open-muted, rgba(9,180,58,0.4)))",subtle:"var(--bgColor-open-muted, var(--color-open-subtle, rgba(9,180,58,0.15)))"},closed:{fg:"var(--fgColor-closed, var(--color-closed-fg, #ff6a69))",emphasis:"var(--bgColor-closed-emphasis, var(--color-closed-emphasis, #ff6a69))",muted:"var(--borderColor-closed-muted, var(--color-closed-muted, rgba(255,106,105,0.4)))",subtle:"var(--bgColor-closed-muted, var(--color-closed-subtle, rgba(255,106,105,0.15)))"},done:{fg:"var(--fgColor-done, var(--color-done-fg, #b780ff))",emphasis:"var(--bgColor-done-emphasis, var(--color-done-emphasis, #b87fff))",muted:"var(--borderColor-done-muted, var(--color-done-muted, #b780ff))",subtle:"var(--bgColor-done-muted, var(--color-done-subtle, rgba(183,128,255,0.1)))"},sponsors:{fg:"var(--fgColor-sponsors, var(--color-sponsors-fg, #ef6eb1))",emphasis:"var(--bgColor-sponsors-emphasis, var(--color-sponsors-emphasis, #ef6eb1))",muted:"var(--borderColor-sponsors-muted, var(--color-sponsors-muted, #ef6eb1))",subtle:"var(--bgColor-sponsors-muted, var(--color-sponsors-subtle, rgba(239,110,177,0.1)))"},primer:{fg:{disabled:"var(--fgColor-disabled, var(--color-primer-fg-disabled, #7a828e))"},canvas:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-primer-canvas-backdrop, rgba(1,4,9,0.8)))",sticky:"var(--color-primer-canvas-sticky, rgba(10,12,16,0.95))"},border:{active:"var(--underlineNav-borderColor-active, var(--color-primer-border-active, #ff967d))",contrast:"var(--borderColor-muted, var(--color-primer-border-contrast, rgba(255,255,255,0.2)))"}}},shadows:{checks:{inputShadow:"var(--color-checks-input-shadow, 0 0 0 1px #7a828e)"},mktg:{btn:{shadow:{outline:"var(--color-mktg-btn-shadow-outline, rgb(255 255 255 / 25%) 0 0 0 1px inset))",focus:"var(--color-mktg-btn-shadow-focus, rgb(255 255 255 / 25%) 0 0 0 4px))",hover:"var(--color-mktg-btn-shadow-hover, 0 4px 7px rgba(0, 0, 0, 0.15), 0 100px 80px rgba(255, 255, 255, 0.02), 0 42px 33px rgba(255, 255, 255, 0.024), 0 22px 18px rgba(255, 255, 255, 0.028), 0 12px 10px rgba(255, 255, 255, 0.034), 0 7px 5px rgba(255, 255, 255, 0.04), 0 3px 2px rgba(255, 255, 255, 0.07)))",hoverMuted:"var(--color-mktg-btn-shadow-hover-muted, rgb(255 255 255) 0 0 0 2px inset))"}}},avatar:{childShadow:"var(--avatar-shadow, var(--color-avatar-child-shadow, 0 0 0 2px #0a0c10))"},overlay:{shadow:"var(--shadow-floating-small, var(--color-overlay-shadow, 0 0 0 1px #525964, 0 16px 32px rgba(1,4,9,0.85)))"},btn:{shadow:"var(--button-default-shadow-resting, var(--color-btn-shadow, 0 0 transparent))",insetShadow:"var(--button-default-shadow-inset, var(--color-btn-inset-shadow, 0 0 transparent))",primary:{shadow:"var(--shadow-resting-small, var(--color-btn-primary-shadow, 0 0 transparent))",insetShadow:"var(--shadow-highlight, var(--color-btn-primary-inset-shadow, 0 0 transparent))",selectedShadow:"var(--button-primary-shadow-selected, var(--color-btn-primary-selected-shadow, 0 0 transparent))"},outline:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-outline-hover-shadow, 0 1px 0 rgba(1,4,9,0.1)))// HI_KATIE: no matches",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-outline-hover-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))// HI_KATIE: no matches",selectedShadow:"var(--button-outline-shadow-selected, var(--color-btn-outline-selected-shadow, 0 0 transparent))"},danger:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-danger-hover-shadow, 0 0 transparent))",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-danger-hover-inset-shadow, 0 0 transparent))",selectedShadow:"var(--button-danger-shadow-selected, var(--color-btn-danger-selected-shadow, 0 0 transparent))"}},shadow:{small:"var(--shadow-resting-small, var(--color-shadow-small, 0 0 transparent))",medium:"var(--shadow-resting-medium, var(--color-shadow-medium, 0 3px 6px #010409))",large:"var(--shadow-floating-large, var(--color-shadow-large, 0 8px 24px #010409))",extraLarge:"var(--shadow-floating-xlarge, var(--color-shadow-extra-large, 0 12px 48px #010409))"},primer:{shadow:{highlight:"var(--shadow-highlight, var(--color-primer-shadow-highlight, 0 0 transparent))",inset:"var(--shadow-inset, var(--color-primer-shadow-inset, 0 0 transparent))"}}}},dark_colorblind:{colors:{canvasDefaultTransparent:"var(--bgColor-transparent, var(--color-canvas-default-transparent, rgba(13,17,23,0)))",pageHeaderBg:"var(--page-header-bgColor, var(--color-page-header-bg, #0d1117))",marketingIcon:{primary:"var(--color-marketing-icon-primary, #79c0ff)",secondary:"var(--color-marketing-icon-secondary, #1f6feb)"},diffBlob:{addition:{numText:"var(--diffBlob-addition-fgColor-num, var(--color-diff-blob-addition-num-text, #c9d1d9))",fg:"var(--diffBlob-addition-fgColor-text, var(--color-diff-blob-addition-fg, #c9d1d9))",numBg:"var(--diffBlob-addition-bgColor-num, var(--color-diff-blob-addition-num-bg, rgba(88,166,255,0.3)))",lineBg:"var(--diffBlob-addition-bgColor-line, var(--color-diff-blob-addition-line-bg, rgba(56,139,253,0.15)))",wordBg:"var(--diffBlob-addition-bgColor-word, var(--color-diff-blob-addition-word-bg, rgba(56,139,253,0.4)))"},deletion:{numText:"var(--diffBlob-deletion-fgColor-num, var(--color-diff-blob-deletion-num-text, #c9d1d9))",fg:"var(--diffBlob-deletion-fgColor-text, var(--color-diff-blob-deletion-fg, #c9d1d9))",numBg:"var(--diffBlob-deletion-bgColor-num, var(--color-diff-blob-deletion-num-bg, rgba(212,118,22,0.3)))",lineBg:"var(--diffBlob-deletion-bgColor-line, var(--color-diff-blob-deletion-line-bg, rgba(212,118,22,0.1)))",wordBg:"var(--diffBlob-deletion-bgColor-word, var(--color-diff-blob-deletion-word-bg, rgba(212,118,22,0.4)))"},hunk:{numBg:"var(--diffBlob-hunk-bgColor-num, var(--color-diff-blob-hunk-num-bg, rgba(56,139,253,0.4)))"},expander:{icon:"var(--diffBlob-expander-iconColor, var(--color-diff-blob-expander-icon, #8b949e))"},selectedLineHighlightMixBlendMode:"var(--color-diff-blob-selected-line-highlight-mix-blend-mode, screen)"},diffstat:{deletionBorder:"var(--color-diffstat-deletion-border, rgba(240,246,252,0.1))",additionBorder:"var(--color-diffstat-addition-border, rgba(240,246,252,0.1))",additionBg:"var(--diffStat-addition-bgColor, var(--color-diffstat-addition-bg, #58a6ff))"},searchKeyword:{hl:"var(--highlight-neutral-bgColor, var(--color-search-keyword-hl, rgba(210,153,34,0.4)))"},prettylights:{syntax:{comment:"var(--color-prettylights-syntax-comment, #8b949e)",constant:"var(--color-prettylights-syntax-constant, #79c0ff)",entity:"var(--color-prettylights-syntax-entity, #d2a8ff)",storageModifierImport:"var(--color-prettylights-syntax-storage-modifier-import, #c9d1d9)",entityTag:"var(--color-prettylights-syntax-entity-tag, #a5d6ff)",keyword:"var(--color-prettylights-syntax-keyword, #ec8e2c)",string:"var(--color-prettylights-syntax-string, #a5d6ff)",variable:"var(--color-prettylights-syntax-variable, #fdac54)",brackethighlighterUnmatched:"var(--color-prettylights-syntax-brackethighlighter-unmatched, #d47616)",invalidIllegalText:"var(--color-prettylights-syntax-invalid-illegal-text, #f0f6fc)",invalidIllegalBg:"var(--color-prettylights-syntax-invalid-illegal-bg, #6c3906)",carriageReturnText:"var(--color-prettylights-syntax-carriage-return-text, #f0f6fc)",carriageReturnBg:"var(--color-prettylights-syntax-carriage-return-bg, #914d04)",stringRegexp:"var(--color-prettylights-syntax-string-regexp, #a5d6ff)",markupList:"var(--color-prettylights-syntax-markup-list, #f2cc60)",markupHeading:"var(--color-prettylights-syntax-markup-heading, #1f6feb)",markupItalic:"var(--color-prettylights-syntax-markup-italic, #c9d1d9)",markupBold:"var(--color-prettylights-syntax-markup-bold, #c9d1d9)",markupDeletedText:"var(--color-prettylights-syntax-markup-deleted-text, #ffe2bb)",markupDeletedBg:"var(--color-prettylights-syntax-markup-deleted-bg, #4e2906)",markupInsertedText:"var(--color-prettylights-syntax-markup-inserted-text, #cae8ff)",markupInsertedBg:"var(--color-prettylights-syntax-markup-inserted-bg, #0c2d6b)",markupChangedText:"var(--color-prettylights-syntax-markup-changed-text, #ffe2bb)",markupChangedBg:"var(--color-prettylights-syntax-markup-changed-bg, #4e2906)",markupIgnoredText:"var(--color-prettylights-syntax-markup-ignored-text, #c9d1d9)",markupIgnoredBg:"var(--color-prettylights-syntax-markup-ignored-bg, #1158c7)",metaDiffRange:"var(--color-prettylights-syntax-meta-diff-range, #d2a8ff)",brackethighlighterAngle:"var(--color-prettylights-syntax-brackethighlighter-angle, #8b949e)",sublimelinterGutterMark:"var(--color-prettylights-syntax-sublimelinter-gutter-mark, #484f58)",constantOtherReferenceLink:"var(--color-prettylights-syntax-constant-other-reference-link, #a5d6ff)"}},codemirror:{text:"var(--codeMirror-fgColor, var(--color-codemirror-text, #c9d1d9))",bg:"var(--codeMirror-bgColor, var(--color-codemirror-bg, #0d1117))",guttersBg:"var(--codeMirror-gutters-bgColor, var(--color-codemirror-gutters-bg, #0d1117))",guttermarkerText:"var(--codeMirror-gutterMarker-fgColor-default, var(--color-codemirror-guttermarker-text, #0d1117))",guttermarkerSubtleText:"var(--codeMirror-gutterMarker-fgColor-muted, var(--color-codemirror-guttermarker-subtle-text, #6e7681))",linenumberText:"var(--codeMirror-lineNumber-fgColor, var(--color-codemirror-linenumber-text, #8b949e))",cursor:"var(--codeMirror-cursor-fgColor, var(--color-codemirror-cursor, #c9d1d9))",selectionBg:"var(--codeMirror-selection-bgColor, var(--color-codemirror-selection-bg, rgba(56,139,253,0.4)))",activelineBg:"var(--codeMirror-activeline-bgColor, var(--color-codemirror-activeline-bg, rgba(110,118,129,0.1)))",matchingbracketText:"var(--codeMirror-matchingBracket-fgColor, var(--color-codemirror-matchingbracket-text, #c9d1d9))",linesBg:"var(--codeMirror-lines-bgColor, var(--color-codemirror-lines-bg, #0d1117))",syntax:{comment:"var(--codeMirror-syntax-fgColor-comment, var(--color-codemirror-syntax-comment, #8b949e))",constant:"var(--codeMirror-syntax-fgColor-constant, var(--color-codemirror-syntax-constant, #79c0ff))",entity:"var(--codeMirror-syntax-fgColor-entity, var(--color-codemirror-syntax-entity, #d2a8ff))",keyword:"var(--codeMirror-syntax-fgColor-keyword, var(--color-codemirror-syntax-keyword, #ec8e2c))",storage:"var(--codeMirror-syntax-fgColor-storage, var(--color-codemirror-syntax-storage, #ec8e2c))",string:"var(--codeMirror-syntax-fgColor-string, var(--color-codemirror-syntax-string, #a5d6ff))",support:"var(--codeMirror-syntax-fgColor-support, var(--color-codemirror-syntax-support, #79c0ff))",variable:"var(--codeMirror-syntax-fgColor-variable, var(--color-codemirror-syntax-variable, #fdac54))"}},checks:{bg:"var(--color-checks-bg, #010409)",runBorderWidth:"var(--color-checks-run-border-width, 1px)",containerBorderWidth:"var(--color-checks-container-border-width, 1px)",textPrimary:"var(--color-checks-text-primary, #c9d1d9)",textSecondary:"var(--color-checks-text-secondary, #8b949e)",textLink:"var(--color-checks-text-link, #58a6ff)",btnIcon:"var(--color-checks-btn-icon, #8b949e)",btnHoverIcon:"var(--color-checks-btn-hover-icon, #c9d1d9)",btnHoverBg:"var(--color-checks-btn-hover-bg, rgba(110,118,129,0.1))",inputText:"var(--color-checks-input-text, #8b949e)",inputPlaceholderText:"var(--color-checks-input-placeholder-text, #6e7681)",inputFocusText:"var(--color-checks-input-focus-text, #c9d1d9)",inputBg:"var(--color-checks-input-bg, #161b22)",donutError:"var(--color-checks-donut-error, #d47616)",donutPending:"var(--color-checks-donut-pending, #d29922)",donutSuccess:"var(--color-checks-donut-success, #388bfd)",donutNeutral:"var(--color-checks-donut-neutral, #8b949e)",dropdownText:"var(--color-checks-dropdown-text, #c9d1d9)",dropdownBg:"var(--color-checks-dropdown-bg, #161b22)",dropdownBorder:"var(--color-checks-dropdown-border, #30363d)",dropdownShadow:"var(--color-checks-dropdown-shadow, rgba(1,4,9,0.3))",dropdownHoverText:"var(--color-checks-dropdown-hover-text, #c9d1d9)",dropdownHoverBg:"var(--color-checks-dropdown-hover-bg, rgba(110,118,129,0.1))",dropdownBtnHoverText:"var(--color-checks-dropdown-btn-hover-text, #c9d1d9)",dropdownBtnHoverBg:"var(--color-checks-dropdown-btn-hover-bg, rgba(110,118,129,0.1))",scrollbarThumbBg:"var(--color-checks-scrollbar-thumb-bg, rgba(110,118,129,0.4))",headerLabelText:"var(--color-checks-header-label-text, #8b949e)",headerLabelOpenText:"var(--color-checks-header-label-open-text, #c9d1d9)",headerBorder:"var(--color-checks-header-border, #21262d)",headerIcon:"var(--color-checks-header-icon, #8b949e)",lineText:"var(--color-checks-line-text, #8b949e)",lineNumText:"var(--color-checks-line-num-text, #6e7681)",lineTimestampText:"var(--color-checks-line-timestamp-text, #6e7681)",lineHoverBg:"var(--color-checks-line-hover-bg, rgba(110,118,129,0.1))",lineSelectedBg:"var(--color-checks-line-selected-bg, rgba(56,139,253,0.1))",lineSelectedNumText:"var(--color-checks-line-selected-num-text, #58a6ff)",lineDtFmText:"var(--color-checks-line-dt-fm-text, #ffffff)",lineDtFmBg:"var(--color-checks-line-dt-fm-bg, #9e6a03)",gateBg:"var(--color-checks-gate-bg, rgba(187,128,9,0.15))",gateText:"var(--color-checks-gate-text, #8b949e)",gateWaitingText:"var(--color-checks-gate-waiting-text, #d29922)",stepHeaderOpenBg:"var(--color-checks-step-header-open-bg, #161b22)",stepErrorText:"var(--color-checks-step-error-text, #d47616)",stepWarningText:"var(--color-checks-step-warning-text, #d29922)",loglineText:"var(--color-checks-logline-text, #8b949e)",loglineNumText:"var(--color-checks-logline-num-text, #6e7681)",loglineDebugText:"var(--color-checks-logline-debug-text, #a371f7)",loglineErrorText:"var(--color-checks-logline-error-text, #8b949e)",loglineErrorNumText:"var(--color-checks-logline-error-num-text, #6e7681)",loglineErrorBg:"var(--color-checks-logline-error-bg, rgba(212,118,22,0.1))",loglineWarningText:"var(--color-checks-logline-warning-text, #8b949e)",loglineWarningNumText:"var(--color-checks-logline-warning-num-text, #d29922)",loglineWarningBg:"var(--color-checks-logline-warning-bg, rgba(187,128,9,0.15))",loglineCommandText:"var(--color-checks-logline-command-text, #58a6ff)",loglineSectionText:"var(--color-checks-logline-section-text, #58a6ff)",ansi:{black:"var(--color-checks-ansi-black, #0d1117)",blackBright:"var(--color-checks-ansi-black-bright, #161b22)",white:"var(--color-checks-ansi-white, #b1bac4))",whiteBright:"var(--color-checks-ansi-white-bright, #b1bac4)",gray:"var(--color-checks-ansi-gray, #6e7681)",red:"var(--color-checks-ansi-red, #ec8e2c)",redBright:"var(--color-checks-ansi-red-bright, #fdac54)",green:"var(--color-checks-ansi-green, #58a6ff)",greenBright:"var(--color-checks-ansi-green-bright, #79c0ff)",yellow:"var(--color-checks-ansi-yellow, #d29922)",yellowBright:"var(--color-checks-ansi-yellow-bright, #e3b341)",blue:"var(--color-checks-ansi-blue, #58a6ff)",blueBright:"var(--color-checks-ansi-blue-bright, #79c0ff)",magenta:"var(--color-checks-ansi-magenta, #bc8cff)",magentaBright:"var(--color-checks-ansi-magenta-bright, #d2a8ff)",cyan:"var(--color-checks-ansi-cyan, #76e3ea)",cyanBright:"var(--color-checks-ansi-cyan-bright, #b3f0ff)"}},project:{headerBg:"var(--color-project-header-bg, #0d1117)",sidebarBg:"var(--color-project-sidebar-bg, #161b22)",gradientIn:"var(--color-project-gradient-in, #161b22)",gradientOut:"var(--color-project-gradient-out, rgba(22,27,34,0))"},mktg:{btn:{bg:"var(--color-mktg-btn-bg, #f6f8fa))"}},control:{borderColor:{emphasis:"var(--control-borderColor-emphasis, var(--color-control-border-color-emphasis, #606771))"}},avatar:{bg:"var(--avatar-bgColor, var(--color-avatar-bg, rgba(255,255,255,0.1)))",border:"var(--avatar-borderColor, var(--color-avatar-border, rgba(240,246,252,0.1)))",stackFade:"var(--avatarStack-fade-bgColor-default, var(--color-avatar-stack-fade, #30363d))",stackFadeMore:"var(--avatarStack-fade-bgColor-muted, var(--color-avatar-stack-fade-more, #21262d))"},topicTag:{border:"var(--topicTag-borderColor, var(--color-topic-tag-border, transparent))"},counter:{border:"var(--counter-borderColor, var(--color-counter-border, transparent))"},selectMenu:{backdropBorder:"var(--selectMenu-borderColor, var(--color-select-menu-backdrop-border, #484f58))",tapHighlight:"var(--control-bgColor-active, var(--color-select-menu-tap-highlight, rgba(48,54,61,0.5)))",tapFocusBg:"var(--selectMenu-bgColor-active, var(--color-select-menu-tap-focus-bg, #0c2d6b))"},overlay:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-overlay-backdrop, rgba(22,27,34,0.4)))"},header:{text:"var(--header-fgColor-default, var(--color-header-text, rgba(255,255,255,0.7)))",bg:"var(--header-bgColor, var(--color-header-bg, #161b22))",divider:"var(--header-borderColor-divider, var(--color-header-divider, #8b949e))",logo:"var(--header-fgColor-logo, var(--color-header-logo, #f0f6fc))"},headerSearch:{bg:"var(--headerSearch-bgColor, var(--color-header-search-bg, #0d1117))",border:"var(--headerSearch-borderColor, var(--color-header-search-border, #30363d))"},sidenav:{selectedBg:"var(--sideNav-bgColor-selected, var(--color-sidenav-selected-bg, #21262d))"},menu:{bgActive:"var(--menu-bgColor-active, var(--color-menu-bg-active, #161b22))"},input:{disabledBg:"var(--control-bgColor-disabled, var(--color-input-disabled-bg, rgba(110,118,129,0)))"},timeline:{badgeBg:"var(--timelineBadge-bgColor, var(--color-timeline-badge-bg, #21262d))"},ansi:{black:"var(--color-ansi-black, #484f58)",blackBright:"var(--color-ansi-black-bright, #6e7681)",white:"var(--color-ansi-white, #b1bac4)",whiteBright:"var(--color-ansi-white-bright, #ffffff)",gray:"var(--color-ansi-gray, #6e7681)",red:"var(--color-ansi-red, #ec8e2c)",redBright:"var(--color-ansi-red-bright, #fdac54)",green:"var(--color-ansi-green, #58a6ff)",greenBright:"var(--color-ansi-green-bright, #79c0ff)",yellow:"var(--color-ansi-yellow, #d29922)",yellowBright:"var(--color-ansi-yellow-bright, #e3b341)",blue:"var(--color-ansi-blue, #58a6ff)",blueBright:"var(--color-ansi-blue-bright, #79c0ff)",magenta:"var(--color-ansi-magenta, #bc8cff)",magentaBright:"var(--color-ansi-magenta-bright, #d2a8ff)",cyan:"var(--color-ansi-cyan, #39c5cf)",cyanBright:"var(--color-ansi-cyan-bright, #56d4dd)"},btn:{text:"var(--button-default-fgColor-rest, var(--color-btn-text, #c9d1d9))",bg:"var(--button-default-bgColor-rest, var(--color-btn-bg, #21262d))",border:"var(--button-default-borderColor-rest, var(--color-btn-border, rgba(240,246,252,0.1)))",hoverBg:"var(--button-default-bgColor-hover, var(--color-btn-hover-bg, #30363d))",hoverBorder:"var(--button-default-borderColor-hover, var(--color-btn-hover-border, #8b949e))",activeBg:"var(--button-default-bgColor-active, var(--color-btn-active-bg, hsla(212,12%,18%,1)))",activeBorder:"var(--button-default-borderColor-active, var(--color-btn-active-border, #6e7681))",selectedBg:"var(--button-default-bgColor-selected, var(--color-btn-selected-bg, #161b22))",counterBg:"var(--buttonCounter-default-bgColor-rest, var(--color-btn-counter-bg, #30363d))",primary:{text:"var(--button-primary-fgColor-rest, var(--color-btn-primary-text, #ffffff))",bg:"var(--button-primary-bgColor-rest, var(--color-btn-primary-bg, #1f6feb))",border:"var(--button-primary-borderColor-rest, var(--color-btn-primary-border, rgba(240,246,252,0.1)))",hoverBg:"var(--button-primary-bgColor-hover, var(--color-btn-primary-hover-bg, #388bfd))",hoverBorder:"var(--button-primary-borderColor-hover, var(--color-btn-primary-hover-border, rgba(240,246,252,0.1)))",selectedBg:"var(--button-primary-bgColor-active, var(--color-btn-primary-selected-bg, #1f6feb))",disabledText:"var(--button-primary-fgColor-disabled, var(--color-btn-primary-disabled-text, rgba(255,255,255,0.5)))",disabledBg:"var(--button-primary-bgColor-disabled, var(--color-btn-primary-disabled-bg, rgba(31,111,235,0.6)))",disabledBorder:"var(--button-primary-borderColor-disabled, var(--color-btn-primary-disabled-border, rgba(240,246,252,0.1)))",icon:"var(--button-primary-iconColor-rest, var(--color-btn-primary-icon, #ffffff))",counterBg:"var(--buttonCounter-primary-bgColor-rest, var(--color-btn-primary-counter-bg, rgba(5,29,77,0.2)))"},outline:{text:"var(--button-outline-fgColor-rest, var(--color-btn-outline-text, #388bfd))",hoverText:"var(--button-outline-fgColor-hover, var(--color-btn-outline-hover-text, #58a6ff))",hoverBg:"var(--button-outline-bgColor-hover, var(--color-btn-outline-hover-bg, #30363d))",hoverBorder:"var(--button-outline-borderColor-hover, var(--color-btn-outline-hover-border, rgba(240,246,252,0.1)))",hoverCounterBg:"var(--buttonCounter-outline-bgColor-hover, var(--color-btn-outline-hover-counter-bg, rgba(5,29,77,0.2)))",selectedText:"var(--button-outline-fgColor-active, var(--color-btn-outline-selected-text, #ffffff))",selectedBg:"var(--button-outline-bgColor-active, var(--color-btn-outline-selected-bg, #0d419d))",selectedBorder:"var(--button-outline-borderColor-active, var(--color-btn-outline-selected-border, rgba(240,246,252,0.1)))",disabledText:"var(--button-outline-fgColor-disabled, var(--color-btn-outline-disabled-text, rgba(88,166,255,0.5)))",disabledBg:"var(--button-outline-bgColor-disabled, var(--color-btn-outline-disabled-bg, #0d1117))",disabledCounterBg:"var(--buttonCounter-outline-bgColor-disabled, var(--color-btn-outline-disabled-counter-bg, rgba(31,111,235,0.05)))",counterBg:"var(--buttonCounter-outline-bgColor-rest, var(--color-btn-outline-counter-bg, rgba(5,29,77,0.2)))",hoverCounterFg:"var(--buttonCounter-outline-fgColor-hover, var(--color-btn-outline-hover-counter-fg, #58a6ff))",disabledCounterFg:"var(--buttonCounter-outline-fgColor-disabled, var(--color-btn-outline-disabled-counter-fg, rgba(88,166,255,0.5)))",counterFg:"var(--buttonCounter-outline-fgColor-rest, var(--color-btn-outline-counter-fg, #388bfd))"},danger:{text:"var(--button-danger-fgColor-rest, var(--color-btn-danger-text, #d47616))",hoverText:"var(--button-danger-fgColor-hover, var(--color-btn-danger-hover-text, #ffffff))",hoverBg:"var(--button-danger-bgColor-hover, var(--color-btn-danger-hover-bg, #b76100))",hoverBorder:"var(--button-danger-borderColor-hover, var(--color-btn-danger-hover-border, #d47616))",hoverIcon:"var(--button-danger-iconColor-hover, var(--color-btn-danger-hover-icon, #ffffff))",hoverCounterBg:"var(--buttonCounter-danger-bgColor-hover, var(--color-btn-danger-hover-counter-bg, rgba(255,255,255,0.2)))",selectedText:"var(--button-danger-fgColor-active, var(--color-btn-danger-selected-text, #ffffff))",selectedBg:"var(--button-danger-bgColor-active, var(--color-btn-danger-selected-bg, #914d04))",selectedBorder:"var(--button-danger-borderColor-active, var(--color-btn-danger-selected-border, #ec8e2c))",disabledText:"var(--button-danger-fgColor-disabled, var(--color-btn-danger-disabled-text, rgba(212,118,22,0.5)))",disabledBg:"var(--button-danger-bgColor-disabled, var(--color-btn-danger-disabled-bg, #0d1117))",disabledCounterBg:"var(--buttonCounter-danger-bgColor-disabled, var(--color-btn-danger-disabled-counter-bg, rgba(183,97,0,0.05)))",counterBg:"var(--buttonCounter-danger-bgColor-rest, var(--color-btn-danger-counter-bg, rgba(51,28,4,0.2)))",icon:"var(--button-danger-iconColor-rest, var(--color-btn-danger-icon, #d47616))",counterFg:"var(--buttonCounter-danger-fgColor-rest, var(--color-btn-danger-counter-fg, #d47616))",disabledCounterFg:"var(--buttonCounter-danger-fgColor-disabled, var(--color-btn-danger-disabled-counter-fg, rgba(212,118,22,0.5)))",hoverCounterFg:"var(--buttonCounter-danger-fgColor-hover, var(--color-btn-danger-hover-counter-fg, #ffffff))"},inactive:{bg:"var(--button-inactive-bgColor-rest, var(--color-btn-inactive-bg, #21262d))",text:"var(--button-inactive-fgColor-rest, var(--color-btn-inactive-text, #8b949e))"}},underlinenav:{icon:"var(--underlineNav-iconColor-rest, var(--color-underlinenav-icon, #6e7681))",borderHover:"var(--underlineNav-borderColor-hover, var(--color-underlinenav-border-hover, rgba(110,118,129,0.4)))"},actionListItem:{inlineDivider:"var(--borderColor-muted, var(--color-action-list-item-inline-divider, rgba(48,54,61,0.48)))",default:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-action-list-item-default-hover-bg, rgba(177,186,196,0.12)))",hoverBorder:"var(--control-transparent-borderColor-hover, var(--color-action-list-item-default-hover-border, transparent))",activeBg:"var(--control-transparent-bgColor-active, var(--color-action-list-item-default-active-bg, rgba(177,186,196,0.2)))",activeBorder:"var(--control-transparent-borderColor-active, var(--color-action-list-item-default-active-border, transparent))",selectedBg:"var(--control-transparent-bgColor-selected, var(--color-action-list-item-default-selected-bg, rgba(177,186,196,0.08)))"},danger:{hoverBg:"var(--control-danger-bgColor-hover, var(--color-action-list-item-danger-hover-bg, rgba(212,118,22,0.16)))",activeBg:"var(--control-danger-bgColor-active, var(--color-action-list-item-danger-active-bg, rgba(212,118,22,0.24)))",hoverText:"var(--control-danger-fgColor-hover, var(--color-action-list-item-danger-hover-text, #ec8e2c))"}},switchTrack:{bg:"var(--controlTrack-bgColor-rest, var(--color-switch-track-bg, rgba(110,118,129,0.1)))",hoverBg:"var(--controlTrack-bgColor-hover, var(--color-switch-track-hover-bg, hsla(215,8%,72%,0.1)))",activeBg:"var(--controlTrack-bgColor-active, var(--color-switch-track-active-bg, rgba(110,118,129,0.4)))",disabledBg:"var(--controlTrack-bgColor-disabled, var(--color-switch-track-disabled-bg, #21262d))",fg:"var(--controlTrack-fgColor-rest, var(--color-switch-track-fg, #8b949e))",disabledFg:"var(--controlTrack-fgColor-disabled, var(--color-switch-track-disabled-fg, #010409))",border:"var(--controlTrack-borderColor-rest, var(--color-switch-track-border, transparent))",checked:{bg:"var(--control-checked-bgColor-rest, var(--color-switch-track-checked-bg, rgba(31,111,235,0.35)))",hoverBg:"var(--control-checked-bgColor-hover, var(--color-switch-track-checked-hover-bg, rgba(31,111,235,0.5)))",activeBg:"var(--control-checked-bgColor-active, var(--color-switch-track-checked-active-bg, rgba(31,111,235,0.65)))",fg:"var(--control-checked-fgColor-rest, var(--color-switch-track-checked-fg, #ffffff))",disabledFg:"var(--control-checked-fgColor-disabled, var(--color-switch-track-checked-disabled-fg, #010409))",border:"var(--borderColor-transparent, var(--color-switch-track-checked-border, transparent))"}},switchKnob:{bg:"var(--controlKnob-bgColor-rest, var(--color-switch-knob-bg, #0d1117))",border:"var(--controlKnob-borderColor-rest, var(--color-switch-knob-border, #606771))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-disabled-bg, #161b22))",checked:{bg:"var(--controlKnob-bgColor-checked, var(--color-switch-knob-checked-bg, #0d1117))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-checked-disabled-bg, #161b22))",border:"var(--controlKnob-borderColor-checked, var(--color-switch-knob-checked-border, rgba(31,111,235,0.35)))"}},segmentedControl:{bg:"var(--controlTrack-bgColor-rest, var(--color-segmented-control-bg, rgba(110,118,129,0.1)))",button:{bg:"var(--controlKnob-bgColor-rest, var(--color-segmented-control-button-bg, #0d1117))",hover:{bg:"var(--controlTrack-bgColor-hover, var(--color-segmented-control-button-hover-bg, #30363d))"},active:{bg:"var(--controlTrack-bgColor-active, var(--color-segmented-control-button-active-bg, #21262d))"},selected:{border:"var(--controlKnob-borderColor-rest, var(--color-segmented-control-button-selected-border, #6e7681))"}}},treeViewItem:{chevron:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-tree-view-item-chevron-hover-bg, rgba(177,186,196,0.12)))"},directory:{fill:"var(--treeViewItem-leadingVisual-bgColor-rest, var(--color-tree-view-item-directory-fill, #8b949e))"}},fg:{default:"var(--fgColor-default, var(--color-fg-default, #c9d1d9))",muted:"var(--fgColor-muted, var(--color-fg-muted, #8b949e))",subtle:"var(--fgColor-muted, var(--color-fg-subtle, #6e7681))",onEmphasis:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis, #ffffff))"},canvas:{default:"var(--bgColor-default, var(--color-canvas-default, #0d1117))",overlay:"var(--overlay-bgColor, var(--color-canvas-overlay, #161b22))",inset:"var(--bgColor-inset, var(--color-canvas-inset, #010409))",subtle:"var(--bgColor-muted, var(--color-canvas-subtle, #161b22))"},border:{default:"var(--borderColor-default, var(--color-border-default, #30363d))",muted:"var(--borderColor-muted, var(--color-border-muted, #21262d))",subtle:"var(--borderColor-muted, var(--color-border-subtle, rgba(240,246,252,0.1)))"},neutral:{emphasisPlus:"var(--bgColor-emphasis, var(--color-neutral-emphasis-plus, #6e7681))",emphasis:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis, #6e7681))",muted:"var(--bgColor-neutral-muted, var(--color-neutral-muted, rgba(110,118,129,0.4)))",subtle:"var(--bgColor-neutral-muted, var(--color-neutral-subtle, rgba(110,118,129,0.1)))"},accent:{fg:"var(--fgColor-accent, var(--color-accent-fg, #58a6ff))",emphasis:"var(--bgColor-accent-emphasis, var(--color-accent-emphasis, #1f6feb))",muted:"var(--borderColor-accent-muted, var(--color-accent-muted, rgba(56,139,253,0.4)))",subtle:"var(--bgColor-accent-muted, var(--color-accent-subtle, rgba(56,139,253,0.1)))"},success:{fg:"var(--fgColor-success, var(--color-success-fg, #58a6ff))",emphasis:"var(--bgColor-success-emphasis, var(--color-success-emphasis, #1f6feb))",muted:"var(--borderColor-success-muted, var(--color-success-muted, rgba(56,139,253,0.4)))",subtle:"var(--bgColor-success-muted, var(--color-success-subtle, rgba(56,139,253,0.15)))"},attention:{fg:"var(--fgColor-attention, var(--color-attention-fg, #d29922))",emphasis:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis, #9e6a03))",muted:"var(--borderColor-attention-muted, var(--color-attention-muted, rgba(187,128,9,0.4)))",subtle:"var(--bgColor-attention-muted, var(--color-attention-subtle, rgba(187,128,9,0.15)))"},severe:{fg:"var(--fgColor-severe, var(--color-severe-fg, #d47616))",emphasis:"var(--bgColor-severe-emphasis, var(--color-severe-emphasis, #b76100))",muted:"var(--borderColor-severe-muted, var(--color-severe-muted, rgba(212,118,22,0.4)))",subtle:"var(--bgColor-severe-muted, var(--color-severe-subtle, rgba(212,118,22,0.1)))"},danger:{fg:"var(--fgColor-danger, var(--color-danger-fg, #d47616))",emphasis:"var(--borderColor-danger-emphasis, var(--color-danger-emphasis, #b76100))",muted:"var(--borderColor-danger-muted, var(--color-danger-muted, rgba(212,118,22,0.4)))",subtle:"var(--bgColor-danger-muted, var(--color-danger-subtle, rgba(212,118,22,0.1)))"},open:{fg:"var(--fgColor-open, var(--color-open-fg, #ec8e2c))",emphasis:"var(--borderColor-open-emphasis, var(--color-open-emphasis, #b76100))",muted:"var(--borderColor-open-muted, var(--color-open-muted, rgba(212,118,22,0.4)))",subtle:"var(--bgColor-open-muted, var(--color-open-subtle, rgba(212,118,22,0.15)))"},closed:{fg:"var(--fgColor-closed, var(--color-open-fg, #8b949e))",emphasis:"var(--borderColor-closed-emphasis, var(--color-closed-emphasis, #6e7681))",muted:"var(--borderColor-closed-muted, var(--color-closed-muted, rgba(110,118,129,0.4)))",subtle:"var(--bgColor-closed-muted, var(--color-closed-subtle, rgba(110,118,129,0.1)))"},done:{fg:"var(--fgColor-done, var(--color-done-fg, #a371f7))",emphasis:"var(--bgColor-done-emphasis, var(--color-done-emphasis, #8957e5))",muted:"var(--borderColor-done-muted, var(--color-done-muted, rgba(163,113,247,0.4)))",subtle:"var(--bgColor-done-muted, var(--color-done-subtle, rgba(163,113,247,0.1)))"},sponsors:{fg:"var(--fgColor-sponsors, var(--color-sponsors-fg, #db61a2))",emphasis:"var(--bgColor-sponsors-emphasis, var(--color-sponsors-emphasis, #bf4b8a))",muted:"var(--borderColor-sponsors-muted, var(--color-sponsors-muted, rgba(219,97,162,0.4)))",subtle:"var(--bgColor-sponsors-muted, var(--color-sponsors-subtle, rgba(219,97,162,0.1)))"},primer:{fg:{disabled:"var(--fgColor-disabled, var(--color-primer-fg-disabled, #484f58))"},canvas:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-primer-canvas-backdrop, rgba(1,4,9,0.8)))",sticky:"var(--color-primer-canvas-sticky, rgba(13,17,23,0.95))"},border:{active:"var(--underlineNav-borderColor-active, var(--color-primer-border-active, #f78166))",contrast:"var(--borderColor-muted, var(--color-primer-border-contrast, rgba(255,255,255,0.2)))"}}},shadows:{checks:{inputShadow:"var(--color-checks-input-shadow, 0 0 0 1px #30363d)"},mktg:{btn:{shadow:{outline:"var(--color-mktg-btn-shadow-outline, rgb(255 255 255 / 25%) 0 0 0 1px inset))",focus:"var(--color-mktg-btn-shadow-focus, rgb(255 255 255 / 25%) 0 0 0 4px))",hover:"var(--color-mktg-btn-shadow-hover, 0 4px 7px rgba(0, 0, 0, 0.15), 0 100px 80px rgba(255, 255, 255, 0.02), 0 42px 33px rgba(255, 255, 255, 0.024), 0 22px 18px rgba(255, 255, 255, 0.028), 0 12px 10px rgba(255, 255, 255, 0.034), 0 7px 5px rgba(255, 255, 255, 0.04), 0 3px 2px rgba(255, 255, 255, 0.07)))",hoverMuted:"var(--color-mktg-btn-shadow-hover-muted, rgb(255 255 255) 0 0 0 2px inset))"}}},avatar:{childShadow:"var(--avatar-shadow, var(--color-avatar-child-shadow, 0 0 0 2px #0d1117))"},overlay:{shadow:"var(--shadow-floating-small, var(--color-overlay-shadow, 0 0 0 1px #30363d, 0 16px 32px rgba(1,4,9,0.85)))"},btn:{shadow:"var(--button-default-shadow-resting, var(--color-btn-shadow, 0 0 transparent))",insetShadow:"var(--button-default-shadow-inset, var(--color-btn-inset-shadow, 0 0 transparent))",primary:{shadow:"var(--shadow-resting-small, var(--color-btn-primary-shadow, 0 0 transparent))",insetShadow:"var(--shadow-highlight, var(--color-btn-primary-inset-shadow, 0 0 transparent))",selectedShadow:"var(--button-primary-shadow-selected, var(--color-btn-primary-selected-shadow, 0 0 transparent))"},outline:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-outline-hover-shadow, 0 1px 0 rgba(1,4,9,0.1)))// HI_KATIE: no matches",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-outline-hover-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))// HI_KATIE: no matches",selectedShadow:"var(--button-outline-shadow-selected, var(--color-btn-outline-selected-shadow, 0 0 transparent))"},danger:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-danger-hover-shadow, 0 0 transparent))",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-danger-hover-inset-shadow, 0 0 transparent))",selectedShadow:"var(--button-danger-shadow-selected, var(--color-btn-danger-selected-shadow, 0 0 transparent))"}},shadow:{small:"var(--shadow-resting-small, var(--color-shadow-small, 0 0 transparent))",medium:"var(--shadow-resting-medium, var(--color-shadow-medium, 0 3px 6px #010409))",large:"var(--shadow-floating-large, var(--color-shadow-large, 0 8px 24px #010409))",extraLarge:"var(--shadow-floating-xlarge, var(--color-shadow-extra-large, 0 12px 48px #010409))"},primer:{shadow:{highlight:"var(--shadow-highlight, var(--color-primer-shadow-highlight, 0 0 transparent))",inset:"var(--shadow-inset, var(--color-primer-shadow-inset, 0 0 transparent))"}}}},dark_tritanopia:{colors:{canvasDefaultTransparent:"var(--bgColor-transparent, var(--color-canvas-default-transparent, rgba(13,17,23,0)))",pageHeaderBg:"var(--page-header-bgColor, var(--color-page-header-bg, #0d1117))",marketingIcon:{primary:"var(--color-marketing-icon-primary, #79c0ff)",secondary:"var(--color-marketing-icon-secondary, #1f6feb)"},diffBlob:{addition:{numText:"var(--diffBlob-addition-fgColor-num, var(--color-diff-blob-addition-num-text, #c9d1d9))",fg:"var(--diffBlob-addition-fgColor-text, var(--color-diff-blob-addition-fg, #c9d1d9))",numBg:"var(--diffBlob-addition-bgColor-num, var(--color-diff-blob-addition-num-bg, rgba(88,166,255,0.3)))",lineBg:"var(--diffBlob-addition-bgColor-line, var(--color-diff-blob-addition-line-bg, rgba(56,139,253,0.15)))",wordBg:"var(--diffBlob-addition-bgColor-word, var(--color-diff-blob-addition-word-bg, rgba(56,139,253,0.4)))"},deletion:{numText:"var(--diffBlob-deletion-fgColor-num, var(--color-diff-blob-deletion-num-text, #c9d1d9))",fg:"var(--diffBlob-deletion-fgColor-text, var(--color-diff-blob-deletion-fg, #c9d1d9))",numBg:"var(--diffBlob-deletion-bgColor-num, var(--color-diff-blob-deletion-num-bg, rgba(248,81,73,0.3)))",lineBg:"var(--diffBlob-deletion-bgColor-line, var(--color-diff-blob-deletion-line-bg, rgba(248,81,73,0.1)))",wordBg:"var(--diffBlob-deletion-bgColor-word, var(--color-diff-blob-deletion-word-bg, rgba(248,81,73,0.4)))"},hunk:{numBg:"var(--diffBlob-hunk-bgColor-num, var(--color-diff-blob-hunk-num-bg, rgba(56,139,253,0.4)))"},expander:{icon:"var(--diffBlob-expander-iconColor, var(--color-diff-blob-expander-icon, #8b949e))"},selectedLineHighlightMixBlendMode:"var(--color-diff-blob-selected-line-highlight-mix-blend-mode, screen)"},diffstat:{deletionBorder:"var(--color-diffstat-deletion-border, rgba(240,246,252,0.1))",additionBorder:"var(--color-diffstat-addition-border, rgba(240,246,252,0.1))",additionBg:"var(--diffStat-addition-bgColor, var(--color-diffstat-addition-bg, #58a6ff))"},searchKeyword:{hl:"var(--highlight-neutral-bgColor, var(--color-search-keyword-hl, rgba(210,153,34,0.4)))"},prettylights:{syntax:{comment:"var(--color-prettylights-syntax-comment, #8b949e)",constant:"var(--color-prettylights-syntax-constant, #79c0ff)",entity:"var(--color-prettylights-syntax-entity, #d2a8ff)",storageModifierImport:"var(--color-prettylights-syntax-storage-modifier-import, #c9d1d9)",entityTag:"var(--color-prettylights-syntax-entity-tag, #a5d6ff)",keyword:"var(--color-prettylights-syntax-keyword, #ff7b72)",string:"var(--color-prettylights-syntax-string, #a5d6ff)",variable:"var(--color-prettylights-syntax-variable, #ffa198)",brackethighlighterUnmatched:"var(--color-prettylights-syntax-brackethighlighter-unmatched, #f85149)",invalidIllegalText:"var(--color-prettylights-syntax-invalid-illegal-text, #f0f6fc)",invalidIllegalBg:"var(--color-prettylights-syntax-invalid-illegal-bg, #8e1519)",carriageReturnText:"var(--color-prettylights-syntax-carriage-return-text, #f0f6fc)",carriageReturnBg:"var(--color-prettylights-syntax-carriage-return-bg, #b62324)",stringRegexp:"var(--color-prettylights-syntax-string-regexp, #a5d6ff)",markupList:"var(--color-prettylights-syntax-markup-list, #f2cc60)",markupHeading:"var(--color-prettylights-syntax-markup-heading, #1f6feb)",markupItalic:"var(--color-prettylights-syntax-markup-italic, #c9d1d9)",markupBold:"var(--color-prettylights-syntax-markup-bold, #c9d1d9)",markupDeletedText:"var(--color-prettylights-syntax-markup-deleted-text, #ffdcd7)",markupDeletedBg:"var(--color-prettylights-syntax-markup-deleted-bg, #67060c)",markupInsertedText:"var(--color-prettylights-syntax-markup-inserted-text, #cae8ff)",markupInsertedBg:"var(--color-prettylights-syntax-markup-inserted-bg, #0c2d6b)",markupChangedText:"var(--color-prettylights-syntax-markup-changed-text, #ffdcd7)",markupChangedBg:"var(--color-prettylights-syntax-markup-changed-bg, #67060c)",markupIgnoredText:"var(--color-prettylights-syntax-markup-ignored-text, #c9d1d9)",markupIgnoredBg:"var(--color-prettylights-syntax-markup-ignored-bg, #1158c7)",metaDiffRange:"var(--color-prettylights-syntax-meta-diff-range, #d2a8ff)",brackethighlighterAngle:"var(--color-prettylights-syntax-brackethighlighter-angle, #8b949e)",sublimelinterGutterMark:"var(--color-prettylights-syntax-sublimelinter-gutter-mark, #484f58)",constantOtherReferenceLink:"var(--color-prettylights-syntax-constant-other-reference-link, #a5d6ff)"}},codemirror:{text:"var(--codeMirror-fgColor, var(--color-codemirror-text, #c9d1d9))",bg:"var(--codeMirror-bgColor, var(--color-codemirror-bg, #0d1117))",guttersBg:"var(--codeMirror-gutters-bgColor, var(--color-codemirror-gutters-bg, #0d1117))",guttermarkerText:"var(--codeMirror-gutterMarker-fgColor-default, var(--color-codemirror-guttermarker-text, #0d1117))",guttermarkerSubtleText:"var(--codeMirror-gutterMarker-fgColor-muted, var(--color-codemirror-guttermarker-subtle-text, #6e7681))",linenumberText:"var(--codeMirror-lineNumber-fgColor, var(--color-codemirror-linenumber-text, #8b949e))",cursor:"var(--codeMirror-cursor-fgColor, var(--color-codemirror-cursor, #c9d1d9))",selectionBg:"var(--codeMirror-selection-bgColor, var(--color-codemirror-selection-bg, rgba(56,139,253,0.4)))",activelineBg:"var(--codeMirror-activeline-bgColor, var(--color-codemirror-activeline-bg, rgba(110,118,129,0.1)))",matchingbracketText:"var(--codeMirror-matchingBracket-fgColor, var(--color-codemirror-matchingbracket-text, #c9d1d9))",linesBg:"var(--codeMirror-lines-bgColor, var(--color-codemirror-lines-bg, #0d1117))",syntax:{comment:"var(--codeMirror-syntax-fgColor-comment, var(--color-codemirror-syntax-comment, #8b949e))",constant:"var(--codeMirror-syntax-fgColor-constant, var(--color-codemirror-syntax-constant, #79c0ff))",entity:"var(--codeMirror-syntax-fgColor-entity, var(--color-codemirror-syntax-entity, #d2a8ff))",keyword:"var(--codeMirror-syntax-fgColor-keyword, var(--color-codemirror-syntax-keyword, #ff7b72))",storage:"var(--codeMirror-syntax-fgColor-storage, var(--color-codemirror-syntax-storage, #ff7b72))",string:"var(--codeMirror-syntax-fgColor-string, var(--color-codemirror-syntax-string, #a5d6ff))",support:"var(--codeMirror-syntax-fgColor-support, var(--color-codemirror-syntax-support, #79c0ff))",variable:"var(--codeMirror-syntax-fgColor-variable, var(--color-codemirror-syntax-variable, #ffa198))"}},checks:{bg:"var(--color-checks-bg, #010409)",runBorderWidth:"var(--color-checks-run-border-width, 1px)",containerBorderWidth:"var(--color-checks-container-border-width, 1px)",textPrimary:"var(--color-checks-text-primary, #c9d1d9)",textSecondary:"var(--color-checks-text-secondary, #8b949e)",textLink:"var(--color-checks-text-link, #58a6ff)",btnIcon:"var(--color-checks-btn-icon, #8b949e)",btnHoverIcon:"var(--color-checks-btn-hover-icon, #c9d1d9)",btnHoverBg:"var(--color-checks-btn-hover-bg, rgba(110,118,129,0.1))",inputText:"var(--color-checks-input-text, #8b949e)",inputPlaceholderText:"var(--color-checks-input-placeholder-text, #6e7681)",inputFocusText:"var(--color-checks-input-focus-text, #c9d1d9)",inputBg:"var(--color-checks-input-bg, #161b22)",donutError:"var(--color-checks-donut-error, #f85149)",donutPending:"var(--color-checks-donut-pending, #d29922)",donutSuccess:"var(--color-checks-donut-success, #388bfd)",donutNeutral:"var(--color-checks-donut-neutral, #8b949e)",dropdownText:"var(--color-checks-dropdown-text, #c9d1d9)",dropdownBg:"var(--color-checks-dropdown-bg, #161b22)",dropdownBorder:"var(--color-checks-dropdown-border, #30363d)",dropdownShadow:"var(--color-checks-dropdown-shadow, rgba(1,4,9,0.3))",dropdownHoverText:"var(--color-checks-dropdown-hover-text, #c9d1d9)",dropdownHoverBg:"var(--color-checks-dropdown-hover-bg, rgba(110,118,129,0.1))",dropdownBtnHoverText:"var(--color-checks-dropdown-btn-hover-text, #c9d1d9)",dropdownBtnHoverBg:"var(--color-checks-dropdown-btn-hover-bg, rgba(110,118,129,0.1))",scrollbarThumbBg:"var(--color-checks-scrollbar-thumb-bg, rgba(110,118,129,0.4))",headerLabelText:"var(--color-checks-header-label-text, #8b949e)",headerLabelOpenText:"var(--color-checks-header-label-open-text, #c9d1d9)",headerBorder:"var(--color-checks-header-border, #21262d)",headerIcon:"var(--color-checks-header-icon, #8b949e)",lineText:"var(--color-checks-line-text, #8b949e)",lineNumText:"var(--color-checks-line-num-text, #6e7681)",lineTimestampText:"var(--color-checks-line-timestamp-text, #6e7681)",lineHoverBg:"var(--color-checks-line-hover-bg, rgba(110,118,129,0.1))",lineSelectedBg:"var(--color-checks-line-selected-bg, rgba(56,139,253,0.1))",lineSelectedNumText:"var(--color-checks-line-selected-num-text, #58a6ff)",lineDtFmText:"var(--color-checks-line-dt-fm-text, #ffffff)",lineDtFmBg:"var(--color-checks-line-dt-fm-bg, #9e6a03)",gateBg:"var(--color-checks-gate-bg, rgba(187,128,9,0.15))",gateText:"var(--color-checks-gate-text, #8b949e)",gateWaitingText:"var(--color-checks-gate-waiting-text, #d29922)",stepHeaderOpenBg:"var(--color-checks-step-header-open-bg, #161b22)",stepErrorText:"var(--color-checks-step-error-text, #f85149)",stepWarningText:"var(--color-checks-step-warning-text, #d29922)",loglineText:"var(--color-checks-logline-text, #8b949e)",loglineNumText:"var(--color-checks-logline-num-text, #6e7681)",loglineDebugText:"var(--color-checks-logline-debug-text, #a371f7)",loglineErrorText:"var(--color-checks-logline-error-text, #8b949e)",loglineErrorNumText:"var(--color-checks-logline-error-num-text, #6e7681)",loglineErrorBg:"var(--color-checks-logline-error-bg, rgba(248,81,73,0.1))",loglineWarningText:"var(--color-checks-logline-warning-text, #8b949e)",loglineWarningNumText:"var(--color-checks-logline-warning-num-text, #d29922)",loglineWarningBg:"var(--color-checks-logline-warning-bg, rgba(187,128,9,0.15))",loglineCommandText:"var(--color-checks-logline-command-text, #58a6ff)",loglineSectionText:"var(--color-checks-logline-section-text, #58a6ff)",ansi:{black:"var(--color-checks-ansi-black, #0d1117)",blackBright:"var(--color-checks-ansi-black-bright, #161b22)",white:"var(--color-checks-ansi-white, #b1bac4))",whiteBright:"var(--color-checks-ansi-white-bright, #b1bac4)",gray:"var(--color-checks-ansi-gray, #6e7681)",red:"var(--color-checks-ansi-red, #ff7b72)",redBright:"var(--color-checks-ansi-red-bright, #ffa198)",green:"var(--color-checks-ansi-green, #58a6ff)",greenBright:"var(--color-checks-ansi-green-bright, #79c0ff)",yellow:"var(--color-checks-ansi-yellow, #d29922)",yellowBright:"var(--color-checks-ansi-yellow-bright, #e3b341)",blue:"var(--color-checks-ansi-blue, #58a6ff)",blueBright:"var(--color-checks-ansi-blue-bright, #79c0ff)",magenta:"var(--color-checks-ansi-magenta, #bc8cff)",magentaBright:"var(--color-checks-ansi-magenta-bright, #d2a8ff)",cyan:"var(--color-checks-ansi-cyan, #76e3ea)",cyanBright:"var(--color-checks-ansi-cyan-bright, #b3f0ff)"}},project:{headerBg:"var(--color-project-header-bg, #0d1117)",sidebarBg:"var(--color-project-sidebar-bg, #161b22)",gradientIn:"var(--color-project-gradient-in, #161b22)",gradientOut:"var(--color-project-gradient-out, rgba(22,27,34,0))"},mktg:{btn:{bg:"var(--color-mktg-btn-bg, #f6f8fa))"}},control:{borderColor:{emphasis:"var(--control-borderColor-emphasis, var(--color-control-border-color-emphasis, #606771))"}},avatar:{bg:"var(--avatar-bgColor, var(--color-avatar-bg, rgba(255,255,255,0.1)))",border:"var(--avatar-borderColor, var(--color-avatar-border, rgba(240,246,252,0.1)))",stackFade:"var(--avatarStack-fade-bgColor-default, var(--color-avatar-stack-fade, #30363d))",stackFadeMore:"var(--avatarStack-fade-bgColor-muted, var(--color-avatar-stack-fade-more, #21262d))"},topicTag:{border:"var(--topicTag-borderColor, var(--color-topic-tag-border, transparent))"},counter:{border:"var(--counter-borderColor, var(--color-counter-border, transparent))"},selectMenu:{backdropBorder:"var(--selectMenu-borderColor, var(--color-select-menu-backdrop-border, #484f58))",tapHighlight:"var(--control-bgColor-active, var(--color-select-menu-tap-highlight, rgba(48,54,61,0.5)))",tapFocusBg:"var(--selectMenu-bgColor-active, var(--color-select-menu-tap-focus-bg, #0c2d6b))"},overlay:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-overlay-backdrop, rgba(22,27,34,0.4)))"},header:{text:"var(--header-fgColor-default, var(--color-header-text, rgba(255,255,255,0.7)))",bg:"var(--header-bgColor, var(--color-header-bg, #161b22))",divider:"var(--header-borderColor-divider, var(--color-header-divider, #8b949e))",logo:"var(--header-fgColor-logo, var(--color-header-logo, #f0f6fc))"},headerSearch:{bg:"var(--headerSearch-bgColor, var(--color-header-search-bg, #0d1117))",border:"var(--headerSearch-borderColor, var(--color-header-search-border, #30363d))"},sidenav:{selectedBg:"var(--sideNav-bgColor-selected, var(--color-sidenav-selected-bg, #21262d))"},menu:{bgActive:"var(--menu-bgColor-active, var(--color-menu-bg-active, #161b22))"},input:{disabledBg:"var(--control-bgColor-disabled, var(--color-input-disabled-bg, rgba(110,118,129,0)))"},timeline:{badgeBg:"var(--timelineBadge-bgColor, var(--color-timeline-badge-bg, #21262d))"},ansi:{black:"var(--color-ansi-black, #484f58)",blackBright:"var(--color-ansi-black-bright, #6e7681)",white:"var(--color-ansi-white, #b1bac4)",whiteBright:"var(--color-ansi-white-bright, #ffffff)",gray:"var(--color-ansi-gray, #6e7681)",red:"var(--color-ansi-red, #ff7b72)",redBright:"var(--color-ansi-red-bright, #ffa198)",green:"var(--color-ansi-green, #58a6ff)",greenBright:"var(--color-ansi-green-bright, #79c0ff)",yellow:"var(--color-ansi-yellow, #d29922)",yellowBright:"var(--color-ansi-yellow-bright, #e3b341)",blue:"var(--color-ansi-blue, #58a6ff)",blueBright:"var(--color-ansi-blue-bright, #79c0ff)",magenta:"var(--color-ansi-magenta, #bc8cff)",magentaBright:"var(--color-ansi-magenta-bright, #d2a8ff)",cyan:"var(--color-ansi-cyan, #39c5cf)",cyanBright:"var(--color-ansi-cyan-bright, #56d4dd)"},btn:{text:"var(--button-default-fgColor-rest, var(--color-btn-text, #c9d1d9))",bg:"var(--button-default-bgColor-rest, var(--color-btn-bg, #21262d))",border:"var(--button-default-borderColor-rest, var(--color-btn-border, rgba(240,246,252,0.1)))",hoverBg:"var(--button-default-bgColor-hover, var(--color-btn-hover-bg, #30363d))",hoverBorder:"var(--button-default-borderColor-hover, var(--color-btn-hover-border, #8b949e))",activeBg:"var(--button-default-bgColor-active, var(--color-btn-active-bg, hsla(212,12%,18%,1)))",activeBorder:"var(--button-default-borderColor-active, var(--color-btn-active-border, #6e7681))",selectedBg:"var(--button-default-bgColor-selected, var(--color-btn-selected-bg, #161b22))",counterBg:"var(--buttonCounter-default-bgColor-rest, var(--color-btn-counter-bg, #30363d))",primary:{text:"var(--button-primary-fgColor-rest, var(--color-btn-primary-text, #ffffff))",bg:"var(--button-primary-bgColor-rest, var(--color-btn-primary-bg, #1f6feb))",border:"var(--button-primary-borderColor-rest, var(--color-btn-primary-border, rgba(240,246,252,0.1)))",hoverBg:"var(--button-primary-bgColor-hover, var(--color-btn-primary-hover-bg, #388bfd))",hoverBorder:"var(--button-primary-borderColor-hover, var(--color-btn-primary-hover-border, rgba(240,246,252,0.1)))",selectedBg:"var(--button-primary-bgColor-active, var(--color-btn-primary-selected-bg, #1f6feb))",disabledText:"var(--button-primary-fgColor-disabled, var(--color-btn-primary-disabled-text, rgba(255,255,255,0.5)))",disabledBg:"var(--button-primary-bgColor-disabled, var(--color-btn-primary-disabled-bg, rgba(31,111,235,0.6)))",disabledBorder:"var(--button-primary-borderColor-disabled, var(--color-btn-primary-disabled-border, rgba(240,246,252,0.1)))",icon:"var(--button-primary-iconColor-rest, var(--color-btn-primary-icon, #ffffff))",counterBg:"var(--buttonCounter-primary-bgColor-rest, var(--color-btn-primary-counter-bg, rgba(5,29,77,0.2)))"},outline:{text:"var(--button-outline-fgColor-rest, var(--color-btn-outline-text, #388bfd))",hoverText:"var(--button-outline-fgColor-hover, var(--color-btn-outline-hover-text, #58a6ff))",hoverBg:"var(--button-outline-bgColor-hover, var(--color-btn-outline-hover-bg, #30363d))",hoverBorder:"var(--button-outline-borderColor-hover, var(--color-btn-outline-hover-border, rgba(240,246,252,0.1)))",hoverCounterBg:"var(--buttonCounter-outline-bgColor-hover, var(--color-btn-outline-hover-counter-bg, rgba(5,29,77,0.2)))",selectedText:"var(--button-outline-fgColor-active, var(--color-btn-outline-selected-text, #ffffff))",selectedBg:"var(--button-outline-bgColor-active, var(--color-btn-outline-selected-bg, #0d419d))",selectedBorder:"var(--button-outline-borderColor-active, var(--color-btn-outline-selected-border, rgba(240,246,252,0.1)))",disabledText:"var(--button-outline-fgColor-disabled, var(--color-btn-outline-disabled-text, rgba(88,166,255,0.5)))",disabledBg:"var(--button-outline-bgColor-disabled, var(--color-btn-outline-disabled-bg, #0d1117))",disabledCounterBg:"var(--buttonCounter-outline-bgColor-disabled, var(--color-btn-outline-disabled-counter-bg, rgba(31,111,235,0.05)))",counterBg:"var(--buttonCounter-outline-bgColor-rest, var(--color-btn-outline-counter-bg, rgba(5,29,77,0.2)))",hoverCounterFg:"var(--buttonCounter-outline-fgColor-hover, var(--color-btn-outline-hover-counter-fg, #58a6ff))",disabledCounterFg:"var(--buttonCounter-outline-fgColor-disabled, var(--color-btn-outline-disabled-counter-fg, rgba(88,166,255,0.5)))",counterFg:"var(--buttonCounter-outline-fgColor-rest, var(--color-btn-outline-counter-fg, #388bfd))"},danger:{text:"var(--button-danger-fgColor-rest, var(--color-btn-danger-text, #f85149))",hoverText:"var(--button-danger-fgColor-hover, var(--color-btn-danger-hover-text, #ffffff))",hoverBg:"var(--button-danger-bgColor-hover, var(--color-btn-danger-hover-bg, #da3633))",hoverBorder:"var(--button-danger-borderColor-hover, var(--color-btn-danger-hover-border, #f85149))",hoverIcon:"var(--button-danger-iconColor-hover, var(--color-btn-danger-hover-icon, #ffffff))",hoverCounterBg:"var(--buttonCounter-danger-bgColor-hover, var(--color-btn-danger-hover-counter-bg, rgba(255,255,255,0.2)))",selectedText:"var(--button-danger-fgColor-active, var(--color-btn-danger-selected-text, #ffffff))",selectedBg:"var(--button-danger-bgColor-active, var(--color-btn-danger-selected-bg, #b62324))",selectedBorder:"var(--button-danger-borderColor-active, var(--color-btn-danger-selected-border, #ff7b72))",disabledText:"var(--button-danger-fgColor-disabled, var(--color-btn-danger-disabled-text, rgba(248,81,73,0.5)))",disabledBg:"var(--button-danger-bgColor-disabled, var(--color-btn-danger-disabled-bg, #0d1117))",disabledCounterBg:"var(--buttonCounter-danger-bgColor-disabled, var(--color-btn-danger-disabled-counter-bg, rgba(218,54,51,0.05)))",counterBg:"var(--buttonCounter-danger-bgColor-rest, var(--color-btn-danger-counter-bg, rgba(73,2,2,0.2)))",icon:"var(--button-danger-iconColor-rest, var(--color-btn-danger-icon, #f85149))",counterFg:"var(--buttonCounter-danger-fgColor-rest, var(--color-btn-danger-counter-fg, #f85149))",disabledCounterFg:"var(--buttonCounter-danger-fgColor-disabled, var(--color-btn-danger-disabled-counter-fg, rgba(248,81,73,0.5)))",hoverCounterFg:"var(--buttonCounter-danger-fgColor-hover, var(--color-btn-danger-hover-counter-fg, #ffffff))"},inactive:{bg:"var(--button-inactive-bgColor-rest, var(--color-btn-inactive-bg, #21262d))",text:"var(--button-inactive-fgColor-rest, var(--color-btn-inactive-text, #8b949e))"}},underlinenav:{icon:"var(--underlineNav-iconColor-rest, var(--color-underlinenav-icon, #6e7681))",borderHover:"var(--underlineNav-borderColor-hover, var(--color-underlinenav-border-hover, rgba(110,118,129,0.4)))"},actionListItem:{inlineDivider:"var(--borderColor-muted, var(--color-action-list-item-inline-divider, rgba(48,54,61,0.48)))",default:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-action-list-item-default-hover-bg, rgba(177,186,196,0.12)))",hoverBorder:"var(--control-transparent-borderColor-hover, var(--color-action-list-item-default-hover-border, transparent))",activeBg:"var(--control-transparent-bgColor-active, var(--color-action-list-item-default-active-bg, rgba(177,186,196,0.2)))",activeBorder:"var(--control-transparent-borderColor-active, var(--color-action-list-item-default-active-border, transparent))",selectedBg:"var(--control-transparent-bgColor-selected, var(--color-action-list-item-default-selected-bg, rgba(177,186,196,0.08)))"},danger:{hoverBg:"var(--control-danger-bgColor-hover, var(--color-action-list-item-danger-hover-bg, rgba(248,81,73,0.16)))",activeBg:"var(--control-danger-bgColor-active, var(--color-action-list-item-danger-active-bg, rgba(248,81,73,0.24)))",hoverText:"var(--control-danger-fgColor-hover, var(--color-action-list-item-danger-hover-text, #ff7b72))"}},switchTrack:{bg:"var(--controlTrack-bgColor-rest, var(--color-switch-track-bg, rgba(110,118,129,0.1)))",hoverBg:"var(--controlTrack-bgColor-hover, var(--color-switch-track-hover-bg, hsla(215,8%,72%,0.1)))",activeBg:"var(--controlTrack-bgColor-active, var(--color-switch-track-active-bg, rgba(110,118,129,0.4)))",disabledBg:"var(--controlTrack-bgColor-disabled, var(--color-switch-track-disabled-bg, #21262d))",fg:"var(--controlTrack-fgColor-rest, var(--color-switch-track-fg, #8b949e))",disabledFg:"var(--controlTrack-fgColor-disabled, var(--color-switch-track-disabled-fg, #010409))",border:"var(--controlTrack-borderColor-rest, var(--color-switch-track-border, transparent))",checked:{bg:"var(--control-checked-bgColor-rest, var(--color-switch-track-checked-bg, rgba(31,111,235,0.35)))",hoverBg:"var(--control-checked-bgColor-hover, var(--color-switch-track-checked-hover-bg, rgba(31,111,235,0.5)))",activeBg:"var(--control-checked-bgColor-active, var(--color-switch-track-checked-active-bg, rgba(31,111,235,0.65)))",fg:"var(--control-checked-fgColor-rest, var(--color-switch-track-checked-fg, #ffffff))",disabledFg:"var(--control-checked-fgColor-disabled, var(--color-switch-track-checked-disabled-fg, #010409))",border:"var(--borderColor-transparent, var(--color-switch-track-checked-border, transparent))"}},switchKnob:{bg:"var(--controlKnob-bgColor-rest, var(--color-switch-knob-bg, #0d1117))",border:"var(--controlKnob-borderColor-rest, var(--color-switch-knob-border, #606771))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-disabled-bg, #161b22))",checked:{bg:"var(--controlKnob-bgColor-checked, var(--color-switch-knob-checked-bg, #0d1117))",disabledBg:"var(--controlKnob-bgColor-disabled, var(--color-switch-knob-checked-disabled-bg, #161b22))",border:"var(--controlKnob-borderColor-checked, var(--color-switch-knob-checked-border, rgba(31,111,235,0.35)))"}},segmentedControl:{bg:"var(--controlTrack-bgColor-rest, var(--color-segmented-control-bg, rgba(110,118,129,0.1)))",button:{bg:"var(--controlKnob-bgColor-rest, var(--color-segmented-control-button-bg, #0d1117))",hover:{bg:"var(--controlTrack-bgColor-hover, var(--color-segmented-control-button-hover-bg, #30363d))"},active:{bg:"var(--controlTrack-bgColor-active, var(--color-segmented-control-button-active-bg, #21262d))"},selected:{border:"var(--controlKnob-borderColor-rest, var(--color-segmented-control-button-selected-border, #6e7681))"}}},treeViewItem:{chevron:{hoverBg:"var(--control-transparent-bgColor-hover, var(--color-tree-view-item-chevron-hover-bg, rgba(177,186,196,0.12)))"},directory:{fill:"var(--treeViewItem-leadingVisual-bgColor-rest, var(--color-tree-view-item-directory-fill, #8b949e))"}},fg:{default:"var(--fgColor-default, var(--color-fg-default, #c9d1d9))",muted:"var(--fgColor-muted, var(--color-fg-muted, #8b949e))",subtle:"var(--fgColor-muted, var(--color-fg-subtle, #6e7681))",onEmphasis:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis, #ffffff))"},canvas:{default:"var(--bgColor-default, var(--color-canvas-default, #0d1117))",overlay:"var(--overlay-bgColor, var(--color-canvas-overlay, #161b22))",inset:"var(--bgColor-inset, var(--color-canvas-inset, #010409))",subtle:"var(--bgColor-muted, var(--color-canvas-subtle, #161b22))"},border:{default:"var(--borderColor-default, var(--color-border-default, #30363d))",muted:"var(--borderColor-muted, var(--color-border-muted, #21262d))",subtle:"var(--borderColor-muted, var(--color-border-subtle, rgba(240,246,252,0.1)))"},neutral:{emphasisPlus:"var(--bgColor-emphasis, var(--color-neutral-emphasis-plus, #6e7681))",emphasis:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis, #6e7681))",muted:"var(--bgColor-neutral-muted, var(--color-neutral-muted, rgba(110,118,129,0.4)))",subtle:"var(--bgColor-neutral-muted, var(--color-neutral-subtle, rgba(110,118,129,0.1)))"},accent:{fg:"var(--fgColor-accent, var(--color-accent-fg, #58a6ff))",emphasis:"var(--bgColor-accent-emphasis, var(--color-accent-emphasis, #1f6feb))",muted:"var(--borderColor-accent-muted, var(--color-accent-muted, rgba(56,139,253,0.4)))",subtle:"var(--bgColor-accent-muted, var(--color-accent-subtle, rgba(56,139,253,0.1)))"},success:{fg:"var(--fgColor-success, var(--color-success-fg, #58a6ff))",emphasis:"var(--bgColor-success-emphasis, var(--color-success-emphasis, #1f6feb))",muted:"var(--borderColor-success-muted, var(--color-success-muted, rgba(56,139,253,0.4)))",subtle:"var(--bgColor-success-muted, var(--color-success-subtle, rgba(56,139,253,0.15)))"},attention:{fg:"var(--fgColor-attention, var(--color-attention-fg, #d29922))",emphasis:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis, #9e6a03))",muted:"var(--borderColor-attention-muted, var(--color-attention-muted, rgba(187,128,9,0.4)))",subtle:"var(--bgColor-attention-muted, var(--color-attention-subtle, rgba(187,128,9,0.15)))"},severe:{fg:"var(--fgColor-severe, var(--color-severe-fg, #f85149))",emphasis:"var(--bgColor-severe-emphasis, var(--color-severe-emphasis, #da3633))",muted:"var(--borderColor-severe-muted, var(--color-severe-muted, rgba(248,81,73,0.4)))",subtle:"var(--bgColor-severe-muted, var(--color-severe-subtle, rgba(248,81,73,0.1)))"},danger:{fg:"var(--fgColor-danger, var(--color-danger-fg, #f85149))",emphasis:"var(--borderColor-danger-emphasis, var(--color-danger-emphasis, #da3633))",muted:"var(--borderColor-danger-muted, var(--color-danger-muted, rgba(248,81,73,0.4)))",subtle:"var(--bgColor-danger-muted, var(--color-danger-subtle, rgba(248,81,73,0.1)))"},open:{fg:"var(--fgColor-open, var(--color-open-fg, #ff7b72))",emphasis:"var(--bgColor-open-emphasis, var(--color-open-emphasis, #da3633))",muted:"var(--borderColor-open-muted, var(--color-open-muted, rgba(248,81,73,0.4)))",subtle:"var(--bgColor-open-muted, var(--color-open-subtle, rgba(248,81,73,0.15)))"},closed:{fg:"var(--fgColor-closed, var(--color-closed-fg, #8b949e))",emphasis:"var(--bgColor-closed-emphasis, var(--color-closed-emphasis, #6e7681))",muted:"var(--borderColor-closed-muted, var(--color-closed-muted, rgba(110,118,129,0.4)))",subtle:"var(--bgColor-closed-muted, var(--color-closed-subtle, rgba(110,118,129,0.1)))"},done:{fg:"var(--fgColor-done, var(--color-done-fg, #a371f7))",emphasis:"var(--bgColor-done-emphasis, var(--color-done-emphasis, #8957e5))",muted:"var(--borderColor-done-muted, var(--color-done-muted, rgba(163,113,247,0.4)))",subtle:"var(--bgColor-done-muted, var(--color-done-subtle, rgba(163,113,247,0.1)))"},sponsors:{fg:"var(--fgColor-sponsors, var(--color-sponsors-fg, #db61a2))",emphasis:"var(--bgColor-sponsors-emphasis, var(--color-sponsors-emphasis, #bf4b8a))",muted:"var(--borderColor-sponsors-muted, var(--color-sponsors-muted, rgba(219,97,162,0.4)))",subtle:"var(--bgColor-sponsors-muted, var(--color-sponsors-subtle, rgba(219,97,162,0.1)))"},primer:{fg:{disabled:"var(--fgColor-disabled, var(--color-primer-fg-disabled, #484f58))"},canvas:{backdrop:"var(--overlay-backdrop-bgColor, var(--color-primer-canvas-backdrop, rgba(1,4,9,0.8)))",sticky:"var(--color-primer-canvas-sticky, rgba(13,17,23,0.95))"},border:{active:"var(--underlineNav-borderColor-active, var(--color-primer-border-active, #f78166))",contrast:"var(--borderColor-muted, var(--color-primer-border-contrast, rgba(255,255,255,0.2)))"}}},shadows:{checks:{inputShadow:"var(--color-checks-input-shadow, 0 0 0 1px #30363d)"},mktg:{btn:{shadow:{outline:"var(--color-mktg-btn-shadow-outline, rgb(255 255 255 / 25%) 0 0 0 1px inset))",focus:"var(--color-mktg-btn-shadow-focus, rgb(255 255 255 / 25%) 0 0 0 4px))",hover:"var(--color-mktg-btn-shadow-hover, 0 4px 7px rgba(0, 0, 0, 0.15), 0 100px 80px rgba(255, 255, 255, 0.02), 0 42px 33px rgba(255, 255, 255, 0.024), 0 22px 18px rgba(255, 255, 255, 0.028), 0 12px 10px rgba(255, 255, 255, 0.034), 0 7px 5px rgba(255, 255, 255, 0.04), 0 3px 2px rgba(255, 255, 255, 0.07)))",hoverMuted:"var(--color-mktg-btn-shadow-hover-muted, rgb(255 255 255) 0 0 0 2px inset))"}}},avatar:{childShadow:"var(--avatar-shadow, var(--color-avatar-child-shadow, 0 0 0 2px #0d1117))"},overlay:{shadow:"var(--shadow-floating-small, var(--color-overlay-shadow, 0 0 0 1px #30363d, 0 16px 32px rgba(1,4,9,0.85)))"},btn:{shadow:"var(--button-default-shadow-resting, var(--color-btn-shadow, 0 0 transparent))",insetShadow:"var(--button-default-shadow-inset, var(--color-btn-inset-shadow, 0 0 transparent))",primary:{shadow:"var(--shadow-resting-small, var(--color-btn-primary-shadow, 0 0 transparent))",insetShadow:"var(--shadow-highlight, var(--color-btn-primary-inset-shadow, 0 0 transparent))",selectedShadow:"var(--button-primary-shadow-selected, var(--color-btn-primary-selected-shadow, 0 0 transparent))"},outline:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-outline-hover-shadow, 0 1px 0 rgba(1,4,9,0.1)))// HI_KATIE: no matches",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-outline-hover-inset-shadow, inset 0 1px 0 rgba(255,255,255,0.03)))// HI_KATIE: no matches",selectedShadow:"var(--button-outline-shadow-selected, var(--color-btn-outline-selected-shadow, 0 0 transparent))"},danger:{hoverShadow:"var(--shadow-resting-small, var(--color-btn-danger-hover-shadow, 0 0 transparent))",hoverInsetShadow:"var(--shadow-highlight, var(--color-btn-danger-hover-inset-shadow, 0 0 transparent))",selectedShadow:"var(--button-danger-shadow-selected, var(--color-btn-danger-selected-shadow, 0 0 transparent))"}},shadow:{small:"var(--shadow-resting-small, var(--color-shadow-small, 0 0 transparent))",medium:"var(--shadow-resting-medium, var(--color-shadow-medium, 0 3px 6px #010409))",large:"var(--shadow-floating-large, var(--color-shadow-large, 0 8px 24px #010409))",extraLarge:"var(--shadow-floating-xlarge, var(--color-shadow-extra-large, 0 12px 48px #010409))"},primer:{shadow:{highlight:"var(--shadow-highlight, var(--color-primer-shadow-highlight, 0 0 transparent))",inset:"var(--shadow-inset, var(--color-primer-shadow-inset, 0 0 transparent))"}}}}},wge=yge,Sge={easeOutCubic:"cubic-bezier(0.33, 1, 0.68, 1)"},xge=["544px","768px","1012px","1280px"],kge={normal:UH.fontStack(["-apple-system","BlinkMacSystemFont","Segoe UI","Noto Sans","Helvetica","Arial","sans-serif","Apple Color Emoji","Segoe UI Emoji"]),mono:`var(--fontStack-monospace, ${UH.fontStack(["SFMono-Regular","Consolas","Liberation Mono","Menlo","Courier","monospace"])})`},Lge={condensedUltra:1,condensed:1.25,default:1.5},Dge={light:300,normal:400,semibold:500,bold:600},Ege=[0,"1px"],Tge=["0","3px","6px","100px"],Ige={small:"544px",medium:"768px",large:"1012px",xlarge:"1280px"},Nge=["12px","14px","16px","20px","24px","32px","40px","48px","56px"],Rge=["0","4px","8px","16px","24px","32px","40px","48px","64px","80px","96px","112px","128px"],IX={animation:Sge,borderWidths:Ege,breakpoints:xge,fonts:kge,fontSizes:Nge,fontWeights:Dge,lineHeights:Lge,radii:Tge,sizes:Ige,space:Rge,colorSchemes:wge},$H="day",jH="light",KH="dark",NX=Ce.createContext({setColorMode:()=>null,setDayScheme:()=>null,setNightScheme:()=>null}),Mge=()=>{try{var n;const e=(n=document.getElementById("__PRIMER_DATA__"))===null||n===void 0?void 0:n.textContent;if(e)return JSON.parse(e)}catch{}return{}},RX=({children:n,...e})=>{var t,i,o,r,s,a,l,c;const{theme:d,colorMode:u,dayScheme:h,nightScheme:g}=b8(),f=(t=(i=e.theme)!==null&&i!==void 0?i:d)!==null&&t!==void 0?t:IX,{resolvedServerColorMode:p}=Mge(),b=Ce.useRef(p),[v,_]=Ce.useState((o=(r=e.colorMode)!==null&&r!==void 0?r:u)!==null&&o!==void 0?o:$H),[C,y]=Ce.useState((s=(a=e.dayScheme)!==null&&a!==void 0?a:h)!==null&&s!==void 0?s:jH),[w,S]=Ce.useState((l=(c=e.nightScheme)!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:KH),x=Age(),L=b.current||qH(v,x),E=Oge(L,C,w),{resolvedTheme:O,resolvedColorScheme:P}=Ce.useMemo(()=>Fge(f,E),[f,E]);return Ce.useEffect(function(){const F=qH(v,x);b.current&&(b.current!==F&&window.setTimeout(()=>{HY.flushSync(()=>{_(F)}),_(v)}),b.current=null)},[v,x]),Ce.useEffect(()=>{var A,F;_((A=(F=e.colorMode)!==null&&F!==void 0?F:u)!==null&&A!==void 0?A:$H)},[e.colorMode,u]),Ce.useEffect(()=>{var A,F;y((A=(F=e.dayScheme)!==null&&F!==void 0?F:h)!==null&&A!==void 0?A:jH)},[e.dayScheme,h]),Ce.useEffect(()=>{var A,F;S((A=(F=e.nightScheme)!==null&&F!==void 0?F:g)!==null&&A!==void 0?A:KH)},[e.nightScheme,g]),Ce.createElement(NX.Provider,{value:{theme:O,colorScheme:E,colorMode:v,resolvedColorMode:L,resolvedColorScheme:P,dayScheme:C,nightScheme:w,setColorMode:_,setDayScheme:y,setNightScheme:S}},Ce.createElement(hue,{theme:O},n,e.preventSSRMismatch?Ce.createElement("script",{type:"application/json",id:"__PRIMER_DATA__",dangerouslySetInnerHTML:{__html:JSON.stringify({resolvedServerColorMode:L})}}):null))};RX.displayName="ThemeProvider";function b8(){return Ce.useContext(NX)}function Age(){const[n,e]=Ce.useState(Pge);return Ce.useEffect(()=>{var t,i;const o=(t=window)===null||t===void 0||(i=t.matchMedia)===null||i===void 0?void 0:i.call(t,"(prefers-color-scheme: dark)");function r(a){return a?"night":"day"}function s(a){const l=a.matches;e(r(l))}if(o){const a=o.matches;if(e(r(a)),o.addEventListener!==void 0)return o.addEventListener("change",s),function(){o.removeEventListener("change",s)};if(o.addListener!==void 0)return o.addListener(s),function(){o.removeListener(s)}}},[]),n}function Pge(){var n,e,t;return typeof window<"u"&&(n=(e=window).matchMedia)!==null&&n!==void 0&&(t=n.call(e,"(prefers-color-scheme: dark)"))!==null&&t!==void 0&&t.matches?"night":"day"}function qH(n,e){switch(n){case"auto":return e;default:return n}}function Oge(n,e,t){switch(n){case"day":case"light":return e;case"dark":case"night":return t}}function Fge(n,e){if(!n.colorSchemes)return{resolvedTheme:n,resolvedColorScheme:void 0};if(!n.colorSchemes[e]){console.error(`\`${e}\` scheme not defined in \`theme.colorSchemes\``);const t=Object.keys(n.colorSchemes)[0];return{resolvedTheme:wl(n,n.colorSchemes[t]),resolvedColorScheme:t}}return{resolvedTheme:wl(n,n.colorSchemes[e]),resolvedColorScheme:e}}var Bge=function(e,t){return t===void 0&&(t=null),function(i){return Rd(i.theme,e,t)}};const{get:Wge,compose:_8,system:Vge}=Yhe,Dr=n=>Bge(n,Wge(IX,n)),MX=_8(m8,ET,DX),Hge=Vge({whiteSpace:{property:"whiteSpace"}}),AX=_8(jd,Hge);_8(yl,_C);const GH=gS(["box-shadow:none;outline:2px solid ",";"],Dr("colors.accent.fg")),zge=n=>gS(["&:focus:not(:disabled){",";outline-offset:",";&:not(:focus-visible){outline:solid 1px transparent;}}&:focus-visible:not(:disabled){",";outline-offset:",";}"],GH,typeof n>"u"?"2px":n,GH,typeof n>"u"?"2px":n),Uge=Ec.button.withConfig({displayName:"types__StyledButton",componentId:"sc-ws60qy-0"})(["",";",";"],zge("-2px"),Ch),C8={},$ge=Ec.span.withConfig({displayName:"_VisuallyHidden__VisuallyHidden",componentId:"sc-11jhm7a-0"})(["",""],({isVisible:n=!1})=>n?Ch:`
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
    `);function IO(){return IO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},IO.apply(this,arguments)}const PX=De.forwardRef(({scheme:n="secondary",sx:e=C8,children:t,...i},o)=>Ce.createElement(Ce.Fragment,null,Ce.createElement(qi,IO({"aria-hidden":"true",sx:wl({display:"inline-block",padding:"2px 5px",fontSize:0,fontWeight:"bold",lineHeight:"condensedUltra",borderRadius:"20px",backgroundColor:n==="primary"?"neutral.emphasis":"neutral.muted",border:"var(--borderWidth-thin,max(1px, 0.0625rem)) solid var(--counter-borderColor,var(--color-counter-border))",color:n==="primary"?"fg.onEmphasis":"fg.default","&:empty":{display:"none"}},e)},i,{as:"span",ref:o}),t),Ce.createElement($ge,null,"(",t,")")));PX.displayName="CounterLabel";const jge=(n="default",e)=>({default:{color:"btn.text",backgroundColor:"btn.bg",boxShadow:`${e==null?void 0:e.shadows.btn.shadow}, ${e==null?void 0:e.shadows.btn.insetShadow}`,"&:hover:not([disabled]):not([data-inactive])":{backgroundColor:"btn.hoverBg",borderColor:`var(--button-default-borderColor-hover, ${e==null?void 0:e.colors.btn.hoverBorder})`},"&:active:not([disabled]):not([data-inactive])":{backgroundColor:"btn.activeBg",borderColor:`var(--button-default-borderColor-active, ${e==null?void 0:e.colors.btn.activeBorder})`},"&:disabled":{color:"primer.fg.disabled",borderColor:`var(--button-default-borderColor-disabled, ${e==null?void 0:e.colors.btn.border})`,backgroundColor:`var(--button-default-bgColor-disabled, ${e==null?void 0:e.colors.input.disabledBg})`,"[data-component=ButtonCounter]":{color:"inherit"}},"&[aria-expanded=true]":{backgroundColor:"btn.activeBg",borderColor:`var(--button-default-borderColor-active, ${e==null?void 0:e.colors.btn.activeBorder})`},'[data-component="leadingVisual"], [data-component="trailingVisual"], [data-component="trailingAction"]':{color:`var(--button-color, ${e==null?void 0:e.colors.fg.muted})`},"[data-component=ButtonCounter]":{backgroundColor:"btn.counterBg"},'&[data-component="IconButton"][data-no-visuals]':{color:"fg.muted"}},primary:{color:"btn.primary.text",backgroundColor:"btn.primary.bg",borderColor:"btn.primary.border",boxShadow:`${e==null?void 0:e.shadows.btn.primary.shadow}`,"&:hover:not([disabled]):not([data-inactive])":{color:"btn.primary.hoverText",backgroundColor:"btn.primary.hoverBg"},"&:focus:not([disabled])":{boxShadow:"inset 0 0 0 3px"},"&:focus-visible:not([disabled])":{boxShadow:"inset 0 0 0 3px"},"&:active:not([disabled]):not([data-inactive])":{backgroundColor:"btn.primary.selectedBg",boxShadow:`${e==null?void 0:e.shadows.btn.primary.selectedShadow}`},"&:disabled":{color:"btn.primary.disabledText",backgroundColor:"btn.primary.disabledBg",borderColor:"btn.primary.disabledBorder","[data-component=ButtonCounter]":{color:"inherit"}},"[data-component=ButtonCounter]":{backgroundColor:"btn.primary.counterBg",color:"btn.primary.text"},"&[aria-expanded=true]":{backgroundColor:"btn.primary.selectedBg",boxShadow:`${e==null?void 0:e.shadows.btn.primary.selectedShadow}`}},danger:{color:"btn.danger.text",backgroundColor:"btn.bg",boxShadow:`${e==null?void 0:e.shadows.btn.shadow}`,"&:hover:not([disabled]):not([data-inactive])":{color:"btn.danger.hoverText",backgroundColor:"btn.danger.hoverBg",borderColor:"btn.danger.hoverBorder",boxShadow:`${e==null?void 0:e.shadows.btn.danger.hoverShadow}`,"[data-component=ButtonCounter]":{backgroundColor:"btn.danger.hoverCounterBg",color:"btn.danger.hoverCounterFg"}},"&:active:not([disabled]):not([data-inactive])":{color:"btn.danger.selectedText",backgroundColor:"btn.danger.selectedBg",boxShadow:`${e==null?void 0:e.shadows.btn.danger.selectedShadow}`,borderColor:"btn.danger.selectedBorder"},"&:disabled":{color:"btn.danger.disabledText",backgroundColor:"btn.danger.disabledBg",borderColor:`var(--button-default-borderColor-disabled, ${e==null?void 0:e.colors.btn.border})`,"[data-component=ButtonCounter]":{color:"btn.danger.disabledCounterFg",backgroundColor:"btn.danger.disabledCounterBg"}},"[data-component=ButtonCounter]":{color:"btn.danger.counterFg",backgroundColor:"btn.danger.counterBg"},"&[aria-expanded=true]":{color:"btn.danger.selectedText",backgroundColor:"btn.danger.selectedBg",boxShadow:`${e==null?void 0:e.shadows.btn.danger.selectedShadow}`,borderColor:"btn.danger.selectedBorder"}},invisible:{color:"btn.text",backgroundColor:"transparent",borderColor:"transparent",boxShadow:"none","&:hover:not([disabled])":{backgroundColor:"actionListItem.default.hoverBg"},"&:active:not([disabled])":{backgroundColor:"actionListItem.default.activeBg"},"&:disabled":{color:"primer.fg.disabled",'[data-component=ButtonCounter], [data-component="leadingVisual"], [data-component="trailingAction"]':{color:"inherit"}},"&[aria-expanded=true]":{backgroundColor:"actionListItem.default.selectedBg"},'&[data-component="IconButton"][data-no-visuals]':{color:"fg.muted"},'[data-component="trailingAction"]':{color:"fg.muted"},'[data-component="leadingVisual"]':{color:"fg.muted"},"&[data-no-visuals]":{color:"accent.fg"},'&:has([data-component="ButtonCounter"])':{color:"btn.text"},"&:disabled[data-no-visuals]":{color:"primer.fg.disabled","[data-component=ButtonCounter]":{color:"inherit"}}},outline:{color:"btn.outline.text",boxShadow:`${e==null?void 0:e.shadows.btn.shadow}`,borderColor:`var(--button-default-borderColor-rest, ${e==null?void 0:e.colors.btn.border})`,backgroundColor:"btn.bg","&:hover:not([disabled]):not([data-inactive])":{color:"btn.outline.hoverText",backgroundColor:"btn.outline.hoverBg",borderColor:`${e==null?void 0:e.colors.btn.outline.hoverBorder}`,boxShadow:`${e==null?void 0:e.shadows.btn.outline.hoverShadow}`,"[data-component=ButtonCounter]":{backgroundColor:"btn.outline.hoverCounterBg",color:"btn.outline.hoverCounterFg"}},"&:active:not([disabled]):not([data-inactive])":{color:"btn.outline.selectedText",backgroundColor:"btn.outline.selectedBg",boxShadow:`${e==null?void 0:e.shadows.btn.outline.selectedShadow}`,borderColor:`${e==null?void 0:e.colors.btn.outline.selectedBorder}`},"&:disabled":{color:"btn.outline.disabledText",backgroundColor:"btn.outline.disabledBg",borderColor:"btn.border","[data-component=ButtonCounter]":{backgroundColor:"btn.outline.disabledCounterBg",color:"btn.outline.disabledCounterFg"}},"[data-component=ButtonCounter]":{backgroundColor:"btn.outline.counterBg",color:"btn.outline.counterFg"},"&[aria-expanded=true]":{color:"btn.outline.selectedText",backgroundColor:"btn.outline.selectedBg",boxShadow:`${e==null?void 0:e.shadows.btn.outline.selectedShadow}`,borderColor:`var(--button-default-borderColor-active, ${e==null?void 0:e.colors.btn.outline.selectedBorder})`}}})[n],Kge=n=>({borderRadius:"2",border:"1px solid",borderColor:`var(--button-default-borderColor-rest, ${n==null?void 0:n.colors.btn.border})`,fontFamily:"inherit",fontWeight:"semibold",fontSize:"1",cursor:"pointer",appearance:"none",userSelect:"none",textDecoration:"none",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"space-between",height:"32px",padding:"0 12px",gap:"8px",minWidth:"max-content",transition:"80ms cubic-bezier(0.65, 0, 0.35, 1)",transitionProperty:"color, fill, background-color, border-color","&[href]":{display:"inline-flex","&:hover":{textDecoration:"none"}},"&:hover":{transitionDuration:"80ms"},"&:active":{transition:"none"},"&[data-inactive]":{cursor:"auto"},"&:disabled":{cursor:"not-allowed",boxShadow:"none"},"@media (forced-colors: active)":{"&:focus":{outline:"solid 1px transparent"}},"[data-component=ButtonCounter]":{fontSize:"0"},"&[data-component=IconButton]":{display:"inline-grid",padding:"unset",placeContent:"center",width:"32px",minWidth:"unset"},'&[data-size="small"]':{padding:"0 8px",height:"28px",gap:"4px",fontSize:"0",'[data-component="text"]':{lineHeight:"calc(20 / 12)"},"[data-component=ButtonCounter]":{fontSize:"0"},'[data-component="buttonContent"] > :not(:last-child)':{mr:"4px"},"&[data-component=IconButton]":{width:"28px",padding:"unset"}},'&[data-size="large"]':{padding:"0 16px",height:"40px",gap:"8px",'[data-component="buttonContent"] > :not(:last-child)':{mr:"8px"},"&[data-component=IconButton]":{width:"40px",padding:"unset"}}}),qge=n=>({...Kge(n),'&[data-block="block"]':{width:"100%"},"&[data-inactive]:not([disabled])":{backgroundColor:`var(--button-inactive-bgColor, ${n==null?void 0:n.colors.btn.inactive.bg})`,borderColor:`var(--button-inactive-bgColor, ${n==null?void 0:n.colors.btn.inactive.bg})`,color:`var(--button-inactive-fgColor, ${n==null?void 0:n.colors.btn.inactive.text})`},"&[data-inactive]:not([disabled]):focus-visible":{boxShadow:"none"},'[data-component="leadingVisual"]':{gridArea:"leadingVisual"},'[data-component="text"]':{gridArea:"text",lineHeight:"calc(20/14)",whiteSpace:"nowrap"},'[data-component="trailingVisual"]':{gridArea:"trailingVisual"},'[data-component="trailingAction"]':{marginRight:"-4px"},'[data-component="buttonContent"]':{flex:"1 0 auto",display:"grid",gridTemplateAreas:'"leadingVisual text trailingVisual"',gridTemplateColumns:"min-content minmax(0, auto) min-content",alignItems:"center",alignContent:"center"},'[data-component="buttonContent"] > :not(:last-child)':{mr:"8px"}}),Gge=(n="center")=>({justifyContent:n==="center"?"center":"flex-start"});function y8(n,e){De.useImperativeHandle(n,()=>e.current)}function NO(){return NO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},NO.apply(this,arguments)}const Zge=De.forwardRef(({children:n,as:e="button",sx:t=C8,...i},o)=>{const{leadingVisual:r,trailingVisual:s,trailingAction:a,count:l,icon:c,variant:d="default",size:u="medium",alignContent:h="center",block:g=!1,inactive:f,...p}=i,b=Ce.useRef(null);y8(o,b);const{theme:v}=b8(),_=De.useMemo(()=>wl.all([qge(v),jge(d,v)]),[v,d]),C=De.useMemo(()=>wl(_,t),[_,t]),y={display:"flex",pointerEvents:"none"};return Ce.createElement(Uge,NO({as:e,sx:C},p,{ref:b,"data-block":g?"block":null,"data-size":u==="small"||u==="large"?u:void 0,"data-no-visuals":!r&&!s&&!a?!0:void 0,"data-inactive":f?!0:void 0}),c?Ce.createElement(c,null):Ce.createElement(Ce.Fragment,null,Ce.createElement(qi,{as:"span","data-component":"buttonContent",sx:Gge(h)},r&&Ce.createElement(qi,{as:"span","data-component":"leadingVisual",sx:{...y}},Ce.createElement(r,null)),n&&Ce.createElement("span",{"data-component":"text"},n),l!==void 0&&!s?Ce.createElement(qi,{as:"span","data-component":"trailingVisual",sx:{...y}},Ce.createElement(PX,{"data-component":"ButtonCounter"},l)):s?Ce.createElement(qi,{as:"span","data-component":"trailingVisual",sx:{...y}},Ce.createElement(s,null)):null),a&&Ce.createElement(qi,{as:"span","data-component":"trailingAction",sx:{...y}},Ce.createElement(a,null))))});function RO(){return RO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},RO.apply(this,arguments)}const w8=De.forwardRef(({children:n,sx:e=C8,...t},i)=>{const{block:o,size:r,leadingVisual:s,trailingVisual:a,trailingAction:l}=t;let c=e;const d={};if(e!==null&&Object.keys(e).length>0){c=Yge({block:o,size:r,leadingVisual:s,trailingVisual:a,trailingAction:l},e);const{color:u}=e;u&&(d["--button-color"]=u)}return Ce.createElement(Zge,RO({ref:i,as:"button",sx:c,style:d,type:"button"},t),n)});function Yge(n,e){const t=n.size&&n.size!=="medium"?`[data-size="${n.size}"]`:"",i=n.block?'[data-block="block"]':"",o=n.leadingVisual||n.trailingVisual||n.trailingAction?"":"[data-no-visuals]",r=`&${t}${i}${o}`,s={};return e&&(s[r]=e),s}w8.displayName="Button";function MO(){return MO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},MO.apply(this,arguments)}const Xge=Ua({hoverColor:{property:"color",scale:"colors"}}),Qge=Ec.a.withConfig({displayName:"Link__StyledLink",componentId:"sc-14289xe-0"})(["color:",";text-decoration:none;text-decoration:",";[data-a11y-link-underlines='true'] &[data-inline='true']{text-decoration:underline;}&:hover{text-decoration:",";",";}&:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;user-select:none;background-color:transparent;border:0;appearance:none;}",";"],n=>n.muted?Dr("colors.fg.muted")(n):Dr("colors.accent.fg")(n),n=>n.underline?"underline":void 0,n=>n.muted?"none":"underline",n=>n.hoverColor?Xge:n.muted?`color: ${Dr("colors.accent.fg")(n)}`:"",Ch),S8=De.forwardRef(({as:n="a",...e},t)=>{const i=Ce.useRef(null);return y8(t,i),Ce.createElement(Qge,MO({as:n,"data-inline":e.inline},e,{ref:i}))});S8.displayName="Link";const jc=Ec.div.withConfig({displayName:"Blankslate__StyledBlankslate",componentId:"sc-4802l5-0"})(["container-type:inline-size;.Blankslate{--blankslate-outer-padding-block:var(--base-size-32);--blankslate-outer-padding-inline:var(--base-size-32);display:grid;justify-items:center;padding:var(--blankslate-outer-padding-block) var(--blankslate-outer-padding-inline);}.Blankslate[data-spacious='true']{--blankslate-outer-padding-block:var(--base-size-80);--blankslate-outer-padding-inline:var(--base-size-40);}.Blankslate[data-border='true']{border:var(--borderWidth-thin) solid var(--borderColor-default,",");border-radius:var(--borderRadius-medium);}.Blankslate[data-narrow='true']{margin:0 auto;max-width:485px;}.Blankslate-Heading,.Blankslate-Description{margin:0;margin-bottom:var(--stack-gap-condensed);}.Blankslate-Heading{font-size:var(--text-title-size-medium);font-weight:var(--text-title-weight-medium);}.Blankslate-Description{color:var(--fgColor-muted,",");font-size:var(--text-body-size-large);}.Blankslate-Action{margin-top:var(--stack-gap-normal);}.Blankslate-Action:first-of-type{margin-top:var(--stack-gap-spacious);}.Blankslate-Action:last-of-type{margin-bottom:var(--stack-gap-condensed);}"],Dr("colors.border.default"),Dr("colors.fg.muted")),Jge=`
  /* At the time these styles were written,
  34rem was our "small" breakpoint width */
  @container (max-width: 34rem) {
    ${jc} .Blankslate {
    --blankslate-outer-padding-block: var(--base-size-20);
    --blankslate-outer-padding-inline: var(--base-size-20);
  }

  ${jc} .Blankslate[data-spacious='true'] {
    --blankslate-outer-padding-block: var(--base-size-44);
    --blankslate-outer-padding-inline: var(--base-size-28);
  }

  ${jc} .Blankslate-Visual {
    margin-bottom: var(--stack-gap-condensed);
    max-width: var(--base-size-24);
  }

  ${jc} .Blankslate-Visual svg {
    width: 100%;
  }

  ${jc} .Blankslate-Heading {
    font-size: var(--text-title-size-small);
  }

  ${jc} .Blankslate-Description {
    font-size: var(--text-body-size-medium);
  }

  ${jc} .Blankslate-Action {
    margin-top: var(--stack-gap-condensed);
  }

  ${jc} .Blankslate-Action:first-of-type {
    margin-top: var(--stack-gap-normal);
  }

  ${jc} .Blankslate-Action:last-of-type {
    margin-bottom: calc(var(--stack-gap-condensed) / 2);
  }
`;function efe({border:n,children:e,narrow:t,spacious:i}){return Ce.createElement(Ce.Fragment,null,Ce.createElement("style",{type:"text/css"},Jge),Ce.createElement(jc,null,Ce.createElement("div",{className:"Blankslate","data-border":n,"data-narrow":t,"data-spacious":i},e)))}function OX({children:n}){return Ce.createElement("span",{className:"Blankslate-Visual"},n)}OX.displayName="Visual";function FX({as:n="h2",children:e}){return Ce.createElement(qi,{as:n,className:"Blankslate-Heading"},e)}FX.displayName="Heading";function BX({children:n}){return Ce.createElement("p",{className:"Blankslate-Description"},n)}BX.displayName="Description";function WX({children:n,href:e}){return Ce.createElement("div",{className:"Blankslate-Action"},Ce.createElement(w8,{as:"a",href:e,variant:"primary"},n))}WX.displayName="PrimaryAction";function VX({children:n,href:e}){return Ce.createElement("div",{className:"Blankslate-Action"},Ce.createElement(S8,{href:e},n))}VX.displayName="SecondaryAction";var Eu=Object.assign(efe,{Visual:OX,Heading:FX,Description:BX,PrimaryAction:WX,SecondaryAction:VX}),tfe={small:16,medium:32,large:64};function TT(n,e,t){var i=t(),o=Object.keys(i),r=Ce.forwardRef(function(s,a){var l=s["aria-label"],c=s["aria-labelledby"],d=s.tabIndex,u=s.className,h=u===void 0?e:u,g=s.fill,f=g===void 0?"currentColor":g,p=s.size,b=p===void 0?16:p,v=s.verticalAlign,_=v===void 0?"text-bottom":v,C=s.id,y=s.title,w=tfe[b]||b,S=ife(o,w),x=i[S].width,L=w*(x/S),E=i[S].path,O=l||c,P=O?"img":void 0;return Ce.createElement("svg",{ref:a,"aria-hidden":O?void 0:"true",tabIndex:d,focusable:d>=0?"true":"false","aria-label":l,"aria-labelledby":c,className:h,role:P,viewBox:"0 0 ".concat(x," ").concat(S),width:L,height:w,fill:f,id:C,style:{display:"inline-block",userSelect:"none",verticalAlign:_,overflow:"visible"}},y?Ce.createElement("title",null,y):null,E)});return r.displayName=n,r}function ife(n,e){return n.map(function(t){return parseInt(t,10)}).reduce(function(t,i){return i<=e?i:t},n[0])}var nfe=TT("ArrowLeftIcon","octicon octicon-arrow-left",function(){return{16:{width:16,path:Ce.createElement("path",{d:"M7.78 12.53a.75.75 0 0 1-1.06 0L2.47 8.28a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L4.81 7h7.44a.75.75 0 0 1 0 1.5H4.81l2.97 2.97a.75.75 0 0 1 0 1.06Z"})},24:{width:24,path:Ce.createElement("path",{d:"M10.78 19.03a.75.75 0 0 1-1.06 0l-6.25-6.25a.75.75 0 0 1 0-1.06l6.25-6.25a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L5.81 11.5h14.44a.75.75 0 0 1 0 1.5H5.81l4.97 4.97a.75.75 0 0 1 0 1.06Z"})}}}),ofe=TT("CircleSlashIcon","octicon octicon-circle-slash",function(){return{16:{width:16,path:Ce.createElement("path",{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM3.965 13.096a6.5 6.5 0 0 0 9.131-9.131ZM1.5 8a6.474 6.474 0 0 0 1.404 4.035l9.131-9.131A6.499 6.499 0 0 0 1.5 8Z"})},24:{width:24,path:Ce.createElement("path",{d:"M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1ZM5.834 19.227A9.464 9.464 0 0 0 12 21.5a9.5 9.5 0 0 0 9.5-9.5 9.464 9.464 0 0 0-2.273-6.166ZM2.5 12a9.464 9.464 0 0 0 2.273 6.166L18.166 4.773A9.463 9.463 0 0 0 12 2.5 9.5 9.5 0 0 0 2.5 12Z"})}}}),rfe=TT("MarkGithubIcon","octicon octicon-mark-github",function(){return{16:{width:16,path:Ce.createElement("path",{d:"M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"})}}}),sfe=TT("TriangleRightIcon","octicon octicon-triangle-right",function(){return{16:{width:16,path:Ce.createElement("path",{d:"m6.427 4.427 3.396 3.396a.25.25 0 0 1 0 .354l-3.396 3.396A.25.25 0 0 1 6 11.396V4.604a.25.25 0 0 1 .427-.177Z"})},24:{width:24,path:Ce.createElement("path",{d:"m15.146 12.354-5.792 5.792a.5.5 0 0 1-.854-.353V6.207a.5.5 0 0 1 .854-.353l5.792 5.792a.5.5 0 0 1 0 .708Z"})}}});const x8=Ec.span.withConfig({displayName:"Text",componentId:"sc-17v1xeu-0"})(["",";",";",";"],AX,MX,Ch);function afe(n){const[e,t]=De.useState(!1);return De.useEffect(()=>{if(n.current===null)return;const i=new ResizeObserver(o=>{for(const r of o)t(r.target.scrollHeight>r.target.clientHeight||r.target.scrollWidth>r.target.clientWidth)});return i.observe(n.current),()=>{i.disconnect()}},[n]),e}function lfe(n){const e=De.useId();return n||e}const cfe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?De.useLayoutEffect:De.useEffect;(function(n,e){(function(t,i){i()})(R1,function(){function t(o){var r=!0,s=!1,a=null,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(w){return!!(w&&w!==document&&w.nodeName!=="HTML"&&w.nodeName!=="BODY"&&"classList"in w&&"contains"in w.classList)}function d(w){var S=w.type,x=w.tagName;return!!(x==="INPUT"&&l[S]&&!w.readOnly||x==="TEXTAREA"&&!w.readOnly||w.isContentEditable)}function u(w){w.classList.contains("focus-visible")||(w.classList.add("focus-visible"),w.setAttribute("data-focus-visible-added",""))}function h(w){w.hasAttribute("data-focus-visible-added")&&(w.classList.remove("focus-visible"),w.removeAttribute("data-focus-visible-added"))}function g(w){w.metaKey||w.altKey||w.ctrlKey||(c(o.activeElement)&&u(o.activeElement),r=!0)}function f(w){r=!1}function p(w){c(w.target)&&(r||d(w.target))&&u(w.target)}function b(w){c(w.target)&&(w.target.classList.contains("focus-visible")||w.target.hasAttribute("data-focus-visible-added"))&&(s=!0,window.clearTimeout(a),a=window.setTimeout(function(){s=!1},100),h(w.target))}function v(w){document.visibilityState==="hidden"&&(s&&(r=!0),_())}function _(){document.addEventListener("mousemove",y),document.addEventListener("mousedown",y),document.addEventListener("mouseup",y),document.addEventListener("pointermove",y),document.addEventListener("pointerdown",y),document.addEventListener("pointerup",y),document.addEventListener("touchmove",y),document.addEventListener("touchstart",y),document.addEventListener("touchend",y)}function C(){document.removeEventListener("mousemove",y),document.removeEventListener("mousedown",y),document.removeEventListener("mouseup",y),document.removeEventListener("pointermove",y),document.removeEventListener("pointerdown",y),document.removeEventListener("pointerup",y),document.removeEventListener("touchmove",y),document.removeEventListener("touchstart",y),document.removeEventListener("touchend",y)}function y(w){w.target.nodeName&&w.target.nodeName.toLowerCase()==="html"||(r=!1,C())}document.addEventListener("keydown",g,!0),document.addEventListener("mousedown",f,!0),document.addEventListener("pointerdown",f,!0),document.addEventListener("touchstart",f,!0),document.addEventListener("visibilitychange",v,!0),_(),o.addEventListener("focus",p,!0),o.addEventListener("blur",b,!0),o.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&o.host?o.host.setAttribute("data-js-focus-visible",""):o.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if(typeof window<"u"&&typeof document<"u"){window.applyFocusVisiblePolyfill=t;var i;try{i=new CustomEvent("focus-visible-polyfill-ready")}catch{i=document.createEvent("CustomEvent"),i.initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(i)}typeof document<"u"&&t(document)})})();function AO(){return AO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},AO.apply(this,arguments)}const dfe=yX(["*{box-sizing:border-box;}body{margin:0;}table{border-collapse:collapse;}input{color-scheme:",';}[role="button"]:focus:not(:focus-visible):not(.focus-visible),[role="tabpanel"][tabindex="0"]:focus:not(:focus-visible):not(.focus-visible),button:focus:not(:focus-visible):not(.focus-visible),summary:focus:not(:focus-visible):not(.focus-visible),a:focus:not(:focus-visible):not(.focus-visible){outline:none;box-shadow:none;}[tabindex="0"]:focus:not(:focus-visible):not(.focus-visible),details-dialog:focus:not(:focus-visible):not(.focus-visible){outline:none;}'],n=>n.colorScheme),ufe=Ec.div.withConfig({displayName:"BaseStyles__Base",componentId:"sc-nfjs56-0"})(["",";",";"],AX,MX);function HX(n){const{children:e,color:t="fg.default",fontFamily:i="normal",lineHeight:o="default",...r}=n,{colorScheme:s,dayScheme:a,nightScheme:l}=b8();return Ce.createElement(ufe,AO({},r,{color:t,fontFamily:i,lineHeight:o,"data-portal-root":!0,"data-color-mode":s!=null&&s.includes("dark")?"dark":"light","data-light-theme":a,"data-dark-theme":l}),Ce.createElement(dfe,{colorScheme:s!=null&&s.includes("dark")?"dark":"light"}),e)}HX.displayName="BaseStyles";const IT=!!(typeof window<"u"&&window.document&&window.document.createElement);function PR(n,e){const t=De.useContext(hfe),[i,o]=Ce.useState(()=>t[n]!==void 0?t[n]:e!==void 0?e:IT?window.matchMedia(n).matches:!1);return De.useEffect(()=>{t[n]!==void 0&&o(t[n])},[t,n]),De.useEffect(()=>{if(t[n]!==void 0)return;function r(a){o(a.matches)}const s=window.matchMedia(n);return s.addEventListener?s.addEventListener("change",r):s.addListener(r),o(s.matches),()=>{s.addEventListener?s.removeEventListener("change",r):s.removeListener(r)}},[t,n]),i}const hfe=De.createContext({}),OR={narrow:"(max-width: calc(768px - 0.02px))",regular:"(min-width: 768px)",wide:"(min-width: 1400px)"};function wy(n){return typeof n=="object"&&Object.keys(n).some(e=>["narrow","regular","wide"].includes(e))}function wd(n,e){const t=PR(OR.narrow,!1),i=PR(OR.regular,!1),o=PR(OR.wide,!1);if(wy(n)){const r=n;return t&&"narrow"in r?r.narrow:o&&"wide"in r?r.wide:i&&"regular"in r?r.regular:e}else return n}function gfe(n,e){const t=ffe(e,()=>{}),i=[],o=Object.keys(e),r=Object.values(e);return Ce.Children.forEach(n,s=>{if(!Ce.isValidElement(s)){i.push(s);return}const a=r.findIndex(c=>{if(Array.isArray(c)){const[d,u]=c;return s.type===d&&u(s.props)}else return s.type===c});if(a===-1){i.push(s);return}const l=o[a];t[l]||(t[l]=s)}),[t,i]}function ffe(n,e){return Object.keys(n).reduce((t,i)=>(t[i]=e(n[i]),t),{})}var PO=new Map,Tx=new WeakMap,ZH=0,pfe=void 0;function mfe(n){return n?(Tx.has(n)||(ZH+=1,Tx.set(n,ZH.toString())),Tx.get(n)):"0"}function vfe(n){return Object.keys(n).sort().filter(e=>n[e]!==void 0).map(e=>`${e}_${e==="root"?mfe(n.root):n[e]}`).toString()}function bfe(n){const e=vfe(n);let t=PO.get(e);if(!t){const i=new Map;let o;const r=new IntersectionObserver(s=>{s.forEach(a=>{var l;const c=a.isIntersecting&&o.some(d=>a.intersectionRatio>=d);n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=i.get(a.target))==null||l.forEach(d=>{d(c,a)})})},n);o=r.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:r,elements:i},PO.set(e,t)}return t}function _fe(n,e,t={},i=pfe){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const l=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:o,observer:r,elements:s}=bfe(t),a=s.get(n)||[];return s.has(n)||s.set(n,a),a.push(e),r.observe(n),function(){a.splice(a.indexOf(e),1),a.length===0&&(s.delete(n),r.unobserve(n)),s.size===0&&(r.disconnect(),PO.delete(o))}}function YH({threshold:n,delay:e,trackVisibility:t,rootMargin:i,root:o,triggerOnce:r,skip:s,initialInView:a,fallbackInView:l,onChange:c}={}){var d;const[u,h]=De.useState(null),g=De.useRef(),[f,p]=De.useState({inView:!!a,entry:void 0});g.current=c,De.useEffect(()=>{if(s||!u)return;let C;return C=_fe(u,(y,w)=>{p({inView:y,entry:w}),g.current&&g.current(y,w),w.isIntersecting&&r&&C&&(C(),C=void 0)},{root:o,rootMargin:i,threshold:n,trackVisibility:t,delay:e},l),()=>{C&&C()}},[Array.isArray(n)?n.toString():n,u,o,i,r,s,t,l,e]);const b=(d=f.entry)==null?void 0:d.target,v=De.useRef();!u&&b&&!r&&!s&&v.current!==b&&(v.current=b,p({inView:!!a,entry:void 0}));const _=[h,f.inView,f.entry];return _.ref=_[0],_.inView=_[1],_.entry=_[2],_}function OO(n){return!n||n===document.body?null:Cfe(n)?n:OO(n.parentElement)}function Cfe(n){return n.scrollHeight>n.clientHeight&&window.getComputedStyle(n).overflowY.indexOf("hidden")===-1}function yfe(){const n=Ce.useRef(null),[e,t]=Ce.useState(XH(100)),[i,o]=Ce.useState(0),[r,s,a]=YH(),[l,c]=YH(),d=Ce.useCallback(()=>{let p="";const b=OO(n.current),v=a==null?void 0:a.target.getBoundingClientRect(),_=typeof i=="number"?`${i}px`:i;if(b){const C=b.getBoundingClientRect(),y=v?Math.max(v.top-C.top,0):0;p=`calc(${C.height}px - (max(${y}px, ${_})))`}else{const C=v?Math.max(v.top,0):0;p=`calc(${XH(100)} - (max(${C}px, ${_})))`}t(p)},[a,i]),[u,h]=Ce.useState(!1);cfe(()=>{const p=OO(n.current);return u&&(s||c)&&(d(),p?p.addEventListener("scroll",d):window.addEventListener("scroll",d),window.addEventListener("resize",d)),()=>{p?p.removeEventListener("scroll",d):window.removeEventListener("scroll",d),window.removeEventListener("resize",d)}},[u,s,c,d]);function g(p){h(!0),o(p)}function f(){h(!1)}return{rootRef:n,enableStickyPane:g,disableStickyPane:f,contentTopRef:r,contentBottomRef:l,stickyPaneHeight:e}}const wfe=IT?CSS.supports("-webkit-touch-callout","none"):!1,Sfe=IT?CSS.supports("max-height","100dvh")&&wfe:!1;function XH(n){return Sfe?`${n}dvh`:`${n}vh`}function FO(){return FO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},FO.apply(this,arguments)}const FD={header:0,paneStart:1,content:2,paneEnd:3,footer:4},Qr={none:0,condensed:3,normal:[3,null,null,4]},$m=Ce.createContext({padding:"normal",rowGap:"normal",columnGap:"normal",paneRef:{current:null}}),xfe={full:"100%",medium:"768px",large:"1012px",xlarge:"1280px"},k8=({containerWidth:n="xlarge",padding:e="normal",rowGap:t="normal",columnGap:i="normal",children:o,sx:r={},_slotsConfig:s})=>{const{rootRef:a,enableStickyPane:l,disableStickyPane:c,contentTopRef:d,contentBottomRef:u,stickyPaneHeight:h}=yfe(),g=De.useRef(null),[f,p]=gfe(o,s??{header:RT,footer:MT});return Ce.createElement($m.Provider,{value:{padding:e,rowGap:t,columnGap:i,enableStickyPane:l,disableStickyPane:c,contentTopRef:d,contentBottomRef:u,paneRef:g}},Ce.createElement(qi,{ref:a,style:{"--sticky-pane-height":h},sx:wl({padding:Qr[e]},r)},Ce.createElement(qi,{sx:{maxWidth:xfe[n],marginX:"auto",display:"flex",flexWrap:"wrap"}},f.header,Ce.createElement(qi,{sx:{display:"flex",flex:"1 1 100%",flexWrap:"wrap",maxWidth:"100%"}},p),f.footer)))};k8.displayName="Root";k8.displayName="PageLayout";const kfe={none:{display:"none"},line:{display:"block",height:1,backgroundColor:"border.default"},filled:{display:"block",height:8,backgroundColor:"canvas.inset",boxShadow:n=>`inset 0 -1px 0 0 ${n.colors.border.default}, inset 0 1px 0 0 ${n.colors.border.default}`}};function Lfe(n){return Array.isArray(n)?n.map(e=>e===null?null:-e):n===null?null:-n}const NT=({variant:n="none",sx:e={}})=>{const{padding:t}=Ce.useContext($m),i=wd(n,"none");return Ce.createElement(qi,{sx:o=>wl({marginX:Lfe(Qr[t]),...kfe[i],[`@media screen and (min-width: ${o.breakpoints[1]})`]:{marginX:"0 !important"}},e)})};NT.displayName="HorizontalDivider";const Dfe={none:{display:"none"},line:{display:"block",width:1,backgroundColor:"border.default"},filled:{display:"block",width:8,backgroundColor:"canvas.inset",boxShadow:n=>`inset -1px 0 0 0 ${n.colors.border.default}, inset 1px 0 0 0 ${n.colors.border.default}`}},Efe=yX(['body[data-page-layout-dragging="true"]{cursor:col-resize;}body[data-page-layout-dragging="true"] *{user-select:none;}']),zX=({variant:n="none",draggable:e=!1,onDragStart:t,onDrag:i,onDragEnd:o,onDoubleClick:r,sx:s={}})=>{const[a,l]=Ce.useState(!1),[c,d]=Ce.useState(!1),u=wd(n,"none"),h=Ce.useRef(i),g=Ce.useRef(o),{paneRef:f}=Ce.useContext($m),[p,b]=Ce.useState(0),[v,_]=Ce.useState(0),[C,y]=Ce.useState(0);return Ce.useEffect(()=>{if(f.current!==null){const w=getComputedStyle(f.current),S=w.getPropertyValue("--pane-max-width-diff"),x=w.getPropertyValue("--pane-min-width"),L=f.current.getBoundingClientRect().width,E=Number(S.split("px")[0]),O=Number(x.split("px")[0]),P=window.innerWidth,A=P>E?P-E:P;b(O),_(A),y(L||0)}},[f,c,a]),Ce.useEffect(()=>{h.current=i},[i]),Ce.useEffect(()=>{g.current=o},[o]),Ce.useEffect(()=>{function w(E){var O;(O=h.current)===null||O===void 0||O.call(h,E.movementX,!1),E.preventDefault()}function S(E){var O;l(!1),(O=g.current)===null||O===void 0||O.call(g),E.preventDefault()}function x(E){var O;let P=0;if((E.key==="ArrowLeft"||E.key==="ArrowDown")&&C>p)P=-3;else if((E.key==="ArrowRight"||E.key==="ArrowUp")&&C<v)P=3;else return;y(C+P),(O=h.current)===null||O===void 0||O.call(h,P,!0),E.preventDefault()}function L(E){var O;d(!1),(O=g.current)===null||O===void 0||O.call(g),E.preventDefault()}return a||c?(window.addEventListener("mousemove",w),window.addEventListener("keydown",x),window.addEventListener("mouseup",S),window.addEventListener("keyup",L),document.body.setAttribute("data-page-layout-dragging","true")):(window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",S),window.removeEventListener("keydown",x),window.removeEventListener("keyup",L),document.body.removeAttribute("data-page-layout-dragging")),()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",S),window.removeEventListener("keydown",x),window.removeEventListener("keyup",L),document.body.removeAttribute("data-page-layout-dragging")}},[a,c,C,p,v]),Ce.createElement(qi,{sx:wl({height:"100%",position:"relative",...Dfe[u]},s)},e?Ce.createElement(Ce.Fragment,null,Ce.createElement(qi,{sx:{position:"absolute",inset:"0 -2px",cursor:"col-resize",bg:a||c?"accent.fg":"transparent",transitionDelay:"0.1s","&:hover":{bg:a||c?"accent.fg":"neutral.muted"}},role:"slider","aria-label":"Draggable pane splitter","aria-valuemin":p,"aria-valuemax":v,"aria-valuenow":C,"aria-valuetext":`Pane width ${C} pixels`,tabIndex:0,onMouseDown:w=>{w.button===0&&(l(!0),t==null||t())},onKeyDown:w=>{(w.key==="ArrowLeft"||w.key==="ArrowRight"||w.key==="ArrowUp"||w.key==="ArrowDown")&&(d(!0),t==null||t())},onDoubleClick:r}),Ce.createElement(Efe,null)):null)};zX.displayName="VerticalDivider";const RT=({"aria-label":n,"aria-labelledby":e,padding:t="none",divider:i="none",dividerWhenNarrow:o="inherit",hidden:r=!1,children:s,sx:a={}})=>{const l=!wy(i)&&o!=="inherit"?{regular:i,narrow:o}:i,c=wd(l,"none"),d=wd(r,!1),{rowGap:u}=Ce.useContext($m);return Ce.createElement(qi,{as:"header","aria-label":n,"aria-labelledby":e,hidden:d,sx:wl({width:"100%",marginBottom:Qr[u]},a)},Ce.createElement(qi,{sx:{padding:Qr[t]}},s),Ce.createElement(NT,{variant:c,sx:{marginTop:Qr[u]}}))};RT.displayName="Header";RT.displayName="PageLayout.Header";const Tfe={full:"100%",medium:"768px",large:"1012px",xlarge:"1280px"},L8=({as:n="main","aria-label":e,"aria-labelledby":t,width:i="full",padding:o="none",hidden:r=!1,children:s,sx:a={}})=>{const l=wd(r,!1),{contentTopRef:c,contentBottomRef:d}=Ce.useContext($m);return Ce.createElement(qi,{as:n,"aria-label":e,"aria-labelledby":t,sx:wl({display:l?"none":"flex",flexDirection:"column",order:FD.content,flexBasis:0,flexGrow:1,flexShrink:1,minWidth:1},a)},Ce.createElement(qi,{ref:c}),Ce.createElement(qi,{sx:{width:"100%",maxWidth:Tfe[i],marginX:"auto",flexGrow:1,padding:Qr[o]}},s),Ce.createElement(qi,{ref:d}))};L8.displayName="Content";L8.displayName="PageLayout.Content";const FR=n=>n.default!==void 0,QH=n=>["small","medium","large"].includes(n),Ife={start:FD.paneStart,end:FD.paneEnd},Nfe={small:["100%",null,"240px","256px"],medium:["100%",null,"256px","296px"],large:["100%",null,"256px","320px","336px"]},Rfe={small:256,medium:296,large:320},UX=Ce.forwardRef(({"aria-label":n,"aria-labelledby":e,position:t="end",positionWhenNarrow:i="inherit",width:o="medium",minWidth:r=256,padding:s="none",resizable:a=!1,widthStorageKey:l="paneWidth",divider:c="none",dividerWhenNarrow:d="inherit",sticky:u=!1,offsetHeader:h=0,hidden:g=!1,children:f,id:p,sx:b={}},v)=>{const _=!wy(t)&&i!=="inherit"?{regular:t,narrow:i}:t,C=wd(_,"end"),y=!wy(c)&&d!=="inherit"?{regular:c,narrow:d}:c,w=wd(y,"none"),S=wd(g,!1),{rowGap:x,columnGap:L,enableStickyPane:E,disableStickyPane:O,paneRef:P}=Ce.useContext($m);Ce.useEffect(()=>{u?E==null||E(h):O==null||O()},[u,E,O,h]);const A=Q=>QH(Q)?Rfe[Q]:FR(Q)?Number(Q.default.split("px")[0]):0,[F,K]=Ce.useState(()=>{if(!IT)return A(o);let Q;try{Q=localStorage.getItem(l)}catch{Q=null}return Q&&!isNaN(Number(Q))?Number(Q):A(o)}),te=Q=>{K(Q);try{localStorage.setItem(l,Q.toString())}catch{}};y8(v,P);const ye=afe(P),be=lfe(p),ae={};return ye&&(e?ae["aria-labelledby"]=e:n&&(ae["aria-label"]=n)),Ce.createElement(qi,{sx:Q=>wl({display:S?"none":"flex",order:Ife[C],width:"100%",marginX:0,...C==="end"?{flexDirection:"column",marginTop:Qr[x]}:{flexDirection:"column-reverse",marginBottom:Qr[x]},[`@media screen and (min-width: ${Q.breakpoints[1]})`]:{width:"auto",marginY:"0 !important",...u?{position:"sticky",top:typeof h=="number"?`${h}px`:h,maxHeight:"var(--sticky-pane-height)"}:{},...C==="end"?{flexDirection:"row-reverse",marginLeft:Qr[L]}:{flexDirection:"row",marginRight:Qr[L]}}},b)},Ce.createElement(NT,{variant:{narrow:w,regular:"none"},sx:{[C==="end"?"marginBottom":"marginTop"]:Qr[x]}}),Ce.createElement(qi,FO({ref:P,style:{"--pane-width":`${F}px`},sx:Q=>({"--pane-min-width":FR(o)?o.min:`${r}px`,"--pane-max-width-diff":"511px","--pane-max-width":FR(o)?o.max:"calc(100vw - var(--pane-max-width-diff))",width:a?["100%",null,"clamp(var(--pane-min-width), var(--pane-width), var(--pane-max-width))"]:QH(o)?Nfe[o]:o.default,padding:Qr[s],overflow:[null,null,"auto"],[`@media screen and (min-width: ${Q.breakpoints[3]})`]:{"--pane-max-width-diff":"959px"}})},ye&&{tabIndex:0,role:"region"},ae,p&&{id:be}),f),Ce.createElement(zX,{variant:{narrow:"none",regular:a?"line":w},draggable:a,sx:{[C==="end"?"marginRight":"marginLeft"]:Qr[L]},onDrag:(Q,_e=!1)=>{let Ie;_e?Ie=Q:Ie=C==="end"?-Q:Q,te(F+Ie)},onDragEnd:()=>{var Q;const _e=(Q=P.current)===null||Q===void 0?void 0:Q.getBoundingClientRect();_e&&te(_e.width)},onDoubleClick:()=>te(A(o))}))});UX.displayName="PageLayout.Pane";const MT=({"aria-label":n,"aria-labelledby":e,padding:t="none",divider:i="none",dividerWhenNarrow:o="inherit",hidden:r=!1,children:s,sx:a={}})=>{const l=!wy(i)&&o!=="inherit"?{regular:i,narrow:o}:i,c=wd(l,"none"),d=wd(r,!1),{rowGap:u}=Ce.useContext($m);return Ce.createElement(qi,{as:"footer","aria-label":n,"aria-labelledby":e,hidden:d,sx:wl({order:FD.footer,width:"100%",marginTop:Qr[u]},a)},Ce.createElement(NT,{variant:c,sx:{marginBottom:Qr[u]}}),Ce.createElement(qi,{sx:{padding:Qr[t]}},s))};MT.displayName="Footer";MT.displayName="PageLayout.Footer";const BR=Object.assign(k8,{Header:RT,Content:L8,Pane:UX,Footer:MT}),Mfe=Ec.header.withConfig({displayName:"Header",componentId:"sc-1wu4agm-0"})(["z-index:32;display:flex;padding:",";font-size:",";line-height:",";color:",";background-color:",";align-items:center;flex-wrap:nowrap;",";"],Dr("space.3"),Dr("fontSizes.1"),Dr("lineHeights.default"),Dr("colors.header.text"),Dr("colors.header.bg"),Ch),$X=Ec.div.withConfig({displayName:"Header__HeaderItem",componentId:"sc-1wu4agm-1"})(["display:flex;margin-right:",";align-self:stretch;align-items:center;flex-wrap:nowrap;",";",";"],Dr("space.3"),({full:n})=>n&&gS(["flex:auto;"]),Ch);$X.displayName="Header.Item";const jX=Ec.a.attrs(({to:n})=>typeof n=="string"?{"aria-current":"page"}:{}).withConfig({displayName:"Header__HeaderLink",componentId:"sc-1wu4agm-2"})(["font-weight:",";color:",";white-space:nowrap;cursor:pointer;text-decoration:none;display:flex;align-items:center;&:hover,&:focus{color:",";}",";"],Dr("fontWeights.bold"),Dr("colors.header.logo"),Dr("colors.header.text"),Ch);jX.displayName="Header.Link";var JH=Object.assign(Mfe,{Link:jX,Item:$X});function BO(){return BO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},BO.apply(this,arguments)}const Afe={default:{borderColor:"border.default"},primary:{borderColor:"fg.default"},secondary:{borderColor:"border.muted",color:"fg.muted"},accent:{borderColor:"accent.emphasis",color:"accent.fg"},success:{borderColor:"success.emphasis",color:"success.fg"},attention:{borderColor:"attention.emphasis",color:"attention.fg"},severe:{borderColor:"severe.emphasis",color:"severe.fg"},danger:{borderColor:"danger.emphasis",color:"danger.fg"},done:{borderColor:"done.emphasis",color:"done.fg"},sponsors:{borderColor:"sponsors.emphasis",color:"sponsors.fg"}},Pfe={small:{height:"20px",padding:"0 7px"},large:{height:"24px",padding:"0 10px"}},Ofe=Ec.span.withConfig({displayName:"Label__StyledLabel",componentId:"sc-1dgcne-0"})(["align-items:center;background-color:transparent;border-width:1px;border-radius:999px;border-style:solid;display:inline-flex;font-weight:",";font-size:",";line-height:1;white-space:nowrap;",";",";",";"],Dr("fontWeights.bold"),Dr("fontSizes.0"),__({variants:Afe}),__({prop:"size",variants:Pfe}),Ch),Ffe=Ce.forwardRef(function({as:e,size:t="small",variant:i="default",...o},r){return Ce.createElement(Ofe,BO({as:e,size:t,variant:i,ref:r},o))}),WO=({children:n})=>mt.jsxs(Eu,{children:[mt.jsx(Eu.Visual,{children:mt.jsx(ofe,{size:"large"})}),n,mt.jsxs(Eu.PrimaryAction,{href:"/",children:[mt.jsx(nfe,{}),"Back Home"]})]}),KX=()=>mt.jsxs(WO,{children:[mt.jsx(Eu.Heading,{children:"   Page Not Found"}),mt.jsx(Eu.Description,{children:"The page you are looking for doesn't exist or you may not have access to it."})]}),qX=({error:n})=>{if("status"in n&&n.status===404)return mt.jsx(KX,{});if("code"in n){const e=n;return mt.jsxs(WO,{children:[mt.jsx(Eu.Heading,{children:e.code}),mt.jsx(Eu.Description,{children:e.toString()})]})}return mt.jsxs(WO,{children:[mt.jsx(Eu.Heading,{children:"Something went wrong"}),mt.jsx(Eu.Description,{children:n.message})]})},Bfe=n=>mt.jsx(qle,{FallbackComponent:qX,children:n.children});function Wfe(){const n=iX();return mt.jsx(qX,{error:n})}const Vfe=({width:n})=>mt.jsxs("svg",{viewBox:"0 0 500 500",width:n,xmlns:"http://www.w3.org/2000/svg",children:[mt.jsx("path",{d:"M 164.206 249.793 m -41.943 0 a 41.943 41.943 0 1 0 83.886 0 a 41.943 41.943 0 1 0 -83.886 0 Z M 164.206 249.793 m -25.166 0 a 25.166 25.166 0 0 1 50.332 0 a 25.166 25.166 0 0 1 -50.332 0 Z",transform:"matrix(0.256234, 0.966615, -0.966615, 0.256234, 251.871063, 171.960861)"}),mt.jsx("path",{d:"M 199.118 227.664 m -101.386 0 a 101.386 101.386 0 1 0 202.772 0 a 101.386 101.386 0 1 0 -202.772 0 Z M 199.118 227.664 m -60.831 0 a 60.831 60.831 0 0 1 121.662 0 a 60.831 60.831 0 0 1 -121.662 0 Z",transform:"matrix(0.93649, 0.350695, -0.350695, 0.93649, 41.237434, 51.200127)"}),mt.jsx("path",{d:"M 238.421 182.465 m -97.458 0 a 97.458 97.458 0 1 0 194.916 0 a 97.458 97.458 0 1 0 -194.916 0 Z M 238.421 182.465 m -58.473 0 a 58.473 58.473 0 0 1 116.946 0 a 58.473 58.473 0 0 1 -116.946 0 Z",transform:"matrix(0.773604, 0.63367, -0.63367, 0.773604, 186.419464, -81.479683)"}),mt.jsx("path",{d:"M 272.964 199.031 m -100.381 0 a 100.381 100.381 0 1 0 200.762 0 a 100.381 100.381 0 1 0 -200.762 0 Z M 272.964 199.031 m -60.23 0 a 60.23 60.23 0 0 1 120.46 0 a 60.23 60.23 0 0 1 -120.46 0 Z",transform:"matrix(-0.993579, 0.113144, -0.113144, -0.993579, 643.336365, 422.878845)"})]});function va(n,e=0){return n[n.length-(1+e)]}function Hfe(n){if(n.length===0)throw new Error("Invalid tail call");return[n.slice(0,n.length-1),n[n.length-1]]}function en(n,e,t=(i,o)=>i===o){if(n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(let i=0,o=n.length;i<o;i++)if(!t(n[i],e[i]))return!1;return!0}function zfe(n,e){const t=n.length-1;e<t&&(n[e]=n[t]),n.pop()}function Sy(n,e,t){return Ufe(n.length,i=>t(n[i],e))}function Ufe(n,e){let t=0,i=n-1;for(;t<=i;){const o=(t+i)/2|0,r=e(o);if(r<0)t=o+1;else if(r>0)i=o-1;else return o}return-(t+1)}function VO(n,e,t){if(n=n|0,n>=e.length)throw new TypeError("invalid index");const i=e[Math.floor(e.length*Math.random())],o=[],r=[],s=[];for(const a of e){const l=t(a,i);l<0?o.push(a):l>0?r.push(a):s.push(a)}return n<o.length?VO(n,o,t):n<o.length+s.length?s[0]:VO(n-(o.length+s.length),r,t)}function ez(n,e){const t=[];let i;for(const o of n.slice(0).sort(e))!i||e(i[0],o)!==0?(i=[o],t.push(i)):i.push(o);return t}function*D8(n,e){let t,i;for(const o of n)i!==void 0&&e(i,o)?t.push(o):(t&&(yield t),t=[o]),i=o;t&&(yield t)}function GX(n,e){for(let t=0;t<=n.length;t++)e(t===0?void 0:n[t-1],t===n.length?void 0:n[t])}function $fe(n,e){for(let t=0;t<n.length;t++)e(t===0?void 0:n[t-1],n[t],t+1===n.length?void 0:n[t+1])}function vc(n){return n.filter(e=>!!e)}function tz(n){let e=0;for(let t=0;t<n.length;t++)n[t]&&(n[e]=n[t],e+=1);n.length=e}function ZX(n){return!Array.isArray(n)||n.length===0}function Yo(n){return Array.isArray(n)&&n.length>0}function ch(n,e=t=>t){const t=new Set;return n.filter(i=>{const o=e(i);return t.has(o)?!1:(t.add(o),!0)})}function E8(n,e){return n.length>0?n[0]:e}function _r(n,e){let t=typeof e=="number"?n:0;typeof e=="number"?t=n:(t=0,e=n);const i=[];if(t<=e)for(let o=t;o<e;o++)i.push(o);else for(let o=t;o>e;o--)i.push(o);return i}function AT(n,e,t){const i=n.slice(0,e),o=n.slice(e);return i.concat(t,o)}function WR(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.unshift(e))}function Ix(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.push(e))}function HO(n,e){for(const t of e)n.push(t)}function T8(n){return Array.isArray(n)?n:[n]}function jfe(n,e,t){const i=YX(n,e),o=n.length,r=t.length;n.length=o+r;for(let s=o-1;s>=i;s--)n[s+r]=n[s];for(let s=0;s<r;s++)n[s+i]=t[s]}function iz(n,e,t,i){const o=YX(n,e);let r=n.splice(o,t);return r===void 0&&(r=[]),jfe(n,o,i),r}function YX(n,e){return e<0?Math.max(e+n.length,0):Math.min(e,n.length)}var xy;(function(n){function e(r){return r<0}n.isLessThan=e;function t(r){return r<=0}n.isLessThanOrEqual=t;function i(r){return r>0}n.isGreaterThan=i;function o(r){return r===0}n.isNeitherLessOrGreaterThan=o,n.greaterThan=1,n.lessThan=-1,n.neitherLessOrGreaterThan=0})(xy||(xy={}));function Na(n,e){return(t,i)=>e(n(t),n(i))}function Kfe(...n){return(e,t)=>{for(const i of n){const o=i(e,t);if(!xy.isNeitherLessOrGreaterThan(o))return o}return xy.neitherLessOrGreaterThan}}const ju=(n,e)=>n-e,qfe=(n,e)=>ju(n?1:0,e?1:0);function XX(n){return(e,t)=>-n(e,t)}class dh{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){const t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}class Sd{constructor(e){this.iterate=e}toArray(){const e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new Sd(t=>this.iterate(i=>e(i)?t(i):!0))}map(e){return new Sd(t=>this.iterate(i=>t(e(i))))}findLast(e){let t;return this.iterate(i=>(e(i)&&(t=i),!0)),t}findLastMaxBy(e){let t,i=!0;return this.iterate(o=>((i||xy.isGreaterThan(e(o,t)))&&(i=!1,t=o),!0)),t}}Sd.empty=new Sd(n=>{});function Pr(n){return typeof n=="string"}function Tr(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function Gfe(n){const e=Object.getPrototypeOf(Uint8Array);return typeof n=="object"&&n instanceof e}function Xg(n){return typeof n=="number"&&!isNaN(n)}function nz(n){return!!n&&typeof n[Symbol.iterator]=="function"}function QX(n){return n===!0||n===!1}function _s(n){return typeof n>"u"}function xd(n){return!Gs(n)}function Gs(n){return _s(n)||n===null}function Jt(n,e){if(!n)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}function ag(n){if(Gs(n))throw new Error("Assertion Failed: argument is undefined or null");return n}function ky(n){return typeof n=="function"}function Zfe(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)Yfe(n[i],e[i])}function Yfe(n,e){if(Pr(e)){if(typeof n!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(ky(e)){try{if(n instanceof e)return}catch{}if(!Gs(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function gu(n){if(!n||typeof n!="object"||n instanceof RegExp)return n;const e=Array.isArray(n)?[]:{};return Object.entries(n).forEach(([t,i])=>{e[t]=i&&typeof i=="object"?gu(i):i}),e}function Xfe(n){if(!n||typeof n!="object")return n;const e=[n];for(;e.length>0;){const t=e.shift();Object.freeze(t);for(const i in t)if(JX.call(t,i)){const o=t[i];typeof o=="object"&&!Object.isFrozen(o)&&!Gfe(o)&&e.push(o)}}return n}const JX=Object.prototype.hasOwnProperty;function eQ(n,e){return zO(n,e,new Set)}function zO(n,e,t){if(Gs(n))return n;const i=e(n);if(typeof i<"u")return i;if(Array.isArray(n)){const o=[];for(const r of n)o.push(zO(r,e,t));return o}if(Tr(n)){if(t.has(n))throw new Error("Cannot clone recursive data-structure");t.add(n);const o={};for(const r in n)JX.call(n,r)&&(o[r]=zO(n[r],e,t));return t.delete(n),o}return n}function PT(n,e,t=!0){return Tr(n)?(Tr(e)&&Object.keys(e).forEach(i=>{i in n?t&&(Tr(n[i])&&Tr(e[i])?PT(n[i],e[i],t):n[i]=e[i]):n[i]=e[i]}),n):e}function na(n,e){if(n===e)return!0;if(n==null||e===null||e===void 0||typeof n!=typeof e||typeof n!="object"||Array.isArray(n)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(n)){if(n.length!==e.length)return!1;for(t=0;t<n.length;t++)if(!na(n[t],e[t]))return!1}else{const o=[];for(i in n)o.push(i);o.sort();const r=[];for(i in e)r.push(i);if(r.sort(),!na(o,r))return!1;for(t=0;t<o.length;t++)if(!na(n[o[t]],e[o[t]]))return!1}return!0}function Qfe(n){let e=[];for(;Object.prototype!==n;)e=e.concat(Object.getOwnPropertyNames(n)),n=Object.getPrototypeOf(n);return e}function I8(n){const e=[];for(const t of Qfe(n))typeof n[t]=="function"&&e.push(t);return e}function Jfe(n,e){const t=o=>function(){const r=Array.prototype.slice.call(arguments,0);return e(o,r)},i={};for(const o of n)i[o]=t(o);return i}let epe=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function tQ(n,e){let t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,(i,o)=>{const r=o[0],s=e[r];let a=i;return typeof s=="string"?a=s:(typeof s=="number"||typeof s=="boolean"||s===void 0||s===null)&&(a=String(s)),a}),epe&&(t=""+t.replace(/[aouei]/g,"$&$&")+""),t}function m(n,e,...t){return tQ(e,t)}function Ut(n,e,...t){const i=tQ(e,t);return{value:i,original:i}}var VR;const nb="en";let BD=!1,WD=!1,bL=!1,iQ=!1,N8=!1,R8=!1,nQ=!1,Nx,_L=nb,oz=nb,tpe,Ml;const Ku=globalThis;let Cr;typeof Ku.vscode<"u"&&typeof Ku.vscode.process<"u"?Cr=Ku.vscode.process:typeof process<"u"&&(Cr=process);const ipe=typeof((VR=Cr==null?void 0:Cr.versions)===null||VR===void 0?void 0:VR.electron)=="string",npe=ipe&&(Cr==null?void 0:Cr.type)==="renderer";if(typeof Cr=="object"){BD=Cr.platform==="win32",WD=Cr.platform==="darwin",bL=Cr.platform==="linux",bL&&Cr.env.SNAP&&Cr.env.SNAP_REVISION,Cr.env.CI||Cr.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Nx=nb,_L=nb;const n=Cr.env.VSCODE_NLS_CONFIG;if(n)try{const e=JSON.parse(n),t=e.availableLanguages["*"];Nx=e.locale,oz=e.osLocale,_L=t||nb,tpe=e._translationsConfigFile}catch{}iQ=!0}else typeof navigator=="object"&&!npe?(Ml=navigator.userAgent,BD=Ml.indexOf("Windows")>=0,WD=Ml.indexOf("Macintosh")>=0,R8=(Ml.indexOf("Macintosh")>=0||Ml.indexOf("iPad")>=0||Ml.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,bL=Ml.indexOf("Linux")>=0,nQ=(Ml==null?void 0:Ml.indexOf("Mobi"))>=0,N8=!0,m({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"),Nx=nb,_L=Nx,oz=navigator.language):console.error("Unable to resolve platform.");const Qo=BD,Rt=WD,Br=bL,dc=iQ,Nf=N8,ope=N8&&typeof Ku.importScripts=="function",rpe=ope?Ku.origin:void 0,bc=R8,oQ=nQ,Md=Ml,spe=_L,ape=typeof Ku.postMessage=="function"&&!Ku.importScripts,rQ=(()=>{if(ape){const n=[];Ku.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,o=n.length;i<o;i++){const r=n[i];if(r.id===t.data.vscodeScheduleAsyncWork){n.splice(i,1),r.callback();return}}});let e=0;return t=>{const i=++e;n.push({id:i,callback:t}),Ku.postMessage({vscodeScheduleAsyncWork:i},"*")}}return n=>setTimeout(n)})(),Cs=WD||R8?2:BD?1:3;let rz=!0,sz=!1;function sQ(){if(!sz){sz=!0;const n=new Uint8Array(2);n[0]=1,n[1]=2,rz=new Uint16Array(n.buffer)[0]===513}return rz}const aQ=!!(Md&&Md.indexOf("Chrome")>=0),lpe=!!(Md&&Md.indexOf("Firefox")>=0),cpe=!!(!aQ&&Md&&Md.indexOf("Safari")>=0),dpe=!!(Md&&Md.indexOf("Edg/")>=0),upe=!!(Md&&Md.indexOf("Android")>=0),qo={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var Mt;(function(n){function e(C){return C&&typeof C=="object"&&typeof C[Symbol.iterator]=="function"}n.is=e;const t=Object.freeze([]);function i(){return t}n.empty=i;function*o(C){yield C}n.single=o;function r(C){return e(C)?C:o(C)}n.wrap=r;function s(C){return C||t}n.from=s;function*a(C){for(let y=C.length-1;y>=0;y--)yield C[y]}n.reverse=a;function l(C){return!C||C[Symbol.iterator]().next().done===!0}n.isEmpty=l;function c(C){return C[Symbol.iterator]().next().value}n.first=c;function d(C,y){for(const w of C)if(y(w))return!0;return!1}n.some=d;function u(C,y){for(const w of C)if(y(w))return w}n.find=u;function*h(C,y){for(const w of C)y(w)&&(yield w)}n.filter=h;function*g(C,y){let w=0;for(const S of C)yield y(S,w++)}n.map=g;function*f(...C){for(const y of C)yield*y}n.concat=f;function p(C,y,w){let S=w;for(const x of C)S=y(S,x);return S}n.reduce=p;function*b(C,y,w=C.length){for(y<0&&(y+=C.length),w<0?w+=C.length:w>C.length&&(w=C.length);y<w;y++)yield C[y]}n.slice=b;function v(C,y=Number.POSITIVE_INFINITY){const w=[];if(y===0)return[w,C];const S=C[Symbol.iterator]();for(let x=0;x<y;x++){const L=S.next();if(L.done)return[w,n.empty()];w.push(L.value)}return[w,{[Symbol.iterator](){return S}}]}n.consume=v;async function _(C){const y=[];for await(const w of C)y.push(w);return Promise.resolve(y)}n.asyncToArray=_})(Mt||(Mt={}));let zn=class UO{constructor(e){this.element=e,this.next=UO.Undefined,this.prev=UO.Undefined}};zn.Undefined=new zn(void 0);class Ir{constructor(){this._first=zn.Undefined,this._last=zn.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===zn.Undefined}clear(){let e=this._first;for(;e!==zn.Undefined;){const t=e.next;e.prev=zn.Undefined,e.next=zn.Undefined,e=t}this._first=zn.Undefined,this._last=zn.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new zn(e);if(this._first===zn.Undefined)this._first=i,this._last=i;else if(t){const r=this._last;this._last=i,i.prev=r,r.next=i}else{const r=this._first;this._first=i,i.next=r,r.prev=i}this._size+=1;let o=!1;return()=>{o||(o=!0,this._remove(i))}}shift(){if(this._first!==zn.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==zn.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==zn.Undefined&&e.next!==zn.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===zn.Undefined&&e.next===zn.Undefined?(this._first=zn.Undefined,this._last=zn.Undefined):e.next===zn.Undefined?(this._last=this._last.prev,this._last.next=zn.Undefined):e.prev===zn.Undefined&&(this._first=this._first.next,this._first.prev=zn.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==zn.Undefined;)yield e.element,e=e.next}}const lQ="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function hpe(n=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(const t of lQ)n.indexOf(t)>=0||(e+="\\"+t);return e+="\\s]+)",new RegExp(e,"g")}const M8=hpe();function A8(n){let e=M8;if(n&&n instanceof RegExp)if(n.global)e=n;else{let t="g";n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),n.unicode&&(t+="u"),e=new RegExp(n.source,t)}return e.lastIndex=0,e}const cQ=new Ir;cQ.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function Ly(n,e,t,i,o){if(e=A8(e),o||(o=Mt.first(cQ)),t.length>o.maxLen){let c=n-o.maxLen/2;return c<0?c=0:i+=c,t=t.substring(c,n+o.maxLen/2),Ly(n,e,t,i,o)}const r=Date.now(),s=n-1-i;let a=-1,l=null;for(let c=1;!(Date.now()-r>=o.timeBudget);c++){const d=s-o.windowSize*c;e.lastIndex=Math.max(0,d);const u=gpe(e,t,s,a);if(!u&&l||(l=u,d<=0))break;a=d}if(l){const c={word:l[0],startColumn:i+1+l.index,endColumn:i+1+l.index+l[0].length};return e.lastIndex=0,c}return null}function gpe(n,e,t,i){let o;for(;o=n.exec(e);){const r=o.index||0;if(r<=t&&n.lastIndex>=t)return o;if(i>0&&r>i)return null}return null}const Fh=8;class dQ{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class uQ{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class Zi{constructor(e,t,i,o){this.id=e,this.name=t,this.defaultValue=i,this.schema=o}applyUpdate(e,t){return OT(e,t)}compute(e,t,i){return i}}class CC{constructor(e,t){this.newValue=e,this.didChange=t}}function OT(n,e){if(typeof n!="object"||typeof e!="object"||!n||!e)return new CC(e,n!==e);if(Array.isArray(n)||Array.isArray(e)){const i=Array.isArray(n)&&Array.isArray(e)&&en(n,e);return new CC(e,!i)}let t=!1;for(const i in e)if(e.hasOwnProperty(i)){const o=OT(n[i],e[i]);o.didChange&&(n[i]=o.newValue,t=!0)}return new CC(n,t)}class pS{constructor(e){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return OT(e,t)}validate(e){return this.defaultValue}}class f0{constructor(e,t,i,o){this.id=e,this.name=t,this.defaultValue=i,this.schema=o}applyUpdate(e,t){return OT(e,t)}validate(e){return typeof e>"u"?this.defaultValue:e}compute(e,t,i){return i}}function Be(n,e){return typeof n>"u"?e:n==="false"?!1:!!n}class Ht extends f0{constructor(e,t,i,o=void 0){typeof o<"u"&&(o.type="boolean",o.default=i),super(e,t,i,o)}validate(e){return Be(e,this.defaultValue)}}function ap(n,e,t,i){if(typeof n>"u")return e;let o=parseInt(n,10);return isNaN(o)?e:(o=Math.max(t,o),o=Math.min(i,o),o|0)}class Ci extends f0{static clampedInt(e,t,i,o){return ap(e,t,i,o)}constructor(e,t,i,o,r,s=void 0){typeof s<"u"&&(s.type="integer",s.default=i,s.minimum=o,s.maximum=r),super(e,t,i,s),this.minimum=o,this.maximum=r}validate(e){return Ci.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}function fpe(n,e,t,i){if(typeof n>"u")return e;const o=cl.float(n,e);return cl.clamp(o,t,i)}class cl extends f0{static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if(typeof e=="number")return e;if(typeof e>"u")return t;const i=parseFloat(e);return isNaN(i)?t:i}constructor(e,t,i,o,r){typeof r<"u"&&(r.type="number",r.default=i),super(e,t,i,r),this.validationFn=o}validate(e){return this.validationFn(cl.float(e,this.defaultValue))}}class Sr extends f0{static string(e,t){return typeof e!="string"?t:e}constructor(e,t,i,o=void 0){typeof o<"u"&&(o.type="string",o.default=i),super(e,t,i,o)}validate(e){return Sr.string(e,this.defaultValue)}}function dn(n,e,t,i){return typeof n!="string"?e:i&&n in i?i[n]:t.indexOf(n)===-1?e:n}class on extends f0{constructor(e,t,i,o,r=void 0){typeof r<"u"&&(r.type="string",r.enum=o,r.default=i),super(e,t,i,r),this._allowedValues=o}validate(e){return dn(e,this.defaultValue,this._allowedValues)}}class Rx extends Zi{constructor(e,t,i,o,r,s,a=void 0){typeof a<"u"&&(a.type="string",a.enum=r,a.default=o),super(e,t,i,a),this._allowedValues=r,this._convert=s}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}}function ppe(n){switch(n){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class mpe extends Zi{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[m("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),m("accessibilitySupport.on","Optimize for usage with a Screen Reader."),m("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:m("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return i===0?e.accessibilitySupport:i}}class vpe extends Zi{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:m("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:m("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertSpace:Be(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:Be(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function bpe(n){switch(n){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var Do;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(Do||(Do={}));function _pe(n){switch(n){case"line":return Do.Line;case"block":return Do.Block;case"underline":return Do.Underline;case"line-thin":return Do.LineThin;case"block-outline":return Do.BlockOutline;case"underline-thin":return Do.UnderlineThin}}class Cpe extends pS{constructor(){super(141)}compute(e,t,i){const o=["monaco-editor"];return t.get(39)&&o.push(t.get(39)),e.extraEditorClassName&&o.push(e.extraEditorClassName),t.get(74)==="default"?o.push("mouse-default"):t.get(74)==="copy"&&o.push("mouse-copy"),t.get(111)&&o.push("showUnused"),t.get(139)&&o.push("showDeprecated"),o.join(" ")}}class ype extends Ht{constructor(){super(37,"emptySelectionClipboard",!0,{description:m("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}class wpe extends Zi{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:m("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[m("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),m("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),m("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:m("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[m("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),m("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),m("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:m("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:m("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:Rt},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:m("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:m("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{cursorMoveOnType:Be(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":dn(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":dn(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:Be(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:Be(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:Be(t.loop,this.defaultValue.loop)}}}class Zs extends Zi{constructor(){super(51,"fontLigatures",Zs.OFF,{anyOf:[{type:"boolean",description:m("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:m("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:m("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"||e.length===0?Zs.OFF:e==="true"?Zs.ON:e:e?Zs.ON:Zs.OFF}}Zs.OFF='"liga" off, "calt" off';Zs.ON='"liga" on, "calt" on';class Jl extends Zi{constructor(){super(54,"fontVariations",Jl.OFF,{anyOf:[{type:"boolean",description:m("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:m("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:m("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"?Jl.OFF:e==="true"?Jl.TRANSLATE:e:e?Jl.TRANSLATE:Jl.OFF}compute(e,t,i){return e.fontInfo.fontVariationSettings}}Jl.OFF="normal";Jl.TRANSLATE="translate";class Spe extends pS{constructor(){super(50)}compute(e,t,i){return e.fontInfo}}class xpe extends f0{constructor(){super(52,"fontSize",os.fontSize,{type:"number",minimum:6,maximum:100,default:os.fontSize,description:m("fontSize","Controls the font size in pixels.")})}validate(e){const t=cl.float(e,this.defaultValue);return t===0?os.fontSize:cl.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}class rd extends Zi{constructor(){super(53,"fontWeight",os.fontWeight,{anyOf:[{type:"number",minimum:rd.MINIMUM_VALUE,maximum:rd.MAXIMUM_VALUE,errorMessage:m("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:rd.SUGGESTION_VALUES}],default:os.fontWeight,description:m("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String(Ci.clampedInt(e,os.fontWeight,rd.MINIMUM_VALUE,rd.MAXIMUM_VALUE))}}rd.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];rd.MINIMUM_VALUE=1;rd.MAXIMUM_VALUE=1e3;class kpe extends Zi{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[m("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),m("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),m("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:m("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":{description:m("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleTypeDefinitions":{description:m("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleDeclarations":{description:m("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleImplementations":{description:m("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleReferences":{description:m("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist."),...t},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:m("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:m("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:m("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:m("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:m("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,o,r,s;if(!e||typeof e!="object")return this.defaultValue;const a=e;return{multiple:dn(a.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(t=a.multipleDefinitions)!==null&&t!==void 0?t:dn(a.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(i=a.multipleTypeDefinitions)!==null&&i!==void 0?i:dn(a.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(o=a.multipleDeclarations)!==null&&o!==void 0?o:dn(a.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(r=a.multipleImplementations)!==null&&r!==void 0?r:dn(a.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(s=a.multipleReferences)!==null&&s!==void 0?s:dn(a.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:Sr.string(a.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:Sr.string(a.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:Sr.string(a.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:Sr.string(a.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:Sr.string(a.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class Lpe extends Zi{constructor(){const e={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:m("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:m("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:m("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:e.hidingDelay,description:m("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:e.above,description:m("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Be(t.enabled,this.defaultValue.enabled),delay:Ci.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:Be(t.sticky,this.defaultValue.sticky),hidingDelay:Ci.clampedInt(t.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:Be(t.above,this.defaultValue.above)}}}class Mb extends pS{constructor(){super(144)}compute(e,t,i){return Mb.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio,glyphMarginDecorationLaneCount:e.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=Math.floor(e.paddingTop/e.lineHeight);let o=Math.floor(e.paddingBottom/e.lineHeight);e.scrollBeyondLastLine&&(o=Math.max(o,t-1));const r=(i+e.viewLineCount+o)/(e.pixelRatio*e.height),s=Math.floor(e.viewLineCount/r);return{typicalViewportLineCount:t,extraLinesBeforeFirstLine:i,extraLinesBeyondLastLine:o,desiredRatio:r,minimapLineCount:s}}static _computeMinimapLayout(e,t){const i=e.outerWidth,o=e.outerHeight,r=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(r*o),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:o};const s=t.stableMinimapLayoutInput,a=s&&e.outerHeight===s.outerHeight&&e.lineHeight===s.lineHeight&&e.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&e.pixelRatio===s.pixelRatio&&e.scrollBeyondLastLine===s.scrollBeyondLastLine&&e.paddingTop===s.paddingTop&&e.paddingBottom===s.paddingBottom&&e.minimap.enabled===s.minimap.enabled&&e.minimap.side===s.minimap.side&&e.minimap.size===s.minimap.size&&e.minimap.showSlider===s.minimap.showSlider&&e.minimap.renderCharacters===s.minimap.renderCharacters&&e.minimap.maxColumn===s.minimap.maxColumn&&e.minimap.scale===s.minimap.scale&&e.verticalScrollbarWidth===s.verticalScrollbarWidth&&e.isViewportWrapping===s.isViewportWrapping,l=e.lineHeight,c=e.typicalHalfwidthCharacterWidth,d=e.scrollBeyondLastLine,u=e.minimap.renderCharacters;let h=r>=2?Math.round(e.minimap.scale*2):e.minimap.scale;const g=e.minimap.maxColumn,f=e.minimap.size,p=e.minimap.side,b=e.verticalScrollbarWidth,v=e.viewLineCount,_=e.remainingWidth,C=e.isViewportWrapping,y=u?2:3;let w=Math.floor(r*o);const S=w/r;let x=!1,L=!1,E=y*h,O=h/r,P=1;if(f==="fill"||f==="fit"){const{typicalViewportLineCount:ae,extraLinesBeforeFirstLine:Q,extraLinesBeyondLastLine:_e,desiredRatio:Ie,minimapLineCount:se}=Mb.computeContainedMinimapLineCount({viewLineCount:v,scrollBeyondLastLine:d,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:o,lineHeight:l,pixelRatio:r});if(v/se>1)x=!0,L=!0,h=1,E=1,O=h/r;else{let Ne=!1,tt=h+1;if(f==="fit"){const ne=Math.ceil((Q+v+_e)*E);C&&a&&_<=t.stableFitRemainingWidth?(Ne=!0,tt=t.stableFitMaxMinimapScale):Ne=ne>w}if(f==="fill"||Ne){x=!0;const ne=h;E=Math.min(l*r,Math.max(1,Math.floor(1/Ie))),C&&a&&_<=t.stableFitRemainingWidth&&(tt=t.stableFitMaxMinimapScale),h=Math.min(tt,Math.max(1,Math.floor(E/y))),h>ne&&(P=Math.min(2,h/ne)),O=h/r/P,w=Math.ceil(Math.max(ae,Q+v+_e)*E),C?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=_,t.stableFitMaxMinimapScale=h):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const A=Math.floor(g*O),F=Math.min(A,Math.max(0,Math.floor((_-b-2)*O/(c+O)))+Fh);let K=Math.floor(r*F);const te=K/r;K=Math.floor(K*P);const ye=u?1:2,be=p==="left"?0:i-F-b;return{renderMinimap:ye,minimapLeft:be,minimapWidth:F,minimapHeightIsEditorHeight:x,minimapIsSampling:L,minimapScale:h,minimapLineHeight:E,minimapCanvasInnerWidth:K,minimapCanvasInnerHeight:w,minimapCanvasOuterWidth:te,minimapCanvasOuterHeight:S}}static computeLayout(e,t){const i=t.outerWidth|0,o=t.outerHeight|0,r=t.lineHeight|0,s=t.lineNumbersDigitCount|0,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,c=t.pixelRatio,d=t.viewLineCount,u=e.get(136),h=u==="inherit"?e.get(135):u,g=h==="inherit"?e.get(131):h,f=e.get(134),p=t.isDominatedByLongLines,b=e.get(57),v=e.get(68).renderType!==0,_=e.get(69),C=e.get(105),y=e.get(84),w=e.get(73),S=e.get(103),x=S.verticalScrollbarSize,L=S.verticalHasArrows,E=S.arrowSize,O=S.horizontalScrollbarSize,P=e.get(43),A=e.get(110)!=="never";let F=e.get(66);P&&A&&(F+=16);let K=0;if(v){const Me=Math.max(s,_);K=Math.round(Me*l)}let te=0;b&&(te=r*t.glyphMarginDecorationLaneCount);let ye=0,be=ye+te,ae=be+K,Q=ae+F;const _e=i-te-K-F;let Ie=!1,se=!1,Y=-1;h==="inherit"&&p?(Ie=!0,se=!0):g==="on"||g==="bounded"?se=!0:g==="wordWrapColumn"&&(Y=f);const Ne=Mb._computeMinimapLayout({outerWidth:i,outerHeight:o,lineHeight:r,typicalHalfwidthCharacterWidth:a,pixelRatio:c,scrollBeyondLastLine:C,paddingTop:y.top,paddingBottom:y.bottom,minimap:w,verticalScrollbarWidth:x,viewLineCount:d,remainingWidth:_e,isViewportWrapping:se},t.memory||new uQ);Ne.renderMinimap!==0&&Ne.minimapLeft===0&&(ye+=Ne.minimapWidth,be+=Ne.minimapWidth,ae+=Ne.minimapWidth,Q+=Ne.minimapWidth);const tt=_e-Ne.minimapWidth,ne=Math.max(1,Math.floor((tt-x-2)/a)),$e=L?E:0;return se&&(Y=Math.max(1,ne),g==="bounded"&&(Y=Math.min(Y,f))),{width:i,height:o,glyphMarginLeft:ye,glyphMarginWidth:te,glyphMarginDecorationLaneCount:t.glyphMarginDecorationLaneCount,lineNumbersLeft:be,lineNumbersWidth:K,decorationsLeft:ae,decorationsWidth:F,contentLeft:Q,contentWidth:tt,minimap:Ne,viewportColumn:ne,isWordWrapMinified:Ie,isViewportWrapping:se,wrappingColumn:Y,verticalScrollbarWidth:x,horizontalScrollbarHeight:O,overviewRuler:{top:$e,width:x,height:o-2*$e,right:0}}}}class Dpe extends Zi{constructor(){super(138,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[m("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),m("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:m("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(e){return dn(e,"simple",["simple","advanced"])}compute(e,t,i){return t.get(2)===2?"advanced":i}}var nl;(function(n){n.Off="off",n.OnCode="onCode",n.On="on"})(nl||(nl={}));class Epe extends Zi{constructor(){const e={enabled:nl.OnCode};super(65,"lightbulb",e,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[nl.Off,nl.OnCode,nl.On],default:e.enabled,enumDescriptions:[m("editor.lightbulb.enabled.off","Disable the code action menu."),m("editor.lightbulb.enabled.onCode","Show the code action menu when the cursor is on lines with code."),m("editor.lightbulb.enabled.on","Show the code action menu when the cursor is on lines with code or on empty lines.")],description:m("enabled","Enables the Code Action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:dn(e.enabled,this.defaultValue.enabled,[nl.Off,nl.OnCode,nl.On])}}}class Tpe extends Zi{constructor(){const e={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(115,"stickyScroll",e,{"editor.stickyScroll.enabled":{type:"boolean",default:e.enabled,description:m("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:e.maxLineCount,minimum:1,maximum:20,description:m("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:e.defaultModel,description:m("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:e.scrollWithEditor,description:m("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Be(t.enabled,this.defaultValue.enabled),maxLineCount:Ci.clampedInt(t.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:dn(t.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:Be(t.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class Ipe extends Zi{constructor(){const e={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(140,"inlayHints",e,{"editor.inlayHints.enabled":{type:"string",default:e.enabled,description:m("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[m("editor.inlayHints.on","Inlay hints are enabled"),m("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",Rt?"Ctrl+Option":"Ctrl+Alt"),m("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",Rt?"Ctrl+Option":"Ctrl+Alt"),m("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:m("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:m("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:e.padding,description:m("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return typeof t.enabled=="boolean"&&(t.enabled=t.enabled?"on":"off"),{enabled:dn(t.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:Ci.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:Sr.string(t.fontFamily,this.defaultValue.fontFamily),padding:Be(t.padding,this.defaultValue.padding)}}}class Npe extends Zi{constructor(){super(66,"lineDecorationsWidth",10)}validate(e){return typeof e=="string"&&/^\d+(\.\d+)?ch$/.test(e)?-parseFloat(e.substring(0,e.length-2)):Ci.clampedInt(e,this.defaultValue,0,1e3)}compute(e,t,i){return i<0?Ci.clampedInt(-i*e.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):i}}class Rpe extends cl{constructor(){super(67,"lineHeight",os.lineHeight,e=>cl.clamp(e,0,150),{markdownDescription:m("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,t,i){return e.fontInfo.lineHeight}}class Mpe extends Zi{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(73,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:m("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:e.autohide,description:m("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[m("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),m("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),m("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:m("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:m("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:m("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:m("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:m("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:m("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Be(t.enabled,this.defaultValue.enabled),autohide:Be(t.autohide,this.defaultValue.autohide),size:dn(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:dn(t.side,this.defaultValue.side,["right","left"]),showSlider:dn(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:Be(t.renderCharacters,this.defaultValue.renderCharacters),scale:Ci.clampedInt(t.scale,1,1,3),maxColumn:Ci.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Ape(n){return n==="ctrlCmd"?Rt?"metaKey":"ctrlKey":"altKey"}class Ppe extends Zi{constructor(){super(84,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:m("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:m("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{top:Ci.clampedInt(t.top,0,0,1e3),bottom:Ci.clampedInt(t.bottom,0,0,1e3)}}}class Ope extends Zi{constructor(){const e={enabled:!0,cycle:!0};super(86,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:m("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:m("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Be(t.enabled,this.defaultValue.enabled),cycle:Be(t.cycle,this.defaultValue.cycle)}}}class Fpe extends pS{constructor(){super(142)}compute(e,t,i){return e.pixelRatio}}class Bpe extends Zi{constructor(){const e={other:"on",comments:"off",strings:"off"},t=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[m("on","Quick suggestions show inside the suggest widget"),m("inline","Quick suggestions show as ghost text"),m("off","Quick suggestions are disabled")]}];super(89,"quickSuggestions",e,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:t,default:e.strings,description:m("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:t,default:e.comments,description:m("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:t,default:e.other,description:m("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:e,markdownDescription:m("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=e}validate(e){if(typeof e=="boolean"){const c=e?"on":"off";return{comments:c,strings:c,other:c}}if(!e||typeof e!="object")return this.defaultValue;const{other:t,comments:i,strings:o}=e,r=["on","inline","off"];let s,a,l;return typeof t=="boolean"?s=t?"on":"off":s=dn(t,this.defaultValue.other,r),typeof i=="boolean"?a=i?"on":"off":a=dn(i,this.defaultValue.comments,r),typeof o=="boolean"?l=o?"on":"off":l=dn(o,this.defaultValue.strings,r),{other:s,comments:a,strings:l}}}class Wpe extends Zi{constructor(){super(68,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[m("lineNumbers.off","Line numbers are not rendered."),m("lineNumbers.on","Line numbers are rendered as absolute number."),m("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),m("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:m("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return typeof e<"u"&&(typeof e=="function"?(t=4,i=e):e==="interval"?t=3:e==="relative"?t=2:e==="on"?t=1:t=0),{renderType:t,renderFn:i}}}function VD(n){const e=n.get(98);return e==="editable"?n.get(91):e!=="on"}class Vpe extends Zi{constructor(){const e=[],t={type:"number",description:m("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(102,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:m("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:m("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){const t=[];for(const i of e)if(typeof i=="number")t.push({column:Ci.clampedInt(i,0,0,1e4),color:null});else if(i&&typeof i=="object"){const o=i;t.push({column:Ci.clampedInt(o.column,0,0,1e4),color:o.color})}return t.sort((i,o)=>i.column-o.column),t}return this.defaultValue}}class Hpe extends Zi{constructor(){super(92,"readOnlyMessage",void 0)}validate(e){return!e||typeof e!="object"?this.defaultValue:e}}function az(n,e){if(typeof n!="string")return e;switch(n){case"hidden":return 2;case"visible":return 3;default:return 1}}let zpe=class extends Zi{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(103,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),m("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),m("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:m("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),m("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),m("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:m("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:m("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:m("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:m("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:e.ignoreHorizontalScrollbarInContentHeight,description:m("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e,i=Ci.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),o=Ci.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:Ci.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:az(t.vertical,this.defaultValue.vertical),horizontal:az(t.horizontal,this.defaultValue.horizontal),useShadows:Be(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:Be(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:Be(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:Be(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:Be(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:Ci.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:o,verticalSliderSize:Ci.clampedInt(t.verticalSliderSize,o,0,1e3),scrollByPage:Be(t.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:Be(t.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}};const Vs="inUntrustedWorkspace",Jr={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class Upe extends Zi{constructor(){const e={nonBasicASCII:Vs,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Vs,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(125,"unicodeHighlight",e,{[Jr.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Vs],default:e.nonBasicASCII,description:m("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Jr.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:m("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Jr.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:m("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Jr.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Vs],default:e.includeComments,description:m("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[Jr.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Vs],default:e.includeStrings,description:m("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[Jr.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:m("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Jr.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:m("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let i=!1;t.allowedCharacters&&e&&(na(e.allowedCharacters,t.allowedCharacters)||(e={...e,allowedCharacters:t.allowedCharacters},i=!0)),t.allowedLocales&&e&&(na(e.allowedLocales,t.allowedLocales)||(e={...e,allowedLocales:t.allowedLocales},i=!0));const o=super.applyUpdate(e,t);return i?new CC(o.newValue,!0):o}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{nonBasicASCII:Ab(t.nonBasicASCII,Vs,[!0,!1,Vs]),invisibleCharacters:Be(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:Be(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Ab(t.includeComments,Vs,[!0,!1,Vs]),includeStrings:Ab(t.includeStrings,Vs,[!0,!1,Vs]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if(typeof e!="object"||!e)return t;const i={};for(const[o,r]of Object.entries(e))r===!0&&(i[o]=!0);return i}}class $pe extends Zi{constructor(){const e={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:m("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[m("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),m("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),m("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:m("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:e.suppressSuggestions,description:m("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:e.fontFamily,description:m("inlineSuggest.fontFamily","Controls the font family of the inline suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Be(t.enabled,this.defaultValue.enabled),mode:dn(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:dn(t.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:Be(t.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:Be(t.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:Sr.string(t.fontFamily,this.defaultValue.fontFamily)}}}class jpe extends Zi{constructor(){const e={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1,backgroundColoring:!1};super(63,"experimentalInlineEdit",e,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:e.enabled,description:m("inlineEdit.enabled","Controls whether to show inline edits in the editor.")},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[m("inlineEdit.showToolbar.always","Show the inline edit toolbar whenever an inline suggestion is shown."),m("inlineEdit.showToolbar.onHover","Show the inline edit toolbar when hovering over an inline suggestion."),m("inlineEdit.showToolbar.never","Never show the inline edit toolbar.")],description:m("inlineEdit.showToolbar","Controls when to show the inline edit toolbar.")},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:e.fontFamily,description:m("inlineEdit.fontFamily","Controls the font family of the inline edit.")},"editor.experimentalInlineEdit.backgroundColoring":{type:"boolean",default:e.backgroundColoring,description:m("inlineEdit.backgroundColoring","Controls whether to color the background of inline edits.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Be(t.enabled,this.defaultValue.enabled),showToolbar:dn(t.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:Sr.string(t.fontFamily,this.defaultValue.fontFamily),keepOnBlur:Be(t.keepOnBlur,this.defaultValue.keepOnBlur),backgroundColoring:Be(t.backgroundColoring,this.defaultValue.backgroundColoring)}}}class Kpe extends Zi{constructor(){const e={enabled:qo.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:qo.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,markdownDescription:m("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:e.independentColorPoolPerBracketType,description:m("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Be(t.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:Be(t.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class qpe extends Zi{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m("editor.guides.bracketPairs.true","Enables bracket pair guides."),m("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),m("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:m("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),m("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),m("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:m("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:m("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:m("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[m("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),m("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),m("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:e.highlightActiveIndentation,description:m("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{bracketPairs:Ab(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Ab(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:Be(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:Be(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:Ab(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function Ab(n,e,t){const i=t.indexOf(n);return i===-1?e:t[i]}class Gpe extends Zi{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(118,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[m("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),m("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:m("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:m("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:m("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:m("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[m("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),m("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),m("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),m("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:e.selectionMode,markdownDescription:m("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:m("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:m("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:m("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:m("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:m("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:m("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:m("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:m("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertMode:dn(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:Be(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:Be(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:Be(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:Be(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:dn(t.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:Be(t.showIcons,this.defaultValue.showIcons),showStatusBar:Be(t.showStatusBar,this.defaultValue.showStatusBar),preview:Be(t.preview,this.defaultValue.preview),previewMode:dn(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:Be(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:Be(t.showMethods,this.defaultValue.showMethods),showFunctions:Be(t.showFunctions,this.defaultValue.showFunctions),showConstructors:Be(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:Be(t.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:Be(t.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:Be(t.showFields,this.defaultValue.showFields),showVariables:Be(t.showVariables,this.defaultValue.showVariables),showClasses:Be(t.showClasses,this.defaultValue.showClasses),showStructs:Be(t.showStructs,this.defaultValue.showStructs),showInterfaces:Be(t.showInterfaces,this.defaultValue.showInterfaces),showModules:Be(t.showModules,this.defaultValue.showModules),showProperties:Be(t.showProperties,this.defaultValue.showProperties),showEvents:Be(t.showEvents,this.defaultValue.showEvents),showOperators:Be(t.showOperators,this.defaultValue.showOperators),showUnits:Be(t.showUnits,this.defaultValue.showUnits),showValues:Be(t.showValues,this.defaultValue.showValues),showConstants:Be(t.showConstants,this.defaultValue.showConstants),showEnums:Be(t.showEnums,this.defaultValue.showEnums),showEnumMembers:Be(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:Be(t.showKeywords,this.defaultValue.showKeywords),showWords:Be(t.showWords,this.defaultValue.showWords),showColors:Be(t.showColors,this.defaultValue.showColors),showFiles:Be(t.showFiles,this.defaultValue.showFiles),showReferences:Be(t.showReferences,this.defaultValue.showReferences),showFolders:Be(t.showFolders,this.defaultValue.showFolders),showTypeParameters:Be(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:Be(t.showSnippets,this.defaultValue.showSnippets),showUsers:Be(t.showUsers,this.defaultValue.showUsers),showIssues:Be(t.showIssues,this.defaultValue.showIssues)}}}class Zpe extends Zi{constructor(){super(113,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:m("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:m("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:Be(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:Be(e.selectSubwords,this.defaultValue.selectSubwords)}}}class Ype extends Zi{constructor(){super(137,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[m("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),m("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),m("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),m("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:m("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(e,t,i){return t.get(2)===2?0:i}}class Xpe extends pS{constructor(){super(145)}compute(e,t,i){const o=t.get(144);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:o.isWordWrapMinified,isViewportWrapping:o.isViewportWrapping,wrappingColumn:o.wrappingColumn}}}class Qpe extends Zi{constructor(){const e={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",e,{"editor.dropIntoEditor.enabled":{type:"boolean",default:e.enabled,markdownDescription:m("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:m("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[m("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),m("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Be(t.enabled,this.defaultValue.enabled),showDropSelector:dn(t.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class Jpe extends Zi{constructor(){const e={enabled:!0,showPasteSelector:"afterPaste"};super(85,"pasteAs",e,{"editor.pasteAs.enabled":{type:"boolean",default:e.enabled,markdownDescription:m("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:m("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[m("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),m("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Be(t.enabled,this.defaultValue.enabled),showPasteSelector:dn(t.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const eme="Consolas, 'Courier New', monospace",tme="Menlo, Monaco, 'Courier New', monospace",ime="'Droid Sans Mono', 'monospace', monospace",os={fontFamily:Rt?tme:Br?ime:eme,fontWeight:"normal",fontSize:Rt?12:14,lineHeight:0,letterSpacing:0},ob=[];function he(n){return ob[n.id]=n,n}const Tc={acceptSuggestionOnCommitCharacter:he(new Ht(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:m("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:he(new on(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",m("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:m("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:he(new mpe),accessibilityPageSize:he(new Ci(3,"accessibilityPageSize",10,1,1073741824,{description:m("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:he(new Sr(4,"ariaLabel",m("editorViewAccessibleLabel","Editor content"))),ariaRequired:he(new Ht(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:he(new Ht(8,"screenReaderAnnounceInlineSuggestion",!0,{description:m("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:he(new on(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),m("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:m("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:he(new on(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),m("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:m("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:he(new on(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",m("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:m("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:he(new on(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",m("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:m("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:he(new on(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),m("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:m("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:he(new Rx(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],ppe,{enumDescriptions:[m("editor.autoIndent.none","The editor will not insert indentation automatically."),m("editor.autoIndent.keep","The editor will keep the current line's indentation."),m("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),m("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),m("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:m("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:he(new Ht(13,"automaticLayout",!1)),autoSurround:he(new on(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[m("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),m("editor.autoSurround.quotes","Surround with quotes but not brackets."),m("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:m("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:he(new Kpe),bracketPairGuides:he(new qpe),stickyTabStops:he(new Ht(116,"stickyTabStops",!1,{description:m("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:he(new Ht(17,"codeLens",!0,{description:m("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:he(new Sr(18,"codeLensFontFamily","",{description:m("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:he(new Ci(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:m("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:he(new Ht(20,"colorDecorators",!0,{description:m("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:he(new on(147,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[m("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),m("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),m("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:m("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:he(new Ci(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:m("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:he(new Ht(22,"columnSelection",!1,{description:m("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:he(new vpe),contextmenu:he(new Ht(24,"contextmenu",!0)),copyWithSyntaxHighlighting:he(new Ht(25,"copyWithSyntaxHighlighting",!0,{description:m("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:he(new Rx(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],bpe,{description:m("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:he(new on(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[m("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),m("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),m("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:m("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:he(new Rx(28,"cursorStyle",Do.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],_pe,{description:m("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:he(new Ci(29,"cursorSurroundingLines",0,0,1073741824,{description:m("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:he(new on(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[m("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),m("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:m("cursorSurroundingLinesStyle","Controls when `#cursorSurroundingLines#` should be enforced.")})),cursorWidth:he(new Ci(31,"cursorWidth",0,0,1073741824,{markdownDescription:m("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:he(new Ht(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:he(new Ht(33,"disableMonospaceOptimizations",!1)),domReadOnly:he(new Ht(34,"domReadOnly",!1)),dragAndDrop:he(new Ht(35,"dragAndDrop",!0,{description:m("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:he(new ype),dropIntoEditor:he(new Qpe),stickyScroll:he(new Tpe),experimentalWhitespaceRendering:he(new on(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[m("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),m("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),m("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:m("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:he(new Sr(39,"extraEditorClassName","")),fastScrollSensitivity:he(new cl(40,"fastScrollSensitivity",5,n=>n<=0?5:n,{markdownDescription:m("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:he(new wpe),fixedOverflowWidgets:he(new Ht(42,"fixedOverflowWidgets",!1)),folding:he(new Ht(43,"folding",!0,{description:m("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:he(new on(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[m("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),m("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:m("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:he(new Ht(45,"foldingHighlight",!0,{description:m("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:he(new Ht(46,"foldingImportsByDefault",!1,{description:m("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:he(new Ci(47,"foldingMaximumRegions",5e3,10,65e3,{description:m("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:he(new Ht(48,"unfoldOnClickAfterEndOfLine",!1,{description:m("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:he(new Sr(49,"fontFamily",os.fontFamily,{description:m("fontFamily","Controls the font family.")})),fontInfo:he(new Spe),fontLigatures2:he(new Zs),fontSize:he(new xpe),fontWeight:he(new rd),fontVariations:he(new Jl),formatOnPaste:he(new Ht(55,"formatOnPaste",!1,{description:m("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:he(new Ht(56,"formatOnType",!1,{description:m("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:he(new Ht(57,"glyphMargin",!0,{description:m("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:he(new kpe),hideCursorInOverviewRuler:he(new Ht(59,"hideCursorInOverviewRuler",!1,{description:m("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:he(new Lpe),inDiffEditor:he(new Ht(61,"inDiffEditor",!1)),letterSpacing:he(new cl(64,"letterSpacing",os.letterSpacing,n=>cl.clamp(n,-5,20),{description:m("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:he(new Epe),lineDecorationsWidth:he(new Npe),lineHeight:he(new Rpe),lineNumbers:he(new Wpe),lineNumbersMinChars:he(new Ci(69,"lineNumbersMinChars",5,1,300)),linkedEditing:he(new Ht(70,"linkedEditing",!1,{description:m("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:he(new Ht(71,"links",!0,{description:m("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:he(new on(72,"matchBrackets","always",["always","near","never"],{description:m("matchBrackets","Highlight matching brackets.")})),minimap:he(new Mpe),mouseStyle:he(new on(74,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:he(new cl(75,"mouseWheelScrollSensitivity",1,n=>n===0?1:n,{markdownDescription:m("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:he(new Ht(76,"mouseWheelZoom",!1,{markdownDescription:Rt?m("mouseWheelZoom.mac","Zoom the font of the editor when using mouse wheel and holding `Cmd`."):m("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:he(new Ht(77,"multiCursorMergeOverlapping",!0,{description:m("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:he(new Rx(78,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Ape,{markdownEnumDescriptions:[m("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),m("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:m({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:he(new on(79,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[m("multiCursorPaste.spread","Each cursor pastes a single line of the text."),m("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:m("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:he(new Ci(80,"multiCursorLimit",1e4,1,1e5,{markdownDescription:m("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:he(new on(81,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[m("occurrencesHighlight.off","Does not highlight occurrences."),m("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),m("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:m("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:he(new Ht(82,"overviewRulerBorder",!0,{description:m("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:he(new Ci(83,"overviewRulerLanes",3,0,3)),padding:he(new Ppe),pasteAs:he(new Jpe),parameterHints:he(new Ope),peekWidgetDefaultFocus:he(new on(87,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[m("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),m("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:m("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:he(new Ht(88,"definitionLinkOpensInPeek",!1,{description:m("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:he(new Bpe),quickSuggestionsDelay:he(new Ci(90,"quickSuggestionsDelay",10,0,1073741824,{description:m("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:he(new Ht(91,"readOnly",!1)),readOnlyMessage:he(new Hpe),renameOnType:he(new Ht(93,"renameOnType",!1,{description:m("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:m("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:he(new Ht(94,"renderControlCharacters",!0,{description:m("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:he(new on(95,"renderFinalNewline",Br?"dimmed":"on",["off","on","dimmed"],{description:m("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:he(new on(96,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",m("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:m("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:he(new Ht(97,"renderLineHighlightOnlyWhenFocus",!1,{description:m("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:he(new on(98,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:he(new on(99,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",m("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),m("renderWhitespace.selection","Render whitespace characters only on selected text."),m("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:m("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:he(new Ci(100,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:he(new Ht(101,"roundedSelection",!0,{description:m("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:he(new Vpe),scrollbar:he(new zpe),scrollBeyondLastColumn:he(new Ci(104,"scrollBeyondLastColumn",4,0,1073741824,{description:m("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:he(new Ht(105,"scrollBeyondLastLine",!0,{description:m("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:he(new Ht(106,"scrollPredominantAxis",!0,{description:m("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:he(new Ht(107,"selectionClipboard",!0,{description:m("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Br})),selectionHighlight:he(new Ht(108,"selectionHighlight",!0,{description:m("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:he(new Ht(109,"selectOnLineNumbers",!0)),showFoldingControls:he(new on(110,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[m("showFoldingControls.always","Always show the folding controls."),m("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),m("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:m("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:he(new Ht(111,"showUnused",!0,{description:m("showUnused","Controls fading out of unused code.")})),showDeprecated:he(new Ht(139,"showDeprecated",!0,{description:m("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:he(new Ipe),snippetSuggestions:he(new on(112,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[m("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),m("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),m("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),m("snippetSuggestions.none","Do not show snippet suggestions.")],description:m("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:he(new Zpe),smoothScrolling:he(new Ht(114,"smoothScrolling",!1,{description:m("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:he(new Ci(117,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:he(new Gpe),inlineSuggest:he(new $pe),inlineEdit:he(new jpe),inlineCompletionsAccessibilityVerbose:he(new Ht(148,"inlineCompletionsAccessibilityVerbose",!1,{description:m("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:he(new Ci(119,"suggestFontSize",0,0,1e3,{markdownDescription:m("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:he(new Ci(120,"suggestLineHeight",0,0,1e3,{markdownDescription:m("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:he(new Ht(121,"suggestOnTriggerCharacters",!0,{description:m("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:he(new on(122,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[m("suggestSelection.first","Always select the first suggestion."),m("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),m("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:m("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:he(new on(123,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[m("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),m("tabCompletion.off","Disable tab completions."),m("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:m("tabCompletion","Enables tab completions.")})),tabIndex:he(new Ci(124,"tabIndex",0,-1,1073741824)),unicodeHighlight:he(new Upe),unusualLineTerminators:he(new on(126,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[m("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),m("unusualLineTerminators.off","Unusual line terminators are ignored."),m("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:m("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:he(new Ht(127,"useShadowDOM",!0)),useTabStops:he(new Ht(128,"useTabStops",!0,{description:m("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:he(new on(129,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[m("wordBreak.normal","Use the default line break rule."),m("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:m("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:he(new Sr(130,"wordSeparators",lQ,{description:m("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:he(new on(131,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[m("wordWrap.off","Lines will never wrap."),m("wordWrap.on","Lines will wrap at the viewport width."),m({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),m({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:m({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:he(new Sr(132,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;")),wordWrapBreakBeforeCharacters:he(new Sr(133,"wordWrapBreakBeforeCharacters","([{+")),wordWrapColumn:he(new Ci(134,"wordWrapColumn",80,1,1073741824,{markdownDescription:m({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:he(new on(135,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:he(new on(136,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:he(new Cpe),defaultColorDecorators:he(new Ht(146,"defaultColorDecorators",!1,{markdownDescription:m("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:he(new Fpe),tabFocusMode:he(new Ht(143,"tabFocusMode",!1,{markdownDescription:m("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:he(new Mb),wrappingInfo:he(new Xpe),wrappingIndent:he(new Ype),wrappingStrategy:he(new Dpe)};class nme{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?y_.isErrorNoTelemetry(e)?new y_(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}}const hQ=new nme;function st(n){Ic(n)||hQ.onUnexpectedError(n)}function Bn(n){Ic(n)||hQ.onUnexpectedExternalError(n)}function lz(n){if(n instanceof Error){const{name:e,message:t}=n,i=n.stacktrace||n.stack;return{$isError:!0,name:e,message:t,stack:i,noTelemetry:y_.isErrorNoTelemetry(n)}}return n}const HD="Canceled";function Ic(n){return n instanceof Rf?!0:n instanceof Error&&n.name===HD&&n.message===HD}class Rf extends Error{constructor(){super(HD),this.name=this.message}}function ome(){const n=new Error(HD);return n.name=n.message,n}function Ra(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function P8(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}class rme extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}class y_ extends Error{constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof y_)return e;const t=new y_;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}}class Hi extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,Hi.prototype)}}function Qg(n,e){const t=this;let i=!1,o;return function(){if(i)return o;if(i=!0,e)try{o=n.apply(t,arguments)}finally{e()}else o=n.apply(t,arguments);return o}}function O8(n){return typeof n.dispose=="function"&&n.dispose.length===0}function si(n){if(Mt.is(n)){const e=[];for(const t of n)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}function vl(...n){return je(()=>si(n))}function je(n){return{dispose:Qg(()=>{n()})}}class oe{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{si(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?oe.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}deleteAndLeak(e){e&&this._toDispose.has(e)&&this._toDispose.delete(e)}}oe.DISABLE_DISPOSED_WARNING=!1;class z{constructor(){this._store=new oe,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}z.None=Object.freeze({dispose(){}});class bo{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)===null||t===void 0||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,(e=this._value)===null||e===void 0||e.dispose(),this._value=void 0}}class sme{constructor(e){this._disposable=e,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class ame{constructor(e){this.object=e}dispose(){}}class F8{constructor(){this._store=new Map,this._isDisposed=!1}dispose(){this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{si(this._store.values())}finally{this._store.clear()}}get(e){return this._store.get(e)}set(e,t,i=!1){var o;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),i||(o=this._store.get(e))===null||o===void 0||o.dispose(),this._store.set(e,t)}deleteAndDispose(e){var t;(t=this._store.get(e))===null||t===void 0||t.dispose(),this._store.delete(e)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}const lme=globalThis.performance&&typeof globalThis.performance.now=="function";class Jo{static create(e){return new Jo(e)}constructor(e){this._now=lme&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}var me;(function(n){n.None=()=>z.None;function e(P,A){return u(P,()=>{},0,void 0,!0,void 0,A)}n.defer=e;function t(P){return(A,F=null,K)=>{let te=!1,ye;return ye=P(be=>{if(!te)return ye?ye.dispose():te=!0,A.call(F,be)},null,K),te&&ye.dispose(),ye}}n.once=t;function i(P,A,F){return c((K,te=null,ye)=>P(be=>K.call(te,A(be)),null,ye),F)}n.map=i;function o(P,A,F){return c((K,te=null,ye)=>P(be=>{A(be),K.call(te,be)},null,ye),F)}n.forEach=o;function r(P,A,F){return c((K,te=null,ye)=>P(be=>A(be)&&K.call(te,be),null,ye),F)}n.filter=r;function s(P){return P}n.signal=s;function a(...P){return(A,F=null,K)=>{const te=vl(...P.map(ye=>ye(be=>A.call(F,be))));return d(te,K)}}n.any=a;function l(P,A,F,K){let te=F;return i(P,ye=>(te=A(te,ye),te),K)}n.reduce=l;function c(P,A){let F;const K={onWillAddFirstListener(){F=P(te.fire,te)},onDidRemoveLastListener(){F==null||F.dispose()}},te=new B(K);return A==null||A.add(te),te.event}function d(P,A){return A instanceof Array?A.push(P):A&&A.add(P),P}function u(P,A,F=100,K=!1,te=!1,ye,be){let ae,Q,_e,Ie=0,se;const Y={leakWarningThreshold:ye,onWillAddFirstListener(){ae=P(tt=>{Ie++,Q=A(Q,tt),K&&!_e&&(Ne.fire(Q),Q=void 0),se=()=>{const ne=Q;Q=void 0,_e=void 0,(!K||Ie>1)&&Ne.fire(ne),Ie=0},typeof F=="number"?(clearTimeout(_e),_e=setTimeout(se,F)):_e===void 0&&(_e=0,queueMicrotask(se))})},onWillRemoveListener(){te&&Ie>0&&(se==null||se())},onDidRemoveLastListener(){se=void 0,ae.dispose()}},Ne=new B(Y);return be==null||be.add(Ne),Ne.event}n.debounce=u;function h(P,A=0,F){return n.debounce(P,(K,te)=>K?(K.push(te),K):[te],A,void 0,!0,void 0,F)}n.accumulate=h;function g(P,A=(K,te)=>K===te,F){let K=!0,te;return r(P,ye=>{const be=K||!A(ye,te);return K=!1,te=ye,be},F)}n.latch=g;function f(P,A,F){return[n.filter(P,A,F),n.filter(P,K=>!A(K),F)]}n.split=f;function p(P,A=!1,F=[],K){let te=F.slice(),ye=P(Q=>{te?te.push(Q):ae.fire(Q)});K&&K.add(ye);const be=()=>{te==null||te.forEach(Q=>ae.fire(Q)),te=null},ae=new B({onWillAddFirstListener(){ye||(ye=P(Q=>ae.fire(Q)),K&&K.add(ye))},onDidAddFirstListener(){te&&(A?setTimeout(be):be())},onDidRemoveLastListener(){ye&&ye.dispose(),ye=null}});return K&&K.add(ae),ae.event}n.buffer=p;function b(P,A){return(K,te,ye)=>{const be=A(new _);return P(function(ae){const Q=be.evaluate(ae);Q!==v&&K.call(te,Q)},void 0,ye)}}n.chain=b;const v=Symbol("HaltChainable");class _{constructor(){this.steps=[]}map(A){return this.steps.push(A),this}forEach(A){return this.steps.push(F=>(A(F),F)),this}filter(A){return this.steps.push(F=>A(F)?F:v),this}reduce(A,F){let K=F;return this.steps.push(te=>(K=A(K,te),K)),this}latch(A=(F,K)=>F===K){let F=!0,K;return this.steps.push(te=>{const ye=F||!A(te,K);return F=!1,K=te,ye?te:v}),this}evaluate(A){for(const F of this.steps)if(A=F(A),A===v)break;return A}}function C(P,A,F=K=>K){const K=(...ae)=>be.fire(F(...ae)),te=()=>P.on(A,K),ye=()=>P.removeListener(A,K),be=new B({onWillAddFirstListener:te,onDidRemoveLastListener:ye});return be.event}n.fromNodeEventEmitter=C;function y(P,A,F=K=>K){const K=(...ae)=>be.fire(F(...ae)),te=()=>P.addEventListener(A,K),ye=()=>P.removeEventListener(A,K),be=new B({onWillAddFirstListener:te,onDidRemoveLastListener:ye});return be.event}n.fromDOMEventEmitter=y;function w(P){return new Promise(A=>t(P)(A))}n.toPromise=w;function S(P){const A=new B;return P.then(F=>{A.fire(F)},()=>{A.fire(void 0)}).finally(()=>{A.dispose()}),A.event}n.fromPromise=S;function x(P,A,F){return A(F),P(K=>A(K))}n.runAndSubscribe=x;class L{constructor(A,F){this._observable=A,this._counter=0,this._hasChanged=!1;const K={onWillAddFirstListener:()=>{A.addObserver(this)},onDidRemoveLastListener:()=>{A.removeObserver(this)}};this.emitter=new B(K),F&&F.add(this.emitter)}beginUpdate(A){this._counter++}handlePossibleChange(A){}handleChange(A,F){this._hasChanged=!0}endUpdate(A){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function E(P,A){return new L(P,A).emitter.event}n.fromObservable=E;function O(P){return(A,F,K)=>{let te=0,ye=!1;const be={beginUpdate(){te++},endUpdate(){te--,te===0&&(P.reportChanges(),ye&&(ye=!1,A.call(F)))},handlePossibleChange(){},handleChange(){ye=!0}};P.addObserver(be),P.reportChanges();const ae={dispose(){P.removeObserver(be)}};return K instanceof oe?K.add(ae):Array.isArray(K)&&K.push(ae),ae}}n.fromObservableLight=O})(me||(me={}));class w_{constructor(e){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${e}_${w_._idPool++}`,w_.all.add(this)}start(e){this._stopWatch=new Jo,this.listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}}w_.all=new Set;w_._idPool=0;let cme=-1;class dme{constructor(e,t=Math.random().toString(18).slice(2,5)){this.threshold=e,this.name=t,this._warnCountdown=0}dispose(){var e;(e=this._stacks)===null||e===void 0||e.clear()}check(e,t){const i=this.threshold;if(i<=0||t<i)return;this._stacks||(this._stacks=new Map);const o=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,o+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=i*.5;let r,s=0;for(const[a,l]of this._stacks)(!r||s<l)&&(r=a,s=l);console.warn(`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${s}):`),console.warn(r)}return()=>{const r=this._stacks.get(e.value)||0;this._stacks.set(e.value,r-1)}}}class B8{static create(){var e;return new B8((e=new Error().stack)!==null&&e!==void 0?e:"")}constructor(e){this.value=e}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class HR{constructor(e){this.value=e}}const ume=2;let B=class{constructor(e){var t,i,o,r,s;this._size=0,this._options=e,this._leakageMon=!((t=this._options)===null||t===void 0)&&t.leakWarningThreshold?new dme((o=(i=this._options)===null||i===void 0?void 0:i.leakWarningThreshold)!==null&&o!==void 0?o:cme):void 0,this._perfMon=!((r=this._options)===null||r===void 0)&&r._profName?new w_(this._options._profName):void 0,this._deliveryQueue=(s=this._options)===null||s===void 0?void 0:s.deliveryQueue}dispose(){var e,t,i,o;this._disposed||(this._disposed=!0,((e=this._deliveryQueue)===null||e===void 0?void 0:e.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),(i=(t=this._options)===null||t===void 0?void 0:t.onDidRemoveLastListener)===null||i===void 0||i.call(t),(o=this._leakageMon)===null||o===void 0||o.dispose())}get event(){var e;return(e=this._event)!==null&&e!==void 0||(this._event=(t,i,o)=>{var r,s,a,l,c;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),z.None;if(this._disposed)return z.None;i&&(t=t.bind(i));const d=new HR(t);let u;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(d.stack=B8.create(),u=this._leakageMon.check(d.stack,this._size+1)),this._listeners?this._listeners instanceof HR?((c=this._deliveryQueue)!==null&&c!==void 0||(this._deliveryQueue=new gQ),this._listeners=[this._listeners,d]):this._listeners.push(d):((s=(r=this._options)===null||r===void 0?void 0:r.onWillAddFirstListener)===null||s===void 0||s.call(r,this),this._listeners=d,(l=(a=this._options)===null||a===void 0?void 0:a.onDidAddFirstListener)===null||l===void 0||l.call(a,this)),this._size++;const h=je(()=>{u==null||u(),this._removeListener(d)});return o instanceof oe?o.add(h):Array.isArray(o)&&o.push(h),h}),this._event}_removeListener(e){var t,i,o,r;if((i=(t=this._options)===null||t===void 0?void 0:t.onWillRemoveListener)===null||i===void 0||i.call(t,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(r=(o=this._options)===null||o===void 0?void 0:o.onDidRemoveLastListener)===null||r===void 0||r.call(o,this),this._size=0;return}const s=this._listeners,a=s.indexOf(e);if(a===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,s[a]=void 0;const l=this._deliveryQueue.current===this;if(this._size*ume<=s.length){let c=0;for(let d=0;d<s.length;d++)s[d]?s[c++]=s[d]:l&&(this._deliveryQueue.end--,c<this._deliveryQueue.i&&this._deliveryQueue.i--);s.length=c}}_deliver(e,t){var i;if(!e)return;const o=((i=this._options)===null||i===void 0?void 0:i.onListenerError)||st;if(!o){e.value(t);return}try{e.value(t)}catch(r){o(r)}}_deliverQueue(e){const t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){var t,i,o,r;if(!((t=this._deliveryQueue)===null||t===void 0)&&t.current&&(this._deliverQueue(this._deliveryQueue),(i=this._perfMon)===null||i===void 0||i.stop()),(o=this._perfMon)===null||o===void 0||o.start(this._size),this._listeners)if(this._listeners instanceof HR)this._deliver(this._listeners,e);else{const s=this._deliveryQueue;s.enqueue(this,e,this._listeners.length),this._deliverQueue(s)}(r=this._perfMon)===null||r===void 0||r.stop()}hasListeners(){return this._size>0}};const hme=()=>new gQ;class gQ{constructor(){this.i=-1,this.end=0}enqueue(e,t,i){this.i=0,this.end=i,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class dm extends B{constructor(e){super(e),this._isPaused=0,this._eventQueue=new Ir,this._mergeFn=e==null?void 0:e.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._size&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}}class fQ extends dm{constructor(e){var t;super(e),this._delay=(t=e.delay)!==null&&t!==void 0?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}}class gme extends B{constructor(e){super(e),this._queuedEvents=[],this._mergeFn=e==null?void 0:e.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(t=>super.fire(t)),this._queuedEvents=[]}))}}class fme{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new B({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(e){const t={event:e,listener:null};return this.events.push(t),this.hasListeners&&this.hook(t),je(Qg(()=>{this.hasListeners&&this.unhook(t);const o=this.events.indexOf(t);this.events.splice(o,1)}))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(e=>this.hook(e))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(e=>this.unhook(e))}hook(e){e.listener=e.event(t=>this.emitter.fire(t))}unhook(e){var t;(t=e.listener)===null||t===void 0||t.dispose(),e.listener=null}dispose(){var e;this.emitter.dispose();for(const t of this.events)(e=t.listener)===null||e===void 0||e.dispose();this.events=[]}}class W8{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,o)=>e(r=>{const s=this.buffers[this.buffers.length-1];s?s.push(()=>t.call(i,r)):t.call(i,r)},void 0,o)}bufferEvents(e){const t=[];this.buffers.push(t);const i=e();return this.buffers.pop(),t.forEach(o=>o()),i}}class cz{constructor(){this.listening=!1,this.inputEvent=me.None,this.inputEventListener=z.None,this.emitter=new B({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const pQ=Object.freeze(function(n,e){const t=setTimeout(n.bind(e),0);return{dispose(){clearTimeout(t)}}});var Dt;(function(n){function e(t){return t===n.None||t===n.Cancelled||t instanceof CL?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}n.isCancellationToken=e,n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:me.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:pQ})})(Dt||(Dt={}));class CL{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?pQ:(this._emitter||(this._emitter=new B),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}let gn=class{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new CL),this._token}cancel(){this._token?this._token instanceof CL&&this._token.cancel():this._token=Dt.Cancelled}dispose(e=!1){var t;e&&this.cancel(),(t=this._parentListener)===null||t===void 0||t.dispose(),this._token?this._token instanceof CL&&this._token.dispose():this._token=Dt.None}};class V8{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const yL=new V8,$O=new V8,jO=new V8,mQ=new Array(230),pme=Object.create(null),mme=Object.create(null),H8=[];for(let n=0;n<=193;n++)H8[n]=-1;(function(){const n="",e=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[1,1,"Hyper",0,n,0,n,n,n],[1,2,"Super",0,n,0,n,n,n],[1,3,"Fn",0,n,0,n,n,n],[1,4,"FnLock",0,n,0,n,n,n],[1,5,"Suspend",0,n,0,n,n,n],[1,6,"Resume",0,n,0,n,n,n],[1,7,"Turbo",0,n,0,n,n,n],[1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[1,9,"WakeUp",0,n,0,n,n,n],[0,10,"KeyA",31,"A",65,"VK_A",n,n],[0,11,"KeyB",32,"B",66,"VK_B",n,n],[0,12,"KeyC",33,"C",67,"VK_C",n,n],[0,13,"KeyD",34,"D",68,"VK_D",n,n],[0,14,"KeyE",35,"E",69,"VK_E",n,n],[0,15,"KeyF",36,"F",70,"VK_F",n,n],[0,16,"KeyG",37,"G",71,"VK_G",n,n],[0,17,"KeyH",38,"H",72,"VK_H",n,n],[0,18,"KeyI",39,"I",73,"VK_I",n,n],[0,19,"KeyJ",40,"J",74,"VK_J",n,n],[0,20,"KeyK",41,"K",75,"VK_K",n,n],[0,21,"KeyL",42,"L",76,"VK_L",n,n],[0,22,"KeyM",43,"M",77,"VK_M",n,n],[0,23,"KeyN",44,"N",78,"VK_N",n,n],[0,24,"KeyO",45,"O",79,"VK_O",n,n],[0,25,"KeyP",46,"P",80,"VK_P",n,n],[0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[0,27,"KeyR",48,"R",82,"VK_R",n,n],[0,28,"KeyS",49,"S",83,"VK_S",n,n],[0,29,"KeyT",50,"T",84,"VK_T",n,n],[0,30,"KeyU",51,"U",85,"VK_U",n,n],[0,31,"KeyV",52,"V",86,"VK_V",n,n],[0,32,"KeyW",53,"W",87,"VK_W",n,n],[0,33,"KeyX",54,"X",88,"VK_X",n,n],[0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[0,36,"Digit1",22,"1",49,"VK_1",n,n],[0,37,"Digit2",23,"2",50,"VK_2",n,n],[0,38,"Digit3",24,"3",51,"VK_3",n,n],[0,39,"Digit4",25,"4",52,"VK_4",n,n],[0,40,"Digit5",26,"5",53,"VK_5",n,n],[0,41,"Digit6",27,"6",54,"VK_6",n,n],[0,42,"Digit7",28,"7",55,"VK_7",n,n],[0,43,"Digit8",29,"8",56,"VK_8",n,n],[0,44,"Digit9",30,"9",57,"VK_9",n,n],[0,45,"Digit0",21,"0",48,"VK_0",n,n],[1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,n,0,n,n,n],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[1,64,"F1",59,"F1",112,"VK_F1",n,n],[1,65,"F2",60,"F2",113,"VK_F2",n,n],[1,66,"F3",61,"F3",114,"VK_F3",n,n],[1,67,"F4",62,"F4",115,"VK_F4",n,n],[1,68,"F5",63,"F5",116,"VK_F5",n,n],[1,69,"F6",64,"F6",117,"VK_F6",n,n],[1,70,"F7",65,"F7",118,"VK_F7",n,n],[1,71,"F8",66,"F8",119,"VK_F8",n,n],[1,72,"F9",67,"F9",120,"VK_F9",n,n],[1,73,"F10",68,"F10",121,"VK_F10",n,n],[1,74,"F11",69,"F11",122,"VK_F11",n,n],[1,75,"F12",70,"F12",123,"VK_F12",n,n],[1,76,"PrintScreen",0,n,0,n,n,n],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",n,n],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[1,80,"Home",14,"Home",36,"VK_HOME",n,n],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[1,83,"End",13,"End",35,"VK_END",n,n],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",n,n],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",n,n],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",n,n],[1,94,"NumpadEnter",3,n,0,n,n,n],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",n,n],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",n,n],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",n,n],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",n,n],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",n,n],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",n,n],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",n,n],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",n,n],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",n,n],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",n,n],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",n,n],[1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[1,108,"Power",0,n,0,n,n,n],[1,109,"NumpadEqual",0,n,0,n,n,n],[1,110,"F13",71,"F13",124,"VK_F13",n,n],[1,111,"F14",72,"F14",125,"VK_F14",n,n],[1,112,"F15",73,"F15",126,"VK_F15",n,n],[1,113,"F16",74,"F16",127,"VK_F16",n,n],[1,114,"F17",75,"F17",128,"VK_F17",n,n],[1,115,"F18",76,"F18",129,"VK_F18",n,n],[1,116,"F19",77,"F19",130,"VK_F19",n,n],[1,117,"F20",78,"F20",131,"VK_F20",n,n],[1,118,"F21",79,"F21",132,"VK_F21",n,n],[1,119,"F22",80,"F22",133,"VK_F22",n,n],[1,120,"F23",81,"F23",134,"VK_F23",n,n],[1,121,"F24",82,"F24",135,"VK_F24",n,n],[1,122,"Open",0,n,0,n,n,n],[1,123,"Help",0,n,0,n,n,n],[1,124,"Select",0,n,0,n,n,n],[1,125,"Again",0,n,0,n,n,n],[1,126,"Undo",0,n,0,n,n,n],[1,127,"Cut",0,n,0,n,n,n],[1,128,"Copy",0,n,0,n,n,n],[1,129,"Paste",0,n,0,n,n,n],[1,130,"Find",0,n,0,n,n,n],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",n,n],[1,136,"KanaMode",0,n,0,n,n,n],[0,137,"IntlYen",0,n,0,n,n,n],[1,138,"Convert",0,n,0,n,n,n],[1,139,"NonConvert",0,n,0,n,n,n],[1,140,"Lang1",0,n,0,n,n,n],[1,141,"Lang2",0,n,0,n,n,n],[1,142,"Lang3",0,n,0,n,n,n],[1,143,"Lang4",0,n,0,n,n,n],[1,144,"Lang5",0,n,0,n,n,n],[1,145,"Abort",0,n,0,n,n,n],[1,146,"Props",0,n,0,n,n,n],[1,147,"NumpadParenLeft",0,n,0,n,n,n],[1,148,"NumpadParenRight",0,n,0,n,n,n],[1,149,"NumpadBackspace",0,n,0,n,n,n],[1,150,"NumpadMemoryStore",0,n,0,n,n,n],[1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[1,152,"NumpadMemoryClear",0,n,0,n,n,n],[1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",n,n],[1,156,"NumpadClearEntry",0,n,0,n,n,n],[1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[1,0,n,6,"Alt",18,"VK_MENU",n,n],[1,0,n,57,"Meta",91,"VK_COMMAND",n,n],[1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[1,165,"BrightnessUp",0,n,0,n,n,n],[1,166,"BrightnessDown",0,n,0,n,n,n],[1,167,"MediaPlay",0,n,0,n,n,n],[1,168,"MediaRecord",0,n,0,n,n,n],[1,169,"MediaFastForward",0,n,0,n,n,n],[1,170,"MediaRewind",0,n,0,n,n,n],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",n,n],[1,174,"Eject",0,n,0,n,n,n],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[1,180,"SelectTask",0,n,0,n,n,n],[1,181,"LaunchScreenSaver",0,n,0,n,n,n],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[1,189,"ZoomToggle",0,n,0,n,n,n],[1,190,"MailReply",0,n,0,n,n,n],[1,191,"MailForward",0,n,0,n,n,n],[1,192,"MailSend",0,n,0,n,n,n],[1,0,n,114,"KeyInComposition",229,n,n,n],[1,0,n,116,"ABNT_C2",194,"VK_ABNT_C2",n,n],[1,0,n,96,"OEM_8",223,"VK_OEM_8",n,n],[1,0,n,0,n,0,"VK_KANA",n,n],[1,0,n,0,n,0,"VK_HANGUL",n,n],[1,0,n,0,n,0,"VK_JUNJA",n,n],[1,0,n,0,n,0,"VK_FINAL",n,n],[1,0,n,0,n,0,"VK_HANJA",n,n],[1,0,n,0,n,0,"VK_KANJI",n,n],[1,0,n,0,n,0,"VK_CONVERT",n,n],[1,0,n,0,n,0,"VK_NONCONVERT",n,n],[1,0,n,0,n,0,"VK_ACCEPT",n,n],[1,0,n,0,n,0,"VK_MODECHANGE",n,n],[1,0,n,0,n,0,"VK_SELECT",n,n],[1,0,n,0,n,0,"VK_PRINT",n,n],[1,0,n,0,n,0,"VK_EXECUTE",n,n],[1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[1,0,n,0,n,0,"VK_HELP",n,n],[1,0,n,0,n,0,"VK_APPS",n,n],[1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[1,0,n,0,n,0,"VK_PACKET",n,n],[1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[1,0,n,0,n,0,"VK_ATTN",n,n],[1,0,n,0,n,0,"VK_CRSEL",n,n],[1,0,n,0,n,0,"VK_EXSEL",n,n],[1,0,n,0,n,0,"VK_EREOF",n,n],[1,0,n,0,n,0,"VK_PLAY",n,n],[1,0,n,0,n,0,"VK_ZOOM",n,n],[1,0,n,0,n,0,"VK_NONAME",n,n],[1,0,n,0,n,0,"VK_PA1",n,n],[1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],t=[],i=[];for(const o of e){const[r,s,a,l,c,d,u,h,g]=o;if(i[s]||(i[s]=!0,pme[a]=s,mme[a.toLowerCase()]=s,r&&(H8[s]=l)),!t[l]){if(t[l]=!0,!c)throw new Error(`String representation missing for key code ${l} around scan code ${a}`);yL.define(l,c),$O.define(l,h||c),jO.define(l,g||h||c)}d&&(mQ[d]=l)}})();var bu;(function(n){function e(a){return yL.keyCodeToStr(a)}n.toString=e;function t(a){return yL.strToKeyCode(a)}n.fromString=t;function i(a){return $O.keyCodeToStr(a)}n.toUserSettingsUS=i;function o(a){return jO.keyCodeToStr(a)}n.toUserSettingsGeneral=o;function r(a){return $O.strToKeyCode(a)||jO.strToKeyCode(a)}n.fromUserSettings=r;function s(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return yL.keyCodeToStr(a)}n.toElectronAccelerator=s})(bu||(bu={}));function qn(n,e){const t=(e&65535)<<16>>>0;return(n|t)>>>0}var dz={NVM_INC:"/Users/g.ernest/.nvm/versions/node/v21.7.1/include/node",TERM_PROGRAM:"vscode",NODE:"/Users/g.ernest/.nvm/versions/node/v21.7.1/bin/node",LESS_TERMCAP_md:"\x1B[38;5;136m",DOCKER_PASSWORD:"mjuninunda1989",INIT_CWD:"/Volumes/code/requiemdb/ui",NVM_CD_FLAGS:"",TERM:"xterm-256color",SHELL:"/usr/local/bin/bash",HISTSIZE:"32768",TMPDIR:"/var/folders/82/kbw661tj579fcykv_vz2sjbw0000gn/T/",npm_config_global_prefix:"/Users/g.ernest/.nvm/versions/node/v21.7.1",TERM_PROGRAM_VERSION:"1.87.2",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",COLOR:"1",TERM_SESSION_ID:"34872007-7DA3-49E9-B4E4-969962229AA6",npm_config_noproxy:"",npm_config_local_prefix:"/Volumes/code/requiemdb/ui",LC_ALL:"en_US.UTF-8",HISTFILESIZE:"32768",PYTHONIOENCODING:"UTF-8",USER:"g.ernest",NVM_DIR:"/Users/g.ernest/.nvm",LS_COLORS:"no=00:fi=00:di=01;31:ln=01;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.gz=01;31:*.bz2=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.avi=01;35:*.fli=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.ogg=01;35:*.mp3=01;35:*.wav=01;35:",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/Users/g.ernest/.nvm/versions/node/v21.7.1/etc/npmrc",KUBECONFIG:"/Users/g.ernest/.kube/config",NODE_REPL_MODE:"sloppy",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.6aDwdULpBx/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/g.ernest/.nvm/versions/node/v21.7.1/lib/node_modules/npm/bin/npm-cli.js",DOLLAR:"$",GOLINE:"8",PATH:"/Volumes/code/requiemdb/ui/node_modules/.bin:/Volumes/code/requiemdb/node_modules/.bin:/Volumes/code/node_modules/.bin:/Volumes/node_modules/.bin:/node_modules/.bin:/Users/g.ernest/.nvm/versions/node/v21.7.1/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/Cellar/go/1.22.0/libexec/bin:/Users/g.ernest/go/bin:/Users/g.ernest/.nvm/versions/node/v21.7.1/bin:/Users/g.ernest/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/Library/Apple/usr/bin:/Applications/Postgres.app/Contents/Versions/latest/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Users/g.ernest/go/bin:/Users/g.ernest/.nvm/versions/node/v21.7.1/bin:/Users/g.ernest/bin:/Users/g.ernest/go/bin",AZURE_ACCESS:"uhk56f2f66dyu5gjxdhszxp5vi3nvec7tmxllijsjvqtodbl65sq",npm_package_json:"/Volumes/code/requiemdb/ui/package.json",_:"/Volumes/code/requiemdb/ui/node_modules/.bin/vite",npm_config_userconfig:"/Users/g.ernest/.npmrc",npm_config_init_module:"/Users/g.ernest/.npm-init.js",__CFBundleIdentifier:"com.microsoft.VSCode",npm_command:"run-script",PWD:"/Volumes/code/requiemdb/ui",GOARCH:"amd64",npm_lifecycle_event:"build",EDITOR:"vim",npm_package_name:"ui",LANG:"en_US.UTF-8",npm_config_npm_version:"10.5.0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",XPC_FLAGS:"0x0",GOFILE:"ui.go",npm_config_node_gyp:"/Users/g.ernest/.nvm/versions/node/v21.7.1/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",GOPACKAGE:"ui",DOCKER_USER:"gernest",npm_package_version:"0.0.0",XPC_SERVICE_NAME:"0",HISTCONTROL:"ignoreboth",GPG_TTY:"/dev/ttys008",DOCKERHUB_USER:"gernest",SHLVL:"4",MANPAGER:"less -X",HOME:"/Users/g.ernest",GOROOT:"/usr/local/Cellar/go/1.22.0/libexec",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",GOOS:"darwin",DOCKER_EMAIL:"geofreyernest@live.com",GITHUB_USER:"gernest",npm_config_cache:"/Users/g.ernest/.npm",GITHUB_PASSWORD:"mjuninunda1989",LOGNAME:"g.ernest",npm_lifecycle_script:"vite build",DOCKER_REGISTRY_SERVER:"https://index.docker.io/v1/",NODE_REPL_HISTORY:"/Users/g.ernest/.node_history",LC_CTYPE:"UTF-8",VSCODE_GIT_IPC_HANDLE:"/var/folders/82/kbw661tj579fcykv_vz2sjbw0000gn/T/vscode-git-98169039a3.sock",NVM_BIN:"/Users/g.ernest/.nvm/versions/node/v21.7.1/bin",DOCKERHUB_PASSWORD:"mjuninunda1989",GITHUB_TOKEN:"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",PKG_CONFIG_PATH:"/usr/local/opt/icu4c/lib/pkgconfig",npm_config_user_agent:"npm/10.5.0 node/v21.7.1 darwin x64 workspaces/false",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",DISPLAY:"/private/tmp/com.apple.launchd.eZKvorr6lN/org.macosforge.xquartz:0",NODE_REPL_HISTORY_SIZE:"32768",npm_node_execpath:"/Users/g.ernest/.nvm/versions/node/v21.7.1/bin/node",npm_config_prefix:"/Users/g.ernest/.nvm/versions/node/v21.7.1",COLORTERM:"truecolor",NODE_ENV:"production"};let Pb;const zR=globalThis.vscode;if(typeof zR<"u"&&typeof zR.process<"u"){const n=zR.process;Pb={get platform(){return n.platform},get arch(){return n.arch},get env(){return n.env},cwd(){return n.cwd()}}}else typeof process<"u"?Pb={get platform(){return process.platform},get arch(){return process.arch},get env(){return dz},cwd(){return dz.VSCODE_CWD||process.cwd()}}:Pb={get platform(){return Qo?"win32":Rt?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const zD=Pb.cwd,KO=Pb.env,vme=Pb.platform,bme=65,_me=97,Cme=90,yme=122,Rg=46,rr=47,Ws=92,Th=58,wme=63;class vQ extends Error{constructor(e,t,i){let o;typeof t=="string"&&t.indexOf("not ")===0?(o="must not be",t=t.replace(/^not /,"")):o="must be";const r=e.indexOf(".")!==-1?"property":"argument";let s=`The "${e}" ${r} ${o} of type ${t}`;s+=`. Received type ${typeof i}`,super(s),this.code="ERR_INVALID_ARG_TYPE"}}function Sme(n,e){if(n===null||typeof n!="object")throw new vQ(e,"Object",n)}function ho(n,e){if(typeof n!="string")throw new vQ(e,"string",n)}const Mf=vme==="win32";function ci(n){return n===rr||n===Ws}function qO(n){return n===rr}function Ih(n){return n>=bme&&n<=Cme||n>=_me&&n<=yme}function UD(n,e,t,i){let o="",r=0,s=-1,a=0,l=0;for(let c=0;c<=n.length;++c){if(c<n.length)l=n.charCodeAt(c);else{if(i(l))break;l=rr}if(i(l)){if(!(s===c-1||a===1))if(a===2){if(o.length<2||r!==2||o.charCodeAt(o.length-1)!==Rg||o.charCodeAt(o.length-2)!==Rg){if(o.length>2){const d=o.lastIndexOf(t);d===-1?(o="",r=0):(o=o.slice(0,d),r=o.length-1-o.lastIndexOf(t)),s=c,a=0;continue}else if(o.length!==0){o="",r=0,s=c,a=0;continue}}e&&(o+=o.length>0?`${t}..`:"..",r=2)}else o.length>0?o+=`${t}${n.slice(s+1,c)}`:o=n.slice(s+1,c),r=c-s-1;s=c,a=0}else l===Rg&&a!==-1?++a:a=-1}return o}function bQ(n,e){Sme(e,"pathObject");const t=e.dir||e.root,i=e.base||`${e.name||""}${e.ext||""}`;return t?t===e.root?`${t}${i}`:`${t}${n}${i}`:i}const ys={resolve(...n){let e="",t="",i=!1;for(let o=n.length-1;o>=-1;o--){let r;if(o>=0){if(r=n[o],ho(r,"path"),r.length===0)continue}else e.length===0?r=zD():(r=KO[`=${e}`]||zD(),(r===void 0||r.slice(0,2).toLowerCase()!==e.toLowerCase()&&r.charCodeAt(2)===Ws)&&(r=`${e}\\`));const s=r.length;let a=0,l="",c=!1;const d=r.charCodeAt(0);if(s===1)ci(d)&&(a=1,c=!0);else if(ci(d))if(c=!0,ci(r.charCodeAt(1))){let u=2,h=u;for(;u<s&&!ci(r.charCodeAt(u));)u++;if(u<s&&u!==h){const g=r.slice(h,u);for(h=u;u<s&&ci(r.charCodeAt(u));)u++;if(u<s&&u!==h){for(h=u;u<s&&!ci(r.charCodeAt(u));)u++;(u===s||u!==h)&&(l=`\\\\${g}\\${r.slice(h,u)}`,a=u)}}}else a=1;else Ih(d)&&r.charCodeAt(1)===Th&&(l=r.slice(0,2),a=2,s>2&&ci(r.charCodeAt(2))&&(c=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(i){if(e.length>0)break}else if(t=`${r.slice(a)}\\${t}`,i=c,c&&e.length>0)break}return t=UD(t,!i,"\\",ci),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(n){ho(n,"path");const e=n.length;if(e===0)return".";let t=0,i,o=!1;const r=n.charCodeAt(0);if(e===1)return qO(r)?"\\":n;if(ci(r))if(o=!0,ci(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!ci(n.charCodeAt(a));)a++;if(a<e&&a!==l){const c=n.slice(l,a);for(l=a;a<e&&ci(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!ci(n.charCodeAt(a));)a++;if(a===e)return`\\\\${c}\\${n.slice(l)}\\`;a!==l&&(i=`\\\\${c}\\${n.slice(l,a)}`,t=a)}}}else t=1;else Ih(r)&&n.charCodeAt(1)===Th&&(i=n.slice(0,2),t=2,e>2&&ci(n.charCodeAt(2))&&(o=!0,t=3));let s=t<e?UD(n.slice(t),!o,"\\",ci):"";return s.length===0&&!o&&(s="."),s.length>0&&ci(n.charCodeAt(e-1))&&(s+="\\"),i===void 0?o?`\\${s}`:s:o?`${i}\\${s}`:`${i}${s}`},isAbsolute(n){ho(n,"path");const e=n.length;if(e===0)return!1;const t=n.charCodeAt(0);return ci(t)||e>2&&Ih(t)&&n.charCodeAt(1)===Th&&ci(n.charCodeAt(2))},join(...n){if(n.length===0)return".";let e,t;for(let r=0;r<n.length;++r){const s=n[r];ho(s,"path"),s.length>0&&(e===void 0?e=t=s:e+=`\\${s}`)}if(e===void 0)return".";let i=!0,o=0;if(typeof t=="string"&&ci(t.charCodeAt(0))){++o;const r=t.length;r>1&&ci(t.charCodeAt(1))&&(++o,r>2&&(ci(t.charCodeAt(2))?++o:i=!1))}if(i){for(;o<e.length&&ci(e.charCodeAt(o));)o++;o>=2&&(e=`\\${e.slice(o)}`)}return ys.normalize(e)},relative(n,e){if(ho(n,"from"),ho(e,"to"),n===e)return"";const t=ys.resolve(n),i=ys.resolve(e);if(t===i||(n=t.toLowerCase(),e=i.toLowerCase(),n===e))return"";let o=0;for(;o<n.length&&n.charCodeAt(o)===Ws;)o++;let r=n.length;for(;r-1>o&&n.charCodeAt(r-1)===Ws;)r--;const s=r-o;let a=0;for(;a<e.length&&e.charCodeAt(a)===Ws;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===Ws;)l--;const c=l-a,d=s<c?s:c;let u=-1,h=0;for(;h<d;h++){const f=n.charCodeAt(o+h);if(f!==e.charCodeAt(a+h))break;f===Ws&&(u=h)}if(h!==d){if(u===-1)return i}else{if(c>d){if(e.charCodeAt(a+h)===Ws)return i.slice(a+h+1);if(h===2)return i.slice(a+h)}s>d&&(n.charCodeAt(o+h)===Ws?u=h:h===2&&(u=3)),u===-1&&(u=0)}let g="";for(h=o+u+1;h<=r;++h)(h===r||n.charCodeAt(h)===Ws)&&(g+=g.length===0?"..":"\\..");return a+=u,g.length>0?`${g}${i.slice(a,l)}`:(i.charCodeAt(a)===Ws&&++a,i.slice(a,l))},toNamespacedPath(n){if(typeof n!="string"||n.length===0)return n;const e=ys.resolve(n);if(e.length<=2)return n;if(e.charCodeAt(0)===Ws){if(e.charCodeAt(1)===Ws){const t=e.charCodeAt(2);if(t!==wme&&t!==Rg)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Ih(e.charCodeAt(0))&&e.charCodeAt(1)===Th&&e.charCodeAt(2)===Ws)return`\\\\?\\${e}`;return n},dirname(n){ho(n,"path");const e=n.length;if(e===0)return".";let t=-1,i=0;const o=n.charCodeAt(0);if(e===1)return ci(o)?n:".";if(ci(o)){if(t=i=1,ci(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!ci(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&ci(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!ci(n.charCodeAt(a));)a++;if(a===e)return n;a!==l&&(t=i=a+1)}}}}else Ih(o)&&n.charCodeAt(1)===Th&&(t=e>2&&ci(n.charCodeAt(2))?3:2,i=t);let r=-1,s=!0;for(let a=e-1;a>=i;--a)if(ci(n.charCodeAt(a))){if(!s){r=a;break}}else s=!1;if(r===-1){if(t===-1)return".";r=t}return n.slice(0,r)},basename(n,e){e!==void 0&&ho(e,"ext"),ho(n,"path");let t=0,i=-1,o=!0,r;if(n.length>=2&&Ih(n.charCodeAt(0))&&n.charCodeAt(1)===Th&&(t=2),e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let s=e.length-1,a=-1;for(r=n.length-1;r>=t;--r){const l=n.charCodeAt(r);if(ci(l)){if(!o){t=r+1;break}}else a===-1&&(o=!1,a=r+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=r):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(r=n.length-1;r>=t;--r)if(ci(n.charCodeAt(r))){if(!o){t=r+1;break}}else i===-1&&(o=!1,i=r+1);return i===-1?"":n.slice(t,i)},extname(n){ho(n,"path");let e=0,t=-1,i=0,o=-1,r=!0,s=0;n.length>=2&&n.charCodeAt(1)===Th&&Ih(n.charCodeAt(0))&&(e=i=2);for(let a=n.length-1;a>=e;--a){const l=n.charCodeAt(a);if(ci(l)){if(!r){i=a+1;break}continue}o===-1&&(r=!1,o=a+1),l===Rg?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||o===-1||s===0||s===1&&t===o-1&&t===i+1?"":n.slice(t,o)},format:bQ.bind(null,"\\"),parse(n){ho(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.length;let i=0,o=n.charCodeAt(0);if(t===1)return ci(o)?(e.root=e.dir=n,e):(e.base=e.name=n,e);if(ci(o)){if(i=1,ci(n.charCodeAt(1))){let u=2,h=u;for(;u<t&&!ci(n.charCodeAt(u));)u++;if(u<t&&u!==h){for(h=u;u<t&&ci(n.charCodeAt(u));)u++;if(u<t&&u!==h){for(h=u;u<t&&!ci(n.charCodeAt(u));)u++;u===t?i=u:u!==h&&(i=u+1)}}}}else if(Ih(o)&&n.charCodeAt(1)===Th){if(t<=2)return e.root=e.dir=n,e;if(i=2,ci(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;i=3}}i>0&&(e.root=n.slice(0,i));let r=-1,s=i,a=-1,l=!0,c=n.length-1,d=0;for(;c>=i;--c){if(o=n.charCodeAt(c),ci(o)){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),o===Rg?r===-1?r=c:d!==1&&(d=1):r!==-1&&(d=-1)}return a!==-1&&(r===-1||d===0||d===1&&r===a-1&&r===s+1?e.base=e.name=n.slice(s,a):(e.name=n.slice(s,r),e.base=n.slice(s,a),e.ext=n.slice(r,a))),s>0&&s!==i?e.dir=n.slice(0,s-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},xme=(()=>{if(Mf){const n=/\\/g;return()=>{const e=zD().replace(n,"/");return e.slice(e.indexOf("/"))}}return()=>zD()})(),$n={resolve(...n){let e="",t=!1;for(let i=n.length-1;i>=-1&&!t;i--){const o=i>=0?n[i]:xme();ho(o,"path"),o.length!==0&&(e=`${o}/${e}`,t=o.charCodeAt(0)===rr)}return e=UD(e,!t,"/",qO),t?`/${e}`:e.length>0?e:"."},normalize(n){if(ho(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===rr,t=n.charCodeAt(n.length-1)===rr;return n=UD(n,!e,"/",qO),n.length===0?e?"/":t?"./":".":(t&&(n+="/"),e?`/${n}`:n)},isAbsolute(n){return ho(n,"path"),n.length>0&&n.charCodeAt(0)===rr},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const i=n[t];ho(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":$n.normalize(e)},relative(n,e){if(ho(n,"from"),ho(e,"to"),n===e||(n=$n.resolve(n),e=$n.resolve(e),n===e))return"";const t=1,i=n.length,o=i-t,r=1,s=e.length-r,a=o<s?o:s;let l=-1,c=0;for(;c<a;c++){const u=n.charCodeAt(t+c);if(u!==e.charCodeAt(r+c))break;u===rr&&(l=c)}if(c===a)if(s>a){if(e.charCodeAt(r+c)===rr)return e.slice(r+c+1);if(c===0)return e.slice(r+c)}else o>a&&(n.charCodeAt(t+c)===rr?l=c:c===0&&(l=0));let d="";for(c=t+l+1;c<=i;++c)(c===i||n.charCodeAt(c)===rr)&&(d+=d.length===0?"..":"/..");return`${d}${e.slice(r+l)}`},toNamespacedPath(n){return n},dirname(n){if(ho(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===rr;let t=-1,i=!0;for(let o=n.length-1;o>=1;--o)if(n.charCodeAt(o)===rr){if(!i){t=o;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename(n,e){e!==void 0&&ho(e,"ext"),ho(n,"path");let t=0,i=-1,o=!0,r;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let s=e.length-1,a=-1;for(r=n.length-1;r>=0;--r){const l=n.charCodeAt(r);if(l===rr){if(!o){t=r+1;break}}else a===-1&&(o=!1,a=r+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=r):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(r=n.length-1;r>=0;--r)if(n.charCodeAt(r)===rr){if(!o){t=r+1;break}}else i===-1&&(o=!1,i=r+1);return i===-1?"":n.slice(t,i)},extname(n){ho(n,"path");let e=-1,t=0,i=-1,o=!0,r=0;for(let s=n.length-1;s>=0;--s){const a=n.charCodeAt(s);if(a===rr){if(!o){t=s+1;break}continue}i===-1&&(o=!1,i=s+1),a===Rg?e===-1?e=s:r!==1&&(r=1):e!==-1&&(r=-1)}return e===-1||i===-1||r===0||r===1&&e===i-1&&e===t+1?"":n.slice(e,i)},format:bQ.bind(null,"/"),parse(n){ho(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.charCodeAt(0)===rr;let i;t?(e.root="/",i=1):i=0;let o=-1,r=0,s=-1,a=!0,l=n.length-1,c=0;for(;l>=i;--l){const d=n.charCodeAt(l);if(d===rr){if(!a){r=l+1;break}continue}s===-1&&(a=!1,s=l+1),d===Rg?o===-1?o=l:c!==1&&(c=1):o!==-1&&(c=-1)}if(s!==-1){const d=r===0&&t?1:r;o===-1||c===0||c===1&&o===s-1&&o===r+1?e.base=e.name=n.slice(d,s):(e.name=n.slice(d,o),e.base=n.slice(d,s),e.ext=n.slice(o,s))}return r>0?e.dir=n.slice(0,r-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};$n.win32=ys.win32=ys;$n.posix=ys.posix=$n;const _Q=Mf?ys.normalize:$n.normalize,kme=Mf?ys.resolve:$n.resolve,Lme=Mf?ys.relative:$n.relative,CQ=Mf?ys.dirname:$n.dirname,Mg=Mf?ys.basename:$n.basename,Dme=Mf?ys.extname:$n.extname,uc=Mf?ys.sep:$n.sep,Eme=/^\w[\w\d+.-]*$/,Tme=/^\//,Ime=/^\/\//;function Nme(n,e){if(!n.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!Eme.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!Tme.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Ime.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function Rme(n,e){return!n&&!e?"file":n}function Mme(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==Gl&&(e=Gl+e):e=Gl;break}return e}const Ln="",Gl="/",Ame=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Ke{static isUri(e){return e instanceof Ke?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}constructor(e,t,i,o,r,s=!1){typeof e=="object"?(this.scheme=e.scheme||Ln,this.authority=e.authority||Ln,this.path=e.path||Ln,this.query=e.query||Ln,this.fragment=e.fragment||Ln):(this.scheme=Rme(e,s),this.authority=t||Ln,this.path=Mme(this.scheme,i||Ln),this.query=o||Ln,this.fragment=r||Ln,Nme(this,s))}get fsPath(){return $D(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:o,query:r,fragment:s}=e;return t===void 0?t=this.scheme:t===null&&(t=Ln),i===void 0?i=this.authority:i===null&&(i=Ln),o===void 0?o=this.path:o===null&&(o=Ln),r===void 0?r=this.query:r===null&&(r=Ln),s===void 0?s=this.fragment:s===null&&(s=Ln),t===this.scheme&&i===this.authority&&o===this.path&&r===this.query&&s===this.fragment?this:new dv(t,i,o,r,s)}static parse(e,t=!1){const i=Ame.exec(e);return i?new dv(i[2]||Ln,Mx(i[4]||Ln),Mx(i[5]||Ln),Mx(i[7]||Ln),Mx(i[9]||Ln),t):new dv(Ln,Ln,Ln,Ln,Ln)}static file(e){let t=Ln;if(Qo&&(e=e.replace(/\\/g,Gl)),e[0]===Gl&&e[1]===Gl){const i=e.indexOf(Gl,2);i===-1?(t=e.substring(2),e=Gl):(t=e.substring(2,i),e=e.substring(i)||Gl)}return new dv("file",t,e,Ln,Ln)}static from(e,t){return new dv(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return Qo&&e.scheme==="file"?i=Ke.file(ys.join($D(e,!0),...t)).path:i=$n.join(e.path,...t),e.with({path:i})}toString(e=!1){return GO(this,e)}toJSON(){return this}static revive(e){var t,i;if(e){if(e instanceof Ke)return e;{const o=new dv(e);return o._formatted=(t=e.external)!==null&&t!==void 0?t:null,o._fsPath=e._sep===yQ&&(i=e.fsPath)!==null&&i!==void 0?i:null,o}}else return e}}const yQ=Qo?1:void 0;let dv=class extends Ke{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=$D(this,!1)),this._fsPath}toString(e=!1){return e?GO(this,!0):(this._formatted||(this._formatted=GO(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=yQ),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}};const wQ={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function uz(n,e,t){let i,o=-1;for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===45||s===46||s===95||s===126||e&&s===47||t&&s===91||t&&s===93||t&&s===58)o!==-1&&(i+=encodeURIComponent(n.substring(o,r)),o=-1),i!==void 0&&(i+=n.charAt(r));else{i===void 0&&(i=n.substr(0,r));const a=wQ[s];a!==void 0?(o!==-1&&(i+=encodeURIComponent(n.substring(o,r)),o=-1),i+=a):o===-1&&(o=r)}}return o!==-1&&(i+=encodeURIComponent(n.substring(o))),i!==void 0?i:n}function Pme(n){let e;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i===35||i===63?(e===void 0&&(e=n.substr(0,t)),e+=wQ[i]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function $D(n,e){let t;return n.authority&&n.path.length>1&&n.scheme==="file"?t=`//${n.authority}${n.path}`:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e?t=n.path.substr(1):t=n.path[1].toLowerCase()+n.path.substr(2):t=n.path,Qo&&(t=t.replace(/\//g,"\\")),t}function GO(n,e){const t=e?Pme:uz;let i="",{scheme:o,authority:r,path:s,query:a,fragment:l}=n;if(o&&(i+=o,i+=":"),(r||o==="file")&&(i+=Gl,i+=Gl),r){let c=r.indexOf("@");if(c!==-1){const d=r.substr(0,c);r=r.substr(c+1),c=d.lastIndexOf(":"),c===-1?i+=t(d,!1,!1):(i+=t(d.substr(0,c),!1,!1),i+=":",i+=t(d.substr(c+1),!1,!0)),i+="@"}r=r.toLowerCase(),c=r.lastIndexOf(":"),c===-1?i+=t(r,!1,!0):(i+=t(r.substr(0,c),!1,!0),i+=r.substr(c))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){const c=s.charCodeAt(1);c>=65&&c<=90&&(s=`/${String.fromCharCode(c+32)}:${s.substr(3)}`)}else if(s.length>=2&&s.charCodeAt(1)===58){const c=s.charCodeAt(0);c>=65&&c<=90&&(s=`${String.fromCharCode(c+32)}:${s.substr(2)}`)}i+=t(s,!0,!1)}return a&&(i+="?",i+=t(a,!1,!1)),l&&(i+="#",i+=e?l:uz(l,!1,!1)),i}function SQ(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+SQ(n.substr(3)):n}}const hz=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Mx(n){return n.match(hz)?n.replace(hz,e=>SQ(e)):n}let W=class lp{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new lp(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return lp.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return lp.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return lp.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){const i=e.lineNumber|0,o=t.lineNumber|0;if(i===o){const r=e.column|0,s=t.column|0;return r-s}return i-o}clone(){return new lp(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new lp(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}},D=class yo{constructor(e,t,i,o){e>i||e===i&&t>o?(this.startLineNumber=i,this.startColumn=o,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=o)}isEmpty(){return yo.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return yo.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return yo.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return yo.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return yo.plusRange(this,e)}static plusRange(e,t){let i,o,r,s;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,o=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,o=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,o=e.startColumn),t.endLineNumber>e.endLineNumber?(r=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(r=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(r=e.endLineNumber,s=e.endColumn),new yo(i,o,r,s)}intersectRanges(e){return yo.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,o=e.startColumn,r=e.endLineNumber,s=e.endColumn;const a=t.startLineNumber,l=t.startColumn,c=t.endLineNumber,d=t.endColumn;return i<a?(i=a,o=l):i===a&&(o=Math.max(o,l)),r>c?(r=c,s=d):r===c&&(s=Math.min(s,d)),i>r||i===r&&o>s?null:new yo(i,o,r,s)}equalsRange(e){return yo.equalsRange(this,e)}static equalsRange(e,t){return!e&&!t?!0:!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return yo.getEndPosition(this)}static getEndPosition(e){return new W(e.endLineNumber,e.endColumn)}getStartPosition(){return yo.getStartPosition(this)}static getStartPosition(e){return new W(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new yo(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new yo(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return yo.collapseToStart(this)}static collapseToStart(e){return new yo(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return yo.collapseToEnd(this)}static collapseToEnd(e){return new yo(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new yo(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}static fromPositions(e,t=e){return new yo(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new yo(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const r=e.startLineNumber|0,s=t.startLineNumber|0;if(r===s){const a=e.startColumn|0,l=t.startColumn|0;if(a===l){const c=e.endLineNumber|0,d=t.endLineNumber|0;if(c===d){const u=e.endColumn|0,h=t.endColumn|0;return u-h}return c-d}return a-l}return r-s}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}},Pe=class Ya extends D{constructor(e,t,i,o){super(e,t,i,o),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=o}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return Ya.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return this.getDirection()===0?new Ya(this.startLineNumber,this.startColumn,e,t):new Ya(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new W(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new W(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return this.getDirection()===0?new Ya(e,t,this.endLineNumber,this.endColumn):new Ya(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new Ya(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return t===0?new Ya(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new Ya(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new Ya(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,o=e.length;i<o;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&typeof e.selectionStartLineNumber=="number"&&typeof e.selectionStartColumn=="number"&&typeof e.positionLineNumber=="number"&&typeof e.positionColumn=="number"}static createWithDirection(e,t,i,o,r){return r===0?new Ya(e,t,i,o):new Ya(i,o,e,t)}};const ZO=Object.create(null);function k(n,e){if(Pr(e)){const t=ZO[e];if(t===void 0)throw new Error(`${n} references an unknown codicon: ${e}`);e=t}return ZO[n]=e,{id:n}}function xQ(){return ZO}const pe={add:k("add",6e4),plus:k("plus",6e4),gistNew:k("gist-new",6e4),repoCreate:k("repo-create",6e4),lightbulb:k("lightbulb",60001),lightBulb:k("light-bulb",60001),repo:k("repo",60002),repoDelete:k("repo-delete",60002),gistFork:k("gist-fork",60003),repoForked:k("repo-forked",60003),gitPullRequest:k("git-pull-request",60004),gitPullRequestAbandoned:k("git-pull-request-abandoned",60004),recordKeys:k("record-keys",60005),keyboard:k("keyboard",60005),tag:k("tag",60006),tagAdd:k("tag-add",60006),tagRemove:k("tag-remove",60006),gitPullRequestLabel:k("git-pull-request-label",60006),person:k("person",60007),personFollow:k("person-follow",60007),personOutline:k("person-outline",60007),personFilled:k("person-filled",60007),gitBranch:k("git-branch",60008),gitBranchCreate:k("git-branch-create",60008),gitBranchDelete:k("git-branch-delete",60008),sourceControl:k("source-control",60008),mirror:k("mirror",60009),mirrorPublic:k("mirror-public",60009),star:k("star",60010),starAdd:k("star-add",60010),starDelete:k("star-delete",60010),starEmpty:k("star-empty",60010),comment:k("comment",60011),commentAdd:k("comment-add",60011),alert:k("alert",60012),warning:k("warning",60012),search:k("search",60013),searchSave:k("search-save",60013),logOut:k("log-out",60014),signOut:k("sign-out",60014),logIn:k("log-in",60015),signIn:k("sign-in",60015),eye:k("eye",60016),eyeUnwatch:k("eye-unwatch",60016),eyeWatch:k("eye-watch",60016),circleFilled:k("circle-filled",60017),primitiveDot:k("primitive-dot",60017),closeDirty:k("close-dirty",60017),debugBreakpoint:k("debug-breakpoint",60017),debugBreakpointDisabled:k("debug-breakpoint-disabled",60017),debugBreakpointPending:k("debug-breakpoint-pending",60377),debugHint:k("debug-hint",60017),primitiveSquare:k("primitive-square",60018),edit:k("edit",60019),pencil:k("pencil",60019),info:k("info",60020),issueOpened:k("issue-opened",60020),gistPrivate:k("gist-private",60021),gitForkPrivate:k("git-fork-private",60021),lock:k("lock",60021),mirrorPrivate:k("mirror-private",60021),close:k("close",60022),removeClose:k("remove-close",60022),x:k("x",60022),repoSync:k("repo-sync",60023),sync:k("sync",60023),clone:k("clone",60024),desktopDownload:k("desktop-download",60024),beaker:k("beaker",60025),microscope:k("microscope",60025),vm:k("vm",60026),deviceDesktop:k("device-desktop",60026),file:k("file",60027),fileText:k("file-text",60027),more:k("more",60028),ellipsis:k("ellipsis",60028),kebabHorizontal:k("kebab-horizontal",60028),mailReply:k("mail-reply",60029),reply:k("reply",60029),organization:k("organization",60030),organizationFilled:k("organization-filled",60030),organizationOutline:k("organization-outline",60030),newFile:k("new-file",60031),fileAdd:k("file-add",60031),newFolder:k("new-folder",60032),fileDirectoryCreate:k("file-directory-create",60032),trash:k("trash",60033),trashcan:k("trashcan",60033),history:k("history",60034),clock:k("clock",60034),folder:k("folder",60035),fileDirectory:k("file-directory",60035),symbolFolder:k("symbol-folder",60035),logoGithub:k("logo-github",60036),markGithub:k("mark-github",60036),github:k("github",60036),terminal:k("terminal",60037),console:k("console",60037),repl:k("repl",60037),zap:k("zap",60038),symbolEvent:k("symbol-event",60038),error:k("error",60039),stop:k("stop",60039),variable:k("variable",60040),symbolVariable:k("symbol-variable",60040),array:k("array",60042),symbolArray:k("symbol-array",60042),symbolModule:k("symbol-module",60043),symbolPackage:k("symbol-package",60043),symbolNamespace:k("symbol-namespace",60043),symbolObject:k("symbol-object",60043),symbolMethod:k("symbol-method",60044),symbolFunction:k("symbol-function",60044),symbolConstructor:k("symbol-constructor",60044),symbolBoolean:k("symbol-boolean",60047),symbolNull:k("symbol-null",60047),symbolNumeric:k("symbol-numeric",60048),symbolNumber:k("symbol-number",60048),symbolStructure:k("symbol-structure",60049),symbolStruct:k("symbol-struct",60049),symbolParameter:k("symbol-parameter",60050),symbolTypeParameter:k("symbol-type-parameter",60050),symbolKey:k("symbol-key",60051),symbolText:k("symbol-text",60051),symbolReference:k("symbol-reference",60052),goToFile:k("go-to-file",60052),symbolEnum:k("symbol-enum",60053),symbolValue:k("symbol-value",60053),symbolRuler:k("symbol-ruler",60054),symbolUnit:k("symbol-unit",60054),activateBreakpoints:k("activate-breakpoints",60055),archive:k("archive",60056),arrowBoth:k("arrow-both",60057),arrowDown:k("arrow-down",60058),arrowLeft:k("arrow-left",60059),arrowRight:k("arrow-right",60060),arrowSmallDown:k("arrow-small-down",60061),arrowSmallLeft:k("arrow-small-left",60062),arrowSmallRight:k("arrow-small-right",60063),arrowSmallUp:k("arrow-small-up",60064),arrowUp:k("arrow-up",60065),bell:k("bell",60066),bold:k("bold",60067),book:k("book",60068),bookmark:k("bookmark",60069),debugBreakpointConditionalUnverified:k("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:k("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:k("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:k("debug-breakpoint-data-unverified",60072),debugBreakpointData:k("debug-breakpoint-data",60073),debugBreakpointDataDisabled:k("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:k("debug-breakpoint-log-unverified",60074),debugBreakpointLog:k("debug-breakpoint-log",60075),debugBreakpointLogDisabled:k("debug-breakpoint-log-disabled",60075),briefcase:k("briefcase",60076),broadcast:k("broadcast",60077),browser:k("browser",60078),bug:k("bug",60079),calendar:k("calendar",60080),caseSensitive:k("case-sensitive",60081),check:k("check",60082),checklist:k("checklist",60083),chevronDown:k("chevron-down",60084),dropDownButton:k("drop-down-button",60084),chevronLeft:k("chevron-left",60085),chevronRight:k("chevron-right",60086),chevronUp:k("chevron-up",60087),chromeClose:k("chrome-close",60088),chromeMaximize:k("chrome-maximize",60089),chromeMinimize:k("chrome-minimize",60090),chromeRestore:k("chrome-restore",60091),circle:k("circle",60092),circleOutline:k("circle-outline",60092),debugBreakpointUnverified:k("debug-breakpoint-unverified",60092),circleSlash:k("circle-slash",60093),circuitBoard:k("circuit-board",60094),clearAll:k("clear-all",60095),clippy:k("clippy",60096),closeAll:k("close-all",60097),cloudDownload:k("cloud-download",60098),cloudUpload:k("cloud-upload",60099),code:k("code",60100),collapseAll:k("collapse-all",60101),colorMode:k("color-mode",60102),commentDiscussion:k("comment-discussion",60103),compareChanges:k("compare-changes",60157),creditCard:k("credit-card",60105),dash:k("dash",60108),dashboard:k("dashboard",60109),database:k("database",60110),debugContinue:k("debug-continue",60111),debugDisconnect:k("debug-disconnect",60112),debugPause:k("debug-pause",60113),debugRestart:k("debug-restart",60114),debugStart:k("debug-start",60115),debugStepInto:k("debug-step-into",60116),debugStepOut:k("debug-step-out",60117),debugStepOver:k("debug-step-over",60118),debugStop:k("debug-stop",60119),debug:k("debug",60120),deviceCameraVideo:k("device-camera-video",60121),deviceCamera:k("device-camera",60122),deviceMobile:k("device-mobile",60123),diffAdded:k("diff-added",60124),diffIgnored:k("diff-ignored",60125),diffModified:k("diff-modified",60126),diffRemoved:k("diff-removed",60127),diffRenamed:k("diff-renamed",60128),diff:k("diff",60129),discard:k("discard",60130),editorLayout:k("editor-layout",60131),emptyWindow:k("empty-window",60132),exclude:k("exclude",60133),extensions:k("extensions",60134),eyeClosed:k("eye-closed",60135),fileBinary:k("file-binary",60136),fileCode:k("file-code",60137),fileMedia:k("file-media",60138),filePdf:k("file-pdf",60139),fileSubmodule:k("file-submodule",60140),fileSymlinkDirectory:k("file-symlink-directory",60141),fileSymlinkFile:k("file-symlink-file",60142),fileZip:k("file-zip",60143),files:k("files",60144),filter:k("filter",60145),flame:k("flame",60146),foldDown:k("fold-down",60147),foldUp:k("fold-up",60148),fold:k("fold",60149),folderActive:k("folder-active",60150),folderOpened:k("folder-opened",60151),gear:k("gear",60152),gift:k("gift",60153),gistSecret:k("gist-secret",60154),gist:k("gist",60155),gitCommit:k("git-commit",60156),gitCompare:k("git-compare",60157),gitMerge:k("git-merge",60158),githubAction:k("github-action",60159),githubAlt:k("github-alt",60160),globe:k("globe",60161),grabber:k("grabber",60162),graph:k("graph",60163),gripper:k("gripper",60164),heart:k("heart",60165),home:k("home",60166),horizontalRule:k("horizontal-rule",60167),hubot:k("hubot",60168),inbox:k("inbox",60169),issueClosed:k("issue-closed",60324),issueReopened:k("issue-reopened",60171),issues:k("issues",60172),italic:k("italic",60173),jersey:k("jersey",60174),json:k("json",60175),bracket:k("bracket",60175),kebabVertical:k("kebab-vertical",60176),key:k("key",60177),law:k("law",60178),lightbulbAutofix:k("lightbulb-autofix",60179),linkExternal:k("link-external",60180),link:k("link",60181),listOrdered:k("list-ordered",60182),listUnordered:k("list-unordered",60183),liveShare:k("live-share",60184),loading:k("loading",60185),location:k("location",60186),mailRead:k("mail-read",60187),mail:k("mail",60188),markdown:k("markdown",60189),megaphone:k("megaphone",60190),mention:k("mention",60191),milestone:k("milestone",60192),gitPullRequestMilestone:k("git-pull-request-milestone",60192),mortarBoard:k("mortar-board",60193),move:k("move",60194),multipleWindows:k("multiple-windows",60195),mute:k("mute",60196),noNewline:k("no-newline",60197),note:k("note",60198),octoface:k("octoface",60199),openPreview:k("open-preview",60200),package:k("package",60201),paintcan:k("paintcan",60202),pin:k("pin",60203),play:k("play",60204),run:k("run",60204),plug:k("plug",60205),preserveCase:k("preserve-case",60206),preview:k("preview",60207),project:k("project",60208),pulse:k("pulse",60209),question:k("question",60210),quote:k("quote",60211),radioTower:k("radio-tower",60212),reactions:k("reactions",60213),references:k("references",60214),refresh:k("refresh",60215),regex:k("regex",60216),remoteExplorer:k("remote-explorer",60217),remote:k("remote",60218),remove:k("remove",60219),replaceAll:k("replace-all",60220),replace:k("replace",60221),repoClone:k("repo-clone",60222),repoForcePush:k("repo-force-push",60223),repoPull:k("repo-pull",60224),repoPush:k("repo-push",60225),report:k("report",60226),requestChanges:k("request-changes",60227),rocket:k("rocket",60228),rootFolderOpened:k("root-folder-opened",60229),rootFolder:k("root-folder",60230),rss:k("rss",60231),ruby:k("ruby",60232),saveAll:k("save-all",60233),saveAs:k("save-as",60234),save:k("save",60235),screenFull:k("screen-full",60236),screenNormal:k("screen-normal",60237),searchStop:k("search-stop",60238),server:k("server",60240),settingsGear:k("settings-gear",60241),settings:k("settings",60242),shield:k("shield",60243),smiley:k("smiley",60244),sortPrecedence:k("sort-precedence",60245),splitHorizontal:k("split-horizontal",60246),splitVertical:k("split-vertical",60247),squirrel:k("squirrel",60248),starFull:k("star-full",60249),starHalf:k("star-half",60250),symbolClass:k("symbol-class",60251),symbolColor:k("symbol-color",60252),symbolCustomColor:k("symbol-customcolor",60252),symbolConstant:k("symbol-constant",60253),symbolEnumMember:k("symbol-enum-member",60254),symbolField:k("symbol-field",60255),symbolFile:k("symbol-file",60256),symbolInterface:k("symbol-interface",60257),symbolKeyword:k("symbol-keyword",60258),symbolMisc:k("symbol-misc",60259),symbolOperator:k("symbol-operator",60260),symbolProperty:k("symbol-property",60261),wrench:k("wrench",60261),wrenchSubaction:k("wrench-subaction",60261),symbolSnippet:k("symbol-snippet",60262),tasklist:k("tasklist",60263),telescope:k("telescope",60264),textSize:k("text-size",60265),threeBars:k("three-bars",60266),thumbsdown:k("thumbsdown",60267),thumbsup:k("thumbsup",60268),tools:k("tools",60269),triangleDown:k("triangle-down",60270),triangleLeft:k("triangle-left",60271),triangleRight:k("triangle-right",60272),triangleUp:k("triangle-up",60273),twitter:k("twitter",60274),unfold:k("unfold",60275),unlock:k("unlock",60276),unmute:k("unmute",60277),unverified:k("unverified",60278),verified:k("verified",60279),versions:k("versions",60280),vmActive:k("vm-active",60281),vmOutline:k("vm-outline",60282),vmRunning:k("vm-running",60283),watch:k("watch",60284),whitespace:k("whitespace",60285),wholeWord:k("whole-word",60286),window:k("window",60287),wordWrap:k("word-wrap",60288),zoomIn:k("zoom-in",60289),zoomOut:k("zoom-out",60290),listFilter:k("list-filter",60291),listFlat:k("list-flat",60292),listSelection:k("list-selection",60293),selection:k("selection",60293),listTree:k("list-tree",60294),debugBreakpointFunctionUnverified:k("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:k("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:k("debug-breakpoint-function-disabled",60296),debugStackframeActive:k("debug-stackframe-active",60297),circleSmallFilled:k("circle-small-filled",60298),debugStackframeDot:k("debug-stackframe-dot",60298),debugStackframe:k("debug-stackframe",60299),debugStackframeFocused:k("debug-stackframe-focused",60299),debugBreakpointUnsupported:k("debug-breakpoint-unsupported",60300),symbolString:k("symbol-string",60301),debugReverseContinue:k("debug-reverse-continue",60302),debugStepBack:k("debug-step-back",60303),debugRestartFrame:k("debug-restart-frame",60304),callIncoming:k("call-incoming",60306),callOutgoing:k("call-outgoing",60307),menu:k("menu",60308),expandAll:k("expand-all",60309),feedback:k("feedback",60310),gitPullRequestReviewer:k("git-pull-request-reviewer",60310),groupByRefType:k("group-by-ref-type",60311),ungroupByRefType:k("ungroup-by-ref-type",60312),account:k("account",60313),gitPullRequestAssignee:k("git-pull-request-assignee",60313),bellDot:k("bell-dot",60314),debugConsole:k("debug-console",60315),library:k("library",60316),output:k("output",60317),runAll:k("run-all",60318),syncIgnored:k("sync-ignored",60319),pinned:k("pinned",60320),githubInverted:k("github-inverted",60321),debugAlt:k("debug-alt",60305),serverProcess:k("server-process",60322),serverEnvironment:k("server-environment",60323),pass:k("pass",60324),stopCircle:k("stop-circle",60325),playCircle:k("play-circle",60326),record:k("record",60327),debugAltSmall:k("debug-alt-small",60328),vmConnect:k("vm-connect",60329),cloud:k("cloud",60330),merge:k("merge",60331),exportIcon:k("export",60332),graphLeft:k("graph-left",60333),magnet:k("magnet",60334),notebook:k("notebook",60335),redo:k("redo",60336),checkAll:k("check-all",60337),pinnedDirty:k("pinned-dirty",60338),passFilled:k("pass-filled",60339),circleLargeFilled:k("circle-large-filled",60340),circleLarge:k("circle-large",60341),circleLargeOutline:k("circle-large-outline",60341),combine:k("combine",60342),gather:k("gather",60342),table:k("table",60343),variableGroup:k("variable-group",60344),typeHierarchy:k("type-hierarchy",60345),typeHierarchySub:k("type-hierarchy-sub",60346),typeHierarchySuper:k("type-hierarchy-super",60347),gitPullRequestCreate:k("git-pull-request-create",60348),runAbove:k("run-above",60349),runBelow:k("run-below",60350),notebookTemplate:k("notebook-template",60351),debugRerun:k("debug-rerun",60352),workspaceTrusted:k("workspace-trusted",60353),workspaceUntrusted:k("workspace-untrusted",60354),workspaceUnspecified:k("workspace-unspecified",60355),terminalCmd:k("terminal-cmd",60356),terminalDebian:k("terminal-debian",60357),terminalLinux:k("terminal-linux",60358),terminalPowershell:k("terminal-powershell",60359),terminalTmux:k("terminal-tmux",60360),terminalUbuntu:k("terminal-ubuntu",60361),terminalBash:k("terminal-bash",60362),arrowSwap:k("arrow-swap",60363),copy:k("copy",60364),personAdd:k("person-add",60365),filterFilled:k("filter-filled",60366),wand:k("wand",60367),debugLineByLine:k("debug-line-by-line",60368),inspect:k("inspect",60369),layers:k("layers",60370),layersDot:k("layers-dot",60371),layersActive:k("layers-active",60372),compass:k("compass",60373),compassDot:k("compass-dot",60374),compassActive:k("compass-active",60375),azure:k("azure",60376),issueDraft:k("issue-draft",60377),gitPullRequestClosed:k("git-pull-request-closed",60378),gitPullRequestDraft:k("git-pull-request-draft",60379),debugAll:k("debug-all",60380),debugCoverage:k("debug-coverage",60381),runErrors:k("run-errors",60382),folderLibrary:k("folder-library",60383),debugContinueSmall:k("debug-continue-small",60384),beakerStop:k("beaker-stop",60385),graphLine:k("graph-line",60386),graphScatter:k("graph-scatter",60387),pieChart:k("pie-chart",60388),bracketDot:k("bracket-dot",60389),bracketError:k("bracket-error",60390),lockSmall:k("lock-small",60391),azureDevops:k("azure-devops",60392),verifiedFilled:k("verified-filled",60393),newLine:k("newline",60394),layout:k("layout",60395),layoutActivitybarLeft:k("layout-activitybar-left",60396),layoutActivitybarRight:k("layout-activitybar-right",60397),layoutPanelLeft:k("layout-panel-left",60398),layoutPanelCenter:k("layout-panel-center",60399),layoutPanelJustify:k("layout-panel-justify",60400),layoutPanelRight:k("layout-panel-right",60401),layoutPanel:k("layout-panel",60402),layoutSidebarLeft:k("layout-sidebar-left",60403),layoutSidebarRight:k("layout-sidebar-right",60404),layoutStatusbar:k("layout-statusbar",60405),layoutMenubar:k("layout-menubar",60406),layoutCentered:k("layout-centered",60407),layoutSidebarRightOff:k("layout-sidebar-right-off",60416),layoutPanelOff:k("layout-panel-off",60417),layoutSidebarLeftOff:k("layout-sidebar-left-off",60418),target:k("target",60408),indent:k("indent",60409),recordSmall:k("record-small",60410),errorSmall:k("error-small",60411),arrowCircleDown:k("arrow-circle-down",60412),arrowCircleLeft:k("arrow-circle-left",60413),arrowCircleRight:k("arrow-circle-right",60414),arrowCircleUp:k("arrow-circle-up",60415),heartFilled:k("heart-filled",60420),map:k("map",60421),mapFilled:k("map-filled",60422),circleSmall:k("circle-small",60423),bellSlash:k("bell-slash",60424),bellSlashDot:k("bell-slash-dot",60425),commentUnresolved:k("comment-unresolved",60426),gitPullRequestGoToChanges:k("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:k("git-pull-request-new-changes",60428),searchFuzzy:k("search-fuzzy",60429),commentDraft:k("comment-draft",60430),send:k("send",60431),sparkle:k("sparkle",60432),insert:k("insert",60433),mic:k("mic",60434),thumbsDownFilled:k("thumbsdown-filled",60435),thumbsUpFilled:k("thumbsup-filled",60436),coffee:k("coffee",60437),snake:k("snake",60438),game:k("game",60439),vr:k("vr",60440),chip:k("chip",60441),piano:k("piano",60442),music:k("music",60443),micFilled:k("mic-filled",60444),gitFetch:k("git-fetch",60445),copilot:k("copilot",60446),lightbulbSparkle:k("lightbulb-sparkle",60447),lightbulbSparkleAutofix:k("lightbulb-sparkle-autofix",60447),robot:k("robot",60448),sparkleFilled:k("sparkle-filled",60449),diffSingle:k("diff-single",60450),diffMultiple:k("diff-multiple",60451),surroundWith:k("surround-with",60452),gitStash:k("git-stash",60454),gitStashApply:k("git-stash-apply",60455),gitStashPop:k("git-stash-pop",60456),runAllCoverage:k("run-all-coverage",60461),runCoverage:k("run-all-coverage",60460),coverage:k("coverage",60462),githubProject:k("github-project",60463),dialogError:k("dialog-error","error"),dialogWarning:k("dialog-warning","warning"),dialogInfo:k("dialog-info","info"),dialogClose:k("dialog-close","close"),treeItemExpanded:k("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:k("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:k("tree-filter-on-type-off","list-selection"),treeFilterClear:k("tree-filter-clear","close"),treeItemLoading:k("tree-item-loading","loading"),menuSelection:k("menu-selection","check"),menuSubmenu:k("menu-submenu","chevron-right"),menuBarMore:k("menubar-more","more"),scrollbarButtonLeft:k("scrollbar-button-left","triangle-left"),scrollbarButtonRight:k("scrollbar-button-right","triangle-right"),scrollbarButtonUp:k("scrollbar-button-up","triangle-up"),scrollbarButtonDown:k("scrollbar-button-down","triangle-down"),toolBarMore:k("toolbar-more","more"),quickInputBack:k("quick-input-back","arrow-left")};let Ome=class{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._tokenizationSupports.set(e,t),this.handleChange([e]),je(()=>{this._tokenizationSupports.get(e)===t&&(this._tokenizationSupports.delete(e),this.handleChange([e]))})}get(e){return this._tokenizationSupports.get(e)||null}registerFactory(e,t){var i;(i=this._factories.get(e))===null||i===void 0||i.dispose();const o=new Fme(this,e,t);return this._factories.set(e,o),je(()=>{const r=this._factories.get(e);!r||r!==o||(this._factories.delete(e),r.dispose())})}async getOrCreate(e){const t=this.get(e);if(t)return t;const i=this._factories.get(e);return!i||i.isResolved?null:(await i.resolve(),this.get(e))}isResolved(e){if(this.get(e))return!0;const i=this._factories.get(e);return!!(!i||i.isResolved)}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};class Fme extends z{get isResolved(){return this._isResolved}constructor(e,t,i){super(),this._registry=e,this._languageId=t,this._factory=i,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const e=await this._factory.tokenizationSupport;this._isResolved=!0,e&&!this._isDisposed&&this._register(this._registry.register(this._languageId,e))}}let Dy=class{constructor(e,t,i){this.offset=e,this.type=t,this.language=i,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}};class z8{constructor(e,t){this.tokens=e,this.endState=t,this._tokenizationResultBrand=void 0}}class FT{constructor(e,t){this.tokens=e,this.endState=t,this._encodedTokenizationResultBrand=void 0}}var Ey;(function(n){const e=new Map;e.set(0,pe.symbolMethod),e.set(1,pe.symbolFunction),e.set(2,pe.symbolConstructor),e.set(3,pe.symbolField),e.set(4,pe.symbolVariable),e.set(5,pe.symbolClass),e.set(6,pe.symbolStruct),e.set(7,pe.symbolInterface),e.set(8,pe.symbolModule),e.set(9,pe.symbolProperty),e.set(10,pe.symbolEvent),e.set(11,pe.symbolOperator),e.set(12,pe.symbolUnit),e.set(13,pe.symbolValue),e.set(15,pe.symbolEnum),e.set(14,pe.symbolConstant),e.set(15,pe.symbolEnum),e.set(16,pe.symbolEnumMember),e.set(17,pe.symbolKeyword),e.set(27,pe.symbolSnippet),e.set(18,pe.symbolText),e.set(19,pe.symbolColor),e.set(20,pe.symbolFile),e.set(21,pe.symbolReference),e.set(22,pe.symbolCustomColor),e.set(23,pe.symbolFolder),e.set(24,pe.symbolTypeParameter),e.set(25,pe.account),e.set(26,pe.issues);function t(r){let s=e.get(r);return s||(console.info("No codicon found for CompletionItemKind "+r),s=pe.symbolProperty),s}n.toIcon=t;const i=new Map;i.set("method",0),i.set("function",1),i.set("constructor",2),i.set("field",3),i.set("variable",4),i.set("class",5),i.set("struct",6),i.set("interface",7),i.set("module",8),i.set("property",9),i.set("event",10),i.set("operator",11),i.set("unit",12),i.set("value",13),i.set("constant",14),i.set("enum",15),i.set("enum-member",16),i.set("enumMember",16),i.set("keyword",17),i.set("snippet",27),i.set("text",18),i.set("color",19),i.set("file",20),i.set("reference",21),i.set("customcolor",22),i.set("folder",23),i.set("type-parameter",24),i.set("typeParameter",24),i.set("account",25),i.set("issue",26);function o(r,s){let a=i.get(r);return typeof a>"u"&&!s&&(a=9),a}n.fromString=o})(Ey||(Ey={}));var qu;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(qu||(qu={}));class kQ{constructor(e,t,i,o){this.range=e,this.text=t,this.completionKind=i,this.isSnippetText=o}equals(e){return D.lift(this.range).equalsRange(e.range)&&this.text===e.text&&this.completionKind===e.completionKind&&this.isSnippetText===e.isSnippetText}}var kd;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(kd||(kd={}));var Ty;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(Ty||(Ty={}));function Bme(n){return n&&Ke.isUri(n.uri)&&D.isIRange(n.range)&&(D.isIRange(n.originSelectionRange)||D.isIRange(n.targetSelectionRange))}const Wme={17:m("Array","array"),16:m("Boolean","boolean"),4:m("Class","class"),13:m("Constant","constant"),8:m("Constructor","constructor"),9:m("Enum","enumeration"),21:m("EnumMember","enumeration member"),23:m("Event","event"),7:m("Field","field"),0:m("File","file"),11:m("Function","function"),10:m("Interface","interface"),19:m("Key","key"),5:m("Method","method"),1:m("Module","module"),2:m("Namespace","namespace"),20:m("Null","null"),15:m("Number","number"),18:m("Object","object"),24:m("Operator","operator"),3:m("Package","package"),6:m("Property","property"),14:m("String","string"),22:m("Struct","struct"),25:m("TypeParameter","type parameter"),12:m("Variable","variable")};function Vme(n,e){return m("symbolAriaLabel","{0} ({1})",n,Wme[e])}var jD;(function(n){const e=new Map;e.set(0,pe.symbolFile),e.set(1,pe.symbolModule),e.set(2,pe.symbolNamespace),e.set(3,pe.symbolPackage),e.set(4,pe.symbolClass),e.set(5,pe.symbolMethod),e.set(6,pe.symbolProperty),e.set(7,pe.symbolField),e.set(8,pe.symbolConstructor),e.set(9,pe.symbolEnum),e.set(10,pe.symbolInterface),e.set(11,pe.symbolFunction),e.set(12,pe.symbolVariable),e.set(13,pe.symbolConstant),e.set(14,pe.symbolString),e.set(15,pe.symbolNumber),e.set(16,pe.symbolBoolean),e.set(17,pe.symbolArray),e.set(18,pe.symbolObject),e.set(19,pe.symbolKey),e.set(20,pe.symbolNull),e.set(21,pe.symbolEnumMember),e.set(22,pe.symbolStruct),e.set(23,pe.symbolEvent),e.set(24,pe.symbolOperator),e.set(25,pe.symbolTypeParameter);function t(i){let o=e.get(i);return o||(console.info("No codicon found for SymbolKind "+i),o=pe.symbolProperty),o}n.toIcon=t})(jD||(jD={}));class Nr{static fromValue(e){switch(e){case"comment":return Nr.Comment;case"imports":return Nr.Imports;case"region":return Nr.Region}return new Nr(e)}constructor(e){this.value=e}}Nr.Comment=new Nr("comment");Nr.Imports=new Nr("imports");Nr.Region=new Nr("region");var gz;(function(n){n[n.AIGenerated=1]="AIGenerated"})(gz||(gz={}));var YO;(function(n){function e(t){return!t||typeof t!="object"?!1:typeof t.id=="string"&&typeof t.title=="string"}n.is=e})(YO||(YO={}));var KD;(function(n){n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(KD||(KD={}));class Hme{constructor(e){this.createSupport=e,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(e=>{e&&e.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const rn=new Ome;var qD;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(qD||(qD={}));var XO;(function(n){n[n.Unknown=0]="Unknown",n[n.Disabled=1]="Disabled",n[n.Enabled=2]="Enabled"})(XO||(XO={}));var QO;(function(n){n[n.Invoke=1]="Invoke",n[n.Auto=2]="Auto"})(QO||(QO={}));var JO;(function(n){n[n.None=0]="None",n[n.KeepWhitespace=1]="KeepWhitespace",n[n.InsertAsSnippet=4]="InsertAsSnippet"})(JO||(JO={}));var e5;(function(n){n[n.Method=0]="Method",n[n.Function=1]="Function",n[n.Constructor=2]="Constructor",n[n.Field=3]="Field",n[n.Variable=4]="Variable",n[n.Class=5]="Class",n[n.Struct=6]="Struct",n[n.Interface=7]="Interface",n[n.Module=8]="Module",n[n.Property=9]="Property",n[n.Event=10]="Event",n[n.Operator=11]="Operator",n[n.Unit=12]="Unit",n[n.Value=13]="Value",n[n.Constant=14]="Constant",n[n.Enum=15]="Enum",n[n.EnumMember=16]="EnumMember",n[n.Keyword=17]="Keyword",n[n.Text=18]="Text",n[n.Color=19]="Color",n[n.File=20]="File",n[n.Reference=21]="Reference",n[n.Customcolor=22]="Customcolor",n[n.Folder=23]="Folder",n[n.TypeParameter=24]="TypeParameter",n[n.User=25]="User",n[n.Issue=26]="Issue",n[n.Snippet=27]="Snippet"})(e5||(e5={}));var t5;(function(n){n[n.Deprecated=1]="Deprecated"})(t5||(t5={}));var i5;(function(n){n[n.Invoke=0]="Invoke",n[n.TriggerCharacter=1]="TriggerCharacter",n[n.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(i5||(i5={}));var n5;(function(n){n[n.EXACT=0]="EXACT",n[n.ABOVE=1]="ABOVE",n[n.BELOW=2]="BELOW"})(n5||(n5={}));var o5;(function(n){n[n.NotSet=0]="NotSet",n[n.ContentFlush=1]="ContentFlush",n[n.RecoverFromMarkers=2]="RecoverFromMarkers",n[n.Explicit=3]="Explicit",n[n.Paste=4]="Paste",n[n.Undo=5]="Undo",n[n.Redo=6]="Redo"})(o5||(o5={}));var r5;(function(n){n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(r5||(r5={}));var s5;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(s5||(s5={}));var a5;(function(n){n[n.None=0]="None",n[n.Keep=1]="Keep",n[n.Brackets=2]="Brackets",n[n.Advanced=3]="Advanced",n[n.Full=4]="Full"})(a5||(a5={}));var l5;(function(n){n[n.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",n[n.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",n[n.accessibilitySupport=2]="accessibilitySupport",n[n.accessibilityPageSize=3]="accessibilityPageSize",n[n.ariaLabel=4]="ariaLabel",n[n.ariaRequired=5]="ariaRequired",n[n.autoClosingBrackets=6]="autoClosingBrackets",n[n.autoClosingComments=7]="autoClosingComments",n[n.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",n[n.autoClosingDelete=9]="autoClosingDelete",n[n.autoClosingOvertype=10]="autoClosingOvertype",n[n.autoClosingQuotes=11]="autoClosingQuotes",n[n.autoIndent=12]="autoIndent",n[n.automaticLayout=13]="automaticLayout",n[n.autoSurround=14]="autoSurround",n[n.bracketPairColorization=15]="bracketPairColorization",n[n.guides=16]="guides",n[n.codeLens=17]="codeLens",n[n.codeLensFontFamily=18]="codeLensFontFamily",n[n.codeLensFontSize=19]="codeLensFontSize",n[n.colorDecorators=20]="colorDecorators",n[n.colorDecoratorsLimit=21]="colorDecoratorsLimit",n[n.columnSelection=22]="columnSelection",n[n.comments=23]="comments",n[n.contextmenu=24]="contextmenu",n[n.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",n[n.cursorBlinking=26]="cursorBlinking",n[n.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",n[n.cursorStyle=28]="cursorStyle",n[n.cursorSurroundingLines=29]="cursorSurroundingLines",n[n.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",n[n.cursorWidth=31]="cursorWidth",n[n.disableLayerHinting=32]="disableLayerHinting",n[n.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",n[n.domReadOnly=34]="domReadOnly",n[n.dragAndDrop=35]="dragAndDrop",n[n.dropIntoEditor=36]="dropIntoEditor",n[n.emptySelectionClipboard=37]="emptySelectionClipboard",n[n.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",n[n.extraEditorClassName=39]="extraEditorClassName",n[n.fastScrollSensitivity=40]="fastScrollSensitivity",n[n.find=41]="find",n[n.fixedOverflowWidgets=42]="fixedOverflowWidgets",n[n.folding=43]="folding",n[n.foldingStrategy=44]="foldingStrategy",n[n.foldingHighlight=45]="foldingHighlight",n[n.foldingImportsByDefault=46]="foldingImportsByDefault",n[n.foldingMaximumRegions=47]="foldingMaximumRegions",n[n.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",n[n.fontFamily=49]="fontFamily",n[n.fontInfo=50]="fontInfo",n[n.fontLigatures=51]="fontLigatures",n[n.fontSize=52]="fontSize",n[n.fontWeight=53]="fontWeight",n[n.fontVariations=54]="fontVariations",n[n.formatOnPaste=55]="formatOnPaste",n[n.formatOnType=56]="formatOnType",n[n.glyphMargin=57]="glyphMargin",n[n.gotoLocation=58]="gotoLocation",n[n.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",n[n.hover=60]="hover",n[n.inDiffEditor=61]="inDiffEditor",n[n.inlineSuggest=62]="inlineSuggest",n[n.inlineEdit=63]="inlineEdit",n[n.letterSpacing=64]="letterSpacing",n[n.lightbulb=65]="lightbulb",n[n.lineDecorationsWidth=66]="lineDecorationsWidth",n[n.lineHeight=67]="lineHeight",n[n.lineNumbers=68]="lineNumbers",n[n.lineNumbersMinChars=69]="lineNumbersMinChars",n[n.linkedEditing=70]="linkedEditing",n[n.links=71]="links",n[n.matchBrackets=72]="matchBrackets",n[n.minimap=73]="minimap",n[n.mouseStyle=74]="mouseStyle",n[n.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",n[n.mouseWheelZoom=76]="mouseWheelZoom",n[n.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",n[n.multiCursorModifier=78]="multiCursorModifier",n[n.multiCursorPaste=79]="multiCursorPaste",n[n.multiCursorLimit=80]="multiCursorLimit",n[n.occurrencesHighlight=81]="occurrencesHighlight",n[n.overviewRulerBorder=82]="overviewRulerBorder",n[n.overviewRulerLanes=83]="overviewRulerLanes",n[n.padding=84]="padding",n[n.pasteAs=85]="pasteAs",n[n.parameterHints=86]="parameterHints",n[n.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",n[n.definitionLinkOpensInPeek=88]="definitionLinkOpensInPeek",n[n.quickSuggestions=89]="quickSuggestions",n[n.quickSuggestionsDelay=90]="quickSuggestionsDelay",n[n.readOnly=91]="readOnly",n[n.readOnlyMessage=92]="readOnlyMessage",n[n.renameOnType=93]="renameOnType",n[n.renderControlCharacters=94]="renderControlCharacters",n[n.renderFinalNewline=95]="renderFinalNewline",n[n.renderLineHighlight=96]="renderLineHighlight",n[n.renderLineHighlightOnlyWhenFocus=97]="renderLineHighlightOnlyWhenFocus",n[n.renderValidationDecorations=98]="renderValidationDecorations",n[n.renderWhitespace=99]="renderWhitespace",n[n.revealHorizontalRightPadding=100]="revealHorizontalRightPadding",n[n.roundedSelection=101]="roundedSelection",n[n.rulers=102]="rulers",n[n.scrollbar=103]="scrollbar",n[n.scrollBeyondLastColumn=104]="scrollBeyondLastColumn",n[n.scrollBeyondLastLine=105]="scrollBeyondLastLine",n[n.scrollPredominantAxis=106]="scrollPredominantAxis",n[n.selectionClipboard=107]="selectionClipboard",n[n.selectionHighlight=108]="selectionHighlight",n[n.selectOnLineNumbers=109]="selectOnLineNumbers",n[n.showFoldingControls=110]="showFoldingControls",n[n.showUnused=111]="showUnused",n[n.snippetSuggestions=112]="snippetSuggestions",n[n.smartSelect=113]="smartSelect",n[n.smoothScrolling=114]="smoothScrolling",n[n.stickyScroll=115]="stickyScroll",n[n.stickyTabStops=116]="stickyTabStops",n[n.stopRenderingLineAfter=117]="stopRenderingLineAfter",n[n.suggest=118]="suggest",n[n.suggestFontSize=119]="suggestFontSize",n[n.suggestLineHeight=120]="suggestLineHeight",n[n.suggestOnTriggerCharacters=121]="suggestOnTriggerCharacters",n[n.suggestSelection=122]="suggestSelection",n[n.tabCompletion=123]="tabCompletion",n[n.tabIndex=124]="tabIndex",n[n.unicodeHighlighting=125]="unicodeHighlighting",n[n.unusualLineTerminators=126]="unusualLineTerminators",n[n.useShadowDOM=127]="useShadowDOM",n[n.useTabStops=128]="useTabStops",n[n.wordBreak=129]="wordBreak",n[n.wordSeparators=130]="wordSeparators",n[n.wordWrap=131]="wordWrap",n[n.wordWrapBreakAfterCharacters=132]="wordWrapBreakAfterCharacters",n[n.wordWrapBreakBeforeCharacters=133]="wordWrapBreakBeforeCharacters",n[n.wordWrapColumn=134]="wordWrapColumn",n[n.wordWrapOverride1=135]="wordWrapOverride1",n[n.wordWrapOverride2=136]="wordWrapOverride2",n[n.wrappingIndent=137]="wrappingIndent",n[n.wrappingStrategy=138]="wrappingStrategy",n[n.showDeprecated=139]="showDeprecated",n[n.inlayHints=140]="inlayHints",n[n.editorClassName=141]="editorClassName",n[n.pixelRatio=142]="pixelRatio",n[n.tabFocusMode=143]="tabFocusMode",n[n.layoutInfo=144]="layoutInfo",n[n.wrappingInfo=145]="wrappingInfo",n[n.defaultColorDecorators=146]="defaultColorDecorators",n[n.colorDecoratorsActivatedOn=147]="colorDecoratorsActivatedOn",n[n.inlineCompletionsAccessibilityVerbose=148]="inlineCompletionsAccessibilityVerbose"})(l5||(l5={}));var c5;(function(n){n[n.TextDefined=0]="TextDefined",n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(c5||(c5={}));var d5;(function(n){n[n.LF=0]="LF",n[n.CRLF=1]="CRLF"})(d5||(d5={}));var u5;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=3]="Right"})(u5||(u5={}));var h5;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(h5||(h5={}));var g5;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(g5||(g5={}));var f5;(function(n){n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(f5||(f5={}));var p5;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(p5||(p5={}));var m5;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(m5||(m5={}));var v5;(function(n){n[n.DependsOnKbLayout=-1]="DependsOnKbLayout",n[n.Unknown=0]="Unknown",n[n.Backspace=1]="Backspace",n[n.Tab=2]="Tab",n[n.Enter=3]="Enter",n[n.Shift=4]="Shift",n[n.Ctrl=5]="Ctrl",n[n.Alt=6]="Alt",n[n.PauseBreak=7]="PauseBreak",n[n.CapsLock=8]="CapsLock",n[n.Escape=9]="Escape",n[n.Space=10]="Space",n[n.PageUp=11]="PageUp",n[n.PageDown=12]="PageDown",n[n.End=13]="End",n[n.Home=14]="Home",n[n.LeftArrow=15]="LeftArrow",n[n.UpArrow=16]="UpArrow",n[n.RightArrow=17]="RightArrow",n[n.DownArrow=18]="DownArrow",n[n.Insert=19]="Insert",n[n.Delete=20]="Delete",n[n.Digit0=21]="Digit0",n[n.Digit1=22]="Digit1",n[n.Digit2=23]="Digit2",n[n.Digit3=24]="Digit3",n[n.Digit4=25]="Digit4",n[n.Digit5=26]="Digit5",n[n.Digit6=27]="Digit6",n[n.Digit7=28]="Digit7",n[n.Digit8=29]="Digit8",n[n.Digit9=30]="Digit9",n[n.KeyA=31]="KeyA",n[n.KeyB=32]="KeyB",n[n.KeyC=33]="KeyC",n[n.KeyD=34]="KeyD",n[n.KeyE=35]="KeyE",n[n.KeyF=36]="KeyF",n[n.KeyG=37]="KeyG",n[n.KeyH=38]="KeyH",n[n.KeyI=39]="KeyI",n[n.KeyJ=40]="KeyJ",n[n.KeyK=41]="KeyK",n[n.KeyL=42]="KeyL",n[n.KeyM=43]="KeyM",n[n.KeyN=44]="KeyN",n[n.KeyO=45]="KeyO",n[n.KeyP=46]="KeyP",n[n.KeyQ=47]="KeyQ",n[n.KeyR=48]="KeyR",n[n.KeyS=49]="KeyS",n[n.KeyT=50]="KeyT",n[n.KeyU=51]="KeyU",n[n.KeyV=52]="KeyV",n[n.KeyW=53]="KeyW",n[n.KeyX=54]="KeyX",n[n.KeyY=55]="KeyY",n[n.KeyZ=56]="KeyZ",n[n.Meta=57]="Meta",n[n.ContextMenu=58]="ContextMenu",n[n.F1=59]="F1",n[n.F2=60]="F2",n[n.F3=61]="F3",n[n.F4=62]="F4",n[n.F5=63]="F5",n[n.F6=64]="F6",n[n.F7=65]="F7",n[n.F8=66]="F8",n[n.F9=67]="F9",n[n.F10=68]="F10",n[n.F11=69]="F11",n[n.F12=70]="F12",n[n.F13=71]="F13",n[n.F14=72]="F14",n[n.F15=73]="F15",n[n.F16=74]="F16",n[n.F17=75]="F17",n[n.F18=76]="F18",n[n.F19=77]="F19",n[n.F20=78]="F20",n[n.F21=79]="F21",n[n.F22=80]="F22",n[n.F23=81]="F23",n[n.F24=82]="F24",n[n.NumLock=83]="NumLock",n[n.ScrollLock=84]="ScrollLock",n[n.Semicolon=85]="Semicolon",n[n.Equal=86]="Equal",n[n.Comma=87]="Comma",n[n.Minus=88]="Minus",n[n.Period=89]="Period",n[n.Slash=90]="Slash",n[n.Backquote=91]="Backquote",n[n.BracketLeft=92]="BracketLeft",n[n.Backslash=93]="Backslash",n[n.BracketRight=94]="BracketRight",n[n.Quote=95]="Quote",n[n.OEM_8=96]="OEM_8",n[n.IntlBackslash=97]="IntlBackslash",n[n.Numpad0=98]="Numpad0",n[n.Numpad1=99]="Numpad1",n[n.Numpad2=100]="Numpad2",n[n.Numpad3=101]="Numpad3",n[n.Numpad4=102]="Numpad4",n[n.Numpad5=103]="Numpad5",n[n.Numpad6=104]="Numpad6",n[n.Numpad7=105]="Numpad7",n[n.Numpad8=106]="Numpad8",n[n.Numpad9=107]="Numpad9",n[n.NumpadMultiply=108]="NumpadMultiply",n[n.NumpadAdd=109]="NumpadAdd",n[n.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",n[n.NumpadSubtract=111]="NumpadSubtract",n[n.NumpadDecimal=112]="NumpadDecimal",n[n.NumpadDivide=113]="NumpadDivide",n[n.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",n[n.ABNT_C1=115]="ABNT_C1",n[n.ABNT_C2=116]="ABNT_C2",n[n.AudioVolumeMute=117]="AudioVolumeMute",n[n.AudioVolumeUp=118]="AudioVolumeUp",n[n.AudioVolumeDown=119]="AudioVolumeDown",n[n.BrowserSearch=120]="BrowserSearch",n[n.BrowserHome=121]="BrowserHome",n[n.BrowserBack=122]="BrowserBack",n[n.BrowserForward=123]="BrowserForward",n[n.MediaTrackNext=124]="MediaTrackNext",n[n.MediaTrackPrevious=125]="MediaTrackPrevious",n[n.MediaStop=126]="MediaStop",n[n.MediaPlayPause=127]="MediaPlayPause",n[n.LaunchMediaPlayer=128]="LaunchMediaPlayer",n[n.LaunchMail=129]="LaunchMail",n[n.LaunchApp2=130]="LaunchApp2",n[n.Clear=131]="Clear",n[n.MAX_VALUE=132]="MAX_VALUE"})(v5||(v5={}));var b5;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(b5||(b5={}));var _5;(function(n){n[n.Unnecessary=1]="Unnecessary",n[n.Deprecated=2]="Deprecated"})(_5||(_5={}));var C5;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(C5||(C5={}));var y5;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.TEXTAREA=1]="TEXTAREA",n[n.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",n[n.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",n[n.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",n[n.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",n[n.CONTENT_TEXT=6]="CONTENT_TEXT",n[n.CONTENT_EMPTY=7]="CONTENT_EMPTY",n[n.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",n[n.CONTENT_WIDGET=9]="CONTENT_WIDGET",n[n.OVERVIEW_RULER=10]="OVERVIEW_RULER",n[n.SCROLLBAR=11]="SCROLLBAR",n[n.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",n[n.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(y5||(y5={}));var w5;(function(n){n[n.AIGenerated=1]="AIGenerated"})(w5||(w5={}));var S5;(function(n){n[n.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",n[n.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",n[n.TOP_CENTER=2]="TOP_CENTER"})(S5||(S5={}));var x5;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(x5||(x5={}));var k5;(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right",n[n.None=2]="None",n[n.LeftOfInjectedText=3]="LeftOfInjectedText",n[n.RightOfInjectedText=4]="RightOfInjectedText"})(k5||(k5={}));var L5;(function(n){n[n.Off=0]="Off",n[n.On=1]="On",n[n.Relative=2]="Relative",n[n.Interval=3]="Interval",n[n.Custom=4]="Custom"})(L5||(L5={}));var D5;(function(n){n[n.None=0]="None",n[n.Text=1]="Text",n[n.Blocks=2]="Blocks"})(D5||(D5={}));var E5;(function(n){n[n.Smooth=0]="Smooth",n[n.Immediate=1]="Immediate"})(E5||(E5={}));var T5;(function(n){n[n.Auto=1]="Auto",n[n.Hidden=2]="Hidden",n[n.Visible=3]="Visible"})(T5||(T5={}));var I5;(function(n){n[n.LTR=0]="LTR",n[n.RTL=1]="RTL"})(I5||(I5={}));var N5;(function(n){n.Off="off",n.OnCode="onCode",n.On="on"})(N5||(N5={}));var R5;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(R5||(R5={}));var M5;(function(n){n[n.File=0]="File",n[n.Module=1]="Module",n[n.Namespace=2]="Namespace",n[n.Package=3]="Package",n[n.Class=4]="Class",n[n.Method=5]="Method",n[n.Property=6]="Property",n[n.Field=7]="Field",n[n.Constructor=8]="Constructor",n[n.Enum=9]="Enum",n[n.Interface=10]="Interface",n[n.Function=11]="Function",n[n.Variable=12]="Variable",n[n.Constant=13]="Constant",n[n.String=14]="String",n[n.Number=15]="Number",n[n.Boolean=16]="Boolean",n[n.Array=17]="Array",n[n.Object=18]="Object",n[n.Key=19]="Key",n[n.Null=20]="Null",n[n.EnumMember=21]="EnumMember",n[n.Struct=22]="Struct",n[n.Event=23]="Event",n[n.Operator=24]="Operator",n[n.TypeParameter=25]="TypeParameter"})(M5||(M5={}));var A5;(function(n){n[n.Deprecated=1]="Deprecated"})(A5||(A5={}));var P5;(function(n){n[n.Hidden=0]="Hidden",n[n.Blink=1]="Blink",n[n.Smooth=2]="Smooth",n[n.Phase=3]="Phase",n[n.Expand=4]="Expand",n[n.Solid=5]="Solid"})(P5||(P5={}));var O5;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(O5||(O5={}));var F5;(function(n){n[n.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",n[n.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",n[n.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",n[n.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(F5||(F5={}));var B5;(function(n){n[n.None=0]="None",n[n.Same=1]="Same",n[n.Indent=2]="Indent",n[n.DeepIndent=3]="DeepIndent"})(B5||(B5={}));let mS=class{static chord(e,t){return qn(e,t)}};mS.CtrlCmd=2048;mS.Shift=1024;mS.Alt=512;mS.WinCtrl=256;function LQ(){return{editor:void 0,languages:void 0,CancellationTokenSource:gn,Emitter:B,KeyCode:v5,KeyMod:mS,Position:W,Range:D,Selection:Pe,SelectionDirection:I5,MarkerSeverity:b5,MarkerTag:_5,Uri:Ke,Token:Dy}}function zme(n,e){const t=n;typeof t.vscodeWindowId!="number"&&Object.defineProperty(t,"vscodeWindowId",{get:()=>e})}const gi=window,Ume=gi;class $me{constructor(e){this.fn=e,this.lastCache=void 0,this.lastArgKey=void 0}get(e){const t=JSON.stringify(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this.fn(e)),this.lastCache}}class fz{get cachedValues(){return this._map}constructor(e){this.fn=e,this._map=new Map}get(e){if(this._map.has(e))return this._map.get(e);const t=this.fn(e);return this._map.set(e,t),t}}class Kd{constructor(e){this.executor=e,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var S_;function DQ(n){return!n||typeof n!="string"?!0:n.trim().length===0}const jme=/{(\d+)}/g;function um(n,...e){return e.length===0?n:n.replace(jme,function(t,i){const o=parseInt(i,10);return isNaN(o)||o<0||o>=e.length?t:e[o]})}function Kme(n){return n.replace(/[<>"'&]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return e})}function GD(n){return n.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function ra(n){return n.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function qme(n,e=" "){const t=vS(n,e);return EQ(t,e)}function vS(n,e){if(!n||!e)return n;const t=e.length;if(t===0||n.length===0)return n;let i=0;for(;n.indexOf(e,i)===i;)i=i+t;return n.substring(i)}function EQ(n,e){if(!n||!e)return n;const t=e.length,i=n.length;if(t===0||i===0)return n;let o=i,r=-1;for(;r=n.lastIndexOf(e,o-1),!(r===-1||r+t!==o);){if(r===0)return"";o=r}return n.substring(0,o)}function Gme(n){return n.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function Zme(n){return n.replace(/\*/g,"")}function TQ(n,e,t={}){if(!n)throw new Error("Cannot create regex from empty string");e||(n=ra(n)),t.wholeWord&&(/\B/.test(n.charAt(0))||(n="\\b"+n),/\B/.test(n.charAt(n.length-1))||(n=n+"\\b"));let i="";return t.global&&(i+="g"),t.matchCase||(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),new RegExp(n,i)}function Yme(n){return n.source==="^"||n.source==="^$"||n.source==="$"||n.source==="^\\s*$"?!1:!!(n.exec("")&&n.lastIndex===0)}function qd(n){return n.split(/\r\n|\r|\n/)}function Xme(n){var e;const t=[],i=n.split(/(\r\n|\r|\n)/);for(let o=0;o<Math.ceil(i.length/2);o++)t.push(i[2*o]+((e=i[2*o+1])!==null&&e!==void 0?e:""));return t}function hr(n){for(let e=0,t=n.length;e<t;e++){const i=n.charCodeAt(e);if(i!==32&&i!==9)return e}return-1}function wi(n,e=0,t=n.length){for(let i=e;i<t;i++){const o=n.charCodeAt(i);if(o!==32&&o!==9)return n.substring(e,i)}return n.substring(e,t)}function hc(n,e=n.length-1){for(let t=e;t>=0;t--){const i=n.charCodeAt(t);if(i!==32&&i!==9)return t}return-1}function Iy(n,e){return n<e?-1:n>e?1:0}function U8(n,e,t=0,i=n.length,o=0,r=e.length){for(;t<i&&o<r;t++,o++){const l=n.charCodeAt(t),c=e.charCodeAt(o);if(l<c)return-1;if(l>c)return 1}const s=i-t,a=r-o;return s<a?-1:s>a?1:0}function W5(n,e){return bS(n,e,0,n.length,0,e.length)}function bS(n,e,t=0,i=n.length,o=0,r=e.length){for(;t<i&&o<r;t++,o++){let l=n.charCodeAt(t),c=e.charCodeAt(o);if(l===c)continue;if(l>=128||c>=128)return U8(n.toLowerCase(),e.toLowerCase(),t,i,o,r);lg(l)&&(l-=32),lg(c)&&(c-=32);const d=l-c;if(d!==0)return d}const s=i-t,a=r-o;return s<a?-1:s>a?1:0}function Ax(n){return n>=48&&n<=57}function lg(n){return n>=97&&n<=122}function Jc(n){return n>=65&&n<=90}function rb(n,e){return n.length===e.length&&bS(n,e)===0}function $8(n,e){const t=e.length;return e.length>n.length?!1:bS(n,e,0,t)===0}function Jg(n,e){const t=Math.min(n.length,e.length);let i;for(i=0;i<t;i++)if(n.charCodeAt(i)!==e.charCodeAt(i))return i;return t}function ZD(n,e){const t=Math.min(n.length,e.length);let i;const o=n.length-1,r=e.length-1;for(i=0;i<t;i++)if(n.charCodeAt(o-i)!==e.charCodeAt(r-i))return i;return t}function to(n){return 55296<=n&&n<=56319}function hm(n){return 56320<=n&&n<=57343}function j8(n,e){return(n-55296<<10)+(e-56320)+65536}function YD(n,e,t){const i=n.charCodeAt(t);if(to(i)&&t+1<e){const o=n.charCodeAt(t+1);if(hm(o))return j8(i,o)}return i}function Qme(n,e){const t=n.charCodeAt(e-1);if(hm(t)&&e>1){const i=n.charCodeAt(e-2);if(to(i))return j8(i,t)}return t}class K8{get offset(){return this._offset}constructor(e,t=0){this._str=e,this._len=e.length,this._offset=t}setOffset(e){this._offset=e}prevCodePoint(){const e=Qme(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){const e=YD(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}}class XD{get offset(){return this._iterator.offset}constructor(e,t=0){this._iterator=new K8(e,t)}nextGraphemeLength(){const e=cg.getInstance(),t=this._iterator,i=t.offset;let o=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){const r=t.offset,s=e.getGraphemeBreakType(t.nextCodePoint());if(pz(o,s)){t.setOffset(r);break}o=s}return t.offset-i}prevGraphemeLength(){const e=cg.getInstance(),t=this._iterator,i=t.offset;let o=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){const r=t.offset,s=e.getGraphemeBreakType(t.prevCodePoint());if(pz(s,o)){t.setOffset(r);break}o=s}return i-t.offset}eol(){return this._iterator.eol()}}function q8(n,e){return new XD(n,e).nextGraphemeLength()}function IQ(n,e){return new XD(n,e).prevGraphemeLength()}function Jme(n,e){e>0&&hm(n.charCodeAt(e))&&e--;const t=e+q8(n,e);return[t-IQ(n,t),t]}let UR;function eve(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function x_(n){return UR||(UR=eve()),UR.test(n)}const tve=/^[\t\n\r\x20-\x7E]*$/;function _S(n){return tve.test(n)}const NQ=/[\u2028\u2029]/;function RQ(n){return NQ.test(n)}function ef(n){return n>=11904&&n<=55215||n>=63744&&n<=64255||n>=65281&&n<=65374}function G8(n){return n>=127462&&n<=127487||n===8986||n===8987||n===9200||n===9203||n>=9728&&n<=10175||n===11088||n===11093||n>=127744&&n<=128591||n>=128640&&n<=128764||n>=128992&&n<=129008||n>=129280&&n<=129535||n>=129648&&n<=129782}const ive="\uFEFF";function Z8(n){return!!(n&&n.length>0&&n.charCodeAt(0)===65279)}function nve(n,e=!1){return n?(e&&(n=n.replace(/\\./g,"")),n.toLowerCase()!==n):!1}function MQ(n){return n=n%(2*26),n<26?String.fromCharCode(97+n):String.fromCharCode(65+n-26)}function pz(n,e){return n===0?e!==5&&e!==7:n===2&&e===3?!1:n===4||n===2||n===3||e===4||e===2||e===3?!0:!(n===8&&(e===8||e===9||e===11||e===12)||(n===11||n===9)&&(e===9||e===10)||(n===12||n===10)&&e===10||e===5||e===13||e===7||n===1||n===13&&e===14||n===6&&e===6)}class cg{static getInstance(){return cg._INSTANCE||(cg._INSTANCE=new cg),cg._INSTANCE}constructor(){this._data=ove()}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let o=1;for(;o<=i;)if(e<t[3*o])o=2*o;else if(e>t[3*o+1])o=2*o+1;else return t[3*o+2];return 0}}cg._INSTANCE=null;function ove(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function rve(n,e){if(n===0)return 0;const t=sve(n,e);if(t!==void 0)return t;const i=new K8(e,n);return i.prevCodePoint(),i.offset}function sve(n,e){const t=new K8(e,n);let i=t.prevCodePoint();for(;ave(i)||i===65039||i===8419;){if(t.offset===0)return;i=t.prevCodePoint()}if(!G8(i))return;let o=t.offset;return o>0&&t.prevCodePoint()===8205&&(o=t.offset),o}function ave(n){return 127995<=n&&n<=127999}const AQ="";class gm{static getInstance(e){return S_.cache.get(Array.from(e))}static getLocales(){return S_._locales.value}constructor(e){this.confusableDictionary=e}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}S_=gm;gm.ambiguousCharacterData=new Kd(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));gm.cache=new $me(n=>{function e(c){const d=new Map;for(let u=0;u<c.length;u+=2)d.set(c[u],c[u+1]);return d}function t(c,d){const u=new Map(c);for(const[h,g]of d)u.set(h,g);return u}function i(c,d){if(!c)return d;const u=new Map;for(const[h,g]of c)d.has(h)&&u.set(h,g);return u}const o=S_.ambiguousCharacterData.value;let r=n.filter(c=>!c.startsWith("_")&&c in o);r.length===0&&(r=["_default"]);let s;for(const c of r){const d=e(o[c]);s=i(s,d)}const a=e(o._common),l=t(a,s);return new S_(l)});gm._locales=new Kd(()=>Object.keys(S_.ambiguousCharacterData.value).filter(n=>!n.startsWith("_")));class Ld{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Ld.getRawData())),this._data}static isInvisibleCharacter(e){return Ld.getData().has(e)}static get codePoints(){return Ld.getData()}}Ld._data=void 0;class V5{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(e){var t;return(t=this.mapWindowIdToZoomFactor.get(this.getWindowId(e)))!==null&&t!==void 0?t:1}getWindowId(e){return e.vscodeWindowId}}V5.INSTANCE=new V5;function PQ(n,e,t){typeof e=="string"&&(e=n.matchMedia(e)),e.addEventListener("change",t)}function lve(n){return V5.INSTANCE.getZoomFactor(n)}const p0=navigator.userAgent,Oa=p0.indexOf("Firefox")>=0,jp=p0.indexOf("AppleWebKit")>=0,CS=p0.indexOf("Chrome")>=0,uh=!CS&&p0.indexOf("Safari")>=0,OQ=!CS&&!uh&&jp;p0.indexOf("Electron/")>=0;const mz=p0.indexOf("Android")>=0;let wL=!1;if(typeof gi.matchMedia=="function"){const n=gi.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=gi.matchMedia("(display-mode: fullscreen)");wL=n.matches,PQ(gi,n,({matches:t})=>{wL&&e.matches||(wL=t)})}function cve(){return wL}const Y8={clipboard:{writeText:dc||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:dc||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:dc||cve()?0:navigator.keyboard||uh?1:2,touch:"ontouchstart"in gi||navigator.maxTouchPoints>0,pointerEvents:gi.PointerEvent&&("ontouchstart"in gi||navigator.maxTouchPoints>0)};function H5(n,e){if(typeof n=="number"){if(n===0)return null;const t=(n&65535)>>>0,i=(n&4294901760)>>>16;return i!==0?new $R([Px(t,e),Px(i,e)]):new $R([Px(t,e)])}else{const t=[];for(let i=0;i<n.length;i++)t.push(Px(n[i],e));return new $R(t)}}function Px(n,e){const t=!!(n&2048),i=!!(n&256),o=e===2?i:t,r=!!(n&1024),s=!!(n&512),a=e===2?t:i,l=n&255;return new hh(o,r,s,a,l)}class hh{constructor(e,t,i,o,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=o,this.keyCode=r}equals(e){return e instanceof hh&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class $R{constructor(e){if(e.length===0)throw Ra("chords");this.chords=e}}class dve{constructor(e,t,i,o,r,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=o,this.keyLabel=r,this.keyAriaLabel=s}}class uve{}function hve(n){if(n.charCode){const t=String.fromCharCode(n.charCode).toUpperCase();return bu.fromString(t)}const e=n.keyCode;if(e===3)return 7;if(Oa)switch(e){case 59:return 85;case 60:if(Br)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(Rt)return 57;break}else if(jp){if(Rt&&e===93)return 57;if(!Rt&&e===92)return 57}return mQ[e]||0}const gve=Rt?256:2048,fve=512,pve=1024,mve=Rt?2048:256;class Ni{constructor(e){this._standardKeyboardEventBrand=!0;const t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState("AltGraph"),this.keyCode=hve(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=gve),this.altKey&&(t|=fve),this.shiftKey&&(t|=pve),this.metaKey&&(t|=mve),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new hh(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}const vz=new WeakMap;function vve(n){if(!n.parent||n.parent===n)return null;try{const e=n.location,t=n.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return null}catch{return null}return n.parent}class bve{static getSameOriginWindowChain(e){let t=vz.get(e);if(!t){t=[],vz.set(e,t);let i=e,o;do o=vve(i),o?t.push({window:new WeakRef(i),iframeElement:i.frameElement||null}):t.push({window:new WeakRef(i),iframeElement:null}),i=o;while(i)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){var i,o;if(!t||e===t)return{top:0,left:0};let r=0,s=0;const a=this.getSameOriginWindowChain(e);for(const l of a){const c=l.window.deref();if(r+=(i=c==null?void 0:c.scrollY)!==null&&i!==void 0?i:0,s+=(o=c==null?void 0:c.scrollX)!==null&&o!==void 0?o:0,c===t||!l.iframeElement)break;const d=l.iframeElement.getBoundingClientRect();r+=d.top,s+=d.left}return{top:r,left:s}}}class dl{constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const i=bve.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class fm{constructor(e,t=0,i=0){var o;this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t;let r=!1;if(CS){const s=navigator.userAgent.match(/Chrome\/(\d+)/);r=(s?parseInt(s[1]):123)<=122}if(e){const s=e,a=e,l=((o=e.view)===null||o===void 0?void 0:o.devicePixelRatio)||1;if(typeof s.wheelDeltaY<"u")r?this.deltaY=s.wheelDeltaY/(120*l):this.deltaY=s.wheelDeltaY/120;else if(typeof a.VERTICAL_AXIS<"u"&&a.axis===a.VERTICAL_AXIS)this.deltaY=-a.detail/3;else if(e.type==="wheel"){const c=e;c.deltaMode===c.DOM_DELTA_LINE?Oa&&!Rt?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof s.wheelDeltaX<"u")uh&&Qo?this.deltaX=-(s.wheelDeltaX/120):r?this.deltaX=s.wheelDeltaX/(120*l):this.deltaX=s.wheelDeltaX/120;else if(typeof a.HORIZONTAL_AXIS<"u"&&a.axis===a.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){const c=e;c.deltaMode===c.DOM_DELTA_LINE?Oa&&!Rt?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(r?this.deltaY=e.wheelDelta/(120*l):this.deltaY=e.wheelDelta/120)}}preventDefault(){var e;(e=this.browserEvent)===null||e===void 0||e.preventDefault()}stopPropagation(){var e;(e=this.browserEvent)===null||e===void 0||e.stopPropagation()}}const FQ=Symbol("MicrotaskDelay");function z5(n){return!!n&&typeof n.then=="function"}function ro(n){const e=new gn,t=n(e.token),i=new Promise((o,r)=>{const s=e.token.onCancellationRequested(()=>{s.dispose(),r(new Rf)});Promise.resolve(t).then(a=>{s.dispose(),e.dispose(),o(a)},a=>{s.dispose(),e.dispose(),r(a)})});return new class{cancel(){e.cancel(),e.dispose()}then(o,r){return i.then(o,r)}catch(o){return this.then(void 0,o)}finally(o){return i.finally(o)}}}function yS(n,e,t){return new Promise((i,o)=>{const r=e.onCancellationRequested(()=>{r.dispose(),i(t)});n.then(i,o).finally(()=>r.dispose())})}class _ve{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const t=()=>{if(this.queuedPromise=null,this.isDisposed)return;const i=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,i};this.queuedPromise=new Promise(i=>{this.activePromise.then(t,t).then(i)})}return new Promise((t,i)=>{this.queuedPromise.then(t,i)})}return this.activePromise=e(),new Promise((t,i)=>{this.activePromise.then(o=>{this.activePromise=null,t(o)},o=>{this.activePromise=null,i(o)})})}dispose(){this.isDisposed=!0}}const Cve=(n,e)=>{let t=!0;const i=setTimeout(()=>{t=!1,e()},n);return{isTriggered:()=>t,dispose:()=>{clearTimeout(i),t=!1}}},yve=n=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,n())}),{isTriggered:()=>e,dispose:()=>{e=!1}}};class Sl{constructor(e){this.defaultDelay=e,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((o,r)=>{this.doResolve=o,this.doReject=r}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const o=this.task;return this.task=null,o()}}));const i=()=>{var o;this.deferred=null,(o=this.doResolve)===null||o===void 0||o.call(this,null)};return this.deferred=t===FQ?yve(i):Cve(t,i),this.completionPromise}isTriggered(){var e;return!!(!((e=this.deferred)===null||e===void 0)&&e.isTriggered())}cancel(){var e;this.cancelTimeout(),this.completionPromise&&((e=this.doReject)===null||e===void 0||e.call(this,new Rf),this.completionPromise=null)}cancelTimeout(){var e;(e=this.deferred)===null||e===void 0||e.dispose(),this.deferred=null}dispose(){this.cancel()}}class BQ{constructor(e){this.delayer=new Sl(e),this.throttler=new _ve}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function tf(n,e){return e?new Promise((t,i)=>{const o=setTimeout(()=>{r.dispose(),t()},n),r=e.onCancellationRequested(()=>{clearTimeout(o),r.dispose(),i(new Rf)})}):ro(t=>tf(n,t))}function nf(n,e=0,t){const i=setTimeout(()=>{n(),t&&o.dispose()},e),o=je(()=>{clearTimeout(i),t==null||t.deleteAndLeak(o)});return t==null||t.add(o),o}function X8(n,e=i=>!!i,t=null){let i=0;const o=n.length,r=()=>{if(i>=o)return Promise.resolve(t);const s=n[i++];return Promise.resolve(s()).then(l=>e(l)?Promise.resolve(l):r())};return r()}class Ll{constructor(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}}class Q8{constructor(){this.disposable=void 0}cancel(){var e;(e=this.disposable)===null||e===void 0||e.dispose(),this.disposable=void 0}cancelAndSet(e,t,i=globalThis){this.cancel();const o=i.setInterval(()=>{e()},t);this.disposable=je(()=>{i.clearInterval(o),this.disposable=void 0})}dispose(){this.cancel()}}class mi{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var e;(e=this.runner)===null||e===void 0||e.call(this)}}let WQ,yC;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?yC=(n,e)=>{rQ(()=>{if(t)return;const i=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,i-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:yC=(n,e,t)=>{const i=n.requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0);let o=!1;return{dispose(){o||(o=!0,n.cancelIdleCallback(i))}}},WQ=n=>yC(globalThis,n)})();class VQ{constructor(e,t){this._didRun=!1,this._executor=()=>{try{this._value=t()}catch(i){this._error=i}finally{this._didRun=!0}},this._handle=yC(e,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class wve extends VQ{constructor(e){super(globalThis,e)}}class BT{get isRejected(){var e;return((e=this.outcome)===null||e===void 0?void 0:e.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}complete(e){return new Promise(t=>{this.completeCallback(e),this.outcome={outcome:0,value:e},t()})}error(e){return new Promise(t=>{this.errorCallback(e),this.outcome={outcome:1,value:e},t()})}cancel(){return this.error(new Rf)}}var U5;(function(n){async function e(i){let o;const r=await Promise.all(i.map(s=>s.then(a=>a,a=>{o||(o=a)})));if(typeof o<"u")throw o;return r}n.settled=e;function t(i){return new Promise(async(o,r)=>{try{await i(o,r)}catch(s){r(s)}})}n.withAsyncBody=t})(U5||(U5={}));class Pn{static fromArray(e){return new Pn(t=>{t.emitMany(e)})}static fromPromise(e){return new Pn(async t=>{t.emitMany(await e)})}static fromPromises(e){return new Pn(async t=>{await Promise.all(e.map(async i=>t.emitOne(await i)))})}static merge(e){return new Pn(async t=>{await Promise.all(e.map(async i=>{for await(const o of i)t.emitOne(o)}))})}constructor(e){this._state=0,this._results=[],this._error=null,this._onStateChanged=new B,queueMicrotask(async()=>{const t={emitOne:i=>this.emitOne(i),emitMany:i=>this.emitMany(i),reject:i=>this.reject(i)};try{await Promise.resolve(e(t)),this.resolve()}catch(i){this.reject(i)}finally{t.emitOne=void 0,t.emitMany=void 0,t.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await me.toPromise(this._onStateChanged.event)}while(!0)}}}static map(e,t){return new Pn(async i=>{for await(const o of e)i.emitOne(t(o))})}map(e){return Pn.map(this,e)}static filter(e,t){return new Pn(async i=>{for await(const o of e)t(o)&&i.emitOne(o)})}filter(e){return Pn.filter(this,e)}static coalesce(e){return Pn.filter(e,t=>!!t)}coalesce(){return Pn.coalesce(this)}static async toPromise(e){const t=[];for await(const i of e)t.push(i);return t}toPromise(){return Pn.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}}Pn.EMPTY=Pn.fromArray([]);class Sve extends Pn{constructor(e,t){super(t),this._source=e}cancel(){this._source.cancel()}}function xve(n){const e=new gn,t=n(e.token);return new Sve(e,async i=>{const o=e.token.onCancellationRequested(()=>{o.dispose(),e.dispose(),i.reject(new Rf)});try{for await(const r of t){if(e.token.isCancellationRequested)return;i.emitOne(r)}o.dispose(),e.dispose()}catch(r){o.dispose(),e.dispose(),i.reject(r)}})}/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:HQ,setPrototypeOf:bz,isFrozen:kve,getPrototypeOf:Lve,getOwnPropertyDescriptor:Dve}=Object;let{freeze:Ls,seal:_c,create:Eve}=Object,{apply:$5,construct:j5}=typeof Reflect<"u"&&Reflect;$5||($5=function(e,t,i){return e.apply(t,i)});Ls||(Ls=function(e){return e});_c||(_c=function(e){return e});j5||(j5=function(e,t){return new e(...t)});const Tve=xl(Array.prototype.forEach),_z=xl(Array.prototype.pop),t1=xl(Array.prototype.push),SL=xl(String.prototype.toLowerCase),jR=xl(String.prototype.toString),Ive=xl(String.prototype.match),Nl=xl(String.prototype.replace),Nve=xl(String.prototype.indexOf),Rve=xl(String.prototype.trim),ba=xl(RegExp.prototype.test),i1=Mve(TypeError);function xl(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return $5(n,e,i)}}function Mve(n){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return j5(n,t)}}function hi(n,e,t){var i;t=(i=t)!==null&&i!==void 0?i:SL,bz&&bz(n,null);let o=e.length;for(;o--;){let r=e[o];if(typeof r=="string"){const s=t(r);s!==r&&(kve(e)||(e[o]=s),r=s)}n[r]=!0}return n}function uv(n){const e=Eve(null);for(const[t,i]of HQ(n))e[t]=i;return e}function Ox(n,e){for(;n!==null;){const i=Dve(n,e);if(i){if(i.get)return xl(i.get);if(typeof i.value=="function")return xl(i.value)}n=Lve(n)}function t(i){return console.warn("fallback value for",i),null}return t}const Cz=Ls(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),KR=Ls(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),qR=Ls(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ave=Ls(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),GR=Ls(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Pve=Ls(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),yz=Ls(["#text"]),wz=Ls(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ZR=Ls(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Sz=Ls(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Fx=Ls(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ove=_c(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Fve=_c(/<%[\w\W]*|[\w\W]*%>/gm),Bve=_c(/\${[\w\W]*}/gm),Wve=_c(/^data-[\-\w.\u00B7-\uFFFF]/),Vve=_c(/^aria-[\-\w]+$/),zQ=_c(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Hve=_c(/^(?:\w+script|data):/i),zve=_c(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),UQ=_c(/^html$/i);var xz=Object.freeze({__proto__:null,MUSTACHE_EXPR:Ove,ERB_EXPR:Fve,TMPLIT_EXPR:Bve,DATA_ATTR:Wve,ARIA_ATTR:Vve,IS_ALLOWED_URI:zQ,IS_SCRIPT_OR_DATA:Hve,ATTR_WHITESPACE:zve,DOCTYPE_NAME:UQ});const Uve=()=>typeof window>"u"?null:window,$ve=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(i=t.getAttribute(o));const r="dompurify"+(i?"#"+i:"");try{return e.createPolicy(r,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function $Q(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Uve();const e=gt=>$Q(gt);if(e.version="3.0.5",e.removed=[],!n||!n.document||n.document.nodeType!==9)return e.isSupported=!1,e;const t=n.document,i=t.currentScript;let{document:o}=n;const{DocumentFragment:r,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:c,NamedNodeMap:d=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:u,DOMParser:h,trustedTypes:g}=n,f=l.prototype,p=Ox(f,"cloneNode"),b=Ox(f,"nextSibling"),v=Ox(f,"childNodes"),_=Ox(f,"parentNode");if(typeof s=="function"){const gt=o.createElement("template");gt.content&&gt.content.ownerDocument&&(o=gt.content.ownerDocument)}let C,y="";const{implementation:w,createNodeIterator:S,createDocumentFragment:x,getElementsByTagName:L}=o,{importNode:E}=t;let O={};e.isSupported=typeof HQ=="function"&&typeof _=="function"&&w&&w.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:P,ERB_EXPR:A,TMPLIT_EXPR:F,DATA_ATTR:K,ARIA_ATTR:te,IS_SCRIPT_OR_DATA:ye,ATTR_WHITESPACE:be}=xz;let{IS_ALLOWED_URI:ae}=xz,Q=null;const _e=hi({},[...Cz,...KR,...qR,...GR,...yz]);let Ie=null;const se=hi({},[...wz,...ZR,...Sz,...Fx]);let Y=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ne=null,tt=null,ne=!0,$e=!0,Me=!1,ni=!0,kt=!1,Te=!1,at=!1,ai=!1,Wi=!1,Ft=!1,Kt=!1,Yt=!0,Rn=!1;const Os="user-content-";let re=!0,G=!1,Z={},M=null;const R=hi({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let H=null;const V=hi({},["audio","video","img","source","image","track"]);let le=null;const q=hi({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),xe="http://www.w3.org/1998/Math/MathML",Fe="http://www.w3.org/2000/svg",ut="http://www.w3.org/1999/xhtml";let ht=ut,_i=!1,ui=null;const it=hi({},[xe,Fe,ut],jR);let Xi;const $i=["application/xhtml+xml","text/html"],Fs="text/html";let ei,Mn=null;const Fc=o.createElement("form"),Qd=function(X){return X instanceof RegExp||X instanceof Function},J=function(X){if(!(Mn&&Mn===X)){if((!X||typeof X!="object")&&(X={}),X=uv(X),Xi=$i.indexOf(X.PARSER_MEDIA_TYPE)===-1?Xi=Fs:Xi=X.PARSER_MEDIA_TYPE,ei=Xi==="application/xhtml+xml"?jR:SL,Q="ALLOWED_TAGS"in X?hi({},X.ALLOWED_TAGS,ei):_e,Ie="ALLOWED_ATTR"in X?hi({},X.ALLOWED_ATTR,ei):se,ui="ALLOWED_NAMESPACES"in X?hi({},X.ALLOWED_NAMESPACES,jR):it,le="ADD_URI_SAFE_ATTR"in X?hi(uv(q),X.ADD_URI_SAFE_ATTR,ei):q,H="ADD_DATA_URI_TAGS"in X?hi(uv(V),X.ADD_DATA_URI_TAGS,ei):V,M="FORBID_CONTENTS"in X?hi({},X.FORBID_CONTENTS,ei):R,Ne="FORBID_TAGS"in X?hi({},X.FORBID_TAGS,ei):{},tt="FORBID_ATTR"in X?hi({},X.FORBID_ATTR,ei):{},Z="USE_PROFILES"in X?X.USE_PROFILES:!1,ne=X.ALLOW_ARIA_ATTR!==!1,$e=X.ALLOW_DATA_ATTR!==!1,Me=X.ALLOW_UNKNOWN_PROTOCOLS||!1,ni=X.ALLOW_SELF_CLOSE_IN_ATTR!==!1,kt=X.SAFE_FOR_TEMPLATES||!1,Te=X.WHOLE_DOCUMENT||!1,Wi=X.RETURN_DOM||!1,Ft=X.RETURN_DOM_FRAGMENT||!1,Kt=X.RETURN_TRUSTED_TYPE||!1,ai=X.FORCE_BODY||!1,Yt=X.SANITIZE_DOM!==!1,Rn=X.SANITIZE_NAMED_PROPS||!1,re=X.KEEP_CONTENT!==!1,G=X.IN_PLACE||!1,ae=X.ALLOWED_URI_REGEXP||zQ,ht=X.NAMESPACE||ut,Y=X.CUSTOM_ELEMENT_HANDLING||{},X.CUSTOM_ELEMENT_HANDLING&&Qd(X.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Y.tagNameCheck=X.CUSTOM_ELEMENT_HANDLING.tagNameCheck),X.CUSTOM_ELEMENT_HANDLING&&Qd(X.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Y.attributeNameCheck=X.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),X.CUSTOM_ELEMENT_HANDLING&&typeof X.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Y.allowCustomizedBuiltInElements=X.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),kt&&($e=!1),Ft&&(Wi=!0),Z&&(Q=hi({},[...yz]),Ie=[],Z.html===!0&&(hi(Q,Cz),hi(Ie,wz)),Z.svg===!0&&(hi(Q,KR),hi(Ie,ZR),hi(Ie,Fx)),Z.svgFilters===!0&&(hi(Q,qR),hi(Ie,ZR),hi(Ie,Fx)),Z.mathMl===!0&&(hi(Q,GR),hi(Ie,Sz),hi(Ie,Fx))),X.ADD_TAGS&&(Q===_e&&(Q=uv(Q)),hi(Q,X.ADD_TAGS,ei)),X.ADD_ATTR&&(Ie===se&&(Ie=uv(Ie)),hi(Ie,X.ADD_ATTR,ei)),X.ADD_URI_SAFE_ATTR&&hi(le,X.ADD_URI_SAFE_ATTR,ei),X.FORBID_CONTENTS&&(M===R&&(M=uv(M)),hi(M,X.FORBID_CONTENTS,ei)),re&&(Q["#text"]=!0),Te&&hi(Q,["html","head","body"]),Q.table&&(hi(Q,["tbody"]),delete Ne.tbody),X.TRUSTED_TYPES_POLICY){if(typeof X.TRUSTED_TYPES_POLICY.createHTML!="function")throw i1('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof X.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw i1('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=X.TRUSTED_TYPES_POLICY,y=C.createHTML("")}else C===void 0&&(C=$ve(g,i)),C!==null&&typeof y=="string"&&(y=C.createHTML(""));Ls&&Ls(X),Mn=X}},ce=hi({},["mi","mo","mn","ms","mtext"]),Se=hi({},["foreignobject","desc","title","annotation-xml"]),ze=hi({},["title","style","font","a","script"]),ot=hi({},KR);hi(ot,qR),hi(ot,Ave);const Xt=hi({},GR);hi(Xt,Pve);const Vt=function(X){let Oe=_(X);(!Oe||!Oe.tagName)&&(Oe={namespaceURI:ht,tagName:"template"});const Qe=SL(X.tagName),ji=SL(Oe.tagName);return ui[X.namespaceURI]?X.namespaceURI===Fe?Oe.namespaceURI===ut?Qe==="svg":Oe.namespaceURI===xe?Qe==="svg"&&(ji==="annotation-xml"||ce[ji]):!!ot[Qe]:X.namespaceURI===xe?Oe.namespaceURI===ut?Qe==="math":Oe.namespaceURI===Fe?Qe==="math"&&Se[ji]:!!Xt[Qe]:X.namespaceURI===ut?Oe.namespaceURI===Fe&&!Se[ji]||Oe.namespaceURI===xe&&!ce[ji]?!1:!Xt[Qe]&&(ze[Qe]||!ot[Qe]):!!(Xi==="application/xhtml+xml"&&ui[X.namespaceURI]):!1},bt=function(X){t1(e.removed,{element:X});try{X.parentNode.removeChild(X)}catch{X.remove()}},Ct=function(X,Oe){try{t1(e.removed,{attribute:Oe.getAttributeNode(X),from:Oe})}catch{t1(e.removed,{attribute:null,from:Oe})}if(Oe.removeAttribute(X),X==="is"&&!Ie[X])if(Wi||Ft)try{bt(Oe)}catch{}else try{Oe.setAttribute(X,"")}catch{}},li=function(X){let Oe,Qe;if(ai)X="<remove></remove>"+X;else{const mr=Ive(X,/^[\r\n\t ]+/);Qe=mr&&mr[0]}Xi==="application/xhtml+xml"&&ht===ut&&(X='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+X+"</body></html>");const ji=C?C.createHTML(X):X;if(ht===ut)try{Oe=new h().parseFromString(ji,Xi)}catch{}if(!Oe||!Oe.documentElement){Oe=w.createDocument(ht,"template",null);try{Oe.documentElement.innerHTML=_i?y:ji}catch{}}const Wn=Oe.body||Oe.documentElement;return X&&Qe&&Wn.insertBefore(o.createTextNode(Qe),Wn.childNodes[0]||null),ht===ut?L.call(Oe,Te?"html":"body")[0]:Te?Oe.documentElement:Wn},Qn=function(X){return S.call(X.ownerDocument||X,X,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},ri=function(X){return X instanceof u&&(typeof X.nodeName!="string"||typeof X.textContent!="string"||typeof X.removeChild!="function"||!(X.attributes instanceof d)||typeof X.removeAttribute!="function"||typeof X.setAttribute!="function"||typeof X.namespaceURI!="string"||typeof X.insertBefore!="function"||typeof X.hasChildNodes!="function")},Qi=function(X){return typeof a=="object"?X instanceof a:X&&typeof X=="object"&&typeof X.nodeType=="number"&&typeof X.nodeName=="string"},kn=function(X,Oe,Qe){O[X]&&Tve(O[X],ji=>{ji.call(e,Oe,Qe,Mn)})},Kr=function(X){let Oe;if(kn("beforeSanitizeElements",X,null),ri(X))return bt(X),!0;const Qe=ei(X.nodeName);if(kn("uponSanitizeElement",X,{tagName:Qe,allowedTags:Q}),X.hasChildNodes()&&!Qi(X.firstElementChild)&&(!Qi(X.content)||!Qi(X.content.firstElementChild))&&ba(/<[/\w]/g,X.innerHTML)&&ba(/<[/\w]/g,X.textContent))return bt(X),!0;if(!Q[Qe]||Ne[Qe]){if(!Ne[Qe]&&Jd(Qe)&&(Y.tagNameCheck instanceof RegExp&&ba(Y.tagNameCheck,Qe)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(Qe)))return!1;if(re&&!M[Qe]){const ji=_(X)||X.parentNode,Wn=v(X)||X.childNodes;if(Wn&&ji){const mr=Wn.length;for(let Tt=mr-1;Tt>=0;--Tt)ji.insertBefore(p(Wn[Tt],!0),b(X))}}return bt(X),!0}return X instanceof l&&!Vt(X)||(Qe==="noscript"||Qe==="noembed"||Qe==="noframes")&&ba(/<\/no(script|embed|frames)/i,X.innerHTML)?(bt(X),!0):(kt&&X.nodeType===3&&(Oe=X.textContent,Oe=Nl(Oe,P," "),Oe=Nl(Oe,A," "),Oe=Nl(Oe,F," "),X.textContent!==Oe&&(t1(e.removed,{element:X.cloneNode()}),X.textContent=Oe)),kn("afterSanitizeElements",X,null),!1)},Co=function(X,Oe,Qe){if(Yt&&(Oe==="id"||Oe==="name")&&(Qe in o||Qe in Fc))return!1;if(!($e&&!tt[Oe]&&ba(K,Oe))){if(!(ne&&ba(te,Oe))){if(!Ie[Oe]||tt[Oe]){if(!(Jd(X)&&(Y.tagNameCheck instanceof RegExp&&ba(Y.tagNameCheck,X)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(X))&&(Y.attributeNameCheck instanceof RegExp&&ba(Y.attributeNameCheck,Oe)||Y.attributeNameCheck instanceof Function&&Y.attributeNameCheck(Oe))||Oe==="is"&&Y.allowCustomizedBuiltInElements&&(Y.tagNameCheck instanceof RegExp&&ba(Y.tagNameCheck,Qe)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(Qe))))return!1}else if(!le[Oe]){if(!ba(ae,Nl(Qe,be,""))){if(!((Oe==="src"||Oe==="xlink:href"||Oe==="href")&&X!=="script"&&Nve(Qe,"data:")===0&&H[X])){if(!(Me&&!ba(ye,Nl(Qe,be,"")))){if(Qe)return!1}}}}}}return!0},Jd=function(X){return X.indexOf("-")>0},lv=function(X){let Oe,Qe,ji,Wn;kn("beforeSanitizeAttributes",X,null);const{attributes:mr}=X;if(!mr)return;const Tt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ie};for(Wn=mr.length;Wn--;){Oe=mr[Wn];const{name:fi,namespaceURI:ir}=Oe;if(Qe=fi==="value"?Oe.value:Rve(Oe.value),ji=ei(fi),Tt.attrName=ji,Tt.attrValue=Qe,Tt.keepAttr=!0,Tt.forceKeepAttr=void 0,kn("uponSanitizeAttribute",X,Tt),Qe=Tt.attrValue,Tt.forceKeepAttr||(Ct(fi,X),!Tt.keepAttr))continue;if(!ni&&ba(/\/>/i,Qe)){Ct(fi,X);continue}kt&&(Qe=Nl(Qe,P," "),Qe=Nl(Qe,A," "),Qe=Nl(Qe,F," "));const qf=ei(X.nodeName);if(Co(qf,ji,Qe)){if(Rn&&(ji==="id"||ji==="name")&&(Ct(fi,X),Qe=Os+Qe),C&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!ir)switch(g.getAttributeType(qf,ji)){case"TrustedHTML":{Qe=C.createHTML(Qe);break}case"TrustedScriptURL":{Qe=C.createScriptURL(Qe);break}}try{ir?X.setAttributeNS(ir,fi,Qe):X.setAttribute(fi,Qe),_z(e.removed)}catch{}}}kn("afterSanitizeAttributes",X,null)},Dh=function gt(X){let Oe;const Qe=Qn(X);for(kn("beforeSanitizeShadowDOM",X,null);Oe=Qe.nextNode();)kn("uponSanitizeShadowNode",Oe,null),!Kr(Oe)&&(Oe.content instanceof r&&gt(Oe.content),lv(Oe));kn("afterSanitizeShadowDOM",X,null)};return e.sanitize=function(gt){let X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe,Qe,ji,Wn;if(_i=!gt,_i&&(gt="<!-->"),typeof gt!="string"&&!Qi(gt))if(typeof gt.toString=="function"){if(gt=gt.toString(),typeof gt!="string")throw i1("dirty is not a string, aborting")}else throw i1("toString is not a function");if(!e.isSupported)return gt;if(at||J(X),e.removed=[],typeof gt=="string"&&(G=!1),G){if(gt.nodeName){const fi=ei(gt.nodeName);if(!Q[fi]||Ne[fi])throw i1("root node is forbidden and cannot be sanitized in-place")}}else if(gt instanceof a)Oe=li("<!---->"),Qe=Oe.ownerDocument.importNode(gt,!0),Qe.nodeType===1&&Qe.nodeName==="BODY"||Qe.nodeName==="HTML"?Oe=Qe:Oe.appendChild(Qe);else{if(!Wi&&!kt&&!Te&&gt.indexOf("<")===-1)return C&&Kt?C.createHTML(gt):gt;if(Oe=li(gt),!Oe)return Wi?null:Kt?y:""}Oe&&ai&&bt(Oe.firstChild);const mr=Qn(G?gt:Oe);for(;ji=mr.nextNode();)Kr(ji)||(ji.content instanceof r&&Dh(ji.content),lv(ji));if(G)return gt;if(Wi){if(Ft)for(Wn=x.call(Oe.ownerDocument);Oe.firstChild;)Wn.appendChild(Oe.firstChild);else Wn=Oe;return(Ie.shadowroot||Ie.shadowrootmode)&&(Wn=E.call(t,Wn,!0)),Wn}let Tt=Te?Oe.outerHTML:Oe.innerHTML;return Te&&Q["!doctype"]&&Oe.ownerDocument&&Oe.ownerDocument.doctype&&Oe.ownerDocument.doctype.name&&ba(UQ,Oe.ownerDocument.doctype.name)&&(Tt="<!DOCTYPE "+Oe.ownerDocument.doctype.name+`>
`+Tt),kt&&(Tt=Nl(Tt,P," "),Tt=Nl(Tt,A," "),Tt=Nl(Tt,F," ")),C&&Kt?C.createHTML(Tt):Tt},e.setConfig=function(gt){J(gt),at=!0},e.clearConfig=function(){Mn=null,at=!1},e.isValidAttribute=function(gt,X,Oe){Mn||J({});const Qe=ei(gt),ji=ei(X);return Co(Qe,ji,Oe)},e.addHook=function(gt,X){typeof X=="function"&&(O[gt]=O[gt]||[],t1(O[gt],X))},e.removeHook=function(gt){if(O[gt])return _z(O[gt])},e.removeHooks=function(gt){O[gt]&&(O[gt]=[])},e.removeAllHooks=function(){O={}},e}var Gd=$Q();Gd.version;Gd.isSupported;const jQ=Gd.sanitize;Gd.setConfig;Gd.clearConfig;Gd.isValidAttribute;const K5=Gd.addHook,KQ=Gd.removeHook;Gd.removeHooks;Gd.removeAllHooks;var ft;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.vscodeManagedRemoteResource="vscode-managed-remote-resource",n.vscodeUserData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.vscodeChatCodeBlock="vscode-chat-code-block",n.vscodeChatSesssion="vscode-chat-editor",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp",n.vsls="vsls",n.vscodeSourceControl="vscode-scm",n.codeSetting="code-setting",n.codeFeature="code-feature"})(ft||(ft={}));function J8(n,e){return Ke.isUri(n)?rb(n.scheme,e):$8(n,e+":")}function kz(n,...e){return e.some(t=>J8(n,t))}const jve="tkn";class Kve{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${ft.vscodeRemoteResource}`}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(a){return st(a),e}const t=e.authority;let i=this._hosts[t];i&&i.indexOf(":")!==-1&&i.indexOf("[")===-1&&(i=`[${i}]`);const o=this._ports[t],r=this._connectionTokens[t];let s=`path=${encodeURIComponent(e.path)}`;return typeof r=="string"&&(s+=`&${jve}=${encodeURIComponent(r)}`),Ke.from({scheme:Nf?this._preferredWebSchema:ft.vscodeRemoteResource,authority:`${i}:${o}`,path:this._remoteResourcesPath,query:s})}}const qQ=new Kve,qve="vscode-app";class Ny{uriToBrowserUri(e){return e.scheme===ft.vscodeRemote?qQ.rewrite(e):e.scheme===ft.file&&(dc||rpe===`${ft.vscodeFileResource}://${Ny.FALLBACK_AUTHORITY}`)?e.with({scheme:ft.vscodeFileResource,authority:e.authority||Ny.FALLBACK_AUTHORITY,query:null,fragment:null}):e}}Ny.FALLBACK_AUTHORITY=qve;const GQ=new Ny;var Lz;(function(n){const e=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);n.CoopAndCoep=Object.freeze(e.get("3"));const t="vscode-coi";function i(r){let s;typeof r=="string"?s=new URL(r).searchParams:r instanceof URL?s=r.searchParams:Ke.isUri(r)&&(s=new URL(r.toString(!0)).searchParams);const a=s==null?void 0:s.get(t);if(a)return e.get(a)}n.getHeadersFromQuery=i;function o(r,s,a){if(!globalThis.crossOriginIsolated)return;const l=s&&a?"3":a?"2":"1";r instanceof URLSearchParams?r.set(t,l):r[t]=l}n.addSearchParam=o})(Lz||(Lz={}));function WT(n){return VT(n,0)}function VT(n,e){switch(typeof n){case"object":return n===null?Tu(349,e):Array.isArray(n)?Zve(n,e):Yve(n,e);case"string":return e6(n,e);case"boolean":return Gve(n,e);case"number":return Tu(n,e);case"undefined":return Tu(937,e);default:return Tu(617,e)}}function Tu(n,e){return(e<<5)-e+n|0}function Gve(n,e){return Tu(n?433:863,e)}function e6(n,e){e=Tu(149417,e);for(let t=0,i=n.length;t<i;t++)e=Tu(n.charCodeAt(t),e);return e}function Zve(n,e){return e=Tu(104579,e),n.reduce((t,i)=>VT(i,t),e)}function Yve(n,e){return e=Tu(181387,e),Object.keys(n).sort().reduce((t,i)=>(t=e6(i,t),VT(n[i],t)),e)}function YR(n,e,t=32){const i=t-e,o=~((1<<i)-1);return(n<<e|(o&n)>>>i)>>>0}function Dz(n,e=0,t=n.byteLength,i=0){for(let o=0;o<t;o++)n[e+o]=i}function Xve(n,e,t="0"){for(;n.length<e;)n=t+n;return n}function n1(n,e=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join(""):Xve((n>>>0).toString(16),e/4)}class HT{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(t===0)return;const i=this._buff;let o=this._buffLen,r=this._leftoverHighSurrogate,s,a;for(r!==0?(s=r,a=-1,r=0):(s=e.charCodeAt(0),a=0);;){let l=s;if(to(s))if(a+1<t){const c=e.charCodeAt(a+1);hm(c)?(a++,l=j8(s,c)):l=65533}else{r=s;break}else hm(s)&&(l=65533);if(o=this._push(i,o,l),a++,a<t)s=e.charCodeAt(a);else break}this._buffLen=o,this._leftoverHighSurrogate=r}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),n1(this._h0)+n1(this._h1)+n1(this._h2)+n1(this._h3)+n1(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Dz(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Dz(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=HT._bigBlock32,t=this._buffDV;for(let u=0;u<64;u+=4)e.setUint32(u,t.getUint32(u,!1),!1);for(let u=64;u<320;u+=4)e.setUint32(u,YR(e.getUint32(u-12,!1)^e.getUint32(u-32,!1)^e.getUint32(u-56,!1)^e.getUint32(u-64,!1),1),!1);let i=this._h0,o=this._h1,r=this._h2,s=this._h3,a=this._h4,l,c,d;for(let u=0;u<80;u++)u<20?(l=o&r|~o&s,c=1518500249):u<40?(l=o^r^s,c=1859775393):u<60?(l=o&r|o&s|r&s,c=2400959708):(l=o^r^s,c=3395469782),d=YR(i,5)+l+a+c+e.getUint32(u*4,!1)&4294967295,a=s,s=r,r=YR(o,30),o=i,i=d;this._h0=this._h0+i&4294967295,this._h1=this._h1+o&4294967295,this._h2=this._h2+r&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+a&4294967295}}HT._bigBlock32=new DataView(new ArrayBuffer(320));const{registerWindow:BVe,getWindow:qe,getDocument:WVe,getWindows:ZQ,getWindowsCount:Qve,getWindowId:QD,getWindowById:Ez,hasWindow:VVe,onDidRegisterWindow:zT,onWillUnregisterWindow:Jve,onDidUnregisterWindow:ebe}=function(){const n=new Map;zme(gi,1);const e={window:gi,disposables:new oe};n.set(gi.vscodeWindowId,e);const t=new B,i=new B,o=new B;function r(s,a){const l=typeof s=="number"?n.get(s):void 0;return l??(a?e:void 0)}return{onDidRegisterWindow:t.event,onWillUnregisterWindow:o.event,onDidUnregisterWindow:i.event,registerWindow(s){if(n.has(s.vscodeWindowId))return z.None;const a=new oe,l={window:s,disposables:a.add(new oe)};return n.set(s.vscodeWindowId,l),a.add(je(()=>{n.delete(s.vscodeWindowId),i.fire(s)})),a.add(j(s,ge.BEFORE_UNLOAD,()=>{o.fire(s)})),t.fire(l),a},getWindows(){return n.values()},getWindowsCount(){return n.size},getWindowId(s){return s.vscodeWindowId},hasWindow(s){return n.has(s)},getWindowById:r,getWindow(s){var a;const l=s;if(!((a=l==null?void 0:l.ownerDocument)===null||a===void 0)&&a.defaultView)return l.ownerDocument.defaultView.window;const c=s;return c!=null&&c.view?c.view.window:gi},getDocument(s){return qe(s).document}}}();function Xo(n){for(;n.firstChild;)n.firstChild.remove()}class tbe{constructor(e,t,i,o){this._node=e,this._type=t,this._handler=i,this._options=o||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function j(n,e,t,i){return new tbe(n,e,t,i)}function YQ(n,e){return function(t){return e(new dl(n,t))}}function ibe(n){return function(e){return n(new Ni(e))}}const fn=function(e,t,i,o){let r=i;return t==="click"||t==="mousedown"?r=YQ(qe(e),i):(t==="keydown"||t==="keypress"||t==="keyup")&&(r=ibe(i)),j(e,t,r,o)},nbe=function(e,t,i){const o=YQ(qe(e),t);return obe(e,o,i)};function obe(n,e,t){return j(n,bc&&Y8.pointerEvents?ge.POINTER_DOWN:ge.MOUSE_DOWN,e,t)}function F1(n,e,t){return yC(n,e,t)}class XR extends VQ{constructor(e,t){super(e,t)}}let JD,Ds;class t6 extends Q8{constructor(e){super(),this.defaultTarget=e&&qe(e)}cancelAndSet(e,t,i){return super.cancelAndSet(e,t,i??this.defaultTarget)}}class QR{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){st(e)}}static sort(e,t){return t.priority-e.priority}}(function(){const n=new Map,e=new Map,t=new Map,i=new Map,o=r=>{var s;t.set(r,!1);const a=(s=n.get(r))!==null&&s!==void 0?s:[];for(e.set(r,a),n.set(r,[]),i.set(r,!0);a.length>0;)a.sort(QR.sort),a.shift().execute();i.set(r,!1)};Ds=(r,s,a=0)=>{const l=QD(r),c=new QR(s,a);let d=n.get(l);return d||(d=[],n.set(l,d)),d.push(c),t.get(l)||(t.set(l,!0),r.requestAnimationFrame(()=>o(l))),c},JD=(r,s,a)=>{const l=QD(r);if(i.get(l)){const c=new QR(s,a);let d=e.get(l);return d||(d=[],e.set(l,d)),d.push(c),c}else return Ds(r,s,a)}})();function UT(n){return qe(n).getComputedStyle(n,null)}function gh(n,e){const t=qe(n),i=t.document;if(n!==i.body)return new Zt(n.clientWidth,n.clientHeight);if(bc&&(t!=null&&t.visualViewport))return new Zt(t.visualViewport.width,t.visualViewport.height);if(t!=null&&t.innerWidth&&t.innerHeight)return new Zt(t.innerWidth,t.innerHeight);if(i.body&&i.body.clientWidth&&i.body.clientHeight)return new Zt(i.body.clientWidth,i.body.clientHeight);if(i.documentElement&&i.documentElement.clientWidth&&i.documentElement.clientHeight)return new Zt(i.documentElement.clientWidth,i.documentElement.clientHeight);if(e)return gh(e);throw new Error("Unable to figure out browser width and height")}class bn{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){const o=UT(e),r=o?o.getPropertyValue(t):"0";return bn.convertToPixels(e,r)}static getBorderLeftWidth(e){return bn.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return bn.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return bn.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return bn.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return bn.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return bn.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return bn.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return bn.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return bn.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return bn.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return bn.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return bn.getDimension(e,"margin-bottom","marginBottom")}}class Zt{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new Zt(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof Zt?e:new Zt(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}}Zt.None=new Zt(0,0);function XQ(n){let e=n.offsetParent,t=n.offsetTop,i=n.offsetLeft;for(;(n=n.parentNode)!==null&&n!==n.ownerDocument.body&&n!==n.ownerDocument.documentElement;){t-=n.scrollTop;const o=JQ(n)?null:UT(n);o&&(i-=o.direction!=="rtl"?n.scrollLeft:-n.scrollLeft),n===e&&(i+=bn.getBorderLeftWidth(n),t+=bn.getBorderTopWidth(n),t+=n.offsetTop,i+=n.offsetLeft,e=n.offsetParent)}return{left:i,top:t}}function rbe(n,e,t){typeof e=="number"&&(n.style.width=`${e}px`),typeof t=="number"&&(n.style.height=`${t}px`)}function In(n){const e=n.getBoundingClientRect(),t=qe(n);return{left:e.left+t.scrollX,top:e.top+t.scrollY,width:e.width,height:e.height}}function QQ(n){let e=n,t=1;do{const i=UT(e).zoom;i!=null&&i!=="1"&&(t*=i),e=e.parentElement}while(e!==null&&e!==e.ownerDocument.documentElement);return t}function yr(n){const e=bn.getMarginLeft(n)+bn.getMarginRight(n);return n.offsetWidth+e}function JR(n){const e=bn.getBorderLeftWidth(n)+bn.getBorderRightWidth(n),t=bn.getPaddingLeft(n)+bn.getPaddingRight(n);return n.offsetWidth-e-t}function sbe(n){const e=bn.getBorderTopWidth(n)+bn.getBorderBottomWidth(n),t=bn.getPaddingTop(n)+bn.getPaddingBottom(n);return n.offsetHeight-e-t}function Iu(n){const e=bn.getMarginTop(n)+bn.getMarginBottom(n);return n.offsetHeight+e}function To(n,e){return!!(e!=null&&e.contains(n))}function abe(n,e,t){for(;n&&n.nodeType===n.ELEMENT_NODE;){if(n.classList.contains(e))return n;if(t){if(typeof t=="string"){if(n.classList.contains(t))return null}else if(n===t)return null}n=n.parentNode}return null}function eM(n,e,t){return!!abe(n,e,t)}function JQ(n){return n&&!!n.host&&!!n.mode}function e2(n){return!!pm(n)}function pm(n){for(var e;n.parentNode;){if(n===((e=n.ownerDocument)===null||e===void 0?void 0:e.body))return null;n=n.parentNode}return JQ(n)?n:null}function Vo(){let n=m0().activeElement;for(;n!=null&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function wS(n){return Vo()===n}function eJ(n){return To(Vo(),n)}function m0(){var n;return Qve()<=1?gi.document:(n=Array.from(ZQ()).map(({window:t})=>t.document).find(t=>t.hasFocus()))!==null&&n!==void 0?n:gi.document}function lbe(){var n,e;return(e=(n=m0().defaultView)===null||n===void 0?void 0:n.window)!==null&&e!==void 0?e:gi}const i6=new Map;function tJ(){return new cbe}class cbe{constructor(){this._currentCssStyle="",this._styleSheet=void 0}setStyle(e){e!==this._currentCssStyle&&(this._currentCssStyle=e,this._styleSheet?this._styleSheet.innerText=e:this._styleSheet=sa(gi.document.head,t=>t.innerText=e))}dispose(){this._styleSheet&&(this._styleSheet.remove(),this._styleSheet=void 0)}}function sa(n=gi.document.head,e,t){const i=document.createElement("style");if(i.type="text/css",i.media="screen",e==null||e(i),n.appendChild(i),t&&t.add(je(()=>n.removeChild(i))),n===gi.document.head){const o=new Set;i6.set(i,o);for(const{window:r,disposables:s}of ZQ()){if(r===gi)continue;const a=s.add(dbe(i,o,r));t==null||t.add(a)}}return i}function dbe(n,e,t){var i,o;const r=new oe,s=n.cloneNode(!0);t.document.head.appendChild(s),r.add(je(()=>t.document.head.removeChild(s)));for(const a of nJ(n))(i=s.sheet)===null||i===void 0||i.insertRule(a.cssText,(o=s.sheet)===null||o===void 0?void 0:o.cssRules.length);return r.add(ube.observe(n,r,{childList:!0})(()=>{s.textContent=n.textContent})),e.add(s),r.add(je(()=>e.delete(s))),r}const ube=new class{constructor(){this.mutationObservers=new Map}observe(n,e,t){let i=this.mutationObservers.get(n);i||(i=new Map,this.mutationObservers.set(n,i));const o=WT(t);let r=i.get(o);if(r)r.users+=1;else{const s=new B,a=new MutationObserver(c=>s.fire(c));a.observe(n,t);const l=r={users:1,observer:a,onDidMutate:s.event};e.add(je(()=>{l.users-=1,l.users===0&&(s.dispose(),a.disconnect(),i==null||i.delete(o),(i==null?void 0:i.size)===0&&this.mutationObservers.delete(n))})),i.set(o,r)}return r.onDidMutate}};let tM=null;function iJ(){return tM||(tM=sa()),tM}function nJ(n){var e,t;return!((e=n==null?void 0:n.sheet)===null||e===void 0)&&e.rules?n.sheet.rules:!((t=n==null?void 0:n.sheet)===null||t===void 0)&&t.cssRules?n.sheet.cssRules:[]}function t2(n,e,t=iJ()){var i,o;if(!(!t||!e)){(i=t.sheet)===null||i===void 0||i.insertRule(`${n} {${e}}`,0);for(const r of(o=i6.get(t))!==null&&o!==void 0?o:[])t2(n,e,r)}}function q5(n,e=iJ()){var t,i;if(!e)return;const o=nJ(e),r=[];for(let s=0;s<o.length;s++){const a=o[s];hbe(a)&&a.selectorText.indexOf(n)!==-1&&r.push(s)}for(let s=r.length-1;s>=0;s--)(t=e.sheet)===null||t===void 0||t.deleteRule(r[s]);for(const s of(i=i6.get(e))!==null&&i!==void 0?i:[])q5(n,s)}function hbe(n){return typeof n.selectorText=="string"}function n6(n){return n instanceof MouseEvent||n instanceof qe(n).MouseEvent}function o6(n){return n instanceof KeyboardEvent||n instanceof qe(n).KeyboardEvent}const ge={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:jp?"webkitAnimationStart":"animationstart",ANIMATION_END:jp?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:jp?"webkitAnimationIteration":"animationiteration"};function gbe(n){const e=n;return!!(e&&typeof e.preventDefault=="function"&&typeof e.stopPropagation=="function")}const _t={stop:(n,e)=>(n.preventDefault(),e&&n.stopPropagation(),n)};function fbe(n){const e=[];for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)e[t]=n.scrollTop,n=n.parentNode;return e}function pbe(n,e){for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)n.scrollTop!==e[t]&&(n.scrollTop=e[t]),n=n.parentNode}class i2 extends z{static hasFocusWithin(e){if(e instanceof HTMLElement){const t=pm(e),i=t?t.activeElement:e.ownerDocument.activeElement;return To(i,e)}else{const t=e;return To(t.document.activeElement,t.document)}}constructor(e){super(),this._onDidFocus=this._register(new B),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new B),this.onDidBlur=this._onDidBlur.event;let t=i2.hasFocusWithin(e),i=!1;const o=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},r=()=>{t&&(i=!0,(e instanceof HTMLElement?qe(e):e).setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{i2.hasFocusWithin(e)!==t&&(t?r():o())},this._register(j(e,ge.FOCUS,o,!0)),this._register(j(e,ge.BLUR,r,!0)),e instanceof HTMLElement&&(this._register(j(e,ge.FOCUS_IN,()=>this._refreshStateHandler())),this._register(j(e,ge.FOCUS_OUT,()=>this._refreshStateHandler())))}}function Cc(n){return new i2(n)}function mbe(n,e){return n.after(e),e}function ie(n,...e){if(n.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function r6(n,e){return n.insertBefore(e,n.firstChild),e}function Ho(n,...e){n.innerText="",ie(n,...e)}const vbe=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Ry;(function(n){n.HTML="http://www.w3.org/1999/xhtml",n.SVG="http://www.w3.org/2000/svg"})(Ry||(Ry={}));function oJ(n,e,t,...i){const o=vbe.exec(e);if(!o)throw new Error("Bad use of emmet");const r=o[1]||"div";let s;return n!==Ry.HTML?s=document.createElementNS(n,r):s=document.createElement(r),o[3]&&(s.id=o[3]),o[4]&&(s.className=o[4].replace(/\./g," ").trim()),t&&Object.entries(t).forEach(([a,l])=>{typeof l>"u"||(/^on\w+$/.test(a)?s[a]=l:a==="selected"?l&&s.setAttribute(a,"true"):s.setAttribute(a,l))}),s.append(...i),s}function ue(n,e,...t){return oJ(Ry.HTML,n,e,...t)}ue.SVG=function(n,e,...t){return oJ(Ry.SVG,n,e,...t)};function bbe(n,...e){n?bs(...e):xr(...e)}function bs(...n){for(const e of n)e.style.display="",e.removeAttribute("aria-hidden")}function xr(...n){for(const e of n)e.style.display="none",e.setAttribute("aria-hidden","true")}function Tz(n,e){const t=n.devicePixelRatio*e;return Math.max(1,Math.floor(t))/n.devicePixelRatio}function rJ(n){gi.open(n,"_blank","noopener")}function _be(n,e){const t=()=>{e(),i=Ds(n,t)};let i=Ds(n,t);return je(()=>i.dispose())}qQ.setPreferredWebSchema(/^https:/.test(gi.location.href)?"https":"http");function of(n){return n?`url('${GQ.uriToBrowserUri(n).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Iz(n){return`'${n.replace(/'/g,"%27")}'`}function Gu(n,e){if(n!==void 0){const t=n.match(/^\s*var\((.+)\)$/);if(t){const i=t[1].split(",",2);return i.length===2&&(e=Gu(i[1].trim(),e)),`var(${i[0]}, ${e})`}return n}return e}function Cbe(n,e=!1){const t=document.createElement("a");return K5("afterSanitizeAttributes",i=>{for(const o of["href","src"])if(i.hasAttribute(o)){const r=i.getAttribute(o);if(o==="href"&&r.startsWith("#"))continue;if(t.href=r,!n.includes(t.protocol.replace(/:$/,""))){if(e&&o==="src"&&t.href.startsWith("data:"))continue;i.removeAttribute(o)}}}),je(()=>{KQ("afterSanitizeAttributes")})}const ybe=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);class Nu extends B{constructor(){super(),this._subscriptions=new oe,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(me.runAndSubscribe(zT,({window:e,disposables:t})=>this.registerListeners(e,t),{window:gi,disposables:this._subscriptions}))}registerListeners(e,t){t.add(j(e,"keydown",i=>{if(i.defaultPrevented)return;const o=new Ni(i);if(!(o.keyCode===6&&i.repeat)){if(i.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(i.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(i.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(i.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(o.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=i.altKey,this._keyStatus.ctrlKey=i.ctrlKey,this._keyStatus.metaKey=i.metaKey,this._keyStatus.shiftKey=i.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=i,this.fire(this._keyStatus))}},!0)),t.add(j(e,"keyup",i=>{i.defaultPrevented||(!i.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!i.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!i.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!i.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=i.altKey,this._keyStatus.ctrlKey=i.ctrlKey,this._keyStatus.metaKey=i.metaKey,this._keyStatus.shiftKey=i.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=i,this.fire(this._keyStatus)))},!0)),t.add(j(e.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),t.add(j(e.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),t.add(j(e.document.body,"mousemove",i=>{i.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),t.add(j(e,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Nu.instance||(Nu.instance=new Nu),Nu.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class wbe extends z{constructor(e,t){super(),this.element=e,this.callbacks=t,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(j(this.element,ge.DRAG_START,e=>{var t,i;(i=(t=this.callbacks).onDragStart)===null||i===void 0||i.call(t,e)})),this.callbacks.onDrag&&this._register(j(this.element,ge.DRAG,e=>{var t,i;(i=(t=this.callbacks).onDrag)===null||i===void 0||i.call(t,e)})),this._register(j(this.element,ge.DRAG_ENTER,e=>{var t,i;this.counter++,this.dragStartTime=e.timeStamp,(i=(t=this.callbacks).onDragEnter)===null||i===void 0||i.call(t,e)})),this._register(j(this.element,ge.DRAG_OVER,e=>{var t,i;e.preventDefault(),(i=(t=this.callbacks).onDragOver)===null||i===void 0||i.call(t,e,e.timeStamp-this.dragStartTime)})),this._register(j(this.element,ge.DRAG_LEAVE,e=>{var t,i;this.counter--,this.counter===0&&(this.dragStartTime=0,(i=(t=this.callbacks).onDragLeave)===null||i===void 0||i.call(t,e))})),this._register(j(this.element,ge.DRAG_END,e=>{var t,i;this.counter=0,this.dragStartTime=0,(i=(t=this.callbacks).onDragEnd)===null||i===void 0||i.call(t,e)})),this._register(j(this.element,ge.DROP,e=>{var t,i;this.counter=0,this.dragStartTime=0,(i=(t=this.callbacks).onDrop)===null||i===void 0||i.call(t,e)}))}}const Sbe=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function pi(n,...e){let t,i;Array.isArray(e[0])?(t={},i=e[0]):(t=e[0]||{},i=e[1]);const o=Sbe.exec(n);if(!o||!o.groups)throw new Error("Bad use of h");const r=o.groups.tag||"div",s=document.createElement(r);o.groups.id&&(s.id=o.groups.id);const a=[];if(o.groups.class)for(const c of o.groups.class.split("."))c!==""&&a.push(c);if(t.className!==void 0)for(const c of t.className.split("."))c!==""&&a.push(c);a.length>0&&(s.className=a.join(" "));const l={};if(o.groups.name&&(l[o.groups.name]=s),i)for(const c of i)c instanceof HTMLElement?s.appendChild(c):typeof c=="string"?s.append(c):"root"in c&&(Object.assign(l,c),s.appendChild(c.root));for(const[c,d]of Object.entries(t))if(c!=="className")if(c==="style")for(const[u,h]of Object.entries(d))s.style.setProperty(Nz(u),typeof h=="number"?h+"px":""+h);else c==="tabIndex"?s.tabIndex=d:s.setAttribute(Nz(c),d.toString());return l.root=s,l}function Nz(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class xbe extends z{constructor(e){super(),this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(e,!0),this._mediaQueryList=null,this._handleChange(e,!1)}_handleChange(e,t){var i;(i=this._mediaQueryList)===null||i===void 0||i.removeEventListener("change",this._listener),this._mediaQueryList=e.matchMedia(`(resolution: ${e.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),t&&this._onDidChange.fire()}}class kbe extends z{get value(){return this._value}constructor(e){super(),this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(e);const t=this._register(new xbe(e));this._register(t.onDidChange(()=>{this._value=this._getPixelRatio(e),this._onDidChange.fire(this._value)}))}_getPixelRatio(e){const t=document.createElement("canvas").getContext("2d"),i=e.devicePixelRatio||1,o=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return i/o}}class Lbe{constructor(){this.mapWindowIdToPixelRatioMonitor=new Map}_getOrCreatePixelRatioMonitor(e){const t=QD(e);let i=this.mapWindowIdToPixelRatioMonitor.get(t);return i||(i=new kbe(e),this.mapWindowIdToPixelRatioMonitor.set(t,i),me.once(ebe)(({vscodeWindowId:o})=>{o===t&&(i==null||i.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(t))})),i}getInstance(e){return this._getOrCreatePixelRatioMonitor(e)}}const My=new Lbe;class sJ{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){const t=Rl(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){const t=Rl(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){const t=Rl(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){const t=Rl(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){const t=Rl(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){const t=Rl(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){const t=Rl(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingLeft(e){const t=Rl(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){const t=Rl(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){const t=Rl(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){const t=Rl(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function Rl(n){return typeof n=="number"?`${n}px`:n}function ii(n){return new sJ(n)}function zo(n,e){n instanceof sJ?(n.setFontFamily(e.getMassagedFontFamily()),n.setFontWeight(e.fontWeight),n.setFontSize(e.fontSize),n.setFontFeatureSettings(e.fontFeatureSettings),n.setFontVariationSettings(e.fontVariationSettings),n.setLineHeight(e.lineHeight),n.setLetterSpacing(e.letterSpacing)):(n.style.fontFamily=e.getMassagedFontFamily(),n.style.fontWeight=e.fontWeight,n.style.fontSize=e.fontSize+"px",n.style.fontFeatureSettings=e.fontFeatureSettings,n.style.fontVariationSettings=e.fontVariationSettings,n.style.lineHeight=e.lineHeight+"px",n.style.letterSpacing=e.letterSpacing+"px")}class Dbe{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class s6{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(e){this._createDomElements(),e.document.body.appendChild(this._container),this._readFromDomElements(),e.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");zo(t,this._bareFontInfo),e.appendChild(t);const i=document.createElement("div");zo(i,this._bareFontInfo),i.style.fontWeight="bold",e.appendChild(i);const o=document.createElement("div");zo(o,this._bareFontInfo),o.style.fontStyle="italic",e.appendChild(o);const r=[];for(const s of this._requests){let a;s.type===0&&(a=t),s.type===2&&(a=i),s.type===1&&(a=o),a.appendChild(document.createElement("br"));const l=document.createElement("span");s6._render(l,s),a.appendChild(l),r.push(l)}this._container=e,this._testElements=r}static _render(e,t){if(t.chr===" "){let i="";for(let o=0;o<8;o++)i+=i;e.innerText=i}else{let i=t.chr;for(let o=0;o<8;o++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const i=this._requests[e],o=this._testElements[e];i.fulfill(o.offsetWidth/256)}}}function Ebe(n,e,t){new s6(e,t).read(n)}const wa=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new B,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(n){n=Math.min(Math.max(-5,n),20),this._zoomLevel!==n&&(this._zoomLevel=n,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},Tbe=Rt?1.5:1.35,iM=8;class Kp{static createFromValidatedSettings(e,t,i){const o=e.get(49),r=e.get(53),s=e.get(52),a=e.get(51),l=e.get(54),c=e.get(67),d=e.get(64);return Kp._create(o,r,s,a,l,c,d,t,i)}static _create(e,t,i,o,r,s,a,l,c){s===0?s=Tbe*i:s<iM&&(s=s*i),s=Math.round(s),s<iM&&(s=iM);const d=1+(c?0:wa.getZoomLevel()*.1);return i*=d,s*=d,r===Jl.TRANSLATE&&(t==="normal"||t==="bold"?r=Jl.OFF:(r=`'wght' ${parseInt(t,10)}`,t="normal")),new Kp({pixelRatio:l,fontFamily:e,fontWeight:t,fontSize:i,fontFeatureSettings:o,fontVariationSettings:r,lineHeight:s,letterSpacing:a})}constructor(e){this._bareFontInfoBrand=void 0,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.fontVariationSettings=e.fontVariationSettings,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const e=os.fontFamily,t=Kp._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}const Ibe=2;class G5 extends Kp{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=Ibe,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.fontVariationSettings===e.fontVariationSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}class Nbe extends z{constructor(){super(...arguments),this._cache=new Map,this._evictUntrustedReadingsTimeout=-1,this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(e){const t=QD(e);let i=this._cache.get(t);return i||(i=new Rbe,this._cache.set(t,i)),i}_writeToCache(e,t,i){this._ensureCache(e).put(t,i),!i.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=e.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(e)},5e3))}_evictUntrustedReadings(e){const t=this._ensureCache(e),i=t.getValues();let o=!1;for(const r of i)r.isTrusted||(o=!0,t.remove(r));o&&this._onDidChange.fire()}readFontInfo(e,t){const i=this._ensureCache(e);if(!i.has(t)){let o=this._actualReadFontInfo(e,t);(o.typicalHalfwidthCharacterWidth<=2||o.typicalFullwidthCharacterWidth<=2||o.spaceWidth<=2||o.maxDigitWidth<=2)&&(o=new G5({pixelRatio:My.getInstance(e).value,fontFamily:o.fontFamily,fontWeight:o.fontWeight,fontSize:o.fontSize,fontFeatureSettings:o.fontFeatureSettings,fontVariationSettings:o.fontVariationSettings,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,isMonospace:o.isMonospace,typicalHalfwidthCharacterWidth:Math.max(o.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(o.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:o.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(o.spaceWidth,5),middotWidth:Math.max(o.middotWidth,5),wsmiddotWidth:Math.max(o.wsmiddotWidth,5),maxDigitWidth:Math.max(o.maxDigitWidth,5)},!1)),this._writeToCache(e,t,o)}return i.get(t)}_createRequest(e,t,i,o){const r=new Dbe(e,t);return i.push(r),o==null||o.push(r),r}_actualReadFontInfo(e,t){const i=[],o=[],r=this._createRequest("n",0,i,o),s=this._createRequest("",0,i,null),a=this._createRequest(" ",0,i,o),l=this._createRequest("0",0,i,o),c=this._createRequest("1",0,i,o),d=this._createRequest("2",0,i,o),u=this._createRequest("3",0,i,o),h=this._createRequest("4",0,i,o),g=this._createRequest("5",0,i,o),f=this._createRequest("6",0,i,o),p=this._createRequest("7",0,i,o),b=this._createRequest("8",0,i,o),v=this._createRequest("9",0,i,o),_=this._createRequest("",0,i,o),C=this._createRequest("",0,i,null),y=this._createRequest("",0,i,o),w=this._createRequest("",0,i,null),S="|/-_ilm%";for(let P=0,A=S.length;P<A;P++)this._createRequest(S.charAt(P),0,i,o),this._createRequest(S.charAt(P),1,i,o),this._createRequest(S.charAt(P),2,i,o);Ebe(e,t,i);const x=Math.max(l.width,c.width,d.width,u.width,h.width,g.width,f.width,p.width,b.width,v.width);let L=t.fontFeatureSettings===Zs.OFF;const E=o[0].width;for(let P=1,A=o.length;L&&P<A;P++){const F=E-o[P].width;if(F<-.001||F>.001){L=!1;break}}let O=!0;return L&&C.width!==E&&(O=!1),C.width>_.width&&(O=!1),new G5({pixelRatio:My.getInstance(e).value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,fontVariationSettings:t.fontVariationSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:L,typicalHalfwidthCharacterWidth:r.width,typicalFullwidthCharacterWidth:s.width,canUseHalfwidthRightwardsArrow:O,spaceWidth:a.width,middotWidth:y.width,wsmiddotWidth:w.width,maxDigitWidth:x},!0)}}class Rbe{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}}const Z5=new Nbe;var oc;(function(n){n.serviceIds=new Map,n.DI_TARGET="$di$target",n.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[n.DI_DEPENDENCIES]||[]}n.getServiceDependencies=e})(oc||(oc={}));const Ge=Et("instantiationService");function Mbe(n,e,t){e[oc.DI_TARGET]===e?e[oc.DI_DEPENDENCIES].push({id:n,index:t}):(e[oc.DI_DEPENDENCIES]=[{id:n,index:t}],e[oc.DI_TARGET]=e)}function Et(n){if(oc.serviceIds.has(n))return oc.serviceIds.get(n);const e=function(t,i,o){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Mbe(e,t,o)};return e.toString=()=>n,oc.serviceIds.set(n,e),e}const qt=Et("codeEditorService"),Yi=Et("modelService"),us=Et("textModelService");class Ss extends z{constructor(e,t="",i="",o=!0,r){super(),this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=o,this._actionCallback=r}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}async run(e,t){this._actionCallback&&await this._actionCallback(e)}}class mm extends z{constructor(){super(...arguments),this._onWillRun=this._register(new B),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new B),this.onDidRun=this._onDidRun.event}async run(e,t){if(!e.enabled)return;this._onWillRun.fire({action:e});let i;try{await this.runAction(e,t)}catch(o){i=o}this._onDidRun.fire({action:e,error:i})}async runAction(e,t){await e.run(t)}}class Kn{constructor(){this.id=Kn.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...e){let t=[];for(const i of e)i.length&&(t.length?t=[...t,new Kn,...i]:t=i);return t}async run(){}}Kn.ID="vs.actions.separator";class k_{get actions(){return this._actions}constructor(e,t,i,o){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=o,this._actions=i}async run(){}}class $T extends Ss{constructor(){super($T.ID,m("submenu.empty","(empty)"),void 0,!1)}}$T.ID="vs.actions.empty";function Ob(n){var e;return{id:n.id,label:n.label,class:n.class,enabled:(e=n.enabled)!==null&&e!==void 0?e:!0,checked:n.checked,run:async(...t)=>n.run(...t),tooltip:n.label}}var Y5;(function(n){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"}n.isThemeColor=e})(Y5||(Y5={}));var Ze;(function(n){n.iconNameSegment="[A-Za-z0-9]+",n.iconNameExpression="[A-Za-z0-9-]+",n.iconModifierExpression="~[A-Za-z]+",n.iconNameCharacter="[A-Za-z0-9~-]";const e=new RegExp(`^(${n.iconNameExpression})(${n.iconModifierExpression})?$`);function t(h){const g=e.exec(h.id);if(!g)return t(pe.error);const[,f,p]=g,b=["codicon","codicon-"+f];return p&&b.push("codicon-modifier-"+p.substring(1)),b}n.asClassNameArray=t;function i(h){return t(h).join(" ")}n.asClassName=i;function o(h){return"."+t(h).join(".")}n.asCSSSelector=o;function r(h){return h&&typeof h=="object"&&typeof h.id=="string"&&(typeof h.color>"u"||Y5.isThemeColor(h.color))}n.isThemeIcon=r;const s=new RegExp(`^\\$\\((${n.iconNameExpression}(?:${n.iconModifierExpression})?)\\)$`);function a(h){const g=s.exec(h);if(!g)return;const[,f]=g;return{id:f}}n.fromString=a;function l(h){return{id:h}}n.fromId=l;function c(h,g){let f=h.id;const p=f.lastIndexOf("~");return p!==-1&&(f=f.substring(0,p)),g&&(f=`${f}~${g}`),{id:f}}n.modify=c;function d(h){const g=h.id.lastIndexOf("~");if(g!==-1)return h.id.substring(g+1)}n.getModifier=d;function u(h,g){var f,p;return h.id===g.id&&((f=h.color)===null||f===void 0?void 0:f.id)===((p=g.color)===null||p===void 0?void 0:p.id)}n.isEqual=u})(Ze||(Ze={}));const tn=Et("commandService"),Pt=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new B,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(n,e){if(!n)throw new Error("invalid command");if(typeof n=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:n,handler:e})}if(n.metadata&&Array.isArray(n.metadata.args)){const s=[];for(const l of n.metadata.args)s.push(l.constraint);const a=n.handler;n.handler=function(l,...c){return Zfe(c,s),a(l,...c)}}const{id:t}=n;let i=this._commands.get(t);i||(i=new Ir,this._commands.set(t,i));const o=i.unshift(n),r=je(()=>{o();const s=this._commands.get(t);s!=null&&s.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),r}registerCommandAlias(n,e){return Pt.registerCommand(n,(t,...i)=>t.get(tn).executeCommand(e,...i))}getCommand(n){const e=this._commands.get(n);if(!(!e||e.isEmpty()))return Mt.first(e)}getCommands(){const n=new Map;for(const e of this._commands.keys()){const t=this.getCommand(e);t&&n.set(e,t)}return n}};Pt.registerCommand("noop",()=>{});function nM(...n){switch(n.length){case 1:return m("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",n[0]);case 2:return m("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",n[0],n[1]);case 3:return m("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",n[0],n[1],n[2]);default:return}}const Abe=m("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),Pbe=m("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");let fp=class X5{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw P8(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(nM("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(nM("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(nM("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){const t=this._start,i=this._input.substring(this._start,this._current),o={type:19,offset:this._start,lexeme:i};this._errors.push({offset:t,lexeme:i,additionalInfo:e}),this._tokens.push(o)}_string(){this.stringRe.lastIndex=this._start;const e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;const t=this._input.substring(this._start,this._current),i=X5._keywords.get(t);i?this._addToken(i):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(Abe);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,i=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(Pbe);return}const r=this._input.charCodeAt(e);if(t)t=!1;else if(r===47&&!i){e++;break}else r===91?i=!0:r===92?t=!0:r===93&&(i=!1);e++}for(;e<this._input.length&&X5._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;const o=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:o,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};fp._regexFlags=new Set(["i","g","s","m","y","u"].map(n=>n.charCodeAt(0)));fp._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);const er=new Map;er.set("false",!1);er.set("true",!0);er.set("isMac",Rt);er.set("isLinux",Br);er.set("isWindows",Qo);er.set("isWeb",Nf);er.set("isMacNative",Rt&&!Nf);er.set("isEdge",dpe);er.set("isFirefox",lpe);er.set("isChrome",aQ);er.set("isSafari",cpe);const Obe=Object.prototype.hasOwnProperty,Fbe={regexParsingWithErrorRecovery:!0},Bbe=m("contextkey.parser.error.emptyString","Empty context key expression"),Wbe=m("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),Vbe=m("contextkey.parser.error.noInAfterNot","'in' after 'not'."),Rz=m("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),Hbe=m("contextkey.parser.error.unexpectedToken","Unexpected token"),zbe=m("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),Ube=m("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),$be=m("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");let aJ=class B1{constructor(e=Fbe){this._config=e,this._scanner=new fp,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(e){if(e===""){this._parsingErrors.push({message:Bbe,offset:0,lexeme:"",additionalInfo:Wbe});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{const t=this._expr();if(!this._isAtEnd()){const i=this._peek(),o=i.type===17?zbe:void 0;throw this._parsingErrors.push({message:Hbe,offset:i.offset,lexeme:fp.getLexeme(i),additionalInfo:o}),B1._parseError}return t}catch(t){if(t!==B1._parseError)throw t;return}}_expr(){return this._or()}_or(){const e=[this._and()];for(;this._matchOne(16);){const t=this._and();e.push(t)}return e.length===1?e[0]:ee.or(...e)}_and(){const e=[this._term()];for(;this._matchOne(15);){const t=this._term();e.push(t)}return e.length===1?e[0]:ee.and(...e)}_term(){if(this._matchOne(2)){const e=this._peek();switch(e.type){case 11:return this._advance(),Wr.INSTANCE;case 12:return this._advance(),as.INSTANCE;case 0:{this._advance();const t=this._expr();return this._consume(1,Rz),t==null?void 0:t.negate()}case 17:return this._advance(),Km.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){const e=this._peek();switch(e.type){case 11:return this._advance(),ee.true();case 12:return this._advance(),ee.false();case 0:{this._advance();const t=this._expr();return this._consume(1,Rz),t}case 17:{const t=e.lexeme;if(this._advance(),this._matchOne(9)){const o=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),o.type!==10)throw this._errExpectedButGot("REGEX",o);const r=o.lexeme,s=r.lastIndexOf("/"),a=s===r.length-1?void 0:this._removeFlagsGY(r.substring(s+1));let l;try{l=new RegExp(r.substring(1,s),a)}catch{throw this._errExpectedButGot("REGEX",o)}return Ay.create(t,l)}switch(o.type){case 10:case 19:{const r=[o.lexeme];this._advance();let s=this._peek(),a=0;for(let h=0;h<o.lexeme.length;h++)o.lexeme.charCodeAt(h)===40?a++:o.lexeme.charCodeAt(h)===41&&a--;for(;!this._isAtEnd()&&s.type!==15&&s.type!==16;){switch(s.type){case 0:a++;break;case 1:a--;break;case 10:case 18:for(let h=0;h<s.lexeme.length;h++)s.lexeme.charCodeAt(h)===40?a++:o.lexeme.charCodeAt(h)===41&&a--}if(a<0)break;r.push(fp.getLexeme(s)),this._advance(),s=this._peek()}const l=r.join(""),c=l.lastIndexOf("/"),d=c===l.length-1?void 0:this._removeFlagsGY(l.substring(c+1));let u;try{u=new RegExp(l.substring(1,c),d)}catch{throw this._errExpectedButGot("REGEX",o)}return ee.regex(t,u)}case 18:{const r=o.lexeme;this._advance();let s=null;if(!DQ(r)){const a=r.indexOf("/"),l=r.lastIndexOf("/");if(a!==l&&a>=0){const c=r.slice(a+1,l),d=r[l+1]==="i"?"i":"";try{s=new RegExp(c,d)}catch{throw this._errExpectedButGot("REGEX",o)}}}if(s===null)throw this._errExpectedButGot("REGEX",o);return Ay.create(t,s)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,Vbe);const o=this._value();return ee.notIn(t,o)}switch(this._peek().type){case 3:{this._advance();const o=this._value();if(this._previous().type===18)return ee.equals(t,o);switch(o){case"true":return ee.has(t);case"false":return ee.not(t);default:return ee.equals(t,o)}}case 4:{this._advance();const o=this._value();if(this._previous().type===18)return ee.notEquals(t,o);switch(o){case"true":return ee.not(t);case"false":return ee.has(t);default:return ee.notEquals(t,o)}}case 5:return this._advance(),XT.create(t,this._value());case 6:return this._advance(),QT.create(t,this._value());case 7:return this._advance(),ZT.create(t,this._value());case 8:return this._advance(),YT.create(t,this._value());case 13:return this._advance(),ee.in(t,this._value());default:return ee.has(t)}}case 20:throw this._parsingErrors.push({message:Ube,offset:e.offset,lexeme:"",additionalInfo:$be}),B1._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,i){const o=m("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,fp.getLexeme(t)),r=t.offset,s=fp.getLexeme(t);return this._parsingErrors.push({message:o,offset:r,lexeme:s,additionalInfo:i}),B1._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}};aJ._parseError=new Error;class ee{static false(){return Wr.INSTANCE}static true(){return as.INSTANCE}static has(e){return jm.create(e)}static equals(e,t){return v0.create(e,t)}static notEquals(e,t){return qT.create(e,t)}static regex(e,t){return Ay.create(e,t)}static in(e,t){return jT.create(e,t)}static notIn(e,t){return KT.create(e,t)}static not(e){return Km.create(e)}static and(...e){return Ip.create(e,null,!0)}static or(...e){return _u.create(e,null,!0)}static deserialize(e){return e==null?void 0:this._parser.parse(e)}}ee._parser=new aJ({regexParsingWithErrorRecovery:!1});function jbe(n,e){const t=n?n.substituteConstants():void 0,i=e?e.substituteConstants():void 0;return!t&&!i?!0:!t||!i?!1:t.equals(i)}function wC(n,e){return n.cmp(e)}class Wr{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return as.INSTANCE}}Wr.INSTANCE=new Wr;class as{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return Wr.INSTANCE}}as.INSTANCE=new as;class jm{static create(e,t=null){const i=er.get(e);return typeof i=="boolean"?i?as.INSTANCE:Wr.INSTANCE:new jm(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=2}cmp(e){return e.type!==this.type?this.type-e.type:cJ(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=er.get(this.key);return typeof e=="boolean"?e?as.INSTANCE:Wr.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=Km.create(this.key,this)),this.negated}}class v0{static create(e,t,i=null){if(typeof t=="boolean")return t?jm.create(e,i):Km.create(e,i);const o=er.get(e);return typeof o=="boolean"?t===(o?"true":"false")?as.INSTANCE:Wr.INSTANCE:new v0(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}cmp(e){return e.type!==this.type?this.type-e.type:qm(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=er.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?as.INSTANCE:Wr.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=qT.create(this.key,this.value,this)),this.negated}}class jT{static create(e,t){return new jT(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}cmp(e){return e.type!==this.type?this.type-e.type:qm(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):typeof i=="string"&&typeof t=="object"&&t!==null?Obe.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=KT.create(this.key,this.valueKey)),this.negated}}class KT{static create(e,t){return new KT(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=jT.create(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class qT{static create(e,t,i=null){if(typeof t=="boolean")return t?Km.create(e,i):jm.create(e,i);const o=er.get(e);return typeof o=="boolean"?t===(o?"true":"false")?Wr.INSTANCE:as.INSTANCE:new qT(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}cmp(e){return e.type!==this.type?this.type-e.type:qm(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=er.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?Wr.INSTANCE:as.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=v0.create(this.key,this.value,this)),this.negated}}class Km{static create(e,t=null){const i=er.get(e);return typeof i=="boolean"?i?Wr.INSTANCE:as.INSTANCE:new Km(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=3}cmp(e){return e.type!==this.type?this.type-e.type:cJ(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=er.get(this.key);return typeof e=="boolean"?e?Wr.INSTANCE:as.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=jm.create(this.key,this)),this.negated}}function GT(n,e){if(typeof n=="string"){const t=parseFloat(n);isNaN(t)||(n=t)}return typeof n=="string"||typeof n=="number"?e(n):Wr.INSTANCE}class ZT{static create(e,t,i=null){return GT(t,o=>new ZT(e,o,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}cmp(e){return e.type!==this.type?this.type-e.type:qm(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=QT.create(this.key,this.value,this)),this.negated}}class YT{static create(e,t,i=null){return GT(t,o=>new YT(e,o,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}cmp(e){return e.type!==this.type?this.type-e.type:qm(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=XT.create(this.key,this.value,this)),this.negated}}class XT{static create(e,t,i=null){return GT(t,o=>new XT(e,o,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}cmp(e){return e.type!==this.type?this.type-e.type:qm(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=YT.create(this.key,this.value,this)),this.negated}}class QT{static create(e,t,i=null){return GT(t,o=>new QT(e,o,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}cmp(e){return e.type!==this.type?this.type-e.type:qm(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ZT.create(this.key,this.value,this)),this.negated}}class Ay{static create(e,t){return new Ay(e,t)}constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a6.create(this)),this.negated}}class a6{static create(e){return new a6(e)}constructor(e){this._actual=e,this.type=8}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function lJ(n){let e=null;for(let t=0,i=n.length;t<i;t++){const o=n[t].substituteConstants();if(n[t]!==o&&e===null){e=[];for(let r=0;r<t;r++)e[r]=n[r]}e!==null&&(e[t]=o)}return e===null?n:e}class Ip{static create(e,t,i){return Ip._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=6}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const o=wC(this.expr[t],e.expr[t]);if(o!==0)return o}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=lJ(this.expr);return e===this.expr?this:Ip.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,i){const o=[];let r=!1;for(const s of e)if(s){if(s.type===1){r=!0;continue}if(s.type===0)return Wr.INSTANCE;if(s.type===6){o.push(...s.expr);continue}o.push(s)}if(o.length===0&&r)return as.INSTANCE;if(o.length!==0){if(o.length===1)return o[0];o.sort(wC);for(let s=1;s<o.length;s++)o[s-1].equals(o[s])&&(o.splice(s,1),s--);if(o.length===1)return o[0];for(;o.length>1;){const s=o[o.length-1];if(s.type!==9)break;o.pop();const a=o.pop(),l=o.length===0,c=_u.create(s.expr.map(d=>Ip.create([d,a],null,i)),null,l);c&&(o.push(c),o.sort(wC))}if(o.length===1)return o[0];if(i){for(let s=0;s<o.length;s++)for(let a=s+1;a<o.length;a++)if(o[s].negate().equals(o[a]))return Wr.INSTANCE;if(o.length===1)return o[0]}return new Ip(o,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=_u.create(e,this,!0)}return this.negated}}class _u{static create(e,t,i){return _u._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=9}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const o=wC(this.expr[t],e.expr[t]);if(o!==0)return o}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=lJ(this.expr);return e===this.expr?this:_u.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let o=[],r=!1;if(e){for(let s=0,a=e.length;s<a;s++){const l=e[s];if(l){if(l.type===0){r=!0;continue}if(l.type===1)return as.INSTANCE;if(l.type===9){o=o.concat(l.expr);continue}o.push(l)}}if(o.length===0&&r)return Wr.INSTANCE;o.sort(wC)}if(o.length!==0){if(o.length===1)return o[0];for(let s=1;s<o.length;s++)o[s-1].equals(o[s])&&(o.splice(s,1),s--);if(o.length===1)return o[0];if(i){for(let s=0;s<o.length;s++)for(let a=s+1;a<o.length;a++)if(o[s].negate().equals(o[a]))return as.INSTANCE;if(o.length===1)return o[0]}return new _u(o,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),i=e.shift(),o=[];for(const r of Az(t))for(const s of Az(i))o.push(Ip.create([r,s],null,!1));e.unshift(_u.create(o,null,!1))}this.negated=_u.create(e,this,!0)}return this.negated}}class we extends jm{static all(){return we._info.values()}constructor(e,t,i){super(e,null),this._defaultValue=t,typeof i=="object"?we._info.push({...i,key:e}):i!==!0&&we._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return v0.create(this.key,e)}}we._info=[];const Xe=Et("contextKeyService");function cJ(n,e){return n<e?-1:n>e?1:0}function qm(n,e,t,i){return n<t?-1:n>t?1:e<i?-1:e>i?1:0}function Q5(n,e){if(n.type===0||e.type===1)return!0;if(n.type===9)return e.type===9?Mz(n.expr,e.expr):!1;if(e.type===9){for(const t of e.expr)if(Q5(n,t))return!0;return!1}if(n.type===6){if(e.type===6)return Mz(e.expr,n.expr);for(const t of n.expr)if(Q5(t,e))return!0;return!1}return n.equals(e)}function Mz(n,e){let t=0,i=0;for(;t<n.length&&i<e.length;){const o=n[t].cmp(e[i]);if(o<0)return!1;o===0&&t++,i++}return t===n.length}function Az(n){return n.type===9?n.expr:[n]}function oM(n,e){if(!n)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function JT(n,e="Unreachable"){throw new Error(e)}function Pz(n){n||st(new Hi("Soft Assertion Failed"))}function L_(n){if(!n()){debugger;n(),st(new Hi("Assertion Failed"))}}function dJ(n,e){let t=0;for(;t<n.length-1;){const i=n[t],o=n[t+1];if(!e(i,o))return!1;t++}return!0}class Kbe{constructor(){this.data=new Map}add(e,t){oM(Pr(e)),oM(Tr(t)),oM(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}const nn=new Kbe;class l6{constructor(){this._coreKeybindings=new Ir,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(Cs===1){if(e&&e.win)return e.win}else if(Cs===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=l6.bindToCurrentPlatform(e),i=new oe;if(t&&t.primary){const o=H5(t.primary,Cs);o&&i.add(this._registerDefaultKeybinding(o,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let o=0,r=t.secondary.length;o<r;o++){const s=t.secondary[o],a=H5(s,Cs);a&&i.add(this._registerDefaultKeybinding(a,e.id,e.args,e.weight,-o-1,e.when))}return i}registerCommandAndKeybindingRule(e){return vl(this.registerKeybindingRule(e),Pt.registerCommand(e))}_registerDefaultKeybinding(e,t,i,o,r,s){const a=this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:s,weight1:o,weight2:r,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,je(()=>{a(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(Gbe)),this._cachedMergedKeybindings.slice(0)}}const ls=new l6,qbe={EditorModes:"platform.keybindingsRegistry"};nn.add(qbe.EditorModes,ls);function Gbe(n,e){if(n.weight1!==e.weight1)return n.weight1-e.weight1;if(n.command&&e.command){if(n.command<e.command)return-1;if(n.command>e.command)return 1}return n.weight2-e.weight2}var Zbe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Oz=function(n,e){return function(t,i){e(t,i,n)}},xL;function sb(n){return n.command!==void 0}function Ybe(n){return n.submenu!==void 0}class T{constructor(e){if(T._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);T._instances.set(e,this),this.id=e}}T._instances=new Map;T.CommandPalette=new T("CommandPalette");T.DebugBreakpointsContext=new T("DebugBreakpointsContext");T.DebugCallStackContext=new T("DebugCallStackContext");T.DebugConsoleContext=new T("DebugConsoleContext");T.DebugVariablesContext=new T("DebugVariablesContext");T.NotebookVariablesContext=new T("NotebookVariablesContext");T.DebugHoverContext=new T("DebugHoverContext");T.DebugWatchContext=new T("DebugWatchContext");T.DebugToolBar=new T("DebugToolBar");T.DebugToolBarStop=new T("DebugToolBarStop");T.EditorContext=new T("EditorContext");T.SimpleEditorContext=new T("SimpleEditorContext");T.EditorContent=new T("EditorContent");T.EditorLineNumberContext=new T("EditorLineNumberContext");T.EditorContextCopy=new T("EditorContextCopy");T.EditorContextPeek=new T("EditorContextPeek");T.EditorContextShare=new T("EditorContextShare");T.EditorTitle=new T("EditorTitle");T.EditorTitleRun=new T("EditorTitleRun");T.EditorTitleContext=new T("EditorTitleContext");T.EditorTitleContextShare=new T("EditorTitleContextShare");T.EmptyEditorGroup=new T("EmptyEditorGroup");T.EmptyEditorGroupContext=new T("EmptyEditorGroupContext");T.EditorTabsBarContext=new T("EditorTabsBarContext");T.EditorTabsBarShowTabsSubmenu=new T("EditorTabsBarShowTabsSubmenu");T.EditorTabsBarShowTabsZenModeSubmenu=new T("EditorTabsBarShowTabsZenModeSubmenu");T.EditorActionsPositionSubmenu=new T("EditorActionsPositionSubmenu");T.ExplorerContext=new T("ExplorerContext");T.ExplorerContextShare=new T("ExplorerContextShare");T.ExtensionContext=new T("ExtensionContext");T.GlobalActivity=new T("GlobalActivity");T.CommandCenter=new T("CommandCenter");T.CommandCenterCenter=new T("CommandCenterCenter");T.LayoutControlMenuSubmenu=new T("LayoutControlMenuSubmenu");T.LayoutControlMenu=new T("LayoutControlMenu");T.MenubarMainMenu=new T("MenubarMainMenu");T.MenubarAppearanceMenu=new T("MenubarAppearanceMenu");T.MenubarDebugMenu=new T("MenubarDebugMenu");T.MenubarEditMenu=new T("MenubarEditMenu");T.MenubarCopy=new T("MenubarCopy");T.MenubarFileMenu=new T("MenubarFileMenu");T.MenubarGoMenu=new T("MenubarGoMenu");T.MenubarHelpMenu=new T("MenubarHelpMenu");T.MenubarLayoutMenu=new T("MenubarLayoutMenu");T.MenubarNewBreakpointMenu=new T("MenubarNewBreakpointMenu");T.PanelAlignmentMenu=new T("PanelAlignmentMenu");T.PanelPositionMenu=new T("PanelPositionMenu");T.ActivityBarPositionMenu=new T("ActivityBarPositionMenu");T.MenubarPreferencesMenu=new T("MenubarPreferencesMenu");T.MenubarRecentMenu=new T("MenubarRecentMenu");T.MenubarSelectionMenu=new T("MenubarSelectionMenu");T.MenubarShare=new T("MenubarShare");T.MenubarSwitchEditorMenu=new T("MenubarSwitchEditorMenu");T.MenubarSwitchGroupMenu=new T("MenubarSwitchGroupMenu");T.MenubarTerminalMenu=new T("MenubarTerminalMenu");T.MenubarViewMenu=new T("MenubarViewMenu");T.MenubarHomeMenu=new T("MenubarHomeMenu");T.OpenEditorsContext=new T("OpenEditorsContext");T.OpenEditorsContextShare=new T("OpenEditorsContextShare");T.ProblemsPanelContext=new T("ProblemsPanelContext");T.SCMInputBox=new T("SCMInputBox");T.SCMChangesSeparator=new T("SCMChangesSeparator");T.SCMIncomingChanges=new T("SCMIncomingChanges");T.SCMIncomingChangesContext=new T("SCMIncomingChangesContext");T.SCMIncomingChangesSetting=new T("SCMIncomingChangesSetting");T.SCMOutgoingChanges=new T("SCMOutgoingChanges");T.SCMOutgoingChangesContext=new T("SCMOutgoingChangesContext");T.SCMOutgoingChangesSetting=new T("SCMOutgoingChangesSetting");T.SCMIncomingChangesAllChangesContext=new T("SCMIncomingChangesAllChangesContext");T.SCMIncomingChangesHistoryItemContext=new T("SCMIncomingChangesHistoryItemContext");T.SCMOutgoingChangesAllChangesContext=new T("SCMOutgoingChangesAllChangesContext");T.SCMOutgoingChangesHistoryItemContext=new T("SCMOutgoingChangesHistoryItemContext");T.SCMChangeContext=new T("SCMChangeContext");T.SCMResourceContext=new T("SCMResourceContext");T.SCMResourceContextShare=new T("SCMResourceContextShare");T.SCMResourceFolderContext=new T("SCMResourceFolderContext");T.SCMResourceGroupContext=new T("SCMResourceGroupContext");T.SCMSourceControl=new T("SCMSourceControl");T.SCMSourceControlInline=new T("SCMSourceControlInline");T.SCMSourceControlTitle=new T("SCMSourceControlTitle");T.SCMTitle=new T("SCMTitle");T.SearchContext=new T("SearchContext");T.SearchActionMenu=new T("SearchActionContext");T.StatusBarWindowIndicatorMenu=new T("StatusBarWindowIndicatorMenu");T.StatusBarRemoteIndicatorMenu=new T("StatusBarRemoteIndicatorMenu");T.StickyScrollContext=new T("StickyScrollContext");T.TestItem=new T("TestItem");T.TestItemGutter=new T("TestItemGutter");T.TestMessageContext=new T("TestMessageContext");T.TestMessageContent=new T("TestMessageContent");T.TestPeekElement=new T("TestPeekElement");T.TestPeekTitle=new T("TestPeekTitle");T.TouchBarContext=new T("TouchBarContext");T.TitleBarContext=new T("TitleBarContext");T.TitleBarTitleContext=new T("TitleBarTitleContext");T.TunnelContext=new T("TunnelContext");T.TunnelPrivacy=new T("TunnelPrivacy");T.TunnelProtocol=new T("TunnelProtocol");T.TunnelPortInline=new T("TunnelInline");T.TunnelTitle=new T("TunnelTitle");T.TunnelLocalAddressInline=new T("TunnelLocalAddressInline");T.TunnelOriginInline=new T("TunnelOriginInline");T.ViewItemContext=new T("ViewItemContext");T.ViewContainerTitle=new T("ViewContainerTitle");T.ViewContainerTitleContext=new T("ViewContainerTitleContext");T.ViewTitle=new T("ViewTitle");T.ViewTitleContext=new T("ViewTitleContext");T.CommentEditorActions=new T("CommentEditorActions");T.CommentThreadTitle=new T("CommentThreadTitle");T.CommentThreadActions=new T("CommentThreadActions");T.CommentThreadAdditionalActions=new T("CommentThreadAdditionalActions");T.CommentThreadTitleContext=new T("CommentThreadTitleContext");T.CommentThreadCommentContext=new T("CommentThreadCommentContext");T.CommentTitle=new T("CommentTitle");T.CommentActions=new T("CommentActions");T.InteractiveToolbar=new T("InteractiveToolbar");T.InteractiveCellTitle=new T("InteractiveCellTitle");T.InteractiveCellDelete=new T("InteractiveCellDelete");T.InteractiveCellExecute=new T("InteractiveCellExecute");T.InteractiveInputExecute=new T("InteractiveInputExecute");T.IssueReporter=new T("IssueReporter");T.NotebookToolbar=new T("NotebookToolbar");T.NotebookStickyScrollContext=new T("NotebookStickyScrollContext");T.NotebookCellTitle=new T("NotebookCellTitle");T.NotebookCellDelete=new T("NotebookCellDelete");T.NotebookCellInsert=new T("NotebookCellInsert");T.NotebookCellBetween=new T("NotebookCellBetween");T.NotebookCellListTop=new T("NotebookCellTop");T.NotebookCellExecute=new T("NotebookCellExecute");T.NotebookCellExecuteGoTo=new T("NotebookCellExecuteGoTo");T.NotebookCellExecutePrimary=new T("NotebookCellExecutePrimary");T.NotebookDiffCellInputTitle=new T("NotebookDiffCellInputTitle");T.NotebookDiffCellMetadataTitle=new T("NotebookDiffCellMetadataTitle");T.NotebookDiffCellOutputsTitle=new T("NotebookDiffCellOutputsTitle");T.NotebookOutputToolbar=new T("NotebookOutputToolbar");T.NotebookEditorLayoutConfigure=new T("NotebookEditorLayoutConfigure");T.NotebookKernelSource=new T("NotebookKernelSource");T.BulkEditTitle=new T("BulkEditTitle");T.BulkEditContext=new T("BulkEditContext");T.TimelineItemContext=new T("TimelineItemContext");T.TimelineTitle=new T("TimelineTitle");T.TimelineTitleContext=new T("TimelineTitleContext");T.TimelineFilterSubMenu=new T("TimelineFilterSubMenu");T.AccountsContext=new T("AccountsContext");T.SidebarTitle=new T("SidebarTitle");T.PanelTitle=new T("PanelTitle");T.AuxiliaryBarTitle=new T("AuxiliaryBarTitle");T.TerminalInstanceContext=new T("TerminalInstanceContext");T.TerminalEditorInstanceContext=new T("TerminalEditorInstanceContext");T.TerminalNewDropdownContext=new T("TerminalNewDropdownContext");T.TerminalTabContext=new T("TerminalTabContext");T.TerminalTabEmptyAreaContext=new T("TerminalTabEmptyAreaContext");T.TerminalStickyScrollContext=new T("TerminalStickyScrollContext");T.WebviewContext=new T("WebviewContext");T.InlineCompletionsActions=new T("InlineCompletionsActions");T.InlineEditActions=new T("InlineEditActions");T.NewFile=new T("NewFile");T.MergeInput1Toolbar=new T("MergeToolbar1Toolbar");T.MergeInput2Toolbar=new T("MergeToolbar2Toolbar");T.MergeBaseToolbar=new T("MergeBaseToolbar");T.MergeInputResultToolbar=new T("MergeToolbarResultToolbar");T.InlineSuggestionToolbar=new T("InlineSuggestionToolbar");T.InlineEditToolbar=new T("InlineEditToolbar");T.ChatContext=new T("ChatContext");T.ChatCodeBlock=new T("ChatCodeblock");T.ChatMessageTitle=new T("ChatMessageTitle");T.ChatExecute=new T("ChatExecute");T.ChatInputSide=new T("ChatInputSide");T.AccessibleView=new T("AccessibleView");T.MultiDiffEditorFileToolbar=new T("MultiDiffEditorFileToolbar");const $a=Et("menuService");class Cu{static for(e){let t=this._all.get(e);return t||(t=new Cu(e),this._all.set(e,t)),t}static merge(e){const t=new Set;for(const i of e)i instanceof Cu&&t.add(i.id);return t}constructor(e){this.id=e,this.has=t=>t===e}}Cu._all=new Map;const Io=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new gme({merge:Cu.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(n){return this._commands.set(n.id,n),this._onDidChangeMenu.fire(Cu.for(T.CommandPalette)),je(()=>{this._commands.delete(n.id)&&this._onDidChangeMenu.fire(Cu.for(T.CommandPalette))})}getCommand(n){return this._commands.get(n)}getCommands(){const n=new Map;return this._commands.forEach((e,t)=>n.set(t,e)),n}appendMenuItem(n,e){let t=this._menuItems.get(n);t||(t=new Ir,this._menuItems.set(n,t));const i=t.push(e);return this._onDidChangeMenu.fire(Cu.for(n)),je(()=>{i(),this._onDidChangeMenu.fire(Cu.for(n))})}appendMenuItems(n){const e=new oe;for(const{id:t,item:i}of n)e.add(this.appendMenuItem(t,i));return e}getMenuItems(n){let e;return this._menuItems.has(n)?e=[...this._menuItems.get(n)]:e=[],n===T.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(n){const e=new Set;for(const t of n)sb(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||n.push({command:t})})}};class Py extends k_{constructor(e,t,i){super(`submenuitem.${e.submenu.id}`,typeof e.title=="string"?e.title:e.title.value,i,"submenu"),this.item=e,this.hideActions=t}}let aa=xL=class{static label(e,t){return t!=null&&t.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value}constructor(e,t,i,o,r,s){var a,l;this.hideActions=o,this._commandService=s,this.id=e.id,this.label=xL.label(e,i),this.tooltip=(l=typeof e.tooltip=="string"?e.tooltip:(a=e.tooltip)===null||a===void 0?void 0:a.value)!==null&&l!==void 0?l:"",this.enabled=!e.precondition||r.contextMatchesRules(e.precondition),this.checked=void 0;let c;if(e.toggled){const d=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=r.contextMatchesRules(d.condition),this.checked&&d.tooltip&&(this.tooltip=typeof d.tooltip=="string"?d.tooltip:d.tooltip.value),this.checked&&Ze.isThemeIcon(d.icon)&&(c=d.icon),this.checked&&d.title&&(this.label=typeof d.title=="string"?d.title:d.title.value)}c||(c=Ze.isThemeIcon(e.icon)?e.icon:void 0),this.item=e,this.alt=t?new xL(t,void 0,i,o,r,s):void 0,this._options=i,this.class=c&&Ze.asClassName(c)}run(...e){var t,i;let o=[];return!((t=this._options)===null||t===void 0)&&t.arg&&(o=[...o,this._options.arg]),!((i=this._options)===null||i===void 0)&&i.shouldForwardArgs&&(o=[...o,...e]),this._commandService.executeCommand(this.id,...o)}};aa=xL=Zbe([Oz(4,Xe),Oz(5,tn)],aa);class hs{constructor(e){this.desc=e}}function Li(n){const e=new oe,t=new n,{f1:i,menu:o,keybinding:r,...s}=t.desc;if(Pt.getCommand(s.id))throw new Error(`Cannot register two commands with the same id: ${s.id}`);if(e.add(Pt.registerCommand({id:s.id,handler:(a,...l)=>t.run(a,...l),metadata:s.metadata})),Array.isArray(o))for(const a of o)e.add(Io.appendMenuItem(a.id,{command:{...s,precondition:a.precondition===null?void 0:s.precondition},...a}));else o&&e.add(Io.appendMenuItem(o.id,{command:{...s,precondition:o.precondition===null?void 0:s.precondition},...o}));if(i&&(e.add(Io.appendMenuItem(T.CommandPalette,{command:s,when:s.precondition})),e.add(Io.addCommand(s))),Array.isArray(r))for(const a of r)e.add(ls.registerKeybindingRule({...a,id:s.id,when:s.precondition?ee.and(s.precondition,a.when):a.when}));else r&&e.add(ls.registerKeybindingRule({...r,id:s.id,when:s.precondition?ee.and(s.precondition,r.when):r.when}));return e}const fr=Et("telemetryService"),zr=Et("logService");var Fo;(function(n){n[n.Off=0]="Off",n[n.Trace=1]="Trace",n[n.Debug=2]="Debug",n[n.Info=3]="Info",n[n.Warning=4]="Warning",n[n.Error=5]="Error"})(Fo||(Fo={}));const uJ=Fo.Info;class hJ extends z{constructor(){super(...arguments),this.level=uJ,this._onDidChangeLogLevel=this._register(new B),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(e){return this.level!==Fo.Off&&this.level<=e}}class Xbe extends hJ{constructor(e=uJ,t=!0){super(),this.useColors=t,this.setLevel(e)}trace(e,...t){this.checkLogLevel(Fo.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",e,...t):console.log(e,...t))}debug(e,...t){this.checkLogLevel(Fo.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",e,...t):console.log(e,...t))}info(e,...t){this.checkLogLevel(Fo.Info)&&(this.useColors?console.log("%c INFO","color: #33f",e,...t):console.log(e,...t))}warn(e,...t){this.checkLogLevel(Fo.Warning)&&(this.useColors?console.log("%c WARN","color: #993",e,...t):console.log(e,...t))}error(e,...t){this.checkLogLevel(Fo.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",e,...t):console.error(e,...t))}}class Qbe extends hJ{constructor(e){super(),this.loggers=e,e.length&&this.setLevel(e[0].getLevel())}setLevel(e){for(const t of this.loggers)t.setLevel(e);super.setLevel(e)}trace(e,...t){for(const i of this.loggers)i.trace(e,...t)}debug(e,...t){for(const i of this.loggers)i.debug(e,...t)}info(e,...t){for(const i of this.loggers)i.info(e,...t)}warn(e,...t){for(const i of this.loggers)i.warn(e,...t)}error(e,...t){for(const i of this.loggers)i.error(e,...t)}dispose(){for(const e of this.loggers)e.dispose();super.dispose()}}function Jbe(n){switch(n){case Fo.Trace:return"trace";case Fo.Debug:return"debug";case Fo.Info:return"info";case Fo.Warning:return"warn";case Fo.Error:return"error";case Fo.Off:return"off"}}new we("logLevel",Jbe(Fo.Info));class eI{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this.metadata=e.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let i=t.kbExpr;this.precondition&&(i?i=ee.and(i,this.precondition):i=this.precondition);const o={id:this.id,weight:t.weight,args:t.args,when:i,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};ls.registerKeybindingRule(o)}}Pt.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),metadata:this.metadata})}_registerMenuItem(e){Io.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class b0 extends eI{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i,o){return this._implementations.push({priority:e,name:t,implementation:i,when:o}),this._implementations.sort((r,s)=>s.priority-r.priority),{dispose:()=>{for(let r=0;r<this._implementations.length;r++)if(this._implementations[r].implementation===i){this._implementations.splice(r,1);return}}}}runCommand(e,t){const i=e.get(zr),o=e.get(Xe);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const r of this._implementations){if(r.when){const a=o.getContext(Vo());if(!r.when.evaluate(a))continue}const s=r.implementation(e,t);if(s)return i.trace(`Command '${this.id}' was handled by '${r.name}'.`),typeof s=="boolean"?void 0:s}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class gJ extends eI{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class _o extends eI{static bindToContribution(e){return class extends _o{constructor(i){super(i),this._callback=i.handler}runEditorCommand(i,o,r){const s=e(o);s&&this._callback(s,r)}}}static runEditorCommand(e,t,i,o){const r=e.get(qt),s=r.getFocusedCodeEditor()||r.getActiveCodeEditor();if(s)return s.invokeWithinContext(a=>{if(a.get(Xe).contextMatchesRules(i??void 0))return o(a,s,t)})}runCommand(e,t){return _o.runEditorCommand(e,t,this.precondition,(i,o,r)=>this.runEditorCommand(i,o,r))}}class Le extends _o{static convertOptions(e){let t;Array.isArray(e.menuOpts)?t=e.menuOpts:e.menuOpts?t=[e.menuOpts]:t=[];function i(o){return o.menuId||(o.menuId=T.EditorContext),o.title||(o.title=e.label),o.when=ee.and(e.precondition,o.when),o}return Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}constructor(e){super(Le.convertOptions(e)),this.label=e.label,this.alias=e.alias}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(fr).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class fJ extends Le{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort((i,o)=>o[0]-i[0]),{dispose:()=>{for(let i=0;i<this._implementations.length;i++)if(this._implementations[i][1]===t){this._implementations.splice(i,1);return}}}}run(e,t,i){for(const o of this._implementations){const r=o[1](e,t,i);if(r)return typeof r=="boolean"?void 0:r}}}class Nc extends hs{run(e,...t){const i=e.get(qt),o=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(o)return o.invokeWithinContext(r=>{var s,a;const l=r.get(Xe),c=r.get(zr);if(!l.contextMatchesRules((s=this.desc.precondition)!==null&&s!==void 0?s:void 0)){c.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(a=this.desc.precondition)===null||a===void 0?void 0:a.serialize());return}return this.runEditorCommand(r,o,...t)})}}function Zd(n,e){Pt.registerCommand(n,function(t,...i){const o=t.get(Ge),[r,s]=i;Jt(Ke.isUri(r)),Jt(W.isIPosition(s));const a=t.get(Yi).getModel(r);if(a){const l=W.lift(s);return o.invokeFunction(e,a,l,...i.slice(2))}return t.get(us).createModelReference(r).then(l=>new Promise((c,d)=>{try{const u=o.invokeFunction(e,l.object.textEditorModel,W.lift(s),i.slice(2));c(u)}catch(u){d(u)}}).finally(()=>{l.dispose()}))})}function ve(n){return Sa.INSTANCE.registerEditorCommand(n),n}function de(n){const e=new n;return Sa.INSTANCE.registerEditorAction(e),e}function pJ(n){return Sa.INSTANCE.registerEditorAction(n),n}function e_e(n){Sa.INSTANCE.registerEditorAction(n)}function Gt(n,e,t){Sa.INSTANCE.registerEditorContribution(n,e,t)}var Fb;(function(n){function e(s){return Sa.INSTANCE.getEditorCommand(s)}n.getEditorCommand=e;function t(){return Sa.INSTANCE.getEditorActions()}n.getEditorActions=t;function i(){return Sa.INSTANCE.getEditorContributions()}n.getEditorContributions=i;function o(s){return Sa.INSTANCE.getEditorContributions().filter(a=>s.indexOf(a.id)>=0)}n.getSomeEditorContributions=o;function r(){return Sa.INSTANCE.getDiffEditorContributions()}n.getDiffEditorContributions=r})(Fb||(Fb={}));const t_e={EditorCommonContributions:"editor.contributions"};class Sa{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t,i){this.editorContributions.push({id:e,ctor:t,instantiation:i})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}Sa.INSTANCE=new Sa;nn.add(t_e.EditorCommonContributions,Sa.INSTANCE);function SS(n){return n.register(),n}const mJ=SS(new b0({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:T.MenubarEditMenu,group:"1_do",title:m({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:T.CommandPalette,group:"",title:m("undo","Undo"),order:1}]}));SS(new gJ(mJ,{id:"default:undo",precondition:void 0}));const vJ=SS(new b0({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:T.MenubarEditMenu,group:"1_do",title:m({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:T.CommandPalette,group:"",title:m("redo","Redo"),order:1}]}));SS(new gJ(vJ,{id:"default:redo",precondition:void 0}));const i_e=SS(new b0({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:T.MenubarSelectionMenu,group:"1_basic",title:m({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:T.CommandPalette,group:"",title:m("selectAll","Select All"),order:1}]})),n_e="$initialize";let Fz=!1;function J5(n){Nf&&(Fz||(Fz=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(n.message))}class o_e{constructor(e,t,i,o){this.vsWorker=e,this.req=t,this.method=i,this.args=o,this.type=0}}class Bz{constructor(e,t,i,o){this.vsWorker=e,this.seq=t,this.res=i,this.err=o,this.type=1}}class r_e{constructor(e,t,i,o){this.vsWorker=e,this.req=t,this.eventName=i,this.arg=o,this.type=2}}class s_e{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class a_e{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class l_e{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){const i=String(++this._lastSentReq);return new Promise((o,r)=>{this._pendingReplies[i]={resolve:o,reject:r},this._send(new o_e(this._workerId,i,e,t))})}listen(e,t){let i=null;const o=new B({onWillAddFirstListener:()=>{i=String(++this._lastSentReq),this._pendingEmitters.set(i,o),this._send(new r_e(this._workerId,i,e,t))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(i),this._send(new a_e(this._workerId,i)),i=null}});return o.event}handleMessage(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return}const t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),t.reject(i);return}t.resolve(e.res)}_handleRequestMessage(e){const t=e.req;this._handler.handleMessage(e.method,e.args).then(o=>{this._send(new Bz(this._workerId,t,o,void 0))},o=>{o.detail instanceof Error&&(o.detail=lz(o.detail)),this._send(new Bz(this._workerId,t,void 0,lz(o)))})}_handleSubscribeEventMessage(e){const t=e.req,i=this._handler.handleEvent(e.eventName,e.arg)(o=>{this._send(new s_e(this._workerId,t,o))});this._pendingEvents.set(t,i)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)}_send(e){const t=[];if(e.type===0)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else e.type===1&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class c_e extends z{constructor(e,t,i){super();let o=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",d=>{this._protocol.handleMessage(d)},d=>{o==null||o(d)})),this._protocol=new l_e({sendMessage:(d,u)=>{this._worker.postMessage(d,u)},handleMessage:(d,u)=>{if(typeof i[d]!="function")return Promise.reject(new Error("Missing method "+d+" on main thread host."));try{return Promise.resolve(i[d].apply(i,u))}catch(h){return Promise.reject(h)}},handleEvent:(d,u)=>{if(_J(d)){const h=i[d].call(i,u);if(typeof h!="function")throw new Error(`Missing dynamic event ${d} on main thread host.`);return h}if(bJ(d)){const h=i[d];if(typeof h!="function")throw new Error(`Missing event ${d} on main thread host.`);return h}throw new Error(`Malformed event name ${d}`)}}),this._protocol.setWorkerId(this._worker.getId());let r=null;const s=globalThis.require;typeof s<"u"&&typeof s.getConfig=="function"?r=s.getConfig():typeof globalThis.requirejs<"u"&&(r=globalThis.requirejs.s.contexts._.config);const a=I8(i);this._onModuleLoaded=this._protocol.sendMessage(n_e,[this._worker.getId(),JSON.parse(JSON.stringify(r)),t,a]);const l=(d,u)=>this._request(d,u),c=(d,u)=>this._protocol.listen(d,u);this._lazyProxy=new Promise((d,u)=>{o=u,this._onModuleLoaded.then(h=>{d(d_e(h,l,c))},h=>{u(h),this._onError("Worker failed to load "+t,h)})})}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise((i,o)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(e,t).then(i,o)},o)})}_onError(e,t){console.error(e),console.info(t)}}function bJ(n){return n[0]==="o"&&n[1]==="n"&&Jc(n.charCodeAt(2))}function _J(n){return/^onDynamic/.test(n)&&Jc(n.charCodeAt(9))}function d_e(n,e,t){const i=s=>function(){const a=Array.prototype.slice.call(arguments,0);return e(s,a)},o=s=>function(a){return t(s,a)},r={};for(const s of n){if(_J(s)){r[s]=o(s);continue}if(bJ(s)){r[s]=t(s,void 0);continue}r[s]=i(s)}return r}function yh(n,e){var t;const i=globalThis.MonacoEnvironment;if(i!=null&&i.createTrustedTypesPolicy)try{return i.createTrustedTypesPolicy(n,e)}catch(o){st(o);return}try{return(t=gi.trustedTypes)===null||t===void 0?void 0:t.createPolicy(n,e)}catch(o){st(o);return}}const Wz=yh("defaultWorkerFactory",{createScriptURL:n=>n});function u_e(n){const e=globalThis.MonacoEnvironment;if(e){if(typeof e.getWorker=="function")return e.getWorker("workerMain.js",n);if(typeof e.getWorkerUrl=="function"){const t=e.getWorkerUrl("workerMain.js",n);return new Worker(Wz?Wz.createScriptURL(t):t,{name:n})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function h_e(n){return typeof n.then=="function"}class g_e extends z{constructor(e,t,i,o,r){super(),this.id=t,this.label=i;const s=u_e(i);h_e(s)?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(e,[]),this.worker.then(a=>{a.onmessage=function(l){o(l.data)},a.onmessageerror=r,typeof a.addEventListener=="function"&&a.addEventListener("error",r)}),this._register(je(()=>{var a;(a=this.worker)===null||a===void 0||a.then(l=>{l.onmessage=null,l.onmessageerror=null,l.removeEventListener("error",r),l.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(e,t){var i;(i=this.worker)===null||i===void 0||i.then(o=>{try{o.postMessage(e,t)}catch(r){st(r),st(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:r}))}})}}class tI{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){const o=++tI.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new g_e(e,o,this._label||"anonymous"+o,t,r=>{J5(r),this._webWorkerFailedBeforeError=r,i(r)})}}tI.LAST_WORKER_ID=0;var On;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(On||(On={}));class rM{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;const i=e.findTokenIndexAtOffset(t-2),o=e.getStandardTokenType(i);return this.isOK(o)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){const o=String.fromCharCode(i);if(!this.open.includes(o)&&!this.close.includes(o))return o}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class f_e{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)o1(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),o1(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),o1(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),o1(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&o1(this.autoClosingPairsCloseSingleChar,t.close,t)}}function o1(n,e,t){n.has(e)?n.get(e).push(t):n.set(e,[t])}function iI(n,e){const t=n.getCount(),i=n.findTokenIndexAtOffset(e),o=n.getLanguageId(i);let r=i;for(;r+1<t&&n.getLanguageId(r+1)===o;)r++;let s=i;for(;s>0&&n.getLanguageId(s-1)===o;)s--;return new p_e(n,o,s,r+1,n.getStartOffset(s),n.getEndOffset(r))}class p_e{constructor(e,t,i,o,r,s){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=o,this.firstCharOffset=r,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function Kc(n){return(n&3)!==0}class D_{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new rM(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new rM({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new rM({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:D_.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:D_.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}D_.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`;D_.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;const Vz=typeof Buffer<"u";let sM;class nI{static wrap(e){return Vz&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new nI(e)}constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}toString(){return Vz?this.buffer.toString():(sM||(sM=new TextDecoder),sM.decode(this.buffer))}}function m_e(n,e){return n[e+0]<<0>>>0|n[e+1]<<8>>>0}function v_e(n,e,t){n[t+0]=e&255,e=e>>>8,n[t+1]=e&255}function Wl(n,e){return n[e]*2**24+n[e+1]*2**16+n[e+2]*2**8+n[e+3]}function Vl(n,e,t){n[t+3]=e,e=e>>>8,n[t+2]=e,e=e>>>8,n[t+1]=e,e=e>>>8,n[t]=e}function Hz(n,e){return n[e]}function zz(n,e,t){n[t]=e}let aM;function CJ(){return aM||(aM=new TextDecoder("UTF-16LE")),aM}let lM;function b_e(){return lM||(lM=new TextDecoder("UTF-16BE")),lM}let cM;function yJ(){return cM||(cM=sQ()?CJ():b_e()),cM}function __e(n,e,t){const i=new Uint16Array(n.buffer,e,t);return t>0&&(i[0]===65279||i[0]===65534)?C_e(n,e,t):CJ().decode(i)}function C_e(n,e,t){const i=[];let o=0;for(let r=0;r<t;r++){const s=m_e(n,e);e+=2,i[o++]=String.fromCharCode(s)}return i.join("")}class _0{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return yJ().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}appendCharCode(e){const t=this._capacity-this._bufferLength;t<=1&&(t===0||to(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIICharCode(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendString(e){const t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class n2{constructor(e,t,i,o,r,s){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=o,this.forwardRegex=r,this.reversedRegex=s,this._openSet=n2._toSet(this.open),this._closeSet=n2._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}function y_e(n){const e=n.length;n=n.map(s=>[s[0].toLowerCase(),s[1].toLowerCase()]);const t=[];for(let s=0;s<e;s++)t[s]=s;const i=(s,a)=>{const[l,c]=s,[d,u]=a;return l===d||l===u||c===d||c===u},o=(s,a)=>{const l=Math.min(s,a),c=Math.max(s,a);for(let d=0;d<e;d++)t[d]===c&&(t[d]=l)};for(let s=0;s<e;s++){const a=n[s];for(let l=s+1;l<e;l++){const c=n[l];i(a,c)&&o(t[s],t[l])}}const r=[];for(let s=0;s<e;s++){const a=[],l=[];for(let c=0;c<e;c++)if(t[c]===s){const[d,u]=n[c];a.push(d),l.push(u)}a.length>0&&r.push({open:a,close:l})}return r}class w_e{constructor(e,t){this._richEditBracketsBrand=void 0;const i=y_e(t);this.brackets=i.map((o,r)=>new n2(e,r,o.open,o.close,S_e(o.open,o.close,i,r),x_e(o.open,o.close,i,r))),this.forwardRegex=k_e(this.brackets),this.reversedRegex=L_e(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const o of this.brackets){for(const r of o.open)this.textIsBracket[r]=o,this.textIsOpenBracket[r]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,r.length);for(const r of o.close)this.textIsBracket[r]=o,this.textIsOpenBracket[r]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,r.length)}}}function wJ(n,e,t,i){for(let o=0,r=e.length;o<r;o++){if(o===t)continue;const s=e[o];for(const a of s.open)a.indexOf(n)>=0&&i.push(a);for(const a of s.close)a.indexOf(n)>=0&&i.push(a)}}function SJ(n,e){return n.length-e.length}function oI(n){if(n.length<=1)return n;const e=[],t=new Set;for(const i of n)t.has(i)||(e.push(i),t.add(i));return e}function S_e(n,e,t,i){let o=[];o=o.concat(n),o=o.concat(e);for(let r=0,s=o.length;r<s;r++)wJ(o[r],t,i,o);return o=oI(o),o.sort(SJ),o.reverse(),rI(o)}function x_e(n,e,t,i){let o=[];o=o.concat(n),o=o.concat(e);for(let r=0,s=o.length;r<s;r++)wJ(o[r],t,i,o);return o=oI(o),o.sort(SJ),o.reverse(),rI(o.map(c6))}function k_e(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=oI(e),rI(e)}function L_e(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=oI(e),rI(e.map(c6))}function D_e(n){const e=/^[\w ]+$/.test(n);return n=ra(n),e?`\\b${n}\\b`:n}function rI(n){const e=`(${n.map(D_e).join(")|(")})`;return TQ(e,!0)}const c6=function(){function n(i){const o=new Uint16Array(i.length);let r=0;for(let s=i.length-1;s>=0;s--)o[r++]=i.charCodeAt(s);return yJ().decode(o)}let e=null,t=null;return function(o){return e!==o&&(e=o,t=n(e)),t}}();class Xa{static _findPrevBracketInText(e,t,i,o){const r=i.match(e);if(!r)return null;const s=i.length-(r.index||0),a=r[0].length,l=o+s;return new D(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,i,o,r){const a=c6(i).substring(i.length-r,i.length-o);return this._findPrevBracketInText(e,t,a,o)}static findNextBracketInText(e,t,i,o){const r=i.match(e);if(!r)return null;const s=r.index||0,a=r[0].length;if(a===0)return null;const l=o+s;return new D(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,i,o,r){const s=i.substring(o,r);return this.findNextBracketInText(e,t,s,o)}}class E_e{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const o=i.charAt(i.length-1);e.push(o)}return ch(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const o=t.findTokenIndexAtOffset(i-1);if(Kc(t.getStandardTokenType(o)))return null;const r=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,i-1)+e,a=Xa.findPrevBracketInRange(r,1,s,0,s.length);if(!a)return null;const l=s.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;const d=t.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:l}:null}}function Bx(n){return n.global&&(n.lastIndex=0),!0}class T_e{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&Bx(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&Bx(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&Bx(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&Bx(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class ab{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{const i=ab._createOpenBracketRegExp(t[0]),o=ab._createCloseBracketRegExp(t[1]);i&&o&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:o})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,o){if(e>=3)for(let r=0,s=this._regExpRules.length;r<s;r++){const a=this._regExpRules[r];if([{reg:a.beforeText,text:i},{reg:a.afterText,text:o},{reg:a.previousLineText,text:t}].every(c=>c.reg?(c.reg.lastIndex=0,c.reg.test(c.text)):!0))return a.action}if(e>=2&&i.length>0&&o.length>0)for(let r=0,s=this._brackets.length;r<s;r++){const a=this._brackets[r];if(a.openRegExp.test(i)&&a.closeRegExp.test(o))return{indentAction:On.IndentOutdent}}if(e>=2&&i.length>0){for(let r=0,s=this._brackets.length;r<s;r++)if(this._brackets[r].openRegExp.test(i))return{indentAction:On.Indent}}return null}static _createOpenBracketRegExp(e){let t=ra(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",ab._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=ra(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,ab._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return st(t),null}}}const yt=Et("configurationService");function e4(n,e){const t=Object.create(null);for(const i in n)xJ(t,i,n[i],e);return t}function xJ(n,e,t,i){const o=e.split("."),r=o.pop();let s=n;for(let a=0;a<o.length;a++){const l=o[a];let c=s[l];switch(typeof c){case"undefined":c=s[l]=Object.create(null);break;case"object":break;default:i(`Ignoring ${e} as ${o.slice(0,a+1).join(".")} is ${JSON.stringify(c)}`);return}s=c}if(typeof s=="object"&&s!==null)try{s[r]=t}catch{i(`Ignoring ${e} as ${o.join(".")} is ${JSON.stringify(s)}`)}else i(`Ignoring ${e} as ${o.join(".")} is ${JSON.stringify(s)}`)}function I_e(n,e){const t=e.split(".");kJ(n,t)}function kJ(n,e){const t=e.shift();if(e.length===0){delete n[t];return}if(Object.keys(n).indexOf(t)!==-1){const i=n[t];typeof i=="object"&&!Array.isArray(i)&&(kJ(i,e),Object.keys(i).length===0&&delete n[t])}}function Uz(n,e,t){function i(s,a){let l=s;for(const c of a){if(typeof l!="object"||l===null)return;l=l[c]}return l}const o=e.split("."),r=i(n,o);return typeof r>"u"?t:r}function N_e(n){return n.replace(/[\[\]]/g,"")}const Bi=Et("languageService");class ed{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}const LJ=[];function Ot(n,e,t){e instanceof ed||(e=new ed(e,[],!!t)),LJ.push([n,e])}function $z(){return LJ}const un=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"}),sI={JSONContribution:"base.contributions.json"};function R_e(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}class M_e{constructor(){this._onDidChangeSchema=new B,this.schemasById={}}registerSchema(e,t){this.schemasById[R_e(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}}const A_e=new M_e;nn.add(sI.JSONContribution,A_e);const Rc={Configuration:"base.contributions.configuration"},r1="vscode://schemas/settings/resourceLanguage",jz=nn.as(sI.JSONContribution);class P_e{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new B,this._onDidUpdateConfiguration=new B,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:m("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},jz.registerSchema(r1,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=new Set;this.doRegisterConfigurations(e,t,i),jz.registerSchema(r1,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){const t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){var i;const o=[];for(const{overrides:r,source:s}of e)for(const a in r)if(t.add(a),rf.test(a)){const l=this.configurationDefaultsOverrides.get(a),c=(i=l==null?void 0:l.valuesSources)!==null&&i!==void 0?i:new Map;if(s)for(const g of Object.keys(r[a]))c.set(g,s);const d={...(l==null?void 0:l.value)||{},...r[a]};this.configurationDefaultsOverrides.set(a,{source:s,value:d,valuesSources:c});const u=N_e(a),h={type:"object",default:d,description:m("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",u),$ref:r1,defaultDefaultValue:d,source:Pr(s)?void 0:s,defaultValueSource:s};o.push(...o2(a)),this.configurationProperties[a]=h,this.defaultLanguageConfigurationOverridesNode.properties[a]=h}else{this.configurationDefaultsOverrides.set(a,{value:r[a],source:s});const l=this.configurationProperties[a];l&&(this.updatePropertyDefaultValue(a,l),this.updateSchema(a,l))}this.doRegisterOverrideIdentifiers(o)}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,i){e.forEach(o=>{this.validateAndRegisterProperties(o,t,o.extensionInfo,o.restrictedProperties,void 0,i),this.configurationContributors.push(o),this.registerJSONConfiguration(o)})}validateAndRegisterProperties(e,t=!0,i,o,r=3,s){var a;r=Gs(e.scope)?r:e.scope;const l=e.properties;if(l)for(const d in l){const u=l[d];if(t&&B_e(d,u)){delete l[d];continue}if(u.source=i,u.defaultDefaultValue=l[d].default,this.updatePropertyDefaultValue(d,u),rf.test(d)?u.scope=void 0:(u.scope=Gs(u.scope)?r:u.scope,u.restricted=Gs(u.restricted)?!!(o!=null&&o.includes(d)):u.restricted),l[d].hasOwnProperty("included")&&!l[d].included){this.excludedConfigurationProperties[d]=l[d],delete l[d];continue}else this.configurationProperties[d]=l[d],!((a=l[d].policy)===null||a===void 0)&&a.name&&this.policyConfigurations.set(l[d].policy.name,d);!l[d].deprecationMessage&&l[d].markdownDeprecationMessage&&(l[d].deprecationMessage=l[d].markdownDeprecationMessage),s.add(d)}const c=e.allOf;if(c)for(const d of c)this.validateAndRegisterProperties(d,t,i,o,r,s)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const t=i=>{const o=i.properties;if(o)for(const s in o)this.updateSchema(s,o[s]);const r=i.allOf;r==null||r.forEach(t)};t(e)}updateSchema(e,t){switch(t.scope){case 1:break;case 2:break;case 6:break;case 3:break;case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:m("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:m("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:r1};this.updatePropertyDefaultValue(t,i)}}registerOverridePropertyPatternKey(){m("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),m("overrideSettings.errorMessage","This setting does not support per-language configuration."),this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const i=this.configurationDefaultsOverrides.get(e);let o=i==null?void 0:i.value,r=i==null?void 0:i.source;_s(o)&&(o=t.defaultDefaultValue,r=void 0),_s(o)&&(o=F_e(t.type)),t.default=o,t.defaultValueSource=r}}const DJ="\\[([^\\]]+)\\]",Kz=new RegExp(DJ,"g"),O_e=`^(${DJ})+$`,rf=new RegExp(O_e);function o2(n){const e=[];if(rf.test(n)){let t=Kz.exec(n);for(;t!=null&&t.length;){const i=t[1].trim();i&&e.push(i),t=Kz.exec(n)}}return ch(e)}function F_e(n){switch(Array.isArray(n)?n[0]:n){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const kL=new P_e;nn.add(Rc.Configuration,kL);function B_e(n,e){var t,i,o,r;return n.trim()?rf.test(n)?m("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):kL.getConfigurationProperties()[n]!==void 0?m("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):!((t=e.policy)===null||t===void 0)&&t.name&&kL.getPolicyConfigurations().get((i=e.policy)===null||i===void 0?void 0:i.name)!==void 0?m("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",n,(o=e.policy)===null||o===void 0?void 0:o.name,kL.getPolicyConfigurations().get((r=e.policy)===null||r===void 0?void 0:r.name)):null:m("config.property.empty","Cannot register an empty property")}const W_e={ModesRegistry:"editor.modesRegistry"};class V_e{constructor(){this._onDidChangeLanguages=new B,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e){this._languages.splice(t,1);return}}}}getLanguages(){return this._languages}}const E_=new V_e;nn.add(W_e.ModesRegistry,E_);const oa="plaintext",H_e=".txt";E_.registerLanguage({id:oa,extensions:[H_e],aliases:[m("plainText.alias","Plain Text"),"text"],mimetypes:[un.text]});nn.as(Rc.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);class z_e{constructor(e,t){this.languageId=e;const i=t.brackets?qz(t.brackets):[],o=new fz(a=>{const l=new Set;return{info:new U_e(this,a,l),closing:l}}),r=new fz(a=>{const l=new Set,c=new Set;return{info:new $_e(this,a,l,c),opening:l,openingColorized:c}});for(const[a,l]of i){const c=o.get(a),d=r.get(l);c.closing.add(d.info),d.opening.add(c.info)}const s=t.colorizedBracketPairs?qz(t.colorizedBracketPairs):i.filter(a=>!(a[0]==="<"&&a[1]===">"));for(const[a,l]of s){const c=o.get(a),d=r.get(l);c.closing.add(d.info),d.openingColorized.add(c.info),d.opening.add(c.info)}this._openingBrackets=new Map([...o.cachedValues].map(([a,l])=>[a,l.info])),this._closingBrackets=new Map([...r.cachedValues].map(([a,l])=>[a,l.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}}function qz(n){return n.filter(([e,t])=>e!==""&&t!=="")}class EJ{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}}class U_e extends EJ{constructor(e,t,i){super(e,t),this.openedBrackets=i,this.isOpeningBracket=!0}}class $_e extends EJ{constructor(e,t,i,o){super(e,t),this.openingBrackets=i,this.openingColorizedBrackets=o,this.isOpeningBracket=!1}closes(e){return e.config!==this.config?!1:this.openingBrackets.has(e)}closesColorized(e){return e.config!==this.config?!1:this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}}var j_e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Gz=function(n,e){return function(t,i){e(t,i,n)}};class dM{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}}const Di=Et("languageConfigurationService");let t4=class extends z{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new Z_e),this.onDidChangeEmitter=this._register(new B),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(i4));this._register(this.configurationService.onDidChangeConfiguration(o=>{const r=o.change.keys.some(a=>i.has(a)),s=o.change.overrides.filter(([a,l])=>l.some(c=>i.has(c))).map(([a])=>a);if(r)this.configurations.clear(),this.onDidChangeEmitter.fire(new dM(void 0));else for(const a of s)this.languageService.isRegisteredLanguageId(a)&&(this.configurations.delete(a),this.onDidChangeEmitter.fire(new dM(a)))})),this._register(this._registry.onDidChange(o=>{this.configurations.delete(o.languageId),this.onDidChangeEmitter.fire(new dM(o.languageId))}))}register(e,t,i){return this._registry.register(e,t,i)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=K_e(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};t4=j_e([Gz(0,yt),Gz(1,Bi)],t4);function K_e(n,e,t,i){let o=e.getLanguageConfiguration(n);if(!o){if(!i.isRegisteredLanguageId(n))return new Wb(n,{});o=new Wb(n,{})}const r=q_e(o.languageId,t),s=IJ([o.underlyingConfig,r]);return new Wb(o.languageId,s)}const i4={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function q_e(n,e){const t=e.getValue(i4.brackets,{overrideIdentifier:n}),i=e.getValue(i4.colorizedBracketPairs,{overrideIdentifier:n});return{brackets:Zz(t),colorizedBracketPairs:Zz(i)}}function Zz(n){if(Array.isArray(n))return n.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}function TJ(n,e,t){const i=n.getLineContent(e);let o=wi(i);return o.length>t-1&&(o=o.substring(0,t-1)),o}function Bb(n,e,t){n.tokenization.forceTokenization(e);const i=n.tokenization.getLineTokens(e),o=typeof t>"u"?n.getLineMaxColumn(e)-1:t-1;return iI(i,o)}class G_e{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new Yz(e,t,++this._order);return this._entries.push(i),this._resolved=null,je(()=>{for(let o=0;o<this._entries.length;o++)if(this._entries[o]===i){this._entries.splice(o,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new Wb(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(Yz.cmp),IJ(this._entries.map(e=>e.configuration)))}}function IJ(n){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const t of n)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}class Yz{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class Xz{constructor(e){this.languageId=e}}class Z_e extends z{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._register(this.register(oa,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,i=0){let o=this._entries.get(e);o||(o=new G_e(e),this._entries.set(e,o));const r=o.register(t,i);return this._onDidChange.fire(new Xz(e)),je(()=>{r.dispose(),this._onDidChange.fire(new Xz(e))})}getLanguageConfiguration(e){const t=this._entries.get(e);return(t==null?void 0:t.getResolvedConfiguration())||null}}class Wb{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new ab(this.underlyingConfig):null,this.comments=Wb._handleComments(this.underlyingConfig),this.characterPair=new D_(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||M8,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new T_e(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new z_e(e,this.underlyingConfig)}getWordDefinition(){return A8(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new w_e(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new E_e(this.brackets)),this._electricCharacter}onEnter(e,t,i,o){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,o):null}getAutoClosingPairs(){return new f_e(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){const[o,r]=t.blockComment;i.blockCommentStartToken=o,i.blockCommentEndToken=r}return i}}Ot(Di,t4,1);class Bh{constructor(e,t,i,o){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=o}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}class Qz{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,o=e.length;i<o;i++)t[i]=e.charCodeAt(i);return t}}function Y_e(n,e,t){return new sd(new Qz(n),new Qz(e)).ComputeDiff(t).changes}class hv{static Assert(e,t){if(!e)throw new Error(t)}}class gv{static Copy(e,t,i,o,r){for(let s=0;s<r;s++)i[o+s]=e[t+s]}static Copy2(e,t,i,o,r){for(let s=0;s<r;s++)i[o+s]=e[t+s]}}class Jz{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Bh(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class sd{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[o,r,s]=sd._getElements(e),[a,l,c]=sd._getElements(t);this._hasStrings=s&&c,this._originalStringElements=o,this._originalElementsOrHash=r,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){const t=e.getElements();if(sd._isStringArray(t)){const i=new Int32Array(t.length);for(let o=0,r=t.length;o<r;o++)i[o]=e6(t[o],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;const i=sd._getStrictElement(this._originalSequence,e),o=sd._getStrictElement(this._modifiedSequence,t);return i===o}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,o,r){const s=[!1];let a=this.ComputeDiffRecursive(e,t,i,o,s);return r&&(a=this.PrettifyChanges(a)),{quitEarly:s[0],changes:a}}ComputeDiffRecursive(e,t,i,o,r){for(r[0]=!1;e<=t&&i<=o&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&o>=i&&this.ElementsAreEqual(t,o);)t--,o--;if(e>t||i>o){let u;return i<=o?(hv.Assert(e===t+1,"originalStart should only be one more than originalEnd"),u=[new Bh(e,0,i,o-i+1)]):e<=t?(hv.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),u=[new Bh(e,t-e+1,i,0)]):(hv.Assert(e===t+1,"originalStart should only be one more than originalEnd"),hv.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),u=[]),u}const s=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,o,s,a,r),c=s[0],d=a[0];if(l!==null)return l;if(!r[0]){const u=this.ComputeDiffRecursive(e,c,i,d,r);let h=[];return r[0]?h=[new Bh(c+1,t-(c+1)+1,d+1,o-(d+1)+1)]:h=this.ComputeDiffRecursive(c+1,t,d+1,o,r),this.ConcatenateChanges(u,h)}return[new Bh(e,t-e+1,i,o-i+1)]}WALKTRACE(e,t,i,o,r,s,a,l,c,d,u,h,g,f,p,b,v,_){let C=null,y=null,w=new Jz,S=t,x=i,L=g[0]-b[0]-o,E=-1073741824,O=this.m_forwardHistory.length-1;do{const P=L+e;P===S||P<x&&c[P-1]<c[P+1]?(u=c[P+1],f=u-L-o,u<E&&w.MarkNextChange(),E=u,w.AddModifiedElement(u+1,f),L=P+1-e):(u=c[P-1]+1,f=u-L-o,u<E&&w.MarkNextChange(),E=u-1,w.AddOriginalElement(u,f+1),L=P-1-e),O>=0&&(c=this.m_forwardHistory[O],e=c[0],S=1,x=c.length-1)}while(--O>=-1);if(C=w.getReverseChanges(),_[0]){let P=g[0]+1,A=b[0]+1;if(C!==null&&C.length>0){const F=C[C.length-1];P=Math.max(P,F.getOriginalEnd()),A=Math.max(A,F.getModifiedEnd())}y=[new Bh(P,h-P+1,A,p-A+1)]}else{w=new Jz,S=s,x=a,L=g[0]-b[0]-l,E=1073741824,O=v?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const P=L+r;P===S||P<x&&d[P-1]>=d[P+1]?(u=d[P+1]-1,f=u-L-l,u>E&&w.MarkNextChange(),E=u+1,w.AddOriginalElement(u+1,f+1),L=P+1-r):(u=d[P-1],f=u-L-l,u>E&&w.MarkNextChange(),E=u,w.AddModifiedElement(u+1,f+1),L=P-1-r),O>=0&&(d=this.m_reverseHistory[O],r=d[0],S=1,x=d.length-1)}while(--O>=-1);y=w.getChanges()}return this.ConcatenateChanges(C,y)}ComputeRecursionPoint(e,t,i,o,r,s,a){let l=0,c=0,d=0,u=0,h=0,g=0;e--,i--,r[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const f=t-e+(o-i),p=f+1,b=new Int32Array(p),v=new Int32Array(p),_=o-i,C=t-e,y=e-i,w=t-o,x=(C-_)%2===0;b[_]=e,v[C]=t,a[0]=!1;for(let L=1;L<=f/2+1;L++){let E=0,O=0;d=this.ClipDiagonalBound(_-L,L,_,p),u=this.ClipDiagonalBound(_+L,L,_,p);for(let A=d;A<=u;A+=2){A===d||A<u&&b[A-1]<b[A+1]?l=b[A+1]:l=b[A-1]+1,c=l-(A-_)-y;const F=l;for(;l<t&&c<o&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(b[A]=l,l+c>E+O&&(E=l,O=c),!x&&Math.abs(A-C)<=L-1&&l>=v[A])return r[0]=l,s[0]=c,F<=v[A]&&L<=1448?this.WALKTRACE(_,d,u,y,C,h,g,w,b,v,l,t,r,c,o,s,x,a):null}const P=(E-e+(O-i)-L)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(E,P))return a[0]=!0,r[0]=E,s[0]=O,P>0&&L<=1448?this.WALKTRACE(_,d,u,y,C,h,g,w,b,v,l,t,r,c,o,s,x,a):(e++,i++,[new Bh(e,t-e+1,i,o-i+1)]);h=this.ClipDiagonalBound(C-L,L,C,p),g=this.ClipDiagonalBound(C+L,L,C,p);for(let A=h;A<=g;A+=2){A===h||A<g&&v[A-1]>=v[A+1]?l=v[A+1]-1:l=v[A-1],c=l-(A-C)-w;const F=l;for(;l>e&&c>i&&this.ElementsAreEqual(l,c);)l--,c--;if(v[A]=l,x&&Math.abs(A-_)<=L&&l<=b[A])return r[0]=l,s[0]=c,F>=b[A]&&L<=1448?this.WALKTRACE(_,d,u,y,C,h,g,w,b,v,l,t,r,c,o,s,x,a):null}if(L<=1447){let A=new Int32Array(u-d+2);A[0]=_-d+1,gv.Copy2(b,d,A,1,u-d+1),this.m_forwardHistory.push(A),A=new Int32Array(g-h+2),A[0]=C-h+1,gv.Copy2(v,h,A,1,g-h+1),this.m_reverseHistory.push(A)}}return this.WALKTRACE(_,d,u,y,C,h,g,w,b,v,l,t,r,c,o,s,x,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],o=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,r=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,s=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<o&&i.modifiedStart+i.modifiedLength<r&&(!s||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const c=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!c)break;i.originalStart++,i.modifiedStart++}const l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){const i=e[t];let o=0,r=0;if(t>0){const u=e[t-1];o=u.originalStart+u.originalLength,r=u.modifiedStart+u.modifiedLength}const s=i.originalLength>0,a=i.modifiedLength>0;let l=0,c=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let u=1;;u++){const h=i.originalStart-u,g=i.modifiedStart-u;if(h<o||g<r||s&&!this.OriginalElementsAreEqual(h,h+i.originalLength)||a&&!this.ModifiedElementsAreEqual(g,g+i.modifiedLength))break;const p=(h===o&&g===r?5:0)+this._boundaryScore(h,i.originalLength,g,i.modifiedLength);p>c&&(c=p,l=u)}i.originalStart-=l,i.modifiedStart-=l;const d=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],d)){e[t-1]=d[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const o=e[t-1],r=e[t],s=r.originalStart-o.originalStart-o.originalLength,a=o.originalStart,l=r.originalStart+r.originalLength,c=l-a,d=o.modifiedStart,u=r.modifiedStart+r.modifiedLength,h=u-d;if(s<5&&c<20&&h<20){const g=this._findBetterContiguousSequence(a,c,d,h,s);if(g){const[f,p]=g;(f!==o.originalStart+o.originalLength||p!==o.modifiedStart+o.modifiedLength)&&(o.originalLength=f-o.originalStart,o.modifiedLength=p-o.modifiedStart,r.originalStart=f+s,r.modifiedStart=p+s,r.originalLength=l-r.originalStart,r.modifiedLength=u-r.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,o,r){if(t<r||o<r)return null;const s=e+t-r+1,a=i+o-r+1;let l=0,c=0,d=0;for(let u=e;u<s;u++)for(let h=i;h<a;h++){const g=this._contiguousSequenceScore(u,h,r);g>0&&g>l&&(l=g,c=u,d=h)}return l>0?[c,d]:null}_contiguousSequenceScore(e,t,i){let o=0;for(let r=0;r<i;r++){if(!this.ElementsAreEqual(e+r,t+r))return 0;o+=this._originalStringElements[e+r].length}return o}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,o){const r=this._OriginalRegionIsBoundary(e,t)?1:0,s=this._ModifiedRegionIsBoundary(i,o)?1:0;return r+s}ConcatenateChanges(e,t){const i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const o=new Array(e.length+t.length-1);return gv.Copy(e,0,o,0,e.length-1),o[e.length-1]=i[0],gv.Copy(t,1,o,e.length,t.length-1),o}else{const o=new Array(e.length+t.length);return gv.Copy(e,0,o,0,e.length),gv.Copy(t,0,o,e.length,t.length),o}}ChangesOverlap(e,t,i){if(hv.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),hv.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const o=e.originalStart;let r=e.originalLength;const s=e.modifiedStart;let a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(r=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new Bh(o,r,s,a),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,o){if(e>=0&&e<o)return e;const r=i,s=o-i-1,a=t%2===0;if(e<0){const l=r%2===0;return a===l?0:1}else{const l=s%2===0;return a===l?o-1:o-2}}}function r2(n){return n<0?0:n>255?255:n|0}function fv(n){return n<0?0:n>4294967295?4294967295:n|0}class X_e{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=fv(e);const i=this.values,o=this.prefixSum,r=t.length;return r===0?!1:(this.values=new Uint32Array(i.length+r),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+r),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=fv(e),t=fv(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=fv(e),t=fv(t);const i=this.values,o=this.prefixSum;if(e>=i.length)return!1;const r=i.length-e;return t>=r&&(t=r),t===0?!1:(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=fv(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,o=0,r=0,s=0;for(;t<=i;)if(o=t+(i-t)/2|0,r=this.prefixSum[o],s=r-this.values[o],e<s)i=o-1;else if(e>=r)t=o+1;else break;return new NJ(o,e-s)}}class Q_e{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),e===0?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();const t=this._indexBySum[e],i=t>0?this._prefixSum[t-1]:0;return new NJ(t,e-i)}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=AT(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){const i=this._values[e],o=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=o+i;for(let r=0;r<i;r++)this._indexBySum[o+r]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}}class NJ{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class J_e{constructor(e,t,i,o){this._uri=e,this._lines=t,this._eol=i,this._versionId=o,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new W(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let o=0;o<t;o++)i[o]=this._lines[o].length+e;this._lineStarts=new X_e(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){if(t.length===0)return;const i=qd(t);if(i.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);const o=new Uint32Array(i.length-1);for(let r=1;r<i.length;r++)this._lines.splice(e.lineNumber+r-1,0,i[r]),o[r-1]=i[r].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,o)}}class C0{constructor(e){const t=r2(e);this._defaultValue=t,this._asciiMap=C0._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){const t=new Uint8Array(256);return t.fill(e),t}set(e,t){const i=r2(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class s2{constructor(){this._actual=new C0(0)}add(e){this._actual.set(e,1)}has(e){return this._actual.get(e)===1}clear(){return this._actual.clear()}}class e0e{constructor(e,t,i){const o=new Uint8Array(e*t);for(let r=0,s=e*t;r<s;r++)o[r]=i;this._data=o,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class t0e{constructor(e){let t=0,i=0;for(let r=0,s=e.length;r<s;r++){const[a,l,c]=e[r];l>t&&(t=l),a>i&&(i=a),c>i&&(i=c)}t++,i++;const o=new e0e(i,t,0);for(let r=0,s=e.length;r<s;r++){const[a,l,c]=e[r];o.set(a,l,c)}this._states=o,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let uM=null;function i0e(){return uM===null&&(uM=new t0e([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),uM}let s1=null;function n0e(){if(s1===null){s1=new C0(0);const n=` 	<>'"`;for(let t=0;t<n.length;t++)s1.set(n.charCodeAt(t),1);const e=".,;:";for(let t=0;t<e.length;t++)s1.set(e.charCodeAt(t),2)}return s1}class a2{static _createLink(e,t,i,o,r){let s=r-1;do{const a=t.charCodeAt(s);if(e.get(a)!==2)break;s--}while(s>o);if(o>0){const a=t.charCodeAt(o-1),l=t.charCodeAt(s);(a===40&&l===41||a===91&&l===93||a===123&&l===125)&&s--}return{range:{startLineNumber:i,startColumn:o+1,endLineNumber:i,endColumn:s+2},url:t.substring(o,s+1)}}static computeLinks(e,t=i0e()){const i=n0e(),o=[];for(let r=1,s=e.getLineCount();r<=s;r++){const a=e.getLineContent(r),l=a.length;let c=0,d=0,u=0,h=1,g=!1,f=!1,p=!1,b=!1;for(;c<l;){let v=!1;const _=a.charCodeAt(c);if(h===13){let C;switch(_){case 40:g=!0,C=0;break;case 41:C=g?0:1;break;case 91:p=!0,f=!0,C=0;break;case 93:p=!1,C=f?0:1;break;case 123:b=!0,C=0;break;case 125:C=b?0:1;break;case 39:case 34:case 96:u===_?C=1:u===39||u===34||u===96?C=0:C=1;break;case 42:C=u===42?1:0;break;case 124:C=u===124?1:0;break;case 32:C=p?0:1;break;default:C=i.get(_)}C===1&&(o.push(a2._createLink(i,a,r,d,c)),v=!0)}else if(h===12){let C;_===91?(f=!0,C=0):C=i.get(_),C===1?v=!0:h=13}else h=t.nextState(h,_),h===0&&(v=!0);v&&(h=1,g=!1,f=!1,b=!1,d=c+1,u=_),c++}h===13&&o.push(a2._createLink(i,a,r,d,l))}return o}}function o0e(n){return!n||typeof n.getLineCount!="function"||typeof n.getLineContent!="function"?[]:a2.computeLinks(n)}class n4{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,o,r){if(e&&t){const s=this.doNavigateValueSet(t,r);if(s)return{range:e,value:s}}if(i&&o){const s=this.doNavigateValueSet(o,r);if(s)return{range:i,value:s}}return null}doNavigateValueSet(e,t){const i=this.numberReplace(e,t);return i!==null?i:this.textReplace(e,t)}numberReplace(e,t){const i=Math.pow(10,e.length-(e.lastIndexOf(".")+1));let o=Number(e);const r=parseFloat(e);return!isNaN(o)&&!isNaN(r)&&o===r?o===0&&!t?null:(o=Math.floor(o*i),o+=t?i:-i,String(o/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let o=null;for(let r=0,s=e.length;o===null&&r<s;r++)o=this.valueSetReplace(e[r],t,i);return o}valueSetReplace(e,t,i){let o=e.indexOf(t);return o>=0?(o+=i?1:-1,o<0?o=e.length-1:o%=e.length,e[o]):null}}n4.INSTANCE=new n4;class r0e extends C0{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}function s0e(n){const e={};return t=>(e.hasOwnProperty(t)||(e[t]=n(t)),e[t])}const Fa=s0e(n=>new r0e(n));var la;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(la||(la={}));var Ad;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=3]="Right"})(Ad||(Ad={}));var xs;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(xs||(xs={}));var ul;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(ul||(ul={}));class LL{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,e.tabSize|0),e.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,e.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!e.insertSpaces,this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=!!e.trimAutoWhitespace,this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this._indentSizeIsTabSize===e._indentSizeIsTabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&na(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class Oy{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}function a0e(n){return n&&typeof n.read=="function"}class hM{constructor(e,t,i,o,r,s){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=o,this.isAutoWhitespaceEdit=r,this._isTracked=s}}class l0e{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}class c0e{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}function RJ(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}const d0e=999;class cp{constructor(e,t,i,o){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=o}parseSearchRequest(){if(this.searchString==="")return null;let e;this.isRegex?e=u0e(this.searchString):e=this.searchString.indexOf(`
`)>=0;let t=null;try{t=TQ(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch{return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new l0e(t,this.wordSeparators?Fa(this.wordSeparators):null,i?this.searchString:null)}}function u0e(n){if(!n||n.length===0)return!1;for(let e=0,t=n.length;e<t;e++){const i=n.charCodeAt(e);if(i===10)return!0;if(i===92){if(e++,e>=t)break;const o=n.charCodeAt(e);if(o===110||o===114||o===87)return!0}}return!1}function pp(n,e,t){if(!t)return new Oy(n,null);const i=[];for(let o=0,r=e.length;o<r;o++)i[o]=e[o];return new Oy(n,i)}class eU{constructor(e){const t=[];let i=0;for(let o=0,r=e.length;o<r;o++)e.charCodeAt(o)===10&&(t[i++]=o);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,o=t.length-1;if(o===-1||e<=t[0])return 0;for(;i<o;){const r=i+((o-i)/2>>0);t[r]>=e?o=r-1:t[r+1]>=e?(i=r,o=r):i=r+1}return i+1}}class Wx{static findMatches(e,t,i,o,r){const s=t.parseSearchRequest();return s?s.regex.multiline?this._doFindMatchesMultiline(e,i,new lb(s.wordSeparators,s.regex),o,r):this._doFindMatchesLineByLine(e,i,s,o,r):[]}static _getMultilineMatchRange(e,t,i,o,r,s){let a,l=0;o?(l=o.findLineFeedCountBeforeOffset(r),a=t+r+l):a=t+r;let c;if(o){const g=o.findLineFeedCountBeforeOffset(r+s.length)-l;c=a+s.length+g}else c=a+s.length;const d=e.getPositionAt(a),u=e.getPositionAt(c);return new D(d.lineNumber,d.column,u.lineNumber,u.column)}static _doFindMatchesMultiline(e,t,i,o,r){const s=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l=e.getEOL()===`\r
`?new eU(a):null,c=[];let d=0,u;for(i.reset(0);u=i.next(a);)if(c[d++]=pp(this._getMultilineMatchRange(e,s,a,l,u.index,u[0]),u,o),d>=r)return c;return c}static _doFindMatchesLineByLine(e,t,i,o,r){const s=[];let a=0;if(t.startLineNumber===t.endLineNumber){const c=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(i,c,t.startLineNumber,t.startColumn-1,a,s,o,r),s}const l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(i,l,t.startLineNumber,t.startColumn-1,a,s,o,r);for(let c=t.startLineNumber+1;c<t.endLineNumber&&a<r;c++)a=this._findMatchesInLine(i,e.getLineContent(c),c,0,a,s,o,r);if(a<r){const c=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(i,c,t.endLineNumber,0,a,s,o,r)}return s}static _findMatchesInLine(e,t,i,o,r,s,a,l){const c=e.wordSeparators;if(!a&&e.simpleSearch){const h=e.simpleSearch,g=h.length,f=t.length;let p=-g;for(;(p=t.indexOf(h,p+g))!==-1;)if((!c||d6(c,t,f,p,g))&&(s[r++]=new Oy(new D(i,p+1+o,i,p+1+g+o),null),r>=l))return r;return r}const d=new lb(e.wordSeparators,e.regex);let u;d.reset(0);do if(u=d.next(t),u&&(s[r++]=pp(new D(i,u.index+1+o,i,u.index+1+u[0].length+o),u,a),r>=l))return r;while(u);return r}static findNextMatch(e,t,i,o){const r=t.parseSearchRequest();if(!r)return null;const s=new lb(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindNextMatchMultiline(e,i,s,o):this._doFindNextMatchLineByLine(e,i,s,o)}static _doFindNextMatchMultiline(e,t,i,o){const r=new W(t.lineNumber,1),s=e.getOffsetAt(r),a=e.getLineCount(),l=e.getValueInRange(new D(r.lineNumber,r.column,a,e.getLineMaxColumn(a)),1),c=e.getEOL()===`\r
`?new eU(l):null;i.reset(t.column-1);const d=i.next(l);return d?pp(this._getMultilineMatchRange(e,s,l,c,d.index,d[0]),d,o):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new W(1,1),i,o):null}static _doFindNextMatchLineByLine(e,t,i,o){const r=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s),l=this._findFirstMatchInLine(i,a,s,t.column,o);if(l)return l;for(let c=1;c<=r;c++){const d=(s+c-1)%r,u=e.getLineContent(d+1),h=this._findFirstMatchInLine(i,u,d+1,1,o);if(h)return h}return null}static _findFirstMatchInLine(e,t,i,o,r){e.reset(o-1);const s=e.next(t);return s?pp(new D(i,s.index+1,i,s.index+1+s[0].length),s,r):null}static findPreviousMatch(e,t,i,o){const r=t.parseSearchRequest();if(!r)return null;const s=new lb(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindPreviousMatchMultiline(e,i,s,o):this._doFindPreviousMatchLineByLine(e,i,s,o)}static _doFindPreviousMatchMultiline(e,t,i,o){const r=this._doFindMatchesMultiline(e,new D(1,1,t.lineNumber,t.column),i,o,10*d0e);if(r.length>0)return r[r.length-1];const s=e.getLineCount();return t.lineNumber!==s||t.column!==e.getLineMaxColumn(s)?this._doFindPreviousMatchMultiline(e,new W(s,e.getLineMaxColumn(s)),i,o):null}static _doFindPreviousMatchLineByLine(e,t,i,o){const r=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s).substring(0,t.column-1),l=this._findLastMatchInLine(i,a,s,o);if(l)return l;for(let c=1;c<=r;c++){const d=(r+s-c-1)%r,u=e.getLineContent(d+1),h=this._findLastMatchInLine(i,u,d+1,o);if(h)return h}return null}static _findLastMatchInLine(e,t,i,o){let r=null,s;for(e.reset(0);s=e.next(t);)r=pp(new D(i,s.index+1,i,s.index+1+s[0].length),s,o);return r}}function h0e(n,e,t,i,o){if(i===0)return!0;const r=e.charCodeAt(i-1);if(n.get(r)!==0||r===13||r===10)return!0;if(o>0){const s=e.charCodeAt(i);if(n.get(s)!==0)return!0}return!1}function g0e(n,e,t,i,o){if(i+o===t)return!0;const r=e.charCodeAt(i+o);if(n.get(r)!==0||r===13||r===10)return!0;if(o>0){const s=e.charCodeAt(i+o-1);if(n.get(s)!==0)return!0}return!1}function d6(n,e,t,i,o){return h0e(n,e,t,i,o)&&g0e(n,e,t,i,o)}class lb{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(i=this._searchRegex.exec(e),!i))return null;const o=i.index,r=i[0].length;if(o===this._prevMatchStartIndex&&r===this._prevMatchLength){if(r===0){YD(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=o,this._prevMatchLength=r,!this._wordSeparators||d6(this._wordSeparators,e,t,o,r))return i}while(i);return null}}class u6{static computeUnicodeHighlights(e,t,i){const o=i?i.startLineNumber:1,r=i?i.endLineNumber:e.getLineCount(),s=new tU(t),a=s.getCandidateCodePoints();let l;a==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${f0e(Array.from(a))}`,"g");const c=new lb(null,l),d=[];let u=!1,h,g=0,f=0,p=0;e:for(let b=o,v=r;b<=v;b++){const _=e.getLineContent(b),C=_.length;c.reset(0);do if(h=c.next(_),h){let y=h.index,w=h.index+h[0].length;if(y>0){const E=_.charCodeAt(y-1);to(E)&&y--}if(w+1<C){const E=_.charCodeAt(w-1);to(E)&&w++}const S=_.substring(y,w);let x=Ly(y+1,M8,_,0);x&&x.endColumn<=y+1&&(x=null);const L=s.shouldHighlightNonBasicASCII(S,x?x.word:null);if(L!==0){if(L===3?g++:L===2?f++:L===1?p++:JT(),d.length>=1e3){u=!0;break e}d.push(new D(b,y+1,b,w+1))}}while(h)}return{ranges:d,hasMore:u,ambiguousCharacterCount:g,invisibleCharacterCount:f,nonBasicAsciiCharacterCount:p}}static computeUnicodeHighlightReason(e,t){const i=new tU(t);switch(i.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{const r=e.codePointAt(0),s=i.ambiguousCharacters.getPrimaryConfusable(r),a=gm.getLocales().filter(l=>!gm.getInstance(new Set([...t.allowedLocales,l])).isAmbiguous(r));return{kind:0,confusableWith:String.fromCodePoint(s),notAmbiguousInLocales:a}}case 1:return{kind:2}}}}function f0e(n,e){return`[${ra(n.map(i=>String.fromCodePoint(i)).join(""))}]`}class tU{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=gm.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const e=new Set;if(this.options.invisibleCharacters)for(const t of Ld.codePoints)iU(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(const t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e,t){const i=e.codePointAt(0);if(this.allowedCodePoints.has(i))return 0;if(this.options.nonBasicASCII)return 1;let o=!1,r=!1;if(t)for(const s of t){const a=s.codePointAt(0),l=_S(s);o=o||l,!l&&!this.ambiguousCharacters.isAmbiguous(a)&&!Ld.isInvisibleCharacter(a)&&(r=!0)}return!o&&r?0:this.options.invisibleCharacters&&!iU(e)&&Ld.isInvisibleCharacter(i)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(i)?3:0}}function iU(n){return n===" "||n===`
`||n==="	"}class DL{constructor(e,t,i){this.changes=e,this.moves=t,this.hitTimeout=i}}class MJ{constructor(e,t){this.lineRangeMapping=e,this.changes=t}}class St{static addRange(e,t){let i=0;for(;i<t.length&&t[i].endExclusive<e.start;)i++;let o=i;for(;o<t.length&&t[o].start<=e.endExclusive;)o++;if(i===o)t.splice(i,0,e);else{const r=Math.min(e.start,t[i].start),s=Math.max(e.endExclusive,t[o-1].endExclusive);t.splice(i,o-i,new St(r,s))}}static ofLength(e){return new St(0,e)}static ofStartAndLength(e,t){return new St(e,e+t)}constructor(e,t){if(this.start=e,this.endExclusive=t,e>t)throw new Hi(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(e){return new St(this.start+e,this.endExclusive+e)}deltaStart(e){return new St(this.start+e,this.endExclusive)}deltaEnd(e){return new St(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new St(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){const t=Math.max(this.start,e.start),i=Math.min(this.endExclusive,e.endExclusive);if(t<=i)return new St(t,i)}intersects(e){const t=Math.max(this.start,e.start),i=Math.min(this.endExclusive,e.endExclusive);return t<i}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new Hi(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new Hi(`Invalid clipping range: ${this.toString()}`);return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}forEach(e){for(let t=this.start;t<this.endExclusive;t++)e(t)}}class h6{constructor(){this._sortedRanges=[]}addRange(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<e.start;)t++;let i=t;for(;i<this._sortedRanges.length&&this._sortedRanges[i].start<=e.endExclusive;)i++;if(t===i)this._sortedRanges.splice(t,0,e);else{const o=Math.min(e.start,this._sortedRanges[t].start),r=Math.max(e.endExclusive,this._sortedRanges[i-1].endExclusive);this._sortedRanges.splice(t,i-t,new St(o,r))}}toString(){return this._sortedRanges.map(e=>e.toString()).join(", ")}intersectsStrict(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<=e.start;)t++;return t<this._sortedRanges.length&&this._sortedRanges[t].start<e.endExclusive}intersectWithRange(e){const t=new h6;for(const i of this._sortedRanges){const o=i.intersect(e);o&&t.addRange(o)}return t}intersectWithRangeLength(e){return this.intersectWithRange(e).length}get length(){return this._sortedRanges.reduce((e,t)=>e+t.length,0)}}function Fy(n,e,t){const i=p0e(n,e);if(i!==-1)return n[i]}function p0e(n,e,t=n.length-1){for(let i=t;i>=0;i--){const o=n[i];if(e(o))return i}return-1}function T_(n,e){const t=By(n,e);return t===-1?void 0:n[t]}function By(n,e,t=0,i=n.length){let o=t,r=i;for(;o<r;){const s=Math.floor((o+r)/2);e(n[s])?o=s+1:r=s}return o-1}function m0e(n,e){const t=Wy(n,e);return t===n.length?void 0:n[t]}function Wy(n,e,t=0,i=n.length){let o=t,r=i;for(;o<r;){const s=Math.floor((o+r)/2);e(n[s])?r=s:o=s+1}return o}class xS{constructor(e){this._array=e,this._findLastMonotonousLastIdx=0}findLastMonotonous(e){if(xS.assertInvariants){if(this._prevFindLastPredicate){for(const i of this._array)if(this._prevFindLastPredicate(i)&&!e(i))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=e}const t=By(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=t+1,t===-1?void 0:this._array[t]}}xS.assertInvariants=!1;function g6(n,e){if(n.length===0)return;let t=n[0];for(let i=1;i<n.length;i++){const o=n[i];e(o,t)>0&&(t=o)}return t}function v0e(n,e){if(n.length===0)return;let t=n[0];for(let i=1;i<n.length;i++){const o=n[i];e(o,t)>=0&&(t=o)}return t}function b0e(n,e){return g6(n,(t,i)=>-e(t,i))}function _0e(n,e){if(n.length===0)return-1;let t=0;for(let i=1;i<n.length;i++){const o=n[i];e(o,n[t])>0&&(t=i)}return t}function C0e(n,e){for(const t of n){const i=e(t);if(i!==void 0)return i}}let wt=class Wh{static fromRangeInclusive(e){return new Wh(e.startLineNumber,e.endLineNumber+1)}static joinMany(e){if(e.length===0)return[];let t=new al(e[0].slice());for(let i=1;i<e.length;i++)t=t.getUnion(new al(e[i].slice()));return t.ranges}static ofLength(e,t){return new Wh(e,e+t)}static deserialize(e){return new Wh(e[0],e[1])}constructor(e,t){if(e>t)throw new Hi(`startLineNumber ${e} cannot be after endLineNumberExclusive ${t}`);this.startLineNumber=e,this.endLineNumberExclusive=t}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new Wh(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new Wh(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new Wh(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(e){const t=Math.max(this.startLineNumber,e.startLineNumber),i=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(t<=i)return new Wh(t,i)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new D(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new D(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){const t=[];for(let i=this.startLineNumber;i<this.endLineNumberExclusive;i++)t.push(e(i));return t}forEach(e){for(let t=this.startLineNumber;t<this.endLineNumberExclusive;t++)e(t)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}toOffsetRange(){return new St(this.startLineNumber-1,this.endLineNumberExclusive-1)}};class al{constructor(e=[]){this._normalizedRanges=e}get ranges(){return this._normalizedRanges}addRange(e){if(e.length===0)return;const t=Wy(this._normalizedRanges,o=>o.endLineNumberExclusive>=e.startLineNumber),i=By(this._normalizedRanges,o=>o.startLineNumber<=e.endLineNumberExclusive)+1;if(t===i)this._normalizedRanges.splice(t,0,e);else if(t===i-1){const o=this._normalizedRanges[t];this._normalizedRanges[t]=o.join(e)}else{const o=this._normalizedRanges[t].join(this._normalizedRanges[i-1]).join(e);this._normalizedRanges.splice(t,i-t,o)}}contains(e){const t=T_(this._normalizedRanges,i=>i.startLineNumber<=e);return!!t&&t.endLineNumberExclusive>e}intersects(e){const t=T_(this._normalizedRanges,i=>i.startLineNumber<e.endLineNumberExclusive);return!!t&&t.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(this._normalizedRanges.length===0)return e;if(e._normalizedRanges.length===0)return this;const t=[];let i=0,o=0,r=null;for(;i<this._normalizedRanges.length||o<e._normalizedRanges.length;){let s=null;if(i<this._normalizedRanges.length&&o<e._normalizedRanges.length){const a=this._normalizedRanges[i],l=e._normalizedRanges[o];a.startLineNumber<l.startLineNumber?(s=a,i++):(s=l,o++)}else i<this._normalizedRanges.length?(s=this._normalizedRanges[i],i++):(s=e._normalizedRanges[o],o++);r===null?r=s:r.endLineNumberExclusive>=s.startLineNumber?r=new wt(r.startLineNumber,Math.max(r.endLineNumberExclusive,s.endLineNumberExclusive)):(t.push(r),r=s)}return r!==null&&t.push(r),new al(t)}subtractFrom(e){const t=Wy(this._normalizedRanges,s=>s.endLineNumberExclusive>=e.startLineNumber),i=By(this._normalizedRanges,s=>s.startLineNumber<=e.endLineNumberExclusive)+1;if(t===i)return new al([e]);const o=[];let r=e.startLineNumber;for(let s=t;s<i;s++){const a=this._normalizedRanges[s];a.startLineNumber>r&&o.push(new wt(r,a.startLineNumber)),r=a.endLineNumberExclusive}return r<e.endLineNumberExclusive&&o.push(new wt(r,e.endLineNumberExclusive)),new al(o)}toString(){return this._normalizedRanges.map(e=>e.toString()).join(", ")}getIntersection(e){const t=[];let i=0,o=0;for(;i<this._normalizedRanges.length&&o<e._normalizedRanges.length;){const r=this._normalizedRanges[i],s=e._normalizedRanges[o],a=r.intersect(s);a&&!a.isEmpty&&t.push(a),r.endLineNumberExclusive<s.endLineNumberExclusive?i++:o++}return new al(t)}getWithDelta(e){return new al(this._normalizedRanges.map(t=>t.delta(e)))}}class is{static inverse(e,t,i){const o=[];let r=1,s=1;for(const l of e){const c=new is(new wt(r,l.original.startLineNumber),new wt(s,l.modified.startLineNumber));c.modified.isEmpty||o.push(c),r=l.original.endLineNumberExclusive,s=l.modified.endLineNumberExclusive}const a=new is(new wt(r,t+1),new wt(s,i+1));return a.modified.isEmpty||o.push(a),o}static clip(e,t,i){const o=[];for(const r of e){const s=r.original.intersect(t),a=r.modified.intersect(i);s&&!s.isEmpty&&a&&!a.isEmpty&&o.push(new is(s,a))}return o}constructor(e,t){this.original=e,this.modified=t}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new is(this.modified,this.original)}join(e){return new is(this.original.join(e.original),this.modified.join(e.modified))}}class yc extends is{constructor(e,t,i){super(e,t),this.innerChanges=i}flip(){var e;return new yc(this.modified,this.original,(e=this.innerChanges)===null||e===void 0?void 0:e.map(t=>t.flip()))}}class sf{constructor(e,t){this.originalRange=e,this.modifiedRange=t}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new sf(this.modifiedRange,this.originalRange)}}const y0e=3;class w0e{computeDiff(e,t,i){var o;const s=new k0e(e,t,{maxComputationTime:i.maxComputationTimeMs,shouldIgnoreTrimWhitespace:i.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),a=[];let l=null;for(const c of s.changes){let d;c.originalEndLineNumber===0?d=new wt(c.originalStartLineNumber+1,c.originalStartLineNumber+1):d=new wt(c.originalStartLineNumber,c.originalEndLineNumber+1);let u;c.modifiedEndLineNumber===0?u=new wt(c.modifiedStartLineNumber+1,c.modifiedStartLineNumber+1):u=new wt(c.modifiedStartLineNumber,c.modifiedEndLineNumber+1);let h=new yc(d,u,(o=c.charChanges)===null||o===void 0?void 0:o.map(g=>new sf(new D(g.originalStartLineNumber,g.originalStartColumn,g.originalEndLineNumber,g.originalEndColumn),new D(g.modifiedStartLineNumber,g.modifiedStartColumn,g.modifiedEndLineNumber,g.modifiedEndColumn))));l&&(l.modified.endLineNumberExclusive===h.modified.startLineNumber||l.original.endLineNumberExclusive===h.original.startLineNumber)&&(h=new yc(l.original.join(h.original),l.modified.join(h.modified),l.innerChanges&&h.innerChanges?l.innerChanges.concat(h.innerChanges):void 0),a.pop()),a.push(h),l=h}return L_(()=>dJ(a,(c,d)=>d.original.startLineNumber-c.original.endLineNumberExclusive===d.modified.startLineNumber-c.modified.endLineNumberExclusive&&c.original.endLineNumberExclusive<d.original.startLineNumber&&c.modified.endLineNumberExclusive<d.modified.startLineNumber)),new DL(a,[],s.quitEarly)}}function AJ(n,e,t,i){return new sd(n,e,t).ComputeDiff(i)}let nU=class{constructor(e){const t=[],i=[];for(let o=0,r=e.length;o<r;o++)t[o]=o4(e[o],1),i[o]=r4(e[o],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const o=[],r=[],s=[];let a=0;for(let l=t;l<=i;l++){const c=this.lines[l],d=e?this._startColumns[l]:1,u=e?this._endColumns[l]:c.length+1;for(let h=d;h<u;h++)o[a]=c.charCodeAt(h-1),r[a]=l+1,s[a]=h,a++;!e&&l<i&&(o[a]=10,r[a]=l+1,s[a]=c.length+1,a++)}return new S0e(o,r,s)}};class S0e{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}toString(){return"["+this._charCodes.map((e,t)=>(e===10?"\\n":String.fromCharCode(e))+`-(${this._lineNumbers[t]},${this._columns[t]})`).join(", ")+"]"}_assertIndex(e,t){if(e<0||e>=t.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(e){return e>0&&e===this._lineNumbers.length?this.getEndLineNumber(e-1):(this._assertIndex(e,this._lineNumbers),this._lineNumbers[e])}getEndLineNumber(e){return e===-1?this.getStartLineNumber(e+1):(this._assertIndex(e,this._lineNumbers),this._charCodes[e]===10?this._lineNumbers[e]+1:this._lineNumbers[e])}getStartColumn(e){return e>0&&e===this._columns.length?this.getEndColumn(e-1):(this._assertIndex(e,this._columns),this._columns[e])}getEndColumn(e){return e===-1?this.getStartColumn(e+1):(this._assertIndex(e,this._columns),this._charCodes[e]===10?1:this._columns[e]+1)}}class Vb{constructor(e,t,i,o,r,s,a,l){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=o,this.modifiedStartLineNumber=r,this.modifiedStartColumn=s,this.modifiedEndLineNumber=a,this.modifiedEndColumn=l}static createFromDiffChange(e,t,i){const o=t.getStartLineNumber(e.originalStart),r=t.getStartColumn(e.originalStart),s=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1),l=i.getStartLineNumber(e.modifiedStart),c=i.getStartColumn(e.modifiedStart),d=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),u=i.getEndColumn(e.modifiedStart+e.modifiedLength-1);return new Vb(o,r,s,a,l,c,d,u)}}function x0e(n){if(n.length<=1)return n;const e=[n[0]];let t=e[0];for(let i=1,o=n.length;i<o;i++){const r=n[i],s=r.originalStart-(t.originalStart+t.originalLength),a=r.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(s,a)<y0e?(t.originalLength=r.originalStart+r.originalLength-t.originalStart,t.modifiedLength=r.modifiedStart+r.modifiedLength-t.modifiedStart):(e.push(r),t=r)}return e}class SC{constructor(e,t,i,o,r){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=o,this.charChanges=r}static createFromDiffResult(e,t,i,o,r,s,a){let l,c,d,u,h;if(t.originalLength===0?(l=i.getStartLineNumber(t.originalStart)-1,c=0):(l=i.getStartLineNumber(t.originalStart),c=i.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(d=o.getStartLineNumber(t.modifiedStart)-1,u=0):(d=o.getStartLineNumber(t.modifiedStart),u=o.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),s&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&r()){const g=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),f=o.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);if(g.getElements().length>0&&f.getElements().length>0){let p=AJ(g,f,r,!0).changes;a&&(p=x0e(p)),h=[];for(let b=0,v=p.length;b<v;b++)h.push(Vb.createFromDiffChange(p[b],g,f))}}return new SC(l,c,d,u,h)}}class k0e{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new nU(e),this.modified=new nU(t),this.continueLineDiff=oU(i.maxComputationTime),this.continueCharDiff=oU(i.maxComputationTime===0?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const e=AJ(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const a=[];for(let l=0,c=t.length;l<c;l++)a.push(SC.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[l],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:a}}const o=[];let r=0,s=0;for(let a=-1,l=t.length;a<l;a++){const c=a+1<l?t[a+1]:null,d=c?c.originalStart:this.originalLines.length,u=c?c.modifiedStart:this.modifiedLines.length;for(;r<d&&s<u;){const h=this.originalLines[r],g=this.modifiedLines[s];if(h!==g){{let f=o4(h,1),p=o4(g,1);for(;f>1&&p>1;){const b=h.charCodeAt(f-2),v=g.charCodeAt(p-2);if(b!==v)break;f--,p--}(f>1||p>1)&&this._pushTrimWhitespaceCharChange(o,r+1,1,f,s+1,1,p)}{let f=r4(h,1),p=r4(g,1);const b=h.length+1,v=g.length+1;for(;f<b&&p<v;){const _=h.charCodeAt(f-1),C=h.charCodeAt(p-1);if(_!==C)break;f++,p++}(f<b||p<v)&&this._pushTrimWhitespaceCharChange(o,r+1,f,b,s+1,p,v)}}r++,s++}c&&(o.push(SC.createFromDiffResult(this.shouldIgnoreTrimWhitespace,c,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),r+=c.originalLength,s+=c.modifiedLength)}return{quitEarly:i,changes:o}}_pushTrimWhitespaceCharChange(e,t,i,o,r,s,a){if(this._mergeTrimWhitespaceCharChange(e,t,i,o,r,s,a))return;let l;this.shouldComputeCharChanges&&(l=[new Vb(t,i,t,o,r,s,r,a)]),e.push(new SC(t,t,r,r,l))}_mergeTrimWhitespaceCharChange(e,t,i,o,r,s,a){const l=e.length;if(l===0)return!1;const c=e[l-1];return c.originalEndLineNumber===0||c.modifiedEndLineNumber===0?!1:c.originalEndLineNumber===t&&c.modifiedEndLineNumber===r?(this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new Vb(t,i,t,o,r,s,r,a)),!0):c.originalEndLineNumber+1===t&&c.modifiedEndLineNumber+1===r?(c.originalEndLineNumber=t,c.modifiedEndLineNumber=r,this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new Vb(t,i,t,o,r,s,r,a)),!0):!1}}function o4(n,e){const t=hr(n);return t===-1?e:t+1}function r4(n,e){const t=hc(n);return t===-1?e:t+2}function oU(n){if(n===0)return()=>!0;const e=Date.now();return()=>Date.now()-e<n}class Zu{static trivial(e,t){return new Zu([new eo(St.ofLength(e.length),St.ofLength(t.length))],!1)}static trivialTimedOut(e,t){return new Zu([new eo(St.ofLength(e.length),St.ofLength(t.length))],!0)}constructor(e,t){this.diffs=e,this.hitTimeout=t}}class eo{static invert(e,t){const i=[];return GX(e,(o,r)=>{i.push(eo.fromOffsetPairs(o?o.getEndExclusives():La.zero,r?r.getStarts():new La(t,(o?o.seq2Range.endExclusive-o.seq1Range.endExclusive:0)+t)))}),i}static fromOffsetPairs(e,t){return new eo(new St(e.offset1,t.offset1),new St(e.offset2,t.offset2))}constructor(e,t){this.seq1Range=e,this.seq2Range=t}swap(){return new eo(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(e){return new eo(this.seq1Range.join(e.seq1Range),this.seq2Range.join(e.seq2Range))}delta(e){return e===0?this:new eo(this.seq1Range.delta(e),this.seq2Range.delta(e))}deltaStart(e){return e===0?this:new eo(this.seq1Range.deltaStart(e),this.seq2Range.deltaStart(e))}deltaEnd(e){return e===0?this:new eo(this.seq1Range.deltaEnd(e),this.seq2Range.deltaEnd(e))}intersect(e){const t=this.seq1Range.intersect(e.seq1Range),i=this.seq2Range.intersect(e.seq2Range);if(!(!t||!i))return new eo(t,i)}getStarts(){return new La(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new La(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class La{constructor(e,t){this.offset1=e,this.offset2=t}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(e){return e===0?this:new La(this.offset1+e,this.offset2+e)}equals(e){return this.offset1===e.offset1&&this.offset2===e.offset2}}La.zero=new La(0,0);La.max=new La(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class Vy{isValid(){return!0}}Vy.instance=new Vy;class L0e{constructor(e){if(this.timeout=e,this.startTime=Date.now(),this.valid=!0,e<=0)throw new Hi("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}class gM{constructor(e,t){this.width=e,this.height=t,this.array=[],this.array=new Array(e*t)}get(e,t){return this.array[e+t*this.width]}set(e,t,i){this.array[e+t*this.width]=i}}function s4(n){return n===32||n===9}class I_{static getKey(e){let t=this.chrKeys.get(e);return t===void 0&&(t=this.chrKeys.size,this.chrKeys.set(e,t)),t}constructor(e,t,i){this.range=e,this.lines=t,this.source=i,this.histogram=[];let o=0;for(let r=e.startLineNumber-1;r<e.endLineNumberExclusive-1;r++){const s=t[r];for(let l=0;l<s.length;l++){o++;const c=s[l],d=I_.getKey(c);this.histogram[d]=(this.histogram[d]||0)+1}o++;const a=I_.getKey(`
`);this.histogram[a]=(this.histogram[a]||0)+1}this.totalCount=o}computeSimilarity(e){var t,i;let o=0;const r=Math.max(this.histogram.length,e.histogram.length);for(let s=0;s<r;s++)o+=Math.abs(((t=this.histogram[s])!==null&&t!==void 0?t:0)-((i=e.histogram[s])!==null&&i!==void 0?i:0));return 1-o/(this.totalCount+e.totalCount)}}I_.chrKeys=new Map;class D0e{compute(e,t,i=Vy.instance,o){if(e.length===0||t.length===0)return Zu.trivial(e,t);const r=new gM(e.length,t.length),s=new gM(e.length,t.length),a=new gM(e.length,t.length);for(let f=0;f<e.length;f++)for(let p=0;p<t.length;p++){if(!i.isValid())return Zu.trivialTimedOut(e,t);const b=f===0?0:r.get(f-1,p),v=p===0?0:r.get(f,p-1);let _;e.getElement(f)===t.getElement(p)?(f===0||p===0?_=0:_=r.get(f-1,p-1),f>0&&p>0&&s.get(f-1,p-1)===3&&(_+=a.get(f-1,p-1)),_+=o?o(f,p):1):_=-1;const C=Math.max(b,v,_);if(C===_){const y=f>0&&p>0?a.get(f-1,p-1):0;a.set(f,p,y+1),s.set(f,p,3)}else C===b?(a.set(f,p,0),s.set(f,p,1)):C===v&&(a.set(f,p,0),s.set(f,p,2));r.set(f,p,C)}const l=[];let c=e.length,d=t.length;function u(f,p){(f+1!==c||p+1!==d)&&l.push(new eo(new St(f+1,c),new St(p+1,d))),c=f,d=p}let h=e.length-1,g=t.length-1;for(;h>=0&&g>=0;)s.get(h,g)===3?(u(h,g),h--,g--):s.get(h,g)===1?h--:g--;return u(-1,-1),l.reverse(),new Zu(l,!1)}}class PJ{compute(e,t,i=Vy.instance){if(e.length===0||t.length===0)return Zu.trivial(e,t);const o=e,r=t;function s(p,b){for(;p<o.length&&b<r.length&&o.getElement(p)===r.getElement(b);)p++,b++;return p}let a=0;const l=new E0e;l.set(0,s(0,0));const c=new T0e;c.set(0,l.get(0)===0?null:new rU(null,0,0,l.get(0)));let d=0;e:for(;;){if(a++,!i.isValid())return Zu.trivialTimedOut(o,r);const p=-Math.min(a,r.length+a%2),b=Math.min(a,o.length+a%2);for(d=p;d<=b;d+=2){const v=d===b?-1:l.get(d+1),_=d===p?-1:l.get(d-1)+1,C=Math.min(Math.max(v,_),o.length),y=C-d;if(C>o.length||y>r.length)continue;const w=s(C,y);l.set(d,w);const S=C===v?c.get(d+1):c.get(d-1);if(c.set(d,w!==C?new rU(S,C,y,w-C):S),l.get(d)===o.length&&l.get(d)-d===r.length)break e}}let u=c.get(d);const h=[];let g=o.length,f=r.length;for(;;){const p=u?u.x+u.length:0,b=u?u.y+u.length:0;if((p!==g||b!==f)&&h.push(new eo(new St(p,g),new St(b,f))),!u)break;g=u.x,f=u.y,u=u.prev}return h.reverse(),new Zu(h,!1)}}class rU{constructor(e,t,i,o){this.prev=e,this.x=t,this.y=i,this.length=o}}class E0e{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){if(e<0){if(e=-e-1,e>=this.negativeArr.length){const i=this.negativeArr;this.negativeArr=new Int32Array(i.length*2),this.negativeArr.set(i)}this.negativeArr[e]=t}else{if(e>=this.positiveArr.length){const i=this.positiveArr;this.positiveArr=new Int32Array(i.length*2),this.positiveArr.set(i)}this.positiveArr[e]=t}}}class T0e{constructor(){this.positiveArr=[],this.negativeArr=[]}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){e<0?(e=-e-1,this.negativeArr[e]=t):this.positiveArr[e]=t}}var sU,aU;class I0e{constructor(e,t){this.uri=e,this.value=t}}function N0e(n){return Array.isArray(n)}class Cn{constructor(e,t){if(this[sU]="ResourceMap",e instanceof Cn)this.map=new Map(e.map),this.toKey=t??Cn.defaultToKey;else if(N0e(e)){this.map=new Map,this.toKey=t??Cn.defaultToKey;for(const[i,o]of e)this.set(i,o)}else this.map=new Map,this.toKey=e??Cn.defaultToKey}set(e,t){return this.map.set(this.toKey(e),new I0e(e,t)),this}get(e){var t;return(t=this.map.get(this.toKey(e)))===null||t===void 0?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){typeof t<"u"&&(e=e.bind(t));for(const[i,o]of this.map)e(o.value,o.uri,this)}*values(){for(const e of this.map.values())yield e.value}*keys(){for(const e of this.map.values())yield e.uri}*entries(){for(const e of this.map.values())yield[e.uri,e.value]}*[(sU=Symbol.toStringTag,Symbol.iterator)](){for(const[,e]of this.map)yield[e.uri,e.value]}}Cn.defaultToKey=n=>n.toString();class R0e{constructor(){this[aU]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let o=this._map.get(e);if(o)o.value=t,i!==0&&this.touch(o,i);else{switch(o={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(o);break;case 1:this.addItemFirst(o);break;case 2:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let o=this._head;for(;o;){if(t?e.bind(t)(o.value,o.key,this):e(o.value,o.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){const e=this,t=this._state;let i=this._head;const o={[Symbol.iterator](){return o},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const r={value:i.key,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return o}values(){const e=this,t=this._state;let i=this._head;const o={[Symbol.iterator](){return o},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const r={value:i.value,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return o}entries(){const e=this,t=this._state;let i=this._head;const o={[Symbol.iterator](){return o},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const r={value:[i.key,i.value],done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return o}[(aU=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;const i=e.next,o=e.previous;e===this._tail?(o.next=void 0,this._tail=o):(i.previous=o,o.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;const i=e.next,o=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=o,o.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class Af extends R0e{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}class M0e{constructor(e){if(this._m1=new Map,this._m2=new Map,e)for(const[t,i]of e)this.set(t,i)}clear(){this._m1.clear(),this._m2.clear()}set(e,t){this._m1.set(e,t),this._m2.set(t,e)}get(e){return this._m1.get(e)}getKey(e){return this._m2.get(e)}delete(e){const t=this._m1.get(e);return t===void 0?!1:(this._m1.delete(e),this._m2.delete(t),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class f6{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}get(e){const t=this.map.get(e);return t||new Set}}class l2{constructor(e,t,i){this.lines=e,this.considerWhitespaceChanges=i,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let o=!1;t.start>0&&t.endExclusive>=e.length&&(t=new St(t.start-1,t.endExclusive),o=!0),this.lineRange=t,this.firstCharOffsetByLine[0]=0;for(let r=this.lineRange.start;r<this.lineRange.endExclusive;r++){let s=e[r],a=0;if(o)a=s.length,s="",o=!1;else if(!i){const l=s.trimStart();a=s.length-l.length,s=l.trimEnd()}this.additionalOffsetByLine.push(a);for(let l=0;l<s.length;l++)this.elements.push(s.charCodeAt(l));r<e.length-1&&(this.elements.push(10),this.firstCharOffsetByLine[r-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new St(0,this.length))}getText(e){return this.elements.slice(e.start,e.endExclusive).map(t=>String.fromCharCode(t)).join("")}getElement(e){return this.elements[e]}get length(){return this.elements.length}getBoundaryScore(e){const t=cU(e>0?this.elements[e-1]:-1),i=cU(e<this.elements.length?this.elements[e]:-1);if(t===7&&i===8)return 0;if(t===8)return 150;let o=0;return t!==i&&(o+=10,t===0&&i===1&&(o+=1)),o+=lU(t),o+=lU(i),o}translateOffset(e){if(this.lineRange.isEmpty)return new W(this.lineRange.start+1,1);const t=By(this.firstCharOffsetByLine,i=>i<=e);return new W(this.lineRange.start+t+1,e-this.firstCharOffsetByLine[t]+this.additionalOffsetByLine[t]+1)}translateRange(e){return D.fromPositions(this.translateOffset(e.start),this.translateOffset(e.endExclusive))}findWordContaining(e){if(e<0||e>=this.elements.length||!fM(this.elements[e]))return;let t=e;for(;t>0&&fM(this.elements[t-1]);)t--;let i=e;for(;i<this.elements.length&&fM(this.elements[i]);)i++;return new St(t,i)}countLinesIn(e){return this.translateOffset(e.endExclusive).lineNumber-this.translateOffset(e.start).lineNumber}isStronglyEqual(e,t){return this.elements[e]===this.elements[t]}extendToFullLines(e){var t,i;const o=(t=T_(this.firstCharOffsetByLine,s=>s<=e.start))!==null&&t!==void 0?t:0,r=(i=m0e(this.firstCharOffsetByLine,s=>e.endExclusive<=s))!==null&&i!==void 0?i:this.elements.length;return new St(o,r)}}function fM(n){return n>=97&&n<=122||n>=65&&n<=90||n>=48&&n<=57}const A0e={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function lU(n){return A0e[n]}function cU(n){return n===10?8:n===13?7:s4(n)?6:n>=97&&n<=122?0:n>=65&&n<=90?1:n>=48&&n<=57?2:n===-1?3:n===44||n===59?5:4}function P0e(n,e,t,i,o,r){let{moves:s,excludedChanges:a}=F0e(n,e,t,r);if(!r.isValid())return[];const l=n.filter(d=>!a.has(d)),c=B0e(l,i,o,e,t,r);return HO(s,c),s=W0e(s),s=s.filter(d=>{const u=d.original.toOffsetRange().slice(e).map(g=>g.trim());return u.join(`
`).length>=15&&O0e(u,g=>g.length>=2)>=2}),s=V0e(n,s),s}function O0e(n,e){let t=0;for(const i of n)e(i)&&t++;return t}function F0e(n,e,t,i){const o=[],r=n.filter(l=>l.modified.isEmpty&&l.original.length>=3).map(l=>new I_(l.original,e,l)),s=new Set(n.filter(l=>l.original.isEmpty&&l.modified.length>=3).map(l=>new I_(l.modified,t,l))),a=new Set;for(const l of r){let c=-1,d;for(const u of s){const h=l.computeSimilarity(u);h>c&&(c=h,d=u)}if(c>.9&&d&&(s.delete(d),o.push(new is(l.range,d.range)),a.add(l.source),a.add(d.source)),!i.isValid())return{moves:o,excludedChanges:a}}return{moves:o,excludedChanges:a}}function B0e(n,e,t,i,o,r){const s=[],a=new f6;for(const h of n)for(let g=h.original.startLineNumber;g<h.original.endLineNumberExclusive-2;g++){const f=`${e[g-1]}:${e[g+1-1]}:${e[g+2-1]}`;a.add(f,{range:new wt(g,g+3)})}const l=[];n.sort(Na(h=>h.modified.startLineNumber,ju));for(const h of n){let g=[];for(let f=h.modified.startLineNumber;f<h.modified.endLineNumberExclusive-2;f++){const p=`${t[f-1]}:${t[f+1-1]}:${t[f+2-1]}`,b=new wt(f,f+3),v=[];a.forEach(p,({range:_})=>{for(const y of g)if(y.originalLineRange.endLineNumberExclusive+1===_.endLineNumberExclusive&&y.modifiedLineRange.endLineNumberExclusive+1===b.endLineNumberExclusive){y.originalLineRange=new wt(y.originalLineRange.startLineNumber,_.endLineNumberExclusive),y.modifiedLineRange=new wt(y.modifiedLineRange.startLineNumber,b.endLineNumberExclusive),v.push(y);return}const C={modifiedLineRange:b,originalLineRange:_};l.push(C),v.push(C)}),g=v}if(!r.isValid())return[]}l.sort(XX(Na(h=>h.modifiedLineRange.length,ju)));const c=new al,d=new al;for(const h of l){const g=h.modifiedLineRange.startLineNumber-h.originalLineRange.startLineNumber,f=c.subtractFrom(h.modifiedLineRange),p=d.subtractFrom(h.originalLineRange).getWithDelta(g),b=f.getIntersection(p);for(const v of b.ranges){if(v.length<3)continue;const _=v,C=v.delta(-g);s.push(new is(C,_)),c.addRange(_),d.addRange(C)}}s.sort(Na(h=>h.original.startLineNumber,ju));const u=new xS(n);for(let h=0;h<s.length;h++){const g=s[h],f=u.findLastMonotonous(S=>S.original.startLineNumber<=g.original.startLineNumber),p=T_(n,S=>S.modified.startLineNumber<=g.modified.startLineNumber),b=Math.max(g.original.startLineNumber-f.original.startLineNumber,g.modified.startLineNumber-p.modified.startLineNumber),v=u.findLastMonotonous(S=>S.original.startLineNumber<g.original.endLineNumberExclusive),_=T_(n,S=>S.modified.startLineNumber<g.modified.endLineNumberExclusive),C=Math.max(v.original.endLineNumberExclusive-g.original.endLineNumberExclusive,_.modified.endLineNumberExclusive-g.modified.endLineNumberExclusive);let y;for(y=0;y<b;y++){const S=g.original.startLineNumber-y-1,x=g.modified.startLineNumber-y-1;if(S>i.length||x>o.length||c.contains(x)||d.contains(S)||!dU(i[S-1],o[x-1],r))break}y>0&&(d.addRange(new wt(g.original.startLineNumber-y,g.original.startLineNumber)),c.addRange(new wt(g.modified.startLineNumber-y,g.modified.startLineNumber)));let w;for(w=0;w<C;w++){const S=g.original.endLineNumberExclusive+w,x=g.modified.endLineNumberExclusive+w;if(S>i.length||x>o.length||c.contains(x)||d.contains(S)||!dU(i[S-1],o[x-1],r))break}w>0&&(d.addRange(new wt(g.original.endLineNumberExclusive,g.original.endLineNumberExclusive+w)),c.addRange(new wt(g.modified.endLineNumberExclusive,g.modified.endLineNumberExclusive+w))),(y>0||w>0)&&(s[h]=new is(new wt(g.original.startLineNumber-y,g.original.endLineNumberExclusive+w),new wt(g.modified.startLineNumber-y,g.modified.endLineNumberExclusive+w)))}return s}function dU(n,e,t){if(n.trim()===e.trim())return!0;if(n.length>300&&e.length>300)return!1;const o=new PJ().compute(new l2([n],new St(0,1),!1),new l2([e],new St(0,1),!1),t);let r=0;const s=eo.invert(o.diffs,n.length);for(const d of s)d.seq1Range.forEach(u=>{s4(n.charCodeAt(u))||r++});function a(d){let u=0;for(let h=0;h<n.length;h++)s4(d.charCodeAt(h))||u++;return u}const l=a(n.length>e.length?n:e);return r/l>.6&&l>10}function W0e(n){if(n.length===0)return n;n.sort(Na(t=>t.original.startLineNumber,ju));const e=[n[0]];for(let t=1;t<n.length;t++){const i=e[e.length-1],o=n[t],r=o.original.startLineNumber-i.original.endLineNumberExclusive,s=o.modified.startLineNumber-i.modified.endLineNumberExclusive;if(r>=0&&s>=0&&r+s<=2){e[e.length-1]=i.join(o);continue}e.push(o)}return e}function V0e(n,e){const t=new xS(n);return e=e.filter(i=>{const o=t.findLastMonotonous(a=>a.original.startLineNumber<i.original.endLineNumberExclusive)||new is(new wt(1,1),new wt(1,1)),r=T_(n,a=>a.modified.startLineNumber<i.modified.endLineNumberExclusive);return o!==r}),e}function a4(n,e,t){let i=t;return i=uU(n,e,i),i=uU(n,e,i),i=H0e(n,e,i),i}function uU(n,e,t){if(t.length===0)return t;const i=[];i.push(t[0]);for(let r=1;r<t.length;r++){const s=i[i.length-1];let a=t[r];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const l=a.seq1Range.start-s.seq1Range.endExclusive;let c;for(c=1;c<=l&&!(n.getElement(a.seq1Range.start-c)!==n.getElement(a.seq1Range.endExclusive-c)||e.getElement(a.seq2Range.start-c)!==e.getElement(a.seq2Range.endExclusive-c));c++);if(c--,c===l){i[i.length-1]=new eo(new St(s.seq1Range.start,a.seq1Range.endExclusive-l),new St(s.seq2Range.start,a.seq2Range.endExclusive-l));continue}a=a.delta(-c)}i.push(a)}const o=[];for(let r=0;r<i.length-1;r++){const s=i[r+1];let a=i[r];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const l=s.seq1Range.start-a.seq1Range.endExclusive;let c;for(c=0;c<l&&!(!n.isStronglyEqual(a.seq1Range.start+c,a.seq1Range.endExclusive+c)||!e.isStronglyEqual(a.seq2Range.start+c,a.seq2Range.endExclusive+c));c++);if(c===l){i[r+1]=new eo(new St(a.seq1Range.start+l,s.seq1Range.endExclusive),new St(a.seq2Range.start+l,s.seq2Range.endExclusive));continue}c>0&&(a=a.delta(c))}o.push(a)}return i.length>0&&o.push(i[i.length-1]),o}function H0e(n,e,t){if(!n.getBoundaryScore||!e.getBoundaryScore)return t;for(let i=0;i<t.length;i++){const o=i>0?t[i-1]:void 0,r=t[i],s=i+1<t.length?t[i+1]:void 0,a=new St(o?o.seq1Range.endExclusive+1:0,s?s.seq1Range.start-1:n.length),l=new St(o?o.seq2Range.endExclusive+1:0,s?s.seq2Range.start-1:e.length);r.seq1Range.isEmpty?t[i]=hU(r,n,e,a,l):r.seq2Range.isEmpty&&(t[i]=hU(r.swap(),e,n,l,a).swap())}return t}function hU(n,e,t,i,o){let s=1;for(;n.seq1Range.start-s>=i.start&&n.seq2Range.start-s>=o.start&&t.isStronglyEqual(n.seq2Range.start-s,n.seq2Range.endExclusive-s)&&s<100;)s++;s--;let a=0;for(;n.seq1Range.start+a<i.endExclusive&&n.seq2Range.endExclusive+a<o.endExclusive&&t.isStronglyEqual(n.seq2Range.start+a,n.seq2Range.endExclusive+a)&&a<100;)a++;if(s===0&&a===0)return n;let l=0,c=-1;for(let d=-s;d<=a;d++){const u=n.seq2Range.start+d,h=n.seq2Range.endExclusive+d,g=n.seq1Range.start+d,f=e.getBoundaryScore(g)+t.getBoundaryScore(u)+t.getBoundaryScore(h);f>c&&(c=f,l=d)}return n.delta(l)}function z0e(n,e,t){const i=[];for(const o of t){const r=i[i.length-1];if(!r){i.push(o);continue}o.seq1Range.start-r.seq1Range.endExclusive<=2||o.seq2Range.start-r.seq2Range.endExclusive<=2?i[i.length-1]=new eo(r.seq1Range.join(o.seq1Range),r.seq2Range.join(o.seq2Range)):i.push(o)}return i}function U0e(n,e,t){const i=eo.invert(t,n.length),o=[];let r=new La(0,0);function s(l,c){if(l.offset1<r.offset1||l.offset2<r.offset2)return;const d=n.findWordContaining(l.offset1),u=e.findWordContaining(l.offset2);if(!d||!u)return;let h=new eo(d,u);const g=h.intersect(c);let f=g.seq1Range.length,p=g.seq2Range.length;for(;i.length>0;){const b=i[0];if(!(b.seq1Range.intersects(d)||b.seq2Range.intersects(u)))break;const _=n.findWordContaining(b.seq1Range.start),C=e.findWordContaining(b.seq2Range.start),y=new eo(_,C),w=y.intersect(b);if(f+=w.seq1Range.length,p+=w.seq2Range.length,h=h.join(y),h.seq1Range.endExclusive>=b.seq1Range.endExclusive)i.shift();else break}f+p<(h.seq1Range.length+h.seq2Range.length)*2/3&&o.push(h),r=h.getEndExclusives()}for(;i.length>0;){const l=i.shift();l.seq1Range.isEmpty||(s(l.getStarts(),l),s(l.getEndExclusives().delta(-1),l))}return $0e(t,o)}function $0e(n,e){const t=[];for(;n.length>0||e.length>0;){const i=n[0],o=e[0];let r;i&&(!o||i.seq1Range.start<o.seq1Range.start)?r=n.shift():r=e.shift(),t.length>0&&t[t.length-1].seq1Range.endExclusive>=r.seq1Range.start?t[t.length-1]=t[t.length-1].join(r):t.push(r)}return t}function j0e(n,e,t){let i=t;if(i.length===0)return i;let o=0,r;do{r=!1;const s=[i[0]];for(let a=1;a<i.length;a++){let d=function(h,g){const f=new St(c.seq1Range.endExclusive,l.seq1Range.start);return n.getText(f).replace(/\s/g,"").length<=4&&(h.seq1Range.length+h.seq2Range.length>5||g.seq1Range.length+g.seq2Range.length>5)};const l=i[a],c=s[s.length-1];d(c,l)?(r=!0,s[s.length-1]=s[s.length-1].join(l)):s.push(l)}i=s}while(o++<10&&r);return i}function K0e(n,e,t){let i=t;if(i.length===0)return i;let o=0,r;do{r=!1;const a=[i[0]];for(let l=1;l<i.length;l++){let u=function(g,f){const p=new St(d.seq1Range.endExclusive,c.seq1Range.start);if(n.countLinesIn(p)>5||p.length>500)return!1;const v=n.getText(p).trim();if(v.length>20||v.split(/\r\n|\r|\n/).length>1)return!1;const _=n.countLinesIn(g.seq1Range),C=g.seq1Range.length,y=e.countLinesIn(g.seq2Range),w=g.seq2Range.length,S=n.countLinesIn(f.seq1Range),x=f.seq1Range.length,L=e.countLinesIn(f.seq2Range),E=f.seq2Range.length,O=2*40+50;function P(A){return Math.min(A,O)}return Math.pow(Math.pow(P(_*40+C),1.5)+Math.pow(P(y*40+w),1.5),1.5)+Math.pow(Math.pow(P(S*40+x),1.5)+Math.pow(P(L*40+E),1.5),1.5)>(O**1.5)**1.5*1.3};const c=i[l],d=a[a.length-1];u(d,c)?(r=!0,a[a.length-1]=a[a.length-1].join(c)):a.push(c)}i=a}while(o++<10&&r);const s=[];return $fe(i,(a,l,c)=>{let d=l;function u(v){return v.length>0&&v.trim().length<=3&&l.seq1Range.length+l.seq2Range.length>100}const h=n.extendToFullLines(l.seq1Range),g=n.getText(new St(h.start,l.seq1Range.start));u(g)&&(d=d.deltaStart(-g.length));const f=n.getText(new St(l.seq1Range.endExclusive,h.endExclusive));u(f)&&(d=d.deltaEnd(f.length));const p=eo.fromOffsetPairs(a?a.getEndExclusives():La.zero,c?c.getStarts():La.max),b=d.intersect(p);s.length>0&&b.getStarts().equals(s[s.length-1].getEndExclusives())?s[s.length-1]=s[s.length-1].join(b):s.push(b)}),s}class gU{constructor(e,t){this.trimmedHash=e,this.lines=t}getElement(e){return this.trimmedHash[e]}get length(){return this.trimmedHash.length}getBoundaryScore(e){const t=e===0?0:fU(this.lines[e-1]),i=e===this.lines.length?0:fU(this.lines[e]);return 1e3-(t+i)}getText(e){return this.lines.slice(e.start,e.endExclusive).join(`
`)}isStronglyEqual(e,t){return this.lines[e]===this.lines[t]}}function fU(n){let e=0;for(;e<n.length&&(n.charCodeAt(e)===32||n.charCodeAt(e)===9);)e++;return e}class OJ{constructor(){this.dynamicProgrammingDiffing=new D0e,this.myersDiffingAlgorithm=new PJ}computeDiff(e,t,i){if(e.length<=1&&en(e,t,(w,S)=>w===S))return new DL([],[],!1);if(e.length===1&&e[0].length===0||t.length===1&&t[0].length===0)return new DL([new yc(new wt(1,e.length+1),new wt(1,t.length+1),[new sf(new D(1,1,e.length,e[0].length+1),new D(1,1,t.length,t[0].length+1))])],[],!1);const o=i.maxComputationTimeMs===0?Vy.instance:new L0e(i.maxComputationTimeMs),r=!i.ignoreTrimWhitespace,s=new Map;function a(w){let S=s.get(w);return S===void 0&&(S=s.size,s.set(w,S)),S}const l=e.map(w=>a(w.trim())),c=t.map(w=>a(w.trim())),d=new gU(l,e),u=new gU(c,t),h=d.length+u.length<1700?this.dynamicProgrammingDiffing.compute(d,u,o,(w,S)=>e[w]===t[S]?t[S].length===0?.1:1+Math.log(1+t[S].length):.99):this.myersDiffingAlgorithm.compute(d,u);let g=h.diffs,f=h.hitTimeout;g=a4(d,u,g),g=j0e(d,u,g);const p=[],b=w=>{if(r)for(let S=0;S<w;S++){const x=v+S,L=_+S;if(e[x]!==t[L]){const E=this.refineDiff(e,t,new eo(new St(x,x+1),new St(L,L+1)),o,r);for(const O of E.mappings)p.push(O);E.hitTimeout&&(f=!0)}}};let v=0,_=0;for(const w of g){L_(()=>w.seq1Range.start-v===w.seq2Range.start-_);const S=w.seq1Range.start-v;b(S),v=w.seq1Range.endExclusive,_=w.seq2Range.endExclusive;const x=this.refineDiff(e,t,w,o,r);x.hitTimeout&&(f=!0);for(const L of x.mappings)p.push(L)}b(e.length-v);const C=pU(p,e,t);let y=[];return i.computeMoves&&(y=this.computeMoves(C,e,t,l,c,o,r)),L_(()=>{function w(x,L){if(x.lineNumber<1||x.lineNumber>L.length)return!1;const E=L[x.lineNumber-1];return!(x.column<1||x.column>E.length+1)}function S(x,L){return!(x.startLineNumber<1||x.startLineNumber>L.length+1||x.endLineNumberExclusive<1||x.endLineNumberExclusive>L.length+1)}for(const x of C){if(!x.innerChanges)return!1;for(const L of x.innerChanges)if(!(w(L.modifiedRange.getStartPosition(),t)&&w(L.modifiedRange.getEndPosition(),t)&&w(L.originalRange.getStartPosition(),e)&&w(L.originalRange.getEndPosition(),e)))return!1;if(!S(x.modified,t)||!S(x.original,e))return!1}return!0}),new DL(C,y,f)}computeMoves(e,t,i,o,r,s,a){return P0e(e,t,i,o,r,s).map(d=>{const u=this.refineDiff(t,i,new eo(d.original.toOffsetRange(),d.modified.toOffsetRange()),s,a),h=pU(u.mappings,t,i,!0);return new MJ(d,h)})}refineDiff(e,t,i,o,r){const s=new l2(e,i.seq1Range,r),a=new l2(t,i.seq2Range,r),l=s.length+a.length<500?this.dynamicProgrammingDiffing.compute(s,a,o):this.myersDiffingAlgorithm.compute(s,a,o);let c=l.diffs;return c=a4(s,a,c),c=U0e(s,a,c),c=z0e(s,a,c),c=K0e(s,a,c),{mappings:c.map(u=>new sf(s.translateRange(u.seq1Range),a.translateRange(u.seq2Range))),hitTimeout:l.hitTimeout}}}function pU(n,e,t,i=!1){const o=[];for(const r of D8(n.map(s=>q0e(s,e,t)),(s,a)=>s.original.overlapOrTouch(a.original)||s.modified.overlapOrTouch(a.modified))){const s=r[0],a=r[r.length-1];o.push(new yc(s.original.join(a.original),s.modified.join(a.modified),r.map(l=>l.innerChanges[0])))}return L_(()=>!i&&o.length>0&&o[0].original.startLineNumber!==o[0].modified.startLineNumber?!1:dJ(o,(r,s)=>s.original.startLineNumber-r.original.endLineNumberExclusive===s.modified.startLineNumber-r.modified.endLineNumberExclusive&&r.original.endLineNumberExclusive<s.original.startLineNumber&&r.modified.endLineNumberExclusive<s.modified.startLineNumber)),o}function q0e(n,e,t){let i=0,o=0;n.modifiedRange.endColumn===1&&n.originalRange.endColumn===1&&n.originalRange.startLineNumber+i<=n.originalRange.endLineNumber&&n.modifiedRange.startLineNumber+i<=n.modifiedRange.endLineNumber&&(o=-1),n.modifiedRange.startColumn-1>=t[n.modifiedRange.startLineNumber-1].length&&n.originalRange.startColumn-1>=e[n.originalRange.startLineNumber-1].length&&n.originalRange.startLineNumber<=n.originalRange.endLineNumber+o&&n.modifiedRange.startLineNumber<=n.modifiedRange.endLineNumber+o&&(i=1);const r=new wt(n.originalRange.startLineNumber+i,n.originalRange.endLineNumber+1+o),s=new wt(n.modifiedRange.startLineNumber+i,n.modifiedRange.endLineNumber+1+o);return new yc(r,s,[n])}const mU={getLegacy:()=>new w0e,getDefault:()=>new OJ};function Ag(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}class Bt{constructor(e,t,i,o=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=Ag(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class sl{constructor(e,t,i,o){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=Ag(Math.max(Math.min(1,t),0),3),this.l=Ag(Math.max(Math.min(1,i),0),3),this.a=Ag(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,o=e.b/255,r=e.a,s=Math.max(t,i,o),a=Math.min(t,i,o);let l=0,c=0;const d=(a+s)/2,u=s-a;if(u>0){switch(c=Math.min(d<=.5?u/(2*d):u/(2-2*d),1),s){case t:l=(i-o)/u+(i<o?6:0);break;case i:l=(o-t)/u+2;break;case o:l=(t-i)/u+4;break}l*=60,l=Math.round(l)}return new sl(l,c,d,r)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:o,a:r}=e;let s,a,l;if(i===0)s=a=l=o;else{const c=o<.5?o*(1+i):o+i-o*i,d=2*o-c;s=sl._hue2rgb(d,c,t+1/3),a=sl._hue2rgb(d,c,t),l=sl._hue2rgb(d,c,t-1/3)}return new Bt(Math.round(s*255),Math.round(a*255),Math.round(l*255),r)}}class fd{constructor(e,t,i,o){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=Ag(Math.max(Math.min(1,t),0),3),this.v=Ag(Math.max(Math.min(1,i),0),3),this.a=Ag(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,o=e.b/255,r=Math.max(t,i,o),s=Math.min(t,i,o),a=r-s,l=r===0?0:a/r;let c;return a===0?c=0:r===t?c=((i-o)/a%6+6)%6:r===i?c=(o-t)/a+2:c=(t-i)/a+4,new fd(Math.round(c*60),l,r,e.a)}static toRGBA(e){const{h:t,s:i,v:o,a:r}=e,s=o*i,a=s*(1-Math.abs(t/60%2-1)),l=o-s;let[c,d,u]=[0,0,0];return t<60?(c=s,d=a):t<120?(c=a,d=s):t<180?(d=s,u=a):t<240?(d=a,u=s):t<300?(c=a,u=s):t<=360&&(c=s,u=a),c=Math.round((c+l)*255),d=Math.round((d+l)*255),u=Math.round((u+l)*255),new Bt(c,d,u,r)}}class U{static fromHex(e){return U.Format.CSS.parseHex(e)||U.red}static equals(e,t){return!e&&!t?!0:!e||!t?!1:e.equals(t)}get hsla(){return this._hsla?this._hsla:sl.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:fd.fromRGBA(this.rgba)}constructor(e){if(e)if(e instanceof Bt)this.rgba=e;else if(e instanceof sl)this._hsla=e,this.rgba=sl.toRGBA(e);else if(e instanceof fd)this._hsva=e,this.rgba=fd.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(e){return!!e&&Bt.equals(this.rgba,e.rgba)&&sl.equals(this.hsla,e.hsla)&&fd.equals(this.hsva,e.hsva)}getRelativeLuminance(){const e=U._relativeLuminanceForComponent(this.rgba.r),t=U._relativeLuminanceForComponent(this.rgba.g),i=U._relativeLuminanceForComponent(this.rgba.b),o=.2126*e+.7152*t+.0722*i;return Ag(o,4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new U(new sl(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new U(new sl(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:o,a:r}=this.rgba;return new U(new Bt(t,i,o,r*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new U(new Bt(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;const{r:t,g:i,b:o,a:r}=this.rgba;return new U(new Bt(e.rgba.r-r*(e.rgba.r-t),e.rgba.g-r*(e.rgba.g-i),e.rgba.b-r*(e.rgba.b-o),1))}toString(){return this._toString||(this._toString=U.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const o=e.getRelativeLuminance(),r=t.getRelativeLuminance();return i=i*(r-o)/r,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const o=e.getRelativeLuminance(),r=t.getRelativeLuminance();return i=i*(o-r)/o,e.darken(i)}}U.white=new U(new Bt(255,255,255,1));U.black=new U(new Bt(0,0,0,1));U.red=new U(new Bt(255,0,0,1));U.blue=new U(new Bt(0,0,255,1));U.green=new U(new Bt(0,255,0,1));U.cyan=new U(new Bt(0,255,255,1));U.lightgrey=new U(new Bt(211,211,211,1));U.transparent=new U(new Bt(0,0,0,0));(function(n){(function(e){(function(t){function i(g){return g.rgba.a===1?`rgb(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b})`:n.Format.CSS.formatRGBA(g)}t.formatRGB=i;function o(g){return`rgba(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b}, ${+g.rgba.a.toFixed(2)})`}t.formatRGBA=o;function r(g){return g.hsla.a===1?`hsl(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%)`:n.Format.CSS.formatHSLA(g)}t.formatHSL=r;function s(g){return`hsla(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%, ${g.hsla.a.toFixed(2)})`}t.formatHSLA=s;function a(g){const f=g.toString(16);return f.length!==2?"0"+f:f}function l(g){return`#${a(g.rgba.r)}${a(g.rgba.g)}${a(g.rgba.b)}`}t.formatHex=l;function c(g,f=!1){return f&&g.rgba.a===1?n.Format.CSS.formatHex(g):`#${a(g.rgba.r)}${a(g.rgba.g)}${a(g.rgba.b)}${a(Math.round(g.rgba.a*255))}`}t.formatHexA=c;function d(g){return g.isOpaque()?n.Format.CSS.formatHex(g):n.Format.CSS.formatRGBA(g)}t.format=d;function u(g){const f=g.length;if(f===0||g.charCodeAt(0)!==35)return null;if(f===7){const p=16*h(g.charCodeAt(1))+h(g.charCodeAt(2)),b=16*h(g.charCodeAt(3))+h(g.charCodeAt(4)),v=16*h(g.charCodeAt(5))+h(g.charCodeAt(6));return new n(new Bt(p,b,v,1))}if(f===9){const p=16*h(g.charCodeAt(1))+h(g.charCodeAt(2)),b=16*h(g.charCodeAt(3))+h(g.charCodeAt(4)),v=16*h(g.charCodeAt(5))+h(g.charCodeAt(6)),_=16*h(g.charCodeAt(7))+h(g.charCodeAt(8));return new n(new Bt(p,b,v,_/255))}if(f===4){const p=h(g.charCodeAt(1)),b=h(g.charCodeAt(2)),v=h(g.charCodeAt(3));return new n(new Bt(16*p+p,16*b+b,16*v+v))}if(f===5){const p=h(g.charCodeAt(1)),b=h(g.charCodeAt(2)),v=h(g.charCodeAt(3)),_=h(g.charCodeAt(4));return new n(new Bt(16*p+p,16*b+b,16*v+v,(16*_+_)/255))}return null}t.parseHex=u;function h(g){switch(g){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(e.CSS||(e.CSS={}))})(n.Format||(n.Format={}))})(U||(U={}));function FJ(n){const e=[];for(const t of n){const i=Number(t);(i||i===0&&t.replace(/\s/g,"")!=="")&&e.push(i)}return e}function p6(n,e,t,i){return{red:n/255,blue:t/255,green:e/255,alpha:i}}function a1(n,e){const t=e.index,i=e[0].length;if(!t)return;const o=n.positionAt(t);return{startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:o.lineNumber,endColumn:o.column+i}}function G0e(n,e){if(!n)return;const t=U.Format.CSS.parseHex(e);if(t)return{range:n,color:p6(t.rgba.r,t.rgba.g,t.rgba.b,t.rgba.a)}}function vU(n,e,t){if(!n||e.length!==1)return;const o=e[0].values(),r=FJ(o);return{range:n,color:p6(r[0],r[1],r[2],t?r[3]:1)}}function bU(n,e,t){if(!n||e.length!==1)return;const o=e[0].values(),r=FJ(o),s=new U(new sl(r[0],r[1]/100,r[2]/100,t?r[3]:1));return{range:n,color:p6(s.rgba.r,s.rgba.g,s.rgba.b,s.rgba.a)}}function l1(n,e){return typeof n=="string"?[...n.matchAll(e)]:n.findMatches(e)}function Z0e(n){const e=[],i=l1(n,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(i.length>0)for(const o of i){const r=o.filter(c=>c!==void 0),s=r[1],a=r[2];if(!a)continue;let l;if(s==="rgb"){const c=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;l=vU(a1(n,o),l1(a,c),!1)}else if(s==="rgba"){const c=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=vU(a1(n,o),l1(a,c),!0)}else if(s==="hsl"){const c=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;l=bU(a1(n,o),l1(a,c),!1)}else if(s==="hsla"){const c=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=bU(a1(n,o),l1(a,c),!0)}else s==="#"&&(l=G0e(a1(n,o),s+a));l&&e.push(l)}return e}function Y0e(n){return!n||typeof n.getValue!="function"||typeof n.positionAt!="function"?[]:Z0e(n)}class X0e extends J_e{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(e){const t=[];for(let i=0;i<this._lines.length;i++){const o=this._lines[i],r=this.offsetAt(new W(i+1,1)),s=o.matchAll(e);for(const a of s)(a.index||a.index===0)&&(a.index=a.index+r),t.push(a)}return t}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){const i=Ly(e.column,A8(t),this._lines[e.lineNumber-1],0);return i?new D(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let o=0,r="",s=0,a=[];return{*[Symbol.iterator](){for(;;)if(s<a.length){const l=r.substring(a[s].start,a[s].end);s+=1,yield l}else if(o<t.length)r=t[o],a=i(r,e),s=0,o+=1;else break}}}getLineWords(e,t){const i=this._lines[e-1],o=this._wordenize(i,t),r=[];for(const s of o)r.push({word:i.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1});return r}_wordenize(e,t){const i=[];let o;for(t.lastIndex=0;(o=t.exec(e))&&o[0].length!==0;)i.push({start:o.index,end:o.index+o[0].length});return i}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);const t=this._eol,i=e.startLineNumber-1,o=e.endLineNumber-1,r=[];r.push(this._lines[i].substring(e.startColumn-1));for(let s=i+1;s<o;s++)r.push(this._lines[s]);return r.push(this._lines[o].substring(0,e.endColumn-1)),r.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();const t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!W.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,o=!1;if(t<1)t=1,i=1,o=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,o=!0;else{const r=this._lines[t-1].length+1;i<1?(i=1,o=!0):i>r&&(i=r,o=!0)}return o?{lineNumber:t,column:i}:e}}class Pg{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){const e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new X0e(Ke.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}async computeUnicodeHighlights(e,t,i){const o=this._getModel(e);return o?u6.computeUnicodeHighlights(o,t,i):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async computeDiff(e,t,i,o){const r=this._getModel(e),s=this._getModel(t);return!r||!s?null:Pg.computeDiff(r,s,i,o)}static computeDiff(e,t,i,o){const r=o==="advanced"?mU.getDefault():mU.getLegacy(),s=e.getLinesContent(),a=t.getLinesContent(),l=r.computeDiff(s,a,i),c=l.changes.length>0?!1:this._modelsAreIdentical(e,t);function d(u){return u.map(h=>{var g;return[h.original.startLineNumber,h.original.endLineNumberExclusive,h.modified.startLineNumber,h.modified.endLineNumberExclusive,(g=h.innerChanges)===null||g===void 0?void 0:g.map(f=>[f.originalRange.startLineNumber,f.originalRange.startColumn,f.originalRange.endLineNumber,f.originalRange.endColumn,f.modifiedRange.startLineNumber,f.modifiedRange.startColumn,f.modifiedRange.endLineNumber,f.modifiedRange.endColumn])]})}return{identical:c,quitEarly:l.hitTimeout,changes:d(l.changes),moves:l.moves.map(u=>[u.lineRangeMapping.original.startLineNumber,u.lineRangeMapping.original.endLineNumberExclusive,u.lineRangeMapping.modified.startLineNumber,u.lineRangeMapping.modified.endLineNumberExclusive,d(u.changes)])}}static _modelsAreIdentical(e,t){const i=e.getLineCount(),o=t.getLineCount();if(i!==o)return!1;for(let r=1;r<=i;r++){const s=e.getLineContent(r),a=t.getLineContent(r);if(s!==a)return!1}return!0}async computeMoreMinimalEdits(e,t,i){const o=this._getModel(e);if(!o)return t;const r=[];let s;t=t.slice(0).sort((l,c)=>{if(l.range&&c.range)return D.compareRangesUsingStarts(l.range,c.range);const d=l.range?0:1,u=c.range?0:1;return d-u});let a=0;for(let l=1;l<t.length;l++)D.getEndPosition(t[a].range).equals(D.getStartPosition(t[l].range))?(t[a].range=D.fromPositions(D.getStartPosition(t[a].range),D.getEndPosition(t[l].range)),t[a].text+=t[l].text):(a++,t[a]=t[l]);t.length=a+1;for(let{range:l,text:c,eol:d}of t){if(typeof d=="number"&&(s=d),D.isEmpty(l)&&!c)continue;const u=o.getValueInRange(l);if(c=c.replace(/\r\n|\n|\r/g,o.eol),u===c)continue;if(Math.max(c.length,u.length)>Pg._diffLimit){r.push({range:l,text:c});continue}const h=Y_e(u,c,i),g=o.offsetAt(D.lift(l).getStartPosition());for(const f of h){const p=o.positionAt(g+f.originalStart),b=o.positionAt(g+f.originalStart+f.originalLength),v={text:c.substr(f.modifiedStart,f.modifiedLength),range:{startLineNumber:p.lineNumber,startColumn:p.column,endLineNumber:b.lineNumber,endColumn:b.column}};o.getValueInRange(v.range)!==v.text&&r.push(v)}}return typeof s=="number"&&r.push({eol:s,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),r}async computeLinks(e){const t=this._getModel(e);return t?o0e(t):null}async computeDefaultDocumentColors(e){const t=this._getModel(e);return t?Y0e(t):null}async textualSuggest(e,t,i,o){const r=new Jo,s=new RegExp(i,o),a=new Set;e:for(const l of e){const c=this._getModel(l);if(c){for(const d of c.words(s))if(!(d===t||!isNaN(Number(d)))&&(a.add(d),a.size>Pg._suggestionsLimit))break e}}return{words:Array.from(a),duration:r.elapsed()}}async computeWordRanges(e,t,i,o){const r=this._getModel(e);if(!r)return Object.create(null);const s=new RegExp(i,o),a=Object.create(null);for(let l=t.startLineNumber;l<t.endLineNumber;l++){const c=r.getLineWords(l,s);for(const d of c){if(!isNaN(Number(d.word)))continue;let u=a[d.word];u||(u=[],a[d.word]=u),u.push({startLineNumber:l,startColumn:d.startColumn,endLineNumber:l,endColumn:d.endColumn})}}return a}async navigateValueSet(e,t,i,o,r){const s=this._getModel(e);if(!s)return null;const a=new RegExp(o,r);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});const l=s.getValueInRange(t),c=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!c)return null;const d=s.getValueInRange(c);return n4.INSTANCE.navigateValueSet(t,l,c,d,i)}loadForeignModule(e,t,i){const s={host:Jfe(i,(a,l)=>this._host.fhr(a,l)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(s,t),Promise.resolve(I8(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(i){return Promise.reject(i)}}}Pg._diffLimit=1e5;Pg._suggestionsLimit=1e4;typeof importScripts=="function"&&(globalThis.monaco=LQ());const m6=Et("textResourceConfigurationService"),BJ=Et("textResourcePropertiesService"),Re=Et("ILanguageFeaturesService");var Q0e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},c1=function(n,e){return function(t,i){e(t,i,n)}};const _U=60*1e3,CU=5*60*1e3;function mp(n,e){const t=n.getModel(e);return!(!t||t.isTooLargeForSyncing())}let l4=class extends z{constructor(e,t,i,o,r){super(),this._modelService=e,this._workerManager=this._register(new e1e(this._modelService,o)),this._logService=i,this._register(r.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(s,a)=>mp(this._modelService,s.uri)?this._workerManager.withWorker().then(l=>l.computeLinks(s.uri)).then(l=>l&&{links:l}):Promise.resolve({links:[]})})),this._register(r.completionProvider.register("*",new J0e(this._workerManager,t,this._modelService,o)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return mp(this._modelService,e)}computedUnicodeHighlights(e,t,i){return this._workerManager.withWorker().then(o=>o.computedUnicodeHighlights(e,t,i))}async computeDiff(e,t,i,o){const r=await this._workerManager.withWorker().then(l=>l.computeDiff(e,t,i,o));if(!r)return null;return{identical:r.identical,quitEarly:r.quitEarly,changes:a(r.changes),moves:r.moves.map(l=>new MJ(new is(new wt(l[0],l[1]),new wt(l[2],l[3])),a(l[4])))};function a(l){return l.map(c=>{var d;return new yc(new wt(c[0],c[1]),new wt(c[2],c[3]),(d=c[4])===null||d===void 0?void 0:d.map(u=>new sf(new D(u[0],u[1],u[2],u[3]),new D(u[4],u[5],u[6],u[7]))))})}}computeMoreMinimalEdits(e,t,i=!1){if(Yo(t)){if(!mp(this._modelService,e))return Promise.resolve(t);const o=Jo.create(),r=this._workerManager.withWorker().then(s=>s.computeMoreMinimalEdits(e,t,i));return r.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),o.elapsed())),Promise.race([r,tf(1e3).then(()=>t)])}else return Promise.resolve(void 0)}canNavigateValueSet(e){return mp(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then(o=>o.navigateValueSet(e,t,i))}canComputeWordRanges(e){return mp(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(i=>i.computeWordRanges(e,t))}};l4=Q0e([c1(0,Yi),c1(1,m6),c1(2,zr),c1(3,Di),c1(4,Re)],l4);class J0e{constructor(e,t,i,o){this.languageConfigurationService=o,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}async provideCompletionItems(e,t){const i=this._configurationService.getValue(e.uri,t,"editor");if(i.wordBasedSuggestions==="off")return;const o=[];if(i.wordBasedSuggestions==="currentDocument")mp(this._modelService,e.uri)&&o.push(e.uri);else for(const u of this._modelService.getModels())mp(this._modelService,u.uri)&&(u===e?o.unshift(u.uri):(i.wordBasedSuggestions==="allDocuments"||u.getLanguageId()===e.getLanguageId())&&o.push(u.uri));if(o.length===0)return;const r=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),s=e.getWordAtPosition(t),a=s?new D(t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):D.fromPositions(t),l=a.setEndPosition(t.lineNumber,t.column),d=await(await this._workerManager.withWorker()).textualSuggest(o,s==null?void 0:s.word,r);if(d)return{duration:d.duration,suggestions:d.words.map(u=>({kind:18,label:u,insertText:u,range:{insert:l,replace:a}}))}}}class e1e extends z{constructor(e,t){super(),this.languageConfigurationService=t,this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new t6).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(CU/2),Ume),this._register(this._modelService.onModelRemoved(o=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>CU&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new v6(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class t1e extends z{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){const o=new Q8;o.cancelAndSet(()=>this._checkStopModelSync(),Math.round(_U/2)),this._register(o)}}dispose(){for(const e in this._syncedModels)si(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const i of e){const o=i.toString();this._syncedModels[o]||this._beginModelSync(i,t),this._syncedModels[o]&&(this._syncedModelsLastUsedTime[o]=new Date().getTime())}}_checkStopModelSync(){const e=new Date().getTime(),t=[];for(const i in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[i]>_U&&t.push(i);for(const i of t)this._stopModelSync(i)}_beginModelSync(e,t){const i=this._modelService.getModel(e);if(!i||!t&&i.isTooLargeForSyncing())return;const o=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const r=new oe;r.add(i.onDidChangeContent(s=>{this._proxy.acceptModelChanged(o.toString(),s)})),r.add(i.onWillDispose(()=>{this._stopModelSync(o)})),r.add(je(()=>{this._proxy.acceptRemovedModel(o)})),this._syncedModels[o]=r}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],si(t)}}class yU{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class pM{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class v6 extends z{constructor(e,t,i,o){super(),this.languageConfigurationService=o,this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new tI(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new c_e(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new pM(this)))}catch(e){J5(e),this._worker=new yU(new Pg(new pM(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(J5(e),this._worker=new yU(new Pg(new pM(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new t1e(e,this._modelService,this._keepIdleModels))),this._modelManager}async _withSyncedResources(e,t=!1){return this._disposed?Promise.reject(ome()):this._getProxy().then(i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i))}computedUnicodeHighlights(e,t,i){return this._withSyncedResources([e]).then(o=>o.computeUnicodeHighlights(e.toString(),t,i))}computeDiff(e,t,i,o){return this._withSyncedResources([e,t],!0).then(r=>r.computeDiff(e.toString(),t.toString(),i,o))}computeMoreMinimalEdits(e,t,i){return this._withSyncedResources([e]).then(o=>o.computeMoreMinimalEdits(e.toString(),t,i))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}computeDefaultDocumentColors(e){return this._withSyncedResources([e]).then(t=>t.computeDefaultDocumentColors(e.toString()))}async textualSuggest(e,t,i){const o=await this._withSyncedResources(e),r=i.source,s=i.flags;return o.textualSuggest(e.map(a=>a.toString()),t,r,s)}computeWordRanges(e,t){return this._withSyncedResources([e]).then(i=>{const o=this._modelService.getModel(e);if(!o)return Promise.resolve(null);const r=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId()).getWordDefinition(),s=r.source,a=r.flags;return i.computeWordRanges(e.toString(),t,s,a)})}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then(o=>{const r=this._modelService.getModel(e);if(!r)return null;const s=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId()).getWordDefinition(),a=s.source,l=s.flags;return o.navigateValueSet(e.toString(),t,i,a,l)})}dispose(){super.dispose(),this._disposed=!0}}function i1e(n,e,t){return new n1e(n,e,t)}class n1e extends v6{constructor(e,t,i){super(e,i.keepIdleModels||!1,i.label,t),this._foreignModuleId=i.moduleId,this._foreignModuleCreateData=i.createData||null,this._foreignModuleHost=i.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||typeof this._foreignModuleHost[e]!="function")return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?I8(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(i=>{this._foreignModuleCreateData=null;const o=(a,l)=>e.fmr(a,l),r=(a,l)=>function(){const c=Array.prototype.slice.call(arguments,0);return l(a,c)},s={};for(const a of i)s[a]=r(a,o);return s})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(t=>this.getProxy())}}const kS={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},N_=new class{clone(){return this}equals(n){return this===n}};function b6(n,e){return new z8([new Dy(0,"",n)],e)}function aI(n,e){const t=new Uint32Array(2);return t[0]=0,t[1]=(n<<0|0|0|32768|2<<24)>>>0,new FT(t,e===null?N_:e)}class Bo{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static getClassNameFromMetadata(e){let i="mtk"+this.getForeground(e);const o=this.getFontStyle(e);return o&1&&(i+=" mtki"),o&2&&(i+=" mtkb"),o&4&&(i+=" mtku"),o&8&&(i+=" mtks"),i}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),o=this.getFontStyle(e);let r=`color: ${t[i]};`;o&1&&(r+="font-style: italic;"),o&2&&(r+="font-weight: bold;");let s="";return o&4&&(s+=" underline"),o&8&&(s+=" line-through"),s&&(r+=`text-decoration:${s};`),r}static getPresentationFromMetadata(e){const t=this.getForeground(e),i=this.getFontStyle(e);return{foreground:t,italic:!!(i&1),bold:!!(i&2),underline:!!(i&4),strikethrough:!!(i&8)}}}class io{static createEmpty(e,t){const i=io.defaultTokenMetadata,o=new Uint32Array(2);return o[0]=e.length,o[1]=i,new io(o,e,t)}constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=i}equals(e){return e instanceof io?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,i){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;const o=t<<1,r=o+(i<<1);for(let s=o;s<r;s++)if(this._tokens[s]!==e._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){const t=this._tokens[(e<<1)+1],i=Bo.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){const t=this._tokens[(e<<1)+1];return Bo.getTokenType(t)}getForeground(e){const t=this._tokens[(e<<1)+1];return Bo.getForeground(t)}getClassName(e){const t=this._tokens[(e<<1)+1];return Bo.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[(e<<1)+1];return Bo.getInlineStyleFromMetadata(i,t)}getPresentation(e){const t=this._tokens[(e<<1)+1];return Bo.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return io.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new _6(this,e,t,i)}static convertToEndOffset(e,t){const o=(e.length>>>1)-1;for(let r=0;r<o;r++)e[r<<1]=e[r+1<<1];e[o<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,o=(e.length>>>1)-1;for(;i<o;){const r=i+Math.floor((o-i)/2),s=e[r<<1];if(s===t)return r+1;s<t?i=r+1:s>t&&(o=r)}return i}withInserted(e){if(e.length===0)return this;let t=0,i=0,o="";const r=new Array;let s=0;for(;;){const a=t<this._tokensCount?this._tokens[t<<1]:-1,l=i<e.length?e[i]:null;if(a!==-1&&(l===null||a<=l.offset)){o+=this._text.substring(s,a);const c=this._tokens[(t<<1)+1];r.push(o.length,c),t++,s=a}else if(l){if(l.offset>s){o+=this._text.substring(s,l.offset);const c=this._tokens[(t<<1)+1];r.push(o.length,c),s=l.offset}o+=l.text,r.push(o.length,l.tokenMetadata),i++}else break}return new io(new Uint32Array(r),o,this._languageIdCodec)}}io.defaultTokenMetadata=(32768|2<<24)>>>0;class _6{constructor(e,t,i,o){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=o,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let r=this._firstTokenIndex,s=e.getCount();r<s&&!(e.getStartOffset(r)>=i);r++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof _6?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}class Rr{constructor(e,t,i,o){this.startColumn=e,this.endColumn=t,this.className=i,this.type=o,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length,o=t.length;if(i!==o)return!1;for(let r=0;r<i;r++)if(!Rr._equals(e[r],t[r]))return!1;return!0}static extractWrapped(e,t,i){if(e.length===0)return e;const o=t+1,r=i+1,s=i-t,a=[];let l=0;for(const c of e)c.endColumn<=o||c.startColumn>=r||(a[l++]=new Rr(Math.max(1,c.startColumn-o+1),Math.min(s+1,c.endColumn-o+1),c.className,c.type));return a}static filter(e,t,i,o){if(e.length===0)return[];const r=[];let s=0;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.range;if(d.endLineNumber<t||d.startLineNumber>t||d.isEmpty()&&(c.type===0||c.type===3))continue;const u=d.startLineNumber===t?d.startColumn:i,h=d.endLineNumber===t?d.endColumn:o;r[s++]=new Rr(u,h,c.inlineClassName,c.type)}return r}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=Rr._typeCompare(e.type,t.type);return i!==0?i:e.className!==t.className?e.className<t.className?-1:1:0}}class wU{constructor(e,t,i,o){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=o}}class c2{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,o=e.length;i<o;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let o=0;for(;o+1<this.count&&this.stopOffsets[o]===this.stopOffsets[o+1];)o++;i.push(new wU(t,this.stopOffsets[o],this.classNames.join(" "),c2._metadata(this.metadata))),t=this.stopOffsets[o]+1,this.stopOffsets.splice(0,o+1),this.classNames.splice(0,o+1),this.metadata.splice(0,o+1),this.count-=o+1}return this.count>0&&t<e&&(i.push(new wU(t,e-1,this.classNames.join(" "),c2._metadata(this.metadata))),t=e),t}insert(e,t,i){if(this.count===0||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let o=0;o<this.count;o++)if(this.stopOffsets[o]>=e){this.stopOffsets.splice(o,0,e),this.classNames.splice(o,0,t),this.metadata.splice(o,0,i);break}this.count++}}class o1e{static normalize(e,t){if(t.length===0)return[];const i=[],o=new c2;let r=0;for(let s=0,a=t.length;s<a;s++){const l=t[s];let c=l.startColumn,d=l.endColumn;const u=l.className,h=l.type===1?2:l.type===2?4:0;if(c>1){const p=e.charCodeAt(c-2);to(p)&&c--}if(d>1){const p=e.charCodeAt(d-2);to(p)&&d--}const g=c-1,f=d-2;r=o.consumeLowerThan(g,r,i),o.count===0&&(r=g),o.insert(f,u,h)}return o.consumeLowerThan(1073741824,r,i),i}}class mo{constructor(e,t,i,o){this.endIndex=e,this.type=t,this.metadata=i,this.containsRTL=o,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class WJ{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class Pf{constructor(e,t,i,o,r,s,a,l,c,d,u,h,g,f,p,b,v,_,C){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=o,this.isBasicASCII=r,this.containsRTL=s,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=c.sort(Rr.compare),this.tabSize=d,this.startVisibleColumn=u,this.spaceWidth=h,this.stopRenderingLineAfter=p,this.renderWhitespace=b==="all"?4:b==="boundary"?1:b==="selection"?2:b==="trailing"?3:0,this.renderControlCharacters=v,this.fontLigatures=_,this.selectionsOnLine=C&&C.sort((S,x)=>S.startOffset<x.startOffset?-1:1);const y=Math.abs(f-h),w=Math.abs(g-h);y<w?(this.renderSpaceWidth=f,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=g,this.renderSpaceCharCode=183)}sameSelection(e){if(this.selectionsOnLine===null)return e===null;if(e===null||e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&Rr.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class VJ{constructor(e,t){this.partIndex=e,this.charIndex=t}}class td{static getPartIndex(e){return(e&4294901760)>>>16}static getCharIndex(e){return(e&65535)>>>0}constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(e,t,i,o){const r=(t<<16|i<<0)>>>0;this._data[e-1]=r,this._horizontalOffset[e-1]=o}getHorizontalOffset(e){return this._horizontalOffset.length===0?0:this._horizontalOffset[e-1]}charOffsetToPartData(e){return this.length===0?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=td.getPartIndex(t),o=td.getCharIndex(t);return new VJ(i,o)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(this.length===0)return 0;const o=(e<<16|i<<0)>>>0;let r=0,s=this.length-1;for(;r+1<s;){const p=r+s>>>1,b=this._data[p];if(b===o)return p;b>o?s=p:r=p}if(r===s)return r;const a=this._data[r],l=this._data[s];if(a===o)return r;if(l===o)return s;const c=td.getPartIndex(a),d=td.getCharIndex(a),u=td.getPartIndex(l);let h;c!==u?h=t:h=td.getCharIndex(l);const g=i-d,f=h-i;return g<=f?r:s}}class c4{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function LS(n,e){if(n.lineContent.length===0){if(n.lineDecorations.length>0){e.appendString("<span>");let t=0,i=0,o=0;for(const s of n.lineDecorations)(s.type===1||s.type===2)&&(e.appendString('<span class="'),e.appendString(s.className),e.appendString('"></span>'),s.type===1&&(o|=1,t++),s.type===2&&(o|=2,i++));e.appendString("</span>");const r=new td(1,t+i);return r.setColumnInfo(1,t,0,0),new c4(r,!1,o)}return e.appendString("<span><span></span></span>"),new c4(new td(0,0),!1,0)}return g1e(a1e(n),e)}class r1e{constructor(e,t,i,o){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=o}}function lI(n){const e=new _0(1e4),t=LS(n,e);return new r1e(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}class s1e{constructor(e,t,i,o,r,s,a,l,c,d,u,h,g,f,p,b){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=o,this.isOverflowing=r,this.overflowingCharCount=s,this.parts=a,this.containsForeignElements=l,this.fauxIndentLength=c,this.tabSize=d,this.startVisibleColumn=u,this.containsRTL=h,this.spaceWidth=g,this.renderSpaceCharCode=f,this.renderWhitespace=p,this.renderControlCharacters=b}}function a1e(n){const e=n.lineContent;let t,i,o;n.stopRenderingLineAfter!==-1&&n.stopRenderingLineAfter<e.length?(t=!0,i=e.length-n.stopRenderingLineAfter,o=n.stopRenderingLineAfter):(t=!1,i=0,o=e.length);let r=l1e(e,n.containsRTL,n.lineTokens,n.fauxIndentLength,o);n.renderControlCharacters&&!n.isBasicASCII&&(r=d1e(e,r)),(n.renderWhitespace===4||n.renderWhitespace===1||n.renderWhitespace===2&&n.selectionsOnLine||n.renderWhitespace===3&&!n.continuesWithWrappedLine)&&(r=u1e(n,e,o,r));let s=0;if(n.lineDecorations.length>0){for(let a=0,l=n.lineDecorations.length;a<l;a++){const c=n.lineDecorations[a];c.type===3||c.type===1?s|=1:c.type===2&&(s|=2)}r=h1e(e,o,r,n.lineDecorations)}return n.containsRTL||(r=c1e(e,r,!n.isBasicASCII||n.fontLigatures)),new s1e(n.useMonospaceOptimizations,n.canUseHalfwidthRightwardsArrow,e,o,t,i,r,s,n.fauxIndentLength,n.tabSize,n.startVisibleColumn,n.containsRTL,n.spaceWidth,n.renderSpaceCharCode,n.renderWhitespace,n.renderControlCharacters)}function l1e(n,e,t,i,o){const r=[];let s=0;i>0&&(r[s++]=new mo(i,"",0,!1));let a=i;for(let l=0,c=t.getCount();l<c;l++){const d=t.getEndOffset(l);if(d<=i)continue;const u=t.getClassName(l);if(d>=o){const g=e?x_(n.substring(a,o)):!1;r[s++]=new mo(o,u,0,g);break}const h=e?x_(n.substring(a,d)):!1;r[s++]=new mo(d,u,0,h),a=d}return r}function c1e(n,e,t){let i=0;const o=[];let r=0;if(t)for(let s=0,a=e.length;s<a;s++){const l=e[s],c=l.endIndex;if(i+50<c){const d=l.type,u=l.metadata,h=l.containsRTL;let g=-1,f=i;for(let p=i;p<c;p++)n.charCodeAt(p)===32&&(g=p),g!==-1&&p-f>=50&&(o[r++]=new mo(g+1,d,u,h),f=g+1,g=-1);f!==c&&(o[r++]=new mo(c,d,u,h))}else o[r++]=l;i=c}else for(let s=0,a=e.length;s<a;s++){const l=e[s],c=l.endIndex,d=c-i;if(d>50){const u=l.type,h=l.metadata,g=l.containsRTL,f=Math.ceil(d/50);for(let p=1;p<f;p++){const b=i+p*50;o[r++]=new mo(b,u,h,g)}o[r++]=new mo(c,u,h,g)}else o[r++]=l;i=c}return o}function HJ(n){return n<32?n!==9:n===127||n>=8234&&n<=8238||n>=8294&&n<=8297||n>=8206&&n<=8207||n===1564}function d1e(n,e){const t=[];let i=new mo(0,"",0,!1),o=0;for(const r of e){const s=r.endIndex;for(;o<s;o++){const a=n.charCodeAt(o);HJ(a)&&(o>i.endIndex&&(i=new mo(o,r.type,r.metadata,r.containsRTL),t.push(i)),i=new mo(o+1,"mtkcontrol",r.metadata,!1),t.push(i))}o>i.endIndex&&(i=new mo(s,r.type,r.metadata,r.containsRTL),t.push(i))}return t}function u1e(n,e,t,i){const o=n.continuesWithWrappedLine,r=n.fauxIndentLength,s=n.tabSize,a=n.startVisibleColumn,l=n.useMonospaceOptimizations,c=n.selectionsOnLine,d=n.renderWhitespace===1,u=n.renderWhitespace===3,h=n.renderSpaceWidth!==n.spaceWidth,g=[];let f=0,p=0,b=i[p].type,v=i[p].containsRTL,_=i[p].endIndex;const C=i.length;let y=!1,w=hr(e),S;w===-1?(y=!0,w=t,S=t):S=hc(e);let x=!1,L=0,E=c&&c[L],O=a%s;for(let A=r;A<t;A++){const F=e.charCodeAt(A);E&&A>=E.endOffset&&(L++,E=c&&c[L]);let K;if(A<w||A>S)K=!0;else if(F===9)K=!0;else if(F===32)if(d)if(x)K=!0;else{const te=A+1<t?e.charCodeAt(A+1):0;K=te===32||te===9}else K=!0;else K=!1;if(K&&c&&(K=!!E&&E.startOffset<=A&&E.endOffset>A),K&&u&&(K=y||A>S),K&&v&&A>=w&&A<=S&&(K=!1),x){if(!K||!l&&O>=s){if(h){const te=f>0?g[f-1].endIndex:r;for(let ye=te+1;ye<=A;ye++)g[f++]=new mo(ye,"mtkw",1,!1)}else g[f++]=new mo(A,"mtkw",1,!1);O=O%s}}else(A===_||K&&A>r)&&(g[f++]=new mo(A,b,0,v),O=O%s);for(F===9?O=s:ef(F)?O+=2:O++,x=K;A===_&&(p++,p<C);)b=i[p].type,v=i[p].containsRTL,_=i[p].endIndex}let P=!1;if(x)if(o&&d){const A=t>0?e.charCodeAt(t-1):0,F=t>1?e.charCodeAt(t-2):0;A===32&&F!==32&&F!==9||(P=!0)}else P=!0;if(P)if(h){const A=f>0?g[f-1].endIndex:r;for(let F=A+1;F<=t;F++)g[f++]=new mo(F,"mtkw",1,!1)}else g[f++]=new mo(t,"mtkw",1,!1);else g[f++]=new mo(t,b,0,v);return g}function h1e(n,e,t,i){i.sort(Rr.compare);const o=o1e.normalize(n,i),r=o.length;let s=0;const a=[];let l=0,c=0;for(let u=0,h=t.length;u<h;u++){const g=t[u],f=g.endIndex,p=g.type,b=g.metadata,v=g.containsRTL;for(;s<r&&o[s].startOffset<f;){const _=o[s];if(_.startOffset>c&&(c=_.startOffset,a[l++]=new mo(c,p,b,v)),_.endOffset+1<=f)c=_.endOffset+1,a[l++]=new mo(c,p+" "+_.className,b|_.metadata,v),s++;else{c=f,a[l++]=new mo(c,p+" "+_.className,b|_.metadata,v);break}}f>c&&(c=f,a[l++]=new mo(c,p,b,v))}const d=t[t.length-1].endIndex;if(s<r&&o[s].startOffset===d)for(;s<r&&o[s].startOffset===d;){const u=o[s];a[l++]=new mo(c,u.className,u.metadata,!1),s++}return a}function g1e(n,e){const t=n.fontIsMonospace,i=n.canUseHalfwidthRightwardsArrow,o=n.containsForeignElements,r=n.lineContent,s=n.len,a=n.isOverflowing,l=n.overflowingCharCount,c=n.parts,d=n.fauxIndentLength,u=n.tabSize,h=n.startVisibleColumn,g=n.containsRTL,f=n.spaceWidth,p=n.renderSpaceCharCode,b=n.renderWhitespace,v=n.renderControlCharacters,_=new td(s+1,c.length);let C=!1,y=0,w=h,S=0,x=0,L=0;g?e.appendString('<span dir="ltr">'):e.appendString("<span>");for(let E=0,O=c.length;E<O;E++){const P=c[E],A=P.endIndex,F=P.type,K=P.containsRTL,te=b!==0&&P.isWhitespace(),ye=te&&!t&&(F==="mtkw"||!o),be=y===A&&P.isPseudoAfter();if(S=0,e.appendString("<span "),K&&e.appendString('style="unicode-bidi:isolate" '),e.appendString('class="'),e.appendString(ye?"mtkz":F),e.appendASCIICharCode(34),te){let ae=0;{let Q=y,_e=w;for(;Q<A;Q++){const se=(r.charCodeAt(Q)===9?u-_e%u:1)|0;ae+=se,Q>=d&&(_e+=se)}}for(ye&&(e.appendString(' style="width:'),e.appendString(String(f*ae)),e.appendString('px"')),e.appendASCIICharCode(62);y<A;y++){_.setColumnInfo(y+1,E-L,S,x),L=0;const Q=r.charCodeAt(y);let _e,Ie;if(Q===9){_e=u-w%u|0,Ie=_e,!i||Ie>1?e.appendCharCode(8594):e.appendCharCode(65515);for(let se=2;se<=Ie;se++)e.appendCharCode(160)}else _e=2,Ie=1,e.appendCharCode(p),e.appendCharCode(8204);S+=_e,x+=Ie,y>=d&&(w+=Ie)}}else for(e.appendASCIICharCode(62);y<A;y++){_.setColumnInfo(y+1,E-L,S,x),L=0;const ae=r.charCodeAt(y);let Q=1,_e=1;switch(ae){case 9:Q=u-w%u,_e=Q;for(let Ie=1;Ie<=Q;Ie++)e.appendCharCode(160);break;case 32:e.appendCharCode(160);break;case 60:e.appendString("&lt;");break;case 62:e.appendString("&gt;");break;case 38:e.appendString("&amp;");break;case 0:v?e.appendCharCode(9216):e.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.appendCharCode(65533);break;default:ef(ae)&&_e++,v&&ae<32?e.appendCharCode(9216+ae):v&&ae===127?e.appendCharCode(9249):v&&HJ(ae)?(e.appendString("[U+"),e.appendString(f1e(ae)),e.appendString("]"),Q=8,_e=Q):e.appendCharCode(ae)}S+=Q,x+=_e,y>=d&&(w+=_e)}be?L++:L=0,y>=s&&!C&&P.isPseudoAfter()&&(C=!0,_.setColumnInfo(y+1,E,S,x)),e.appendString("</span>")}return C||_.setColumnInfo(s+1,c.length-1,S,x),a&&(e.appendString('<span class="mtkoverflow">'),e.appendString(m("showMore","Show more ({0})",p1e(l))),e.appendString("</span>")),e.appendString("</span>"),new c4(_,g,o)}function f1e(n){return n.toString(16).toUpperCase().padStart(4,"0")}function p1e(n){return n<1024?m("overflow.chars","{0} chars",n):n<1024*1024?`${(n/1024).toFixed(1)} KB`:`${(n/1024/1024).toFixed(1)} MB`}class SU{constructor(e,t,i,o){this._viewportBrand=void 0,this.top=e|0,this.left=t|0,this.width=i|0,this.height=o|0}}class m1e{constructor(e,t){this.tabSize=e,this.data=t}}class C6{constructor(e,t,i,o,r,s,a){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=o,this.startVisibleColumn=r,this.tokens=s,this.inlineDecorations=a}}class ca{constructor(e,t,i,o,r,s,a,l,c,d){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=o,this.isBasicASCII=ca.isBasicASCII(i,s),this.containsRTL=ca.containsRTL(i,this.isBasicASCII,r),this.tokens=a,this.inlineDecorations=l,this.tabSize=c,this.startVisibleColumn=d}static isBasicASCII(e,t){return t?_S(e):!0}static containsRTL(e,t,i){return!t&&i?x_(e):!1}}class xC{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class v1e{constructor(e,t,i,o){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=o}toInlineDecoration(e){return new xC(new D(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class zJ{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class Hy{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static compareByRenderingProps(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}static equals(e,t){return e.color===t.color&&e.zIndex===t.zIndex&&en(e.data,t.data)}static equalsArr(e,t){return en(e,t,Hy.equals)}}function b1e(n){return Array.isArray(n)}function _1e(n){return!b1e(n)}function UJ(n){return typeof n=="string"}function xU(n){return!UJ(n)}function Av(n){return!n}function Og(n,e){return n.ignoreCase&&e?e.toLowerCase():e}function kU(n){return n.replace(/[&<>'"_]/g,"-")}function C1e(n,e){console.log(`${n.languageId}: ${e}`)}function Ai(n,e){return new Error(`${n.languageId}: ${e}`)}function Jh(n,e,t,i,o){const r=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let s=null;return e.replace(r,function(a,l,c,d,u,h,g,f,p){return Av(c)?Av(d)?!Av(u)&&u<i.length?Og(n,i[u]):!Av(g)&&n&&typeof n[g]=="string"?n[g]:(s===null&&(s=o.split("."),s.unshift(o)),!Av(h)&&h<s.length?Og(n,s[h]):""):Og(n,t):"$"})}function Vx(n,e){let t=e;for(;t&&t.length>0;){const i=n.tokenizer[t];if(i)return i;const o=t.lastIndexOf(".");o<0?t=null:t=t.substr(0,o)}return null}function y1e(n,e){let t=e;for(;t&&t.length>0;){if(n.stateNames[t])return!0;const o=t.lastIndexOf(".");o<0?t=null:t=t.substr(0,o)}return!1}var w1e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},S1e=function(n,e){return function(t,i){e(t,i,n)}},d4;const $J=5;class zy{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(e!==null&&e.depth>=this._maxCacheDepth)return new Hb(e,t);let i=Hb.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let o=this._entries[i];return o||(o=new Hb(e,t),this._entries[i]=o,o)}}zy._INSTANCE=new zy($J);class Hb{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;e!==null;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;e!==null&&t!==null;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return e===null&&t===null}equals(e){return Hb._equals(this,e)}push(e){return zy.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return zy.create(this.parent,e)}}class cb{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new cb(this.languageId,this.state)}}class eg{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(t!==null)return new kC(e,t);if(e!==null&&e.depth>=this._maxCacheDepth)return new kC(e,t);const i=Hb.getStackElementId(e);let o=this._entries[i];return o||(o=new kC(e,null),this._entries[i]=o,o)}}eg._INSTANCE=new eg($J);class kC{constructor(e,t){this.stack=e,this.embeddedLanguageData=t}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:eg.create(this.stack,this.embeddedLanguageData)}equals(e){return!(e instanceof kC)||!this.stack.equals(e.stack)?!1:this.embeddedLanguageData===null&&e.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||e.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(e.embeddedLanguageData)}}class x1e{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(e){this._languageId=e}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new Dy(e,t,this._languageId)))}nestedLanguageTokenize(e,t,i,o){const r=i.languageId,s=i.state,a=rn.get(r);if(!a)return this.enterLanguage(r),this.emit(o,""),s;const l=a.tokenize(e,t,s);if(o!==0)for(const c of l.tokens)this._tokens.push(new Dy(c.offset+o,c.type,c.language));else this._tokens=this._tokens.concat(l.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,l.endState}finalize(e){return new z8(this._tokens,e)}}class d2{constructor(e,t){this._languageService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(e){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(e)}emit(e,t){const i=this._theme.match(this._currentLanguageId,t)|1024;this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){const o=e!==null?e.length:0,r=t.length,s=i!==null?i.length:0;if(o===0&&r===0&&s===0)return new Uint32Array(0);if(o===0&&r===0)return i;if(r===0&&s===0)return e;const a=new Uint32Array(o+r+s);e!==null&&a.set(e);for(let l=0;l<r;l++)a[o+l]=t[l];return i!==null&&a.set(i,o+r),a}nestedLanguageTokenize(e,t,i,o){const r=i.languageId,s=i.state,a=rn.get(r);if(!a)return this.enterLanguage(r),this.emit(o,""),s;const l=a.tokenizeEncoded(e,t,s);if(o!==0)for(let c=0,d=l.tokens.length;c<d;c+=2)l.tokens[c]+=o;return this._prependTokens=d2._merge(this._prependTokens,this._tokens,l.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,l.endState}finalize(e){return new FT(d2._merge(this._prependTokens,this._tokens,null),e)}}let Uy=d4=class extends z{constructor(e,t,i,o,r){super(),this._configurationService=r,this._languageService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=o,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let s=!1;this._register(rn.onDidChange(a=>{if(s)return;let l=!1;for(let c=0,d=a.changedLanguages.length;c<d;c++){const u=a.changedLanguages[c];if(this._embeddedLanguages[u]){l=!0;break}}l&&(s=!0,rn.handleChange([this._languageId]),s=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const e=[];for(const t in this._embeddedLanguages){const i=rn.get(t);if(i){if(i instanceof d4){const o=i.getLoadStatus();o.loaded===!1&&e.push(o.promise)}continue}rn.isResolved(t)||e.push(rn.getOrCreate(t))}return e.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(t=>{})}}getInitialState(){const e=zy.create(null,this._lexer.start);return eg.create(e,null)}tokenize(e,t,i){if(e.length>=this._maxTokenizationLineLength)return b6(this._languageId,i);const o=new x1e,r=this._tokenize(e,t,i,o);return o.finalize(r)}tokenizeEncoded(e,t,i){if(e.length>=this._maxTokenizationLineLength)return aI(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),i);const o=new d2(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),r=this._tokenize(e,t,i,o);return o.finalize(r)}_tokenize(e,t,i,o){return i.embeddedLanguageData?this._nestedTokenize(e,t,i,0,o):this._myTokenize(e,t,i,0,o)}_findLeavingNestedLanguageOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=Vx(this._lexer,t.stack.state),!i))throw Ai(this._lexer,"tokenizer state is not defined: "+t.stack.state);let o=-1,r=!1;for(const s of i){if(!xU(s.action)||s.action.nextEmbedded!=="@pop")continue;r=!0;let a=s.regex;const l=s.regex.source;if(l.substr(0,4)==="^(?:"&&l.substr(l.length-1,1)===")"){const d=(a.ignoreCase?"i":"")+(a.unicode?"u":"");a=new RegExp(l.substr(4,l.length-5),d)}const c=e.search(a);c===-1||c!==0&&s.matchOnlyAtLineStart||(o===-1||c<o)&&(o=c)}if(!r)throw Ai(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return o}_nestedTokenize(e,t,i,o,r){const s=this._findLeavingNestedLanguageOffset(e,i);if(s===-1){const c=r.nestedLanguageTokenize(e,t,i.embeddedLanguageData,o);return eg.create(i.stack,new cb(i.embeddedLanguageData.languageId,c))}const a=e.substring(0,s);a.length>0&&r.nestedLanguageTokenize(a,!1,i.embeddedLanguageData,o);const l=e.substring(s);return this._myTokenize(l,t,i,o+s,r)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,o,r){r.enterLanguage(this._languageId);const s=e.length,a=t&&this._lexer.includeLF?e+`
`:e,l=a.length;let c=i.embeddedLanguageData,d=i.stack,u=0,h=null,g=!0;for(;g||u<l;){const f=u,p=d.depth,b=h?h.groups.length:0,v=d.state;let _=null,C=null,y=null,w=null,S=null;if(h){_=h.matches;const E=h.groups.shift();C=E.matched,y=E.action,w=h.rule,h.groups.length===0&&(h=null)}else{if(!g&&u>=l)break;g=!1;let E=this._lexer.tokenizer[v];if(!E&&(E=Vx(this._lexer,v),!E))throw Ai(this._lexer,"tokenizer state is not defined: "+v);const O=a.substr(u);for(const P of E)if((u===0||!P.matchOnlyAtLineStart)&&(_=O.match(P.regex),_)){C=_[0],y=P.action;break}}if(_||(_=[""],C=""),y||(u<l&&(_=[a.charAt(u)],C=_[0]),y=this._lexer.defaultToken),C===null)break;for(u+=C.length;_1e(y)&&xU(y)&&y.test;)y=y.test(C,_,v,u===l);let x=null;if(typeof y=="string"||Array.isArray(y))x=y;else if(y.group)x=y.group;else if(y.token!==null&&y.token!==void 0){if(y.tokenSubst?x=Jh(this._lexer,y.token,C,_,v):x=y.token,y.nextEmbedded)if(y.nextEmbedded==="@pop"){if(!c)throw Ai(this._lexer,"cannot pop embedded language if not inside one");c=null}else{if(c)throw Ai(this._lexer,"cannot enter embedded language from within an embedded language");S=Jh(this._lexer,y.nextEmbedded,C,_,v)}if(y.goBack&&(u=Math.max(0,u-y.goBack)),y.switchTo&&typeof y.switchTo=="string"){let E=Jh(this._lexer,y.switchTo,C,_,v);if(E[0]==="@"&&(E=E.substr(1)),Vx(this._lexer,E))d=d.switchTo(E);else throw Ai(this._lexer,"trying to switch to a state '"+E+"' that is undefined in rule: "+this._safeRuleName(w))}else{if(y.transform&&typeof y.transform=="function")throw Ai(this._lexer,"action.transform not supported");if(y.next)if(y.next==="@push"){if(d.depth>=this._lexer.maxStack)throw Ai(this._lexer,"maximum tokenizer stack size reached: ["+d.state+","+d.parent.state+",...]");d=d.push(v)}else if(y.next==="@pop"){if(d.depth<=1)throw Ai(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(w));d=d.pop()}else if(y.next==="@popall")d=d.popall();else{let E=Jh(this._lexer,y.next,C,_,v);if(E[0]==="@"&&(E=E.substr(1)),Vx(this._lexer,E))d=d.push(E);else throw Ai(this._lexer,"trying to set a next state '"+E+"' that is undefined in rule: "+this._safeRuleName(w))}}y.log&&typeof y.log=="string"&&C1e(this._lexer,this._lexer.languageId+": "+Jh(this._lexer,y.log,C,_,v))}if(x===null)throw Ai(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(w));const L=E=>{const O=this._languageService.getLanguageIdByLanguageName(E)||this._languageService.getLanguageIdByMimeType(E)||E,P=this._getNestedEmbeddedLanguageData(O);if(u<l){const A=e.substr(u);return this._nestedTokenize(A,t,eg.create(d,P),o+u,r)}else return eg.create(d,P)};if(Array.isArray(x)){if(h&&h.groups.length>0)throw Ai(this._lexer,"groups cannot be nested: "+this._safeRuleName(w));if(_.length!==x.length+1)throw Ai(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(w));let E=0;for(let O=1;O<_.length;O++)E+=_[O].length;if(E!==C.length)throw Ai(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(w));h={rule:w,matches:_,groups:[]};for(let O=0;O<x.length;O++)h.groups[O]={action:x[O],matched:_[O+1]};u-=C.length;continue}else{if(x==="@rematch"&&(u-=C.length,C="",_=null,x="",S!==null))return L(S);if(C.length===0){if(l===0||p!==d.depth||v!==d.state||(h?h.groups.length:0)!==b)continue;throw Ai(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(w))}let E=null;if(UJ(x)&&x.indexOf("@brackets")===0){const O=x.substr(9),P=k1e(this._lexer,C);if(!P)throw Ai(this._lexer,"@brackets token returned but no bracket defined as: "+C);E=kU(P.token+O)}else{const O=x===""?"":x+this._lexer.tokenPostfix;E=kU(O)}f<s&&r.emit(f+o,E)}if(S!==null)return L(S)}return eg.create(d,c)}_getNestedEmbeddedLanguageData(e){if(!this._languageService.isRegisteredLanguageId(e))return new cb(e,N_);e!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(e),rn.getOrCreate(e),this._embeddedLanguages[e]=!0);const t=rn.get(e);return t?new cb(e,t.getInitialState()):new cb(e,N_)}};Uy=d4=w1e([S1e(4,yt)],Uy);function k1e(n,e){if(!e)return null;e=Og(n,e);const t=n.brackets;for(const i of t){if(i.open===e)return{token:i.token,bracketType:1};if(i.close===e)return{token:i.token,bracketType:-1}}return null}const mM=yh("standaloneColorizer",{createHTML:n=>n});class y6{static colorizeElement(e,t,i,o){o=o||{};const r=o.theme||"vs",s=o.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!s)return console.error("Mode not detected"),Promise.resolve();const a=t.getLanguageIdByMimeType(s)||s;e.setTheme(r);const l=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+r;const c=d=>{var u;const h=(u=mM==null?void 0:mM.createHTML(d))!==null&&u!==void 0?u:d;i.innerHTML=h};return this.colorize(t,l||"",a,o).then(c,d=>console.error(d))}static async colorize(e,t,i,o){const r=e.languageIdCodec;let s=4;o&&typeof o.tabSize=="number"&&(s=o.tabSize),Z8(t)&&(t=t.substr(1));const a=qd(t);if(!e.isRegisteredLanguageId(i))return LU(a,s,r);const l=await rn.getOrCreate(i);return l?L1e(a,s,l,r):LU(a,s,r)}static colorizeLine(e,t,i,o,r=4){const s=ca.isBasicASCII(e,t),a=ca.containsRTL(e,s,i);return lI(new Pf(!1,!0,e,!1,s,a,0,o,[],r,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){const o=e.getLineContent(t);e.tokenization.forceTokenization(t);const s=e.tokenization.getLineTokens(t).inflate();return this.colorizeLine(o,e.mightContainNonBasicASCII(),e.mightContainRTL(),s,i)}}function L1e(n,e,t,i){return new Promise((o,r)=>{const s=()=>{const a=D1e(n,e,t,i);if(t instanceof Uy){const l=t.getLoadStatus();if(l.loaded===!1){l.promise.then(s,r);return}}o(a)};s()})}function LU(n,e,t){let i=[];const r=new Uint32Array(2);r[0]=0,r[1]=33587200;for(let s=0,a=n.length;s<a;s++){const l=n[s];r[0]=l.length;const c=new io(r,l,t),d=ca.isBasicASCII(l,!0),u=ca.containsRTL(l,d,!0),h=lI(new Pf(!1,!0,l,!1,d,u,0,c,[],e,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(h.html),i.push("<br/>")}return i.join("")}function D1e(n,e,t,i){let o=[],r=t.getInitialState();for(let s=0,a=n.length;s<a;s++){const l=n[s],c=t.tokenizeEncoded(l,!0,r);io.convertToEndOffset(c.tokens,l.length);const d=new io(c.tokens,l,i),u=ca.isBasicASCII(l,!0),h=ca.containsRTL(l,u,!0),g=lI(new Pf(!1,!0,l,!1,u,h,0,d.inflate(),[],e,0,0,0,0,-1,"none",!1,!1,null));o=o.concat(g.html),o.push("<br/>"),r=c.endState}return o.join("")}const DU=2e4;let vp,EL,u4,TL,h4;function E1e(n){vp=document.createElement("div"),vp.className="monaco-aria-container";const e=()=>{const i=document.createElement("div");return i.className="monaco-alert",i.setAttribute("role","alert"),i.setAttribute("aria-atomic","true"),vp.appendChild(i),i};EL=e(),u4=e();const t=()=>{const i=document.createElement("div");return i.className="monaco-status",i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),vp.appendChild(i),i};TL=t(),h4=t(),n.appendChild(vp)}function Es(n){vp&&(EL.textContent!==n?(Xo(u4),u2(EL,n)):(Xo(EL),u2(u4,n)))}function Pd(n){vp&&(TL.textContent!==n?(Xo(h4),u2(TL,n)):(Xo(TL),u2(h4,n)))}function u2(n,e){Xo(n),e.length>DU&&(e=e.substr(0,DU)),n.textContent=e,n.style.visibility="hidden",n.style.visibility="visible"}const w6=Et("markerDecorationsService");var T1e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},I1e=function(n,e){return function(t,i){e(t,i,n)}};let $y=class{constructor(e,t){}dispose(){}};$y.ID="editor.contrib.markerDecorations";$y=T1e([I1e(1,w6)],$y);Gt($y.ID,$y,0);class jJ extends z{constructor(e,t){super(),this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let e=null;const t=()=>{e?this.observe({width:e.width,height:e.height}):this.observe()};let i=!1,o=!1;const r=()=>{if(i&&!o)try{i=!1,o=!0,t()}finally{Ds(qe(this._referenceDomElement),()=>{o=!1,r()})}};this._resizeObserver=new ResizeObserver(s=>{s&&s[0]&&s[0].contentRect?e={width:s[0].contentRect.width,height:s[0].contentRect.height}:e=null,i=!0,r()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,o=0;t?(i=t.width,o=t.height):this._referenceDomElement&&(i=this._referenceDomElement.clientWidth,o=this._referenceDomElement.clientHeight),i=Math.max(5,i),o=Math.max(5,o),(this._width!==i||this._height!==o)&&(this._width=i,this._height=o,e&&this._onDidChange.fire())}}class Fg{constructor(e,t){this.key=e,this.migrate=t}apply(e){const t=Fg._read(e,this.key),i=r=>Fg._read(e,r),o=(r,s)=>Fg._write(e,r,s);this.migrate(t,i,o)}static _read(e,t){if(typeof e>"u")return;const i=t.indexOf(".");if(i>=0){const o=t.substring(0,i);return this._read(e[o],t.substring(i+1))}return e[t]}static _write(e,t,i){const o=t.indexOf(".");if(o>=0){const r=t.substring(0,o);e[r]=e[r]||{},this._write(e[r],t.substring(o+1),i);return}e[t]=i}}Fg.items=[];function Mc(n,e){Fg.items.push(new Fg(n,e))}function Ms(n,e){Mc(n,(t,i,o)=>{if(typeof t<"u"){for(const[r,s]of e)if(t===r){o(n,s);return}}})}function N1e(n){Fg.items.forEach(e=>e.apply(n))}Ms("wordWrap",[[!0,"on"],[!1,"off"]]);Ms("lineNumbers",[[!0,"on"],[!1,"off"]]);Ms("cursorBlinking",[["visible","solid"]]);Ms("renderWhitespace",[[!0,"boundary"],[!1,"none"]]);Ms("renderLineHighlight",[[!0,"line"],[!1,"none"]]);Ms("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]);Ms("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]);Ms("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);Ms("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);Ms("autoIndent",[[!1,"advanced"],[!0,"full"]]);Ms("matchBrackets",[[!0,"always"],[!1,"never"]]);Ms("renderFinalNewline",[[!0,"on"],[!1,"off"]]);Ms("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]);Ms("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]);Ms("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]);Mc("autoClosingBrackets",(n,e,t)=>{n===!1&&(t("autoClosingBrackets","never"),typeof e("autoClosingQuotes")>"u"&&t("autoClosingQuotes","never"),typeof e("autoSurround")>"u"&&t("autoSurround","never"))});Mc("renderIndentGuides",(n,e,t)=>{typeof n<"u"&&(t("renderIndentGuides",void 0),typeof e("guides.indentation")>"u"&&t("guides.indentation",!!n))});Mc("highlightActiveIndentGuide",(n,e,t)=>{typeof n<"u"&&(t("highlightActiveIndentGuide",void 0),typeof e("guides.highlightActiveIndentation")>"u"&&t("guides.highlightActiveIndentation",!!n))});const R1e={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};Mc("suggest.filteredTypes",(n,e,t)=>{if(n&&typeof n=="object"){for(const i of Object.entries(R1e))n[i[0]]===!1&&typeof e(`suggest.${i[1]}`)>"u"&&t(`suggest.${i[1]}`,!1);t("suggest.filteredTypes",void 0)}});Mc("quickSuggestions",(n,e,t)=>{if(typeof n=="boolean"){const i=n?"on":"off";t("quickSuggestions",{comments:i,strings:i,other:i})}});Mc("experimental.stickyScroll.enabled",(n,e,t)=>{typeof n=="boolean"&&(t("experimental.stickyScroll.enabled",void 0),typeof e("stickyScroll.enabled")>"u"&&t("stickyScroll.enabled",n))});Mc("experimental.stickyScroll.maxLineCount",(n,e,t)=>{typeof n=="number"&&(t("experimental.stickyScroll.maxLineCount",void 0),typeof e("stickyScroll.maxLineCount")>"u"&&t("stickyScroll.maxLineCount",n))});Mc("codeActionsOnSave",(n,e,t)=>{if(n&&typeof n=="object"){let i=!1;const o={};for(const r of Object.entries(n))typeof r[1]=="boolean"?(i=!0,o[r[0]]=r[1]?"explicit":"never"):o[r[0]]=r[1];i&&t("codeActionsOnSave",o)}});Mc("codeActionWidget.includeNearbyQuickfixes",(n,e,t)=>{typeof n=="boolean"&&(t("codeActionWidget.includeNearbyQuickfixes",void 0),typeof e("codeActionWidget.includeNearbyQuickFixes")>"u"&&t("codeActionWidget.includeNearbyQuickFixes",n))});Mc("lightbulb.enabled",(n,e,t)=>{typeof n=="boolean"&&t("lightbulb.enabled",n?void 0:"off")});class M1e{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new B,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus)}}const R_=new M1e,Dl=Et("accessibilityService"),DS=new we("accessibilityModeEnabled",!1);var A1e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},P1e=function(n,e){return function(t,i){e(t,i,n)}};let g4=class extends z{constructor(e,t,i,o){super(),this._accessibilityService=o,this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new B),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new uQ,this.isSimpleWidget=e,this._containerObserver=this._register(new jJ(i,t.dimension)),this._targetWindowId=qe(i).vscodeWindowId,this._rawOptions=EU(t),this._validatedOptions=tg.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(wa.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(R_.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(Z5.onDidChange(()=>this._recomputeOptions())),this._register(My.getInstance(qe(i)).onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const e=this._computeOptions(),t=tg.checkEquals(this.options,e);t!==null&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}_computeOptions(){const e=this._readEnvConfiguration(),t=Kp.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),i=this._readFontInfo(t),o={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:i,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:R_.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return tg.computeOptions(this._validatedOptions,o)}_readEnvConfiguration(){return{extraEditorClassName:F1e(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:jp||Oa,pixelRatio:My.getInstance(Ez(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return Z5.readFontInfo(Ez(this._targetWindowId,!0).window,e)}getRawOptions(){return this._rawOptions}updateOptions(e){const t=EU(e);tg.applyUpdate(this._rawOptions,t)&&(this._validatedOptions=tg.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const t=O1e(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(e){this._glyphMarginDecorationLaneCount!==e&&(this._glyphMarginDecorationLaneCount=e,this._recomputeOptions())}};g4=A1e([P1e(3,Dl)],g4);function O1e(n){let e=0;for(;n;)n=Math.floor(n/10),e++;return e||1}function F1e(){let n="";return!uh&&!OQ&&(n+="no-user-select "),uh&&(n+="no-minimap-shadow ",n+="enable-user-select "),Rt&&(n+="mac "),n}class B1e{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class W1e{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}}class tg{static validateOptions(e){const t=new B1e;for(const i of ob){const o=i.name==="_never_"?void 0:e[i.name];t._write(i.id,i.validate(o))}return t}static computeOptions(e,t){const i=new W1e;for(const o of ob)i._write(o.id,o.compute(t,i,e._read(o.id)));return i}static _deepEquals(e,t){if(typeof e!="object"||typeof t!="object"||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return Array.isArray(e)&&Array.isArray(t)?en(e,t):!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!tg._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let o=!1;for(const r of ob){const s=!tg._deepEquals(e._read(r.id),t._read(r.id));i[r.id]=s,s&&(o=!0)}return o?new dQ(i):null}static applyUpdate(e,t){let i=!1;for(const o of ob)if(t.hasOwnProperty(o.name)){const r=o.applyUpdate(e[o.name],t[o.name]);e[o.name]=r.newValue,i=i||r.didChange}return i}}function EU(n){const e=gu(n);return N1e(e),e}var dg;(function(n){const e={total:0,min:Number.MAX_VALUE,max:0},t={...e},i={...e},o={...e};let r=0;const s={keydown:0,input:0,render:0};function a(){v(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),s.keydown=1,queueMicrotask(l)}n.onKeyDown=a;function l(){s.keydown===1&&(performance.mark("keydown/end"),s.keydown=2)}function c(){performance.mark("input/start"),s.input=1,b()}n.onBeforeInput=c;function d(){s.input===0&&c(),queueMicrotask(u)}n.onInput=d;function u(){s.input===1&&(performance.mark("input/end"),s.input=2)}function h(){v()}n.onKeyUp=h;function g(){v()}n.onSelectionChange=g;function f(){s.keydown===2&&s.input===2&&s.render===0&&(performance.mark("render/start"),s.render=1,queueMicrotask(p),b())}n.onRenderStart=f;function p(){s.render===1&&(performance.mark("render/end"),s.render=2)}function b(){setTimeout(v)}function v(){s.keydown===2&&s.input===2&&s.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),_("keydown",e),_("input",t),_("render",i),_("inputlatency",o),r++,C())}function _(x,L){const E=performance.getEntriesByName(x)[0].duration;L.total+=E,L.min=Math.min(L.min,E),L.max=Math.max(L.max,E)}function C(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),s.keydown=0,s.input=0,s.render=0}function y(){if(r===0)return;const x={keydown:w(e),input:w(t),render:w(i),total:w(o),sampleCount:r};return S(e),S(t),S(i),S(o),r=0,x}n.getAndClearMeasurements=y;function w(x){return{average:x.total/r,max:x.max,min:x.min}}function S(x){x.total=0,x.min=Number.MAX_VALUE,x.max=0}})(dg||(dg={}));class y0{constructor(){this._hooks=new oe,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,i,o,r){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=o,this._onStopCallback=r;let s=e;try{e.setPointerCapture(t),this._hooks.add(je(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{s=qe(e)}this._hooks.add(j(s,ge.POINTER_MOVE,a=>{if(a.buttons!==i){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(j(s,ge.POINTER_UP,a=>this.stopMonitoring(!0)))}}function S6(n){return`--vscode-${n.replace(/\./g,"-")}`}function ke(n){return`var(${S6(n)})`}function V1e(n,e){return`var(${S6(n)}, ${e})`}const KJ={ColorContribution:"base.contributions.colors"};class H1e{constructor(){this._onDidChangeSchema=new B,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,o=!1,r){const s={id:e,description:i,defaults:t,needsTransparency:o,deprecationMessage:r};this.colorsById[e]=s;const a={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return r&&(a.deprecationMessage=r),o&&(a.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",a.patternErrorMessage="This color must be transparent or it will obscure content"),this.colorSchema.properties[e]=a,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i&&i.defaults){const o=i.defaults[t.type];return Al(o,t)}}getColorSchema(){return this.colorSchema}toString(){const e=(t,i)=>{const o=t.indexOf(".")===-1?0:1,r=i.indexOf(".")===-1?0:1;return o!==r?o-r:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}}const cI=new H1e;nn.add(KJ.ColorContribution,cI);function N(n,e,t,i,o){return cI.registerColor(n,e,t,i,o)}const fe=N("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},m("foreground","Overall foreground color. This color is only used if not overridden by a component."));N("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},m("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component."));N("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},m("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."));N("descriptionForeground",{light:"#717171",dark:He(fe,.7),hcDark:He(fe,.7),hcLight:He(fe,.7)},m("descriptionForeground","Foreground color for description text providing additional information, for example for a label."));const pd=N("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},m("iconForeground","The default color for icons in the workbench.")),Da=N("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},m("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Nt=N("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},m("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Oi=N("contrastActiveBorder",{light:null,dark:null,hcDark:Da,hcLight:Da},m("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast."));N("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},m("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor."));N("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:U.black,hcLight:"#292929"},m("textSeparatorForeground","Color for text separators."));const z1e=N("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},m("textLinkForeground","Foreground color for links in text."));N("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},m("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover."));N("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},m("textPreformatForeground","Foreground color for preformatted text segments."));N("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},m("textPreformatBackground","Background color for preformatted text segments."));N("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},m("textBlockQuoteBackground","Background color for block quotes in text."));N("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:U.white,hcLight:"#292929"},m("textBlockQuoteBorder","Border color for block quotes in text."));N("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:U.black,hcLight:"#F2F2F2"},m("textCodeBlockBackground","Background color for code blocks in text."));const Ru=N("widget.shadow",{dark:He(U.black,.36),light:He(U.black,.16),hcDark:null,hcLight:null},m("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),qJ=N("widget.border",{dark:null,light:null,hcDark:Nt,hcLight:Nt},m("widgetBorder","Border color of widgets such as find/replace inside the editor.")),GJ=N("input.background",{dark:"#3C3C3C",light:U.white,hcDark:U.black,hcLight:U.white},m("inputBoxBackground","Input box background.")),ZJ=N("input.foreground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("inputBoxForeground","Input box foreground.")),YJ=N("input.border",{dark:null,light:null,hcDark:Nt,hcLight:Nt},m("inputBoxBorder","Input box border.")),x6=N("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:Nt,hcLight:Nt},m("inputBoxActiveOptionBorder","Border color of activated options in input fields."));N("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},m("inputOption.hoverBackground","Background color of activated options in input fields."));const Np=N("inputOption.activeBackground",{dark:He(Da,.4),light:He(Da,.2),hcDark:U.transparent,hcLight:U.transparent},m("inputOption.activeBackground","Background hover color of options in input fields.")),k6=N("inputOption.activeForeground",{dark:U.white,light:U.black,hcDark:fe,hcLight:fe},m("inputOption.activeForeground","Foreground color of activated options in input fields."));N("input.placeholderForeground",{light:He(fe,.5),dark:He(fe,.5),hcDark:He(fe,.7),hcLight:He(fe,.7)},m("inputPlaceholderForeground","Input box foreground color for placeholder text."));const U1e=N("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:U.black,hcLight:U.white},m("inputValidationInfoBackground","Input validation background color for information severity.")),$1e=N("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:fe},m("inputValidationInfoForeground","Input validation foreground color for information severity.")),j1e=N("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:Nt,hcLight:Nt},m("inputValidationInfoBorder","Input validation border color for information severity.")),K1e=N("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:U.black,hcLight:U.white},m("inputValidationWarningBackground","Input validation background color for warning severity.")),q1e=N("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:fe},m("inputValidationWarningForeground","Input validation foreground color for warning severity.")),G1e=N("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:Nt,hcLight:Nt},m("inputValidationWarningBorder","Input validation border color for warning severity.")),Z1e=N("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:U.black,hcLight:U.white},m("inputValidationErrorBackground","Input validation background color for error severity.")),Y1e=N("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:fe},m("inputValidationErrorForeground","Input validation foreground color for error severity.")),X1e=N("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:Nt,hcLight:Nt},m("inputValidationErrorBorder","Input validation border color for error severity.")),md=N("dropdown.background",{dark:"#3C3C3C",light:U.white,hcDark:U.black,hcLight:U.white},m("dropdownBackground","Dropdown background.")),Q1e=N("dropdown.listBackground",{dark:null,light:null,hcDark:U.black,hcLight:U.white},m("dropdownListBackground","Dropdown list background.")),Mu=N("dropdown.foreground",{dark:"#F0F0F0",light:fe,hcDark:U.white,hcLight:fe},m("dropdownForeground","Dropdown foreground.")),db=N("dropdown.border",{dark:md,light:"#CECECE",hcDark:Nt,hcLight:Nt},m("dropdownBorder","Dropdown border.")),W1=N("button.foreground",{dark:U.white,light:U.white,hcDark:U.white,hcLight:U.white},m("buttonForeground","Button foreground color.")),J1e=N("button.separator",{dark:He(W1,.4),light:He(W1,.4),hcDark:He(W1,.4),hcLight:He(W1,.4)},m("buttonSeparator","Button separator color.")),V1=N("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},m("buttonBackground","Button background color.")),eCe=N("button.hoverBackground",{dark:gc(V1,.2),light:Gm(V1,.2),hcDark:V1,hcLight:V1},m("buttonHoverBackground","Button background color when hovering.")),tCe=N("button.border",{dark:Nt,light:Nt,hcDark:Nt,hcLight:Nt},m("buttonBorder","Button border color.")),iCe=N("button.secondaryForeground",{dark:U.white,light:U.white,hcDark:U.white,hcLight:fe},m("buttonSecondaryForeground","Secondary button foreground color.")),f4=N("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:U.white},m("buttonSecondaryBackground","Secondary button background color.")),nCe=N("button.secondaryHoverBackground",{dark:gc(f4,.2),light:Gm(f4,.2),hcDark:null,hcLight:null},m("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),IL=N("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:U.black,hcLight:"#0F4A85"},m("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),oCe=N("badge.foreground",{dark:U.white,light:"#333",hcDark:U.white,hcLight:U.white},m("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),H1=N("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},m("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),z1=N("scrollbarSlider.background",{dark:U.fromHex("#797979").transparent(.4),light:U.fromHex("#646464").transparent(.4),hcDark:He(Nt,.6),hcLight:He(Nt,.4)},m("scrollbarSliderBackground","Scrollbar slider background color.")),U1=N("scrollbarSlider.hoverBackground",{dark:U.fromHex("#646464").transparent(.7),light:U.fromHex("#646464").transparent(.7),hcDark:He(Nt,.8),hcLight:He(Nt,.8)},m("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),$1=N("scrollbarSlider.activeBackground",{dark:U.fromHex("#BFBFBF").transparent(.4),light:U.fromHex("#000000").transparent(.6),hcDark:Nt,hcLight:Nt},m("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),rCe=N("progressBar.background",{dark:U.fromHex("#0E70C0"),light:U.fromHex("#0E70C0"),hcDark:Nt,hcLight:Nt},m("progressBarBackground","Background color of the progress bar that can show for long running operations."));N("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},m("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const vd=N("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},m("editorError.foreground","Foreground color of error squigglies in the editor.")),sCe=N("editorError.border",{dark:null,light:null,hcDark:U.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},m("errorBorder","If set, color of double underlines for errors in the editor.")),Hx=N("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},m("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),dr=N("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},m("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),jy=N("editorWarning.border",{dark:null,light:null,hcDark:U.fromHex("#FFCC00").transparent(.8),hcLight:U.fromHex("#FFCC00").transparent(.8)},m("warningBorder","If set, color of double underlines for warnings in the editor."));N("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},m("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const ns=N("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},m("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Ky=N("editorInfo.border",{dark:null,light:null,hcDark:U.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},m("infoBorder","If set, color of double underlines for infos in the editor.")),aCe=N("editorHint.foreground",{dark:U.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},m("editorHint.foreground","Foreground color of hint squigglies in the editor."));N("editorHint.border",{dark:null,light:null,hcDark:U.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},m("hintBorder","If set, color of double underlines for hints in the editor."));N("sash.hoverBorder",{dark:Da,light:Da,hcDark:Da,hcLight:Da},m("sashActiveBorder","Border color of active sashes."));const no=N("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:U.black,hcLight:U.white},m("editorBackground","Editor background color.")),hl=N("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:U.white,hcLight:fe},m("editorForeground","Editor default foreground color."));N("editorStickyScroll.background",{light:no,dark:no,hcDark:no,hcLight:no},m("editorStickyScrollBackground","Background color of sticky scroll in the editor"));N("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:U.fromHex("#0F4A85").transparent(.1)},m("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor"));N("editorStickyScroll.border",{dark:null,light:null,hcDark:Nt,hcLight:Nt},m("editorStickyScrollBorder","Border color of sticky scroll in the editor"));N("editorStickyScroll.shadow",{dark:H1,light:H1,hcDark:H1,hcLight:H1},m("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor"));const wn=N("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:U.white},m("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Au=N("editorWidget.foreground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Pu=N("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:Nt,hcLight:Nt},m("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget."));N("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},m("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget."));const TU=N("quickInput.background",{dark:wn,light:wn,hcDark:wn,hcLight:wn},m("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),lCe=N("quickInput.foreground",{dark:Au,light:Au,hcDark:Au,hcLight:Au},m("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),cCe=N("quickInputTitle.background",{dark:new U(new Bt(255,255,255,.105)),light:new U(new Bt(0,0,0,.06)),hcDark:"#000000",hcLight:U.white},m("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),XJ=N("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:U.white,hcLight:"#0F4A85"},m("pickerGroupForeground","Quick picker color for grouping labels.")),dCe=N("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:U.white,hcLight:"#0F4A85"},m("pickerGroupBorder","Quick picker color for grouping borders.")),uCe=N("keybindingLabel.background",{dark:new U(new Bt(128,128,128,.17)),light:new U(new Bt(221,221,221,.4)),hcDark:U.transparent,hcLight:U.transparent},m("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),hCe=N("keybindingLabel.foreground",{dark:U.fromHex("#CCCCCC"),light:U.fromHex("#555555"),hcDark:U.white,hcLight:fe},m("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),gCe=N("keybindingLabel.border",{dark:new U(new Bt(51,51,51,.6)),light:new U(new Bt(204,204,204,.4)),hcDark:new U(new Bt(111,195,223)),hcLight:Nt},m("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),fCe=N("keybindingLabel.bottomBorder",{dark:new U(new Bt(68,68,68,.6)),light:new U(new Bt(187,187,187,.4)),hcDark:new U(new Bt(111,195,223)),hcLight:fe},m("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),ug=N("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},m("editorSelectionBackground","Color of the editor selection.")),pCe=N("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:U.white},m("editorSelectionForeground","Color of the selected text for high contrast.")),QJ=N("editor.inactiveSelectionBackground",{light:He(ug,.5),dark:He(ug,.5),hcDark:He(ug,.7),hcLight:He(ug,.5)},m("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),L6=N("editor.selectionHighlightBackground",{light:FU(ug,no,.3,.6),dark:FU(ug,no,.3,.6),hcDark:null,hcLight:null},m("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0);N("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:Oi,hcLight:Oi},m("editorSelectionHighlightBorder","Border color for regions with the same content as the selection."));N("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},m("editorFindMatch","Color of the current search match."));const Ou=N("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},m("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0);N("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},m("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);N("editor.findMatchBorder",{light:null,dark:null,hcDark:Oi,hcLight:Oi},m("editorFindMatchBorder","Border color of the current search match."));const hg=N("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:Oi,hcLight:Oi},m("findMatchHighlightBorder","Border color of the other search matches.")),mCe=N("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:He(Oi,.4),hcLight:He(Oi,.4)},m("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);N("searchEditor.findMatchBackground",{light:He(Ou,.66),dark:He(Ou,.66),hcDark:Ou,hcLight:Ou},m("searchEditor.queryMatch","Color of the Search Editor query matches."));N("searchEditor.findMatchBorder",{light:He(hg,.66),dark:He(hg,.66),hcDark:hg,hcLight:hg},m("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));N("search.resultsInfoForeground",{light:fe,dark:He(fe,.65),hcDark:fe,hcLight:fe},m("search.resultsInfoForeground","Color of the text in the search viewlet's completion message."));N("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},m("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0);const h2=N("editorHoverWidget.background",{light:wn,dark:wn,hcDark:wn,hcLight:wn},m("hoverBackground","Background color of the editor hover."));N("editorHoverWidget.foreground",{light:Au,dark:Au,hcDark:Au,hcLight:Au},m("hoverForeground","Foreground color of the editor hover."));const JJ=N("editorHoverWidget.border",{light:Pu,dark:Pu,hcDark:Pu,hcLight:Pu},m("hoverBorder","Border color of the editor hover."));N("editorHoverWidget.statusBarBackground",{dark:gc(h2,.2),light:Gm(h2,.05),hcDark:wn,hcLight:wn},m("statusBarBackground","Background color of the editor hover status bar."));const vCe=N("editorLink.activeForeground",{dark:"#4E94CE",light:U.blue,hcDark:U.cyan,hcLight:"#292929"},m("activeLinkForeground","Color of active links.")),Fu=N("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:U.white,hcLight:U.black},m("editorInlayHintForeground","Foreground color of inline hints")),Bu=N("editorInlayHint.background",{dark:He(IL,.1),light:He(IL,.1),hcDark:He(U.white,.1),hcLight:He(IL,.1)},m("editorInlayHintBackground","Background color of inline hints")),bCe=N("editorInlayHint.typeForeground",{dark:Fu,light:Fu,hcDark:Fu,hcLight:Fu},m("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),_Ce=N("editorInlayHint.typeBackground",{dark:Bu,light:Bu,hcDark:Bu,hcLight:Bu},m("editorInlayHintBackgroundTypes","Background color of inline hints for types")),CCe=N("editorInlayHint.parameterForeground",{dark:Fu,light:Fu,hcDark:Fu,hcLight:Fu},m("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),yCe=N("editorInlayHint.parameterBackground",{dark:Bu,light:Bu,hcDark:Bu,hcLight:Bu},m("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),zx=N("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},m("editorLightBulbForeground","The color used for the lightbulb actions icon."));N("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},m("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon."));N("editorLightBulbAi.foreground",{dark:zx,light:zx,hcDark:zx,hcLight:zx},m("editorLightBulbAiForeground","The color used for the lightbulb AI icon."));const p4=new U(new Bt(155,185,85,.2)),m4=new U(new Bt(255,0,0,.2)),wCe=N("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},m("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),SCe=N("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},m("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);N("diffEditor.insertedLineBackground",{dark:p4,light:p4,hcDark:null,hcLight:null},m("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0);N("diffEditor.removedLineBackground",{dark:m4,light:m4,hcDark:null,hcLight:null},m("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);N("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},m("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted."));N("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},m("diffEditorRemovedLineGutter","Background color for the margin where lines got removed."));const xCe=N("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},m("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),kCe=N("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},m("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content."));N("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},m("diffEditorInsertedOutline","Outline color for the text that got inserted."));N("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},m("diffEditorRemovedOutline","Outline color for text that got removed."));N("diffEditor.border",{dark:null,light:null,hcDark:Nt,hcLight:Nt},m("diffEditorBorder","Border color between the two text editors."));N("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},m("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views."));N("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},m("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor."));N("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},m("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor."));N("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},m("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor."));const LCe=N("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},m("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),DCe=N("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},m("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ECe=N("list.focusOutline",{dark:Da,light:Da,hcDark:Oi,hcLight:Oi},m("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),TCe=N("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},m("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Wu=N("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:U.fromHex("#0F4A85").transparent(.1)},m("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),bd=N("list.activeSelectionForeground",{dark:U.white,light:U.white,hcDark:null,hcLight:null},m("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),j1=N("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},m("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ICe=N("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:U.fromHex("#0F4A85").transparent(.1)},m("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),NCe=N("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},m("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),RCe=N("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},m("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),MCe=N("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},m("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ACe=N("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},m("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),eee=N("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:U.white.transparent(.1),hcLight:U.fromHex("#0F4A85").transparent(.1)},m("listHoverBackground","List/Tree background when hovering over items using the mouse.")),tee=N("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},m("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),PCe=N("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},m("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),OCe=N("list.dropBetweenBackground",{dark:pd,light:pd,hcDark:null,hcLight:null},m("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),gl=N("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:Da,hcLight:Da},m("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),Ux=N("list.focusHighlightForeground",{dark:gl,light:hye(Wu,gl,"#BBE7FF"),hcDark:gl,hcLight:gl},m("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));N("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},m("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer."));N("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},m("listErrorForeground","Foreground color of list items containing errors."));N("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},m("listWarningForeground","Foreground color of list items containing warnings."));const FCe=N("listFilterWidget.background",{light:Gm(wn,0),dark:gc(wn,0),hcDark:wn,hcLight:wn},m("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),BCe=N("listFilterWidget.outline",{dark:U.transparent,light:U.transparent,hcDark:"#f38518",hcLight:"#007ACC"},m("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),WCe=N("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:Nt,hcLight:Nt},m("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),VCe=N("listFilterWidget.shadow",{dark:Ru,light:Ru,hcDark:Ru,hcLight:Ru},m("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees."));N("list.filterMatchBackground",{dark:Ou,light:Ou,hcDark:null,hcLight:null},m("listFilterMatchHighlight","Background color of the filtered match."));N("list.filterMatchBorder",{dark:hg,light:hg,hcDark:Nt,hcLight:Oi},m("listFilterMatchHighlightBorder","Border color of the filtered match."));const K1=N("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},m("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),HCe=N("tree.inactiveIndentGuidesStroke",{dark:He(K1,.4),light:He(K1,.4),hcDark:He(K1,.4),hcLight:He(K1,.4)},m("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),zCe=N("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},m("tableColumnsBorder","Table border color between columns.")),UCe=N("tree.tableOddRowsBackground",{dark:He(fe,.04),light:He(fe,.04),hcDark:null,hcLight:null},m("tableOddRowsBackgroundColor","Background color for odd table rows."));N("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},m("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. "));const $Ce=N("checkbox.background",{dark:md,light:md,hcDark:md,hcLight:md},m("checkbox.background","Background color of checkbox widget."));N("checkbox.selectBackground",{dark:wn,light:wn,hcDark:wn,hcLight:wn},m("checkbox.select.background","Background color of checkbox widget when the element it's in is selected."));const jCe=N("checkbox.foreground",{dark:Mu,light:Mu,hcDark:Mu,hcLight:Mu},m("checkbox.foreground","Foreground color of checkbox widget.")),KCe=N("checkbox.border",{dark:db,light:db,hcDark:db,hcLight:db},m("checkbox.border","Border color of checkbox widget."));N("checkbox.selectBorder",{dark:pd,light:pd,hcDark:pd,hcLight:pd},m("checkbox.select.border","Border color of checkbox widget when the element it's in is selected."));const IU=N("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,m("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),Rp=N("quickInputList.focusForeground",{dark:bd,light:bd,hcDark:bd,hcLight:bd},m("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),ub=N("quickInputList.focusIconForeground",{dark:j1,light:j1,hcDark:j1,hcLight:j1},m("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Mp=N("quickInputList.focusBackground",{dark:qy(IU,Wu),light:qy(IU,Wu),hcDark:null,hcLight:null},m("quickInput.listFocusBackground","Quick picker background color for the focused item.")),qCe=N("menu.border",{dark:null,light:null,hcDark:Nt,hcLight:Nt},m("menuBorder","Border color of menus.")),GCe=N("menu.foreground",{dark:Mu,light:Mu,hcDark:Mu,hcLight:Mu},m("menuForeground","Foreground color of menu items.")),ZCe=N("menu.background",{dark:md,light:md,hcDark:md,hcLight:md},m("menuBackground","Background color of menu items.")),YCe=N("menu.selectionForeground",{dark:bd,light:bd,hcDark:bd,hcLight:bd},m("menuSelectionForeground","Foreground color of the selected menu item in menus.")),XCe=N("menu.selectionBackground",{dark:Wu,light:Wu,hcDark:Wu,hcLight:Wu},m("menuSelectionBackground","Background color of the selected menu item in menus.")),QCe=N("menu.selectionBorder",{dark:null,light:null,hcDark:Oi,hcLight:Oi},m("menuSelectionBorder","Border color of the selected menu item in menus.")),JCe=N("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:Nt,hcLight:Nt},m("menuSeparatorBackground","Color of a separator menu item in menus.")),NU=N("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},m("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse"));N("toolbar.hoverOutline",{dark:null,light:null,hcDark:Oi,hcLight:Oi},m("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse"));N("toolbar.activeBackground",{dark:gc(NU,.1),light:Gm(NU,.1),hcDark:null,hcLight:null},m("toolbarActiveBackground","Toolbar background when holding the mouse over actions"));N("editor.snippetTabstopHighlightBackground",{dark:new U(new Bt(124,124,124,.3)),light:new U(new Bt(10,50,100,.2)),hcDark:new U(new Bt(124,124,124,.3)),hcLight:new U(new Bt(10,50,100,.2))},m("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop."));N("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},m("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop."));N("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},m("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet."));N("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new U(new Bt(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},m("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet."));const eye=N("breadcrumb.foreground",{light:He(fe,.8),dark:He(fe,.8),hcDark:He(fe,.8),hcLight:He(fe,.8)},m("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),tye=N("breadcrumb.background",{light:no,dark:no,hcDark:no,hcLight:no},m("breadcrumbsBackground","Background color of breadcrumb items.")),RU=N("breadcrumb.focusForeground",{light:Gm(fe,.2),dark:gc(fe,.1),hcDark:gc(fe,.1),hcLight:gc(fe,.1)},m("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),iye=N("breadcrumb.activeSelectionForeground",{light:Gm(fe,.2),dark:gc(fe,.1),hcDark:gc(fe,.1),hcLight:gc(fe,.1)},m("breadcrumbsSelectedForeground","Color of selected breadcrumb items."));N("breadcrumbPicker.background",{light:wn,dark:wn,hcDark:wn,hcLight:wn},m("breadcrumbsSelectedBackground","Background color of breadcrumb item picker."));const iee=.5,MU=U.fromHex("#40C8AE").transparent(iee),AU=U.fromHex("#40A6FF").transparent(iee),PU=U.fromHex("#606060").transparent(.4),fl=.4,M_=1,hb=N("merge.currentHeaderBackground",{dark:MU,light:MU,hcDark:null,hcLight:null},m("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);N("merge.currentContentBackground",{dark:He(hb,fl),light:He(hb,fl),hcDark:He(hb,fl),hcLight:He(hb,fl)},m("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const gb=N("merge.incomingHeaderBackground",{dark:AU,light:AU,hcDark:null,hcLight:null},m("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);N("merge.incomingContentBackground",{dark:He(gb,fl),light:He(gb,fl),hcDark:He(gb,fl),hcLight:He(gb,fl)},m("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const fb=N("merge.commonHeaderBackground",{dark:PU,light:PU,hcDark:null,hcLight:null},m("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);N("merge.commonContentBackground",{dark:He(fb,fl),light:He(fb,fl),hcDark:He(fb,fl),hcLight:He(fb,fl)},m("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const A_=N("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},m("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."));N("editorOverviewRuler.currentContentForeground",{dark:He(hb,M_),light:He(hb,M_),hcDark:A_,hcLight:A_},m("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts."));N("editorOverviewRuler.incomingContentForeground",{dark:He(gb,M_),light:He(gb,M_),hcDark:A_,hcLight:A_},m("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts."));N("editorOverviewRuler.commonContentForeground",{dark:He(fb,M_),light:He(fb,M_),hcDark:A_,hcLight:A_},m("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts."));const D6=N("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},m("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),q1=N("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},m("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),pb=N("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},m("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),dI=N("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},m("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),OU=N("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},m("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),nye=N("minimap.infoHighlight",{dark:ns,light:ns,hcDark:Ky,hcLight:Ky},m("minimapInfo","Minimap marker color for infos.")),oye=N("minimap.warningHighlight",{dark:dr,light:dr,hcDark:jy,hcLight:jy},m("overviewRuleWarning","Minimap marker color for warnings.")),rye=N("minimap.errorHighlight",{dark:new U(new Bt(255,18,18,.7)),light:new U(new Bt(255,18,18,.7)),hcDark:new U(new Bt(255,50,50,1)),hcLight:"#B5200D"},m("minimapError","Minimap marker color for errors.")),sye=N("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},m("minimapBackground","Minimap background color.")),aye=N("minimap.foregroundOpacity",{dark:U.fromHex("#000f"),light:U.fromHex("#000f"),hcDark:U.fromHex("#000f"),hcLight:U.fromHex("#000f")},m("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.'));N("minimapSlider.background",{light:He(z1,.5),dark:He(z1,.5),hcDark:He(z1,.5),hcLight:He(z1,.5)},m("minimapSliderBackground","Minimap slider background color."));N("minimapSlider.hoverBackground",{light:He(U1,.5),dark:He(U1,.5),hcDark:He(U1,.5),hcLight:He(U1,.5)},m("minimapSliderHoverBackground","Minimap slider background color when hovering."));N("minimapSlider.activeBackground",{light:He($1,.5),dark:He($1,.5),hcDark:He($1,.5),hcLight:He($1,.5)},m("minimapSliderActiveBackground","Minimap slider background color when clicked on."));const lye=N("problemsErrorIcon.foreground",{dark:vd,light:vd,hcDark:vd,hcLight:vd},m("problemsErrorIconForeground","The color used for the problems error icon.")),cye=N("problemsWarningIcon.foreground",{dark:dr,light:dr,hcDark:dr,hcLight:dr},m("problemsWarningIconForeground","The color used for the problems warning icon.")),dye=N("problemsInfoIcon.foreground",{dark:ns,light:ns,hcDark:ns,hcLight:ns},m("problemsInfoIconForeground","The color used for the problems info icon."));N("charts.foreground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("chartsForeground","The foreground color used in charts."));N("charts.lines",{dark:He(fe,.5),light:He(fe,.5),hcDark:He(fe,.5),hcLight:He(fe,.5)},m("chartsLines","The color used for horizontal lines in charts."));N("charts.red",{dark:vd,light:vd,hcDark:vd,hcLight:vd},m("chartsRed","The red color used in chart visualizations."));N("charts.blue",{dark:ns,light:ns,hcDark:ns,hcLight:ns},m("chartsBlue","The blue color used in chart visualizations."));N("charts.yellow",{dark:dr,light:dr,hcDark:dr,hcLight:dr},m("chartsYellow","The yellow color used in chart visualizations."));N("charts.orange",{dark:pb,light:pb,hcDark:pb,hcLight:pb},m("chartsOrange","The orange color used in chart visualizations."));N("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},m("chartsGreen","The green color used in chart visualizations."));N("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},m("chartsPurple","The purple color used in chart visualizations."));function uye(n,e){var t,i,o,r;switch(n.op){case 0:return(t=Al(n.value,e))===null||t===void 0?void 0:t.darken(n.factor);case 1:return(i=Al(n.value,e))===null||i===void 0?void 0:i.lighten(n.factor);case 2:return(o=Al(n.value,e))===null||o===void 0?void 0:o.transparent(n.factor);case 3:{const s=Al(n.background,e);return s?(r=Al(n.value,e))===null||r===void 0?void 0:r.makeOpaque(s):Al(n.value,e)}case 4:for(const s of n.values){const a=Al(s,e);if(a)return a}return;case 6:return Al(e.defines(n.if)?n.then:n.else,e);case 5:{const s=Al(n.value,e);if(!s)return;const a=Al(n.background,e);return a?s.isDarkerThan(a)?U.getLighterColor(s,a,n.factor).transparent(n.transparency):U.getDarkerColor(s,a,n.factor).transparent(n.transparency):s.transparent(n.factor*n.transparency)}default:throw JT()}}function Gm(n,e){return{op:0,value:n,factor:e}}function gc(n,e){return{op:1,value:n,factor:e}}function He(n,e){return{op:2,value:n,factor:e}}function qy(...n){return{op:4,values:n}}function hye(n,e,t){return{op:6,if:n,then:e,else:t}}function FU(n,e,t,i){return{op:5,value:n,background:e,factor:t,transparency:i}}function Al(n,e){if(n!==null){if(typeof n=="string")return n[0]==="#"?U.fromHex(n):e.getColor(n);if(n instanceof U)return n;if(typeof n=="object")return uye(n,e)}}const nee="vscode://schemas/workbench-colors",oee=nn.as(sI.JSONContribution);oee.registerSchema(nee,cI.getColorSchema());const BU=new mi(()=>oee.notifySchemaChanged(nee),200);cI.onDidChangeSchema(()=>{BU.isScheduled()||BU.schedule()});class uI{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(e){return new ree(this.x-e.scrollX,this.y-e.scrollY)}}class ree{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(e){return new uI(this.clientX+e.scrollX,this.clientY+e.scrollY)}}class gye{constructor(e,t,i,o){this.x=e,this.y=t,this.width=i,this.height=o,this._editorPagePositionBrand=void 0}}class fye{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}}function E6(n){const e=In(n);return new gye(e.left,e.top,e.width,e.height)}function T6(n,e,t){const i=e.width/n.offsetWidth,o=e.height/n.offsetHeight,r=(t.x-e.x)/i,s=(t.y-e.y)/o;return new fye(r,s)}class af extends dl{constructor(e,t,i){super(qe(i),e),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=t,this.pos=new uI(this.posx,this.posy),this.editorPos=E6(i),this.relativePos=T6(i,this.editorPos,this.pos)}}class pye{constructor(e){this._editorViewDomNode=e}_create(e){return new af(e,!1,this._editorViewDomNode)}onContextMenu(e,t){return j(e,"contextmenu",i=>{t(this._create(i))})}onMouseUp(e,t){return j(e,"mouseup",i=>{t(this._create(i))})}onMouseDown(e,t){return j(e,ge.MOUSE_DOWN,i=>{t(this._create(i))})}onPointerDown(e,t){return j(e,ge.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onMouseLeave(e,t){return j(e,ge.MOUSE_LEAVE,i=>{t(this._create(i))})}onMouseMove(e,t){return j(e,"mousemove",i=>t(this._create(i)))}}class mye{constructor(e){this._editorViewDomNode=e}_create(e){return new af(e,!1,this._editorViewDomNode)}onPointerUp(e,t){return j(e,"pointerup",i=>{t(this._create(i))})}onPointerDown(e,t){return j(e,ge.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onPointerLeave(e,t){return j(e,ge.POINTER_LEAVE,i=>{t(this._create(i))})}onPointerMove(e,t){return j(e,"pointermove",i=>t(this._create(i)))}}class vye extends z{constructor(e){super(),this._editorViewDomNode=e,this._globalPointerMoveMonitor=this._register(new y0),this._keydownListener=null}startMonitoring(e,t,i,o,r){this._keydownListener=fn(e.ownerDocument,"keydown",s=>{s.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,s.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(e,t,i,s=>{o(new af(s,!0,this._editorViewDomNode))},s=>{this._keydownListener.dispose(),r(s)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class ES{constructor(e){this._editor=e,this._instanceId=++ES._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new mi(()=>this.garbageCollect(),1e3)}createClassNameRef(e){const t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){const t=this.computeUniqueKey(e);let i=this._rules.get(t);if(!i){const o=this._counter++;i=new bye(t,`dyn-rule-${this._instanceId}-${o}`,e2(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,i)}return i}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(const e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}}ES._idPool=0;class bye{constructor(e,t,i,o){this.key=e,this.className=t,this.properties=o,this._referenceCount=0,this._styleElementDisposables=new oe,this._styleElement=sa(i,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let i=`.${e} {`;for(const o in t){const r=t[o];let s;typeof r=="object"?s=ke(r.id):s=r;const a=_ye(o);i+=`
	${a}: ${s};`}return i+=`
}`,i}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function _ye(n){return n.replace(/(^[A-Z])/,([e])=>e.toLowerCase()).replace(/([A-Z])/g,([e])=>`-${e.toLowerCase()}`)}class TS extends z{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,o=e.length;i<o;i++){const r=e[i];switch(r.type){case 0:this.onCompositionStart(r)&&(t=!0);break;case 1:this.onCompositionEnd(r)&&(t=!0);break;case 2:this.onConfigurationChanged(r)&&(t=!0);break;case 3:this.onCursorStateChanged(r)&&(t=!0);break;case 4:this.onDecorationsChanged(r)&&(t=!0);break;case 5:this.onFlushed(r)&&(t=!0);break;case 6:this.onFocusChanged(r)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(r)&&(t=!0);break;case 8:this.onLineMappingChanged(r)&&(t=!0);break;case 9:this.onLinesChanged(r)&&(t=!0);break;case 10:this.onLinesDeleted(r)&&(t=!0);break;case 11:this.onLinesInserted(r)&&(t=!0);break;case 12:this.onRevealRangeRequest(r)&&(t=!0);break;case 13:this.onScrollChanged(r)&&(t=!0);break;case 15:this.onTokensChanged(r)&&(t=!0);break;case 14:this.onThemeChanged(r)&&(t=!0);break;case 16:this.onTokensColorsChanged(r)&&(t=!0);break;case 17:this.onZonesChanged(r)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(r)}}t&&(this._shouldRender=!0)}}class As extends TS{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class wc{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return t===null?0:parseInt(t,10)}static collect(e,t){const i=[];let o=0;for(;e&&e!==e.ownerDocument.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[o++]=this.read(e)),e=e.parentElement;const r=new Uint8Array(o);for(let s=0;s<o;s++)r[s]=i[o-s-1];return r}}class Cye{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e,t){return this._viewLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t){return this._viewLayout.getVerticalOffsetAfterLineNumber(e,t)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class yye extends Cye{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class wye{constructor(e,t,i,o){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i,this.continuesOnNextLine=o}}class hI{static from(e){const t=new Array(e.length);for(let i=0,o=e.length;i<o;i++){const r=e[i];t[i]=new hI(r.left,r.width)}return t}constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}toString(){return`[${this.left},${this.width}]`}}class qp{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class Sye{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class WU{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class NL{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,o,r){const s=this._createRange();try{return s.setStart(e,t),s.setEnd(i,o),s.getClientRects()}catch{return null}finally{this._detachRange(s,r)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(qp.compare);const t=[];let i=0,o=e[0];for(let r=1,s=e.length;r<s;r++){const a=e[r];o.left+o.width+.9>=a.left?o.width=Math.max(o.width,a.left+a.width-o.left):(t[i++]=o,o=a)}return t[i++]=o,t}static _createHorizontalRangesFromClientRects(e,t,i){if(!e||e.length===0)return null;const o=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];o[r]=new qp(Math.max(0,(a.left-t)/i),a.width/i)}return this._mergeAdjacentRanges(o)}static readHorizontalRanges(e,t,i,o,r,s){const l=e.children.length-1;if(0>l)return null;if(t=Math.min(l,Math.max(0,t)),o=Math.min(l,Math.max(0,o)),t===o&&i===r&&i===0&&!e.children[t].firstChild){const h=e.children[t].getClientRects();return s.markDidDomLayout(),this._createHorizontalRangesFromClientRects(h,s.clientRectDeltaLeft,s.clientRectScale)}t!==o&&o>0&&r===0&&(o--,r=1073741824);let c=e.children[t].firstChild,d=e.children[o].firstChild;if((!c||!d)&&(!c&&i===0&&t>0&&(c=e.children[t-1].firstChild,i=1073741824),!d&&r===0&&o>0&&(d=e.children[o-1].firstChild,r=1073741824)),!c||!d)return null;i=Math.min(c.textContent.length,Math.max(0,i)),r=Math.min(d.textContent.length,Math.max(0,r));const u=this._readClientRects(c,i,d,r,s.endNode);return s.markDidDomLayout(),this._createHorizontalRangesFromClientRects(u,s.clientRectDeltaLeft,s.clientRectScale)}}var Ea;(function(n){n.DARK="dark",n.LIGHT="light",n.HIGH_CONTRAST_DARK="hcDark",n.HIGH_CONTRAST_LIGHT="hcLight"})(Ea||(Ea={}));function fc(n){return n===Ea.HIGH_CONTRAST_DARK||n===Ea.HIGH_CONTRAST_LIGHT}function P_(n){return n===Ea.DARK||n===Ea.HIGH_CONTRAST_DARK}const xye=function(){return dc?!0:!(Br||Oa||uh)}();let zb=!0;class VU{constructor(e,t){this.themeType=t;const i=e.options,o=i.get(50);i.get(38)==="off"?this.renderWhitespace=i.get(99):this.renderWhitespace="none",this.renderControlCharacters=i.get(94),this.spaceWidth=o.spaceWidth,this.middotWidth=o.middotWidth,this.wsmiddotWidth=o.wsmiddotWidth,this.useMonospaceOptimizations=o.isMonospace&&!i.get(33),this.canUseHalfwidthRightwardsArrow=o.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(67),this.stopRenderingLineAfter=i.get(117),this.fontLigatures=i.get(51)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class ad{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=ii(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return fc(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,t,i,o){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const r=i.getViewLineRenderingData(e),s=this._options,a=Rr.filter(r.inlineDecorations,e,r.minColumn,r.maxColumn);let l=null;if(fc(s.themeType)||this._options.renderWhitespace==="selection"){const h=i.selections;for(const g of h){if(g.endLineNumber<e||g.startLineNumber>e)continue;const f=g.startLineNumber===e?g.startColumn:r.minColumn,p=g.endLineNumber===e?g.endColumn:r.maxColumn;f<p&&(fc(s.themeType)&&a.push(new Rr(f,p,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(l||(l=[]),l.push(new WJ(f-1,p-1))))}}const c=new Pf(s.useMonospaceOptimizations,s.canUseHalfwidthRightwardsArrow,r.content,r.continuesWithWrappedLine,r.isBasicASCII,r.containsRTL,r.minColumn-1,r.tokens,a,r.tabSize,r.startVisibleColumn,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==Zs.OFF,l);if(this._renderedViewLine&&this._renderedViewLine.input.equals(c))return!1;o.appendString('<div style="top:'),o.appendString(String(t)),o.appendString("px;height:"),o.appendString(String(this._options.lineHeight)),o.appendString('px;" class="'),o.appendString(ad.CLASS_NAME),o.appendString('">');const d=LS(c,o);o.appendString("</div>");let u=null;return zb&&xye&&r.isBasicASCII&&s.useMonospaceOptimizations&&d.containsForeignElements===0&&(u=new $x(this._renderedViewLine?this._renderedViewLine.domNode:null,c,d.characterMapping)),u||(u=aee(this._renderedViewLine?this._renderedViewLine.domNode:null,c,d.characterMapping,d.containsRTL,d.containsForeignElements)),this._renderedViewLine=u,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(e){return this._renderedViewLine?this._renderedViewLine.getWidth(e):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof $x:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof $x?this._renderedViewLine.monospaceAssumptionsAreValid():zb}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof $x&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,o){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));const r=this._renderedViewLine.input.stopRenderingLineAfter;if(r!==-1&&t>r+1&&i>r+1)return new WU(!0,[new qp(this.getWidth(o),0)]);r!==-1&&t>r+1&&(t=r+1),r!==-1&&i>r+1&&(i=r+1);const s=this._renderedViewLine.getVisibleRangesForRange(e,t,i,o);return s&&s.length>0?new WU(!1,s):null}getColumnOfNodeOffset(e,t){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t):1}}ad.CLASS_NAME="view-line";class $x{constructor(e,t,i){this._cachedWidth=-1,this.domNode=e,this.input=t;const o=Math.floor(t.lineContent.length/300);if(o>0){this._keyColumnPixelOffsetCache=new Float32Array(o);for(let r=0;r<o;r++)this._keyColumnPixelOffsetCache[r]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(e){if(!this.domNode||this.input.lineContent.length<300){const t=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*t)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return zb;if(this.input.lineContent.length<300){const e=this.getWidth(null),t=this.domNode.domNode.firstChild.offsetWidth;Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),zb=!1)}return zb}toSlowRenderedLine(){return aee(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,o){const r=this._getColumnPixelOffset(e,t,o),s=this._getColumnPixelOffset(e,i,o);return[new qp(r,s-r)]}_getColumnPixelOffset(e,t,i){if(t<=300){const c=this._characterMapping.getHorizontalOffset(t);return this._charWidth*c}const o=Math.floor((t-1)/300)-1,r=(o+1)*300+1;let s=-1;if(this._keyColumnPixelOffsetCache&&(s=this._keyColumnPixelOffsetCache[o],s===-1&&(s=this._actualReadPixelOffset(e,r,i),this._keyColumnPixelOffsetCache[o]=s)),s===-1){const c=this._characterMapping.getHorizontalOffset(t);return this._charWidth*c}const a=this._characterMapping.getHorizontalOffset(r),l=this._characterMapping.getHorizontalOffset(t);return s+this._charWidth*(l-a)}_getReadingTarget(e){return e.domNode.firstChild}_actualReadPixelOffset(e,t,i){if(!this.domNode)return-1;const o=this._characterMapping.getDomPosition(t),r=NL.readHorizontalRanges(this._getReadingTarget(this.domNode),o.partIndex,o.charIndex,o.partIndex,o.charIndex,i);return!r||r.length===0?-1:r[0].left}getColumnOfNodeOffset(e,t){return I6(this._characterMapping,e,t)}}class see{constructor(e,t,i,o,r){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=r,this._cachedWidth=-1,this._pixelOffsetCache=null,!o||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let s=0,a=this._characterMapping.length;s<=a;s++)this._pixelOffsetCache[s]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(e){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,t,i,o){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const r=this._readPixelOffset(this.domNode,e,t,o);if(r===-1)return null;const s=this._readPixelOffset(this.domNode,e,i,o);return s===-1?null:[new qp(r,s-r)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,o)}_readVisibleRangesForRange(e,t,i,o,r){if(i===o){const s=this._readPixelOffset(e,t,i,r);return s===-1?null:[new qp(s,0)]}else return this._readRawVisibleRangesForRange(e,i,o,r)}_readPixelOffset(e,t,i,o){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(o);const r=this._getReadingTarget(e);return r.firstChild?(o.markDidDomLayout(),r.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const r=this._pixelOffsetCache[i];if(r!==-1)return r;const s=this._actualReadPixelOffset(e,t,i,o);return this._pixelOffsetCache[i]=s,s}return this._actualReadPixelOffset(e,t,i,o)}_actualReadPixelOffset(e,t,i,o){if(this._characterMapping.length===0){const l=NL.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,o);return!l||l.length===0?-1:l[0].left}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(o);const r=this._characterMapping.getDomPosition(i),s=NL.readHorizontalRanges(this._getReadingTarget(e),r.partIndex,r.charIndex,r.partIndex,r.charIndex,o);if(!s||s.length===0)return-1;const a=s[0].left;if(this.input.isBasicASCII){const l=this._characterMapping.getHorizontalOffset(i),c=Math.round(this.input.spaceWidth*l);if(Math.abs(c-a)<=1)return c}return a}_readRawVisibleRangesForRange(e,t,i,o){if(t===1&&i===this._characterMapping.length)return[new qp(0,this.getWidth(o))];const r=this._characterMapping.getDomPosition(t),s=this._characterMapping.getDomPosition(i);return NL.readHorizontalRanges(this._getReadingTarget(e),r.partIndex,r.charIndex,s.partIndex,s.charIndex,o)}getColumnOfNodeOffset(e,t){return I6(this._characterMapping,e,t)}}class kye extends see{_readVisibleRangesForRange(e,t,i,o,r){const s=super._readVisibleRangesForRange(e,t,i,o,r);if(!s||s.length===0||i===o||i===1&&o===this._characterMapping.length)return s;if(!this.input.containsRTL){const a=this._readPixelOffset(e,t,o,r);if(a!==-1){const l=s[s.length-1];l.left<a&&(l.width=a-l.left)}}return s}}const aee=function(){return jp?Lye:Dye}();function Lye(n,e,t,i,o){return new kye(n,e,t,i,o)}function Dye(n,e,t,i,o){return new see(n,e,t,i,o)}function I6(n,e,t){const i=e.textContent.length;let o=-1;for(;e;)e=e.previousSibling,o++;return n.getColumn(new VJ(o,t),i)}class Zn{static _nextVisibleColumn(e,t,i){return e===9?Zn.nextRenderTabStop(t,i):ef(e)||G8(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){const o=Math.min(t-1,e.length),r=e.substring(0,o),s=new XD(r);let a=0;for(;!s.eol();){const l=YD(r,o,s.offset);s.nextGraphemeLength(),a=this._nextVisibleColumn(l,a,i)}return a}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const o=e.length,r=new XD(e);let s=0,a=1;for(;!r.eol();){const l=YD(e,o,r.offset);r.nextGraphemeLength();const c=this._nextVisibleColumn(l,s,i),d=r.offset+1;if(c>=t){const u=t-s;return c-t<u?d:a}s=c,a=d}return o+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}class Gy{static whitespaceVisibleColumn(e,t,i){const o=e.length;let r=0,s=-1,a=-1;for(let l=0;l<o;l++){if(l===t)return[s,a,r];switch(r%i===0&&(s=l,a=r),e.charCodeAt(l)){case 32:r+=1;break;case 9:r=Zn.nextRenderTabStop(r,i);break;default:return[-1,-1,-1]}}return t===o?[s,a,r]:[-1,-1,-1]}static atomicPosition(e,t,i,o){const r=e.length,[s,a,l]=Gy.whitespaceVisibleColumn(e,t,i);if(l===-1)return-1;let c;switch(o){case 0:c=!0;break;case 1:c=!1;break;case 2:if(l%i===0)return t;c=l%i<=i/2;break}if(c){if(s===-1)return-1;let h=a;for(let g=s;g<r;++g){if(h===a+i)return s;switch(e.charCodeAt(g)){case 32:h+=1;break;case 9:h=Zn.nextRenderTabStop(h,i);break;default:return-1}}return h===a+i?s:-1}const d=Zn.nextRenderTabStop(l,i);let u=l;for(let h=t;h<r;h++){if(u===d)return h;switch(e.charCodeAt(h)){case 32:u+=1;break;case 9:u=Zn.nextRenderTabStop(u,i);break;default:return-1}}return u===d?r:-1}}class Vh{constructor(e=null){this.hitTarget=e,this.type=0}}class lee{constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}var bp;(function(n){function e(t,i,o){const r=t.getPositionFromDOMInfo(i,o);return r?new lee(r,i,null):new Vh(i)}n.createFromDOMInfo=e})(bp||(bp={}));class Eye{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class ar{static _deduceRage(e,t=null){return!t&&e?new D(e.lineNumber,e.column,e.lineNumber,e.column):t??null}static createUnknown(e,t,i){return{type:0,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createTextarea(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}static createMargin(e,t,i,o,r,s){return{type:e,element:t,mouseColumn:i,position:o,range:r,detail:s}}static createViewZone(e,t,i,o,r){return{type:e,element:t,mouseColumn:i,position:o,range:this._deduceRage(o),detail:r}}static createContentText(e,t,i,o,r){return{type:6,element:e,mouseColumn:t,position:i,range:this._deduceRage(i,o),detail:r}}static createContentEmpty(e,t,i,o){return{type:7,element:e,mouseColumn:t,position:i,range:this._deduceRage(i),detail:o}}static createContentWidget(e,t,i){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createScrollbar(e,t,i){return{type:11,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createOverlayWidget(e,t,i){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createOutsideEditor(e,t,i,o){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t),outsidePosition:i,outsideDistance:o}}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class vr{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===7}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===8}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===8}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===6}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===9}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowGuard(e){return e.length>=1&&e[0]===3}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}static isChildOfOverflowingOverlayWidgets(e){return e.length>=1&&e[0]===5}}class O_{constructor(e,t,i){this.viewModel=e.viewModel;const o=e.configuration.options;this.layoutInfo=o.get(144),this.viewDomNode=t.viewDomNode,this.lineHeight=o.get(67),this.stickyTabStops=o.get(116),this.typicalHalfwidthCharacterWidth=o.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return O_.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){const o=i.verticalOffset+i.height/2,r=e.viewModel.getLineCount();let s=null,a,l=null;return i.afterLineNumber!==r&&(l=new W(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(s=new W(i.afterLineNumber,e.viewModel.getLineMaxColumn(i.afterLineNumber))),l===null?a=s:s===null?a=l:t<o?a=s:a=l,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:s,positionAfter:l,position:a}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const o=this._context.viewModel.getLineCount(),r=this._context.viewModel.getLineMaxColumn(o);return{range:new D(o,r,o,r),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.viewModel.getLineMaxColumn(t);return{range:new D(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return O_._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==e.ownerDocument.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Tye{constructor(e,t,i,o){this.editorPos=t,this.pos=i,this.relativePos=o,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Mo._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class N6 extends Tye{constructor(e,t,i,o,r){super(e,t,i,o),this._ctx=e,r?(this.target=r,this.targetPath=wc.collect(r,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?Zn.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return ar.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return ar.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,t,i,o){return ar.createMargin(e,this.target,this._getMouseColumn(t),t,i,o)}fulfillViewZone(e,t,i){return ar.createViewZone(e,this.target,this._getMouseColumn(t),t,i)}fulfillContentText(e,t,i){return ar.createContentText(this.target,this._getMouseColumn(e),e,t,i)}fulfillContentEmpty(e,t){return ar.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}fulfillContentWidget(e){return ar.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return ar.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return ar.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new N6(this._ctx,this.editorPos,this.pos,this.relativePos,e)}}const HU={isAfterLines:!0};function vM(n){return{isAfterLines:!1,horizontalDistanceToText:n}}class Mo{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=wc.collect(t,this._viewHelper.viewDomNode);return!!(vr.isChildOfContentWidgets(i)||vr.isChildOfOverflowingContentWidgets(i)||vr.isChildOfOverlayWidgets(i)||vr.isChildOfOverflowingOverlayWidgets(i))}createMouseTarget(e,t,i,o,r){const s=new O_(this._context,this._viewHelper,e),a=new N6(s,t,i,o,r);try{const l=Mo._createMouseTarget(s,a,!1);if(l.type===6&&s.stickyTabStops&&l.position!==null){const c=Mo._snapToSoftTabBoundary(l.position,s.viewModel),d=D.fromPositions(c,c).plusRange(l.range);return a.fulfillContentText(c,d,l.detail)}return l}catch{return a.fulfillUnknown()}}static _createMouseTarget(e,t,i){if(t.target===null){if(i)return t.fulfillUnknown();const s=Mo._doHitTest(e,t);return s.type===1?Mo.createMouseTargetFromHitTestPosition(e,t,s.spanNode,s.position,s.injectedText):this._createMouseTarget(e,t.withTarget(s.hitTarget),!0)}const o=t;let r=null;return!vr.isChildOfOverflowGuard(t.targetPath)&&!vr.isChildOfOverflowingContentWidgets(t.targetPath)&&!vr.isChildOfOverflowingOverlayWidgets(t.targetPath)&&(r=r||t.fulfillUnknown()),r=r||Mo._hitTestContentWidget(e,o),r=r||Mo._hitTestOverlayWidget(e,o),r=r||Mo._hitTestMinimap(e,o),r=r||Mo._hitTestScrollbarSlider(e,o),r=r||Mo._hitTestViewZone(e,o),r=r||Mo._hitTestMargin(e,o),r=r||Mo._hitTestViewCursor(e,o),r=r||Mo._hitTestTextArea(e,o),r=r||Mo._hitTestViewLines(e,o,i),r=r||Mo._hitTestScrollbar(e,o),r||t.fulfillUnknown()}static _hitTestContentWidget(e,t){if(vr.isChildOfContentWidgets(t.targetPath)||vr.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillContentWidget(i):t.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,t){if(vr.isChildOfOverlayWidgets(t.targetPath)||vr.isChildOfOverflowingOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillOverlayWidget(i):t.fulfillUnknown()}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const o of i)if(t.target===o.domNode)return t.fulfillContentText(o.position,null,{mightBeForeignElement:!1,injectedText:null})}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,o=t.mouseContentHorizontalOffset,r=t.mouseVerticalOffset;for(const s of i){if(o<s.contentLeft||o>s.contentLeft+s.width)continue;const a=e.getVerticalOffsetForLineNumber(s.position.lineNumber);if(a<=r&&r<=a+s.height)return t.fulfillContentText(s.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const o=t.isInContentArea?8:5;return t.fulfillViewZone(o,i.position,i)}return null}static _hitTestTextArea(e,t){return vr.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),o=i.range.getStartPosition();let r=Math.abs(t.relativePos.x);const s={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:r};if(r-=e.layoutInfo.glyphMarginLeft,r<=e.layoutInfo.glyphMarginWidth){const a=e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(i.range.getStartPosition()),l=e.viewModel.glyphLanes.getLanesAtLine(a.lineNumber);return s.glyphMarginLane=l[Math.floor(r/e.lineHeight)],t.fulfillMargin(2,o,i.range,s)}return r-=e.layoutInfo.glyphMarginWidth,r<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,o,i.range,s):(r-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,o,i.range,s))}return null}static _hitTestViewLines(e,t,i){if(!vr.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfillContentEmpty(new W(1,1),HU);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const r=e.viewModel.getLineCount(),s=e.viewModel.getLineMaxColumn(r);return t.fulfillContentEmpty(new W(r,s),HU)}if(i){if(vr.isStrictChildOfViewLines(t.targetPath)){const r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(e.viewModel.getLineLength(r)===0){const a=e.getLineWidth(r),l=vM(t.mouseContentHorizontalOffset-a);return t.fulfillContentEmpty(new W(r,1),l)}const s=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>=s){const a=vM(t.mouseContentHorizontalOffset-s),l=new W(r,e.viewModel.getLineMaxColumn(r));return t.fulfillContentEmpty(l,a)}}return t.fulfillUnknown()}const o=Mo._doHitTest(e,t);return o.type===1?Mo.createMouseTargetFromHitTestPosition(e,t,o.spanNode,o.position,o.injectedText):this._createMouseTarget(e,t.withTarget(o.hitTarget),!0)}static _hitTestMinimap(e,t){if(vr.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new W(i,o))}return null}static _hitTestScrollbarSlider(e,t){if(vr.isChildOfScrollableElement(t.targetPath)&&t.target&&t.target.nodeType===1){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const o=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.viewModel.getLineMaxColumn(o);return t.fulfillScrollbar(new W(o,r))}}return null}static _hitTestScrollbar(e,t){if(vr.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new W(i,o))}return null}getMouseColumn(e){const t=this._context.configuration.options,i=t.get(144),o=this._context.viewLayout.getCurrentScrollLeft()+e.x-i.contentLeft;return Mo._getMouseColumn(o,t.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,o,r){const s=o.lineNumber,a=o.column,l=e.getLineWidth(s);if(t.mouseContentHorizontalOffset>l){const v=vM(t.mouseContentHorizontalOffset-l);return t.fulfillContentEmpty(o,v)}const c=e.visibleRangeForPosition(s,a);if(!c)return t.fulfillUnknown(o);const d=c.left;if(Math.abs(t.mouseContentHorizontalOffset-d)<1)return t.fulfillContentText(o,null,{mightBeForeignElement:!!r,injectedText:r});const u=[];if(u.push({offset:c.left,column:a}),a>1){const v=e.visibleRangeForPosition(s,a-1);v&&u.push({offset:v.left,column:a-1})}const h=e.viewModel.getLineMaxColumn(s);if(a<h){const v=e.visibleRangeForPosition(s,a+1);v&&u.push({offset:v.left,column:a+1})}u.sort((v,_)=>v.offset-_.offset);const g=t.pos.toClientCoordinates(qe(e.viewDomNode)),f=i.getBoundingClientRect(),p=f.left<=g.clientX&&g.clientX<=f.right;let b=null;for(let v=1;v<u.length;v++){const _=u[v-1],C=u[v];if(_.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=C.offset){b=new D(s,_.column,s,C.column);const y=Math.abs(_.offset-t.mouseContentHorizontalOffset),w=Math.abs(C.offset-t.mouseContentHorizontalOffset);o=y<w?new W(s,_.column):new W(s,C.column);break}}return t.fulfillContentText(o,b,{mightBeForeignElement:!p||!!r,injectedText:r})}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.getVerticalOffsetForLineNumber(i),r=o+e.lineHeight;if(!(i===e.viewModel.getLineCount()&&t.mouseVerticalOffset>r)){const a=Math.floor((o+r)/2);let l=t.pos.y+(a-t.mouseVerticalOffset);l<=t.editorPos.y&&(l=t.editorPos.y+1),l>=t.editorPos.y+t.editorPos.height&&(l=t.editorPos.y+t.editorPos.height-1);const c=new uI(t.pos.x,l),d=this._actualDoHitTestWithCaretRangeFromPoint(e,c.toClientCoordinates(qe(e.viewDomNode)));if(d.type===1)return d}return this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates(qe(e.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=pm(e.viewDomNode);let o;if(i?typeof i.caretRangeFromPoint>"u"?o=Iye(i,t.clientX,t.clientY):o=i.caretRangeFromPoint(t.clientX,t.clientY):o=e.viewDomNode.ownerDocument.caretRangeFromPoint(t.clientX,t.clientY),!o||!o.startContainer)return new Vh;const r=o.startContainer;if(r.nodeType===r.TEXT_NODE){const s=r.parentNode,a=s?s.parentNode:null,l=a?a.parentNode:null;return(l&&l.nodeType===l.ELEMENT_NODE?l.className:null)===ad.CLASS_NAME?bp.createFromDOMInfo(e,s,o.startOffset):new Vh(r.parentNode)}else if(r.nodeType===r.ELEMENT_NODE){const s=r.parentNode,a=s?s.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===ad.CLASS_NAME?bp.createFromDOMInfo(e,r,r.textContent.length):new Vh(r)}return new Vh}static _doHitTestWithCaretPositionFromPoint(e,t){const i=e.viewDomNode.ownerDocument.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const o=i.offsetNode.parentNode,r=o?o.parentNode:null,s=r?r.parentNode:null;return(s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===ad.CLASS_NAME?bp.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new Vh(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const o=i.offsetNode.parentNode,r=o&&o.nodeType===o.ELEMENT_NODE?o.className:null,s=o?o.parentNode:null,a=s&&s.nodeType===s.ELEMENT_NODE?s.className:null;if(r===ad.CLASS_NAME){const l=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(l)return bp.createFromDOMInfo(e,l,0)}else if(a===ad.CLASS_NAME)return bp.createFromDOMInfo(e,i.offsetNode,0)}return new Vh(i.offsetNode)}static _snapToSoftTabBoundary(e,t){const i=t.getLineContent(e.lineNumber),{tabSize:o}=t.model.getOptions(),r=Gy.atomicPosition(i,e.column-1,o,2);return r!==-1?new W(e.lineNumber,r+1):e}static _doHitTest(e,t){let i=new Vh;if(typeof e.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?i=this._doHitTestWithCaretRangeFromPoint(e,t):e.viewDomNode.ownerDocument.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates(qe(e.viewDomNode)))),i.type===1){const o=e.viewModel.getInjectedTextAt(i.position),r=e.viewModel.normalizePosition(i.position,2);(o||!r.equals(i.position))&&(i=new lee(r,i.spanNode,o))}return i}}function Iye(n,e,t){const i=document.createRange();let o=n.elementFromPoint(e,t);if(o!==null){for(;o&&o.firstChild&&o.firstChild.nodeType!==o.firstChild.TEXT_NODE&&o.lastChild&&o.lastChild.firstChild;)o=o.lastChild;const r=o.getBoundingClientRect(),s=qe(o),a=s.getComputedStyle(o,null).getPropertyValue("font-style"),l=s.getComputedStyle(o,null).getPropertyValue("font-variant"),c=s.getComputedStyle(o,null).getPropertyValue("font-weight"),d=s.getComputedStyle(o,null).getPropertyValue("font-size"),u=s.getComputedStyle(o,null).getPropertyValue("line-height"),h=s.getComputedStyle(o,null).getPropertyValue("font-family"),g=`${a} ${l} ${c} ${d}/${u} ${h}`,f=o.innerText;let p=r.left,b=0,v;if(e>r.left+r.width)b=f.length;else{const _=Ap.getInstance();for(let C=0;C<f.length+1;C++){if(v=_.getCharWidth(f.charAt(C),g)/2,p+=v,e<p){b=C;break}p+=v}}i.setStart(o.firstChild,b),i.setEnd(o.firstChild,b)}return i}class Ap{static getInstance(){return Ap._INSTANCE||(Ap._INSTANCE=new Ap),Ap._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const o=this._canvas.getContext("2d");o.font=t;const s=o.measureText(e).width;return this._cache[i]=s,s}}Ap._INSTANCE=null;function Sn(n,e,t){let i=null,o=null;if(typeof t.value=="function"?(i="value",o=t.value,o.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",o=t.get),!o)throw new Error("not supported");const r=`$memoize$${e}`;t[i]=function(...s){return this.hasOwnProperty(r)||Object.defineProperty(this,r,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,s)}),this[r]}}var Nye=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},xi;(function(n){n.Tap="-monaco-gesturetap",n.Change="-monaco-gesturechange",n.Start="-monaco-gesturestart",n.End="-monaco-gesturesend",n.Contextmenu="-monaco-gesturecontextmenu"})(xi||(xi={}));class Si extends z{constructor(){super(),this.dispatched=!1,this.targets=new Ir,this.ignoreTargets=new Ir,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(me.runAndSubscribe(zT,({window:e,disposables:t})=>{t.add(j(e.document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),t.add(j(e.document,"touchend",i=>this.onTouchEnd(e,i))),t.add(j(e.document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))},{window:gi,disposables:this._store}))}static addTarget(e){if(!Si.isTouchDevice())return z.None;Si.INSTANCE||(Si.INSTANCE=new Si);const t=Si.INSTANCE.targets.push(e);return je(t)}static ignoreTarget(e){if(!Si.isTouchDevice())return z.None;Si.INSTANCE||(Si.INSTANCE=new Si);const t=Si.INSTANCE.ignoreTargets.push(e);return je(t)}static isTouchDevice(){return"ontouchstart"in gi||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){const t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,o=e.targetTouches.length;i<o;i++){const r=e.targetTouches.item(i);this.activeTouches[r.identifier]={id:r.identifier,initialTarget:r.target,initialTimeStamp:t,initialPageX:r.pageX,initialPageY:r.pageY,rollingTimestamps:[t],rollingPageX:[r.pageX],rollingPageY:[r.pageY]};const s=this.newGestureEvent(xi.Start,r.target);s.pageX=r.pageX,s.pageY=r.pageY,this.dispatchEvent(s)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,t){const i=Date.now(),o=Object.keys(this.activeTouches).length;for(let r=0,s=t.changedTouches.length;r<s;r++){const a=t.changedTouches.item(r);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}const l=this.activeTouches[a.identifier],c=Date.now()-l.initialTimeStamp;if(c<Si.HOLD_DELAY&&Math.abs(l.initialPageX-va(l.rollingPageX))<30&&Math.abs(l.initialPageY-va(l.rollingPageY))<30){const d=this.newGestureEvent(xi.Tap,l.initialTarget);d.pageX=va(l.rollingPageX),d.pageY=va(l.rollingPageY),this.dispatchEvent(d)}else if(c>=Si.HOLD_DELAY&&Math.abs(l.initialPageX-va(l.rollingPageX))<30&&Math.abs(l.initialPageY-va(l.rollingPageY))<30){const d=this.newGestureEvent(xi.Contextmenu,l.initialTarget);d.pageX=va(l.rollingPageX),d.pageY=va(l.rollingPageY),this.dispatchEvent(d)}else if(o===1){const d=va(l.rollingPageX),u=va(l.rollingPageY),h=va(l.rollingTimestamps)-l.rollingTimestamps[0],g=d-l.rollingPageX[0],f=u-l.rollingPageY[0],p=[...this.targets].filter(b=>l.initialTarget instanceof Node&&b.contains(l.initialTarget));this.inertia(e,p,i,Math.abs(g)/h,g>0?1:-1,d,Math.abs(f)/h,f>0?1:-1,u)}this.dispatchEvent(this.newGestureEvent(xi.End,l.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){const i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===xi.Tap){const t=new Date().getTime();let i=0;t-this._lastSetTapCountTime>Si.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===xi.Change||e.type===xi.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(const t of this.ignoreTargets)if(t.contains(e.initialTarget))return;for(const t of this.targets)t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)}}inertia(e,t,i,o,r,s,a,l,c){this.handle=Ds(e,()=>{const d=Date.now(),u=d-i;let h=0,g=0,f=!0;o+=Si.SCROLL_FRICTION*u,a+=Si.SCROLL_FRICTION*u,o>0&&(f=!1,h=r*o*u),a>0&&(f=!1,g=l*a*u);const p=this.newGestureEvent(xi.Change);p.translationX=h,p.translationY=g,t.forEach(b=>b.dispatchEvent(p)),f||this.inertia(e,t,d,o,r,s+h,a,l,c+g)})}onTouchMove(e){const t=Date.now();for(let i=0,o=e.changedTouches.length;i<o;i++){const r=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("end of an UNKNOWN touch",r);continue}const s=this.activeTouches[r.identifier],a=this.newGestureEvent(xi.Change,s.initialTarget);a.translationX=r.pageX-va(s.rollingPageX),a.translationY=r.pageY-va(s.rollingPageY),a.pageX=r.pageX,a.pageY=r.pageY,this.dispatchEvent(a),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(r.pageX),s.rollingPageY.push(r.pageY),s.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}Si.SCROLL_FRICTION=-.005;Si.HOLD_DELAY=700;Si.CLEAR_TAP_COUNT_TIME=400;Nye([Sn],Si,"isTouchDevice",null);let fa=class extends z{onclick(e,t){this._register(j(e,ge.CLICK,i=>t(new dl(qe(e),i))))}onmousedown(e,t){this._register(j(e,ge.MOUSE_DOWN,i=>t(new dl(qe(e),i))))}onmouseover(e,t){this._register(j(e,ge.MOUSE_OVER,i=>t(new dl(qe(e),i))))}onmouseleave(e,t){this._register(j(e,ge.MOUSE_LEAVE,i=>t(new dl(qe(e),i))))}onkeydown(e,t){this._register(j(e,ge.KEY_DOWN,i=>t(new Ni(i))))}onkeyup(e,t){this._register(j(e,ge.KEY_UP,i=>t(new Ni(i))))}oninput(e,t){this._register(j(e,ge.INPUT,t))}onblur(e,t){this._register(j(e,ge.BLUR,t))}onfocus(e,t){this._register(j(e,ge.FOCUS,t))}ignoreGesture(e){return Si.ignoreTarget(e)}};const F_=11;class Rye extends fa{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...Ze.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width=F_+"px",this.domNode.style.height=F_+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new y0),this._register(fn(this.bgDomNode,ge.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(fn(this.domNode,ge.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new t6),this._pointerdownScheduleRepeatTimer=this._register(new Ll)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,qe(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,i=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}}class Mye extends z{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new Ll)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var e;(e=this._domNode)===null||e===void 0||e.setClassName(this._visibleClassName)},0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(t=this._domNode)===null||t===void 0||t.setClassName(this._invisibleClassName+(e?" fade":"")))}}const Aye=140;class cee extends fa{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new Mye(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new y0),this._shouldRender=!0,this.domNode=ii(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(j(this.domNode.domNode,ge.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){const t=this._register(new Rye(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,o){this.slider=ii(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof o=="number"&&this.slider.setHeight(o),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(j(this.slider.domNode,ge.POINTER_DOWN,r=>{r.button===0&&(r.preventDefault(),this._sliderPointerDown(r))})),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),o=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderPointerPosition(e);i<=r&&r<=o?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,i=e.offsetY;else{const r=In(this.domNode.domNode);t=e.pageX-r.left,i=e.pageY-r.top}const o=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(o):this._scrollbarState.getDesiredScrollPositionFromOffset(o)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._sliderPointerPosition(e),i=this._sliderOrthogonalPointerPosition(e),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,r=>{const s=this._sliderOrthogonalPointerPosition(r),a=Math.abs(s-i);if(Qo&&a>Aye){this._setDesiredScrollPositionNow(o.getScrollPosition());return}const c=this._sliderPointerPosition(r)-t;this._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const Pye=20;class B_{constructor(e,t,i,o,r,s){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=o,this._scrollSize=r,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new B_(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,o,r){const s=Math.max(0,i-e),a=Math.max(0,s-2*t),l=o>0&&o>i;if(!l)return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};const c=Math.round(Math.max(Pye,Math.floor(i*a/o))),d=(a-c)/(o-i),u=r*d;return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(c),computedSliderRatio:d,computedSliderPosition:Math.round(u)}}_refreshComputedValues(){const e=B_._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}class Oye extends cee{constructor(e,t,i){const o=e.getScrollDimensions(),r=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new B_(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,o.width,o.scrollWidth,r.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const s=(t.arrowSize-F_)/2,a=(t.horizontalScrollbarSize-F_)/2;this._createArrow({className:"scra",icon:pe.scrollbarButtonLeft,top:a,left:s,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new fm(null,1,0))}),this._createArrow({className:"scra",icon:pe.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:s,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new fm(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}class Fye extends cee{constructor(e,t,i){const o=e.getScrollDimensions(),r=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new B_(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,o.height,o.scrollHeight,r.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const s=(t.arrowSize-F_)/2,a=(t.verticalScrollbarSize-F_)/2;this._createArrow({className:"scra",icon:pe.scrollbarButtonUp,top:s,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new fm(null,0,1))}),this._createArrow({className:"scra",icon:pe.scrollbarButtonDown,top:void 0,left:a,bottom:s,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new fm(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class g2{constructor(e,t,i,o,r,s,a){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,i=i|0,o=o|0,r=r|0,s=s|0,a=a|0),this.rawScrollLeft=o,this.rawScrollTop=a,t<0&&(t=0),o+t>i&&(o=i-t),o<0&&(o=0),r<0&&(r=0),a+r>s&&(a=s-r),a<0&&(a=0),this.width=t,this.scrollWidth=i,this.scrollLeft=o,this.height=r,this.scrollHeight=s,this.scrollTop=a}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new g2(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new g2(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const i=this.width!==e.width,o=this.scrollWidth!==e.scrollWidth,r=this.scrollLeft!==e.scrollLeft,s=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:o,scrollLeftChanged:r,heightChanged:s,scrollHeightChanged:a,scrollTopChanged:l}}}class w0 extends z{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new B),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new g2(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){var i;const o=this._state.withScrollDimensions(e,t);this._setState(o,!!this._smoothScrolling),(i=this._smoothScrolling)===null||i===void 0||i.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};const i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let o;t?o=new Zy(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):o=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=o}else{const i=this._state.withScrollPosition(e);this._smoothScrolling=Zy.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class zU{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function bM(n,e){const t=e-n;return function(i){return n+t*Vye(i)}}function Bye(n,e,t){return function(i){return i<t?n(i/t):e((i-t)/(1-t))}}class Zy{constructor(e,t,i,o){this.from=e,this.to=t,this.duration=o,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let r,s;return e<t?(r=e+.75*i,s=t-.75*i):(r=e-.75*i,s=t+.75*i),Bye(bM(e,r),bM(s,t),.33)}return bM(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const i=this.scrollLeft(t),o=this.scrollTop(t);return new zU(i,o,!1)}return new zU(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return Zy.start(e,t,i)}static start(e,t,i){i=i+10;const o=Date.now()-10;return new Zy(e,t,o,i)}}function Wye(n){return Math.pow(n,3)}function Vye(n){return 1-Wye(1-n)}const Hye=500,UU=50;class zye{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class f2{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,o=this._rear;do{const r=o===this._front?e:Math.pow(2,-i);if(e-=r,t+=this._memory[o].score*r,o===this._front)break;o=(this._capacity+o-1)%this._capacity,i++}while(!0);return t<=.5}acceptStandardWheelEvent(e){if(CS){const t=qe(e.browserEvent),i=lve(t);this.accept(Date.now(),e.deltaX*i,e.deltaY*i)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,t,i){const o=new zye(e,t,i);o.score=this._computeScore(o),this._front===-1&&this._rear===-1?(this._memory[0]=o,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=o)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;return this._front===-1&&this._rear===-1||this._memory[this._rear],(!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}f2.INSTANCE=new f2;class R6 extends fa{get options(){return this._options}constructor(e,t,i){super(),this._onScroll=this._register(new B),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new B),e.style.overflow="hidden",this._options=Uye(t),this._scrollable=i,this._register(this._scrollable.onScroll(r=>{this._onWillScroll.fire(r),this._onDidScroll(r),this._onScroll.fire(r)}));const o={onMouseWheel:r=>this._onMouseWheel(r),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Fye(this._scrollable,this._options,o)),this._horizontalScrollbar=this._register(new Oye(this._scrollable,this._options,o)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=ii(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=ii(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=ii(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,r=>this._onMouseOver(r)),this.onmouseleave(this._listenOnDomNode,r=>this._onMouseLeave(r)),this._hideTimeout=this._register(new Ll),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=si(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,Rt&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new fm(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=si(this._mouseWheelToDispose),e)){const i=o=>{this._onMouseWheel(new fm(o))};this._mouseWheelToDispose.push(j(this._listenOnDomNode,ge.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){var t;if(!((t=e.browserEvent)===null||t===void 0)&&t.defaultPrevented)return;const i=f2.INSTANCE;i.acceptStandardWheelEvent(e);let o=!1;if(e.deltaY||e.deltaX){let s=e.deltaY*this._options.mouseWheelScrollSensitivity,a=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&a+s===0?a=s=0:Math.abs(s)>=Math.abs(a)?a=0:s=0),this._options.flipAxes&&([s,a]=[a,s]);const l=!Rt&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||l)&&!a&&(a=s,s=0),e.browserEvent&&e.browserEvent.altKey&&(a=a*this._options.fastScrollSensitivity,s=s*this._options.fastScrollSensitivity);const c=this._scrollable.getFutureScrollPosition();let d={};if(s){const u=UU*s,h=c.scrollTop-(u<0?Math.floor(u):Math.ceil(u));this._verticalScrollbar.writeScrollPosition(d,h)}if(a){const u=UU*a,h=c.scrollLeft-(u<0?Math.floor(u):Math.ceil(u));this._horizontalScrollbar.writeScrollPosition(d,h)}d=this._scrollable.validateScrollPosition(d),(c.scrollLeft!==d.scrollLeft||c.scrollTop!==d.scrollTop)&&(this._options.mouseWheelSmoothScroll&&i.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(d):this._scrollable.setScrollPositionNow(d),o=!0)}let r=o;!r&&this._options.alwaysConsumeMouseWheel&&(r=!0),!r&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(r=!0),r&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,o=i?" left":"",r=t?" top":"",s=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${o}`),this._topShadowDomNode.setClassName(`shadow${r}`),this._topLeftShadowDomNode.setClassName(`shadow${s}${r}${o}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),Hye)}}class dee extends R6{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new w0({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:o=>Ds(qe(e),o)});super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class gI extends R6{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class IS extends R6{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new w0({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:o=>Ds(qe(e),o)});super(e,t,i),this._register(i),this._element=e,this._register(this.onScroll(o=>{o.scrollTopChanged&&(this._element.scrollTop=o.scrollTop),o.scrollLeftChanged&&(this._element.scrollLeft=o.scrollLeft)})),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function Uye(n){const e={lazyRender:typeof n.lazyRender<"u"?n.lazyRender:!1,className:typeof n.className<"u"?n.className:"",useShadows:typeof n.useShadows<"u"?n.useShadows:!0,handleMouseWheel:typeof n.handleMouseWheel<"u"?n.handleMouseWheel:!0,flipAxes:typeof n.flipAxes<"u"?n.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof n.consumeMouseWheelIfScrollbarIsNeeded<"u"?n.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof n.alwaysConsumeMouseWheel<"u"?n.alwaysConsumeMouseWheel:!1,scrollYToX:typeof n.scrollYToX<"u"?n.scrollYToX:!1,mouseWheelScrollSensitivity:typeof n.mouseWheelScrollSensitivity<"u"?n.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof n.fastScrollSensitivity<"u"?n.fastScrollSensitivity:5,scrollPredominantAxis:typeof n.scrollPredominantAxis<"u"?n.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof n.mouseWheelSmoothScroll<"u"?n.mouseWheelSmoothScroll:!0,arrowSize:typeof n.arrowSize<"u"?n.arrowSize:11,listenOnDomNode:typeof n.listenOnDomNode<"u"?n.listenOnDomNode:null,horizontal:typeof n.horizontal<"u"?n.horizontal:1,horizontalScrollbarSize:typeof n.horizontalScrollbarSize<"u"?n.horizontalScrollbarSize:10,horizontalSliderSize:typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:0,horizontalHasArrows:typeof n.horizontalHasArrows<"u"?n.horizontalHasArrows:!1,vertical:typeof n.vertical<"u"?n.vertical:1,verticalScrollbarSize:typeof n.verticalScrollbarSize<"u"?n.verticalScrollbarSize:10,verticalHasArrows:typeof n.verticalHasArrows<"u"?n.verticalHasArrows:!1,verticalSliderSize:typeof n.verticalSliderSize<"u"?n.verticalSliderSize:0,scrollByPage:typeof n.scrollByPage<"u"?n.scrollByPage:!1};return e.horizontalSliderSize=typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof n.verticalSliderSize<"u"?n.verticalSliderSize:e.verticalScrollbarSize,Rt&&(e.className+=" mac"),e}class M6 extends TS{constructor(e,t,i){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new Mo(this._context,i),this._mouseDownOperation=this._register(new $ye(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(s,a)=>this._createMouseTarget(s,a),s=>this._getMouseColumn(s))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(144).height;const o=new pye(this.viewHelper.viewDomNode);this._register(o.onContextMenu(this.viewHelper.viewDomNode,s=>this._onContextMenu(s,!0))),this._register(o.onMouseMove(this.viewHelper.viewDomNode,s=>{this._onMouseMove(s),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=j(this.viewHelper.viewDomNode.ownerDocument,"mousemove",a=>{this.viewHelper.viewDomNode.contains(a.target)||this._onMouseLeave(new af(a,!1,this.viewHelper.viewDomNode))}))})),this._register(o.onMouseUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(o.onMouseLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s)));let r=0;this._register(o.onPointerDown(this.viewHelper.viewDomNode,(s,a)=>{r=a})),this._register(j(this.viewHelper.viewDomNode,ge.POINTER_UP,s=>{this._mouseDownOperation.onPointerUp()})),this._register(o.onMouseDown(this.viewHelper.viewDomNode,s=>this._onMouseDown(s,r))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const e=f2.INSTANCE;let t=0,i=wa.getZoomLevel(),o=!1,r=0;const s=l=>{if(this.viewController.emitMouseWheel(l),!this._context.configuration.options.get(76))return;const c=new fm(l);if(e.acceptStandardWheelEvent(c),e.isPhysicalMouseWheel()){if(a(l)){const d=wa.getZoomLevel(),u=c.deltaY>0?1:-1;wa.setZoomLevel(d+u),c.preventDefault(),c.stopPropagation()}}else Date.now()-t>50&&(i=wa.getZoomLevel(),o=a(l),r=0),t=Date.now(),r+=c.deltaY,o&&(wa.setZoomLevel(i+r/5),c.preventDefault(),c.stopPropagation())};this._register(j(this.viewHelper.viewDomNode,ge.MOUSE_WHEEL,s,{capture:!0,passive:!1}));function a(l){return Rt?(l.metaKey||l.ctrlKey)&&!l.shiftKey&&!l.altKey:l.ctrlKey&&!l.metaKey&&!l.shiftKey&&!l.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(144)){const t=this._context.configuration.options.get(144).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}getTargetAtClientPoint(e,t){const o=new ree(e,t).toPageCoordinates(qe(this.viewHelper.viewDomNode)),r=E6(this.viewHelper.viewDomNode);if(o.y<r.y||o.y>r.y+r.height||o.x<r.x||o.x>r.x+r.width)return null;const s=T6(this.viewHelper.viewDomNode,r,o);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),r,o,s,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){const o=pm(this.viewHelper.viewDomNode);o&&(i=o.elementsFromPoint(e.posx,e.posy).find(r=>this.viewHelper.viewDomNode.contains(r)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),!(this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,t){const i=this._createMouseTarget(e,!0),o=i.type===6||i.type===7,r=i.type===2||i.type===3||i.type===4,s=i.type===3,a=this._context.configuration.options.get(109),l=i.type===8||i.type===5,c=i.type===9;let d=e.leftButton||e.middleButton;Rt&&e.leftButton&&e.ctrlKey&&(d=!1);const u=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(d&&(o||s&&a))u(),this._mouseDownOperation.start(i.type,e,t);else if(r)e.preventDefault();else if(l){const h=i.detail;d&&this.viewHelper.shouldSuppressMouseDownOnViewZone(h.viewZoneId)&&(u(),this._mouseDownOperation.start(i.type,e,t),e.preventDefault())}else c&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(u(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:i})}}class $ye extends z{constructor(e,t,i,o,r,s){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._mouseTargetFactory=o,this._createMouseTarget=r,this._getMouseColumn=s,this._mouseMoveMonitor=this._register(new vye(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new jye(this._context,this._viewHelper,this._mouseTargetFactory,(a,l,c)=>this._dispatchMouse(a,l,c))),this._mouseState=new fI,this._currentSelection=new Pe(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!1);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):t.type===13&&(t.outsidePosition==="above"||t.outsidePosition==="below")?this._topBottomDragScrolling.start(t,e):(this._topBottomDragScrolling.stop(),this._dispatchMouse(t,!0,1)))}start(e,t,i){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const o=this._findMousePosition(t,!0);if(!o||!o.position)return;this._mouseState.trySetCount(t.detail,o.position),t.detail=this._mouseState.count;const r=this._context.configuration.options;if(!r.get(91)&&r.get(35)&&!r.get(22)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&o.type===6&&o.position&&this._currentSelection.containsPosition(o.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,s=>this._onMouseDownThenMove(s),s=>{const a=this._findMousePosition(this._lastMouseEvent,!1);o6(s)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:a?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(o,t.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,s=>this._onMouseDownThenMove(s),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.viewModel,o=this._context.viewLayout,r=this._getMouseColumn(e);if(e.posy<t.y){const a=t.y-e.posy,l=Math.max(o.getCurrentScrollTop()-a,0),c=O_.getZoneAtCoord(this._context,l);if(c){const u=this._helpPositionJumpOverViewZone(c);if(u)return ar.createOutsideEditor(r,u,"above",a)}const d=o.getLineNumberAtVerticalOffset(l);return ar.createOutsideEditor(r,new W(d,1),"above",a)}if(e.posy>t.y+t.height){const a=e.posy-t.y-t.height,l=o.getCurrentScrollTop()+e.relativePos.y,c=O_.getZoneAtCoord(this._context,l);if(c){const u=this._helpPositionJumpOverViewZone(c);if(u)return ar.createOutsideEditor(r,u,"below",a)}const d=o.getLineNumberAtVerticalOffset(l);return ar.createOutsideEditor(r,new W(d,i.getLineMaxColumn(d)),"below",a)}const s=o.getLineNumberAtVerticalOffset(o.getCurrentScrollTop()+e.relativePos.y);if(e.posx<t.x){const a=t.x-e.posx;return ar.createOutsideEditor(r,new W(s,1),"left",a)}if(e.posx>t.x+t.width){const a=e.posx-t.x-t.width;return ar.createOutsideEditor(r,new W(s,i.getLineMaxColumn(s)),"right",a)}return null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const o=this._createMouseTarget(e,t);if(!o.position)return null;if(o.type===8||o.type===5){const s=this._helpPositionJumpOverViewZone(o.detail);if(s)return ar.createViewZone(o.type,o.element,o.mouseColumn,s,o.detail)}return o}_helpPositionJumpOverViewZone(e){const t=new W(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,o=e.positionAfter;return i&&o?i.isBefore(t)?i:o:null}_dispatchMouse(e,t,i){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:i,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:e.type===6&&e.detail.injectedText!==null})}}class jye extends z{constructor(e,t,i,o){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=o,this._operation=null}dispose(){super.dispose(),this.stop()}start(e,t){this._operation?this._operation.setPosition(e,t):this._operation=new Kye(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,e,t)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class Kye extends z{constructor(e,t,i,o,r,s){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=o,this._position=r,this._mouseEvent=s,this._lastTime=Date.now(),this._animationFrameDisposable=Ds(qe(s.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(e,t){this._position=e,this._mouseEvent=t}_tick(){const e=Date.now(),t=e-this._lastTime;return this._lastTime=e,t}_getScrollSpeed(){const e=this._context.configuration.options.get(67),t=this._context.configuration.options.get(144).height/e,i=this._position.outsideDistance/e;return i<=1.5?Math.max(30,t*(1+i)):i<=3?Math.max(60,t*(2+i)):Math.max(200,t*(7+i))}_execute(){const e=this._context.configuration.options.get(67),t=this._getScrollSpeed(),i=this._tick(),o=t*(i/1e3)*e,r=this._position.outsidePosition==="above"?-o:o;this._context.viewModel.viewLayout.deltaScrollNow(0,r),this._viewHelper.renderNow();const s=this._context.viewLayout.getLinesViewportData(),a=this._position.outsidePosition==="above"?s.startLineNumber:s.endLineNumber;let l;{const c=E6(this._viewHelper.viewDomNode),d=this._context.configuration.options.get(144).horizontalScrollbarHeight,u=new uI(this._mouseEvent.pos.x,c.y+c.height-d-.1),h=T6(this._viewHelper.viewDomNode,c,u);l=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),c,u,h,null)}(!l.position||l.position.lineNumber!==a)&&(this._position.outsidePosition==="above"?l=ar.createOutsideEditor(this._position.mouseColumn,new W(a,1),"above",this._position.outsideDistance):l=ar.createOutsideEditor(this._position.mouseColumn,new W(a,this._context.viewModel.getLineMaxColumn(a)),"below",this._position.outsideDistance)),this._dispatchMouse(l,!0,2),this._animationFrameDisposable=Ds(qe(l.element),()=>this._execute())}}class fI{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=new Date().getTime();i-this._lastSetMouseDownCountTime>fI.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}fI.CLEAR_MOUSE_DOWN_COUNT_TIME=400;class It{get event(){return this.emitter.event}constructor(e,t,i){const o=r=>this.emitter.fire(r);this.emitter=new B({onWillAddFirstListener:()=>e.addEventListener(t,o,i),onDidRemoveLastListener:()=>e.removeEventListener(t,o,i)})}dispose(){this.emitter.dispose()}}class xo{constructor(e,t,i,o,r){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selection=o,this.newlineCountBeforeSelection=r}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(e,t){const i=e.getValue(),o=e.getSelectionStart(),r=e.getSelectionEnd();let s;if(t){const a=i.substring(0,o),l=t.value.substring(0,t.selectionStart);a===l&&(s=t.newlineCountBeforeSelection)}return new xo(i,o,r,null,s)}collapseSelection(){return this.selectionStart===this.value.length?this:new xo(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){var t,i,o,r,s,a,l,c;if(e<=this.selectionStart){const h=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition((i=(t=this.selection)===null||t===void 0?void 0:t.getStartPosition())!==null&&i!==void 0?i:null,h,-1)}if(e>=this.selectionEnd){const h=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition((r=(o=this.selection)===null||o===void 0?void 0:o.getEndPosition())!==null&&r!==void 0?r:null,h,1)}const d=this.value.substring(this.selectionStart,e);if(d.indexOf("")===-1)return this._finishDeduceEditorPosition((a=(s=this.selection)===null||s===void 0?void 0:s.getStartPosition())!==null&&a!==void 0?a:null,d,1);const u=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition((c=(l=this.selection)===null||l===void 0?void 0:l.getEndPosition())!==null&&c!==void 0?c:null,u,-1)}_finishDeduceEditorPosition(e,t,i){let o=0,r=-1;for(;(r=t.indexOf(`
`,r+1))!==-1;)o++;return[e,i*t.length,o]}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const o=Math.min(Jg(e.value,t.value),e.selectionStart,t.selectionStart),r=Math.min(ZD(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd);e.value.substring(o,e.value.length-r);const s=t.value.substring(o,t.value.length-r),a=e.selectionStart-o,l=e.selectionEnd-o,c=t.selectionStart-o,d=t.selectionEnd-o;if(c===d){const h=e.selectionStart-o;return{text:s,replacePrevCharCnt:h,replaceNextCharCnt:0,positionDelta:0}}const u=l-a;return{text:s,replacePrevCharCnt:u,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const i=Math.min(Jg(e.value,t.value),e.selectionEnd),o=Math.min(ZD(e.value,t.value),e.value.length-e.selectionEnd),r=e.value.substring(i,e.value.length-o),s=t.value.substring(i,t.value.length-o);e.selectionStart-i;const a=e.selectionEnd-i;t.selectionStart-i;const l=t.selectionEnd-i;return{text:s,replacePrevCharCnt:a,replaceNextCharCnt:r.length-a,positionDelta:l-s.length}}}xo.EMPTY=new xo("",0,0,null,void 0);class mb{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t,o=i+1,r=i+t;return new D(o,1,r+1,1)}static fromEditorSelection(e,t,i,o){const s=mb._getPageOfLine(t.startLineNumber,i),a=mb._getRangeForPage(s,i),l=mb._getPageOfLine(t.endLineNumber,i),c=mb._getRangeForPage(l,i);let d=a.intersectRanges(new D(1,1,t.startLineNumber,t.startColumn));if(o&&e.getValueLengthInRange(d,1)>500){const v=e.modifyPosition(d.getEndPosition(),-500);d=D.fromPositions(v,d.getEndPosition())}const u=e.getValueInRange(d,1),h=e.getLineCount(),g=e.getLineMaxColumn(h);let f=c.intersectRanges(new D(t.endLineNumber,t.endColumn,h,g));if(o&&e.getValueLengthInRange(f,1)>500){const v=e.modifyPosition(f.getStartPosition(),500);f=D.fromPositions(f.getStartPosition(),v)}const p=e.getValueInRange(f,1);let b;if(s===l||s+1===l)b=e.getValueInRange(t,1);else{const v=a.intersectRanges(t),_=c.intersectRanges(t);b=e.getValueInRange(v,1)+""+e.getValueInRange(_,1)}return o&&b.length>2*500&&(b=b.substring(0,500)+""+b.substring(b.length-500,b.length)),new xo(u+b+p,u.length,u.length+b.length,t,d.endLineNumber-d.startLineNumber)}}var qye=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},$U=function(n,e){return function(t,i){e(t,i,n)}},p2;(function(n){n.Tap="-monaco-textarea-synthetic-tap"})(p2||(p2={}));const v4={forceCopyWithSyntaxHighlighting:!1};class Yy{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}Yy.INSTANCE=new Yy;class Gye{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){e=e||"";const t={text:e,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}}let b4=class extends z{get textAreaState(){return this._textAreaState}constructor(e,t,i,o,r,s){super(),this._host=e,this._textArea=t,this._OS=i,this._browser=o,this._accessibilityService=r,this._logService=s,this._onFocus=this._register(new B),this.onFocus=this._onFocus.event,this._onBlur=this._register(new B),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new B),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new B),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new B),this.onCut=this._onCut.event,this._onPaste=this._register(new B),this.onPaste=this._onPaste.event,this._onType=this._register(new B),this.onType=this._onType.event,this._onCompositionStart=this._register(new B),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new B),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new B),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new B),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new bo),this._asyncTriggerCut=this._register(new mi(()=>this._onCut.fire(),0)),this._textAreaState=xo.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(me.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new mi(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let a=null;this._register(this._textArea.onKeyDown(l=>{const c=new Ni(l);(c.keyCode===114||this._currentComposition&&c.keyCode===1)&&c.stopPropagation(),c.equals(9)&&c.preventDefault(),a=c,this._onKeyDown.fire(c)})),this._register(this._textArea.onKeyUp(l=>{const c=new Ni(l);this._onKeyUp.fire(c)})),this._register(this._textArea.onCompositionStart(l=>{const c=new Gye;if(this._currentComposition){this._currentComposition=c;return}if(this._currentComposition=c,this._OS===2&&a&&a.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===l.data&&(a.code==="ArrowRight"||a.code==="ArrowLeft")){c.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:l.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:l.data});return}this._onCompositionStart.fire({data:l.data})})),this._register(this._textArea.onCompositionUpdate(l=>{const c=this._currentComposition;if(!c)return;if(this._browser.isAndroid){const u=xo.readFromTextArea(this._textArea,this._textAreaState),h=xo.deduceAndroidCompositionInput(this._textAreaState,u);this._textAreaState=u,this._onType.fire(h),this._onCompositionUpdate.fire(l);return}const d=c.handleCompositionUpdate(l.data);this._textAreaState=xo.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(d),this._onCompositionUpdate.fire(l)})),this._register(this._textArea.onCompositionEnd(l=>{const c=this._currentComposition;if(!c)return;if(this._currentComposition=null,this._browser.isAndroid){const u=xo.readFromTextArea(this._textArea,this._textAreaState),h=xo.deduceAndroidCompositionInput(this._textAreaState,u);this._textAreaState=u,this._onType.fire(h),this._onCompositionEnd.fire();return}const d=c.handleCompositionUpdate(l.data);this._textAreaState=xo.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(d),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(l=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const c=xo.readFromTextArea(this._textArea,this._textAreaState),d=xo.deduceInput(this._textAreaState,c,this._OS===2);d.replacePrevCharCnt===0&&d.text.length===1&&(to(d.text.charCodeAt(0))||d.text.charCodeAt(0)===127)||(this._textAreaState=c,(d.text!==""||d.replacePrevCharCnt!==0||d.replaceNextCharCnt!==0||d.positionDelta!==0)&&this._onType.fire(d))})),this._register(this._textArea.onCut(l=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(l),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(l=>{this._ensureClipboardGetsEditorSelection(l)})),this._register(this._textArea.onPaste(l=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),l.preventDefault(),!l.clipboardData)return;let[c,d]=_4.getTextData(l.clipboardData);c&&(d=d||Yy.INSTANCE.get(c),this._onPaste.fire({text:c,metadata:d}))})),this._register(this._textArea.onFocus(()=>{const l=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!l&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new mi(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return j(this._textArea.ownerDocument,"selectionchange",t=>{if(dg.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const i=Date.now(),o=i-e;if(e=i,o<5)return;const r=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),r<100||!this._textAreaState.selection)return;const s=this._textArea.getValue();if(this._textAreaState.value!==s)return;const a=this._textArea.getSelectionStart(),l=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===a&&this._textAreaState.selectionEnd===l)return;const c=this._textAreaState.deduceEditorPosition(a),d=this._host.deduceModelPosition(c[0],c[1],c[2]),u=this._textAreaState.deduceEditorPosition(l),h=this._host.deduceModelPosition(u[0],u[1],u[2]),g=new Pe(d.lineNumber,d.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(g)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeNativeTextAreaContent(e){!this._accessibilityService.isScreenReaderOptimized()&&e==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${e})`),this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};Yy.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,i),e.preventDefault(),e.clipboardData&&_4.setTextData(e.clipboardData,t.text,t.html,i)}};b4=qye([$U(4,Dl),$U(5,zr)],b4);const _4={getTextData(n){const e=n.getData(un.text);let t=null;const i=n.getData("vscode-editor-data");if(typeof i=="string")try{t=JSON.parse(i),t.version!==1&&(t=null)}catch{}return e.length===0&&t===null&&n.files.length>0?[Array.prototype.slice.call(n.files,0).map(r=>r.name).join(`
`),null]:[e,t]},setTextData(n,e,t,i){n.setData(un.text,e),typeof t=="string"&&n.setData("text/html",t),n.setData("vscode-editor-data",JSON.stringify(i))}};class Zye extends z{get ownerDocument(){return this._actual.ownerDocument}constructor(e){super(),this._actual=e,this.onKeyDown=this._register(new It(this._actual,"keydown")).event,this.onKeyUp=this._register(new It(this._actual,"keyup")).event,this.onCompositionStart=this._register(new It(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new It(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new It(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new It(this._actual,"beforeinput")).event,this.onInput=this._register(new It(this._actual,"input")).event,this.onCut=this._register(new It(this._actual,"cut")).event,this.onCopy=this._register(new It(this._actual,"copy")).event,this.onPaste=this._register(new It(this._actual,"paste")).event,this.onFocus=this._register(new It(this._actual,"focus")).event,this.onBlur=this._register(new It(this._actual,"blur")).event,this._onSyntheticTap=this._register(new B),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>dg.onKeyDown())),this._register(this.onBeforeInput(()=>dg.onBeforeInput())),this._register(this.onInput(()=>dg.onInput())),this._register(this.onKeyUp(()=>dg.onKeyUp())),this._register(j(this._actual,p2.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const e=pm(this._actual);return e?e.activeElement===this._actual:this._actual.isConnected?Vo()===this._actual:!1}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){const i=this._actual;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,i){const o=this._actual;let r=null;const s=pm(o);s?r=s.activeElement:r=Vo();const a=qe(r),l=r===o,c=o.selectionStart,d=o.selectionEnd;if(l&&c===t&&d===i){Oa&&a.parent!==a&&o.focus();return}if(l){this.setIgnoreSelectionChangeTime("setSelectionRange"),o.setSelectionRange(t,i),Oa&&a.parent!==a&&o.focus();return}try{const u=fbe(o);this.setIgnoreSelectionChangeTime("setSelectionRange"),o.focus(),o.setSelectionRange(t,i),pbe(o,u)}catch{}}}class Yye extends M6{constructor(e,t,i){super(e,t,i),this._register(Si.addTarget(this.viewHelper.linesContentDomNode)),this._register(j(this.viewHelper.linesContentDomNode,xi.Tap,r=>this.onTap(r))),this._register(j(this.viewHelper.linesContentDomNode,xi.Change,r=>this.onChange(r))),this._register(j(this.viewHelper.linesContentDomNode,xi.Contextmenu,r=>this._onContextMenu(new af(r,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(j(this.viewHelper.linesContentDomNode,"pointerdown",r=>{const s=r.pointerType;if(s==="mouse"){this._lastPointerType="mouse";return}else s==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const o=new mye(this.viewHelper.viewDomNode);this._register(o.onPointerMove(this.viewHelper.viewDomNode,r=>this._onMouseMove(r))),this._register(o.onPointerUp(this.viewHelper.viewDomNode,r=>this._onMouseUp(r))),this._register(o.onPointerLeave(this.viewHelper.viewDomNode,r=>this._onMouseLeave(r))),this._register(o.onPointerDown(this.viewHelper.viewDomNode,(r,s)=>this._onMouseDown(r,s)))}onTap(e){!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget)||(e.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(e,!1))}onChange(e){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY),this._lastPointerType==="pen"&&this._dispatchGesture(e,!0)}_dispatchGesture(e,t){const i=this._createMouseTarget(new af(e,!1,this.viewHelper.viewDomNode),!1);i.position&&this.viewController.dispatchMouse({position:i.position,mouseColumn:i.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:e.tapCount,inSelectionMode:t,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:i.type===6&&i.detail.injectedText!==null})}_onMouseDown(e,t){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e,t)}}class Xye extends M6{constructor(e,t,i){super(e,t,i),this._register(Si.addTarget(this.viewHelper.linesContentDomNode)),this._register(j(this.viewHelper.linesContentDomNode,xi.Tap,o=>this.onTap(o))),this._register(j(this.viewHelper.linesContentDomNode,xi.Change,o=>this.onChange(o))),this._register(j(this.viewHelper.linesContentDomNode,xi.Contextmenu,o=>this._onContextMenu(new af(o,!1,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new af(e,!1,this.viewHelper.viewDomNode),!1);if(t.position){const i=document.createEvent("CustomEvent");i.initEvent(p2.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(i),this.viewController.moveTo(t.position,1)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}class Qye extends z{constructor(e,t,i){super(),(bc||upe&&oQ)&&Y8.pointerEvents?this.handler=this._register(new Yye(e,t,i)):gi.TouchEvent?this.handler=this._register(new Xye(e,t,i)):this.handler=this._register(new M6(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class Zm extends TS{}const ao=Et("themeService");function sn(n){return{id:n}}function C4(n){switch(n){case Ea.DARK:return"vs-dark";case Ea.HIGH_CONTRAST_DARK:return"hc-black";case Ea.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const uee={ThemingContribution:"base.contributions.theming"};class Jye{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new B}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),je(()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}}const hee=new Jye;nn.add(uee.ThemingContribution,hee);function ja(n){return hee.onColorThemeChange(n)}class ewe extends z{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(t=>this.onThemeChange(t)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}const gee=N("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},m("lineHighlight","Background color for the highlight of line at the cursor position.")),jU=N("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:Nt},m("lineHighlightBorderBox","Background color for the border around the line at the cursor position."));N("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},m("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0);N("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:Oi,hcLight:Oi},m("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0);N("editor.symbolHighlightBackground",{dark:Ou,light:Ou,hcDark:null,hcLight:null},m("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0);N("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:Oi,hcLight:Oi},m("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0);const fee=N("editorCursor.foreground",{dark:"#AEAFAD",light:U.black,hcDark:U.white,hcLight:"#0F4A85"},m("caret","Color of the editor cursor.")),twe=N("editorCursor.background",null,m("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),Vu=N("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},m("editorWhitespaces","Color of whitespace characters in the editor.")),iwe=N("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:U.white,hcLight:"#292929"},m("editorLineNumbers","Color of editor line numbers.")),jx=N("editorIndentGuide.background",{dark:Vu,light:Vu,hcDark:Vu,hcLight:Vu},m("editorIndentGuides","Color of the editor indentation guides."),!1,m("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),Kx=N("editorIndentGuide.activeBackground",{dark:Vu,light:Vu,hcDark:Vu,hcLight:Vu},m("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,m("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),NS=N("editorIndentGuide.background1",{dark:jx,light:jx,hcDark:jx,hcLight:jx},m("editorIndentGuides1","Color of the editor indentation guides (1).")),nwe=N("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorIndentGuides2","Color of the editor indentation guides (2).")),owe=N("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorIndentGuides3","Color of the editor indentation guides (3).")),rwe=N("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorIndentGuides4","Color of the editor indentation guides (4).")),swe=N("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorIndentGuides5","Color of the editor indentation guides (5).")),awe=N("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorIndentGuides6","Color of the editor indentation guides (6).")),RS=N("editorIndentGuide.activeBackground1",{dark:Kx,light:Kx,hcDark:Kx,hcLight:Kx},m("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),lwe=N("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),cwe=N("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),dwe=N("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),uwe=N("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),hwe=N("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),qx=N("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:Oi,hcLight:Oi},m("editorActiveLineNumber","Color of editor active line number"),!1,m("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead."));N("editorLineNumber.activeForeground",{dark:qx,light:qx,hcDark:qx,hcLight:qx},m("editorActiveLineNumber","Color of editor active line number"));const gwe=N("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},m("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed."));N("editorRuler.foreground",{dark:"#5A5A5A",light:U.lightgrey,hcDark:U.white,hcLight:"#292929"},m("editorRuler","Color of the editor rulers."));N("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},m("editorCodeLensForeground","Foreground color of editor CodeLens"));N("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},m("editorBracketMatchBackground","Background color behind matching brackets"));N("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:Nt,hcLight:Nt},m("editorBracketMatchBorder","Color for matching brackets boxes"));const fwe=N("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},m("editorOverviewRulerBorder","Color of the overview ruler border.")),pwe=N("editorOverviewRuler.background",null,m("editorOverviewRulerBackground","Background color of the editor overview ruler."));N("editorGutter.background",{dark:no,light:no,hcDark:no,hcLight:no},m("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers."));N("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:U.fromHex("#fff").transparent(.8),hcLight:Nt},m("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor."));const mwe=N("editorUnnecessaryCode.opacity",{dark:U.fromHex("#000a"),light:U.fromHex("#0007"),hcDark:null,hcLight:null},m("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`));N("editorGhostText.border",{dark:null,light:null,hcDark:U.fromHex("#fff").transparent(.8),hcLight:U.fromHex("#292929").transparent(.8)},m("editorGhostTextBorder","Border color of ghost text in the editor."));N("editorGhostText.foreground",{dark:U.fromHex("#ffffff56"),light:U.fromHex("#0007"),hcDark:null,hcLight:null},m("editorGhostTextForeground","Foreground color of the ghost text in the editor."));N("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},m("editorGhostTextBackground","Background color of the ghost text in the editor."));const Gx=new U(new Bt(0,122,204,.6)),pee=N("editorOverviewRuler.rangeHighlightForeground",{dark:Gx,light:Gx,hcDark:Gx,hcLight:Gx},m("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),vwe=N("editorOverviewRuler.errorForeground",{dark:new U(new Bt(255,18,18,.7)),light:new U(new Bt(255,18,18,.7)),hcDark:new U(new Bt(255,50,50,1)),hcLight:"#B5200D"},m("overviewRuleError","Overview ruler marker color for errors.")),bwe=N("editorOverviewRuler.warningForeground",{dark:dr,light:dr,hcDark:jy,hcLight:jy},m("overviewRuleWarning","Overview ruler marker color for warnings.")),_we=N("editorOverviewRuler.infoForeground",{dark:ns,light:ns,hcDark:Ky,hcLight:Ky},m("overviewRuleInfo","Overview ruler marker color for infos.")),mee=N("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},m("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),vee=N("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},m("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),bee=N("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},m("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),_ee=N("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Cee=N("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),yee=N("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Cwe=N("editorBracketHighlight.unexpectedBracket.foreground",{dark:new U(new Bt(255,18,18,.8)),light:new U(new Bt(255,18,18,.8)),hcDark:new U(new Bt(255,50,50,1)),hcLight:""},m("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),ywe=N("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),wwe=N("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Swe=N("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),xwe=N("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),kwe=N("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Lwe=N("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Dwe=N("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Ewe=N("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Twe=N("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Iwe=N("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Nwe=N("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Rwe=N("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));N("editorUnicodeHighlight.border",{dark:dr,light:dr,hcDark:dr,hcLight:dr},m("editorUnicodeHighlight.border","Border color used to highlight unicode characters."));N("editorUnicodeHighlight.background",{dark:Hx,light:Hx,hcDark:Hx,hcLight:Hx},m("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));ja((n,e)=>{const t=n.getColor(no),i=n.getColor(gee),o=i&&!i.isTransparent()?i:t;o&&e.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${o}; }`)});class MS extends Zm{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new W(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(67);const t=e.get(68);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(95);const i=e.get(144);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onDecorationsChanged(e){return e.affectsLineNumber}_getLineRenderLineNumber(e){const t=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new W(e,1));if(t.column!==1)return"";const i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){const o=Math.abs(this._lastCursorModelPosition.lineNumber-i);return o===0?'<span class="relative-current-line-number">'+i+"</span>":String(o)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10===0?String(i):"":String(i)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const t=Br?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,r=this._context.viewModel.getDecorationsInViewport(e.visibleRange).filter(c=>!!c.options.lineNumberClassName);r.sort((c,d)=>D.compareRangesUsingEnds(c.range,d.range));let s=0;const a=this._context.viewModel.getLineCount(),l=[];for(let c=i;c<=o;c++){const d=c-i;let u=this._getLineRenderLineNumber(c),h="";for(;s<r.length&&r[s].range.endLineNumber<c;)s++;for(let g=s;g<r.length;g++){const{range:f,options:p}=r[g];f.startLineNumber<=c&&(h+=" "+p.lineNumberClassName)}if(!u&&!h){l[d]="";continue}c===a&&this._context.viewModel.getLineLength(c)===0&&(this._renderFinalNewline==="off"&&(u=""),this._renderFinalNewline==="dimmed"&&(h+=" dimmed-line-number")),c===this._activeLineNumber&&(h+=" active-line-number"),l[d]=`<div class="${MS.CLASS_NAME}${t}${h}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${u}</div>`}this._renderResult=l}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}MS.CLASS_NAME="line-numbers";ja((n,e)=>{const t=n.getColor(iwe),i=n.getColor(gwe);i?e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${i}; }`):t&&e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${t.transparent(.4)}; }`)});class vm extends As{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(144);this._canUseLayerHinting=!t.get(32),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=ii(document.createElement("div")),this._domNode.setClassName(vm.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=ii(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(vm.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(144);return this._canUseLayerHinting=!t.get(32),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}}vm.CLASS_NAME="glyph-margin";vm.OUTER_CLASS_NAME="margin";const Ub="monaco-mouse-cursor-text";class Mwe{constructor(){this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}const LC=new Mwe,di=Et("keybindingService");var Awe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},KU=function(n,e){return function(t,i){e(t,i,n)}};class Pwe{constructor(e,t,i,o,r){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=o,this.distanceToModelLineEnd=r,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const t=new W(this.modelLineNumber,this.distanceToModelLineStart+1),i=new W(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(e?this._previousPresentation=e:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const _M=Oa;let y4=class extends As{constructor(e,t,i,o,r){super(e),this._keybindingService=o,this._instantiationService=r,this._primaryCursorPosition=new W(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=i,this._scrollLeft=0,this._scrollTop=0;const s=this._context.configuration.options,a=s.get(144);this._setAccessibilityOptions(s),this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,this._contentHeight=a.height,this._fontInfo=s.get(50),this._lineHeight=s.get(67),this._emptySelectionClipboard=s.get(37),this._copyWithSyntaxHighlighting=s.get(25),this._visibleTextArea=null,this._selections=[new Pe(1,1,1,1)],this._modelSelections=[new Pe(1,1,1,1)],this._lastRenderPosition=null,this.textArea=ii(document.createElement("textarea")),wc.write(this.textArea,7),this.textArea.setClassName(`inputarea ${Ub}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:l}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${l*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(s)),this.textArea.setAttribute("aria-required",s.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(s.get(124))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",m("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",s.get(91)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=ii(document.createElement("div")),this.textAreaCover.setPosition("absolute");const c={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:h=>this._context.viewModel.getLineMaxColumn(h),getValueInRange:(h,g)=>this._context.viewModel.getValueInRange(h,g),getValueLengthInRange:(h,g)=>this._context.viewModel.getValueLengthInRange(h,g),modifyPosition:(h,g)=>this._context.viewModel.modifyPosition(h,g)},d={getDataToCopy:()=>{const h=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,Qo),g=this._context.viewModel.model.getEOL(),f=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),p=Array.isArray(h)?h:null,b=Array.isArray(h)?h.join(g):h;let v,_=null;if(v4.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&b.length<65536){const C=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);C&&(v=C.html,_=C.mode)}return{isFromEmptySelection:f,multicursorText:p,text:b,html:v,mode:_}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const h=this._selections[0];if(Rt&&h.isEmpty()){const f=h.getStartPosition();let p=this._getWordBeforePosition(f);if(p.length===0&&(p=this._getCharacterBeforePosition(f)),p.length>0)return new xo(p,p.length,p.length,D.fromPositions(f),0)}if(Rt&&!h.isEmpty()&&c.getValueLengthInRange(h,0)<500){const f=c.getValueInRange(h,0);return new xo(f,0,f.length,h,0)}if(uh&&!h.isEmpty()){const f="vscode-placeholder";return new xo(f,0,f.length,null,void 0)}return xo.EMPTY}if(mz){const h=this._selections[0];if(h.isEmpty()){const g=h.getStartPosition(),[f,p]=this._getAndroidWordAtPosition(g);if(f.length>0)return new xo(f,p,p,D.fromPositions(g),0)}return xo.EMPTY}return mb.fromEditorSelection(c,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(h,g,f)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(h,g,f)},u=this._register(new Zye(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(b4,d,u,Cs,{isAndroid:mz,isChrome:CS,isFirefox:Oa,isSafari:uh})),this._register(this._textAreaInput.onKeyDown(h=>{this._viewController.emitKeyDown(h)})),this._register(this._textAreaInput.onKeyUp(h=>{this._viewController.emitKeyUp(h)})),this._register(this._textAreaInput.onPaste(h=>{let g=!1,f=null,p=null;h.metadata&&(g=this._emptySelectionClipboard&&!!h.metadata.isFromEmptySelection,f=typeof h.metadata.multicursorText<"u"?h.metadata.multicursorText:null,p=h.metadata.mode),this._viewController.paste(h.text,g,f,p)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(h=>{h.replacePrevCharCnt||h.replaceNextCharCnt||h.positionDelta?this._viewController.compositionType(h.text,h.replacePrevCharCnt,h.replaceNextCharCnt,h.positionDelta):this._viewController.type(h.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(h=>{this._viewController.setSelection(h)})),this._register(this._textAreaInput.onCompositionStart(h=>{const g=this.textArea.domNode,f=this._modelSelections[0],{distanceToModelLineStart:p,widthOfHiddenTextBefore:b}=(()=>{const _=g.value.substring(0,Math.min(g.selectionStart,g.selectionEnd)),C=_.lastIndexOf(`
`),y=_.substring(C+1),w=y.lastIndexOf("	"),S=y.length-w-1,x=f.getStartPosition(),L=Math.min(x.column-1,S),E=x.column-1-L,O=y.substring(0,y.length-L),{tabSize:P}=this._context.viewModel.model.getOptions(),A=Owe(this.textArea.domNode.ownerDocument,O,this._fontInfo,P);return{distanceToModelLineStart:E,widthOfHiddenTextBefore:A}})(),{distanceToModelLineEnd:v}=(()=>{const _=g.value.substring(Math.max(g.selectionStart,g.selectionEnd)),C=_.indexOf(`
`),y=C===-1?_:_.substring(0,C),w=y.indexOf("	"),S=w===-1?y.length:y.length-w-1,x=f.getEndPosition(),L=Math.min(this._context.viewModel.model.getLineMaxColumn(x.lineNumber)-x.column,S);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(x.lineNumber)-x.column-L}})();this._context.viewModel.revealRange("keyboard",!0,D.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Pwe(this._context,f.startLineNumber,p,b,v),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${Ub} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(h=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${Ub}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(LC.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(e){this._textAreaInput.writeNativeTextAreaContent(e)}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',i=this._context.viewModel.getLineContent(e.lineNumber),o=Fa(t);let r=!0,s=e.column,a=!0,l=e.column,c=0;for(;c<50&&(r||a);){if(r&&s<=1&&(r=!1),r){const d=i.charCodeAt(s-2);o.get(d)!==0?r=!1:s--}if(a&&l>i.length&&(a=!1),a){const d=i.charCodeAt(l-1);o.get(d)!==0?a=!1:l++}c++}return[i.substring(s-1,l-1),e.column-s]}_getWordBeforePosition(e){const t=this._context.viewModel.getLineContent(e.lineNumber),i=Fa(this._context.configuration.options.get(130));let o=e.column,r=0;for(;o>1;){const s=t.charCodeAt(o-2);if(i.get(s)!==0||r>50)return t.substring(o-1,e.column-1);r++,o--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const i=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!to(i.charCodeAt(0)))return i}return""}_getAriaLabel(e){var t,i,o;if(e.get(2)===1){const s=(t=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||t===void 0?void 0:t.getAriaLabel(),a=(i=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||i===void 0?void 0:i.getAriaLabel(),l=(o=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||o===void 0?void 0:o.getAriaLabel(),c=m("accessibilityModeOff","The editor is not accessible at this time.");return s?m("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",c,s):a?m("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",c,a):l?m("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",c,l):c}return e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);this._accessibilitySupport===2&&t===Tc.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t;const o=e.get(144).wrappingColumn;if(o!==-1&&this._accessibilitySupport!==1){const r=e.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(o*r.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=_M?0:1}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(144);this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(50),this._lineHeight=t.get(67),this._emptySelectionClipboard=t.get(37),this._copyWithSyntaxHighlighting=t.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:o}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${o*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("aria-required",t.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(t.get(124))),(e.hasChanged(34)||e.hasChanged(91))&&this._ensureReadOnlyAttribute(),e.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}_ensureReadOnlyAttribute(){const e=this._context.configuration.options;!LC.enabled||e.get(34)&&e.get(91)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(e){var t;this._primaryCursorPosition=new W(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),(t=this._visibleTextArea)===null||t===void 0||t.prepareRender(e)}render(e){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var e;if(this._visibleTextArea){const o=this._visibleTextArea.visibleTextareaStart,r=this._visibleTextArea.visibleTextareaEnd,s=this._visibleTextArea.startPosition,a=this._visibleTextArea.endPosition;if(s&&a&&o&&r&&r.left>=this._scrollLeft&&o.left<=this._scrollLeft+this._contentWidth){const l=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,c=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let d=this._visibleTextArea.widthOfHiddenLineTextBefore,u=this._contentLeft+o.left-this._scrollLeft,h=r.left-o.left+1;if(u<this._contentLeft){const _=this._contentLeft-u;u+=_,d+=_,h-=_}h>this._contentWidth&&(h=this._contentWidth);const g=this._context.viewModel.getViewLineData(s.lineNumber),f=g.tokens.findTokenIndexAtOffset(s.column-1),p=g.tokens.findTokenIndexAtOffset(a.column-1),b=f===p,v=this._visibleTextArea.definePresentation(b?g.tokens.getPresentation(f):null);this.textArea.domNode.scrollTop=c*this._lineHeight,this.textArea.domNode.scrollLeft=d,this._doRender({lastRenderPosition:null,top:l,left:u,width:h,height:this._lineHeight,useCover:!1,color:(rn.getColorMap()||[])[v.foreground],italic:v.italic,bold:v.bold,underline:v.underline,strikethrough:v.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const t=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(t<this._contentLeft||t>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const i=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(i<0||i>this._contentHeight){this._renderAtTopLeft();return}if(Rt||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:i,left:this._textAreaWrapping?this._contentLeft:t,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const o=(e=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&e!==void 0?e:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=o*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:i,left:this._textAreaWrapping?this._contentLeft:t,width:this._textAreaWidth,height:_M?0:1,useCover:!1})}_newlinecount(e){let t=0,i=-1;do{if(i=e.indexOf(`
`,i+1),i===-1)break;t++}while(!0);return t}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:_M?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const t=this.textArea,i=this.textAreaCover;zo(t,this._fontInfo),t.setTop(e.top),t.setLeft(e.left),t.setWidth(e.width),t.setHeight(e.height),t.setColor(e.color?U.Format.CSS.formatHex(e.color):""),t.setFontStyle(e.italic?"italic":""),e.bold&&t.setFontWeight("bold"),t.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),i.setTop(e.useCover?e.top:0),i.setLeft(e.useCover?e.left:0),i.setWidth(e.useCover?e.width:0),i.setHeight(e.useCover?e.height:0);const o=this._context.configuration.options;o.get(57)?i.setClassName("monaco-editor-background textAreaCover "+vm.OUTER_CLASS_NAME):o.get(68).renderType!==0?i.setClassName("monaco-editor-background textAreaCover "+MS.CLASS_NAME):i.setClassName("monaco-editor-background textAreaCover")}};y4=Awe([KU(3,di),KU(4,Ge)],y4);function Owe(n,e,t,i){if(e.length===0)return 0;const o=n.createElement("div");o.style.position="absolute",o.style.top="-50000px",o.style.width="50000px";const r=n.createElement("span");zo(r,t),r.style.whiteSpace="pre",r.style.tabSize=`${i*t.spaceWidth}px`,r.append(e),o.appendChild(r),n.body.appendChild(o);const s=r.offsetWidth;return n.body.removeChild(o),s}function Fwe(n,e,t){let i=0;for(let r=0;r<n.length;r++)n.charAt(r)==="	"?i=Zn.nextIndentTabStop(i,e):i++;let o="";if(!t){const r=Math.floor(i/e);i=i%e;for(let s=0;s<r;s++)o+="	"}for(let r=0;r<i;r++)o+=" ";return o}function m2(n,e,t){let i=hr(n);return i===-1&&(i=n.length),Fwe(n.substring(0,i),e,t)+n.substring(i)}const Bwe=()=>!0,Wwe=()=>!1,Vwe=n=>n===" "||n==="	";class pv{static shouldRecreate(e){return e.hasChanged(144)||e.hasChanged(130)||e.hasChanged(37)||e.hasChanged(77)||e.hasChanged(79)||e.hasChanged(80)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(9)||e.hasChanged(10)||e.hasChanged(14)||e.hasChanged(128)||e.hasChanged(50)||e.hasChanged(91)}constructor(e,t,i,o){var r;this.languageConfigurationService=o,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const s=i.options,a=s.get(144),l=s.get(50);this.readOnly=s.get(91),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=s.get(116),this.lineHeight=l.lineHeight,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(a.height/this.lineHeight)-2),this.useTabStops=s.get(128),this.wordSeparators=s.get(130),this.emptySelectionClipboard=s.get(37),this.copyWithSyntaxHighlighting=s.get(25),this.multiCursorMergeOverlapping=s.get(77),this.multiCursorPaste=s.get(79),this.multiCursorLimit=s.get(80),this.autoClosingBrackets=s.get(6),this.autoClosingComments=s.get(7),this.autoClosingQuotes=s.get(11),this.autoClosingDelete=s.get(9),this.autoClosingOvertype=s.get(10),this.autoSurround=s.get(14),this.autoIndent=s.get(12),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(e,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();const c=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(c)for(const u of c)this.surroundingPairs[u.open]=u.close;const d=this.languageConfigurationService.getLanguageConfiguration(e).comments;this.blockCommentStartToken=(r=d==null?void 0:d.blockCommentStartToken)!==null&&r!==void 0?r:null}get electricChars(){var e;if(!this._electricChars){this._electricChars={};const t=(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||e===void 0?void 0:e.getElectricCharacters();if(t)for(const i of t)this._electricChars[i]=!0}return this._electricChars}onElectricCharacter(e,t,i){const o=iI(t,i-1),r=this.languageConfigurationService.getLanguageConfiguration(o.languageId).electricCharacter;return r?r.onElectricCharacter(e,o,i-o.firstCharOffset):null}normalizeIndentation(e){return m2(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t,i){switch(t){case"beforeWhitespace":return Vwe;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e,i);case"always":return Bwe;case"never":return Wwe}}_getLanguageDefinedShouldAutoClose(e,t){const i=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet(t);return o=>i.indexOf(o)!==-1}visibleColumnFromColumn(e,t){return Zn.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,i){const o=Zn.columnFromVisibleColumn(e.getLineContent(t),i,this.tabSize),r=e.getLineMinColumn(t);if(o<r)return r;const s=e.getLineMaxColumn(t);return o>s?s:o}}let zt=class wee{static fromModelState(e){return new Hwe(e)}static fromViewState(e){return new zwe(e)}static fromModelSelection(e){const t=Pe.liftSelection(e),i=new ko(D.fromPositions(t.getSelectionStart()),0,0,t.getPosition(),0);return wee.fromModelState(i)}static fromModelSelections(e){const t=[];for(let i=0,o=e.length;i<o;i++)t[i]=this.fromModelSelection(e[i]);return t}constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}};class Hwe{constructor(e){this.modelState=e,this.viewState=null}}class zwe{constructor(e){this.modelState=null,this.viewState=e}}class ko{constructor(e,t,i,o,r){this.selectionStart=e,this.selectionStartKind=t,this.selectionStartLeftoverVisibleColumns=i,this.position=o,this.leftoverVisibleColumns=r,this._singleCursorStateBrand=void 0,this.selection=ko._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.selectionStartKind===e.selectionStartKind&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,o){return e?new ko(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new W(t,i),o):new ko(new D(t,i,t,i),0,o,new W(t,i),o)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?Pe.fromPositions(e.getStartPosition(),t):Pe.fromPositions(e.getEndPosition(),t)}}class Zr{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}function Hh(n){return n==="'"||n==='"'||n==="`"}class _p{static columnSelect(e,t,i,o,r,s){const a=Math.abs(r-i)+1,l=i>r,c=o>s,d=o<s,u=[];for(let h=0;h<a;h++){const g=i+(l?-h:h),f=e.columnFromVisibleColumn(t,g,o),p=e.columnFromVisibleColumn(t,g,s),b=e.visibleColumnFromColumn(t,new W(g,f)),v=e.visibleColumnFromColumn(t,new W(g,p));d&&(b>s||v<o)||c&&(v>o||b<s)||u.push(new ko(new D(g,f,g,f),0,0,new W(g,p),0))}if(u.length===0)for(let h=0;h<a;h++){const g=i+(l?-h:h),f=t.getLineMaxColumn(g);u.push(new ko(new D(g,f,g,f),0,0,new W(g,f),0))}return{viewStates:u,reversed:l,fromLineNumber:i,fromVisualColumn:o,toLineNumber:r,toVisualColumn:s}}static columnSelectLeft(e,t,i){let o=i.toViewVisualColumn;return o>0&&o--,_p.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,o)}static columnSelectRight(e,t,i){let o=0;const r=Math.min(i.fromViewLineNumber,i.toViewLineNumber),s=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let l=r;l<=s;l++){const c=t.getLineMaxColumn(l),d=e.visibleColumnFromColumn(t,new W(l,c));o=Math.max(o,d)}let a=i.toViewVisualColumn;return a<o&&a++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,a)}static columnSelectUp(e,t,i,o){const r=o?e.pageSize:1,s=Math.max(1,i.toViewLineNumber-r);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}static columnSelectDown(e,t,i,o){const r=o?e.pageSize:1,s=Math.min(t.getLineCount(),i.toViewLineNumber+r);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}}class Ao{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const o=t.getInverseEditOperations()[0].range;return Pe.fromPositions(o.getEndPosition())}}class Uwe{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const o=t.getInverseEditOperations()[0].range;return Pe.fromRange(o,0)}}class Zx{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const o=t.getInverseEditOperations()[0].range;return Pe.fromPositions(o.getStartPosition())}}class RL{constructor(e,t,i,o,r=!1){this._range=e,this._text=t,this._columnDeltaOffset=o,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=r}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const o=t.getInverseEditOperations()[0].range;return Pe.fromPositions(o.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class A6{constructor(e,t,i,o=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=o,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class CM{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class oi{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-IQ(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new W(i,e.getLineMaxColumn(i))}else return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const o=e.getLineMinColumn(t.lineNumber),r=e.getLineContent(t.lineNumber),s=Gy.atomicPosition(r,t.column-1,i,0);if(s!==-1&&s+1>=o)return new W(t.lineNumber,s+1)}return this.leftPosition(e,t)}static left(e,t,i){const o=e.stickyTabStops?oi.leftPositionAtomicSoftTabs(t,i,e.tabSize):oi.leftPosition(t,i);return new CM(o.lineNumber,o.column,0)}static moveLeft(e,t,i,o,r){let s,a;if(i.hasSelection()&&!o)s=i.selection.startLineNumber,a=i.selection.startColumn;else{const l=i.position.delta(void 0,-(r-1)),c=t.normalizePosition(oi.clipPositionColumn(l,t),0),d=oi.left(e,t,c);s=d.lineNumber,a=d.column}return i.move(o,s,a,0)}static clipPositionColumn(e,t){return new W(e.lineNumber,oi.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i=i+q8(e.getLineContent(t),i-1):t<e.getLineCount()&&(t=t+1,i=e.getLineMinColumn(t)),new W(t,i)}static rightPositionAtomicSoftTabs(e,t,i,o,r){if(i<e.getLineIndentColumn(t)){const s=e.getLineContent(t),a=Gy.atomicPosition(s,i-1,o,1);if(a!==-1)return new W(t,a+1)}return this.rightPosition(e,t,i)}static right(e,t,i){const o=e.stickyTabStops?oi.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):oi.rightPosition(t,i.lineNumber,i.column);return new CM(o.lineNumber,o.column,0)}static moveRight(e,t,i,o,r){let s,a;if(i.hasSelection()&&!o)s=i.selection.endLineNumber,a=i.selection.endColumn;else{const l=i.position.delta(void 0,r-1),c=t.normalizePosition(oi.clipPositionColumn(l,t),1),d=oi.right(e,t,c);s=d.lineNumber,a=d.column}return i.move(o,s,a,0)}static vertical(e,t,i,o,r,s,a,l){const c=Zn.visibleColumnFromColumn(t.getLineContent(i),o,e.tabSize)+r,d=t.getLineCount(),u=i===1&&o===1,h=i===d&&o===t.getLineMaxColumn(i),g=s<i?u:h;if(i=s,i<1?(i=1,a?o=t.getLineMinColumn(i):o=Math.min(t.getLineMaxColumn(i),o)):i>d?(i=d,a?o=t.getLineMaxColumn(i):o=Math.min(t.getLineMaxColumn(i),o)):o=e.columnFromVisibleColumn(t,i,c),g?r=0:r=c-Zn.visibleColumnFromColumn(t.getLineContent(i),o,e.tabSize),l!==void 0){const f=new W(i,o),p=t.normalizePosition(f,l);r=r+(o-p.column),i=p.lineNumber,o=p.column}return new CM(i,o,r)}static down(e,t,i,o,r,s,a){return this.vertical(e,t,i,o,r,i+s,a,4)}static moveDown(e,t,i,o,r){let s,a;i.hasSelection()&&!o?(s=i.selection.endLineNumber,a=i.selection.endColumn):(s=i.position.lineNumber,a=i.position.column);let l=0,c;do if(c=oi.down(e,t,s+l,a,i.leftoverVisibleColumns,r,!0),t.normalizePosition(new W(c.lineNumber,c.column),2).lineNumber>s)break;while(l++<10&&s+l<t.getLineCount());return i.move(o,c.lineNumber,c.column,c.leftoverVisibleColumns)}static translateDown(e,t,i){const o=i.selection,r=oi.down(e,t,o.selectionStartLineNumber,o.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=oi.down(e,t,o.positionLineNumber,o.positionColumn,i.leftoverVisibleColumns,1,!1);return new ko(new D(r.lineNumber,r.column,r.lineNumber,r.column),0,r.leftoverVisibleColumns,new W(s.lineNumber,s.column),s.leftoverVisibleColumns)}static up(e,t,i,o,r,s,a){return this.vertical(e,t,i,o,r,i-s,a,3)}static moveUp(e,t,i,o,r){let s,a;i.hasSelection()&&!o?(s=i.selection.startLineNumber,a=i.selection.startColumn):(s=i.position.lineNumber,a=i.position.column);const l=oi.up(e,t,s,a,i.leftoverVisibleColumns,r,!0);return i.move(o,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(e,t,i){const o=i.selection,r=oi.up(e,t,o.selectionStartLineNumber,o.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=oi.up(e,t,o.positionLineNumber,o.positionColumn,i.leftoverVisibleColumns,1,!1);return new ko(new D(r.lineNumber,r.column,r.lineNumber,r.column),0,r.leftoverVisibleColumns,new W(s.lineNumber,s.column),s.leftoverVisibleColumns)}static _isBlankLine(e,t){return e.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(e,t,i,o){let r=i.position.lineNumber;for(;r>1&&this._isBlankLine(t,r);)r--;for(;r>1&&!this._isBlankLine(t,r);)r--;return i.move(o,r,t.getLineMinColumn(r),0)}static moveToNextBlankLine(e,t,i,o){const r=t.getLineCount();let s=i.position.lineNumber;for(;s<r&&this._isBlankLine(t,s);)s++;for(;s<r&&!this._isBlankLine(t,s);)s++;return i.move(o,s,t.getLineMinColumn(s),0)}static moveToBeginningOfLine(e,t,i,o){const r=i.position.lineNumber,s=t.getLineMinColumn(r),a=t.getLineFirstNonWhitespaceColumn(r)||s;let l;return i.position.column===a?l=s:l=a,i.move(o,r,l,0)}static moveToEndOfLine(e,t,i,o,r){const s=i.position.lineNumber,a=t.getLineMaxColumn(s);return i.move(o,s,a,r?1073741824-a:0)}static moveToBeginningOfBuffer(e,t,i,o){return i.move(o,1,1,0)}static moveToEndOfBuffer(e,t,i,o){const r=t.getLineCount(),s=t.getLineMaxColumn(r);return i.move(o,r,s,0)}}class bm{static deleteRight(e,t,i,o){const r=[];let s=e!==3;for(let a=0,l=o.length;a<l;a++){const c=o[a];let d=c;if(d.isEmpty()){const u=c.getPosition(),h=oi.right(t,i,u);d=new D(h.lineNumber,h.column,u.lineNumber,u.column)}if(d.isEmpty()){r[a]=null;continue}d.startLineNumber!==d.endLineNumber&&(s=!0),r[a]=new Ao(d,"")}return[s,r]}static isAutoClosingPairDelete(e,t,i,o,r,s,a){if(t==="never"&&i==="never"||e==="never")return!1;for(let l=0,c=s.length;l<c;l++){const d=s[l],u=d.getPosition();if(!d.isEmpty())return!1;const h=r.getLineContent(u.lineNumber);if(u.column<2||u.column>=h.length+1)return!1;const g=h.charAt(u.column-2),f=o.get(g);if(!f)return!1;if(Hh(g)){if(i==="never")return!1}else if(t==="never")return!1;const p=h.charAt(u.column-1);let b=!1;for(const v of f)v.open===g&&v.close===p&&(b=!0);if(!b)return!1;if(e==="auto"){let v=!1;for(let _=0,C=a.length;_<C;_++){const y=a[_];if(u.lineNumber===y.startLineNumber&&u.column===y.startColumn){v=!0;break}}if(!v)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){const o=[];for(let r=0,s=i.length;r<s;r++){const a=i[r].getPosition(),l=new D(a.lineNumber,a.column-1,a.lineNumber,a.column+1);o[r]=new Ao(l,"")}return[!0,o]}static deleteLeft(e,t,i,o,r){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,o,r))return this._runAutoClosingPairDelete(t,i,o);const s=[];let a=e!==2;for(let l=0,c=o.length;l<c;l++){const d=bm.getDeleteRange(o[l],i,t);if(d.isEmpty()){s[l]=null;continue}d.startLineNumber!==d.endLineNumber&&(a=!0),s[l]=new Ao(d,"")}return[a,s]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;const o=e.getPosition();if(i.useTabStops&&o.column>1){const r=t.getLineContent(o.lineNumber),s=hr(r),a=s===-1?r.length+1:s+1;if(o.column<=a){const l=i.visibleColumnFromColumn(t,o),c=Zn.prevIndentTabStop(l,i.indentSize),d=i.columnFromVisibleColumn(t,o.lineNumber,c);return new D(o.lineNumber,d,o.lineNumber,o.column)}}return D.fromPositions(bm.getPositionAfterDeleteLeft(o,t),o)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const i=rve(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}else if(e.lineNumber>1){const i=e.lineNumber-1;return new W(i,t.getLineMaxColumn(i))}else return e}static cut(e,t,i){const o=[];let r=null;i.sort((s,a)=>W.compare(s.getStartPosition(),a.getEndPosition()));for(let s=0,a=i.length;s<a;s++){const l=i[s];if(l.isEmpty())if(e.emptySelectionClipboard){const c=l.getPosition();let d,u,h,g;c.lineNumber<t.getLineCount()?(d=c.lineNumber,u=1,h=c.lineNumber+1,g=1):c.lineNumber>1&&(r==null?void 0:r.endLineNumber)!==c.lineNumber?(d=c.lineNumber-1,u=t.getLineMaxColumn(c.lineNumber-1),h=c.lineNumber,g=t.getLineMaxColumn(c.lineNumber)):(d=c.lineNumber,u=1,h=c.lineNumber,g=t.getLineMaxColumn(c.lineNumber));const f=new D(d,u,h,g);r=f,f.isEmpty()?o[s]=null:o[s]=new Ao(f,"")}else o[s]=null;else o[s]=new Ao(l,"")}return new Zr(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class ti{static _createWord(e,t,i,o,r){return{start:o,end:r,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){const o=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(o,e,i)}static _doFindPreviousWordOnLine(e,t,i){let o=0;for(let r=i.column-2;r>=0;r--){const s=e.charCodeAt(r),a=t.get(s);if(a===0){if(o===2)return this._createWord(e,o,a,r+1,this._findEndOfWord(e,t,o,r+1));o=1}else if(a===2){if(o===1)return this._createWord(e,o,a,r+1,this._findEndOfWord(e,t,o,r+1));o=2}else if(a===1&&o!==0)return this._createWord(e,o,a,r+1,this._findEndOfWord(e,t,o,r+1))}return o!==0?this._createWord(e,o,1,0,this._findEndOfWord(e,t,o,0)):null}static _findEndOfWord(e,t,i,o){const r=e.length;for(let s=o;s<r;s++){const a=e.charCodeAt(s),l=t.get(a);if(l===1||i===1&&l===2||i===2&&l===0)return s}return r}static _findNextWordOnLine(e,t,i){const o=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(o,e,i)}static _doFindNextWordOnLine(e,t,i){let o=0;const r=e.length;for(let s=i.column-1;s<r;s++){const a=e.charCodeAt(s),l=t.get(a);if(l===0){if(o===2)return this._createWord(e,o,l,this._findStartOfWord(e,t,o,s-1),s);o=1}else if(l===2){if(o===1)return this._createWord(e,o,l,this._findStartOfWord(e,t,o,s-1),s);o=2}else if(l===1&&o!==0)return this._createWord(e,o,l,this._findStartOfWord(e,t,o,s-1),s)}return o!==0?this._createWord(e,o,1,this._findStartOfWord(e,t,o,r-1),r):null}static _findStartOfWord(e,t,i,o){for(let r=o;r>=0;r--){const s=e.charCodeAt(r),a=t.get(s);if(a===1||i===1&&a===2||i===2&&a===0)return r+1}return 0}static moveWordLeft(e,t,i,o){let r=i.lineNumber,s=i.column;s===1&&r>1&&(r=r-1,s=t.getLineMaxColumn(r));let a=ti._findPreviousWordOnLine(e,t,new W(r,s));if(o===0)return new W(r,a?a.start+1:1);if(o===1)return a&&a.wordType===2&&a.end-a.start===1&&a.nextCharClass===0&&(a=ti._findPreviousWordOnLine(e,t,new W(r,a.start+1))),new W(r,a?a.start+1:1);if(o===3){for(;a&&a.wordType===2;)a=ti._findPreviousWordOnLine(e,t,new W(r,a.start+1));return new W(r,a?a.start+1:1)}return a&&s<=a.end+1&&(a=ti._findPreviousWordOnLine(e,t,new W(r,a.start+1))),new W(r,a?a.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,o=e.getLineMaxColumn(i);if(t.column===1)return i>1?new W(i-1,e.getLineMaxColumn(i-1)):t;const r=e.getLineContent(i);for(let s=t.column-1;s>1;s--){const a=r.charCodeAt(s-2),l=r.charCodeAt(s-1);if(a===95&&l!==95)return new W(i,s);if(a===45&&l!==45)return new W(i,s);if((lg(a)||Ax(a))&&Jc(l))return new W(i,s);if(Jc(a)&&Jc(l)&&s+1<o){const c=r.charCodeAt(s);if(lg(c)||Ax(c))return new W(i,s)}}return new W(i,1)}static moveWordRight(e,t,i,o){let r=i.lineNumber,s=i.column,a=!1;s===t.getLineMaxColumn(r)&&r<t.getLineCount()&&(a=!0,r=r+1,s=1);let l=ti._findNextWordOnLine(e,t,new W(r,s));if(o===2)l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=ti._findNextWordOnLine(e,t,new W(r,l.end+1))),l?s=l.end+1:s=t.getLineMaxColumn(r);else if(o===3){for(a&&(s=0);l&&(l.wordType===2||l.start+1<=s);)l=ti._findNextWordOnLine(e,t,new W(r,l.end+1));l?s=l.start+1:s=t.getLineMaxColumn(r)}else l&&!a&&s>=l.start+1&&(l=ti._findNextWordOnLine(e,t,new W(r,l.end+1))),l?s=l.start+1:s=t.getLineMaxColumn(r);return new W(r,s)}static _moveWordPartRight(e,t){const i=t.lineNumber,o=e.getLineMaxColumn(i);if(t.column===o)return i<e.getLineCount()?new W(i+1,1):t;const r=e.getLineContent(i);for(let s=t.column+1;s<o;s++){const a=r.charCodeAt(s-2),l=r.charCodeAt(s-1);if(a!==95&&l===95)return new W(i,s);if(a!==45&&l===45)return new W(i,s);if((lg(a)||Ax(a))&&Jc(l))return new W(i,s);if(Jc(a)&&Jc(l)&&s+1<o){const c=r.charCodeAt(s);if(lg(c)||Ax(c))return new W(i,s)}}return new W(i,o)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),o=t.column-2,r=hc(i,o);return r+1<o?new D(t.lineNumber,r+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const i=e.wordSeparators,o=e.model,r=e.selection,s=e.whitespaceHeuristics;if(!r.isEmpty())return r;if(bm.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const u=e.selection.getPosition();return new D(u.lineNumber,u.column-1,u.lineNumber,u.column+1)}const a=new W(r.positionLineNumber,r.positionColumn);let l=a.lineNumber,c=a.column;if(l===1&&c===1)return null;if(s){const u=this._deleteWordLeftWhitespace(o,a);if(u)return u}let d=ti._findPreviousWordOnLine(i,o,a);return t===0?d?c=d.start+1:c>1?c=1:(l--,c=o.getLineMaxColumn(l)):(d&&c<=d.end+1&&(d=ti._findPreviousWordOnLine(i,o,new W(l,d.start+1))),d?c=d.end+1:c>1?c=1:(l--,c=o.getLineMaxColumn(l))),new D(l,c,a.lineNumber,a.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;const o=new W(i.positionLineNumber,i.positionColumn),r=this._deleteInsideWordWhitespace(t,o);return r||this._deleteInsideWordDetermineDeleteRange(e,t,o)}static _charAtIsWhitespace(e,t){const i=e.charCodeAt(t);return i===32||i===9}static _deleteInsideWordWhitespace(e,t){const i=e.getLineContent(t.lineNumber),o=i.length;if(o===0)return null;let r=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,r))return null;let s=Math.min(t.column-1,o-1);if(!this._charAtIsWhitespace(i,s))return null;for(;r>0&&this._charAtIsWhitespace(i,r-1);)r--;for(;s+1<o&&this._charAtIsWhitespace(i,s+1);)s++;return new D(t.lineNumber,r+1,t.lineNumber,s+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const o=t.getLineContent(i.lineNumber),r=o.length;if(r===0)return i.lineNumber>1?new D(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new D(i.lineNumber,1,i.lineNumber+1,1):new D(i.lineNumber,1,i.lineNumber,1);const s=u=>u.start+1<=i.column&&i.column<=u.end+1,a=(u,h)=>(u=Math.min(u,i.column),h=Math.max(h,i.column),new D(i.lineNumber,u,i.lineNumber,h)),l=u=>{let h=u.start+1,g=u.end+1,f=!1;for(;g-1<r&&this._charAtIsWhitespace(o,g-1);)f=!0,g++;if(!f)for(;h>1&&this._charAtIsWhitespace(o,h-2);)h--;return a(h,g)},c=ti._findPreviousWordOnLine(e,t,i);if(c&&s(c))return l(c);const d=ti._findNextWordOnLine(e,t,i);return d&&s(d)?l(d):c&&d?a(c.end+1,d.start+1):c?a(c.start+1,c.end+1):d?a(d.start+1,d.end+1):a(1,r+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),o=ti._moveWordPartLeft(e,i);return new D(i.lineNumber,i.column,o.lineNumber,o.column)}static _findFirstNonWhitespaceChar(e,t){const i=e.length;for(let o=t;o<i;o++){const r=e.charAt(o);if(r!==" "&&r!=="	")return o}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),o=t.column-1,r=this._findFirstNonWhitespaceChar(i,o);return o+1<r?new D(t.lineNumber,t.column,t.lineNumber,r+1):null}static deleteWordRight(e,t){const i=e.wordSeparators,o=e.model,r=e.selection,s=e.whitespaceHeuristics;if(!r.isEmpty())return r;const a=new W(r.positionLineNumber,r.positionColumn);let l=a.lineNumber,c=a.column;const d=o.getLineCount(),u=o.getLineMaxColumn(l);if(l===d&&c===u)return null;if(s){const g=this._deleteWordRightWhitespace(o,a);if(g)return g}let h=ti._findNextWordOnLine(i,o,a);return t===2?h?c=h.end+1:c<u||l===d?c=u:(l++,h=ti._findNextWordOnLine(i,o,new W(l,1)),h?c=h.start+1:c=o.getLineMaxColumn(l)):(h&&c>=h.start+1&&(h=ti._findNextWordOnLine(i,o,new W(l,h.end+1))),h?c=h.start+1:c<u||l===d?c=u:(l++,h=ti._findNextWordOnLine(i,o,new W(l,1)),h?c=h.start+1:c=o.getLineMaxColumn(l))),new D(l,c,a.lineNumber,a.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),o=ti._moveWordPartRight(e,i);return new D(i.lineNumber,i.column,o.lineNumber,o.column)}static _createWordAtPosition(e,t,i){const o=new D(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(o),startColumn:o.startColumn,endColumn:o.endColumn}}static getWordAtPosition(e,t,i){const o=Fa(t),r=ti._findPreviousWordOnLine(o,e,i);if(r&&r.wordType===1&&r.start<=i.column-1&&i.column-1<=r.end)return ti._createWordAtPosition(e,i.lineNumber,r);const s=ti._findNextWordOnLine(o,e,i);return s&&s.wordType===1&&s.start<=i.column-1&&i.column-1<=s.end?ti._createWordAtPosition(e,i.lineNumber,s):null}static word(e,t,i,o,r){const s=Fa(e.wordSeparators),a=ti._findPreviousWordOnLine(s,t,r),l=ti._findNextWordOnLine(s,t,r);if(!o){let g,f;return a&&a.wordType===1&&a.start<=r.column-1&&r.column-1<=a.end?(g=a.start+1,f=a.end+1):l&&l.wordType===1&&l.start<=r.column-1&&r.column-1<=l.end?(g=l.start+1,f=l.end+1):(a?g=a.end+1:g=1,l?f=l.start+1:f=t.getLineMaxColumn(r.lineNumber)),new ko(new D(r.lineNumber,g,r.lineNumber,f),1,0,new W(r.lineNumber,f),0)}let c,d;a&&a.wordType===1&&a.start<r.column-1&&r.column-1<a.end?(c=a.start+1,d=a.end+1):l&&l.wordType===1&&l.start<r.column-1&&r.column-1<l.end?(c=l.start+1,d=l.end+1):(c=r.column,d=r.column);const u=r.lineNumber;let h;if(i.selectionStart.containsPosition(r))h=i.selectionStart.endColumn;else if(r.isBeforeOrEqual(i.selectionStart.getStartPosition())){h=c;const g=new W(u,h);i.selectionStart.containsPosition(g)&&(h=i.selectionStart.endColumn)}else{h=d;const g=new W(u,h);i.selectionStart.containsPosition(g)&&(h=i.selectionStart.startColumn)}return i.move(!0,u,h,0)}}class pI extends ti{static deleteWordPartLeft(e){const t=Yx([ti.deleteWordLeft(e,0),ti.deleteWordLeft(e,2),ti._deleteWordPartLeft(e.model,e.selection)]);return t.sort(D.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=Yx([ti.deleteWordRight(e,0),ti.deleteWordRight(e,2),ti._deleteWordPartRight(e.model,e.selection)]);return t.sort(D.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,i){const o=Yx([ti.moveWordLeft(e,t,i,0),ti.moveWordLeft(e,t,i,2),ti._moveWordPartLeft(t,i)]);return o.sort(W.compare),o[2]}static moveWordPartRight(e,t,i){const o=Yx([ti.moveWordRight(e,t,i,0),ti.moveWordRight(e,t,i,2),ti._moveWordPartRight(t,i)]);return o.sort(W.compare),o[0]}}function Yx(n){return n.filter(e=>!!e)}class wo{static addCursorDown(e,t,i){const o=[];let r=0;for(let s=0,a=t.length;s<a;s++){const l=t[s];o[r++]=new zt(l.modelState,l.viewState),i?o[r++]=zt.fromModelState(oi.translateDown(e.cursorConfig,e.model,l.modelState)):o[r++]=zt.fromViewState(oi.translateDown(e.cursorConfig,e,l.viewState))}return o}static addCursorUp(e,t,i){const o=[];let r=0;for(let s=0,a=t.length;s<a;s++){const l=t[s];o[r++]=new zt(l.modelState,l.viewState),i?o[r++]=zt.fromModelState(oi.translateUp(e.cursorConfig,e.model,l.modelState)):o[r++]=zt.fromViewState(oi.translateUp(e.cursorConfig,e,l.viewState))}return o}static moveToBeginningOfLine(e,t,i){const o=[];for(let r=0,s=t.length;r<s;r++){const a=t[r];o[r]=this._moveToLineStart(e,a,i)}return o}static _moveToLineStart(e,t,i){const o=t.viewState.position.column,r=t.modelState.position.column,s=o===r,a=t.viewState.position.lineNumber,l=e.getLineFirstNonWhitespaceColumn(a);return!s&&!(o===l)?this._moveToLineStartByView(e,t,i):this._moveToLineStartByModel(e,t,i)}static _moveToLineStartByView(e,t,i){return zt.fromViewState(oi.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return zt.fromModelState(oi.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,o){const r=[];for(let s=0,a=t.length;s<a;s++){const l=t[s];r[s]=this._moveToLineEnd(e,l,i,o)}return r}static _moveToLineEnd(e,t,i,o){const r=t.viewState.position,s=e.getLineMaxColumn(r.lineNumber),a=r.column===s,l=t.modelState.position,c=e.model.getLineMaxColumn(l.lineNumber),d=s-r.column===c-l.column;return a||d?this._moveToLineEndByModel(e,t,i,o):this._moveToLineEndByView(e,t,i,o)}static _moveToLineEndByView(e,t,i,o){return zt.fromViewState(oi.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,o))}static _moveToLineEndByModel(e,t,i,o){return zt.fromModelState(oi.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,o))}static expandLineSelection(e,t){const i=[];for(let o=0,r=t.length;o<r;o++){const s=t[o],a=s.modelState.selection.startLineNumber,l=e.model.getLineCount();let c=s.modelState.selection.endLineNumber,d;c===l?d=e.model.getLineMaxColumn(l):(c++,d=1),i[o]=zt.fromModelState(new ko(new D(a,1,a,1),0,0,new W(c,d),0))}return i}static moveToBeginningOfBuffer(e,t,i){const o=[];for(let r=0,s=t.length;r<s;r++){const a=t[r];o[r]=zt.fromModelState(oi.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return o}static moveToEndOfBuffer(e,t,i){const o=[];for(let r=0,s=t.length;r<s;r++){const a=t[r];o[r]=zt.fromModelState(oi.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return o}static selectAll(e,t){const i=e.model.getLineCount(),o=e.model.getLineMaxColumn(i);return zt.fromModelState(new ko(new D(1,1,1,1),0,0,new W(i,o),0))}static line(e,t,i,o,r){const s=e.model.validatePosition(o),a=r?e.coordinatesConverter.validateViewPosition(new W(r.lineNumber,r.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);if(!i){const c=e.model.getLineCount();let d=s.lineNumber+1,u=1;return d>c&&(d=c,u=e.model.getLineMaxColumn(d)),zt.fromModelState(new ko(new D(s.lineNumber,1,d,u),2,0,new W(d,u),0))}const l=t.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<l)return zt.fromViewState(t.viewState.move(!0,a.lineNumber,1,0));if(s.lineNumber>l){const c=e.getLineCount();let d=a.lineNumber+1,u=1;return d>c&&(d=c,u=e.getLineMaxColumn(d)),zt.fromViewState(t.viewState.move(!0,d,u,0))}else{const c=t.modelState.selectionStart.getEndPosition();return zt.fromModelState(t.modelState.move(!0,c.lineNumber,c.column,0))}}static word(e,t,i,o){const r=e.model.validatePosition(o);return zt.fromModelState(ti.word(e.cursorConfig,e.model,t.modelState,i,r))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new zt(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,o=t.viewState.position.column;return zt.fromViewState(new ko(new D(i,o,i,o),0,0,new W(i,o),0))}static moveTo(e,t,i,o,r){if(i){if(t.modelState.selectionStartKind===1)return this.word(e,t,i,o);if(t.modelState.selectionStartKind===2)return this.line(e,t,i,o,r)}const s=e.model.validatePosition(o),a=r?e.coordinatesConverter.validateViewPosition(new W(r.lineNumber,r.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);return zt.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,o,r,s){switch(i){case 0:return s===4?this._moveHalfLineLeft(e,t,o):this._moveLeft(e,t,o,r);case 1:return s===4?this._moveHalfLineRight(e,t,o):this._moveRight(e,t,o,r);case 2:return s===2?this._moveUpByViewLines(e,t,o,r):this._moveUpByModelLines(e,t,o,r);case 3:return s===2?this._moveDownByViewLines(e,t,o,r):this._moveDownByModelLines(e,t,o,r);case 4:return s===2?t.map(a=>zt.fromViewState(oi.moveToPrevBlankLine(e.cursorConfig,e,a.viewState,o))):t.map(a=>zt.fromModelState(oi.moveToPrevBlankLine(e.cursorConfig,e.model,a.modelState,o)));case 5:return s===2?t.map(a=>zt.fromViewState(oi.moveToNextBlankLine(e.cursorConfig,e,a.viewState,o))):t.map(a=>zt.fromModelState(oi.moveToNextBlankLine(e.cursorConfig,e.model,a.modelState,o)));case 6:return this._moveToViewMinColumn(e,t,o);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,o);case 8:return this._moveToViewCenterColumn(e,t,o);case 9:return this._moveToViewMaxColumn(e,t,o);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,o);default:return null}}static viewportMove(e,t,i,o,r){const s=e.getCompletelyVisibleViewRange(),a=e.coordinatesConverter.convertViewRangeToModelRange(s);switch(i){case 11:{const l=this._firstLineNumberInRange(e.model,a,r),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],o,l,c)]}case 13:{const l=this._lastLineNumberInRange(e.model,a,r),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],o,l,c)]}case 12:{const l=Math.round((a.startLineNumber+a.endLineNumber)/2),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],o,l,c)]}case 14:{const l=[];for(let c=0,d=t.length;c<d;c++){const u=t[c];l[c]=this.findPositionInViewportIfOutside(e,u,s,o)}return l}default:return null}}static findPositionInViewportIfOutside(e,t,i,o){const r=t.viewState.position.lineNumber;if(i.startLineNumber<=r&&r<=i.endLineNumber-1)return new zt(t.modelState,t.viewState);{let s;r>i.endLineNumber-1?s=i.endLineNumber-1:r<i.startLineNumber?s=i.startLineNumber:s=r;const a=oi.vertical(e.cursorConfig,e,r,t.viewState.position.column,t.viewState.leftoverVisibleColumns,s,!1);return zt.fromViewState(t.viewState.move(o,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let o=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(o)&&o++,Math.min(t.endLineNumber,o+i-1)}static _lastLineNumberInRange(e,t,i){let o=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(o)&&o++,Math.max(o,t.endLineNumber-i+1)}static _moveLeft(e,t,i,o){return t.map(r=>zt.fromViewState(oi.moveLeft(e.cursorConfig,e,r.viewState,i,o)))}static _moveHalfLineLeft(e,t,i){const o=[];for(let r=0,s=t.length;r<s;r++){const a=t[r],l=a.viewState.position.lineNumber,c=Math.round(e.getLineLength(l)/2);o[r]=zt.fromViewState(oi.moveLeft(e.cursorConfig,e,a.viewState,i,c))}return o}static _moveRight(e,t,i,o){return t.map(r=>zt.fromViewState(oi.moveRight(e.cursorConfig,e,r.viewState,i,o)))}static _moveHalfLineRight(e,t,i){const o=[];for(let r=0,s=t.length;r<s;r++){const a=t[r],l=a.viewState.position.lineNumber,c=Math.round(e.getLineLength(l)/2);o[r]=zt.fromViewState(oi.moveRight(e.cursorConfig,e,a.viewState,i,c))}return o}static _moveDownByViewLines(e,t,i,o){const r=[];for(let s=0,a=t.length;s<a;s++){const l=t[s];r[s]=zt.fromViewState(oi.moveDown(e.cursorConfig,e,l.viewState,i,o))}return r}static _moveDownByModelLines(e,t,i,o){const r=[];for(let s=0,a=t.length;s<a;s++){const l=t[s];r[s]=zt.fromModelState(oi.moveDown(e.cursorConfig,e.model,l.modelState,i,o))}return r}static _moveUpByViewLines(e,t,i,o){const r=[];for(let s=0,a=t.length;s<a;s++){const l=t[s];r[s]=zt.fromViewState(oi.moveUp(e.cursorConfig,e,l.viewState,i,o))}return r}static _moveUpByModelLines(e,t,i,o){const r=[];for(let s=0,a=t.length;s<a;s++){const l=t[s];r[s]=zt.fromModelState(oi.moveUp(e.cursorConfig,e.model,l.modelState,i,o))}return r}static _moveToViewPosition(e,t,i,o,r){return zt.fromViewState(t.viewState.move(i,o,r,0))}static _moveToModelPosition(e,t,i,o,r){return zt.fromModelState(t.modelState.move(i,o,r,0))}static _moveToViewMinColumn(e,t,i){const o=[];for(let r=0,s=t.length;r<s;r++){const a=t[r],l=a.viewState.position.lineNumber,c=e.getLineMinColumn(l);o[r]=this._moveToViewPosition(e,a,i,l,c)}return o}static _moveToViewFirstNonWhitespaceColumn(e,t,i){const o=[];for(let r=0,s=t.length;r<s;r++){const a=t[r],l=a.viewState.position.lineNumber,c=e.getLineFirstNonWhitespaceColumn(l);o[r]=this._moveToViewPosition(e,a,i,l,c)}return o}static _moveToViewCenterColumn(e,t,i){const o=[];for(let r=0,s=t.length;r<s;r++){const a=t[r],l=a.viewState.position.lineNumber,c=Math.round((e.getLineMaxColumn(l)+e.getLineMinColumn(l))/2);o[r]=this._moveToViewPosition(e,a,i,l,c)}return o}static _moveToViewMaxColumn(e,t,i){const o=[];for(let r=0,s=t.length;r<s;r++){const a=t[r],l=a.viewState.position.lineNumber,c=e.getLineMaxColumn(l);o[r]=this._moveToViewPosition(e,a,i,l,c)}return o}static _moveToViewLastNonWhitespaceColumn(e,t,i){const o=[];for(let r=0,s=t.length;r<s;r++){const a=t[r],l=a.viewState.position.lineNumber,c=e.getLineLastNonWhitespaceColumn(l);o[r]=this._moveToViewPosition(e,a,i,l,c)}return o}}var v2;(function(n){const e=function(i){if(!Tr(i))return!1;const o=i;return!(!Pr(o.to)||!_s(o.select)&&!QX(o.select)||!_s(o.by)&&!Pr(o.by)||!_s(o.value)&&!Xg(o.value))};n.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},n.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(i){if(!i.to)return null;let o;switch(i.to){case n.RawDirection.Left:o=0;break;case n.RawDirection.Right:o=1;break;case n.RawDirection.Up:o=2;break;case n.RawDirection.Down:o=3;break;case n.RawDirection.PrevBlankLine:o=4;break;case n.RawDirection.NextBlankLine:o=5;break;case n.RawDirection.WrappedLineStart:o=6;break;case n.RawDirection.WrappedLineFirstNonWhitespaceCharacter:o=7;break;case n.RawDirection.WrappedLineColumnCenter:o=8;break;case n.RawDirection.WrappedLineEnd:o=9;break;case n.RawDirection.WrappedLineLastNonWhitespaceCharacter:o=10;break;case n.RawDirection.ViewPortTop:o=11;break;case n.RawDirection.ViewPortBottom:o=13;break;case n.RawDirection.ViewPortCenter:o=12;break;case n.RawDirection.ViewPortIfOutside:o=14;break;default:return null}let r=0;switch(i.by){case n.RawUnit.Line:r=1;break;case n.RawUnit.WrappedLine:r=2;break;case n.RawUnit.Character:r=3;break;case n.RawUnit.HalfLine:r=4;break}return{direction:o,unit:r,select:!!i.select,value:i.value||1}}n.parse=t})(v2||(v2={}));function $b(n,e,t,i){const o=Bb(e,t.startLineNumber,t.startColumn),r=i.getLanguageConfiguration(o.languageId);if(!r)return null;const s=o.getLineContent(),a=s.substr(0,t.startColumn-1-o.firstCharOffset);let l;t.isEmpty()?l=s.substr(t.startColumn-1-o.firstCharOffset):l=Bb(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-o.firstCharOffset);let c="";if(t.startLineNumber>1&&o.firstCharOffset===0){const p=Bb(e,t.startLineNumber-1);p.languageId===o.languageId&&(c=p.getLineContent())}const d=r.onEnter(n,c,a,l);if(!d)return null;const u=d.indentAction;let h=d.appendText;const g=d.removeText||0;h?u===On.Indent&&(h="	"+h):u===On.Indent||u===On.IndentOutdent?h="	":h="";let f=TJ(e,t.startLineNumber,t.startColumn);return g&&(f=f.substring(0,f.length-g)),{indentAction:u,appendText:h,removeText:g,indentation:f}}var $we=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},jwe=function(n,e){return function(t,i){e(t,i,n)}},ML;const yM=Object.create(null);function Zf(n,e){if(e<=0)return"";yM[n]||(yM[n]=["",n]);const t=yM[n];for(let i=t.length;i<=e;i++)t[i]=t[i-1]+n;return t[e]}let xa=ML=class{static unshiftIndent(e,t,i,o,r){const s=Zn.visibleColumnFromColumn(e,t,i);if(r){const a=Zf(" ",o),c=Zn.prevIndentTabStop(s,o)/o;return Zf(a,c)}else{const a="	",c=Zn.prevRenderTabStop(s,i)/i;return Zf(a,c)}}static shiftIndent(e,t,i,o,r){const s=Zn.visibleColumnFromColumn(e,t,i);if(r){const a=Zf(" ",o),c=Zn.nextIndentTabStop(s,o)/o;return Zf(a,c)}else{const a="	",c=Zn.nextRenderTabStop(s,i)/i;return Zf(a,c)}}constructor(e,t,i){this._languageConfigurationService=i,this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let o=this._selection.endLineNumber;this._selection.endColumn===1&&i!==o&&(o=o-1);const{tabSize:r,indentSize:s,insertSpaces:a}=this._opts,l=i===o;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,d=0;for(let u=i;u<=o;u++,c=d){d=0;const h=e.getLineContent(u);let g=hr(h);if(this._opts.isUnshift&&(h.length===0||g===0)||!l&&!this._opts.isUnshift&&h.length===0)continue;if(g===-1&&(g=h.length),u>1&&Zn.visibleColumnFromColumn(h,g+1,r)%s!==0&&e.tokenization.isCheapToTokenize(u-1)){const b=$b(this._opts.autoIndent,e,new D(u-1,e.getLineMaxColumn(u-1),u-1,e.getLineMaxColumn(u-1)),this._languageConfigurationService);if(b){if(d=c,b.appendText)for(let v=0,_=b.appendText.length;v<_&&d<s&&b.appendText.charCodeAt(v)===32;v++)d++;b.removeText&&(d=Math.max(0,d-b.removeText));for(let v=0;v<d&&!(g===0||h.charCodeAt(g-1)!==32);v++)g--}}if(this._opts.isUnshift&&g===0)continue;let f;this._opts.isUnshift?f=ML.unshiftIndent(h,g+1,r,s,a):f=ML.shiftIndent(h,g+1,r,s,a),this._addEditOperation(t,new D(u,1,u,g+1),f),u===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=g+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&e.getLineLength(i)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const c=a?Zf(" ",s):"	";for(let d=i;d<=o;d++){const u=e.getLineContent(d);let h=hr(u);if(!(this._opts.isUnshift&&(u.length===0||h===0))&&!(!l&&!this._opts.isUnshift&&u.length===0)&&(h===-1&&(h=u.length),!(this._opts.isUnshift&&h===0)))if(this._opts.isUnshift){h=Math.min(h,s);for(let g=0;g<h;g++)if(u.charCodeAt(g)===9){h=g+1;break}this._addEditOperation(t,new D(d,1,d,h+1),"")}else this._addEditOperation(t,new D(d,1,d,1),c),d===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){const o=t.getInverseEditOperations()[0];return new Pe(o.range.endLineNumber,o.range.endColumn,o.range.endLineNumber,o.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const o=this._selection.startColumn;return i.startColumn<=o?i:i.getDirection()===0?new Pe(i.startLineNumber,o,i.endLineNumber,i.endColumn):new Pe(i.endLineNumber,i.endColumn,i.startLineNumber,o)}return i}};xa=ML=$we([jwe(2,Di)],xa);class Kwe{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new D(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new D(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){const i=t.getInverseEditOperations(),o=i[0].range,r=i[1].range;return new Pe(o.endLineNumber,o.endColumn,r.endLineNumber,r.endColumn-this._charAfterSelection.length)}}class qwe{constructor(e,t,i){this._position=e,this._text=t,this._charAfter=i}getEditOperations(e,t){t.addTrackedEditOperation(new D(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(e,t){const o=t.getInverseEditOperations()[0].range;return new Pe(o.endLineNumber,o.startColumn,o.endLineNumber,o.endColumn-this._charAfter.length)}}function Gwe(n,e,t){const i=n.tokenization.getLanguageIdAtPosition(e,0);if(e>1){let o,r=-1;for(o=e-1;o>=1;o--){if(n.tokenization.getLanguageIdAtPosition(o,0)!==i)return r;const s=n.getLineContent(o);if(t.shouldIgnore(s)||/^\s+$/.test(s)||s===""){r=o;continue}return o}}return-1}function mI(n,e,t,i=!0,o){if(n<4)return null;const r=o.getLanguageConfiguration(e.tokenization.getLanguageId()).indentRulesSupport;if(!r)return null;if(t<=1)return{indentation:"",action:null};for(let l=t-1;l>0&&e.getLineContent(l)==="";l--)if(l===1)return{indentation:"",action:null};const s=Gwe(e,t,r);if(s<0)return null;if(s<1)return{indentation:"",action:null};const a=e.getLineContent(s);if(r.shouldIncrease(a)||r.shouldIndentNextLine(a))return{indentation:wi(a),action:On.Indent,line:s};if(r.shouldDecrease(a))return{indentation:wi(a),action:null,line:s};{if(s===1)return{indentation:wi(e.getLineContent(s)),action:null,line:s};const l=s-1,c=r.getIndentMetadata(e.getLineContent(l));if(!(c&3)&&c&4){let d=0;for(let u=l-1;u>0;u--)if(!r.shouldIndentNextLine(e.getLineContent(u))){d=u;break}return{indentation:wi(e.getLineContent(d+1)),action:null,line:d+1}}if(i)return{indentation:wi(e.getLineContent(s)),action:null,line:s};for(let d=s;d>0;d--){const u=e.getLineContent(d);if(r.shouldIncrease(u))return{indentation:wi(u),action:On.Indent,line:d};if(r.shouldIndentNextLine(u)){let h=0;for(let g=d-1;g>0;g--)if(!r.shouldIndentNextLine(e.getLineContent(d))){h=g;break}return{indentation:wi(e.getLineContent(h+1)),action:null,line:h+1}}else if(r.shouldDecrease(u))return{indentation:wi(u),action:null,line:d}}return{indentation:wi(e.getLineContent(1)),action:null,line:1}}}function DC(n,e,t,i,o,r){if(n<4)return null;const s=r.getLanguageConfiguration(t);if(!s)return null;const a=r.getLanguageConfiguration(t).indentRulesSupport;if(!a)return null;const l=mI(n,e,i,void 0,r),c=e.getLineContent(i);if(l){const d=l.line;if(d!==void 0){let u=!0;for(let h=d;h<i-1;h++)if(!/^\s*$/.test(e.getLineContent(h))){u=!1;break}if(u){const h=s.onEnter(n,"",e.getLineContent(d),"");if(h){let g=wi(e.getLineContent(d));return h.removeText&&(g=g.substring(0,g.length-h.removeText)),h.indentAction===On.Indent||h.indentAction===On.IndentOutdent?g=o.shiftIndent(g):h.indentAction===On.Outdent&&(g=o.unshiftIndent(g)),a.shouldDecrease(c)&&(g=o.unshiftIndent(g)),h.appendText&&(g+=h.appendText),wi(g)}}}return a.shouldDecrease(c)?l.action===On.Indent?l.indentation:o.unshiftIndent(l.indentation):l.action===On.Indent?o.shiftIndent(l.indentation):l.indentation}return null}function Zwe(n,e,t,i,o){if(n<4)return null;e.tokenization.forceTokenization(t.startLineNumber);const r=e.tokenization.getLineTokens(t.startLineNumber),s=iI(r,t.startColumn-1),a=s.getLineContent();let l=!1,c;s.firstCharOffset>0&&r.getLanguageId(0)!==s.languageId?(l=!0,c=a.substr(0,t.startColumn-1-s.firstCharOffset)):c=r.getLineContent().substring(0,t.startColumn-1);let d;t.isEmpty()?d=a.substr(t.startColumn-1-s.firstCharOffset):d=Bb(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-s.firstCharOffset);const u=o.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!u)return null;const h=c,g=wi(c),f={tokenization:{getLineTokens:_=>e.tokenization.getLineTokens(_),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(_,C)=>e.getLanguageIdAtPosition(_,C)},getLineContent:_=>_===t.startLineNumber?h:e.getLineContent(_)},p=wi(r.getLineContent()),b=mI(n,f,t.startLineNumber+1,void 0,o);if(!b){const _=l?p:g;return{beforeEnter:_,afterEnter:_}}let v=l?p:b.indentation;return b.action===On.Indent&&(v=i.shiftIndent(v)),u.shouldDecrease(d)&&(v=i.unshiftIndent(v)),{beforeEnter:l?p:g,afterEnter:v}}function Ywe(n,e,t,i,o,r){if(n<4)return null;const s=Bb(e,t.startLineNumber,t.startColumn);if(s.firstCharOffset)return null;const a=r.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!a)return null;const l=s.getLineContent(),c=l.substr(0,t.startColumn-1-s.firstCharOffset);let d;if(t.isEmpty()?d=l.substr(t.startColumn-1-s.firstCharOffset):d=Bb(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-s.firstCharOffset),!a.shouldDecrease(c+d)&&a.shouldDecrease(c+i+d)){const u=mI(n,e,t.startLineNumber,!1,r);if(!u)return null;let h=u.indentation;return u.action!==On.Indent&&(h=o.unshiftIndent(h)),h}return null}function See(n,e,t){const i=t.getLanguageConfiguration(n.getLanguageId()).indentRulesSupport;return!i||e<1||e>n.getLineCount()?null:i.getIndentMetadata(n.getLineContent(e))}class Ji{static indent(e,t,i){if(t===null||i===null)return[];const o=[];for(let r=0,s=i.length;r<s;r++)o[r]=new xa(i[r],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return o}static outdent(e,t,i){const o=[];for(let r=0,s=i.length;r<s;r++)o[r]=new xa(i[r],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return o}static shiftIndent(e,t,i){return i=i||1,xa.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,xa.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,o){const r=[];for(let s=0,a=i.length;s<a;s++)r[s]=new Ao(i[s],o[s]);return new Zr(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,o,r){const s=[];for(let a=0,l=i.length;a<l;a++){const c=i[a],d=c.getPosition();if(r&&!c.isEmpty()&&(r=!1),r&&o.indexOf(`
`)!==o.length-1&&(r=!1),r){const u=new D(d.lineNumber,1,d.lineNumber,1);s[a]=new A6(u,o,c,!0)}else s[a]=new Ao(c,o)}return new Zr(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,o,r){if(o||t.length===1)return null;if(r&&r.length===t.length)return r;if(e.multiCursorPaste==="spread"){i.charCodeAt(i.length-1)===10&&(i=i.substr(0,i.length-1)),i.charCodeAt(i.length-1)===13&&(i=i.substr(0,i.length-1));const s=qd(i);if(s.length===t.length)return s}return null}static paste(e,t,i,o,r,s){const a=this._distributePasteToCursors(e,i,o,r,s);return a?(i=i.sort(D.compareRangesUsingStarts),this._distributedPaste(e,t,i,a)):this._simplePaste(e,t,i,o,r)}static _goodIndentForLine(e,t,i){let o=null,r="";const s=mI(e.autoIndent,t,i,!1,e.languageConfigurationService);if(s)o=s.action,r=s.indentation;else if(i>1){let a;for(a=i-1;a>=1;a--){const d=t.getLineContent(a);if(hc(d)>=0)break}if(a<1)return null;const l=t.getLineMaxColumn(a),c=$b(e.autoIndent,t,new D(a,l,a,l),e.languageConfigurationService);c&&(r=c.indentation+c.appendText)}return o&&(o===On.Indent&&(r=Ji.shiftIndent(e,r)),o===On.Outdent&&(r=Ji.unshiftIndent(e,r)),r=e.normalizeIndentation(r)),r||null}static _replaceJumpToNextIndent(e,t,i,o){let r="";const s=i.getStartPosition();if(e.insertSpaces){const a=e.visibleColumnFromColumn(t,s),l=e.indentSize,c=l-a%l;for(let d=0;d<c;d++)r+=" "}else r="	";return new Ao(i,r,o)}static tab(e,t,i){const o=[];for(let r=0,s=i.length;r<s;r++){const a=i[r];if(a.isEmpty()){const l=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(l)&&t.tokenization.isCheapToTokenize(a.startLineNumber)){let c=this._goodIndentForLine(e,t,a.startLineNumber);c=c||"	";const d=e.normalizeIndentation(c);if(!l.startsWith(d)){o[r]=new Ao(new D(a.startLineNumber,1,a.startLineNumber,l.length+1),d,!0);continue}}o[r]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){const l=t.getLineMaxColumn(a.startLineNumber);if(a.startColumn!==1||a.endColumn!==l){o[r]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}o[r]=new xa(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService)}}return o}static compositionType(e,t,i,o,r,s,a,l){const c=o.map(d=>this._compositionType(i,d,r,s,a,l));return new Zr(4,c,{shouldPushStackElementBefore:Xx(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,o,r,s){if(!t.isEmpty())return null;const a=t.getPosition(),l=Math.max(1,a.column-o),c=Math.min(e.getLineMaxColumn(a.lineNumber),a.column+r),d=new D(a.lineNumber,l,a.lineNumber,c);return e.getValueInRange(d)===i&&s===0?null:new RL(d,i,0,s)}static _typeCommand(e,t,i){return i?new Zx(e,t,!0):new Ao(e,t,!0)}static _enter(e,t,i,o){if(e.autoIndent===0)return Ji._typeCommand(o,`
`,i);if(!t.tokenization.isCheapToTokenize(o.getStartPosition().lineNumber)||e.autoIndent===1){const l=t.getLineContent(o.startLineNumber),c=wi(l).substring(0,o.startColumn-1);return Ji._typeCommand(o,`
`+e.normalizeIndentation(c),i)}const r=$b(e.autoIndent,t,o,e.languageConfigurationService);if(r){if(r.indentAction===On.None)return Ji._typeCommand(o,`
`+e.normalizeIndentation(r.indentation+r.appendText),i);if(r.indentAction===On.Indent)return Ji._typeCommand(o,`
`+e.normalizeIndentation(r.indentation+r.appendText),i);if(r.indentAction===On.IndentOutdent){const l=e.normalizeIndentation(r.indentation),c=e.normalizeIndentation(r.indentation+r.appendText),d=`
`+c+`
`+l;return i?new Zx(o,d,!0):new RL(o,d,-1,c.length-l.length,!0)}else if(r.indentAction===On.Outdent){const l=Ji.unshiftIndent(e,r.indentation);return Ji._typeCommand(o,`
`+e.normalizeIndentation(l+r.appendText),i)}}const s=t.getLineContent(o.startLineNumber),a=wi(s).substring(0,o.startColumn-1);if(e.autoIndent>=4){const l=Zwe(e.autoIndent,t,o,{unshiftIndent:c=>Ji.unshiftIndent(e,c),shiftIndent:c=>Ji.shiftIndent(e,c),normalizeIndentation:c=>e.normalizeIndentation(c)},e.languageConfigurationService);if(l){let c=e.visibleColumnFromColumn(t,o.getEndPosition());const d=o.endColumn,u=t.getLineContent(o.endLineNumber),h=hr(u);if(h>=0?o=o.setEndPosition(o.endLineNumber,Math.max(o.endColumn,h+1)):o=o.setEndPosition(o.endLineNumber,t.getLineMaxColumn(o.endLineNumber)),i)return new Zx(o,`
`+e.normalizeIndentation(l.afterEnter),!0);{let g=0;return d<=h+1&&(e.insertSpaces||(c=Math.ceil(c/e.indentSize)),g=Math.min(c+1-e.normalizeIndentation(l.afterEnter).length-1,0)),new RL(o,`
`+e.normalizeIndentation(l.afterEnter),0,g,!0)}}}return Ji._typeCommand(o,`
`+e.normalizeIndentation(a),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let o=0,r=i.length;o<r;o++)if(!t.tokenization.isCheapToTokenize(i[o].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,o){const r=TJ(t,i.startLineNumber,i.startColumn),s=Ywe(e.autoIndent,t,i,o,{shiftIndent:a=>Ji.shiftIndent(e,a),unshiftIndent:a=>Ji.unshiftIndent(e,a)},e.languageConfigurationService);if(s===null)return null;if(s!==e.normalizeIndentation(r)){const a=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return a===0?Ji._typeCommand(new D(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+o,!1):Ji._typeCommand(new D(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+t.getLineContent(i.startLineNumber).substring(a-1,i.startColumn-1)+o,!1)}return null}static _isAutoClosingOvertype(e,t,i,o,r){if(e.autoClosingOvertype==="never"||!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(r))return!1;for(let s=0,a=i.length;s<a;s++){const l=i[s];if(!l.isEmpty())return!1;const c=l.getPosition(),d=t.getLineContent(c.lineNumber);if(d.charAt(c.column-1)!==r)return!1;const h=Hh(r);if((c.column>2?d.charCodeAt(c.column-2):0)===92&&h)return!1;if(e.autoClosingOvertype==="auto"){let f=!1;for(let p=0,b=o.length;p<b;p++){const v=o[p];if(c.lineNumber===v.startLineNumber&&c.column===v.startColumn){f=!0;break}}if(!f)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,o,r){const s=[];for(let a=0,l=o.length;a<l;a++){const d=o[a].getPosition(),u=new D(d.lineNumber,d.column,d.lineNumber,d.column+1);s[a]=new Ao(u,r)}return new Zr(4,s,{shouldPushStackElementBefore:Xx(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const i=t.charAt(0),o=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],r=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],s=o.some(l=>t.startsWith(l.open)),a=r.some(l=>t.startsWith(l.close));return!s&&a}static _findAutoClosingPairOpen(e,t,i,o){const r=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(o);if(!r)return null;let s=null;for(const a of r)if(s===null||a.open.length>s.open.length){let l=!0;for(const c of i)if(t.getValueInRange(new D(c.lineNumber,c.column-a.open.length+1,c.lineNumber,c.column))+o!==a.open){l=!1;break}l&&(s=a)}return s}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;const i=t.close.charAt(t.close.length-1),o=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[];let r=null;for(const s of o)s.open!==t.open&&t.open.includes(s.open)&&t.close.endsWith(s.close)&&(!r||s.open.length>r.open.length)&&(r=s);return r}static _getAutoClosingPairClose(e,t,i,o,r){for(const f of i)if(!f.isEmpty())return null;const s=i.map(f=>{const p=f.getPosition();return r?{lineNumber:p.lineNumber,beforeColumn:p.column-o.length,afterColumn:p.column}:{lineNumber:p.lineNumber,beforeColumn:p.column,afterColumn:p.column}}),a=this._findAutoClosingPairOpen(e,t,s.map(f=>new W(f.lineNumber,f.beforeColumn)),o);if(!a)return null;let l,c;if(Hh(o)?(l=e.autoClosingQuotes,c=e.shouldAutoCloseBefore.quote):(e.blockCommentStartToken?a.open.includes(e.blockCommentStartToken):!1)?(l=e.autoClosingComments,c=e.shouldAutoCloseBefore.comment):(l=e.autoClosingBrackets,c=e.shouldAutoCloseBefore.bracket),l==="never")return null;const u=this._findContainedAutoClosingPair(e,a),h=u?u.close:"";let g=!0;for(const f of s){const{lineNumber:p,beforeColumn:b,afterColumn:v}=f,_=t.getLineContent(p),C=_.substring(0,b-1),y=_.substring(v-1);if(y.startsWith(h)||(g=!1),y.length>0){const L=y.charAt(0);if(!Ji._isBeforeClosingBrace(e,y)&&!c(L))return null}if(a.open.length===1&&(o==="'"||o==='"')&&l!=="always"){const L=Fa(e.wordSeparators);if(C.length>0){const E=C.charCodeAt(C.length-1);if(L.get(E)===0)return null}}if(!t.tokenization.isCheapToTokenize(p))return null;t.tokenization.forceTokenization(p);const w=t.tokenization.getLineTokens(p),S=iI(w,b-1);if(!a.shouldAutoClose(S,b-S.firstCharOffset))return null;const x=a.findNeutralCharacter();if(x){const L=t.tokenization.getTokenTypeIfInsertingCharacter(p,b,x);if(!a.isOK(L))return null}}return g?a.close.substring(0,a.close.length-h.length):a.close}static _runAutoClosingOpenCharType(e,t,i,o,r,s,a){const l=[];for(let c=0,d=o.length;c<d;c++){const u=o[c];l[c]=new xee(u,r,!s,a)}return new Zr(4,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return Hh(t)?e.autoSurround==="quotes"||e.autoSurround==="languageDefined":e.autoSurround==="brackets"||e.autoSurround==="languageDefined"}static _isSurroundSelectionType(e,t,i,o){if(!Ji._shouldSurroundChar(e,o)||!e.surroundingPairs.hasOwnProperty(o))return!1;const r=Hh(o);for(const s of i){if(s.isEmpty())return!1;let a=!0;for(let l=s.startLineNumber;l<=s.endLineNumber;l++){const c=t.getLineContent(l),d=l===s.startLineNumber?s.startColumn-1:0,u=l===s.endLineNumber?s.endColumn-1:c.length,h=c.substring(d,u);if(/[^ \t]/.test(h)){a=!1;break}}if(a)return!1;if(r&&s.startLineNumber===s.endLineNumber&&s.startColumn+1===s.endColumn){const l=t.getValueInRange(s);if(Hh(l))return!1}}return!0}static _runSurroundSelectionType(e,t,i,o,r){const s=[];for(let a=0,l=o.length;a<l;a++){const c=o[a],d=t.surroundingPairs[r];s[a]=new Kwe(c,r,d)}return new Zr(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!!(i.length===1&&t.tokenization.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,o,r){if(!t.electricChars.hasOwnProperty(r)||!o.isEmpty())return null;const s=o.getPosition();i.tokenization.forceTokenization(s.lineNumber);const a=i.tokenization.getLineTokens(s.lineNumber);let l;try{l=t.onElectricCharacter(r,a,s.column)}catch(c){return st(c),null}if(!l)return null;if(l.matchOpenBracket){const c=(a.getLineContent()+r).lastIndexOf(l.matchOpenBracket)+1,d=i.bracketPairs.findMatchingBracketUp(l.matchOpenBracket,{lineNumber:s.lineNumber,column:c},500);if(d){if(d.startLineNumber===s.lineNumber)return null;const u=i.getLineContent(d.startLineNumber),h=wi(u),g=t.normalizeIndentation(h),f=i.getLineContent(s.lineNumber),p=i.getLineFirstNonWhitespaceColumn(s.lineNumber)||s.column,b=f.substring(p-1,s.column-1),v=g+b+r,_=new D(s.lineNumber,1,s.lineNumber,s.column),C=new Ao(_,v);return new Zr(wM(v,e),[C],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,o,r,s){if(!o)return null;let a=null;for(const u of o)if(a===null)a=u.insertedText;else if(a!==u.insertedText)return null;if(!a||a.length!==1)return null;const l=a;let c=!1;for(const u of o)if(u.deletedText.length!==0){c=!0;break}if(c){if(!Ji._shouldSurroundChar(t,l)||!t.surroundingPairs.hasOwnProperty(l))return null;const u=Hh(l);for(const f of o)if(f.deletedSelectionStart!==0||f.deletedSelectionEnd!==f.deletedText.length||/^[ \t]+$/.test(f.deletedText)||u&&Hh(f.deletedText))return null;const h=[];for(const f of r){if(!f.isEmpty())return null;h.push(f.getPosition())}if(h.length!==o.length)return null;const g=[];for(let f=0,p=h.length;f<p;f++)g.push(new qwe(h[f],o[f].deletedText,t.surroundingPairs[l]));return new Zr(4,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(t,i,r,s,l)){const u=r.map(h=>new Ao(new D(h.positionLineNumber,h.positionColumn,h.positionLineNumber,h.positionColumn+1),"",!1));return new Zr(4,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const d=this._getAutoClosingPairClose(t,i,r,l,!0);return d!==null?this._runAutoClosingOpenCharType(e,t,i,r,l,!0,d):null}static typeWithInterceptors(e,t,i,o,r,s,a){if(!e&&a===`
`){const d=[];for(let u=0,h=r.length;u<h;u++)d[u]=Ji._enter(i,o,!1,r[u]);return new Zr(4,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,o,r)){const d=[];let u=!1;for(let h=0,g=r.length;h<g;h++)if(d[h]=this._runAutoIndentType(i,o,r[h],a),!d[h]){u=!0;break}if(!u)return new Zr(4,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(i,o,r,s,a))return this._runAutoClosingOvertype(t,i,o,r,a);if(!e){const d=this._getAutoClosingPairClose(i,o,r,a,!1);if(d)return this._runAutoClosingOpenCharType(t,i,o,r,a,!1,d)}if(!e&&this._isSurroundSelectionType(i,o,r,a))return this._runSurroundSelectionType(t,i,o,r,a);if(!e&&this._isTypeInterceptorElectricChar(i,o,r)){const d=this._typeInterceptorElectricChar(t,i,o,r[0],a);if(d)return d}const l=[];for(let d=0,u=r.length;d<u;d++)l[d]=new Ao(r[d],a);const c=wM(a,t);return new Zr(c,l,{shouldPushStackElementBefore:Xx(t,c),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,o,r){const s=[];for(let l=0,c=o.length;l<c;l++)s[l]=new Ao(o[l],r);const a=wM(r,e);return new Zr(a,s,{shouldPushStackElementBefore:Xx(e,a),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(t===null||i===null)return[];const o=[];for(let r=0,s=i.length;r<s;r++){let a=i[r].positionLineNumber;if(a===1)o[r]=new Zx(new D(1,1,1,1),`
`);else{a--;const l=t.getLineMaxColumn(a);o[r]=this._enter(e,t,!1,new D(a,l,a,l))}}return o}static lineInsertAfter(e,t,i){if(t===null||i===null)return[];const o=[];for(let r=0,s=i.length;r<s;r++){const a=i[r].positionLineNumber,l=t.getLineMaxColumn(a);o[r]=this._enter(e,t,!1,new D(a,l,a,l))}return o}static lineBreakInsert(e,t,i){const o=[];for(let r=0,s=i.length;r<s;r++)o[r]=this._enter(e,t,!0,i[r]);return o}}class xee extends RL{constructor(e,t,i,o){super(e,(i?t:"")+o,0,-o.length),this._openCharacter=t,this._closeCharacter=o,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){const o=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new D(o.startLineNumber,o.endColumn-this._closeCharacter.length,o.endLineNumber,o.endColumn),this.enclosingRange=new D(o.startLineNumber,o.endColumn-this._openCharacter.length-this._closeCharacter.length,o.endLineNumber,o.endColumn),super.computeCursorState(e,t)}}class Xwe{constructor(e,t,i,o,r,s){this.deletedText=e,this.deletedSelectionStart=t,this.deletedSelectionEnd=i,this.insertedText=o,this.insertedSelectionStart=r,this.insertedSelectionEnd=s}}function wM(n,e){return n===" "?e===5||e===6?6:5:4}function Xx(n,e){return GU(n)&&!GU(e)?!0:n===5?!1:qU(n)!==qU(e)}function qU(n){return n===6||n===5?"space":n}function GU(n){return n===4||n===5||n===6}var I;(function(n){n.editorSimpleInput=new we("editorSimpleInput",!1,!0),n.editorTextFocus=new we("editorTextFocus",!1,m("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),n.focus=new we("editorFocus",!1,m("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),n.textInputFocus=new we("textInputFocus",!1,m("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),n.readOnly=new we("editorReadonly",!1,m("editorReadonly","Whether the editor is read-only")),n.inDiffEditor=new we("inDiffEditor",!1,m("inDiffEditor","Whether the context is a diff editor")),n.isEmbeddedDiffEditor=new we("isEmbeddedDiffEditor",!1,m("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),n.inMultiDiffEditor=new we("inMultiDiffEditor",!1,m("inMultiDiffEditor","Whether the context is a multi diff editor")),n.multiDiffEditorAllCollapsed=new we("multiDiffEditorAllCollapsed",void 0,m("multiDiffEditorAllCollapsed","Whether all files in multi diff editor are collapsed")),n.hasChanges=new we("diffEditorHasChanges",!1,m("diffEditorHasChanges","Whether the diff editor has changes")),n.comparingMovedCode=new we("comparingMovedCode",!1,m("comparingMovedCode","Whether a moved code block is selected for comparison")),n.accessibleDiffViewerVisible=new we("accessibleDiffViewerVisible",!1,m("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),n.diffEditorRenderSideBySideInlineBreakpointReached=new we("diffEditorRenderSideBySideInlineBreakpointReached",!1,m("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),n.columnSelection=new we("editorColumnSelection",!1,m("editorColumnSelection","Whether `editor.columnSelection` is enabled")),n.writable=n.readOnly.toNegated(),n.hasNonEmptySelection=new we("editorHasSelection",!1,m("editorHasSelection","Whether the editor has text selected")),n.hasOnlyEmptySelection=n.hasNonEmptySelection.toNegated(),n.hasMultipleSelections=new we("editorHasMultipleSelections",!1,m("editorHasMultipleSelections","Whether the editor has multiple selections")),n.hasSingleSelection=n.hasMultipleSelections.toNegated(),n.tabMovesFocus=new we("editorTabMovesFocus",!1,m("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),n.tabDoesNotMoveFocus=n.tabMovesFocus.toNegated(),n.isInEmbeddedEditor=new we("isInEmbeddedEditor",!1,!0),n.canUndo=new we("canUndo",!1,!0),n.canRedo=new we("canRedo",!1,!0),n.hoverVisible=new we("editorHoverVisible",!1,m("editorHoverVisible","Whether the editor hover is visible")),n.hoverFocused=new we("editorHoverFocused",!1,m("editorHoverFocused","Whether the editor hover is focused")),n.stickyScrollFocused=new we("stickyScrollFocused",!1,m("stickyScrollFocused","Whether the sticky scroll is focused")),n.stickyScrollVisible=new we("stickyScrollVisible",!1,m("stickyScrollVisible","Whether the sticky scroll is visible")),n.standaloneColorPickerVisible=new we("standaloneColorPickerVisible",!1,m("standaloneColorPickerVisible","Whether the standalone color picker is visible")),n.standaloneColorPickerFocused=new we("standaloneColorPickerFocused",!1,m("standaloneColorPickerFocused","Whether the standalone color picker is focused")),n.inCompositeEditor=new we("inCompositeEditor",void 0,m("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),n.notInCompositeEditor=n.inCompositeEditor.toNegated(),n.languageId=new we("editorLangId","",m("editorLangId","The language identifier of the editor")),n.hasCompletionItemProvider=new we("editorHasCompletionItemProvider",!1,m("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),n.hasCodeActionsProvider=new we("editorHasCodeActionsProvider",!1,m("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),n.hasCodeLensProvider=new we("editorHasCodeLensProvider",!1,m("editorHasCodeLensProvider","Whether the editor has a code lens provider")),n.hasDefinitionProvider=new we("editorHasDefinitionProvider",!1,m("editorHasDefinitionProvider","Whether the editor has a definition provider")),n.hasDeclarationProvider=new we("editorHasDeclarationProvider",!1,m("editorHasDeclarationProvider","Whether the editor has a declaration provider")),n.hasImplementationProvider=new we("editorHasImplementationProvider",!1,m("editorHasImplementationProvider","Whether the editor has an implementation provider")),n.hasTypeDefinitionProvider=new we("editorHasTypeDefinitionProvider",!1,m("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),n.hasHoverProvider=new we("editorHasHoverProvider",!1,m("editorHasHoverProvider","Whether the editor has a hover provider")),n.hasDocumentHighlightProvider=new we("editorHasDocumentHighlightProvider",!1,m("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),n.hasDocumentSymbolProvider=new we("editorHasDocumentSymbolProvider",!1,m("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),n.hasReferenceProvider=new we("editorHasReferenceProvider",!1,m("editorHasReferenceProvider","Whether the editor has a reference provider")),n.hasRenameProvider=new we("editorHasRenameProvider",!1,m("editorHasRenameProvider","Whether the editor has a rename provider")),n.hasSignatureHelpProvider=new we("editorHasSignatureHelpProvider",!1,m("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),n.hasInlayHintsProvider=new we("editorHasInlayHintsProvider",!1,m("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),n.hasDocumentFormattingProvider=new we("editorHasDocumentFormattingProvider",!1,m("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),n.hasDocumentSelectionFormattingProvider=new we("editorHasDocumentSelectionFormattingProvider",!1,m("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),n.hasMultipleDocumentFormattingProvider=new we("editorHasMultipleDocumentFormattingProvider",!1,m("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),n.hasMultipleDocumentSelectionFormattingProvider=new we("editorHasMultipleDocumentSelectionFormattingProvider",!1,m("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(I||(I={}));const Qt=0;class cn extends _o{runEditorCommand(e,t,i){const o=t._getViewModel();o&&this.runCoreEditorCommand(o,i||{})}}var Ro;(function(n){const e=function(i){if(!Tr(i))return!1;const o=i;return!(!Pr(o.to)||!_s(o.by)&&!Pr(o.by)||!_s(o.value)&&!Xg(o.value)||!_s(o.revealCursor)&&!QX(o.revealCursor))};n.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},n.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function t(i){let o;switch(i.to){case n.RawDirection.Up:o=1;break;case n.RawDirection.Right:o=2;break;case n.RawDirection.Down:o=3;break;case n.RawDirection.Left:o=4;break;default:return null}let r;switch(i.by){case n.RawUnit.Line:r=1;break;case n.RawUnit.WrappedLine:r=2;break;case n.RawUnit.Page:r=3;break;case n.RawUnit.HalfPage:r=4;break;case n.RawUnit.Editor:r=5;break;case n.RawUnit.Column:r=6;break;default:r=2}const s=Math.floor(i.value||1),a=!!i.revealCursor;return{direction:o,unit:r,value:s,revealCursor:a,select:!!i.select}}n.parse=t})(Ro||(Ro={}));var vb;(function(n){const e=function(t){if(!Tr(t))return!1;const i=t;return!(!Xg(i.lineNumber)&&!Pr(i.lineNumber)||!_s(i.at)&&!Pr(i.at))};n.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:e,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},n.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(vb||(vb={}));class w4{constructor(e){e.addImplementation(1e4,"code-editor",(t,i)=>{const o=t.get(qt).getFocusedCodeEditor();return o&&o.hasTextFocus()?this._runEditorCommand(t,o,i):!1}),e.addImplementation(1e3,"generic-dom-input-textarea",(t,i)=>{const o=Vo();return o&&["input","textarea"].indexOf(o.tagName.toLowerCase())>=0?(this.runDOMCommand(o),!0):!1}),e.addImplementation(0,"generic-dom",(t,i)=>{const o=t.get(qt).getActiveCodeEditor();return o?(o.focus(),this._runEditorCommand(t,o,i)):!1})}_runEditorCommand(e,t,i){const o=this.runEditorCommand(e,t,i);return o||!0}}var lo;(function(n){class e extends cn{constructor(_){super(_),this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){if(!C.position)return;_.model.pushStackElement(),_.setCursorStates(C.source,3,[wo.moveTo(_,_.getPrimaryCursorState(),this._inSelectionMode,C.position,C.viewPosition)])&&C.revealType!==2&&_.revealPrimaryCursor(C.source,!0,!0)}}n.MoveTo=ve(new e({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),n.MoveToSelect=ve(new e({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class t extends cn{runCoreEditorCommand(_,C){_.model.pushStackElement();const y=this._getColumnSelectResult(_,_.getPrimaryCursorState(),_.getCursorColumnSelectData(),C);y!==null&&(_.setCursorStates(C.source,3,y.viewStates.map(w=>zt.fromViewState(w))),_.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:y.fromLineNumber,fromViewVisualColumn:y.fromVisualColumn,toViewLineNumber:y.toLineNumber,toViewVisualColumn:y.toVisualColumn}),y.reversed?_.revealTopMostCursor(C.source):_.revealBottomMostCursor(C.source))}}n.ColumnSelect=ve(new class extends t{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(v,_,C,y){if(typeof y.position>"u"||typeof y.viewPosition>"u"||typeof y.mouseColumn>"u")return null;const w=v.model.validatePosition(y.position),S=v.coordinatesConverter.validateViewPosition(new W(y.viewPosition.lineNumber,y.viewPosition.column),w),x=y.doColumnSelect?C.fromViewLineNumber:S.lineNumber,L=y.doColumnSelect?C.fromViewVisualColumn:y.mouseColumn-1;return _p.columnSelect(v.cursorConfig,v,x,L,S.lineNumber,y.mouseColumn-1)}}),n.CursorColumnSelectLeft=ve(new class extends t{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(v,_,C,y){return _p.columnSelectLeft(v.cursorConfig,v,C)}}),n.CursorColumnSelectRight=ve(new class extends t{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(v,_,C,y){return _p.columnSelectRight(v.cursorConfig,v,C)}});class i extends t{constructor(_){super(_),this._isPaged=_.isPaged}_getColumnSelectResult(_,C,y,w){return _p.columnSelectUp(_.cursorConfig,_,y,this._isPaged)}}n.CursorColumnSelectUp=ve(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:3600,linux:{primary:0}}})),n.CursorColumnSelectPageUp=ve(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:3595,linux:{primary:0}}}));class o extends t{constructor(_){super(_),this._isPaged=_.isPaged}_getColumnSelectResult(_,C,y,w){return _p.columnSelectDown(_.cursorConfig,_,y,this._isPaged)}}n.CursorColumnSelectDown=ve(new o({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:3602,linux:{primary:0}}})),n.CursorColumnSelectPageDown=ve(new o({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:3596,linux:{primary:0}}}));class r extends cn{constructor(){super({id:"cursorMove",precondition:void 0,metadata:v2.metadata})}runCoreEditorCommand(_,C){const y=v2.parse(C);y&&this._runCursorMove(_,C.source,y)}_runCursorMove(_,C,y){_.model.pushStackElement(),_.setCursorStates(C,3,r._move(_,_.getCursorStates(),y)),_.revealPrimaryCursor(C,!0)}static _move(_,C,y){const w=y.select,S=y.value;switch(y.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return wo.simpleMove(_,C,y.direction,w,S,y.unit);case 11:case 13:case 12:case 14:return wo.viewportMove(_,C,y.direction,w,S);default:return null}}}n.CursorMoveImpl=r,n.CursorMove=ve(new r);class s extends cn{constructor(_){super(_),this._staticArgs=_.args}runCoreEditorCommand(_,C){let y=this._staticArgs;this._staticArgs.value===-1&&(y={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:C.pageSize||_.cursorConfig.pageSize}),_.model.pushStackElement(),_.setCursorStates(C.source,3,wo.simpleMove(_,_.getCursorStates(),y.direction,y.select,y.value,y.unit)),_.revealPrimaryCursor(C.source,!0)}}n.CursorLeft=ve(new s({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),n.CursorLeftSelect=ve(new s({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:1039}})),n.CursorRight=ve(new s({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),n.CursorRightSelect=ve(new s({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:1041}})),n.CursorUp=ve(new s({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),n.CursorUpSelect=ve(new s({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),n.CursorPageUp=ve(new s({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:11}})),n.CursorPageUpSelect=ve(new s({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:1035}})),n.CursorDown=ve(new s({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),n.CursorDownSelect=ve(new s({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),n.CursorPageDown=ve(new s({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:12}})),n.CursorPageDownSelect=ve(new s({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:1036}})),n.CreateCursor=ve(new class extends cn{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(v,_){if(!_.position)return;let C;_.wholeLine?C=wo.line(v,v.getPrimaryCursorState(),!1,_.position,_.viewPosition):C=wo.moveTo(v,v.getPrimaryCursorState(),!1,_.position,_.viewPosition);const y=v.getCursorStates();if(y.length>1){const w=C.modelState?C.modelState.position:null,S=C.viewState?C.viewState.position:null;for(let x=0,L=y.length;x<L;x++){const E=y[x];if(!(w&&!E.modelState.selection.containsPosition(w))&&!(S&&!E.viewState.selection.containsPosition(S))){y.splice(x,1),v.model.pushStackElement(),v.setCursorStates(_.source,3,y);return}}}y.push(C),v.model.pushStackElement(),v.setCursorStates(_.source,3,y)}}),n.LastCursorMoveToSelect=ve(new class extends cn{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(v,_){if(!_.position)return;const C=v.getLastAddedCursorIndex(),y=v.getCursorStates(),w=y.slice(0);w[C]=wo.moveTo(v,y[C],!0,_.position,_.viewPosition),v.model.pushStackElement(),v.setCursorStates(_.source,3,w)}});class a extends cn{constructor(_){super(_),this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){_.model.pushStackElement(),_.setCursorStates(C.source,3,wo.moveToBeginningOfLine(_,_.getCursorStates(),this._inSelectionMode)),_.revealPrimaryCursor(C.source,!0)}}n.CursorHome=ve(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),n.CursorHomeSelect=ve(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends cn{constructor(_){super(_),this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){_.model.pushStackElement(),_.setCursorStates(C.source,3,this._exec(_.getCursorStates())),_.revealPrimaryCursor(C.source,!0)}_exec(_){const C=[];for(let y=0,w=_.length;y<w;y++){const S=_[y],x=S.modelState.position.lineNumber;C[y]=zt.fromModelState(S.modelState.move(this._inSelectionMode,x,1,0))}return C}}n.CursorLineStart=ve(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:0,mac:{primary:287}}})),n.CursorLineStartSelect=ve(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:0,mac:{primary:1311}}}));class c extends cn{constructor(_){super(_),this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){_.model.pushStackElement(),_.setCursorStates(C.source,3,wo.moveToEndOfLine(_,_.getCursorStates(),this._inSelectionMode,C.sticky||!1)),_.revealPrimaryCursor(C.source,!0)}}n.CursorEnd=ve(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:Qt,kbExpr:I.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:m("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),n.CursorEndSelect=ve(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:Qt,kbExpr:I.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:m("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class d extends cn{constructor(_){super(_),this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){_.model.pushStackElement(),_.setCursorStates(C.source,3,this._exec(_,_.getCursorStates())),_.revealPrimaryCursor(C.source,!0)}_exec(_,C){const y=[];for(let w=0,S=C.length;w<S;w++){const x=C[w],L=x.modelState.position.lineNumber,E=_.model.getLineMaxColumn(L);y[w]=zt.fromModelState(x.modelState.move(this._inSelectionMode,L,E,0))}return y}}n.CursorLineEnd=ve(new d({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:0,mac:{primary:291}}})),n.CursorLineEndSelect=ve(new d({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:0,mac:{primary:1315}}}));class u extends cn{constructor(_){super(_),this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){_.model.pushStackElement(),_.setCursorStates(C.source,3,wo.moveToBeginningOfBuffer(_,_.getCursorStates(),this._inSelectionMode)),_.revealPrimaryCursor(C.source,!0)}}n.CursorTop=ve(new u({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:2062,mac:{primary:2064}}})),n.CursorTopSelect=ve(new u({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:3086,mac:{primary:3088}}}));class h extends cn{constructor(_){super(_),this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){_.model.pushStackElement(),_.setCursorStates(C.source,3,wo.moveToEndOfBuffer(_,_.getCursorStates(),this._inSelectionMode)),_.revealPrimaryCursor(C.source,!0)}}n.CursorBottom=ve(new h({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:2061,mac:{primary:2066}}})),n.CursorBottomSelect=ve(new h({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:3085,mac:{primary:3090}}}));class g extends cn{constructor(){super({id:"editorScroll",precondition:void 0,metadata:Ro.metadata})}determineScrollMethod(_){const C=[6],y=[1,2,3,4,5,6],w=[4,2],S=[1,3];return C.includes(_.unit)&&w.includes(_.direction)?this._runHorizontalEditorScroll.bind(this):y.includes(_.unit)&&S.includes(_.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(_,C){const y=Ro.parse(C);if(!y)return;const w=this.determineScrollMethod(y);w&&w(_,C.source,y)}_runVerticalEditorScroll(_,C,y){const w=this._computeDesiredScrollTop(_,y);if(y.revealCursor){const S=_.getCompletelyVisibleViewRangeAtScrollTop(w);_.setCursorStates(C,3,[wo.findPositionInViewportIfOutside(_,_.getPrimaryCursorState(),S,y.select)])}_.viewLayout.setScrollPosition({scrollTop:w},0)}_computeDesiredScrollTop(_,C){if(C.unit===1){const S=_.viewLayout.getFutureViewport(),x=_.getCompletelyVisibleViewRangeAtScrollTop(S.top),L=_.coordinatesConverter.convertViewRangeToModelRange(x);let E;C.direction===1?E=Math.max(1,L.startLineNumber-C.value):E=Math.min(_.model.getLineCount(),L.startLineNumber+C.value);const O=_.coordinatesConverter.convertModelPositionToViewPosition(new W(E,1));return _.viewLayout.getVerticalOffsetForLineNumber(O.lineNumber)}if(C.unit===5){let S=0;return C.direction===3&&(S=_.model.getLineCount()-_.cursorConfig.pageSize),_.viewLayout.getVerticalOffsetForLineNumber(S)}let y;C.unit===3?y=_.cursorConfig.pageSize*C.value:C.unit===4?y=Math.round(_.cursorConfig.pageSize/2)*C.value:y=C.value;const w=(C.direction===1?-1:1)*y;return _.viewLayout.getCurrentScrollTop()+w*_.cursorConfig.lineHeight}_runHorizontalEditorScroll(_,C,y){const w=this._computeDesiredScrollLeft(_,y);_.viewLayout.setScrollPosition({scrollLeft:w},0)}_computeDesiredScrollLeft(_,C){const y=(C.direction===4?-1:1)*C.value;return _.viewLayout.getCurrentScrollLeft()+y*_.cursorConfig.typicalHalfwidthCharacterWidth}}n.EditorScrollImpl=g,n.EditorScroll=ve(new g),n.ScrollLineUp=ve(new class extends cn{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(v,_){n.EditorScroll.runCoreEditorCommand(v,{to:Ro.RawDirection.Up,by:Ro.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:_.source})}}),n.ScrollPageUp=ve(new class extends cn{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(v,_){n.EditorScroll.runCoreEditorCommand(v,{to:Ro.RawDirection.Up,by:Ro.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:_.source})}}),n.ScrollEditorTop=ve(new class extends cn{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus}})}runCoreEditorCommand(v,_){n.EditorScroll.runCoreEditorCommand(v,{to:Ro.RawDirection.Up,by:Ro.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:_.source})}}),n.ScrollLineDown=ve(new class extends cn{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(v,_){n.EditorScroll.runCoreEditorCommand(v,{to:Ro.RawDirection.Down,by:Ro.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:_.source})}}),n.ScrollPageDown=ve(new class extends cn{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(v,_){n.EditorScroll.runCoreEditorCommand(v,{to:Ro.RawDirection.Down,by:Ro.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:_.source})}}),n.ScrollEditorBottom=ve(new class extends cn{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus}})}runCoreEditorCommand(v,_){n.EditorScroll.runCoreEditorCommand(v,{to:Ro.RawDirection.Down,by:Ro.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:_.source})}}),n.ScrollLeft=ve(new class extends cn{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus}})}runCoreEditorCommand(v,_){n.EditorScroll.runCoreEditorCommand(v,{to:Ro.RawDirection.Left,by:Ro.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:_.source})}}),n.ScrollRight=ve(new class extends cn{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus}})}runCoreEditorCommand(v,_){n.EditorScroll.runCoreEditorCommand(v,{to:Ro.RawDirection.Right,by:Ro.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:_.source})}});class f extends cn{constructor(_){super(_),this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){C.position&&(_.model.pushStackElement(),_.setCursorStates(C.source,3,[wo.word(_,_.getPrimaryCursorState(),this._inSelectionMode,C.position)]),C.revealType!==2&&_.revealPrimaryCursor(C.source,!0,!0))}}n.WordSelect=ve(new f({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),n.WordSelectDrag=ve(new f({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),n.LastCursorWordSelect=ve(new class extends cn{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(v,_){if(!_.position)return;const C=v.getLastAddedCursorIndex(),y=v.getCursorStates(),w=y.slice(0),S=y[C];w[C]=wo.word(v,S,S.modelState.hasSelection(),_.position),v.model.pushStackElement(),v.setCursorStates(_.source,3,w)}});class p extends cn{constructor(_){super(_),this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){C.position&&(_.model.pushStackElement(),_.setCursorStates(C.source,3,[wo.line(_,_.getPrimaryCursorState(),this._inSelectionMode,C.position,C.viewPosition)]),C.revealType!==2&&_.revealPrimaryCursor(C.source,!1,!0))}}n.LineSelect=ve(new p({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),n.LineSelectDrag=ve(new p({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class b extends cn{constructor(_){super(_),this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){if(!C.position)return;const y=_.getLastAddedCursorIndex(),w=_.getCursorStates(),S=w.slice(0);S[y]=wo.line(_,w[y],this._inSelectionMode,C.position,C.viewPosition),_.model.pushStackElement(),_.setCursorStates(C.source,3,S)}}n.LastCursorLineSelect=ve(new b({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),n.LastCursorLineSelectDrag=ve(new b({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),n.CancelSelection=ve(new class extends cn{constructor(){super({id:"cancelSelection",precondition:I.hasNonEmptySelection,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(v,_){v.model.pushStackElement(),v.setCursorStates(_.source,3,[wo.cancelSelection(v,v.getPrimaryCursorState())]),v.revealPrimaryCursor(_.source,!0)}}),n.RemoveSecondaryCursors=ve(new class extends cn{constructor(){super({id:"removeSecondaryCursors",precondition:I.hasMultipleSelections,kbOpts:{weight:Qt+1,kbExpr:I.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(v,_){v.model.pushStackElement(),v.setCursorStates(_.source,3,[v.getPrimaryCursorState()]),v.revealPrimaryCursor(_.source,!0),Pd(m("removedCursor","Removed secondary cursors"))}}),n.RevealLine=ve(new class extends cn{constructor(){super({id:"revealLine",precondition:void 0,metadata:vb.metadata})}runCoreEditorCommand(v,_){const C=_,y=C.lineNumber||0;let w=typeof y=="number"?y+1:parseInt(y)+1;w<1&&(w=1);const S=v.model.getLineCount();w>S&&(w=S);const x=new D(w,1,w,v.model.getLineMaxColumn(w));let L=0;if(C.at)switch(C.at){case vb.RawAtArgument.Top:L=3;break;case vb.RawAtArgument.Center:L=1;break;case vb.RawAtArgument.Bottom:L=4;break}const E=v.coordinatesConverter.convertModelRangeToViewRange(x);v.revealRange(_.source,!1,E,L,0)}}),n.SelectAll=new class extends w4{constructor(){super(i_e)}runDOMCommand(v){Oa&&(v.focus(),v.select()),v.ownerDocument.execCommand("selectAll")}runEditorCommand(v,_,C){const y=_._getViewModel();y&&this.runCoreEditorCommand(y,C)}runCoreEditorCommand(v,_){v.model.pushStackElement(),v.setCursorStates("keyboard",3,[wo.selectAll(v,v.getPrimaryCursorState())])}},n.SetSelection=ve(new class extends cn{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(v,_){_.selection&&(v.model.pushStackElement(),v.setCursorStates(_.source,3,[zt.fromModelSelection(_.selection)]))}})})(lo||(lo={}));const Qwe=ee.and(I.textInputFocus,I.columnSelection);function S0(n,e){ls.registerKeybindingRule({id:n,primary:e,when:Qwe,weight:Qt+1})}S0(lo.CursorColumnSelectLeft.id,1039);S0(lo.CursorColumnSelectRight.id,1041);S0(lo.CursorColumnSelectUp.id,1040);S0(lo.CursorColumnSelectPageUp.id,1035);S0(lo.CursorColumnSelectDown.id,1042);S0(lo.CursorColumnSelectPageDown.id,1036);function ZU(n){return n.register(),n}var jb;(function(n){class e extends _o{runEditorCommand(i,o,r){const s=o._getViewModel();s&&this.runCoreEditingCommand(o,s,r||{})}}n.CoreEditingCommand=e,n.LineBreakInsert=ve(new class extends e{constructor(){super({id:"lineBreakInsert",precondition:I.writable,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(t,i,o){t.pushUndoStop(),t.executeCommands(this.id,Ji.lineBreakInsert(i.cursorConfig,i.model,i.getCursorStates().map(r=>r.modelState.selection)))}}),n.Outdent=ve(new class extends e{constructor(){super({id:"outdent",precondition:I.writable,kbOpts:{weight:Qt,kbExpr:ee.and(I.editorTextFocus,I.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(t,i,o){t.pushUndoStop(),t.executeCommands(this.id,Ji.outdent(i.cursorConfig,i.model,i.getCursorStates().map(r=>r.modelState.selection))),t.pushUndoStop()}}),n.Tab=ve(new class extends e{constructor(){super({id:"tab",precondition:I.writable,kbOpts:{weight:Qt,kbExpr:ee.and(I.editorTextFocus,I.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(t,i,o){t.pushUndoStop(),t.executeCommands(this.id,Ji.tab(i.cursorConfig,i.model,i.getCursorStates().map(r=>r.modelState.selection))),t.pushUndoStop()}}),n.DeleteLeft=ve(new class extends e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(t,i,o){const[r,s]=bm.deleteLeft(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection),i.getCursorAutoClosedCharacters());r&&t.pushUndoStop(),t.executeCommands(this.id,s),i.setPrevEditOperationType(2)}}),n.DeleteRight=ve(new class extends e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:Qt,kbExpr:I.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(t,i,o){const[r,s]=bm.deleteRight(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection));r&&t.pushUndoStop(),t.executeCommands(this.id,s),i.setPrevEditOperationType(3)}}),n.Undo=new class extends w4{constructor(){super(mJ)}runDOMCommand(t){t.ownerDocument.execCommand("undo")}runEditorCommand(t,i,o){if(!(!i.hasModel()||i.getOption(91)===!0))return i.getModel().undo()}},n.Redo=new class extends w4{constructor(){super(vJ)}runDOMCommand(t){t.ownerDocument.execCommand("redo")}runEditorCommand(t,i,o){if(!(!i.hasModel()||i.getOption(91)===!0))return i.getModel().redo()}}})(jb||(jb={}));class YU extends eI{constructor(e,t,i){super({id:e,precondition:void 0,metadata:i}),this._handlerId=t}runCommand(e,t){const i=e.get(qt).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function Ym(n,e){ZU(new YU("default:"+n,n)),ZU(new YU(n,n,e))}Ym("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});Ym("replacePreviousChar");Ym("compositionType");Ym("compositionStart");Ym("compositionEnd");Ym("paste");Ym("cut");class Jwe{constructor(e,t,i,o){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=o}paste(e,t,i,o){this.commandDelegate.paste(e,t,i,o)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,o){this.commandDelegate.compositionType(e,t,i,o)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){lo.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new W(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(78)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(78)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=Br&&t.get(107),o=t.get(22);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position,e.revealType):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position,e.revealType):this._lastCursorLineSelect(e.position,e.revealType):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount===2?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position,e.revealType):e.inSelectionMode?this._wordSelectDrag(e.position,e.revealType):this._wordSelect(e.position,e.revealType)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position,e.revealType):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):o?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position,e.revealType):this.moveTo(e.position,e.revealType)}_usualArgs(e,t){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,revealType:t}}moveTo(e,t){lo.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_moveToSelect(e,t){lo.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_columnSelect(e,t,i){e=this._validateViewColumn(e),lo.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),lo.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e,t){lo.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelect(e,t){lo.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelectDrag(e,t){lo.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorWordSelect(e,t){lo.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelect(e,t){lo.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelectDrag(e,t){lo.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelect(e,t){lo.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelectDrag(e,t){lo.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_selectAll(){lo.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class kee{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Hi("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),o=this.getEndLineNumber();if(t<i){const l=t-e+1;return this._rendLineNumberStart-=l,null}if(e>o)return null;let r=0,s=0;for(let l=i;l<=o;l++){const c=l-this._rendLineNumberStart;e<=l&&l<=t&&(s===0?(r=c,s=1):s++)}if(e<i){let l=0;t<i?l=t-e+1:l=i-e,this._rendLineNumberStart-=l}return this._lines.splice(r,s)}onLinesChanged(e,t){const i=e+t-1;if(this.getCount()===0)return!1;const o=this.getStartLineNumber(),r=this.getEndLineNumber();let s=!1;for(let a=e;a<=i;a++)a>=o&&a<=r&&(this._lines[a-this._rendLineNumberStart].onContentChanged(),s=!0);return s}onLinesInserted(e,t){if(this.getCount()===0)return null;const i=t-e+1,o=this.getStartLineNumber(),r=this.getEndLineNumber();if(e<=o)return this._rendLineNumberStart+=i,null;if(e>r)return null;if(i+e>r)return this._lines.splice(e-this._rendLineNumberStart,r-e+1);const s=[];for(let u=0;u<i;u++)s[u]=this._createLine();const a=e-this._rendLineNumberStart,l=this._lines.slice(0,a),c=this._lines.slice(a,this._lines.length-i),d=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=l.concat(s).concat(c),d}onTokensChanged(e){if(this.getCount()===0)return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let o=!1;for(let r=0,s=e.length;r<s;r++){const a=e[r];if(a.toLineNumber<t||a.fromLineNumber>i)continue;const l=Math.max(t,a.fromLineNumber),c=Math.min(i,a.toLineNumber);for(let d=l;d<=c;d++){const u=d-this._rendLineNumberStart;this._lines[u].onTokensChanged(),o=!0}}return o}}class Lee{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new kee(()=>this._host.createVisibleLine())}_createDomNode(){const e=ii(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(144)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,o=t.length;i<o;i++){const r=t[i].getDomNode();r&&this.domNode.domNode.removeChild(r)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,o=t.length;i<o;i++){const r=t[i].getDomNode();r&&this.domNode.domNode.removeChild(r)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new yu(this.domNode.domNode,this._host,e),o={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},r=i.render(o,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(r.rendLineNumberStart,r.lines)}}class yu{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,o){const r={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(r.rendLineNumberStart+r.linesLength-1<t||i<r.rendLineNumberStart){r.rendLineNumberStart=t,r.linesLength=i-t+1,r.lines=[];for(let s=t;s<=i;s++)r.lines[s-t]=this.host.createVisibleLine();return this._finishRendering(r,!0,o),r}if(this._renderUntouchedLines(r,Math.max(t-r.rendLineNumberStart,0),Math.min(i-r.rendLineNumberStart,r.linesLength-1),o,t),r.rendLineNumberStart>t){const s=t,a=Math.min(i,r.rendLineNumberStart-1);s<=a&&(this._insertLinesBefore(r,s,a,o,t),r.linesLength+=a-s+1)}else if(r.rendLineNumberStart<t){const s=Math.min(r.linesLength,t-r.rendLineNumberStart);s>0&&(this._removeLinesBefore(r,s),r.linesLength-=s)}if(r.rendLineNumberStart=t,r.rendLineNumberStart+r.linesLength-1<i){const s=r.rendLineNumberStart+r.linesLength,a=i;s<=a&&(this._insertLinesAfter(r,s,a,o,t),r.linesLength+=a-s+1)}else if(r.rendLineNumberStart+r.linesLength-1>i){const s=Math.max(0,i-r.rendLineNumberStart+1),l=r.linesLength-1-s+1;l>0&&(this._removeLinesAfter(r,l),r.linesLength-=l)}return this._finishRendering(r,!1,o),r}_renderUntouchedLines(e,t,i,o,r){const s=e.rendLineNumberStart,a=e.lines;for(let l=t;l<=i;l++){const c=s+l;a[l].layoutLine(c,o[c-r])}}_insertLinesBefore(e,t,i,o,r){const s=[];let a=0;for(let l=t;l<=i;l++)s[a++]=this.host.createVisibleLine();e.lines=s.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const o=e.lines[i].getDomNode();o&&this.domNode.removeChild(o)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,o,r){const s=[];let a=0;for(let l=t;l<=i;l++)s[a++]=this.host.createVisibleLine();e.lines=e.lines.concat(s)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let o=0;o<t;o++){const r=e.lines[i+o].getDomNode();r&&this.domNode.removeChild(r)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,o){yu._ttPolicy&&(i=yu._ttPolicy.createHTML(i));const r=this.domNode.lastChild;t||!r?this.domNode.innerHTML=i:r.insertAdjacentHTML("afterend",i);let s=this.domNode.lastChild;for(let a=e.linesLength-1;a>=0;a--){const l=e.lines[a];o[a]&&(l.setDomNode(s),s=s.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const o=document.createElement("div");yu._ttPolicy&&(t=yu._ttPolicy.createHTML(t)),o.innerHTML=t;for(let r=0;r<e.linesLength;r++){const s=e.lines[r];if(i[r]){const a=o.firstChild,l=s.getDomNode();l.parentNode.replaceChild(a,l),s.setDomNode(a)}}}_finishRendering(e,t,i){const o=yu._sb,r=e.linesLength,s=e.lines,a=e.rendLineNumberStart,l=[];{o.reset();let c=!1;for(let d=0;d<r;d++){const u=s[d];l[d]=!1,!(u.getDomNode()||!u.renderLine(d+a,i[d],this.viewportData,o))&&(l[d]=!0,c=!0)}c&&this._finishRenderingNewLines(e,t,o.build(),l)}{o.reset();let c=!1;const d=[];for(let u=0;u<r;u++){const h=s[u];d[u]=!1,!(l[u]||!h.renderLine(u+a,i[u],this.viewportData,o))&&(d[u]=!0,c=!0)}c&&this._finishRenderingInvalidLines(e,o.build(),d)}}}yu._ttPolicy=yh("editorViewLayer",{createHTML:n=>n});yu._sb=new _0(1e5);class Dee extends As{constructor(e){super(e),this._visibleLines=new Lee(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration.options.get(50);zo(this.domNode,i),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new eSe(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let s=t;s<=i;s++)this._visibleLines.getVisibleLine(s).onConfigurationChanged(e);const r=this._context.configuration.options.get(50);return zo(this.domNode,r),!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,o=t.length;i<o;i++){const r=t[i];r.prepareRender(e),r.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class eSe{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(67),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=ii(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(67)}renderLine(e,t,i,o){let r="";for(let s=0,a=this._dynamicOverlays.length;s<a;s++){const l=this._dynamicOverlays[s];r+=l.render(i.startLineNumber,e)}return this._renderedContent===r?!1:(this._renderedContent=r,o.appendString('<div style="position:absolute;top:'),o.appendString(String(t)),o.appendString("px;width:100%;height:"),o.appendString(String(this._lineHeight)),o.appendString('px;">'),o.appendString(r),o.appendString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class tSe extends Dee{constructor(e){super(e);const i=this._context.configuration.options.get(144);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const i=this._context.configuration.options.get(144);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class iSe extends Dee{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(144);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),zo(this.domNode,t.get(50))}onConfigurationChanged(e){const t=this._context.configuration.options;zo(this.domNode,t.get(50));const i=t.get(144);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class vI{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var t;(t=this.onKeyDown)===null||t===void 0||t.call(this,e)}emitKeyUp(e){var t;(t=this.onKeyUp)===null||t===void 0||t.call(this,e)}emitContextMenu(e){var t;(t=this.onContextMenu)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var t;(t=this.onMouseMove)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var t;(t=this.onMouseLeave)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var t;(t=this.onMouseDown)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var t;(t=this.onMouseUp)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var t;(t=this.onMouseDrag)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var t;(t=this.onMouseDrop)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;(e=this.onMouseDropCanceled)===null||e===void 0||e.call(this)}emitMouseWheel(e){var t;(t=this.onMouseWheel)===null||t===void 0||t.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return vI.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){const i={...e};return i.position&&(i.position=t.convertViewPositionToModelPosition(i.position)),i.range&&(i.range=t.convertViewRangeToModelRange(i.range)),(i.type===5||i.type===8)&&(i.detail=this.convertViewToModelViewZoneData(i.detail,t)),i}static convertViewToModelViewZoneData(e,t){return{viewZoneId:e.viewZoneId,positionBefore:e.positionBefore?t.convertViewPositionToModelPosition(e.positionBefore):e.positionBefore,positionAfter:e.positionAfter?t.convertViewPositionToModelPosition(e.positionAfter):e.positionAfter,position:t.convertViewPositionToModelPosition(e.position),afterLineNumber:t.convertViewPositionToModelPosition(new W(e.afterLineNumber,1)).lineNumber}}}class nSe extends As{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=ii(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1;const i=this._context.configuration.options.get(144),o=i.contentWidth-i.verticalScrollbarWidth;this.contentWidth!==o&&(this.contentWidth=o,e=!0);const r=i.contentLeft;return this.contentLeft!==r&&(this.contentLeft=r,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){var t;let i=0;const o=e.getDecorationsInViewport();for(const r of o){if(!r.options.blockClassName)continue;let s=this.blocks[i];s||(s=this.blocks[i]=ii(document.createElement("div")),this.domNode.appendChild(s));let a,l;r.options.blockIsAfterEnd?(a=e.getVerticalOffsetAfterLineNumber(r.range.endLineNumber,!1),l=e.getVerticalOffsetAfterLineNumber(r.range.endLineNumber,!0)):(a=e.getVerticalOffsetForLineNumber(r.range.startLineNumber,!0),l=r.range.isEmpty()&&!r.options.blockDoesNotCollapse?e.getVerticalOffsetForLineNumber(r.range.startLineNumber,!1):e.getVerticalOffsetAfterLineNumber(r.range.endLineNumber,!0));const[c,d,u,h]=(t=r.options.blockPadding)!==null&&t!==void 0?t:[0,0,0,0];s.setClassName("blockDecorations-block "+r.options.blockClassName),s.setLeft(this.contentLeft-h),s.setWidth(this.contentWidth+h+d),s.setTop(a-e.scrollTop-c),s.setHeight(l-a+c+u),i++}for(let r=i;r<this.blocks.length;r++)this.blocks[r].domNode.remove();this.blocks.length=i}}class oSe extends As{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=ii(document.createElement("div")),wc.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=ii(document.createElement("div")),wc.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(e){return this._updateAnchorsViewPositions(),!0}onLinesInserted(e){return this._updateAnchorsViewPositions(),!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}_updateAnchorsViewPositions(){const e=Object.keys(this._widgets);for(const t of e)this._widgets[t].updateAnchorViewPosition()}addWidget(e){const t=new rSe(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i,o,r){this._widgets[e.getId()].setPosition(t,i,o,r),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const i=this._widgets[t];delete this._widgets[t];const o=i.domNode.domNode;o.parentNode.removeChild(o),o.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class rSe{constructor(e,t,i){this._primaryAnchor=new d1(null,null),this._secondaryAnchor=new d1(null,null),this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=ii(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const o=this._context.configuration.options,r=o.get(144);this._fixedOverflowWidgets=o.get(42),this._contentWidth=r.contentWidth,this._contentLeft=r.contentLeft,this._lineHeight=o.get(67),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(67),e.hasChanged(144)){const i=t.get(144);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(e,t,i){this._affinity=e,this._primaryAnchor=o(t,this._context.viewModel,this._affinity),this._secondaryAnchor=o(i,this._context.viewModel,this._affinity);function o(r,s,a){if(!r)return new d1(null,null);const l=s.model.validatePosition(r);if(s.coordinatesConverter.modelPositionIsVisible(l)){const c=s.coordinatesConverter.convertModelPositionToViewPosition(l,a??void 0);return new d1(r,c)}return new d1(r,null)}}_getMaxWidth(){const e=this.domNode.domNode.ownerDocument,t=e.defaultView;return this.allowEditorOverflow?(t==null?void 0:t.innerWidth)||e.documentElement.offsetWidth||e.body.offsetWidth:this._contentWidth}setPosition(e,t,i,o){this._setPosition(o,e,t),this._preference=i,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,t,i,o){const r=e.top,s=r,a=e.top+e.height,l=o.viewportHeight-a,c=r-i,d=s>=i,u=a,h=l>=i;let g=e.left;return g+t>o.scrollLeft+o.viewportWidth&&(g=o.scrollLeft+o.viewportWidth-t),g<o.scrollLeft&&(g=o.scrollLeft),{fitsAbove:d,aboveTop:c,fitsBelow:h,belowTop:u,left:g}}_layoutHorizontalSegmentInPage(e,t,i,o){var r;const l=Math.max(15,t.left-o),c=Math.min(t.left+t.width+o,e.width-15),u=this._viewDomNode.domNode.ownerDocument.defaultView;let h=t.left+i-((r=u==null?void 0:u.scrollX)!==null&&r!==void 0?r:0);if(h+o>c){const g=h-(c-o);h-=g,i-=g}if(h<l){const g=h-l;h-=g,i-=g}return[i,h]}_layoutBoxInPage(e,t,i,o){var r,s;const a=e.top-i,l=e.top+e.height,c=In(this._viewDomNode.domNode),d=this._viewDomNode.domNode.ownerDocument,u=d.defaultView,h=c.top+a-((r=u==null?void 0:u.scrollY)!==null&&r!==void 0?r:0),g=c.top+l-((s=u==null?void 0:u.scrollY)!==null&&s!==void 0?s:0),f=gh(d.body),[p,b]=this._layoutHorizontalSegmentInPage(f,c,e.left-o.scrollLeft+this._contentLeft,t),v=22,_=22,C=h>=v,y=g+i<=f.height-_;return this._fixedOverflowWidgets?{fitsAbove:C,aboveTop:Math.max(h,v),fitsBelow:y,belowTop:g,left:b}:{fitsAbove:C,aboveTop:a,fitsBelow:y,belowTop:l,left:p}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new u1(e.top,e.left+this._contentLeft)}_getAnchorsCoordinates(e){var t,i;const o=a(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),r=((t=this._secondaryAnchor.viewPosition)===null||t===void 0?void 0:t.lineNumber)===((i=this._primaryAnchor.viewPosition)===null||i===void 0?void 0:i.lineNumber)?this._secondaryAnchor.viewPosition:null,s=a(r,this._affinity,this._lineHeight);return{primary:o,secondary:s};function a(l,c,d){if(!l)return null;const u=e.visibleRangeForPosition(l);if(!u)return null;const h=l.column===1&&c===3?0:u.left,g=e.getVerticalOffsetForLineNumber(l.lineNumber)-e.scrollTop;return new XU(g,h,d)}}_reduceAnchorCoordinates(e,t,i){if(!t)return e;const o=this._context.configuration.options.get(50);let r=t.left;return r<e.left?r=Math.max(r,e.left-i+o.typicalFullwidthCharacterWidth):r=Math.min(r,e.left+i-o.typicalFullwidthCharacterWidth),new XU(e.top,r,e.height)}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;const{primary:t,secondary:i}=this._getAnchorsCoordinates(e);if(!t)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let s=null;if(typeof this._actual.beforeRender=="function"&&(s=SM(this._actual.beforeRender,this._actual)),s)this._cachedDomNodeOffsetWidth=s.width,this._cachedDomNodeOffsetHeight=s.height;else{const l=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(l.width),this._cachedDomNodeOffsetHeight=Math.round(l.height)}}const o=this._reduceAnchorCoordinates(t,i,this._cachedDomNodeOffsetWidth);let r;this.allowEditorOverflow?r=this._layoutBoxInPage(o,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):r=this._layoutBoxInViewport(o,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let s=1;s<=2;s++)for(const a of this._preference)if(a===1){if(!r)return null;if(s===2||r.fitsAbove)return{coordinate:new u1(r.aboveTop,r.left),position:1}}else if(a===2){if(!r)return null;if(s===2||r.fitsBelow)return{coordinate:new u1(r.belowTop,r.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new u1(o.top,o.left)),position:0}:{coordinate:new u1(o.top,o.left),position:0};return null}onBeforeRender(e){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<e.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&SM(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&SM(this._actual.afterRender,this._actual,this._renderData.position)}}class d1{constructor(e,t){this.modelPosition=e,this.viewPosition=t}}class u1{constructor(e,t){this.top=e,this.left=t,this._coordinateBrand=void 0}}class XU{constructor(e,t,i){this.top=e,this.left=t,this.height=i,this._anchorCoordinateBrand=void 0}}function SM(n,e,...t){try{return n.call(e,...t)}catch{return null}}class Eee extends Zm{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(144);this._lineHeight=t.get(67),this._renderLineHighlight=t.get(96),this._renderLineHighlightOnlyWhenFocus=t.get(97),this._wordWrap=i.isViewportWrapping,this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new Pe(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=new Set;for(const r of this._selections)t.add(r.positionLineNumber);const i=Array.from(t);i.sort((r,s)=>r-s),en(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,e=!0);const o=this._selections.every(r=>r.isEmpty());return this._selectionIsEmpty!==o&&(this._selectionIsEmpty=o,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(144);return this._lineHeight=t.get(67),this._renderLineHighlight=t.get(96),this._renderLineHighlightOnlyWhenFocus=t.get(97),this._wordWrap=i.isViewportWrapping,this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=[];for(let s=t;s<=i;s++){const a=s-t;o[a]=""}if(this._wordWrap){const s=this._renderOne(e,!1);for(const a of this._cursorLineNumbers){const l=this._context.viewModel.coordinatesConverter,c=l.convertViewPositionToModelPosition(new W(a,1)).lineNumber,d=l.convertModelPositionToViewPosition(new W(c,1)).lineNumber,u=l.convertModelPositionToViewPosition(new W(c,this._context.viewModel.model.getLineMaxColumn(c))).lineNumber,h=Math.max(d,t),g=Math.min(u,i);for(let f=h;f<=g;f++){const p=f-t;o[p]=s}}}const r=this._renderOne(e,!0);for(const s of this._cursorLineNumbers){if(s<t||s>i)continue;const a=s-t;o[a]=r}this._renderData=o}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class sSe extends Eee{_renderOne(e,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+(t?" current-line-exact":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class aSe extends Eee{_renderOne(e,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&t?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}ja((n,e)=>{const t=n.getColor(gee);if(t&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||n.defines(jU)){const i=n.getColor(jU);i&&(e.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${i}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${i}; }`),fc(n.type)&&(e.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")))}});class lSe extends Zm{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(67),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(67),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],o=0;for(let l=0,c=t.length;l<c;l++){const d=t[l];d.options.className&&(i[o++]=d)}i=i.sort((l,c)=>{if(l.options.zIndex<c.options.zIndex)return-1;if(l.options.zIndex>c.options.zIndex)return 1;const d=l.options.className,u=c.options.className;return d<u?-1:d>u?1:D.compareRangesUsingStarts(l.range,c.range)});const r=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,a=[];for(let l=r;l<=s;l++){const c=l-r;a[c]=""}this._renderWholeLineDecorations(e,i,a),this._renderNormalDecorations(e,i,a),this._renderResult=a}_renderWholeLineDecorations(e,t,i){const o=String(this._lineHeight),r=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber;for(let a=0,l=t.length;a<l;a++){const c=t[a];if(!c.options.isWholeLine)continue;const d='<div class="cdr '+c.options.className+'" style="left:0;width:100%;height:'+o+'px;"></div>',u=Math.max(c.range.startLineNumber,r),h=Math.min(c.range.endLineNumber,s);for(let g=u;g<=h;g++){const f=g-r;i[f]+=d}}}_renderNormalDecorations(e,t,i){var o;const r=String(this._lineHeight),s=e.visibleRange.startLineNumber;let a=null,l=!1,c=null,d=!1;for(let u=0,h=t.length;u<h;u++){const g=t[u];if(g.options.isWholeLine)continue;const f=g.options.className,p=!!g.options.showIfCollapsed;let b=g.range;if(p&&b.endColumn===1&&b.endLineNumber!==b.startLineNumber&&(b=new D(b.startLineNumber,b.startColumn,b.endLineNumber-1,this._context.viewModel.getLineMaxColumn(b.endLineNumber-1))),a===f&&l===p&&D.areIntersectingOrTouching(c,b)){c=D.plusRange(c,b);continue}a!==null&&this._renderNormalDecoration(e,c,a,d,l,r,s,i),a=f,l=p,c=b,d=(o=g.options.shouldFillLineOnLineBreak)!==null&&o!==void 0?o:!1}a!==null&&this._renderNormalDecoration(e,c,a,d,l,r,s,i)}_renderNormalDecoration(e,t,i,o,r,s,a,l){const c=e.linesVisibleRangesForRange(t,i==="findMatch");if(c)for(let d=0,u=c.length;d<u;d++){const h=c[d];if(h.outsideRenderedLine)continue;const g=h.lineNumber-a;if(r&&h.ranges.length===1){const f=h.ranges[0];if(f.width<this._typicalHalfwidthCharacterWidth){const p=Math.round(f.left+f.width/2),b=Math.max(0,Math.round(p-this._typicalHalfwidthCharacterWidth/2));h.ranges[0]=new hI(b,this._typicalHalfwidthCharacterWidth)}}for(let f=0,p=h.ranges.length;f<p;f++){const b=o&&h.continuesOnNextLine&&p===1,v=h.ranges[f],_='<div class="cdr '+i+'" style="left:'+String(v.left)+(b?"px;width:100%;height:":"px;width:"+String(v.width)+"px;height:")+s+'px;"></div>';l[g]+=_}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class cSe extends As{constructor(e,t,i,o){super(e);const r=this._context.configuration.options,s=r.get(103),a=r.get(75),l=r.get(40),c=r.get(106),d={listenOnDomNode:i.domNode,className:"editor-scrollable "+C4(e.theme.type),useShadows:!1,lazyRender:!0,vertical:s.vertical,horizontal:s.horizontal,verticalHasArrows:s.verticalHasArrows,horizontalHasArrows:s.horizontalHasArrows,verticalScrollbarSize:s.verticalScrollbarSize,verticalSliderSize:s.verticalSliderSize,horizontalScrollbarSize:s.horizontalScrollbarSize,horizontalSliderSize:s.horizontalSliderSize,handleMouseWheel:s.handleMouseWheel,alwaysConsumeMouseWheel:s.alwaysConsumeMouseWheel,arrowSize:s.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:c,scrollByPage:s.scrollByPage};this.scrollbar=this._register(new gI(t.domNode,d,this._context.viewLayout.getScrollable())),wc.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=ii(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const u=(h,g,f)=>{const p={};if(g){const b=h.scrollTop;b&&(p.scrollTop=this._context.viewLayout.getCurrentScrollTop()+b,h.scrollTop=0)}if(f){const b=h.scrollLeft;b&&(p.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+b,h.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(p,1)};this._register(j(i.domNode,"scroll",h=>u(i.domNode,!0,!0))),this._register(j(t.domNode,"scroll",h=>u(t.domNode,!0,!1))),this._register(j(o.domNode,"scroll",h=>u(o.domNode,!0,!1))),this._register(j(this.scrollbarDomNode.domNode,"scroll",h=>u(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(144);this.scrollbarDomNode.setLeft(t.contentLeft),e.get(73).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this.scrollbar.delegateScrollFromMouseWheelEvent(e)}onConfigurationChanged(e){if(e.hasChanged(103)||e.hasChanged(75)||e.hasChanged(40)){const t=this._context.configuration.options,i=t.get(103),o=t.get(75),r=t.get(40),s=t.get(106),a={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:o,fastScrollSensitivity:r,scrollPredominantAxis:s};this.scrollbar.updateOptions(a)}return e.hasChanged(144)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+C4(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}class S4{constructor(e,t,i,o,r){this.startLineNumber=e,this.endLineNumber=t,this.className=i,this.tooltip=o,this._decorationToRenderBrand=void 0,this.zIndex=r??0}}class dSe{constructor(e,t,i){this.className=e,this.zIndex=t,this.tooltip=i}}class uSe{constructor(){this.decorations=[]}add(e){this.decorations.push(e)}getDecorations(){return this.decorations}}class Tee extends Zm{_render(e,t,i){const o=[];for(let a=e;a<=t;a++){const l=a-e;o[l]=new uSe}if(i.length===0)return o;i.sort((a,l)=>a.className===l.className?a.startLineNumber===l.startLineNumber?a.endLineNumber-l.endLineNumber:a.startLineNumber-l.startLineNumber:a.className<l.className?-1:1);let r=null,s=0;for(let a=0,l=i.length;a<l;a++){const c=i[a],d=c.className,u=c.zIndex;let h=Math.max(c.startLineNumber,e)-e;const g=Math.min(c.endLineNumber,t)-e;r===d?(h=Math.max(s+1,h),s=Math.max(s,g)):(r=d,s=g);for(let f=h;f<=s;f++)o[f].add(new dSe(d,u,c.tooltip))}return o}}class hSe extends As{constructor(e){super(e),this._widgets={},this._context=e;const t=this._context.configuration.options,i=t.get(144);this.domNode=ii(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=t.get(67),this._glyphMargin=t.get(57),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._glyphMarginDecorationLaneCount=i.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(144);return this._lineHeight=t.get(67),this._glyphMargin=t.get(57),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._glyphMarginDecorationLaneCount=i.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}addWidget(e){const t=ii(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:e.getPosition(),domNode:t,renderInfo:null},t.setPosition("absolute"),t.setDisplay("none"),t.setAttribute("widgetId",e.getId()),this.domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference.lane===t.lane&&i.preference.zIndex===t.zIndex&&D.equalsRange(i.preference.range,t.range)?!1:(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){var t;const i=e.getId();if(this._widgets[i]){const r=this._widgets[i].domNode.domNode;delete this._widgets[i],(t=r.parentNode)===null||t===void 0||t.removeChild(r),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(e,t){var i,o,r;const s=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,l=e.getDecorationsInViewport();for(const c of l){const d=c.options.glyphMarginClassName;if(!d)continue;const u=Math.max(c.range.startLineNumber,s),h=Math.min(c.range.endLineNumber,a),g=(o=(i=c.options.glyphMargin)===null||i===void 0?void 0:i.position)!==null&&o!==void 0?o:Ad.Center,f=(r=c.options.zIndex)!==null&&r!==void 0?r:0;for(let p=u;p<=h;p++){const b=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new W(p,0)),v=this._context.viewModel.glyphLanes.getLanesAtLine(b.lineNumber).indexOf(g);t.push(new gSe(p,v,f,d))}}}_collectWidgetBasedGlyphRenderRequest(e,t){const i=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber;for(const r of Object.values(this._widgets)){const s=r.preference.range,{startLineNumber:a,endLineNumber:l}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(D.lift(s));if(!a||!l||l<i||a>o)continue;const c=Math.max(a,i),d=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new W(c,0)),u=this._context.viewModel.glyphLanes.getLanesAtLine(d.lineNumber).indexOf(r.preference.lane);t.push(new fSe(c,u,r.preference.zIndex,r))}}_collectSortedGlyphRenderRequests(e){const t=[];return this._collectDecorationBasedGlyphRenderRequest(e,t),this._collectWidgetBasedGlyphRenderRequest(e,t),t.sort((i,o)=>i.lineNumber===o.lineNumber?i.laneIndex===o.laneIndex?i.zIndex===o.zIndex?o.type===i.type?i.type===0&&o.type===0?i.className<o.className?-1:1:0:o.type-i.type:o.zIndex-i.zIndex:i.laneIndex-o.laneIndex:i.lineNumber-o.lineNumber),t}prepareRender(e){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const o of Object.values(this._widgets))o.renderInfo=null;const t=new dh(this._collectSortedGlyphRenderRequests(e)),i=[];for(;t.length>0;){const o=t.peek();if(!o)break;const r=t.takeWhile(a=>a.lineNumber===o.lineNumber&&a.laneIndex===o.laneIndex);if(!r||r.length===0)break;const s=r[0];if(s.type===0){const a=[];for(const l of r){if(l.zIndex!==s.zIndex||l.type!==s.type)break;(a.length===0||a[a.length-1]!==l.className)&&a.push(l.className)}i.push(s.accept(a.join(" ")))}else s.widget.renderInfo={lineNumber:s.lineNumber,laneIndex:s.laneIndex}}this._decorationGlyphsToRender=i}render(e){if(!this._glyphMargin){for(const i of Object.values(this._widgets))i.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const i=this._managedDomNodes.pop();i==null||i.domNode.remove()}return}const t=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const i of Object.values(this._widgets))if(!i.renderInfo)i.domNode.setDisplay("none");else{const o=e.viewportData.relativeVerticalOffset[i.renderInfo.lineNumber-e.viewportData.startLineNumber],r=this._glyphMarginLeft+i.renderInfo.laneIndex*this._lineHeight;i.domNode.setDisplay("block"),i.domNode.setTop(o),i.domNode.setLeft(r),i.domNode.setWidth(t),i.domNode.setHeight(this._lineHeight)}for(let i=0;i<this._decorationGlyphsToRender.length;i++){const o=this._decorationGlyphsToRender[i],r=e.viewportData.relativeVerticalOffset[o.lineNumber-e.viewportData.startLineNumber],s=this._glyphMarginLeft+o.laneIndex*this._lineHeight;let a;i<this._managedDomNodes.length?a=this._managedDomNodes[i]:(a=ii(document.createElement("div")),this._managedDomNodes.push(a),this.domNode.appendChild(a)),a.setClassName("cgmr codicon "+o.combinedClassName),a.setPosition("absolute"),a.setTop(r),a.setLeft(s),a.setWidth(t),a.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const i=this._managedDomNodes.pop();i==null||i.domNode.remove()}}}class gSe{constructor(e,t,i,o){this.lineNumber=e,this.laneIndex=t,this.zIndex=i,this.className=o,this.type=0}accept(e){return new pSe(this.lineNumber,this.laneIndex,e)}}class fSe{constructor(e,t,i,o){this.lineNumber=e,this.laneIndex=t,this.zIndex=i,this.widget=o,this.type=1}}class pSe{constructor(e,t,i){this.lineNumber=e,this.laneIndex=t,this.combinedClassName=i}}class Iee extends z{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}function bI(n,e){let t=0,i=0;const o=n.length;for(;i<o;){const r=n.charCodeAt(i);if(r===32)t++;else if(r===9)t=t-t%e+e;else break;i++}return i===o?-1:t}var Gp;(function(n){n[n.Disabled=0]="Disabled",n[n.EnabledForActive=1]="EnabledForActive",n[n.Enabled=2]="Enabled"})(Gp||(Gp={}));class Pp{constructor(e,t,i,o,r,s){if(this.visibleColumn=e,this.column=t,this.className=i,this.horizontalLine=o,this.forWrappedLinesAfterColumn=r,this.forWrappedLinesBeforeOrAtColumn=s,e!==-1==(t!==-1))throw new Error}}class EC{constructor(e,t){this.top=e,this.endColumn=t}}class mSe extends Iee{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return bI(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();const o=this.textModel.getLineCount();if(e<1||e>o)throw new Hi("Illegal value for lineNumber");const r=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,s=!!(r&&r.offSide);let a=-2,l=-1,c=-2,d=-1;const u=x=>{if(a!==-1&&(a===-2||a>x-1)){a=-1,l=-1;for(let L=x-2;L>=0;L--){const E=this._computeIndentLevel(L);if(E>=0){a=L,l=E;break}}}if(c===-2){c=-1,d=-1;for(let L=x;L<o;L++){const E=this._computeIndentLevel(L);if(E>=0){c=L,d=E;break}}}};let h=-2,g=-1,f=-2,p=-1;const b=x=>{if(h===-2){h=-1,g=-1;for(let L=x-2;L>=0;L--){const E=this._computeIndentLevel(L);if(E>=0){h=L,g=E;break}}}if(f!==-1&&(f===-2||f<x-1)){f=-1,p=-1;for(let L=x;L<o;L++){const E=this._computeIndentLevel(L);if(E>=0){f=L,p=E;break}}}};let v=0,_=!0,C=0,y=!0,w=0,S=0;for(let x=0;_||y;x++){const L=e-x,E=e+x;x>1&&(L<1||L<t)&&(_=!1),x>1&&(E>o||E>i)&&(y=!1),x>5e4&&(_=!1,y=!1);let O=-1;if(_&&L>=1){const A=this._computeIndentLevel(L-1);A>=0?(c=L-1,d=A,O=Math.ceil(A/this.textModel.getOptions().indentSize)):(u(L),O=this._getIndentLevelForWhitespaceLine(s,l,d))}let P=-1;if(y&&E<=o){const A=this._computeIndentLevel(E-1);A>=0?(h=E-1,g=A,P=Math.ceil(A/this.textModel.getOptions().indentSize)):(b(E),P=this._getIndentLevelForWhitespaceLine(s,g,p))}if(x===0){S=O;continue}if(x===1){if(E<=o&&P>=0&&S+1===P){_=!1,v=E,C=E,w=P;continue}if(L>=1&&O>=0&&O-1===S){y=!1,v=L,C=L,w=O;continue}if(v=e,C=e,w=S,w===0)return{startLineNumber:v,endLineNumber:C,indent:w}}_&&(O>=w?v=L:_=!1),y&&(P>=w?C=E:y=!1)}return{startLineNumber:v,endLineNumber:C,indent:w}}getLinesBracketGuides(e,t,i,o){var r;const s=[];for(let h=e;h<=t;h++)s.push([]);const a=!0,l=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let c;if(i&&l.length>0){const h=(e<=i.lineNumber&&i.lineNumber<=t?l:this.textModel.bracketPairs.getBracketPairsInRange(D.fromPositions(i)).toArray()).filter(g=>D.strictContainsPosition(g.range,i));c=(r=Fy(h,g=>a))===null||r===void 0?void 0:r.range}const d=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,u=new Nee;for(const h of l){if(!h.closingBracketRange)continue;const g=c&&h.range.equalsRange(c);if(!g&&!o.includeInactive)continue;const f=u.getInlineClassName(h.nestingLevel,h.nestingLevelOfEqualBracketType,d)+(o.highlightActive&&g?" "+u.activeClassName:""),p=h.openingBracketRange.getStartPosition(),b=h.closingBracketRange.getStartPosition(),v=o.horizontalGuides===Gp.Enabled||o.horizontalGuides===Gp.EnabledForActive&&g;if(h.range.startLineNumber===h.range.endLineNumber){v&&s[h.range.startLineNumber-e].push(new Pp(-1,h.openingBracketRange.getEndPosition().column,f,new EC(!1,b.column),-1,-1));continue}const _=this.getVisibleColumnFromPosition(b),C=this.getVisibleColumnFromPosition(h.openingBracketRange.getStartPosition()),y=Math.min(C,_,h.minVisibleColumnIndentation+1);let w=!1;hr(this.textModel.getLineContent(h.closingBracketRange.startLineNumber))<h.closingBracketRange.startColumn-1&&(w=!0);const L=Math.max(p.lineNumber,e),E=Math.min(b.lineNumber,t),O=w?1:0;for(let P=L;P<E+O;P++)s[P-e].push(new Pp(y,-1,f,null,P===p.lineNumber?p.column:-1,P===b.lineNumber?b.column:-1));v&&(p.lineNumber>=e&&C>y&&s[p.lineNumber-e].push(new Pp(y,-1,f,new EC(!1,p.column),-1,-1)),b.lineNumber<=t&&_>y&&s[b.lineNumber-e].push(new Pp(y,-1,f,new EC(!w,b.column),-1,-1)))}for(const h of s)h.sort((g,f)=>g.visibleColumn-f.visibleColumn);return s}getVisibleColumnFromPosition(e){return Zn.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const o=this.textModel.getOptions(),r=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,s=!!(r&&r.offSide),a=new Array(t-e+1);let l=-2,c=-1,d=-2,u=-1;for(let h=e;h<=t;h++){const g=h-e,f=this._computeIndentLevel(h-1);if(f>=0){l=h-1,c=f,a[g]=Math.ceil(f/o.indentSize);continue}if(l===-2){l=-1,c=-1;for(let p=h-2;p>=0;p--){const b=this._computeIndentLevel(p);if(b>=0){l=p,c=b;break}}}if(d!==-1&&(d===-2||d<h-1)){d=-1,u=-1;for(let p=h;p<i;p++){const b=this._computeIndentLevel(p);if(b>=0){d=p,u=b;break}}}a[g]=this._getIndentLevelForWhitespaceLine(s,c,u)}return a}_getIndentLevelForWhitespaceLine(e,t,i){const o=this.textModel.getOptions();return t===-1||i===-1?0:t<i?1+Math.floor(t/o.indentSize):t===i||e?Math.ceil(i/o.indentSize):1+Math.floor(i/o.indentSize)}}class Nee{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,i){return this.getInlineClassNameOfLevel(i?t:e)}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}}class vSe extends Zm{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,i=t.get(145),o=t.get(50);this._lineHeight=t.get(67),this._spaceWidth=o.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*o.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(145),o=t.get(50);return this._lineHeight=t.get(67),this._spaceWidth=o.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*o.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),!0}onCursorStateChanged(e){var t;const o=e.selections[0].getPosition();return!((t=this._primaryPosition)===null||t===void 0)&&t.equals(o)?!1:(this._primaryPosition=o,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,i,o,r;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const s=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,l=e.scrollWidth,c=this._lineHeight,d=this._primaryPosition,u=this.getGuidesByLine(s,Math.min(a+1,this._context.viewModel.getLineCount()),d),h=[];for(let g=s;g<=a;g++){const f=g-s,p=u[f];let b="";const v=(i=(t=e.visibleRangeForPosition(new W(g,1)))===null||t===void 0?void 0:t.left)!==null&&i!==void 0?i:0;for(const _ of p){const C=_.column===-1?v+(_.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new W(g,_.column)).left;if(C>l||this._maxIndentLeft>0&&C>this._maxIndentLeft)break;const y=_.horizontalLine?_.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",w=_.horizontalLine?((r=(o=e.visibleRangeForPosition(new W(g,_.horizontalLine.endColumn)))===null||o===void 0?void 0:o.left)!==null&&r!==void 0?r:C+this._spaceWidth)-C:this._spaceWidth;b+=`<div class="core-guide ${_.className} ${y}" style="left:${C}px;height:${c}px;width:${w}px"></div>`}h[f]=b}this._renderResult=h}getGuidesByLine(e,t,i){const o=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?Gp.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?Gp.EnabledForActive:Gp.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,r=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,t):null;let s=0,a=0,l=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&i){const u=this._context.viewModel.getActiveIndentGuide(i.lineNumber,e,t);s=u.startLineNumber,a=u.endLineNumber,l=u.indent}const{indentSize:c}=this._context.viewModel.model.getOptions(),d=[];for(let u=e;u<=t;u++){const h=new Array;d.push(h);const g=o?o[u-e]:[],f=new dh(g),p=r?r[u-e]:0;for(let b=1;b<=p;b++){const v=(b-1)*c+1,_=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||g.length===0)&&s<=u&&u<=a&&b===l;h.push(...f.takeWhile(y=>y.visibleColumn<v)||[]);const C=f.peek();(!C||C.visibleColumn!==v||C.horizontalLine)&&h.push(new Pp(v,-1,`core-guide-indent lvl-${(b-1)%30}`+(_?" indent-active":""),null,-1,-1))}h.push(...f.takeWhile(b=>!0)||[])}return d}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function mv(n){if(!(n&&n.isTransparent()))return n}ja((n,e)=>{const t=[{bracketColor:mee,guideColor:ywe,guideColorActive:Dwe},{bracketColor:vee,guideColor:wwe,guideColorActive:Ewe},{bracketColor:bee,guideColor:Swe,guideColorActive:Twe},{bracketColor:_ee,guideColor:xwe,guideColorActive:Iwe},{bracketColor:Cee,guideColor:kwe,guideColorActive:Nwe},{bracketColor:yee,guideColor:Lwe,guideColorActive:Rwe}],i=new Nee,o=[{indentColor:NS,indentColorActive:RS},{indentColor:nwe,indentColorActive:lwe},{indentColor:owe,indentColorActive:cwe},{indentColor:rwe,indentColorActive:dwe},{indentColor:swe,indentColorActive:uwe},{indentColor:awe,indentColorActive:hwe}],r=t.map(a=>{var l,c;const d=n.getColor(a.bracketColor),u=n.getColor(a.guideColor),h=n.getColor(a.guideColorActive),g=mv((l=mv(u))!==null&&l!==void 0?l:d==null?void 0:d.transparent(.3)),f=mv((c=mv(h))!==null&&c!==void 0?c:d);if(!(!g||!f))return{guideColor:g,guideColorActive:f}}).filter(xd),s=o.map(a=>{const l=n.getColor(a.indentColor),c=n.getColor(a.indentColorActive),d=mv(l),u=mv(c);if(!(!d||!u))return{indentColor:d,indentColorActive:u}}).filter(xd);if(r.length>0){for(let a=0;a<30;a++){const l=r[a%r.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${l.guideColor}; --guide-color-active: ${l.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${i.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${i.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${i.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(s.length>0){for(let a=0;a<30;a++){const l=s[a%s.length];e.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${a} { --indent-color: ${l.indentColor}; --indent-color-active: ${l.indentColorActive}; }`)}e.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),e.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}});class xM{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(e,t){this._domNode=e,this.endNode=t,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class bSe{constructor(){this._currentVisibleRange=new D(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class _Se{constructor(e,t,i,o,r,s,a){this.minimalReveal=e,this.lineNumber=t,this.startColumn=i,this.endColumn=o,this.startScrollTop=r,this.stopScrollTop=s,this.scrollType=a,this.type="range",this.minLineNumber=t,this.maxLineNumber=t}}class CSe{constructor(e,t,i,o,r){this.minimalReveal=e,this.selections=t,this.startScrollTop=i,this.stopScrollTop=o,this.scrollType=r,this.type="selections";let s=t[0].startLineNumber,a=t[0].endLineNumber;for(let l=1,c=t.length;l<c;l++){const d=t[l];s=Math.min(s,d.startLineNumber),a=Math.max(a,d.endLineNumber)}this.minLineNumber=s,this.maxLineNumber=a}}class _I extends As{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new Lee(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration,o=this._context.configuration.options,r=o.get(50),s=o.get(145);this._lineHeight=o.get(67),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._isViewportWrapping=s.isViewportWrapping,this._revealHorizontalRightPadding=o.get(100),this._cursorSurroundingLines=o.get(29),this._cursorSurroundingLinesStyle=o.get(30),this._canUseLayerHinting=!o.get(32),this._viewLineOptions=new VU(i,this._context.theme.type),wc.write(this.domNode,8),this.domNode.setClassName(`view-lines ${Ub}`),zo(this.domNode,r),this._maxLineWidth=0,this._asyncUpdateLineWidths=new mi(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new mi(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new bSe,this._horizontalRevealRequest=null,this._stickyScrollEnabled=o.get(115).enabled,this._maxNumberStickyLines=o.get(115).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new ad(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(145)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(50),o=t.get(145);return this._lineHeight=t.get(67),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=o.isViewportWrapping,this._revealHorizontalRightPadding=t.get(100),this._cursorSurroundingLines=t.get(29),this._cursorSurroundingLinesStyle=t.get(30),this._canUseLayerHinting=!t.get(32),this._stickyScrollEnabled=t.get(115).enabled,this._maxNumberStickyLines=t.get(115).maxLineCount,zo(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(144)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new VU(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const i=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let r=i;r<=o;r++)this._visibleLines.getVisibleLine(r).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let o=!1;for(let r=t;r<=i;r++)o=this._visibleLines.getVisibleLine(r).onSelectionChanged()||o;return o}onDecorationsChanged(e){{const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let o=t;o<=i;o++)this._visibleLines.getVisibleLine(o).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(t===-1)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new _Se(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new CSe(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const r=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(i,r),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(i===null)return null;const o=this._getLineNumberFor(i);if(o===-1||o<1||o>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(o)===1)return new W(o,1);const r=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();if(o<r||o>s)return null;let a=this._visibleLines.getVisibleLine(o).getColumnOfNodeOffset(e,t);const l=this._context.viewModel.getLineMinColumn(o);return a<l&&(a=l),new W(o,a)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===ad.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let o=t;o<=i;o++){const r=this._visibleLines.getVisibleLine(o);if(e===r.getDomNode())return o}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();if(e<t||e>i)return-1;const o=new xM(this.domNode.domNode,this._textRangeRestingSpot),r=this._visibleLines.getVisibleLine(e).getWidth(o);return this._updateLineWidthsSlowIfDomDidLayout(o),r}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,o=D.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!o)return null;const r=[];let s=0;const a=new xM(this.domNode.domNode,this._textRangeRestingSpot);let l=0;t&&(l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new W(o.startLineNumber,1)).lineNumber);const c=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let u=o.startLineNumber;u<=o.endLineNumber;u++){if(u<c||u>d)continue;const h=u===o.startLineNumber?o.startColumn:1,g=u!==o.endLineNumber,f=g?this._context.viewModel.getLineMaxColumn(u):o.endColumn,p=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(u,h,f,a);if(p){if(t&&u<i){const b=l;l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new W(u+1,1)).lineNumber,b!==l&&(p.ranges[p.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}r[s++]=new wye(p.outsideRenderedLine,u,hI.from(p.ranges),g)}}return this._updateLineWidthsSlowIfDomDidLayout(a),s===0?null:r}_visibleRangesForLineRange(e,t,i){if(this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber())return null;const o=new xM(this.domNode.domNode,this._textRangeRestingSpot),r=this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,o);return this._updateLineWidthsSlowIfDomDidLayout(o),r}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new Sye(t.outsideRenderedLine,t.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(e){e.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let o=1,r=!0;for(let s=t;s<=i;s++){const a=this._visibleLines.getVisibleLine(s);if(e&&!a.getWidthIsFast()){r=!1;continue}o=Math.max(o,a.getWidth(null))}return r&&t===1&&i===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(o),r}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let r=i;r<=o;r++){const s=this._visibleLines.getVisibleLine(r);if(s.needsMonospaceFontCheck()){const a=s.getWidth(null);a>t&&(t=a,e=r)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let r=i;r<=o;r++)this._visibleLines.getVisibleLine(r).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const i=this._horizontalRevealRequest;if(e.startLineNumber<=i.minLineNumber&&i.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const o=this._computeScrollLeftToReveal(i);o&&(this._isViewportWrapping||this._ensureMaxLineWidth(o.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:o.scrollLeft},i.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),Br&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const i=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let r=i;r<=o;r++)if(this._visibleLines.getVisibleLine(r).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,o,r,s){const a=e.top,l=e.height,c=a+l;let d,u,h;if(r&&r.length>0){let v=r[0].startLineNumber,_=r[0].endLineNumber;for(let C=1,y=r.length;C<y;C++){const w=r[C];v=Math.min(v,w.startLineNumber),_=Math.max(_,w.endLineNumber)}d=!1,u=this._context.viewLayout.getVerticalOffsetForLineNumber(v),h=this._context.viewLayout.getVerticalOffsetForLineNumber(_)+this._lineHeight}else if(o)d=!0,u=this._context.viewLayout.getVerticalOffsetForLineNumber(o.startLineNumber),h=this._context.viewLayout.getVerticalOffsetForLineNumber(o.endLineNumber)+this._lineHeight;else return-1;const g=(t==="mouse"||i)&&this._cursorSurroundingLinesStyle==="default";let f=0,p=0;if(g)i||(f=this._lineHeight);else{const v=Math.min(l/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?f=Math.max(v,this._maxNumberStickyLines)*this._lineHeight:f=v*this._lineHeight,p=Math.max(0,v-1)*this._lineHeight}i||(s===0||s===4)&&(p+=this._lineHeight),u-=f,h+=p;let b;if(h-u>l){if(!d)return-1;b=u}else if(s===5||s===6)if(s===6&&a<=u&&h<=c)b=a;else{const v=Math.max(5*this._lineHeight,l*.2),_=u-v,C=h-l;b=Math.max(C,_)}else if(s===1||s===2)if(s===2&&a<=u&&h<=c)b=a;else{const v=(u+h)/2;b=Math.max(0,v-l/2)}else b=this._computeMinimumScrolling(a,c,u,h,s===3,s===4);return b}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=this._context.configuration.options.get(144),o=t.left,r=o+t.width-i.verticalScrollbarWidth;let s=1073741824,a=0;if(e.type==="range"){const c=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!c)return null;for(const d of c.ranges)s=Math.min(s,Math.round(d.left)),a=Math.max(a,Math.round(d.left+d.width))}else for(const c of e.selections){if(c.startLineNumber!==c.endLineNumber)return null;const d=this._visibleRangesForLineRange(c.startLineNumber,c.startColumn,c.endColumn);if(!d)return null;for(const u of d.ranges)s=Math.min(s,Math.round(u.left)),a=Math.max(a,Math.round(u.left+u.width))}return e.minimalReveal||(s=Math.max(0,s-_I.HORIZONTAL_EXTRA_PX),a+=this._revealHorizontalRightPadding),e.type==="selections"&&a-s>t.width?null:{scrollLeft:this._computeMinimumScrolling(o,r,s,a),maxHorizontalOffset:a}}_computeMinimumScrolling(e,t,i,o,r,s){e=e|0,t=t|0,i=i|0,o=o|0,r=!!r,s=!!s;const a=t-e;if(o-i<a){if(r)return i;if(s)return Math.max(0,o-a);if(i<e)return i;if(o>t)return Math.max(0,o-a)}else return i;return e}}_I.HORIZONTAL_EXTRA_PX=30;class ySe extends Tee{constructor(e){super(),this._context=e;const i=this._context.configuration.options.get(144);this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const i=this._context.configuration.options.get(144);return this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){var t,i;const o=e.getDecorationsInViewport(),r=[];let s=0;for(let a=0,l=o.length;a<l;a++){const c=o[a],d=c.options.linesDecorationsClassName,u=c.options.zIndex;d&&(r[s++]=new S4(c.range.startLineNumber,c.range.endLineNumber,d,(t=c.options.linesDecorationsTooltip)!==null&&t!==void 0?t:null,u));const h=c.options.firstLineDecorationClassName;h&&(r[s++]=new S4(c.range.startLineNumber,c.range.startLineNumber,h,(i=c.options.linesDecorationsTooltip)!==null&&i!==void 0?i:null,u))}return r}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=this._render(t,i,this._getDecorations(e)),r=this._decorationsLeft.toString(),s=this._decorationsWidth.toString(),a='" style="left:'+r+"px;width:"+s+'px;"></div>',l=[];for(let c=t;c<=i;c++){const d=c-t,u=o[d].getDecorations();let h="";for(const g of u){let f='<div class="cldr '+g.className;g.tooltip!==null&&(f+='" title="'+g.tooltip),f+=a,h+=f}l[d]=h}this._renderResult=l}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class wSe extends Tee{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let o=0;for(let r=0,s=t.length;r<s;r++){const a=t[r],l=a.options.marginClassName,c=a.options.zIndex;l&&(i[o++]=new S4(a.range.startLineNumber,a.range.endLineNumber,l,null,c))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=this._render(t,i,this._getDecorations(e)),r=[];for(let s=t;s<=i;s++){const a=s-t,l=o[a].getDecorations();let c="";for(const d of l)c+='<div class="cmdr '+d.className+'" style=""></div>';r[a]=c}this._renderResult=r}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class Ta{constructor(e,t,i,o){this._rgba8Brand=void 0,this.r=Ta._clamp(e),this.g=Ta._clamp(t),this.b=Ta._clamp(i),this.a=Ta._clamp(o)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}Ta.Empty=new Ta(0,0,0,0);class AS extends z{static getInstance(){return this._INSTANCE||(this._INSTANCE=new AS),this._INSTANCE}constructor(){super(),this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(rn.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const e=rn.getColorMap();if(!e){this._colors=[Ta.Empty],this._backgroundIsLight=!0;return}this._colors=[Ta.Empty];for(let i=1;i<e.length;i++){const o=e[i].rgba;this._colors[i]=new Ta(o.r,o.g,o.b,Math.round(o.a*255))}const t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}AS._INSTANCE=null;const SSe=(()=>{const n=[];for(let e=32;e<=126;e++)n.push(e);return n.push(65533),n})(),xSe=(n,e)=>(n-=32,n<0||n>96?e<=2?(n+96)%96:95:n);class Xy{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=Xy.soften(e,12/15),this.charDataLight=Xy.soften(e,50/60)}static soften(e,t){const i=new Uint8ClampedArray(e.length);for(let o=0,r=e.length;o<r;o++)i[o]=r2(e[o]*t);return i}renderChar(e,t,i,o,r,s,a,l,c,d,u){const h=1*this.scale,g=2*this.scale,f=u?1:g;if(t+h>e.width||i+f>e.height){console.warn("bad render request outside image data");return}const p=d?this.charDataLight:this.charDataNormal,b=xSe(o,c),v=e.width*4,_=a.r,C=a.g,y=a.b,w=r.r-_,S=r.g-C,x=r.b-y,L=Math.max(s,l),E=e.data;let O=b*h*g,P=i*v+t*4;for(let A=0;A<f;A++){let F=P;for(let K=0;K<h;K++){const te=p[O++]/255*(s/255);E[F++]=_+w*te,E[F++]=C+S*te,E[F++]=y+x*te,E[F++]=L}P+=v}}blockRenderChar(e,t,i,o,r,s,a,l){const c=1*this.scale,d=2*this.scale,u=l?1:d;if(t+c>e.width||i+u>e.height){console.warn("bad render request outside image data");return}const h=e.width*4,g=.5*(r/255),f=s.r,p=s.g,b=s.b,v=o.r-f,_=o.g-p,C=o.b-b,y=f+v*g,w=p+_*g,S=b+C*g,x=Math.max(r,a),L=e.data;let E=i*h+t*4;for(let O=0;O<u;O++){let P=E;for(let A=0;A<c;A++)L[P++]=y,L[P++]=w,L[P++]=S,L[P++]=x;E+=h}}}const QU={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},JU=n=>{const e=new Uint8ClampedArray(n.length/2);for(let t=0;t<n.length;t+=2)e[t>>1]=QU[n[t]]<<4|QU[n[t+1]]&15;return e},e$={1:Qg(()=>JU("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:Qg(()=>JU("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class TC{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return e$[e]?i=new Xy(e$[e](),e):i=TC.createFromSampleData(TC.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=96*10,t.style.width=96*10+"px",i.fillStyle="#ffffff",i.font=`bold 16px ${e}`,i.textBaseline="middle";let o=0;for(const r of SSe)i.fillText(String.fromCharCode(r),o,16/2),o+=10;return i.getImageData(0,0,96*10,16)}static createFromSampleData(e,t){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const o=TC._downsample(e,t);return new Xy(o,t)}static _downsampleChar(e,t,i,o,r){const s=1*r,a=2*r;let l=o,c=0;for(let d=0;d<a;d++){const u=d/a*16,h=(d+1)/a*16;for(let g=0;g<s;g++){const f=g/s*10,p=(g+1)/s*10;let b=0,v=0;for(let C=u;C<h;C++){const y=t+Math.floor(C)*3840,w=1-(C-Math.floor(C));for(let S=f;S<p;S++){const x=1-(S-Math.floor(S)),L=y+Math.floor(S)*4,E=x*w;v+=E,b+=e[L]*e[L+3]/255*E}}const _=b/v;c=Math.max(c,_),i[l++]=r2(_)}}return c}static _downsample(e,t){const i=2*t*1*t,o=i*96,r=new Uint8ClampedArray(o);let s=0,a=0,l=0;for(let c=0;c<96;c++)l=Math.max(l,this._downsampleChar(e,a,r,s,t)),s+=i,a+=10*4;if(l>0){const c=255/l;for(let d=0;d<o;d++)r[d]*=c}return r}}const kSe=140,LSe=2;class Qy{constructor(e,t,i){const o=e.options,r=o.get(142),s=o.get(144),a=s.minimap,l=o.get(50),c=o.get(73);this.renderMinimap=a.renderMinimap,this.size=c.size,this.minimapHeightIsEditorHeight=a.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=o.get(105),this.paddingTop=o.get(84).top,this.paddingBottom=o.get(84).bottom,this.showSlider=c.showSlider,this.autohide=c.autohide,this.pixelRatio=r,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.lineHeight=o.get(67),this.minimapLeft=a.minimapLeft,this.minimapWidth=a.minimapWidth,this.minimapHeight=s.height,this.canvasInnerWidth=a.minimapCanvasInnerWidth,this.canvasInnerHeight=a.minimapCanvasInnerHeight,this.canvasOuterWidth=a.minimapCanvasOuterWidth,this.canvasOuterHeight=a.minimapCanvasOuterHeight,this.isSampling=a.minimapIsSampling,this.editorHeight=s.height,this.fontScale=a.minimapScale,this.minimapLineHeight=a.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=Qg(()=>TC.create(this.fontScale,l.fontFamily)),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=Qy._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=Qy._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const i=e.getColor(sye);return i?new Ta(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(aye);return t?Ta._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.paddingTop===e.paddingTop&&this.paddingBottom===e.paddingBottom&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class IC{constructor(e,t,i,o,r,s,a,l,c){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=o,this.sliderTop=r,this.sliderHeight=s,this.topPaddingLineCount=a,this.startLineNumber=l,this.endLineNumber=c}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(e){const t=Math.max(this.startLineNumber,e.startLineNumber),i=Math.min(this.endLineNumber,e.endLineNumber);return t>i?null:[t,i]}getYForLineNumber(e,t){return+(e-this.startLineNumber+this.topPaddingLineCount)*t}static create(e,t,i,o,r,s,a,l,c,d,u){const h=e.pixelRatio,g=e.minimapLineHeight,f=Math.floor(e.canvasInnerHeight/g),p=e.lineHeight;if(e.minimapHeightIsEditorHeight){let S=l*e.lineHeight+e.paddingTop+e.paddingBottom;e.scrollBeyondLastLine&&(S+=Math.max(0,r-e.lineHeight-e.paddingBottom));const x=Math.max(1,Math.floor(r*r/S)),L=Math.max(0,e.minimapHeight-x),E=L/(d-r),O=c*E,P=L>0,A=Math.floor(e.canvasInnerHeight/e.minimapLineHeight),F=Math.floor(e.paddingTop/e.lineHeight);return new IC(c,d,P,E,O,x,F,1,Math.min(a,A))}let b;if(s&&i!==a){const S=i-t+1;b=Math.floor(S*g/h)}else{const S=r/p;b=Math.floor(S*g/h)}const v=Math.floor(e.paddingTop/p);let _=Math.floor(e.paddingBottom/p);if(e.scrollBeyondLastLine){const S=r/p;_=Math.max(_,S-1)}let C;if(_>0){const S=r/p;C=(v+a+_-S-1)*g/h}else C=Math.max(0,(v+a)*g/h-b);C=Math.min(e.minimapHeight-b,C);const y=C/(d-r),w=c*y;if(f>=v+a+_){const S=C>0;return new IC(c,d,S,y,w,b,v,1,a)}else{let S;t>1?S=t+v:S=Math.max(1,c/p);let x,L=Math.max(1,Math.floor(S-w*h/g));L<v?(x=v-L+1,L=1):(x=0,L=Math.max(1,L-v)),u&&u.scrollHeight===d&&(u.scrollTop>c&&(L=Math.min(L,u.startLineNumber),x=Math.max(x,u.topPaddingLineCount)),u.scrollTop<c&&(L=Math.max(L,u.startLineNumber),x=Math.min(x,u.topPaddingLineCount)));const E=Math.min(a,L-x+f-1),O=(c-o)/p;let P;return c>=e.paddingTop?P=(t-L+x+O)*g/h:P=c/e.paddingTop*(x+O)*g/h,new IC(c,d,!0,y,P,b,x,L,E)}}}class b2{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}b2.INVALID=new b2(-1);class t${constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new kee(()=>b2.INVALID),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const i=this._renderedLines._get().lines;for(let o=0,r=i.length;o<r;o++)if(i[o].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class P6{constructor(e,t,i,o){this._backgroundFillData=P6._createBackgroundFillData(t,i,o),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const o=i.r,r=i.g,s=i.b,a=i.a,l=new Uint8ClampedArray(e*t*4);let c=0;for(let d=0;d<t;d++)for(let u=0;u<e;u++)l[c]=o,l[c+1]=r,l[c+2]=s,l[c+3]=a,c+=4;return l}}class Jy{static compute(e,t,i){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const{minimapLineCount:o}=Mb.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:e.scrollBeyondLastLine,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:e.editorHeight,lineHeight:e.lineHeight,pixelRatio:e.pixelRatio}),r=t/o,s=r/2;if(!i||i.minimapLines.length===0){const b=[];if(b[0]=1,o>1){for(let v=0,_=o-1;v<_;v++)b[v]=Math.round(v*r+s);b[o-1]=t}return[new Jy(r,b),[]]}const a=i.minimapLines,l=a.length,c=[];let d=0,u=0,h=1;const g=10;let f=[],p=null;for(let b=0;b<o;b++){const v=Math.max(h,Math.round(b*r)),_=Math.max(v,Math.round((b+1)*r));for(;d<l&&a[d]<v;){if(f.length<g){const y=d+1+u;p&&p.type==="deleted"&&p._oldIndex===d-1?p.deleteToLineNumber++:(p={type:"deleted",_oldIndex:d,deleteFromLineNumber:y,deleteToLineNumber:y},f.push(p)),u--}d++}let C;if(d<l&&a[d]<=_)C=a[d],d++;else if(b===0?C=1:b+1===o?C=t:C=Math.round(b*r+s),f.length<g){const y=d+1+u;p&&p.type==="inserted"&&p._i===b-1?p.insertToLineNumber++:(p={type:"inserted",_i:b,insertFromLineNumber:y,insertToLineNumber:y},f.push(p)),u++}c[b]=C,h=C}if(f.length<g)for(;d<l;){const b=d+1+u;p&&p.type==="deleted"&&p._oldIndex===d-1?p.deleteToLineNumber++:(p={type:"deleted",_oldIndex:d,deleteFromLineNumber:b,deleteToLineNumber:b},f.push(p)),u--,d++}else f=[{type:"flush"}];return[new Jy(r,c),f]}constructor(e,t){this.samplingRatio=e,this.minimapLines=t}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let o=this.modelLineToMinimapLine(t)-1;for(;o+1<this.minimapLines.length&&this.minimapLines[o+1]<=t;)o++;if(i===o){const r=this.minimapLines[i];if(r<e||r>t)return null}return[i+1,o+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),o=this.modelLineToMinimapLine(t);return e!==t&&o===i&&(o===this.minimapLines.length?i>1&&i--:o++),[i,o]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,o=0;for(let r=this.minimapLines.length-1;r>=0&&!(this.minimapLines[r]<e.fromLineNumber);r--)this.minimapLines[r]<=e.toLineNumber?(this.minimapLines[r]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,r),o=Math.max(o,r)):this.minimapLines[r]-=t;return[i,o]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class DSe extends As{constructor(e){super(e),this.tokensColorTracker=AS.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new Qy(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=Jy.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new _2(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new Qy(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return t?this._actual.onLinesChanged(t[0],t[1]-t[0]+1):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i-t+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const t=[];for(const i of e.ranges){const o=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);o&&t.push({fromLineNumber:o[0],toLineNumber:o[1]})}return t.length?this._actual.onTokensChanged(t):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const o={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(o)}_recreateLineSampling(){this._minimapSelections=null;const e=!!this._samplingState,[t,i]=Jy.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const o of i)switch(o.type){case"deleted":this._actual.onLinesDeleted(o.deleteFromLineNumber,o.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(o.insertFromLineNumber,o.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){const o=[];for(let r=0,s=t-e+1;r<s;r++)i[r]?o[r]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+r-1]):o[r]=null;return o}return this._context.viewModel.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new Pe(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const r=this._samplingState.minimapLines[e-1],s=this._samplingState.minimapLines[t-1];i=new D(r,1,s,this._context.viewModel.getLineMaxColumn(s))}else i=new D(e,1,t,this._context.viewModel.getLineMaxColumn(t));const o=this._context.viewModel.getMinimapDecorationsInRange(i);if(this._samplingState){const r=[];for(const s of o){if(!s.options.minimap)continue;const a=s.range,l=this._samplingState.modelLineToMinimapLine(a.startLineNumber),c=this._samplingState.modelLineToMinimapLine(a.endLineNumber);r.push(new zJ(new D(l,a.startColumn,c,a.endColumn),s.options))}return r}return o}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new D(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class _2 extends z{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(OU),this._domNode=ii(document.createElement("div")),wc.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=ii(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=ii(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=ii(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=ii(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=ii(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=fn(this._domNode.domNode,ge.POINTER_DOWN,i=>{if(i.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(i.button===0&&this._lastRenderData){const c=In(this._slider.domNode),d=c.top+c.height/2;this._startSliderDragging(i,d,this._lastRenderData.renderedLayout)}return}const r=this._model.options.minimapLineHeight,s=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*i.offsetY;let l=Math.floor(s/r)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;l=Math.min(l,this._model.getLineCount()),this._model.revealLineNumber(l)}),this._sliderPointerMoveMonitor=new y0,this._sliderPointerDownListener=fn(this._slider.domNode,ge.POINTER_DOWN,i=>{i.preventDefault(),i.stopPropagation(),i.button===0&&this._lastRenderData&&this._startSliderDragging(i,i.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=Si.addTarget(this._domNode.domNode),this._sliderTouchStartListener=j(this._domNode.domNode,xi.Start,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(i))},{passive:!1}),this._sliderTouchMoveListener=j(this._domNode.domNode,xi.Change,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(i)},{passive:!1}),this._sliderTouchEndListener=fn(this._domNode.domNode,xi.End,i=>{i.preventDefault(),i.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i){if(!e.target||!(e.target instanceof Element))return;const o=e.pageX;this._slider.toggleClassName("active",!0);const r=(s,a)=>{const l=In(this._domNode.domNode),c=Math.min(Math.abs(a-o),Math.abs(a-l.left),Math.abs(a-l.left-l.width));if(Qo&&c>kSe){this._model.setScrollTop(i.scrollTop);return}const d=s-t;this._model.setScrollTop(i.getDesiredScrollTopFromDelta(d))};e.pageY!==t&&r(e.pageY,o),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,s=>r(s.pageY,s.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return this._model.options.showSlider==="always"?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new P6(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,t):!1}onLinesDeleted(e,t){var i;return(i=this._lastRenderData)===null||i===void 0||i.onLinesDeleted(e,t),!0}onLinesInserted(e,t){var i;return(i=this._lastRenderData)===null||i===void 0||i.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(OU),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const i=IC.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(i.sliderNeeded?"block":"none"),this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(D.compareRangesUsingStarts);const i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort((h,g)=>(h.options.zIndex||0)-(g.options.zIndex||0));const{canvasInnerWidth:o,canvasInnerHeight:r}=this._model.options,s=this._model.options.minimapLineHeight,a=this._model.options.minimapCharWidth,l=this._model.getOptions().tabSize,c=this._decorationsCanvas.domNode.getContext("2d");c.clearRect(0,0,o,r);const d=new i$(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(c,t,d,e,s),this._renderDecorationsLineHighlights(c,i,d,e,s);const u=new i$(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(c,t,u,e,s,l,a,o),this._renderDecorationsHighlights(c,i,u,e,s,l,a,o)}}_renderSelectionLineHighlights(e,t,i,o,r){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let s=0,a=0;for(const l of t){const c=o.intersectWithViewport(l);if(!c)continue;const[d,u]=c;for(let f=d;f<=u;f++)i.set(f,!0);const h=o.getYForLineNumber(d,r),g=o.getYForLineNumber(u,r);a>=h||(a>s&&e.fillRect(Fh,s,e.canvas.width,a-s),s=h),a=g}a>s&&e.fillRect(Fh,s,e.canvas.width,a-s)}_renderDecorationsLineHighlights(e,t,i,o,r){const s=new Map;for(let a=t.length-1;a>=0;a--){const l=t[a],c=l.options.minimap;if(!c||c.position!==xs.Inline)continue;const d=o.intersectWithViewport(l.range);if(!d)continue;const[u,h]=d,g=c.getColor(this._theme.value);if(!g||g.isTransparent())continue;let f=s.get(g.toString());f||(f=g.transparent(.5).toString(),s.set(g.toString(),f)),e.fillStyle=f;for(let p=u;p<=h;p++){if(i.has(p))continue;i.set(p,!0);const b=o.getYForLineNumber(u,r);e.fillRect(Fh,b,e.canvas.width,r)}}}_renderSelectionsHighlights(e,t,i,o,r,s,a,l){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const c of t){const d=o.intersectWithViewport(c);if(!d)continue;const[u,h]=d;for(let g=u;g<=h;g++)this.renderDecorationOnLine(e,i,c,this._selectionColor,o,g,r,r,s,a,l)}}_renderDecorationsHighlights(e,t,i,o,r,s,a,l){for(const c of t){const d=c.options.minimap;if(!d)continue;const u=o.intersectWithViewport(c.range);if(!u)continue;const[h,g]=u,f=d.getColor(this._theme.value);if(!(!f||f.isTransparent()))for(let p=h;p<=g;p++)switch(d.position){case xs.Inline:this.renderDecorationOnLine(e,i,c.range,f,o,p,r,r,s,a,l);continue;case xs.Gutter:{const b=o.getYForLineNumber(p,r);this.renderDecoration(e,f,2,b,LSe,r);continue}}}}renderDecorationOnLine(e,t,i,o,r,s,a,l,c,d,u){const h=r.getYForLineNumber(s,l);if(h+a<0||h>this._model.options.canvasInnerHeight)return;const{startLineNumber:g,endLineNumber:f}=i,p=g===s?i.startColumn:1,b=f===s?i.endColumn:this._model.getLineMaxColumn(s),v=this.getXOffsetForPosition(t,s,p,c,d,u),_=this.getXOffsetForPosition(t,s,b,c,d,u);this.renderDecoration(e,o,v,h,_-v,a)}getXOffsetForPosition(e,t,i,o,r,s){if(i===1)return Fh;if((i-1)*r>=s)return s;let l=e.get(t);if(!l){const c=this._model.getLineContent(t);l=[Fh];let d=Fh;for(let u=1;u<c.length+1;u++){const h=c.charCodeAt(u-1),g=h===9?o*r:ef(h)?2*r:r,f=d+g;if(f>=s){l[u]=s;break}l[u]=f,d=f}e.set(t,l)}return i-1<l.length?l[i-1]:s}renderDecoration(e,t,i,o,r,s){e.fillStyle=t&&t.toString()||"",e.fillRect(i,o,r,s)}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,o=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const te=this._lastRenderData._get();return new t$(e,te.imageData,te.lines)}const r=this._getBuffer();if(!r)return null;const[s,a,l]=_2._renderUntouchedLines(r,e.topPaddingLineCount,t,i,o,this._lastRenderData),c=this._model.getMinimapLinesRenderingData(t,i,l),d=this._model.getOptions().tabSize,u=this._model.options.defaultBackgroundColor,h=this._model.options.backgroundColor,g=this._model.options.foregroundAlpha,f=this._model.tokensColorTracker,p=f.backgroundIsLight(),b=this._model.options.renderMinimap,v=this._model.options.charRenderer(),_=this._model.options.fontScale,C=this._model.options.minimapCharWidth,w=(b===1?2:3)*_,S=o>w?Math.floor((o-w)/2):0,x=h.a/255,L=new Ta(Math.round((h.r-u.r)*x+u.r),Math.round((h.g-u.g)*x+u.g),Math.round((h.b-u.b)*x+u.b),255);let E=e.topPaddingLineCount*o;const O=[];for(let te=0,ye=i-t+1;te<ye;te++)l[te]&&_2._renderLine(r,L,h.a,p,b,C,f,g,v,E,S,d,c[te],_,o),O[te]=new b2(E),E+=o;const P=s===-1?0:s,F=(a===-1?r.height:a)-P;return this._canvas.domNode.getContext("2d").putImageData(r,0,0,0,P,r.width,F),new t$(e,r,O)}static _renderUntouchedLines(e,t,i,o,r,s){const a=[];if(!s){for(let E=0,O=o-i+1;E<O;E++)a[E]=!0;return[-1,-1,a]}const l=s._get(),c=l.imageData.data,d=l.rendLineNumberStart,u=l.lines,h=u.length,g=e.width,f=e.data,p=(o-i+1)*r*g*4;let b=-1,v=-1,_=-1,C=-1,y=-1,w=-1,S=t*r;for(let E=i;E<=o;E++){const O=E-i,P=E-d,A=P>=0&&P<h?u[P].dy:-1;if(A===-1){a[O]=!0,S+=r;continue}const F=A*g*4,K=(A+r)*g*4,te=S*g*4,ye=(S+r)*g*4;C===F&&w===te?(C=K,w=ye):(_!==-1&&(f.set(c.subarray(_,C),y),b===-1&&_===0&&_===y&&(b=C),v===-1&&C===p&&_===y&&(v=_)),_=F,C=K,y=te,w=ye),a[O]=!1,S+=r}_!==-1&&(f.set(c.subarray(_,C),y),b===-1&&_===0&&_===y&&(b=C),v===-1&&C===p&&_===y&&(v=_));const x=b===-1?-1:b/(g*4),L=v===-1?-1:v/(g*4);return[x,L,a]}static _renderLine(e,t,i,o,r,s,a,l,c,d,u,h,g,f,p){const b=g.content,v=g.tokens,_=e.width-s,C=p===1;let y=Fh,w=0,S=0;for(let x=0,L=v.getCount();x<L;x++){const E=v.getEndOffset(x),O=v.getForeground(x),P=a.getColor(O);for(;w<E;w++){if(y>_)return;const A=b.charCodeAt(w);if(A===9){const F=h-(w+S)%h;S+=F-1,y+=F*s}else if(A===32)y+=s;else{const F=ef(A)?2:1;for(let K=0;K<F;K++)if(r===2?c.blockRenderChar(e,y,d+u,P,l,t,i,C):c.renderChar(e,y,d+u,A,P,l,t,i,f,o,C),y+=s,y>_)return}}}}}class i${constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let o=0,r=this._endLineNumber-this._startLineNumber+1;o<r;o++)this._values[o]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}class ESe extends As{constructor(e,t){super(e),this._viewDomNode=t;const o=this._context.configuration.options.get(144);this._widgets={},this._verticalScrollbarWidth=o.verticalScrollbarWidth,this._minimapWidth=o.minimap.minimapWidth,this._horizontalScrollbarHeight=o.horizontalScrollbarHeight,this._editorHeight=o.height,this._editorWidth=o.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=ii(document.createElement("div")),wc.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=ii(document.createElement("div")),wc.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const i=this._context.configuration.options.get(144);return this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,!0}addWidget(e){const t=ii(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),e.allowEditorOverflow?this.overflowingOverlayWidgetsDomNode.appendChild(t):this._domNode.appendChild(t),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference===t?(this._updateMaxMinWidth(),!1):(i.preference=t,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const o=this._widgets[t].domNode.domNode;delete this._widgets[t],o.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var e,t;let i=0;const o=Object.keys(this._widgets);for(let r=0,s=o.length;r<s;r++){const a=o[r],c=(t=(e=this._widgets[a].widget).getMinContentWidthInPx)===null||t===void 0?void 0:t.call(e);typeof c<"u"&&(i=Math.max(i,c))}this._context.viewLayout.setOverlayWidgetsMinWidth(i)}_renderWidget(e){const t=e.domNode;if(e.preference===null){t.setTop("");return}if(e.preference===0)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const i=t.domNode.clientHeight;t.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else if(e.preference===2)t.setTop(0),t.domNode.style.right="50%";else{const{top:i,left:o}=e.preference;if(this._context.configuration.options.get(42)&&e.widget.allowEditorOverflow){const s=this._viewDomNodeRect;t.setTop(i+s.top),t.setLeft(o+s.left),t.setPosition("fixed")}else t.setTop(i),t.setLeft(o),t.setPosition("absolute")}}prepareRender(e){this._viewDomNodeRect=In(this._viewDomNode.domNode)}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let i=0,o=t.length;i<o;i++){const r=t[i];this._renderWidget(this._widgets[r])}}}class TSe{constructor(e,t){const i=e.options;this.lineHeight=i.get(67),this.pixelRatio=i.get(142),this.overviewRulerLanes=i.get(83),this.renderBorder=i.get(82);const o=t.getColor(fwe);this.borderColor=o?o.toString():null,this.hideCursor=i.get(59);const r=t.getColor(fee);this.cursorColor=r?r.transparent(.7).toString():null,this.themeType=t.type;const s=i.get(73),a=s.enabled,l=s.side,c=t.getColor(pwe),d=rn.getDefaultBackground();c?this.backgroundColor=c:a&&l==="right"?this.backgroundColor=d:this.backgroundColor=null;const h=i.get(144).overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[g,f]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=g,this.w=f}_initLanes(e,t,i){const o=t-e;if(i>=3){const r=Math.floor(o/3),s=Math.floor(o/3),a=o-r-s,l=e,c=l+r,d=l+r+a;return[[0,l,c,l,d,l,c,l],[0,r,a,r+a,s,r+a+s,a+s,r+a+s]]}else if(i===2){const r=Math.floor(o/2),s=o-r,a=e,l=a+r;return[[0,a,a,a,l,a,a,a],[0,r,r,r,s,r+s,r+s,r+s]]}else{const r=e,s=o;return[[0,r,r,r,r,r,r,r],[0,s,s,s,s,s,s,s]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&U.equals(this.backgroundColor,e.backgroundColor)&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class ISe extends As{constructor(e){super(e),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=ii(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=rn.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[new W(1,1)]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new TSe(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(e){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(W.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(e){return e.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(e){return this._markRenderingIsNeeded()}onScrollChanged(e){return e.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(e){return this._markRenderingIsNeeded()}onThemeChanged(e){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render(),this._actualShouldRender=0}_render(){const e=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(e?U.Format.CSS.formatHexA(e):""),this._domNode.setDisplay("none");return}const t=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(t.sort(Hy.compareByRenderingProps),this._actualShouldRender===1&&!Hy.equalsArr(this._renderedDecorations,t)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!en(this._renderedCursorPositions,this._cursorPositions,(f,p)=>f.lineNumber===p.lineNumber)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=t,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const i=this._settings.canvasWidth,o=this._settings.canvasHeight,r=this._settings.lineHeight,s=this._context.viewLayout,a=this._context.viewLayout.getScrollHeight(),l=o/a,c=6*this._settings.pixelRatio|0,d=c/2|0,u=this._domNode.domNode.getContext("2d");e?e.isOpaque()?(u.fillStyle=U.Format.CSS.formatHexA(e),u.fillRect(0,0,i,o)):(u.clearRect(0,0,i,o),u.fillStyle=U.Format.CSS.formatHexA(e),u.fillRect(0,0,i,o)):u.clearRect(0,0,i,o);const h=this._settings.x,g=this._settings.w;for(const f of t){const p=f.color,b=f.data;u.fillStyle=p;let v=0,_=0,C=0;for(let y=0,w=b.length/3;y<w;y++){const S=b[3*y],x=b[3*y+1],L=b[3*y+2];let E=s.getVerticalOffsetForLineNumber(x)*l|0,O=(s.getVerticalOffsetForLineNumber(L)+r)*l|0;if(O-E<c){let A=(E+O)/2|0;A<d?A=d:A+d>o&&(A=o-d),E=A-d,O=A+d}E>C+1||S!==v?(y!==0&&u.fillRect(h[v],_,g[v],C-_),v=S,_=E,C=O):O>C&&(C=O)}u.fillRect(h[v],_,g[v],C-_)}if(!this._settings.hideCursor&&this._settings.cursorColor){const f=2*this._settings.pixelRatio|0,p=f/2|0,b=this._settings.x[7],v=this._settings.w[7];u.fillStyle=this._settings.cursorColor;let _=-100,C=-100;for(let y=0,w=this._cursorPositions.length;y<w;y++){const S=this._cursorPositions[y];let x=s.getVerticalOffsetForLineNumber(S.lineNumber)*l|0;x<p?x=p:x+p>o&&(x=o-p);const L=x-p,E=L+f;L>C+1?(y!==0&&u.fillRect(b,_,v,C-_),_=L,C=E):E>C&&(C=E)}u.fillRect(b,_,v,C-_)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(u.beginPath(),u.lineWidth=1,u.strokeStyle=this._settings.borderColor,u.moveTo(0,0),u.lineTo(0,o),u.stroke(),u.moveTo(0,0),u.lineTo(i,0),u.stroke())}}class n${constructor(e,t,i){this._colorZoneBrand=void 0,this.from=e|0,this.to=t|0,this.colorId=i|0}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class Ree{constructor(e,t,i,o){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.heightInLines=i,this.color=o,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.heightInLines===t.heightInLines?e.endLineNumber-t.endLineNumber:e.heightInLines-t.heightInLines:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class NSe{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(Ree.compare)}setLineHeight(e){return this._lineHeight===e?!1:(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth===e?!1:(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight===e?!1:(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight===e?!1:(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),o=Math.floor(this._outerHeight),r=i/o,s=Math.floor(4*this._pixelRatio/2),a=[];for(let l=0,c=this._zones.length;l<c;l++){const d=this._zones[l];if(!e){const y=d.getColorZones();if(y){a.push(y);continue}}const u=this._getVerticalOffsetForLine(d.startLineNumber),h=d.heightInLines===0?this._getVerticalOffsetForLine(d.endLineNumber)+t:u+d.heightInLines*t,g=Math.floor(r*u),f=Math.floor(r*h);let p=Math.floor((g+f)/2),b=f-p;b<s&&(b=s),p-b<0&&(p=b),p+b>i&&(p=i-b);const v=d.color;let _=this._color2Id[v];_||(_=++this._lastAssignedId,this._color2Id[v]=_,this._id2Color[_]=v);const C=new n$(p-b,p+b,_);d.setColorZone(C),a.push(C)}return this._colorZonesInvalid=!1,a.sort(n$.compare),a}}class RSe extends TS{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=ii(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new NSe(o=>this._context.viewLayout.getVerticalOffsetForLineNumber(o)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(67)),this._zoneManager.setPixelRatio(i.get(142)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(67)&&(this._zoneManager.setLineHeight(t.get(67)),this._render()),e.hasChanged(142)&&(this._zoneManager.setPixelRatio(t.get(142)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),o=this._zoneManager.getId2Color(),r=this._domNode.domNode.getContext("2d");return r.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(r,i,o,e),!0}_renderOneLane(e,t,i,o){let r=0,s=0,a=0;for(const l of t){const c=l.colorId,d=l.from,u=l.to;c!==r?(e.fillRect(0,s,o,a-s),r=c,e.fillStyle=i[r],s=d,a=u):a>=d?a=Math.max(a,u):(e.fillRect(0,s,o,a-s),s=d,a=u)}e.fillRect(0,s,o,a-s)}}class MSe extends As{constructor(e){super(e),this.domNode=ii(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(102),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(102),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:o}=this._context.viewModel.model.getOptions(),r=o;let s=t-e;for(;s>0;){const a=ii(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(r),this.domNode.appendChild(a),this._renderedRulers.push(a),s--}return}let i=e-t;for(;i>0;){const o=this._renderedRulers.pop();this.domNode.removeChild(o),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const o=this._renderedRulers[t],r=this._rulers[t];o.setBoxShadow(r.color?`1px 0 0 0 ${r.color} inset`:""),o.setHeight(Math.min(e.scrollHeight,1e6)),o.setLeft(r.column*this._typicalHalfwidthCharacterWidth)}}}class ASe extends As{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const i=this._context.configuration.options.get(103);this._useShadows=i.useShadows,this._domNode=ii(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const t=this._context.configuration.options.get(144);t.minimap.renderMinimap===0||t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?this._width=t.width:this._width=t.width-t.verticalScrollbarWidth}onConfigurationChanged(e){const i=this._context.configuration.options.get(103);return this._useShadows=i.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class PSe{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class OSe{constructor(e,t){this.lineNumber=e,this.ranges=t}}function FSe(n){return new PSe(n)}function BSe(n){return new OSe(n.lineNumber,n.ranges.map(FSe))}class vn extends Zm{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(67),this._roundedSelection=t.get(101),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(67),this._roundedSelection=t.get(101),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++)if(e[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,t,i){const o=this._typicalHalfwidthCharacterWidth/4;let r=null,s=null;if(i&&i.length>0&&t.length>0){const a=t[0].lineNumber;if(a===e.startLineNumber)for(let c=0;!r&&c<i.length;c++)i[c].lineNumber===a&&(r=i[c].ranges[0]);const l=t[t.length-1].lineNumber;if(l===e.endLineNumber)for(let c=i.length-1;!s&&c>=0;c--)i[c].lineNumber===l&&(s=i[c].ranges[0]);r&&!r.startStyle&&(r=null),s&&!s.startStyle&&(s=null)}for(let a=0,l=t.length;a<l;a++){const c=t[a].ranges[0],d=c.left,u=c.left+c.width,h={top:0,bottom:0},g={top:0,bottom:0};if(a>0){const f=t[a-1].ranges[0].left,p=t[a-1].ranges[0].left+t[a-1].ranges[0].width;Qx(d-f)<o?h.top=2:d>f&&(h.top=1),Qx(u-p)<o?g.top=2:f<u&&u<p&&(g.top=1)}else r&&(h.top=r.startStyle.top,g.top=r.endStyle.top);if(a+1<l){const f=t[a+1].ranges[0].left,p=t[a+1].ranges[0].left+t[a+1].ranges[0].width;Qx(d-f)<o?h.bottom=2:f<d&&d<p&&(h.bottom=1),Qx(u-p)<o?g.bottom=2:u<p&&(g.bottom=1)}else s&&(h.bottom=s.startStyle.bottom,g.bottom=s.endStyle.bottom);c.startStyle=h,c.endStyle=g}}_getVisibleRangesWithStyle(e,t,i){const r=(t.linesVisibleRangesForRange(e,!0)||[]).map(BSe);return!this._visibleRangesHaveGaps(r)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,r,i),r}_createSelectionPiece(e,t,i,o,r){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+o.toString()+"px;width:"+r.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,o){if(o.length===0)return;const r=!!o[0].ranges[0].startStyle,s=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),l=o[0].lineNumber,c=o[o.length-1].lineNumber;for(let d=0,u=o.length;d<u;d++){const h=o[d],g=h.lineNumber,f=g-t,p=i&&(g===c||g===l)?a:s,b=i&&g===l?1:0;let v="",_="";for(let C=0,y=h.ranges.length;C<y;C++){const w=h.ranges[C];if(r){const x=w.startStyle,L=w.endStyle;if(x.top===1||x.bottom===1){v+=this._createSelectionPiece(b,p,vn.SELECTION_CLASS_NAME,w.left-vn.ROUNDED_PIECE_WIDTH,vn.ROUNDED_PIECE_WIDTH);let E=vn.EDITOR_BACKGROUND_CLASS_NAME;x.top===1&&(E+=" "+vn.SELECTION_TOP_RIGHT),x.bottom===1&&(E+=" "+vn.SELECTION_BOTTOM_RIGHT),v+=this._createSelectionPiece(b,p,E,w.left-vn.ROUNDED_PIECE_WIDTH,vn.ROUNDED_PIECE_WIDTH)}if(L.top===1||L.bottom===1){v+=this._createSelectionPiece(b,p,vn.SELECTION_CLASS_NAME,w.left+w.width,vn.ROUNDED_PIECE_WIDTH);let E=vn.EDITOR_BACKGROUND_CLASS_NAME;L.top===1&&(E+=" "+vn.SELECTION_TOP_LEFT),L.bottom===1&&(E+=" "+vn.SELECTION_BOTTOM_LEFT),v+=this._createSelectionPiece(b,p,E,w.left+w.width,vn.ROUNDED_PIECE_WIDTH)}}let S=vn.SELECTION_CLASS_NAME;if(r){const x=w.startStyle,L=w.endStyle;x.top===0&&(S+=" "+vn.SELECTION_TOP_LEFT),x.bottom===0&&(S+=" "+vn.SELECTION_BOTTOM_LEFT),L.top===0&&(S+=" "+vn.SELECTION_TOP_RIGHT),L.bottom===0&&(S+=" "+vn.SELECTION_BOTTOM_RIGHT)}_+=this._createSelectionPiece(b,p,S,w.left,w.width)}e[f][0]+=v,e[f][1]+=_}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber;for(let s=i;s<=o;s++){const a=s-i;t[a]=["",""]}const r=[];for(let s=0,a=this._selections.length;s<a;s++){const l=this._selections[s];if(l.isEmpty()){r[s]=null;continue}const c=this._getVisibleRangesWithStyle(l,e,this._previousFrameVisibleRangesWithStyle[s]);r[s]=c,this._actualRenderOneSelection(t,i,this._selections.length>1,c)}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=t.map(([s,a])=>s+a)}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}vn.SELECTION_CLASS_NAME="selected-text";vn.SELECTION_TOP_LEFT="top-left-radius";vn.SELECTION_BOTTOM_LEFT="bottom-left-radius";vn.SELECTION_TOP_RIGHT="top-right-radius";vn.SELECTION_BOTTOM_RIGHT="bottom-right-radius";vn.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";vn.ROUNDED_PIECE_WIDTH=10;ja((n,e)=>{const t=n.getColor(pCe);t&&!t.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${t}; }`)});function Qx(n){return n<0?-n:n}class o${constructor(e,t,i,o,r,s,a){this.top=e,this.left=t,this.paddingLeft=i,this.width=o,this.height=r,this.textContent=s,this.textContentClassName=a}}class r${constructor(e){this._context=e;const t=this._context.configuration.options,i=t.get(50);this._cursorStyle=t.get(28),this._lineHeight=t.get(67),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=ii(document.createElement("div")),this._domNode.setClassName(`cursor ${Ub}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),zo(this._domNode,i),this._domNode.setDisplay("none"),this._position=new W(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(50);return this._cursorStyle=t.get(28),this._lineHeight=t.get(67),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),zo(this._domNode,i),!0}onCursorPositionChanged(e,t){return t?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:t}=this._position,i=this._context.viewModel.getLineContent(e),[o,r]=Jme(i,t-1);return[new W(e,o+1),i.substring(o,r)]}_prepareRender(e){let t="",i="";const[o,r]=this._getGraphemeAwarePosition();if(this._cursorStyle===Do.Line||this._cursorStyle===Do.LineThin){const h=e.visibleRangeForPosition(o);if(!h||h.outsideRenderedLine)return null;const g=qe(this._domNode.domNode);let f;this._cursorStyle===Do.Line?(f=Tz(g,this._lineCursorWidth>0?this._lineCursorWidth:2),f>2&&(t=r,i=this._getTokenClassName(o))):f=Tz(g,1);let p=h.left,b=0;f>=2&&p>=1&&(b=1,p-=b);const v=e.getVerticalOffsetForLineNumber(o.lineNumber)-e.bigNumbersDelta;return new o$(v,p,b,f,this._lineHeight,t,i)}const s=e.linesVisibleRangesForRange(new D(o.lineNumber,o.column,o.lineNumber,o.column+r.length),!1);if(!s||s.length===0)return null;const a=s[0];if(a.outsideRenderedLine||a.ranges.length===0)return null;const l=a.ranges[0],c=r==="	"?this._typicalHalfwidthCharacterWidth:l.width<1?this._typicalHalfwidthCharacterWidth:l.width;this._cursorStyle===Do.Block&&(t=r,i=this._getTokenClassName(o));let d=e.getVerticalOffsetForLineNumber(o.lineNumber)-e.bigNumbersDelta,u=this._lineHeight;return(this._cursorStyle===Do.Underline||this._cursorStyle===Do.UnderlineThin)&&(d+=this._lineHeight-2,u=2),new o$(d,l.left,0,c,u,t,i)}_getTokenClassName(e){const t=this._context.viewModel.getViewLineData(e.lineNumber),i=t.tokens.findTokenIndexAtOffset(e.column-1);return t.tokens.getClassName(i)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Ub} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class ew extends As{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(91),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new r$(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=ii(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Ll,this._cursorFlatBlinkInterval=new t6,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(91),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,o=this._secondaryCursors.length;i<o;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t,i){const o=this._secondaryCursors.length!==t.length||this._cursorSmoothCaretAnimation==="explicit"&&i!==3;if(this._primaryCursor.onCursorPositionChanged(e,o),this._updateBlinking(),this._secondaryCursors.length<t.length){const r=t.length-this._secondaryCursors.length;for(let s=0;s<r;s++){const a=new r$(this._context);this._domNode.domNode.insertBefore(a.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(a)}}else if(this._secondaryCursors.length>t.length){const r=this._secondaryCursors.length-t.length;for(let s=0;s<r;s++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let r=0;r<t.length;r++)this._secondaryCursors[r].onCursorPositionChanged(t[r],o)}onCursorStateChanged(e){const t=[];for(let o=0,r=e.selections.length;o<r;o++)t[o]=e.selections[o].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),e.reason);const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=i=>{for(let o=0,r=e.ranges.length;o<r;o++)if(e.ranges[o].fromLineNumber<=i.lineNumber&&i.lineNumber<=e.ranges[o].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=e===0,i=e===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!i&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},ew.BLINK_INTERVAL,qe(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},ew.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case Do.Line:e+=" cursor-line-style";break;case Do.Block:e+=" cursor-block-style";break;case Do.Underline:e+=" cursor-underline-style";break;case Do.LineThin:e+=" cursor-line-thin-style";break;case Do.BlockOutline:e+=" cursor-block-outline-style";break;case Do.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){const t=[];let i=0;const o=this._primaryCursor.render(e);o&&(t[i++]=o);for(let r=0,s=this._secondaryCursors.length;r<s;r++){const a=this._secondaryCursors[r].render(e);a&&(t[i++]=a)}this._renderData=t}getLastRenderData(){return this._renderData}}ew.BLINK_INTERVAL=500;ja((n,e)=>{const t=n.getColor(fee);if(t){let i=n.getColor(twe);i||(i=t.opposite()),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${i}; }`),fc(n.type)&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${i}; border-right: 1px solid ${i}; }`)}});const kM=()=>{throw new Error("Invalid change accessor")};class WSe extends As{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(144);this._lineHeight=t.get(67),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=ii(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=ii(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const o of e)t.set(o.id,o);let i=!1;return this._context.viewModel.changeWhitespace(o=>{const r=Object.keys(this._zones);for(let s=0,a=r.length;s<a;s++){const l=r[s],c=this._zones[l],d=this._computeWhitespaceProps(c.delegate);c.isInHiddenArea=d.isInHiddenArea;const u=t.get(l);u&&(u.afterLineNumber!==d.afterViewLineNumber||u.height!==d.heightInPx)&&(o.changeOneWhitespace(l,d.afterViewLineNumber,d.heightInPx),this._safeCallOnComputedHeight(c.delegate,d.heightInPx),i=!0)}}),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(144);return this._lineHeight=t.get(67),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(67)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){var t,i;return(i=(t=e.ordinal)!==null&&t!==void 0?t:e.afterColumn)!==null&&i!==void 0?i:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t;if(typeof e.afterColumn<"u")t=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const s=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new W(s,this._context.viewModel.model.getLineMaxColumn(s))}let i;t.column===this._context.viewModel.model.getLineMaxColumn(t.lineNumber)?i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber+1,column:1}):i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber,column:t.column+1});const o=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t,e.afterColumnAffinity,!0),r=e.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!r,afterViewLineNumber:o.lineNumber,heightInPx:r?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.viewModel.changeWhitespace(i=>{const o={addZone:r=>(t=!0,this._addZone(i,r)),removeZone:r=>{r&&(t=this._removeZone(i,r)||t)},layoutZone:r=>{r&&(t=this._layoutZone(i,r)||t)}};VSe(e,o),o.addZone=kM,o.removeZone=kM,o.layoutZone=kM}),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),r={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:ii(t.domNode),marginDomNode:t.marginDomNode?ii(t.marginDomNode):null};return this._safeCallOnComputedHeight(r.delegate,i.heightInPx),r.domNode.setPosition("absolute"),r.domNode.domNode.style.width="100%",r.domNode.setDisplay("none"),r.domNode.setAttribute("monaco-view-zone",r.whitespaceId),this.domNode.appendChild(r.domNode),r.marginDomNode&&(r.marginDomNode.setPosition("absolute"),r.marginDomNode.domNode.style.width="100%",r.marginDomNode.setDisplay("none"),r.marginDomNode.setAttribute("monaco-view-zone",r.whitespaceId),this.marginDomNode.appendChild(r.marginDomNode)),this._zones[r.whitespaceId]=r,this.setShouldRender(),r.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],o=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=o.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,o.afterViewLineNumber,o.heightInPx),this._safeCallOnComputedHeight(i.delegate,o.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return this._zones.hasOwnProperty(e)?!!this._zones[e].delegate.suppressMouseDown:!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(t)}catch(i){st(i)}}_safeCallOnDomNodeTop(e,t){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(t)}catch(i){st(i)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let o=!1;for(const s of t)this._zones[s.id].isInHiddenArea||(i[s.id]=s,o=!0);const r=Object.keys(this._zones);for(let s=0,a=r.length;s<a;s++){const l=r[s],c=this._zones[l];let d=0,u=0,h="none";i.hasOwnProperty(l)?(d=i[l].verticalOffset-e.bigNumbersDelta,u=i[l].height,h="block",c.isVisible||(c.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(i[l].verticalOffset))):(c.isVisible&&(c.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),c.domNode.setTop(d),c.domNode.setHeight(u),c.domNode.setDisplay(h),c.marginDomNode&&(c.marginDomNode.setTop(d),c.marginDomNode.setHeight(u),c.marginDomNode.setDisplay(h))}o&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function VSe(n,e){try{return n(e)}catch(t){st(t)}}class HSe extends Zm{constructor(e){super(),this._context=e,this._options=new s$(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=new s$(this._context.configuration);return this._options.equals(t)?e.hasChanged(144):(this._options=t,!0)}onCursorStateChanged(e){return this._selection=e.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}prepareRender(e){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const t=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber-t+1,r=new Array(o);for(let a=0;a<o;a++)r[a]=!0;const s=this._context.viewModel.getMinimapLinesRenderingData(e.viewportData.startLineNumber,e.viewportData.endLineNumber,r);this._renderResult=[];for(let a=e.viewportData.startLineNumber;a<=e.viewportData.endLineNumber;a++){const l=a-e.viewportData.startLineNumber,c=s.data[l];let d=null;if(this._options.renderWhitespace==="selection"){const u=this._selection;for(const h of u){if(h.endLineNumber<a||h.startLineNumber>a)continue;const g=h.startLineNumber===a?h.startColumn:c.minColumn,f=h.endLineNumber===a?h.endColumn:c.maxColumn;g<f&&(d||(d=[]),d.push(new WJ(g-1,f-1)))}}this._renderResult[l]=this._applyRenderWhitespace(e,a,d,c)}}_applyRenderWhitespace(e,t,i,o){if(this._options.renderWhitespace==="selection"&&!i||this._options.renderWhitespace==="trailing"&&o.continuesWithWrappedLine)return"";const r=this._context.theme.getColor(Vu),s=this._options.renderWithSVG,a=o.content,l=this._options.stopRenderingLineAfter===-1?a.length:Math.min(this._options.stopRenderingLineAfter,a.length),c=o.continuesWithWrappedLine,d=o.minColumn-1,u=this._options.renderWhitespace==="boundary",h=this._options.renderWhitespace==="trailing",g=this._options.lineHeight,f=this._options.middotWidth,p=this._options.wsmiddotWidth,b=this._options.spaceWidth,v=Math.abs(p-b),_=Math.abs(f-b),C=v<_?11825:183,y=this._options.canUseHalfwidthRightwardsArrow;let w="",S=!1,x=hr(a),L;x===-1?(S=!0,x=l,L=l):L=hc(a);let E=0,O=i&&i[E],P=0;for(let A=d;A<l;A++){const F=a.charCodeAt(A);if(O&&A>=O.endOffset&&(E++,O=i&&i[E]),F!==9&&F!==32||h&&!S&&A<=L)continue;if(u&&A>=x&&A<=L&&F===32){const te=A-1>=0?a.charCodeAt(A-1):0,ye=A+1<l?a.charCodeAt(A+1):0;if(te!==32&&ye!==32)continue}if(u&&c&&A===l-1){const te=A-1>=0?a.charCodeAt(A-1):0;if(F===32&&te!==32&&te!==9)continue}if(i&&(!O||O.startOffset>A||O.endOffset<=A))continue;const K=e.visibleRangeForPosition(new W(t,A+1));K&&(s?(P=Math.max(P,K.left),F===9?w+=this._renderArrow(g,b,K.left):w+=`<circle cx="${(K.left+b/2).toFixed(2)}" cy="${(g/2).toFixed(2)}" r="${(b/7).toFixed(2)}" />`):F===9?w+=`<div class="mwh" style="left:${K.left}px;height:${g}px;">${y?"":""}</div>`:w+=`<div class="mwh" style="left:${K.left}px;height:${g}px;">${String.fromCharCode(C)}</div>`)}return s?(P=Math.round(P+b),`<svg style="position:absolute;width:${P}px;height:${g}px" viewBox="0 0 ${P} ${g}" xmlns="http://www.w3.org/2000/svg" fill="${r}">`+w+"</svg>"):w}_renderArrow(e,t,i){const o=t/7,r=t,s=e/2,a=i,l={x:0,y:o/2},c={x:100/125*r,y:l.y},d={x:c.x-.2*c.x,y:c.y+.2*c.x},u={x:d.x+.1*c.x,y:d.y+.1*c.x},h={x:u.x+.35*c.x,y:u.y-.35*c.x},g={x:h.x,y:-h.y},f={x:u.x,y:-u.y},p={x:d.x,y:-d.y},b={x:c.x,y:-c.y},v={x:l.x,y:-l.y};return`<path d="M ${[l,c,d,u,h,g,f,p,b,v].map(y=>`${(a+y.x).toFixed(2)} ${(s+y.y).toFixed(2)}`).join(" L ")}" />`}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class s${constructor(e){const t=e.options,i=t.get(50),o=t.get(38);o==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):o==="svg"?(this.renderWhitespace=t.get(99),this.renderWithSVG=!0):(this.renderWhitespace=t.get(99),this.renderWithSVG=!1),this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.lineHeight=t.get(67),this.stopRenderingLineAfter=t.get(117)}equals(e){return this.renderWhitespace===e.renderWhitespace&&this.renderWithSVG===e.renderWithSVG&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter}}class zSe{constructor(e,t,i,o){this.selections=e,this.startLineNumber=t.startLineNumber|0,this.endLineNumber=t.endLineNumber|0,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=t.bigNumbersDelta|0,this.whitespaceViewportData=i,this._model=o,this.visibleRange=new D(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class USe{get type(){return this._theme.type}get value(){return this._theme}constructor(e){this._theme=e}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class $Se{constructor(e,t,i){this.configuration=e,this.theme=new USe(t),this.viewModel=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}}var jSe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},KSe=function(n,e){return function(t,i){e(t,i,n)}};let x4=class extends TS{constructor(e,t,i,o,r,s,a){super(),this._instantiationService=a,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new Pe(1,1,1,1)],this._renderAnimationFrame=null;const l=new Jwe(t,o,r,e);this._context=new $Se(t,i,o),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(y4,this._context,l,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=ii(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=ii(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=ii(document.createElement("div")),wc.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new cSe(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new _I(this._context,this._linesContent),this._viewZones=new WSe(this._context),this._viewParts.push(this._viewZones);const c=new ISe(this._context);this._viewParts.push(c);const d=new ASe(this._context);this._viewParts.push(d);const u=new tSe(this._context);this._viewParts.push(u),u.addDynamicOverlay(new sSe(this._context)),u.addDynamicOverlay(new vn(this._context)),u.addDynamicOverlay(new vSe(this._context)),u.addDynamicOverlay(new lSe(this._context)),u.addDynamicOverlay(new HSe(this._context));const h=new iSe(this._context);this._viewParts.push(h),h.addDynamicOverlay(new aSe(this._context)),h.addDynamicOverlay(new wSe(this._context)),h.addDynamicOverlay(new ySe(this._context)),h.addDynamicOverlay(new MS(this._context)),this._glyphMarginWidgets=new hSe(this._context),this._viewParts.push(this._glyphMarginWidgets);const g=new vm(this._context);g.getDomNode().appendChild(this._viewZones.marginDomNode),g.getDomNode().appendChild(h.getDomNode()),g.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(g),this._contentWidgets=new oSe(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new ew(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new ESe(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);const f=new MSe(this._context);this._viewParts.push(f);const p=new nSe(this._context);this._viewParts.push(p);const b=new DSe(this._context);if(this._viewParts.push(b),c){const v=this._scrollbar.getOverviewRulerLayoutInfo();v.parent.insertBefore(c.getDomNode(),v.insertBefore)}this._linesContent.appendChild(u.getDomNode()),this._linesContent.appendChild(f.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(g.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(d.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(b.getDomNode()),this._overflowGuardContainer.appendChild(p.domNode),this.domNode.appendChild(this._overflowGuardContainer),s?(s.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),s.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode)):(this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode)),this._applyLayout(),this._pointerHandler=this._register(new Qye(this._context,l,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){const e=this._context.viewModel.model,t=this._context.viewModel.glyphLanes;let i=[],o=0;i=i.concat(e.getAllMarginDecorations().map(r=>{var s,a,l;const c=(a=(s=r.options.glyphMargin)===null||s===void 0?void 0:s.position)!==null&&a!==void 0?a:Ad.Center;return o=Math.max(o,r.range.endLineNumber),{range:r.range,lane:c,persist:(l=r.options.glyphMargin)===null||l===void 0?void 0:l.persistLane}})),i=i.concat(this._glyphMarginWidgets.getWidgets().map(r=>{const s=e.validateRange(r.preference.range);return o=Math.max(o,s.endLineNumber),{range:s,lane:r.preference.lane}})),i.sort((r,s)=>D.compareRangesUsingStarts(r.range,s.range)),t.reset(o);for(const r of i)t.push(r.lane,r.range,r.persist);return t}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new Eye(e,t)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new W(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const t=this._context.configuration.options.get(144);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this._overflowGuardContainer.setWidth(t.width),this._overflowGuardContainer.setHeight(t.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(141)+" "+C4(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onDecorationsChanged(e){return e.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new Hi;if(this._renderAnimationFrame===null){const e=this._createCoordinatedRendering();this._renderAnimationFrame=k4.INSTANCE.scheduleCoordinatedRendering({window:qe(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new Hi;try{return e.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new Hi;return e.renderText()},prepareRender:(t,i)=>{if(this._store.isDisposed)throw new Hi;return e.prepareRender(t,i)},render:(t,i)=>{if(this._store.isDisposed)throw new Hi;return e.render(t,i)}})}}_flushAccumulatedAndRenderNow(){const e=this._createCoordinatedRendering();gg(()=>e.prepareRenderText());const t=gg(()=>e.renderText());if(t){const[i,o]=t;gg(()=>e.prepareRender(i,o)),gg(()=>e.render(i,o))}}_getViewPartsToRender(){const e=[];let t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;const e=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount(e.requiredLanes)}dg.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return null;const t=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new zSe(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender()),[e,new yye(this._context.viewLayout,i,this._viewLines)]},prepareRender:(e,t)=>{for(const i of e)i.prepareRender(t)},render:(e,t)=>{for(const i of e)i.render(t),i.onDidRender()}}}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this._scrollbar.delegateScrollFromMouseWheelEvent(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(e,t){const i=this._context.viewModel.model.validatePosition({lineNumber:e,column:t}),o=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const r=this._viewLines.visibleRangeForPosition(new W(o.lineNumber,o.column));return r?r.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?vI.convertViewToModelMouseTarget(i,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new RSe(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const i of this._viewParts)i.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(e){this._textAreaHandler.writeScreenReaderContent(e)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var t,i,o,r,s,a,l,c;this._contentWidgets.setWidgetPosition(e.widget,(i=(t=e.position)===null||t===void 0?void 0:t.position)!==null&&i!==void 0?i:null,(r=(o=e.position)===null||o===void 0?void 0:o.secondaryPosition)!==null&&r!==void 0?r:null,(a=(s=e.position)===null||s===void 0?void 0:s.preference)!==null&&a!==void 0?a:null,(c=(l=e.position)===null||l===void 0?void 0:l.positionAffinity)!==null&&c!==void 0?c:null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}addGlyphMarginWidget(e){this._glyphMarginWidgets.addWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(e){const t=e.position;this._glyphMarginWidgets.setWidgetPosition(e.widget,t)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(e){this._glyphMarginWidgets.removeWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};x4=jSe([KSe(6,Ge)],x4);function gg(n){try{return n()}catch(e){return st(e),null}}class k4{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(e){return this._coordinatedRenderings.push(e),this._scheduleRender(e.window),{dispose:()=>{const t=this._coordinatedRenderings.indexOf(e);if(t!==-1&&(this._coordinatedRenderings.splice(t,1),this._coordinatedRenderings.length===0)){for(const[i,o]of this._animationFrameRunners)o.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(e){if(!this._animationFrameRunners.has(e)){const t=()=>{this._animationFrameRunners.delete(e),this._onRenderScheduled()};this._animationFrameRunners.set(e,JD(e,t,100))}}_onRenderScheduled(){const e=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const i of e)gg(()=>i.prepareRenderText());const t=[];for(let i=0,o=e.length;i<o;i++){const r=e[i];t[i]=gg(()=>r.renderText())}for(let i=0,o=e.length;i<o;i++){const r=e[i],s=t[i];if(!s)continue;const[a,l]=s;gg(()=>r.prepareRender(a,l))}for(let i=0,o=e.length;i<o;i++){const r=e[i],s=t[i];if(!s)continue;const[a,l]=s;gg(()=>r.render(a,l))}}}k4.INSTANCE=new k4;class NC{constructor(e,t,i,o,r){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=o,this.wrappedTextIndentLength=r}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const t=e>0?this.breakOffsets[e-1]:0;let o=this.breakOffsets[e]-t;return e>0&&(o+=this.wrappedTextIndentLength),o}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let o=e===0?t:this.breakOffsets[e-1]+t;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&o>this.injectionOffsets[r];r++)o<this.injectionOffsets[r]+this.injectionOptions[r].content.length?o=this.injectionOffsets[r]:o-=this.injectionOptions[r].content.length;return o}translateToOutputPosition(e,t=2){let i=e;if(this.injectionOffsets!==null)for(let o=0;o<this.injectionOffsets.length&&!(e<this.injectionOffsets[o]||t!==1&&e===this.injectionOffsets[o]);o++)i+=this.injectionOptions[o].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let i=0,o=this.breakOffsets.length-1,r=0,s=0;for(;i<=o;){r=i+(o-i)/2|0;const l=this.breakOffsets[r];if(s=r>0?this.breakOffsets[r-1]:0,t===0)if(e<=s)o=r-1;else if(e>l)i=r+1;else break;else if(e<s)o=r-1;else if(e>=l)i=r+1;else break}let a=e-s;return r>0&&(a+=this.wrappedTextIndentLength),new Jx(r,a)}normalizeOutputPosition(e,t,i){if(this.injectionOffsets!==null){const o=this.outputPositionToOffsetInInputWithInjections(e,t),r=this.normalizeOffsetInInputWithInjectionsAroundInjections(o,i);if(r!==o)return this.offsetInInputWithInjectionsToOutputPosition(r,i)}if(i===0){if(e>0&&t===this.getMinOutputOffset(e))return new Jx(e-1,this.getMaxOutputOffset(e-1))}else if(i===1){const o=this.getOutputLineCount()-1;if(e<o&&t===this.getMaxOutputOffset(e))return new Jx(e+1,this.getMinOutputOffset(e+1))}return new Jx(e,t)}outputPositionToOffsetInInputWithInjections(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(t===2){if(e===i.offsetInInputWithInjections+i.length&&a$(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let o=i.offsetInInputWithInjections;if(l$(this.injectionOptions[i.injectedTextIndex].cursorStops))return o;let r=i.injectedTextIndex-1;for(;r>=0&&this.injectionOffsets[r]===this.injectionOffsets[i.injectedTextIndex]&&!(a$(this.injectionOptions[r].cursorStops)||(o-=this.injectionOptions[r].content.length,l$(this.injectionOptions[r].cursorStops)));)r--;return o}}else if(t===1||t===4){let o=i.offsetInInputWithInjections+i.length,r=i.injectedTextIndex;for(;r+1<this.injectionOffsets.length&&this.injectionOffsets[r+1]===this.injectionOffsets[r];)o+=this.injectionOptions[r+1].content.length,r++;return o}else if(t===0||t===3){let o=i.offsetInInputWithInjections,r=i.injectedTextIndex;for(;r-1>=0&&this.injectionOffsets[r-1]===this.injectionOffsets[r];)o-=this.injectionOptions[r-1].content.length,r--;return o}JT()}getInjectedText(e,t){const i=this.outputPositionToOffsetInInputWithInjections(e,t),o=this.getInjectedTextAtOffset(i);return o?{options:this.injectionOptions[o.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(t!==null){let o=0;for(let r=0;r<t.length;r++){const s=i[r].content.length,a=t[r]+o,l=t[r]+o+s;if(a>e)break;if(e<=l)return{injectedTextIndex:r,offsetInInputWithInjections:a,length:s};o+=s}}}}function a$(n){return n==null?!0:n===ul.Right||n===ul.Both}function l$(n){return n==null?!0:n===ul.Left||n===ul.Both}class Jx{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new W(e+this.outputLineIndex,this.outputOffset+1)}}class qSe{constructor(){this.changeType=1}}class Sc{static applyInjectedText(e,t){if(!t||t.length===0)return e;let i="",o=0;for(const r of t)i+=e.substring(o,r.column-1),o=r.column-1,i+=r.options.content;return i+=e.substring(o),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new Sc(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new Sc(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,o)=>i.lineNumber===o.lineNumber?i.column===o.column?i.order-o.order:i.column-o.column:i.lineNumber-o.lineNumber),t}constructor(e,t,i,o,r){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=o,this.order=r}}class c${constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class GSe{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class ZSe{constructor(e,t,i,o){this.changeType=4,this.injectedTexts=o,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class YSe{constructor(){this.changeType=5}}class Kb{constructor(e,t,i,o){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=o,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),o=t.versionId,r=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing;return new Kb(i,o,r,s)}}class Mee{constructor(e){this.changes=e}}class Zp{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=Kb.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=Zp._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new Zp(t,i)}static _mergeChangeEvents(e,t){const i=[].concat(e.changes).concat(t.changes),o=t.eol,r=t.versionId,s=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,l=e.isFlush||t.isFlush,c=e.isEolChange&&t.isEolChange;return{changes:i,eol:o,isEolChange:c,versionId:r,isUndoing:s,isRedoing:a,isFlush:l}}}const LM=yh("domLineBreaksComputer",{createHTML:n=>n});class O6{static create(e){return new O6(new WeakRef(e))}constructor(e){this.targetWindow=e}createLineBreaksComputer(e,t,i,o,r){const s=[],a=[];return{addRequest:(l,c,d)=>{s.push(l),a.push(c)},finalize:()=>XSe(ag(this.targetWindow.deref()),s,e,t,i,o,r,a)}}}function XSe(n,e,t,i,o,r,s,a){var l;function c(O){const P=a[O];if(P){const A=Sc.applyInjectedText(e[O],P),F=P.map(te=>te.options),K=P.map(te=>te.column-1);return new NC(K,F,[A.length],[],0)}else return null}if(o===-1){const O=[];for(let P=0,A=e.length;P<A;P++)O[P]=c(P);return O}const d=Math.round(o*t.typicalHalfwidthCharacterWidth),h=Math.round(i*(r===3?2:r===2?1:0)),g=Math.ceil(t.spaceWidth*h),f=document.createElement("div");zo(f,t);const p=new _0(1e4),b=[],v=[],_=[],C=[],y=[];for(let O=0;O<e.length;O++){const P=Sc.applyInjectedText(e[O],a[O]);let A=0,F=0,K=d;if(r!==0)if(A=hr(P),A===-1)A=0;else{for(let ae=0;ae<A;ae++){const Q=P.charCodeAt(ae)===9?i-F%i:1;F+=Q}const be=Math.ceil(t.spaceWidth*F);be+t.typicalFullwidthCharacterWidth>d?(A=0,F=0):K=d-be}const te=P.substr(A),ye=QSe(te,F,i,K,p,g);b[O]=A,v[O]=F,_[O]=te,C[O]=ye[0],y[O]=ye[1]}const w=p.build(),S=(l=LM==null?void 0:LM.createHTML(w))!==null&&l!==void 0?l:w;f.innerHTML=S,f.style.position="absolute",f.style.top="10000",s==="keepAll"?(f.style.wordBreak="keep-all",f.style.overflowWrap="anywhere"):(f.style.wordBreak="inherit",f.style.overflowWrap="break-word"),n.document.body.appendChild(f);const x=document.createRange(),L=Array.prototype.slice.call(f.children,0),E=[];for(let O=0;O<e.length;O++){const P=L[O],A=JSe(x,P,_[O],C[O]);if(A===null){E[O]=c(O);continue}const F=b[O],K=v[O]+h,te=y[O],ye=[];for(let _e=0,Ie=A.length;_e<Ie;_e++)ye[_e]=te[A[_e]];if(F!==0)for(let _e=0,Ie=A.length;_e<Ie;_e++)A[_e]+=F;let be,ae;const Q=a[O];Q?(be=Q.map(_e=>_e.options),ae=Q.map(_e=>_e.column-1)):(be=null,ae=null),E[O]=new NC(ae,be,A,ye,K)}return n.document.body.removeChild(f),E}function QSe(n,e,t,i,o,r){if(r!==0){const h=String(r);o.appendString('<div style="text-indent: -'),o.appendString(h),o.appendString("px; padding-left: "),o.appendString(h),o.appendString("px; box-sizing: border-box; width:")}else o.appendString('<div style="width:');o.appendString(String(i)),o.appendString('px;">');const s=n.length;let a=e,l=0;const c=[],d=[];let u=0<s?n.charCodeAt(0):0;o.appendString("<span>");for(let h=0;h<s;h++){h!==0&&h%16384===0&&o.appendString("</span><span>"),c[h]=l,d[h]=a;const g=u;u=h+1<s?n.charCodeAt(h+1):0;let f=1,p=1;switch(g){case 9:f=t-a%t,p=f;for(let b=1;b<=f;b++)b<f?o.appendCharCode(160):o.appendASCIICharCode(32);break;case 32:u===32?o.appendCharCode(160):o.appendASCIICharCode(32);break;case 60:o.appendString("&lt;");break;case 62:o.appendString("&gt;");break;case 38:o.appendString("&amp;");break;case 0:o.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:o.appendCharCode(65533);break;default:ef(g)&&p++,g<32?o.appendCharCode(9216+g):o.appendCharCode(g)}l+=f,a+=p}return o.appendString("</span>"),c[n.length]=l,d[n.length]=a,o.appendString("</div>"),[c,d]}function JSe(n,e,t,i){if(t.length<=1)return null;const o=Array.prototype.slice.call(e.children,0),r=[];try{L4(n,o,i,0,null,t.length-1,null,r)}catch(s){return console.log(s),null}return r.length===0?null:(r.push(t.length),r)}function L4(n,e,t,i,o,r,s,a){if(i===r||(o=o||DM(n,e,t[i],t[i+1]),s=s||DM(n,e,t[r],t[r+1]),Math.abs(o[0].top-s[0].top)<=.1))return;if(i+1===r){a.push(r);return}const l=i+(r-i)/2|0,c=DM(n,e,t[l],t[l+1]);L4(n,e,t,i,o,l,c,a),L4(n,e,t,l,c,r,s,a)}function DM(n,e,t,i){return n.setStart(e[t/16384|0].firstChild,t%16384),n.setEnd(e[i/16384|0].firstChild,i%16384),n.getClientRects()}class exe extends z{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new F8),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(e,t,i){this._editor=e,this._instantiationService=i;for(const o of t){if(this._pending.has(o.id)){st(new Error(`Cannot have two contributions with the same id ${o.id}`));continue}this._pending.set(o.id,o)}this._instantiateSome(0),this._register(F1(qe(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register(F1(qe(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register(F1(qe(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const e={};for(const[t,i]of this._instances)typeof i.saveViewState=="function"&&(e[t]=i.saveViewState());return e}restoreViewState(e){for(const[t,i]of this._instances)typeof i.restoreViewState=="function"&&i.restoreViewState(e[t])}get(e){return this._instantiateById(e),this._instances.get(e)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var e;return F1(qe((e=this._editor)===null||e===void 0?void 0:e.getDomNode()),()=>{this._instantiateSome(1)},50)}_instantiateSome(e){if(this._finishedInstantiation[e])return;this._finishedInstantiation[e]=!0;const t=this._findPendingContributionsByInstantiation(e);for(const i of t)this._instantiateById(i.id)}_findPendingContributionsByInstantiation(e){const t=[];for(const[,i]of this._pending)i.instantiation===e&&t.push(i);return t}_instantiateById(e){const t=this._pending.get(e);if(t){if(this._pending.delete(e),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const i=this._instantiationService.createInstance(t.ctor,this._editor);this._instances.set(t.id,i),typeof i.restoreViewState=="function"&&t.instantiation!==0&&console.warn(`Editor contribution '${t.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(i){st(i)}}}}class Aee{constructor(e,t,i,o,r,s,a){this.id=e,this.label=t,this.alias=i,this.metadata=o,this._precondition=r,this._run=s,this._contextKeyService=a}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(e){return this.isSupported()?this._run(e):Promise.resolve(void 0)}}function lf(n){let e=0,t=0,i=0,o=0;for(let r=0,s=n.length;r<s;r++){const a=n.charCodeAt(r);a===13?(e===0&&(t=r),e++,r+1<s&&n.charCodeAt(r+1)===10?(o|=2,r++):o|=3,i=r+1):a===10&&(o|=1,e===0&&(t=r),e++,i=r+1)}return e===0&&(t=n.length),[e,t,n.length-i,o]}class d${constructor(e,t,i,o){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=i,this.isInvalid=o}}class txe{constructor(e,t,i,o,r,s){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=o,this.nestingLevelOfEqualBracketType=r,this.bracketPairNode=s}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class ixe extends txe{constructor(e,t,i,o,r,s,a){super(e,t,i,o,r,s),this.minVisibleColumnIndentation=a}}class tw{constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return`${this.lineCount},${this.columnCount}`}}tw.zero=new tw(0,0);function nxe(n,e,t,i){return n!==t?Tn(t-n,i):Tn(0,i-e)}const Mr=0;function C2(n){return n===0}const Js=2**26;function Tn(n,e){return n*Js+e}function Ma(n){const e=n,t=Math.floor(e/Js),i=e-t*Js;return new tw(t,i)}function oxe(n){return Math.floor(n/Js)}function an(n,e){let t=n+e;return e>=Js&&(t=t-n%Js),t}function rxe(n,e){return n.reduce((t,i)=>an(t,e(i)),Mr)}function Pee(n,e){return n===e}function iw(n,e){const t=n,i=e;if(i-t<=0)return Mr;const r=Math.floor(t/Js),s=Math.floor(i/Js),a=i-s*Js;if(r===s){const l=t-r*Js;return Tn(0,a-l)}else return Tn(s-r,a)}function qb(n,e){return n<e}function Gb(n,e){return n<=e}function G1(n,e){return n>=e}function bb(n){return Tn(n.lineNumber-1,n.column-1)}function Yp(n,e){const t=n,i=Math.floor(t/Js),o=t-i*Js,r=e,s=Math.floor(r/Js),a=r-s*Js;return new D(i+1,o+1,s+1,a+1)}function sxe(n){const e=qd(n);return Tn(e.length-1,e[e.length-1].length)}class Hu{static fromModelContentChanges(e){return e.map(i=>{const o=D.lift(i.range);return new Hu(bb(o.getStartPosition()),bb(o.getEndPosition()),sxe(i.text))}).reverse()}constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}toString(){return`[${Ma(this.startOffset)}...${Ma(this.endOffset)}) -> ${Ma(this.newLength)}`}}class axe{constructor(e){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(t=>F6.from(t))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):null;return i===null?null:iw(e,i)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?Tn(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):Tn(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=Ma(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?Tn(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):Tn(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(Gb(i,e)){this.nextEditIdx++;const o=Ma(i),r=Ma(this.translateOldToCur(t.endOffsetBeforeObj)),s=o.lineCount-r.lineCount;this.deltaOldToNewLineCount+=s;const a=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,l=o.columnCount-r.columnCount;this.deltaOldToNewColumnCount=a+l,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}}class F6{static from(e){return new F6(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,i){this.endOffsetBeforeObj=Ma(t),this.endOffsetAfterObj=Ma(an(e,i)),this.offsetObj=Ma(e)}}const AL=[];class Un{static create(e,t){if(e<=128&&t.length===0){let i=Un.cache[e];return i||(i=new Un(e,t),Un.cache[e]=i),i}return new Un(e,t)}static getEmpty(){return this.empty}constructor(e,t){this.items=e,this.additionalItems=t}add(e,t){const i=t.getKey(e);let o=i>>5;if(o===0){const s=1<<i|this.items;return s===this.items?this:Un.create(s,this.additionalItems)}o--;const r=this.additionalItems.slice(0);for(;r.length<o;)r.push(0);return r[o]|=1<<(i&31),Un.create(this.items,r)}merge(e){const t=this.items|e.items;if(this.additionalItems===AL&&e.additionalItems===AL)return t===this.items?this:t===e.items?e:Un.create(t,AL);const i=[];for(let o=0;o<Math.max(this.additionalItems.length,e.additionalItems.length);o++){const r=this.additionalItems[o]||0,s=e.additionalItems[o]||0;i.push(r|s)}return Un.create(t,i)}intersects(e){if(this.items&e.items)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(this.additionalItems[t]&e.additionalItems[t])return!0;return!1}}Un.cache=new Array(129);Un.empty=Un.create(0,AL);const u$={getKey(n){return n}};class Oee{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}}class B6{get length(){return this._length}constructor(e){this._length=e}}class nw extends B6{static create(e,t,i){let o=e.length;return t&&(o=an(o,t.length)),i&&(o=an(o,i.length)),new nw(o,e,t,i,t?t.missingOpeningBracketIds:Un.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}constructor(e,t,i,o,r){super(e),this.openingBracket=t,this.child=i,this.closingBracket=o,this.missingOpeningBracketIds=r}canBeReused(e){return!(this.closingBracket===null||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new nw(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(an(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class Od extends B6{static create23(e,t,i,o=!1){let r=e.length,s=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(r=an(r,t.length),s=s.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");r=an(r,i.length),s=s.merge(i.missingOpeningBracketIds)}return o?new lxe(r,e.listHeight+1,e,t,i,s):new ow(r,e.listHeight+1,e,t,i,s)}static getEmpty(){return new cxe(Mr,0,[],Un.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(e===0)return;const t=this.getChild(e-1),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const t=this.getChild(0),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(0,i),i}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let t=this;for(;t.kind===4;){const i=t.childrenLength;if(i===0)throw new Hi;t=t.getChild(i-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let o=1;o<e;o++){const r=this.getChild(o);t=an(t,r.length),i=i.merge(r.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,o=e;for(let r=0;r<this.childrenLength;r++){const s=this.getChild(r);s&&(i=Math.min(i,s.computeMinIndentation(o,t)),o=an(o,s.length))}return this.cachedMinIndentation=i,i}}class ow extends Od{get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,i,o,r,s){super(e,t,s),this._item1=i,this._item2=o,this._item3=r}deepClone(){return new ow(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class lxe extends ow{toMutable(){return new ow(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class y2 extends Od{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,i,o){super(e,t,o),this._children=i}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new y2(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class cxe extends y2{toMutable(){return new y2(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const dxe=[];class W6 extends B6{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return dxe}deepClone(){return this}}class Cp extends W6{get kind(){return 0}get missingOpeningBracketIds(){return Un.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=Ma(e),o=(i.columnCount===0?i.lineCount:i.lineCount+1)+1,r=oxe(an(e,this.length))+1;let s=Number.MAX_SAFE_INTEGER;for(let a=o;a<=r;a++){const l=t.getLineFirstNonWhitespaceColumn(a),c=t.getLineContent(a);if(l===0)continue;const d=Zn.visibleColumnFromColumn(c,l,t.getOptions().tabSize);s=Math.min(s,d)}return s}}class w2 extends W6{static create(e,t,i){return new w2(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return Un.getEmpty()}constructor(e,t,i){super(e),this.bracketInfo=t,this.bracketIds=i}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class uxe extends W6{get kind(){return 3}constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}let ig=class{constructor(e,t,i,o,r){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=o,this.astNode=r}};class Fee{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new hxe(this.textModel,this.bracketTokens),this._offset=Mr,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return Tn(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=an(this._offset,e);const t=Ma(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=an(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class hxe{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const r=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=r.length,r}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const r=this.lineTokens,s=r.getCount();let a=null;if(this.lineTokenOffset<s){const l=r.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<s&&l===r.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const c=Bo.getTokenType(l)===0,d=Bo.containsBalancedBrackets(l),u=r.getEndOffset(this.lineTokenOffset);if(d&&c&&this.lineCharOffset<u){const h=r.getLanguageId(this.lineTokenOffset),g=this.line.substring(this.lineCharOffset,u),f=this.bracketTokens.getSingleLanguageBracketTokens(h),p=f.regExpGlobal;if(p){p.lastIndex=0;const b=p.exec(g);b&&(a=f.getToken(b[0]),a&&(this.lineCharOffset+=b.index))}}if(i+=u-this.lineCharOffset,a)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=a.length,a;else this.lineTokenOffset++,this.lineCharOffset=u}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}const o=nxe(e,t,this.lineIdx,this.lineCharOffset);return new ig(o,0,-1,Un.getEmpty(),new Cp(o))}}class gxe{constructor(e,t){this.text=e,this._offset=Mr,this.idx=0;const i=t.getRegExpStr(),o=i?new RegExp(i+`|
`,"gi"):null,r=[];let s,a=0,l=0,c=0,d=0;const u=[];for(let f=0;f<60;f++)u.push(new ig(Tn(0,f),0,-1,Un.getEmpty(),new Cp(Tn(0,f))));const h=[];for(let f=0;f<60;f++)h.push(new ig(Tn(1,f),0,-1,Un.getEmpty(),new Cp(Tn(1,f))));if(o)for(o.lastIndex=0;(s=o.exec(e))!==null;){const f=s.index,p=s[0];if(p===`
`)a++,l=f+1;else{if(c!==f){let b;if(d===a){const v=f-c;if(v<u.length)b=u[v];else{const _=Tn(0,v);b=new ig(_,0,-1,Un.getEmpty(),new Cp(_))}}else{const v=a-d,_=f-l;if(v===1&&_<h.length)b=h[_];else{const C=Tn(v,_);b=new ig(C,0,-1,Un.getEmpty(),new Cp(C))}}r.push(b)}r.push(t.getToken(p)),c=f+p.length,d=a}}const g=e.length;if(c!==g){const f=d===a?Tn(0,g-c):Tn(a-d,g-l);r.push(new ig(f,0,-1,Un.getEmpty(),new Cp(f)))}this.length=Tn(a,g-l),this.tokens=r}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new rme}}class V6{static createFromLanguage(e,t){function i(r){return t.getKey(`${r.languageId}:::${r.bracketText}`)}const o=new Map;for(const r of e.bracketsNew.openingBrackets){const s=Tn(0,r.bracketText.length),a=i(r),l=Un.getEmpty().add(a,u$);o.set(r.bracketText,new ig(s,1,a,l,w2.create(s,r,l)))}for(const r of e.bracketsNew.closingBrackets){const s=Tn(0,r.bracketText.length);let a=Un.getEmpty();const l=r.getOpeningBrackets();for(const c of l)a=a.add(i(c),u$);o.set(r.bracketText,new ig(s,2,i(l[0]),a,w2.create(s,r,a)))}return new V6(o)}constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>fxe(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(e))return t}get isEmpty(){return this.map.size===0}}function fxe(n){let e=ra(n);return/^[\w ]+/.test(n)&&(e=`\\b${e}`),/[\w ]+$/.test(n)&&(e=`${e}\\b`),e}class Bee{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=V6.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function pxe(n){if(n.length===0)return null;if(n.length===1)return n[0];let e=0;function t(){if(e>=n.length)return null;const s=e,a=n[s].listHeight;for(e++;e<n.length&&n[e].listHeight===a;)e++;return e-s>=2?Wee(s===0&&e===n.length?n:n.slice(s,e),!1):n[s]}let i=t(),o=t();if(!o)return i;for(let s=t();s;s=t())h$(i,o)<=h$(o,s)?(i=EM(i,o),o=s):o=EM(o,s);return EM(i,o)}function Wee(n,e=!1){if(n.length===0)return null;if(n.length===1)return n[0];let t=n.length;for(;t>3;){const i=t>>1;for(let o=0;o<i;o++){const r=o<<1;n[o]=Od.create23(n[r],n[r+1],r+3===t?n[r+2]:null,e)}t=i}return Od.create23(n[0],n[1],t>=3?n[2]:null,e)}function h$(n,e){return Math.abs(n.listHeight-e.listHeight)}function EM(n,e){return n.listHeight===e.listHeight?Od.create23(n,e,null,!1):n.listHeight>e.listHeight?mxe(n,e):vxe(e,n)}function mxe(n,e){n=n.toMutable();let t=n;const i=[];let o;for(;;){if(e.listHeight===t.listHeight){o=e;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let r=i.length-1;r>=0;r--){const s=i[r];o?s.childrenLength>=3?o=Od.create23(s.unappendChild(),o,null,!1):(s.appendChildOfSameHeight(o),o=void 0):s.handleChildrenChanged()}return o?Od.create23(n,o,null,!1):n}function vxe(n,e){n=n.toMutable();let t=n;const i=[];for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let o=e;for(let r=i.length-1;r>=0;r--){const s=i[r];o?s.childrenLength>=3?o=Od.create23(o,s.unprependChild(),null,!1):(s.prependChildOfSameHeight(o),o=void 0):s.handleChildrenChanged()}return o?Od.create23(o,n,null,!1):n}class bxe{constructor(e){this.lastOffset=Mr,this.nextNodes=[e],this.offsets=[Mr],this.idxs=[]}readLongestNodeAt(e,t){if(qb(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=h1(this.nextNodes);if(!i)return;const o=h1(this.offsets);if(qb(e,o))return;if(qb(o,e))if(an(o,i.length)<=e)this.nextNodeAfterCurrent();else{const r=TM(i);r!==-1?(this.nextNodes.push(i.getChild(r)),this.offsets.push(o),this.idxs.push(r)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const r=TM(i);if(r===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(i.getChild(r)),this.offsets.push(o),this.idxs.push(r)}}}}nextNodeAfterCurrent(){for(;;){const e=h1(this.offsets),t=h1(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const i=h1(this.nextNodes),o=TM(i,this.idxs[this.idxs.length-1]);if(o!==-1){this.nextNodes.push(i.getChild(o)),this.offsets.push(an(e,t.length)),this.idxs[this.idxs.length-1]=o;break}else this.idxs.pop()}}}function TM(n,e=-1){for(;;){if(e++,e>=n.childrenLength)return-1;if(n.getChild(e))return e}}function h1(n){return n.length>0?n[n.length-1]:void 0}function D4(n,e,t,i){return new _xe(n,e,t,i).parseDocument()}class _xe{constructor(e,t,i,o){if(this.tokenizer=e,this.createImmutableLists=o,this._itemsConstructed=0,this._itemsFromCache=0,i&&o)throw new Error("Not supported");this.oldNodeReader=i?new bxe(i):void 0,this.positionMapper=new axe(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(Un.getEmpty(),0);return e||(e=Od.getEmpty()),e}parseList(e,t){const i=[];for(;;){let r=this.tryReadChildFromCache(e);if(!r){const s=this.tokenizer.peek();if(!s||s.kind===2&&s.bracketIds.intersects(e))break;r=this.parseChild(e,t+1)}r.kind===4&&r.childrenLength===0||i.push(r)}return this.oldNodeReader?pxe(i):Wee(i,this.createImmutableLists)}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(t===null||!C2(t)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),o=>t!==null&&!qb(o.length,t)?!1:o.canBeReused(e));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(e,t){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new uxe(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(t>300)return new Cp(i.length);const o=e.merge(i.bracketIds),r=this.parseList(o,t+1),s=this.tokenizer.peek();return s&&s.kind===2&&(s.bracketId===i.bracketId||s.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),nw.create(i.astNode,r,s.astNode)):nw.create(i.astNode,r,null)}default:throw new Error("unexpected")}}}function S2(n,e){if(n.length===0)return e;if(e.length===0)return n;const t=new dh(g$(n)),i=g$(e);i.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let o=t.dequeue();function r(c){if(c===void 0){const u=t.takeWhile(h=>!0)||[];return o&&u.unshift(o),u}const d=[];for(;o&&!C2(c);){const[u,h]=o.splitAt(c);d.push(u),c=iw(u.lengthAfter,c),o=h??t.dequeue()}return C2(c)||d.push(new fg(!1,c,c)),d}const s=[];function a(c,d,u){if(s.length>0&&Pee(s[s.length-1].endOffset,c)){const h=s[s.length-1];s[s.length-1]=new Hu(h.startOffset,d,an(h.newLength,u))}else s.push({startOffset:c,endOffset:d,newLength:u})}let l=Mr;for(const c of i){const d=r(c.lengthBefore);if(c.modified){const u=rxe(d,g=>g.lengthBefore),h=an(l,u);a(l,h,c.lengthAfter),l=h}else for(const u of d){const h=l;l=an(l,u.lengthBefore),u.modified&&a(h,l,u.lengthAfter)}}return s}class fg{constructor(e,t,i){this.modified=e,this.lengthBefore=t,this.lengthAfter=i}splitAt(e){const t=iw(e,this.lengthAfter);return Pee(t,Mr)?[this,void 0]:this.modified?[new fg(this.modified,this.lengthBefore,e),new fg(this.modified,Mr,t)]:[new fg(this.modified,e,e),new fg(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${Ma(this.lengthBefore)} -> ${Ma(this.lengthAfter)}`}}function g$(n){const e=[];let t=Mr;for(const i of n){const o=iw(t,i.startOffset);C2(o)||e.push(new fg(!1,o,o));const r=iw(i.startOffset,i.endOffset);e.push(new fg(!0,r,i.newLength)),t=i.endOffset}return e}class Cxe extends z{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new B,this.denseKeyProvider=new Oee,this.brackets=new Bee(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],e.tokenization.hasTokens)e.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),o=new gxe(this.textModel.getValue(),i);this.initialAstWithoutTokens=D4(o,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const e=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map(i=>new Hu(Tn(i.fromLineNumber-1,0),Tn(i.toLineNumber,0),Tn(i.toLineNumber-i.fromLineNumber+1,0)));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=Hu.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}handleEdits(e,t){const i=S2(this.queuedTextEdits,e);this.queuedTextEdits=i,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=S2(this.queuedTextEditsForInitialAstWithoutTokens,e))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(e,t,i){const o=t,r=new Fee(this.textModel,this.brackets);return D4(r,e,o,i)}getBracketsInRange(e,t){this.flushQueue();const i=Tn(e.startLineNumber-1,e.startColumn-1),o=Tn(e.endLineNumber-1,e.endColumn-1);return new Sd(r=>{const s=this.initialAstWithoutTokens||this.astWithTokens;E4(s,Mr,s.length,i,o,r,0,0,new Map,t)})}getBracketPairsInRange(e,t){this.flushQueue();const i=bb(e.getStartPosition()),o=bb(e.getEndPosition());return new Sd(r=>{const s=this.initialAstWithoutTokens||this.astWithTokens,a=new yxe(r,t,this.textModel);T4(s,Mr,s.length,i,o,a,0,new Map)})}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return Hee(t,Mr,t.length,bb(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return Vee(t,Mr,t.length,bb(e))}}function Vee(n,e,t,i){if(n.kind===4||n.kind===2){const o=[];for(const r of n.children)t=an(e,r.length),o.push({nodeOffsetStart:e,nodeOffsetEnd:t}),e=t;for(let r=o.length-1;r>=0;r--){const{nodeOffsetStart:s,nodeOffsetEnd:a}=o[r];if(qb(s,i)){const l=Vee(n.children[r],s,a,i);if(l)return l}}return null}else{if(n.kind===3)return null;if(n.kind===1){const o=Yp(e,t);return{bracketInfo:n.bracketInfo,range:o}}}return null}function Hee(n,e,t,i){if(n.kind===4||n.kind===2){for(const o of n.children){if(t=an(e,o.length),qb(i,t)){const r=Hee(o,e,t,i);if(r)return r}e=t}return null}else{if(n.kind===3)return null;if(n.kind===1){const o=Yp(e,t);return{bracketInfo:n.bracketInfo,range:o}}}return null}function E4(n,e,t,i,o,r,s,a,l,c,d=!1){if(s>200)return!0;e:for(;;)switch(n.kind){case 4:{const u=n.childrenLength;for(let h=0;h<u;h++){const g=n.getChild(h);if(g){if(t=an(e,g.length),Gb(e,o)&&G1(t,i)){if(G1(t,o)){n=g;continue e}if(!E4(g,e,t,i,o,r,s,0,l,c))return!1}e=t}}return!0}case 2:{const u=!c||!n.closingBracket||n.closingBracket.bracketInfo.closesColorized(n.openingBracket.bracketInfo);let h=0;if(l){let f=l.get(n.openingBracket.text);f===void 0&&(f=0),h=f,u&&(f++,l.set(n.openingBracket.text,f))}const g=n.childrenLength;for(let f=0;f<g;f++){const p=n.getChild(f);if(p){if(t=an(e,p.length),Gb(e,o)&&G1(t,i)){if(G1(t,o)&&p.kind!==1){n=p,u?(s++,a=h+1):a=h;continue e}if((u||p.kind!==1||!n.closingBracket)&&!E4(p,e,t,i,o,r,u?s+1:s,u?h+1:h,l,c,!n.closingBracket))return!1}e=t}}return l==null||l.set(n.openingBracket.text,h),!0}case 3:{const u=Yp(e,t);return r(new d$(u,s-1,0,!0))}case 1:{const u=Yp(e,t);return r(new d$(u,s-1,a-1,d))}case 0:return!0}}class yxe{constructor(e,t,i){this.push=e,this.includeMinIndentation=t,this.textModel=i}}function T4(n,e,t,i,o,r,s,a){var l;if(s>200)return!0;let c=!0;if(n.kind===2){let d=0;if(a){let g=a.get(n.openingBracket.text);g===void 0&&(g=0),d=g,g++,a.set(n.openingBracket.text,g)}const u=an(e,n.openingBracket.length);let h=-1;if(r.includeMinIndentation&&(h=n.computeMinIndentation(e,r.textModel)),c=r.push(new ixe(Yp(e,t),Yp(e,u),n.closingBracket?Yp(an(u,((l=n.child)===null||l===void 0?void 0:l.length)||Mr),t):void 0,s,d,n,h)),e=u,c&&n.child){const g=n.child;if(t=an(e,g.length),Gb(e,o)&&G1(t,i)&&(c=T4(g,e,t,i,o,r,s+1,a),!c))return!1}a==null||a.set(n.openingBracket.text,d)}else{let d=e;for(const u of n.children){const h=d;if(d=an(d,u.length),Gb(h,o)&&Gb(i,d)&&(c=T4(u,h,d,i,o,r,s,a),!c))return!1}}return c}class wxe extends z{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new bo),this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(i=>{var o;(!i.languageId||!((o=this.bracketPairsTree.value)===null||o===void 0)&&o.object.didLanguageChange(i.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;(e=this.bracketPairsTree.value)===null||e===void 0||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const e=new oe;this.bracketPairsTree.value=Sxe(e.add(new Cxe(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!1))||Sd.empty}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!0))||Sd.empty}getBracketsInRange(e,t=!1){var i;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((i=this.bracketPairsTree.value)===null||i===void 0?void 0:i.object.getBracketsInRange(e,t))||Sd.empty}findMatchingBracketUp(e,t,i){const o=this.textModel.validatePosition(t),r=this.textModel.getLanguageIdAtPosition(o.lineNumber,o.column);if(this.canBuildAST){const s=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew.getClosingBracketInfo(e);if(!s)return null;const a=this.getBracketPairsInRange(D.fromPositions(t,t)).findLast(l=>s.closes(l.openingBracketInfo));return a?a.openingBracketRange:null}else{const s=e.toLowerCase(),a=this.languageConfigurationService.getLanguageConfiguration(r).brackets;if(!a)return null;const l=a.textIsBracket[s];return l?ek(this._findMatchingBracketUp(l,o,IM(i))):null}}matchBracket(e,t){if(this.canBuildAST){const i=this.getBracketPairsInRange(D.fromPositions(e,e)).filter(o=>o.closingBracketRange!==void 0&&(o.openingBracketRange.containsPosition(e)||o.closingBracketRange.containsPosition(e))).findLastMaxBy(Na(o=>o.openingBracketRange.containsPosition(e)?o.openingBracketRange:o.closingBracketRange,D.compareRangesUsingStarts));return i?[i.openingBracketRange,i.closingBracketRange]:null}else{const i=IM(t);return this._matchBracket(this.textModel.validatePosition(e),i)}}_establishBracketSearchOffsets(e,t,i,o){const r=t.getCount(),s=t.getLanguageId(o);let a=Math.max(0,e.column-1-i.maxBracketLength);for(let c=o-1;c>=0;c--){const d=t.getEndOffset(c);if(d<=a)break;if(Kc(t.getStandardTokenType(c))||t.getLanguageId(c)!==s){a=d;break}}let l=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let c=o+1;c<r;c++){const d=t.getStartOffset(c);if(d>=l)break;if(Kc(t.getStandardTokenType(c))||t.getLanguageId(c)!==s){l=d;break}}return{searchStartOffset:a,searchEndOffset:l}}_matchBracket(e,t){const i=e.lineNumber,o=this.textModel.tokenization.getLineTokens(i),r=this.textModel.getLineContent(i),s=o.findTokenIndexAtOffset(e.column-1);if(s<0)return null;const a=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId(s)).brackets;if(a&&!Kc(o.getStandardTokenType(s))){let{searchStartOffset:l,searchEndOffset:c}=this._establishBracketSearchOffsets(e,o,a,s),d=null;for(;;){const u=Xa.findNextBracketInRange(a.forwardRegex,i,r,l,c);if(!u)break;if(u.startColumn<=e.column&&e.column<=u.endColumn){const h=r.substring(u.startColumn-1,u.endColumn-1).toLowerCase(),g=this._matchFoundBracket(u,a.textIsBracket[h],a.textIsOpenBracket[h],t);if(g){if(g instanceof fu)return null;d=g}}l=u.endColumn-1}if(d)return d}if(s>0&&o.getStartOffset(s)===e.column-1){const l=s-1,c=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId(l)).brackets;if(c&&!Kc(o.getStandardTokenType(l))){const{searchStartOffset:d,searchEndOffset:u}=this._establishBracketSearchOffsets(e,o,c,l),h=Xa.findPrevBracketInRange(c.reversedRegex,i,r,d,u);if(h&&h.startColumn<=e.column&&e.column<=h.endColumn){const g=r.substring(h.startColumn-1,h.endColumn-1).toLowerCase(),f=this._matchFoundBracket(h,c.textIsBracket[g],c.textIsOpenBracket[g],t);if(f)return f instanceof fu?null:f}}}return null}_matchFoundBracket(e,t,i,o){if(!t)return null;const r=i?this._findMatchingBracketDown(t,e.getEndPosition(),o):this._findMatchingBracketUp(t,e.getStartPosition(),o);return r?r instanceof fu?r:[e,r]:null}_findMatchingBracketUp(e,t,i){const o=e.languageId,r=e.reversedRegex;let s=-1,a=0;const l=(c,d,u,h)=>{for(;;){if(i&&++a%100===0&&!i())return fu.INSTANCE;const g=Xa.findPrevBracketInRange(r,c,d,u,h);if(!g)break;const f=d.substring(g.startColumn-1,g.endColumn-1).toLowerCase();if(e.isOpen(f)?s++:e.isClose(f)&&s--,s===0)return g;h=g.startColumn-1}return null};for(let c=t.lineNumber;c>=1;c--){const d=this.textModel.tokenization.getLineTokens(c),u=d.getCount(),h=this.textModel.getLineContent(c);let g=u-1,f=h.length,p=h.length;c===t.lineNumber&&(g=d.findTokenIndexAtOffset(t.column-1),f=t.column-1,p=t.column-1);let b=!0;for(;g>=0;g--){const v=d.getLanguageId(g)===o&&!Kc(d.getStandardTokenType(g));if(v)b?f=d.getStartOffset(g):(f=d.getStartOffset(g),p=d.getEndOffset(g));else if(b&&f!==p){const _=l(c,h,f,p);if(_)return _}b=v}if(b&&f!==p){const v=l(c,h,f,p);if(v)return v}}return null}_findMatchingBracketDown(e,t,i){const o=e.languageId,r=e.forwardRegex;let s=1,a=0;const l=(d,u,h,g)=>{for(;;){if(i&&++a%100===0&&!i())return fu.INSTANCE;const f=Xa.findNextBracketInRange(r,d,u,h,g);if(!f)break;const p=u.substring(f.startColumn-1,f.endColumn-1).toLowerCase();if(e.isOpen(p)?s++:e.isClose(p)&&s--,s===0)return f;h=f.endColumn-1}return null},c=this.textModel.getLineCount();for(let d=t.lineNumber;d<=c;d++){const u=this.textModel.tokenization.getLineTokens(d),h=u.getCount(),g=this.textModel.getLineContent(d);let f=0,p=0,b=0;d===t.lineNumber&&(f=u.findTokenIndexAtOffset(t.column-1),p=t.column-1,b=t.column-1);let v=!0;for(;f<h;f++){const _=u.getLanguageId(f)===o&&!Kc(u.getStandardTokenType(f));if(_)v||(p=u.getStartOffset(f)),b=u.getEndOffset(f);else if(v&&p!==b){const C=l(d,g,p,b);if(C)return C}v=_}if(v&&p!==b){const _=l(d,g,p,b);if(_)return _}}return null}findPrevBracket(e){var t;const i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getFirstBracketBefore(i))||null;let o=null,r=null,s=null;for(let a=i.lineNumber;a>=1;a--){const l=this.textModel.tokenization.getLineTokens(a),c=l.getCount(),d=this.textModel.getLineContent(a);let u=c-1,h=d.length,g=d.length;if(a===i.lineNumber){u=l.findTokenIndexAtOffset(i.column-1),h=i.column-1,g=i.column-1;const p=l.getLanguageId(u);o!==p&&(o=p,r=this.languageConfigurationService.getLanguageConfiguration(o).brackets,s=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew)}let f=!0;for(;u>=0;u--){const p=l.getLanguageId(u);if(o!==p){if(r&&s&&f&&h!==g){const v=Xa.findPrevBracketInRange(r.reversedRegex,a,d,h,g);if(v)return this._toFoundBracket(s,v);f=!1}o=p,r=this.languageConfigurationService.getLanguageConfiguration(o).brackets,s=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew}const b=!!r&&!Kc(l.getStandardTokenType(u));if(b)f?h=l.getStartOffset(u):(h=l.getStartOffset(u),g=l.getEndOffset(u));else if(s&&r&&f&&h!==g){const v=Xa.findPrevBracketInRange(r.reversedRegex,a,d,h,g);if(v)return this._toFoundBracket(s,v)}f=b}if(s&&r&&f&&h!==g){const p=Xa.findPrevBracketInRange(r.reversedRegex,a,d,h,g);if(p)return this._toFoundBracket(s,p)}}return null}findNextBracket(e){var t;const i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getFirstBracketAfter(i))||null;const o=this.textModel.getLineCount();let r=null,s=null,a=null;for(let l=i.lineNumber;l<=o;l++){const c=this.textModel.tokenization.getLineTokens(l),d=c.getCount(),u=this.textModel.getLineContent(l);let h=0,g=0,f=0;if(l===i.lineNumber){h=c.findTokenIndexAtOffset(i.column-1),g=i.column-1,f=i.column-1;const b=c.getLanguageId(h);r!==b&&(r=b,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets,a=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let p=!0;for(;h<d;h++){const b=c.getLanguageId(h);if(r!==b){if(a&&s&&p&&g!==f){const _=Xa.findNextBracketInRange(s.forwardRegex,l,u,g,f);if(_)return this._toFoundBracket(a,_);p=!1}r=b,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets,a=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const v=!!s&&!Kc(c.getStandardTokenType(h));if(v)p||(g=c.getStartOffset(h)),f=c.getEndOffset(h);else if(a&&s&&p&&g!==f){const _=Xa.findNextBracketInRange(s.forwardRegex,l,u,g,f);if(_)return this._toFoundBracket(a,_)}p=v}if(a&&s&&p&&g!==f){const b=Xa.findNextBracketInRange(s.forwardRegex,l,u,g,f);if(b)return this._toFoundBracket(a,b)}}return null}findEnclosingBrackets(e,t){const i=this.textModel.validatePosition(e);if(this.canBuildAST){const g=D.fromPositions(i),f=this.getBracketPairsInRange(D.fromPositions(i,i)).findLast(p=>p.closingBracketRange!==void 0&&p.range.strictContainsRange(g));return f?[f.openingBracketRange,f.closingBracketRange]:null}const o=IM(t),r=this.textModel.getLineCount(),s=new Map;let a=[];const l=(g,f)=>{if(!s.has(g)){const p=[];for(let b=0,v=f?f.brackets.length:0;b<v;b++)p[b]=0;s.set(g,p)}a=s.get(g)};let c=0;const d=(g,f,p,b,v)=>{for(;;){if(o&&++c%100===0&&!o())return fu.INSTANCE;const _=Xa.findNextBracketInRange(g.forwardRegex,f,p,b,v);if(!_)break;const C=p.substring(_.startColumn-1,_.endColumn-1).toLowerCase(),y=g.textIsBracket[C];if(y&&(y.isOpen(C)?a[y.index]++:y.isClose(C)&&a[y.index]--,a[y.index]===-1))return this._matchFoundBracket(_,y,!1,o);b=_.endColumn-1}return null};let u=null,h=null;for(let g=i.lineNumber;g<=r;g++){const f=this.textModel.tokenization.getLineTokens(g),p=f.getCount(),b=this.textModel.getLineContent(g);let v=0,_=0,C=0;if(g===i.lineNumber){v=f.findTokenIndexAtOffset(i.column-1),_=i.column-1,C=i.column-1;const w=f.getLanguageId(v);u!==w&&(u=w,h=this.languageConfigurationService.getLanguageConfiguration(u).brackets,l(u,h))}let y=!0;for(;v<p;v++){const w=f.getLanguageId(v);if(u!==w){if(h&&y&&_!==C){const x=d(h,g,b,_,C);if(x)return ek(x);y=!1}u=w,h=this.languageConfigurationService.getLanguageConfiguration(u).brackets,l(u,h)}const S=!!h&&!Kc(f.getStandardTokenType(v));if(S)y||(_=f.getStartOffset(v)),C=f.getEndOffset(v);else if(h&&y&&_!==C){const x=d(h,g,b,_,C);if(x)return ek(x)}y=S}if(h&&y&&_!==C){const w=d(h,g,b,_,C);if(w)return ek(w)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();const o=e.getBracketInfo(i);return o?{range:t,bracketInfo:o}:null}}function Sxe(n,e){return{object:n,dispose:()=>e==null?void 0:e.dispose()}}function IM(n){if(typeof n>"u")return()=>!0;{const e=Date.now();return()=>Date.now()-e<=n}}class fu{constructor(){this._searchCanceledBrand=void 0}}fu.INSTANCE=new fu;function ek(n){return n instanceof fu?null:n}class xxe extends z{constructor(e){super(),this.textModel=e,this.colorProvider=new zee,this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,i,o){return o?[]:t===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(e,!0).map(s=>({id:`bracket${s.range.toString()}-${s.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(s,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:s.range})).toArray():[]}getAllDecorations(e,t){return e===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new D(1,1,this.textModel.getLineCount(),1),e,t):[]}}class zee{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}}ja((n,e)=>{const t=[mee,vee,bee,_ee,Cee,yee],i=new zee;e.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${n.getColor(Cwe)}; }`);const o=t.map(r=>n.getColor(r)).filter(r=>!!r).filter(r=>!r.isTransparent());for(let r=0;r<30;r++){const s=o[r%o.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(r)} { color: ${s}; }`)}});function tk(n){return n.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class Po{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,i,o){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=o}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${tk(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${tk(this.oldText)}")`:`(replace@${this.oldPosition} "${tk(this.oldText)}" with "${tk(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const o=t.length;Vl(e,o,i),i+=4;for(let r=0;r<o;r++)v_e(e,t.charCodeAt(r),i),i+=2;return i}static _readString(e,t){const i=Wl(e,t);return t+=4,__e(e,t,i)}writeSize(){return 8+Po._writeStringSize(this.oldText)+Po._writeStringSize(this.newText)}write(e,t){return Vl(e,this.oldPosition,t),t+=4,Vl(e,this.newPosition,t),t+=4,t=Po._writeString(e,this.oldText,t),t=Po._writeString(e,this.newText,t),t}static read(e,t,i){const o=Wl(e,t);t+=4;const r=Wl(e,t);t+=4;const s=Po._readString(e,t);t+=Po._writeStringSize(s);const a=Po._readString(e,t);return t+=Po._writeStringSize(a),i.push(new Po(o,s,r,a)),t}}function kxe(n,e){return n===null||n.length===0?e:new Yc(n,e).compress()}class Yc{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),o=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(i===null){this._acceptCurr(o),o=this._getCurr(++t);continue}if(o===null){this._acceptPrev(i),i=this._getPrev(++e);continue}if(o.oldEnd<=i.newPosition){this._acceptCurr(o),o=this._getCurr(++t);continue}if(i.newEnd<=o.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(o.oldPosition<i.newPosition){const[c,d]=Yc._splitCurr(o,i.newPosition-o.oldPosition);this._acceptCurr(c),o=d;continue}if(i.newPosition<o.oldPosition){const[c,d]=Yc._splitPrev(i,o.oldPosition-i.newPosition);this._acceptPrev(c),i=d;continue}let a,l;if(o.oldEnd===i.newEnd)a=i,l=o,i=this._getPrev(++e),o=this._getCurr(++t);else if(o.oldEnd<i.newEnd){const[c,d]=Yc._splitPrev(i,o.oldLength);a=c,l=o,i=d,o=this._getCurr(++t)}else{const[c,d]=Yc._splitCurr(o,i.newLength);a=i,l=c,i=this._getPrev(++e),o=d}this._result[this._resultLen++]=new Po(a.oldPosition,a.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}const r=Yc._merge(this._result);return Yc._removeNoOps(r)}_acceptCurr(e){this._result[this._resultLen++]=Yc._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=Yc._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new Po(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new Po(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),o=e.newText.substr(t);return[new Po(e.oldPosition,e.oldText,e.newPosition,i),new Po(e.oldEnd,"",e.newPosition+t,o)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),o=e.oldText.substr(t);return[new Po(e.oldPosition,i,e.newPosition,e.newText),new Po(e.oldPosition+t,o,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;const t=[];let i=0,o=e[0];for(let r=1;r<e.length;r++){const s=e[r];o.oldEnd===s.oldPosition?o=new Po(o.oldPosition,o.oldText+s.oldText,o.newPosition,o.newText+s.newText):(t[i++]=o,o=s)}return t[i++]=o,t}static _removeNoOps(e){if(e.length===0)return e;const t=[];let i=0;for(let o=0;o<e.length;o++){const r=e[o];r.oldText!==r.newText&&(t[i++]=r)}return t}}function Nh(n){return n===47||n===92}function Uee(n){return n.replace(/[\\/]/g,$n.sep)}function Lxe(n){return n.indexOf("/")===-1&&(n=Uee(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}function f$(n,e=$n.sep){if(!n)return"";const t=n.length,i=n.charCodeAt(0);if(Nh(i)){if(Nh(n.charCodeAt(1))&&!Nh(n.charCodeAt(2))){let r=3;const s=r;for(;r<t&&!Nh(n.charCodeAt(r));r++);if(s!==r&&!Nh(n.charCodeAt(r+1))){for(r+=1;r<t;r++)if(Nh(n.charCodeAt(r)))return n.slice(0,r+1).replace(/[\\/]/g,e)}}return e}else if($ee(i)&&n.charCodeAt(1)===58)return Nh(n.charCodeAt(2))?n.slice(0,2)+e:n.slice(0,2);let o=n.indexOf("://");if(o!==-1){for(o+=3;o<t;o++)if(Nh(n.charCodeAt(o)))return n.slice(0,o+1)}return""}function I4(n,e,t,i=uc){if(n===e)return!0;if(!n||!e||e.length>n.length)return!1;if(t){if(!$8(n,e))return!1;if(e.length===n.length)return!0;let r=e.length;return e.charAt(e.length-1)===i&&r--,n.charAt(r)===i}return e.charAt(e.length-1)!==i&&(e+=i),n.indexOf(e)===0}function $ee(n){return n>=65&&n<=90||n>=97&&n<=122}function Dxe(n,e=Qo){return e?$ee(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}function qc(n){return $D(n,!0)}class Exe{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:Iy(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===ft.file)return I4(qc(e),qc(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(m$(e.authority,t.authority))return I4(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return Ke.joinPath(e,...t)}basenameOrAuthority(e){return Ba(e)||e.authority}basename(e){return $n.basename(e.path)}extname(e){return $n.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===ft.file?t=Ke.file(CQ(qc(e))).path:(t=$n.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===ft.file?t=Ke.file(_Q(qc(e))).path:t=$n.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!m$(e.authority,t.authority))return;if(e.scheme===ft.file){const r=Lme(qc(e),qc(t));return Qo?Uee(r):r}let i=e.path||"/";const o=t.path||"/";if(this._ignorePathCasing(e)){let r=0;for(const s=Math.min(i.length,o.length);r<s&&!(i.charCodeAt(r)!==o.charCodeAt(r)&&i.charAt(r).toLowerCase()!==o.charAt(r).toLowerCase());r++);i=o.substr(0,r)+i.substr(r)}return $n.relative(i,o)}resolvePath(e,t){if(e.scheme===ft.file){const i=Ke.file(kme(qc(e),t));return e.with({authority:i.authority,path:i.path})}return t=Lxe(t),e.with({path:$n.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&rb(e,t)}hasTrailingPathSeparator(e,t=uc){if(e.scheme===ft.file){const i=qc(e);return i.length>f$(i).length&&i[i.length-1]===t}else{const i=e.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=uc){return v$(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=uc){let i=!1;if(e.scheme===ft.file){const o=qc(e);i=o!==void 0&&o.length===f$(o).length&&o[o.length-1]===t}else{t="/";const o=e.path;i=o.length===1&&o.charCodeAt(o.length-1)===47}return!i&&!v$(e,t)?e.with({path:e.path+"/"}):e}}const Fi=new Exe(()=>!1),H6=Fi.isEqual.bind(Fi);Fi.isEqualOrParent.bind(Fi);Fi.getComparisonKey.bind(Fi);const Txe=Fi.basenameOrAuthority.bind(Fi),Ba=Fi.basename.bind(Fi),Ixe=Fi.extname.bind(Fi),CI=Fi.dirname.bind(Fi),Nxe=Fi.joinPath.bind(Fi),Rxe=Fi.normalizePath.bind(Fi),Mxe=Fi.relativePath.bind(Fi),p$=Fi.resolvePath.bind(Fi);Fi.isAbsolutePath.bind(Fi);const m$=Fi.isEqualAuthority.bind(Fi),v$=Fi.hasTrailingPathSeparator.bind(Fi);Fi.removeTrailingPathSeparator.bind(Fi);Fi.addTrailingPathSeparator.bind(Fi);var cf;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function e(t){const i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(s=>{const[a,l]=s.split(":");a&&l&&i.set(a,l)});const r=t.path.substring(0,t.path.indexOf(";"));return r&&i.set(n.META_DATA_MIME,r),i}n.parseMetaData=e})(cf||(cf={}));function vv(n){return n.toString()}class co{static create(e,t){const i=e.getAlternativeVersionId(),o=N4(e);return new co(i,i,o,o,t,t,[])}constructor(e,t,i,o,r,s,a){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=o,this.beforeCursorState=r,this.afterCursorState=s,this.changes=a}append(e,t,i,o,r){t.length>0&&(this.changes=kxe(this.changes,t)),this.afterEOL=i,this.afterVersionId=o,this.afterCursorState=r}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,i){if(Vl(e,t?t.length:0,i),i+=4,t)for(const o of t)Vl(e,o.selectionStartLineNumber,i),i+=4,Vl(e,o.selectionStartColumn,i),i+=4,Vl(e,o.positionLineNumber,i),i+=4,Vl(e,o.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const o=Wl(e,t);t+=4;for(let r=0;r<o;r++){const s=Wl(e,t);t+=4;const a=Wl(e,t);t+=4;const l=Wl(e,t);t+=4;const c=Wl(e,t);t+=4,i.push(new Pe(s,a,l,c))}return t}serialize(){let e=10+co._writeSelectionsSize(this.beforeCursorState)+co._writeSelectionsSize(this.afterCursorState)+4;for(const o of this.changes)e+=o.writeSize();const t=new Uint8Array(e);let i=0;Vl(t,this.beforeVersionId,i),i+=4,Vl(t,this.afterVersionId,i),i+=4,zz(t,this.beforeEOL,i),i+=1,zz(t,this.afterEOL,i),i+=1,i=co._writeSelections(t,this.beforeCursorState,i),i=co._writeSelections(t,this.afterCursorState,i),Vl(t,this.changes.length,i),i+=4;for(const o of this.changes)i=o.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const o=Wl(t,i);i+=4;const r=Wl(t,i);i+=4;const s=Hz(t,i);i+=1;const a=Hz(t,i);i+=1;const l=[];i=co._readSelections(t,i,l);const c=[];i=co._readSelections(t,i,c);const d=Wl(t,i);i+=4;const u=[];for(let h=0;h<d;h++)i=Po.read(t,i,u);return new co(o,r,s,a,l,c,u)}}class jee{get type(){return 0}get resource(){return Ke.isUri(this.model)?this.model:this.model.uri}constructor(e,t,i,o){this.label=e,this.code=t,this.model=i,this._data=co.create(i,o)}toString(){return(this._data instanceof co?this._data:co.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(Ke.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof co}append(e,t,i,o,r){this._data instanceof co&&this._data.append(e,t,i,o,r)}close(){this._data instanceof co&&(this._data=this._data.serialize())}open(){this._data instanceof co||(this._data=co.deserialize(this._data))}undo(){if(Ke.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof co&&(this._data=this._data.serialize());const e=co.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(Ke.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof co&&(this._data=this._data.serialize());const e=co.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof co&&(this._data=this._data.serialize()),this._data.byteLength+168}}class Axe{get resources(){return this._editStackElementsArr.map(e=>e.resource)}constructor(e,t,i){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=i.slice(0),this._editStackElementsMap=new Map;for(const o of this._editStackElementsArr){const r=vv(o.resource);this._editStackElementsMap.set(r,o)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=vv(e);return this._editStackElementsMap.has(t)}setModel(e){const t=vv(Ke.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=vv(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,i,o,r){const s=vv(e.uri);this._editStackElementsMap.get(s).append(e,t,i,o,r)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=vv(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${Ba(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function N4(n){return n.getEOL()===`
`?0:1}function pu(n){return n?n instanceof jee||n instanceof Axe:!1}class z6{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);pu(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);pu(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const i=this._undoRedoService.getLastElement(this._model.uri);if(pu(i)&&i.canAppend(this._model))return i;const o=new jee(m("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(o,t),o}pushEOL(e){const t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],N4(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i,o){const r=this._getOrCreateEditStackElement(e,o),s=this._model.applyEdits(t,!0),a=z6._computeCursorState(i,s),l=s.map((c,d)=>({index:d,textChange:c.textChange}));return l.sort((c,d)=>c.textChange.oldPosition===d.textChange.oldPosition?c.index-d.index:c.textChange.oldPosition-d.textChange.oldPosition),r.append(this._model,l.map(c=>c.textChange),N4(this._model),this._model.getAlternativeVersionId(),a),a}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return st(i),null}}}class Pxe{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Oxe(n,e,t,i,o){o.spacesDiff=0,o.looksLikeAlignment=!1;let r;for(r=0;r<e&&r<i;r++){const h=n.charCodeAt(r),g=t.charCodeAt(r);if(h!==g)break}let s=0,a=0;for(let h=r;h<e;h++)n.charCodeAt(h)===32?s++:a++;let l=0,c=0;for(let h=r;h<i;h++)t.charCodeAt(h)===32?l++:c++;if(s>0&&a>0||l>0&&c>0)return;const d=Math.abs(a-c),u=Math.abs(s-l);if(d===0){o.spacesDiff=u,u>0&&0<=l-1&&l-1<n.length&&l<t.length&&t.charCodeAt(l)!==32&&n.charCodeAt(l-1)===32&&n.charCodeAt(n.length-1)===44&&(o.looksLikeAlignment=!0);return}if(u%d===0){o.spacesDiff=u/d;return}}function b$(n,e,t){const i=Math.min(n.getLineCount(),1e4);let o=0,r=0,s="",a=0;const l=[2,4,6,8,3,5,7],c=8,d=[0,0,0,0,0,0,0,0,0],u=new Pxe;for(let f=1;f<=i;f++){const p=n.getLineLength(f),b=n.getLineContent(f),v=p<=65536;let _=!1,C=0,y=0,w=0;for(let x=0,L=p;x<L;x++){const E=v?b.charCodeAt(x):n.getLineCharCode(f,x);if(E===9)w++;else if(E===32)y++;else{_=!0,C=x;break}}if(!_||(w>0?o++:y>1&&r++,Oxe(s,a,b,C,u),u.looksLikeAlignment&&!(t&&e===u.spacesDiff)))continue;const S=u.spacesDiff;S<=c&&d[S]++,s=b,a=C}let h=t;o!==r&&(h=o<r);let g=e;if(h){let f=h?0:.1*i;l.forEach(p=>{const b=d[p];b>f&&(f=b,g=p)}),g===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(g=2)}return{insertSpaces:h,tabSize:g}}function Yr(n){return(n.metadata&1)>>>0}function Mi(n,e){n.metadata=n.metadata&254|e<<0}function Uo(n){return(n.metadata&2)>>>1===1}function Ii(n,e){n.metadata=n.metadata&253|(e?1:0)<<1}function Kee(n){return(n.metadata&4)>>>2===1}function _$(n,e){n.metadata=n.metadata&251|(e?1:0)<<2}function qee(n){return(n.metadata&64)>>>6===1}function C$(n,e){n.metadata=n.metadata&191|(e?1:0)<<6}function Fxe(n){return(n.metadata&24)>>>3}function y$(n,e){n.metadata=n.metadata&231|e<<3}function Bxe(n){return(n.metadata&32)>>>5===1}function w$(n,e){n.metadata=n.metadata&223|(e?1:0)<<5}class Gee{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,Mi(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,_$(this,!1),C$(this,!1),y$(this,1),w$(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,Ii(this,!1)}reset(e,t,i,o){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=o}setOptions(e){this.options=e;const t=this.options.className;_$(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),C$(this,this.options.glyphMarginClassName!==null),y$(this,this.options.stickiness),w$(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const xt=new Gee(null,0,0);xt.parent=xt;xt.left=xt;xt.right=xt;Mi(xt,0);class NM{constructor(){this.root=xt,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,o,r,s){return this.root===xt?[]:Kxe(this,e,t,i,o,r,s)}search(e,t,i,o){return this.root===xt?[]:jxe(this,e,t,i,o)}collectNodesFromOwner(e){return Uxe(this,e)}collectNodesPostOrder(){return $xe(this)}insert(e){S$(this,e),this._normalizeDeltaIfNecessary()}delete(e){x$(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let o=0;for(;e!==this.root;)e===e.parent.right&&(o+=e.parent.delta),e=e.parent;const r=i.start+o,s=i.end+o;i.setCachedOffsets(r,s,t)}acceptReplace(e,t,i,o){const r=Hxe(this,e,e+t);for(let s=0,a=r.length;s<a;s++){const l=r[s];x$(this,l)}this._normalizeDeltaIfNecessary(),zxe(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let s=0,a=r.length;s<a;s++){const l=r[s];l.start=l.cachedAbsoluteStart,l.end=l.cachedAbsoluteEnd,Vxe(l,e,e+t,i,o),l.maxEnd=l.end,S$(this,l)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,Wxe(this))}}function Wxe(n){let e=n.root,t=0;for(;e!==xt;){if(e.left!==xt&&!Uo(e.left)){e=e.left;continue}if(e.right!==xt&&!Uo(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,df(e),Ii(e,!0),Ii(e.left,!1),Ii(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}Ii(n.root,!1)}function bv(n,e,t,i){return n<t?!0:n>t||i===1?!1:i===2?!0:e}function Vxe(n,e,t,i,o){const r=Fxe(n),s=r===0||r===2,a=r===1||r===2,l=t-e,c=i,d=Math.min(l,c),u=n.start;let h=!1;const g=n.end;let f=!1;e<=u&&g<=t&&Bxe(n)&&(n.start=e,h=!0,n.end=e,f=!0);{const b=o?1:l>0?2:0;!h&&bv(u,s,e,b)&&(h=!0),!f&&bv(g,a,e,b)&&(f=!0)}if(d>0&&!o){const b=l>c?2:0;!h&&bv(u,s,e+d,b)&&(h=!0),!f&&bv(g,a,e+d,b)&&(f=!0)}{const b=o?1:0;!h&&bv(u,s,t,b)&&(n.start=e+c,h=!0),!f&&bv(g,a,t,b)&&(n.end=e+c,f=!0)}const p=c-l;h||(n.start=Math.max(0,u+p)),f||(n.end=Math.max(0,g+p)),n.start>n.end&&(n.end=n.start)}function Hxe(n,e,t){let i=n.root,o=0,r=0,s=0,a=0;const l=[];let c=0;for(;i!==xt;){if(Uo(i)){Ii(i.left,!1),Ii(i.right,!1),i===i.parent.right&&(o-=i.parent.delta),i=i.parent;continue}if(!Uo(i.left)){if(r=o+i.maxEnd,r<e){Ii(i,!0);continue}if(i.left!==xt){i=i.left;continue}}if(s=o+i.start,s>t){Ii(i,!0);continue}if(a=o+i.end,a>=e&&(i.setCachedOffsets(s,a,0),l[c++]=i),Ii(i,!0),i.right!==xt&&!Uo(i.right)){o+=i.delta,i=i.right;continue}}return Ii(n.root,!1),l}function zxe(n,e,t,i){let o=n.root,r=0,s=0,a=0;const l=i-(t-e);for(;o!==xt;){if(Uo(o)){Ii(o.left,!1),Ii(o.right,!1),o===o.parent.right&&(r-=o.parent.delta),df(o),o=o.parent;continue}if(!Uo(o.left)){if(s=r+o.maxEnd,s<e){Ii(o,!0);continue}if(o.left!==xt){o=o.left;continue}}if(a=r+o.start,a>t){o.start+=l,o.end+=l,o.delta+=l,(o.delta<-1073741824||o.delta>1073741824)&&(n.requestNormalizeDelta=!0),Ii(o,!0);continue}if(Ii(o,!0),o.right!==xt&&!Uo(o.right)){r+=o.delta,o=o.right;continue}}Ii(n.root,!1)}function Uxe(n,e){let t=n.root;const i=[];let o=0;for(;t!==xt;){if(Uo(t)){Ii(t.left,!1),Ii(t.right,!1),t=t.parent;continue}if(t.left!==xt&&!Uo(t.left)){t=t.left;continue}if(t.ownerId===e&&(i[o++]=t),Ii(t,!0),t.right!==xt&&!Uo(t.right)){t=t.right;continue}}return Ii(n.root,!1),i}function $xe(n){let e=n.root;const t=[];let i=0;for(;e!==xt;){if(Uo(e)){Ii(e.left,!1),Ii(e.right,!1),e=e.parent;continue}if(e.left!==xt&&!Uo(e.left)){e=e.left;continue}if(e.right!==xt&&!Uo(e.right)){e=e.right;continue}t[i++]=e,Ii(e,!0)}return Ii(n.root,!1),t}function jxe(n,e,t,i,o){let r=n.root,s=0,a=0,l=0;const c=[];let d=0;for(;r!==xt;){if(Uo(r)){Ii(r.left,!1),Ii(r.right,!1),r===r.parent.right&&(s-=r.parent.delta),r=r.parent;continue}if(r.left!==xt&&!Uo(r.left)){r=r.left;continue}a=s+r.start,l=s+r.end,r.setCachedOffsets(a,l,i);let u=!0;if(e&&r.ownerId&&r.ownerId!==e&&(u=!1),t&&Kee(r)&&(u=!1),o&&!qee(r)&&(u=!1),u&&(c[d++]=r),Ii(r,!0),r.right!==xt&&!Uo(r.right)){s+=r.delta,r=r.right;continue}}return Ii(n.root,!1),c}function Kxe(n,e,t,i,o,r,s){let a=n.root,l=0,c=0,d=0,u=0;const h=[];let g=0;for(;a!==xt;){if(Uo(a)){Ii(a.left,!1),Ii(a.right,!1),a===a.parent.right&&(l-=a.parent.delta),a=a.parent;continue}if(!Uo(a.left)){if(c=l+a.maxEnd,c<e){Ii(a,!0);continue}if(a.left!==xt){a=a.left;continue}}if(d=l+a.start,d>t){Ii(a,!0);continue}if(u=l+a.end,u>=e){a.setCachedOffsets(d,u,r);let f=!0;i&&a.ownerId&&a.ownerId!==i&&(f=!1),o&&Kee(a)&&(f=!1),s&&!qee(a)&&(f=!1),f&&(h[g++]=a)}if(Ii(a,!0),a.right!==xt&&!Uo(a.right)){l+=a.delta,a=a.right;continue}}return Ii(n.root,!1),h}function S$(n,e){if(n.root===xt)return e.parent=xt,e.left=xt,e.right=xt,Mi(e,0),n.root=e,n.root;qxe(n,e),zh(e.parent);let t=e;for(;t!==n.root&&Yr(t.parent)===1;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;Yr(i)===1?(Mi(t.parent,0),Mi(i,0),Mi(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,RC(n,t)),Mi(t.parent,0),Mi(t.parent.parent,1),MC(n,t.parent.parent))}else{const i=t.parent.parent.left;Yr(i)===1?(Mi(t.parent,0),Mi(i,0),Mi(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,MC(n,t)),Mi(t.parent,0),Mi(t.parent.parent,1),RC(n,t.parent.parent))}return Mi(n.root,0),e}function qxe(n,e){let t=0,i=n.root;const o=e.start,r=e.end;for(;;)if(Zxe(o,r,i.start+t,i.end+t)<0)if(i.left===xt){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}else i=i.left;else if(i.right===xt){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}else t+=i.delta,i=i.right;e.parent=i,e.left=xt,e.right=xt,Mi(e,1)}function x$(n,e){let t,i;if(e.left===xt?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===xt?(t=e.left,i=e):(i=Gxe(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(n.requestNormalizeDelta=!0)),i===n.root){n.root=t,Mi(t,0),e.detach(),RM(),df(t),n.root.parent=xt;return}const o=Yr(i)===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(i.parent===e?t.parent=i:t.parent=i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,Mi(i,Yr(e)),e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==xt&&(i.left.parent=i),i.right!==xt&&(i.right.parent=i)),e.detach(),o){zh(t.parent),i!==e&&(zh(i),zh(i.parent)),RM();return}zh(t),zh(t.parent),i!==e&&(zh(i),zh(i.parent));let r;for(;t!==n.root&&Yr(t)===0;)t===t.parent.left?(r=t.parent.right,Yr(r)===1&&(Mi(r,0),Mi(t.parent,1),RC(n,t.parent),r=t.parent.right),Yr(r.left)===0&&Yr(r.right)===0?(Mi(r,1),t=t.parent):(Yr(r.right)===0&&(Mi(r.left,0),Mi(r,1),MC(n,r),r=t.parent.right),Mi(r,Yr(t.parent)),Mi(t.parent,0),Mi(r.right,0),RC(n,t.parent),t=n.root)):(r=t.parent.left,Yr(r)===1&&(Mi(r,0),Mi(t.parent,1),MC(n,t.parent),r=t.parent.left),Yr(r.left)===0&&Yr(r.right)===0?(Mi(r,1),t=t.parent):(Yr(r.left)===0&&(Mi(r.right,0),Mi(r,1),RC(n,r),r=t.parent.left),Mi(r,Yr(t.parent)),Mi(t.parent,0),Mi(r.left,0),MC(n,t.parent),t=n.root));Mi(t,0),RM()}function Gxe(n){for(;n.left!==xt;)n=n.left;return n}function RM(){xt.parent=xt,xt.delta=0,xt.start=0,xt.end=0}function RC(n,e){const t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==xt&&(t.left.parent=e),t.parent=e.parent,e.parent===xt?n.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,df(e),df(t)}function MC(n,e){const t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(n.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==xt&&(t.right.parent=e),t.parent=e.parent,e.parent===xt?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,df(e),df(t)}function Zee(n){let e=n.end;if(n.left!==xt){const t=n.left.maxEnd;t>e&&(e=t)}if(n.right!==xt){const t=n.right.maxEnd+n.delta;t>e&&(e=t)}return e}function df(n){n.maxEnd=Zee(n)}function zh(n){for(;n!==xt;){const e=Zee(n);if(n.maxEnd===e)return;n.maxEnd=e,n=n.parent}}function Zxe(n,e,t,i){return n===t?e-i:n-t}class R4{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==lt)return U6(this.right);let e=this;for(;e.parent!==lt&&e.parent.left!==e;)e=e.parent;return e.parent===lt?lt:e.parent}prev(){if(this.left!==lt)return Yee(this.left);let e=this;for(;e.parent!==lt&&e.parent.right!==e;)e=e.parent;return e.parent===lt?lt:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const lt=new R4(null,0);lt.parent=lt;lt.left=lt;lt.right=lt;lt.color=0;function U6(n){for(;n.left!==lt;)n=n.left;return n}function Yee(n){for(;n.right!==lt;)n=n.right;return n}function $6(n){return n===lt?0:n.size_left+n.piece.length+$6(n.right)}function j6(n){return n===lt?0:n.lf_left+n.piece.lineFeedCnt+j6(n.right)}function MM(){lt.parent=lt}function AC(n,e){const t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==lt&&(t.left.parent=e),t.parent=e.parent,e.parent===lt?n.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function PC(n,e){const t=e.left;e.left=t.right,t.right!==lt&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===lt?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function ik(n,e){let t,i;if(e.left===lt?(i=e,t=i.right):e.right===lt?(i=e,t=i.left):(i=U6(e.right),t=i.right),i===n.root){n.root=t,t.color=0,e.detach(),MM(),n.root.parent=lt;return}const o=i.color===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,Z1(n,t)):(i.parent===e?t.parent=i:t.parent=i.parent,Z1(n,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==lt&&(i.left.parent=i),i.right!==lt&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,Z1(n,i)),e.detach(),t.parent.left===t){const s=$6(t),a=j6(t);if(s!==t.parent.size_left||a!==t.parent.lf_left){const l=s-t.parent.size_left,c=a-t.parent.lf_left;t.parent.size_left=s,t.parent.lf_left=a,su(n,t.parent,l,c)}}if(Z1(n,t.parent),o){MM();return}let r;for(;t!==n.root&&t.color===0;)t===t.parent.left?(r=t.parent.right,r.color===1&&(r.color=0,t.parent.color=1,AC(n,t.parent),r=t.parent.right),r.left.color===0&&r.right.color===0?(r.color=1,t=t.parent):(r.right.color===0&&(r.left.color=0,r.color=1,PC(n,r),r=t.parent.right),r.color=t.parent.color,t.parent.color=0,r.right.color=0,AC(n,t.parent),t=n.root)):(r=t.parent.left,r.color===1&&(r.color=0,t.parent.color=1,PC(n,t.parent),r=t.parent.left),r.left.color===0&&r.right.color===0?(r.color=1,t=t.parent):(r.left.color===0&&(r.right.color=0,r.color=1,AC(n,r),r=t.parent.left),r.color=t.parent.color,t.parent.color=0,r.left.color=0,PC(n,t.parent),t=n.root));t.color=0,MM()}function k$(n,e){for(Z1(n,e);e!==n.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){const t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,AC(n,e)),e.parent.color=0,e.parent.parent.color=1,PC(n,e.parent.parent))}else{const t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,PC(n,e)),e.parent.color=0,e.parent.parent.color=1,AC(n,e.parent.parent))}n.root.color=0}function su(n,e,t,i){for(;e!==n.root&&e!==lt;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}function Z1(n,e){let t=0,i=0;if(e!==n.root){for(;e!==n.root&&e===e.parent.right;)e=e.parent;if(e!==n.root)for(e=e.parent,t=$6(e.left)-e.size_left,i=j6(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i;e!==n.root&&(t!==0||i!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}const eu=65535;function Xee(n){let e;return n[n.length-1]<65536?e=new Uint16Array(n.length):e=new Uint32Array(n.length),e.set(n,0),e}class Yxe{constructor(e,t,i,o,r){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=o,this.isBasicASCII=r}}function lu(n,e=!0){const t=[0];let i=1;for(let o=0,r=n.length;o<r;o++){const s=n.charCodeAt(o);s===13?o+1<r&&n.charCodeAt(o+1)===10?(t[i++]=o+2,o++):t[i++]=o+1:s===10&&(t[i++]=o+1)}return e?Xee(t):t}function Xxe(n,e){n.length=0,n[0]=0;let t=1,i=0,o=0,r=0,s=!0;for(let l=0,c=e.length;l<c;l++){const d=e.charCodeAt(l);d===13?l+1<c&&e.charCodeAt(l+1)===10?(r++,n[t++]=l+2,l++):(i++,n[t++]=l+1):d===10?(o++,n[t++]=l+1):s&&d!==9&&(d<32||d>126)&&(s=!1)}const a=new Yxe(Xee(n),i,o,r,s);return n.length=0,a}class fs{constructor(e,t,i,o,r){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=o,this.length=r}}class yp{constructor(e,t){this.buffer=e,this.lineStarts=t}}class Qxe{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==lt&&e.iterate(e.root,i=>(i!==lt&&this._pieces.push(i.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Jxe{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const i=this._cache;for(let o=0;o<i.length;o++){const r=i[o];if(r.node.parent===null||r.nodeStartOffset>=e){i[o]=null,t=!0;continue}}if(t){const o=[];for(const r of i)r!==null&&o.push(r);this._cache=o}}}class eke{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new yp("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=lt,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let o=null;for(let r=0,s=e.length;r<s;r++)if(e[r].buffer.length>0){e[r].lineStarts||(e[r].lineStarts=lu(e[r].buffer));const a=new fs(r+1,{line:0,column:0},{line:e[r].lineStarts.length-1,column:e[r].buffer.length-e[r].lineStarts[e[r].lineStarts.length-1]},e[r].lineStarts.length-1,e[r].buffer.length);this._buffers.push(e[r]),o=this.rbInsertRight(o,a)}this._searchCache=new Jxe(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const t=eu,i=t-Math.floor(t/3),o=i*2;let r="",s=0;const a=[];if(this.iterate(this.root,l=>{const c=this.getNodeContent(l),d=c.length;if(s<=i||s+d<o)return r+=c,s+=d,!0;const u=r.replace(/\r\n|\r|\n/g,e);return a.push(new yp(u,lu(u))),r=c,s=d,!0}),s>0){const l=r.replace(/\r\n|\r|\n/g,e);a.push(new yp(l,lu(l)))}this.create(a,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new Qxe(this,e)}getOffsetAt(e,t){let i=0,o=this.root;for(;o!==lt;)if(o.left!==lt&&o.lf_left+1>=e)o=o.left;else if(o.lf_left+o.piece.lineFeedCnt+1>=e){i+=o.size_left;const r=this.getAccumulatedValue(o,e-o.lf_left-2);return i+=r+t-1}else e-=o.lf_left+o.piece.lineFeedCnt,i+=o.size_left+o.piece.length,o=o.right;return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0;const o=e;for(;t!==lt;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){const r=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+r.index,r.index===0){const s=this.getOffsetAt(i+1,1),a=o-s;return new W(i+1,a+1)}return new W(i+1,r.remainder+1)}else if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===lt){const r=this.getOffsetAt(i+1,1),s=o-e-r;return new W(i+1,s+1)}else t=t.right;return new W(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const i=this.nodeAt2(e.startLineNumber,e.startColumn),o=this.nodeAt2(e.endLineNumber,e.endColumn),r=this.getValueInRange2(i,o);return t?t!==this._EOL||!this._EOLNormalized?r.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?r:r.replace(/\r\n|\r|\n/g,t):r}getValueInRange2(e,t){if(e.node===t.node){const a=e.node,l=this._buffers[a.piece.bufferIndex].buffer,c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l.substring(c+e.remainder,c+t.remainder)}let i=e.node;const o=this._buffers[i.piece.bufferIndex].buffer,r=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);let s=o.substring(r+e.remainder,r+i.piece.length);for(i=i.next();i!==lt;){const a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){s+=a.substring(l,l+t.remainder);break}else s+=a.substr(l,i.piece.length);i=i.next()}return s}getLinesContent(){const e=[];let t=0,i="",o=!1;return this.iterate(this.root,r=>{if(r===lt)return!0;const s=r.piece;let a=s.length;if(a===0)return!0;const l=this._buffers[s.bufferIndex].buffer,c=this._buffers[s.bufferIndex].lineStarts,d=s.start.line,u=s.end.line;let h=c[d]+s.start.column;if(o&&(l.charCodeAt(h)===10&&(h++,a--),e[t++]=i,i="",o=!1,a===0))return!0;if(d===u)return!this._EOLNormalized&&l.charCodeAt(h+a-1)===13?(o=!0,i+=l.substr(h,a-1)):i+=l.substr(h,a),!0;i+=this._EOLNormalized?l.substring(h,Math.max(h,c[d+1]-this._EOLLength)):l.substring(h,c[d+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let g=d+1;g<u;g++)i=this._EOLNormalized?l.substring(c[g],c[g+1]-this._EOLLength):l.substring(c[g],c[g+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return!this._EOLNormalized&&l.charCodeAt(c[u]+s.end.column-1)===13?(o=!0,s.end.column===0?t--:i=l.substr(c[u],s.end.column-1)):i=l.substr(c[u],s.end.column),!0}),o&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const i=this._buffers[t.piece.bufferIndex],o=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(o)}else{const t=this._buffers[e.node.piece.bufferIndex],o=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(o)}}getLineCharCode(e,t){const i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,o,r,s,a,l,c,d,u){const h=this._buffers[e.piece.bufferIndex],g=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),f=this.offsetInBuffer(e.piece.bufferIndex,r),p=this.offsetInBuffer(e.piece.bufferIndex,s);let b;const v={line:0,column:0};let _,C;t._wordSeparators?(_=h.buffer.substring(f,p),C=y=>y+f,t.reset(0)):(_=h.buffer,C=y=>y,t.reset(f));do if(b=t.next(_),b){if(C(b.index)>=p)return d;this.positionInBuffer(e,C(b.index)-g,v);const y=this.getLineFeedCnt(e.piece.bufferIndex,r,v),w=v.line===r.line?v.column-r.column+o:v.column+1,S=w+b[0].length;if(u[d++]=pp(new D(i+y,w,i+y,S),b,l),C(b.index)+b[0].length>=p||d>=c)return d}while(b);return d}findMatchesLineByLine(e,t,i,o){const r=[];let s=0;const a=new lb(t.wordSeparators,t.regex);let l=this.nodeAt2(e.startLineNumber,e.startColumn);if(l===null)return[];const c=this.nodeAt2(e.endLineNumber,e.endColumn);if(c===null)return[];let d=this.positionInBuffer(l.node,l.remainder);const u=this.positionInBuffer(c.node,c.remainder);if(l.node===c.node)return this.findMatchesInNode(l.node,a,e.startLineNumber,e.startColumn,d,u,t,i,o,s,r),r;let h=e.startLineNumber,g=l.node;for(;g!==c.node;){const p=this.getLineFeedCnt(g.piece.bufferIndex,d,g.piece.end);if(p>=1){const v=this._buffers[g.piece.bufferIndex].lineStarts,_=this.offsetInBuffer(g.piece.bufferIndex,g.piece.start),C=v[d.line+p],y=h===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(g,a,h,y,d,this.positionInBuffer(g,C-_),t,i,o,s,r),s>=o)return r;h+=p}const b=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){const v=this.getLineContent(h).substring(b,e.endColumn-1);return s=this._findMatchesInLine(t,a,v,e.endLineNumber,b,s,r,i,o),r}if(s=this._findMatchesInLine(t,a,this.getLineContent(h).substr(b),h,b,s,r,i,o),s>=o)return r;h++,l=this.nodeAt2(h,1),g=l.node,d=this.positionInBuffer(l.node,l.remainder)}if(h===e.endLineNumber){const p=h===e.startLineNumber?e.startColumn-1:0,b=this.getLineContent(h).substring(p,e.endColumn-1);return s=this._findMatchesInLine(t,a,b,e.endLineNumber,p,s,r,i,o),r}const f=h===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(c.node,a,h,f,d,u,t,i,o,s,r),r}_findMatchesInLine(e,t,i,o,r,s,a,l,c){const d=e.wordSeparators;if(!l&&e.simpleSearch){const h=e.simpleSearch,g=h.length,f=i.length;let p=-g;for(;(p=i.indexOf(h,p+g))!==-1;)if((!d||d6(d,i,f,p,g))&&(a[s++]=new Oy(new D(o,p+1+r,o,p+1+g+r),null),s>=c))return s;return s}let u;t.reset(0);do if(u=t.next(i),u&&(a[s++]=pp(new D(o,u.index+1+r,o,u.index+1+u[0].length+r),u,l),s>=c))return s;while(u);return s}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==lt){const{node:o,remainder:r,nodeStartOffset:s}=this.nodeAt(e),a=o.piece,l=a.bufferIndex,c=this.positionInBuffer(o,r);if(o.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&s+a.length===e&&t.length<eu){this.appendToNode(o,t),this.computeBufferMetadata();return}if(s===e)this.insertContentToNodeLeft(t,o),this._searchCache.validate(e);else if(s+o.piece.length>e){const d=[];let u=new fs(a.bufferIndex,c,a.end,this.getLineFeedCnt(a.bufferIndex,c,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,c));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(o,r)===10){const p={line:u.start.line+1,column:0};u=new fs(u.bufferIndex,p,u.end,this.getLineFeedCnt(u.bufferIndex,p,u.end),u.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(o,r-1)===13){const p=this.positionInBuffer(o,r-1);this.deleteNodeTail(o,p),t="\r"+t,o.piece.length===0&&d.push(o)}else this.deleteNodeTail(o,c);else this.deleteNodeTail(o,c);const h=this.createNewPieces(t);u.length>0&&this.rbInsertRight(o,u);let g=o;for(let f=0;f<h.length;f++)g=this.rbInsertRight(g,h[f]);this.deleteNodes(d)}else this.insertContentToNodeRight(t,o)}else{const o=this.createNewPieces(t);let r=this.rbInsertLeft(null,o[0]);for(let s=1;s<o.length;s++)r=this.rbInsertRight(r,o[s])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===lt)return;const i=this.nodeAt(e),o=this.nodeAt(e+t),r=i.node,s=o.node;if(r===s){const h=this.positionInBuffer(r,i.remainder),g=this.positionInBuffer(r,o.remainder);if(i.nodeStartOffset===e){if(t===r.piece.length){const f=r.next();ik(this,r),this.validateCRLFWithPrevNode(f),this.computeBufferMetadata();return}this.deleteNodeHead(r,g),this._searchCache.validate(e),this.validateCRLFWithPrevNode(r),this.computeBufferMetadata();return}if(i.nodeStartOffset+r.piece.length===e+t){this.deleteNodeTail(r,h),this.validateCRLFWithNextNode(r),this.computeBufferMetadata();return}this.shrinkNode(r,h,g),this.computeBufferMetadata();return}const a=[],l=this.positionInBuffer(r,i.remainder);this.deleteNodeTail(r,l),this._searchCache.validate(e),r.piece.length===0&&a.push(r);const c=this.positionInBuffer(s,o.remainder);this.deleteNodeHead(s,c),s.piece.length===0&&a.push(s);const d=r.next();for(let h=d;h!==lt&&h!==s;h=h.next())a.push(h);const u=r.piece.length===0?r.prev():r;this.deleteNodes(a),this.validateCRLFWithNextNode(u),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const s=t.piece,a={line:s.start.line+1,column:0},l=new fs(s.bufferIndex,a,s.end,this.getLineFeedCnt(s.bufferIndex,a,s.end),s.length-1);t.piece=l,e+=`
`,su(this,t,-1,-1),t.piece.length===0&&i.push(t)}const o=this.createNewPieces(e);let r=this.rbInsertLeft(t,o[o.length-1]);for(let s=o.length-2;s>=0;s--)r=this.rbInsertLeft(r,o[s]);this.validateCRLFWithPrevNode(r),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);const i=this.createNewPieces(e),o=this.rbInsertRight(t,i[0]);let r=o;for(let s=1;s<i.length;s++)r=this.rbInsertRight(r,i[s]);this.validateCRLFWithPrevNode(o)}positionInBuffer(e,t,i){const o=e.piece,r=e.piece.bufferIndex,s=this._buffers[r].lineStarts,l=s[o.start.line]+o.start.column+t;let c=o.start.line,d=o.end.line,u=0,h=0,g=0;for(;c<=d&&(u=c+(d-c)/2|0,g=s[u],u!==d);)if(h=s[u+1],l<g)d=u-1;else if(l>=h)c=u+1;else break;return i?(i.line=u,i.column=l-g,null):{line:u,column:l-g}}getLineFeedCnt(e,t,i){if(i.column===0)return i.line-t.line;const o=this._buffers[e].lineStarts;if(i.line===o.length-1)return i.line-t.line;const r=o[i.line+1],s=o[i.line]+i.column;if(r>s+1)return i.line-t.line;const a=s-1;return this._buffers[e].buffer.charCodeAt(a)===13?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)ik(this,e[t])}createNewPieces(e){if(e.length>eu){const d=[];for(;e.length>eu;){const h=e.charCodeAt(eu-1);let g;h===13||h>=55296&&h<=56319?(g=e.substring(0,eu-1),e=e.substring(eu-1)):(g=e.substring(0,eu),e=e.substring(eu));const f=lu(g);d.push(new fs(this._buffers.length,{line:0,column:0},{line:f.length-1,column:g.length-f[f.length-1]},f.length-1,g.length)),this._buffers.push(new yp(g,f))}const u=lu(e);return d.push(new fs(this._buffers.length,{line:0,column:0},{line:u.length-1,column:e.length-u[u.length-1]},u.length-1,e.length)),this._buffers.push(new yp(e,u)),d}let t=this._buffers[0].buffer.length;const i=lu(e,!1);let o=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},o=this._lastChangeBufferPos;for(let d=0;d<i.length;d++)i[d]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let d=0;d<i.length;d++)i[d]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const r=this._buffers[0].buffer.length,s=this._buffers[0].lineStarts.length-1,a=r-this._buffers[0].lineStarts[s],l={line:s,column:a},c=new fs(0,o,l,this.getLineFeedCnt(0,o,l),r-t);return this._lastChangeBufferPos=l,[c]}getLineRawContent(e,t=0){let i=this.root,o="";const r=this._searchCache.get2(e);if(r){i=r.node;const s=this.getAccumulatedValue(i,e-r.nodeStartLineNumber-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(r.nodeStartLineNumber+i.piece.lineFeedCnt===e)o=a.substring(l+s,l+i.piece.length);else{const c=this.getAccumulatedValue(i,e-r.nodeStartLineNumber);return a.substring(l+s,l+c-t)}}else{let s=0;const a=e;for(;i!==lt;)if(i.left!==lt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this.getAccumulatedValue(i,e-i.lf_left-1),d=this._buffers[i.piece.bufferIndex].buffer,u=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return s+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:s,nodeStartLineNumber:a-(e-1-i.lf_left)}),d.substring(u+l,u+c-t)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this._buffers[i.piece.bufferIndex].buffer,d=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);o=c.substring(d+l,d+i.piece.length);break}else e-=i.lf_left+i.piece.lineFeedCnt,s+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==lt;){const s=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const a=this.getAccumulatedValue(i,0),l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o+=s.substring(l,l+a-t),o}else{const a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);o+=s.substr(a,i.piece.length)}i=i.next()}return o}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==lt;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){const i=e.piece,o=this.positionInBuffer(e,t),r=o.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){const s=this.getLineFeedCnt(e.piece.bufferIndex,i.start,o);if(s!==r)return{index:s,remainder:0}}return{index:r,remainder:o.column}}getAccumulatedValue(e,t){if(t<0)return 0;const i=e.piece,o=this._buffers[i.bufferIndex].lineStarts,r=i.start.line+t+1;return r>i.end.line?o[i.end.line]+i.end.column-o[i.start.line]-i.start.column:o[r]-o[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,o=i.lineFeedCnt,r=this.offsetInBuffer(i.bufferIndex,i.end),s=t,a=this.offsetInBuffer(i.bufferIndex,s),l=this.getLineFeedCnt(i.bufferIndex,i.start,s),c=l-o,d=a-r,u=i.length+d;e.piece=new fs(i.bufferIndex,i.start,s,l,u),su(this,e,d,c)}deleteNodeHead(e,t){const i=e.piece,o=i.lineFeedCnt,r=this.offsetInBuffer(i.bufferIndex,i.start),s=t,a=this.getLineFeedCnt(i.bufferIndex,s,i.end),l=this.offsetInBuffer(i.bufferIndex,s),c=a-o,d=r-l,u=i.length+d;e.piece=new fs(i.bufferIndex,s,i.end,a,u),su(this,e,d,c)}shrinkNode(e,t,i){const o=e.piece,r=o.start,s=o.end,a=o.length,l=o.lineFeedCnt,c=t,d=this.getLineFeedCnt(o.bufferIndex,o.start,c),u=this.offsetInBuffer(o.bufferIndex,t)-this.offsetInBuffer(o.bufferIndex,r);e.piece=new fs(o.bufferIndex,o.start,c,d,u),su(this,e,u-a,d-l);const h=new fs(o.bufferIndex,i,s,this.getLineFeedCnt(o.bufferIndex,i,s),this.offsetInBuffer(o.bufferIndex,s)-this.offsetInBuffer(o.bufferIndex,i)),g=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(g)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),o=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const r=lu(t,!1);for(let g=0;g<r.length;g++)r[g]+=o;if(i){const g=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:o-g}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1));const s=this._buffers[0].lineStarts.length-1,a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[s],l={line:s,column:a},c=e.piece.length+t.length,d=e.piece.lineFeedCnt,u=this.getLineFeedCnt(0,e.piece.start,l),h=u-d;e.piece=new fs(e.piece.bufferIndex,e.piece.start,l,u,c),this._lastChangeBufferPos=l,su(this,e,t.length,h)}nodeAt(e){let t=this.root;const i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let o=0;for(;t!==lt;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){o+=t.size_left;const r={node:t,remainder:e-t.size_left,nodeStartOffset:o};return this._searchCache.set(r),r}else e-=t.size_left+t.piece.length,o+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let i=this.root,o=0;for(;i!==lt;)if(i.left!==lt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const r=this.getAccumulatedValue(i,e-i.lf_left-2),s=this.getAccumulatedValue(i,e-i.lf_left-1);return o+=i.size_left,{node:i,remainder:Math.min(r+t-1,s),nodeStartOffset:o}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const r=this.getAccumulatedValue(i,e-i.lf_left-2);if(r+t-1<=i.piece.length)return{node:i,remainder:r+t-1,nodeStartOffset:o};t-=i.piece.length-r;break}else e-=i.lf_left+i.piece.lineFeedCnt,o+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==lt;){if(i.piece.lineFeedCnt>0){const r=this.getAccumulatedValue(i,0),s=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,r),nodeStartOffset:s}}else if(i.piece.length>=t-1){const r=this.offsetOfNode(i);return{node:i,remainder:t-1,nodeStartOffset:r}}else t-=i.piece.length;i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const i=this._buffers[e.piece.bufferIndex],o=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(o)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===lt||e.piece.lineFeedCnt===0)return!1;const t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,o=t.start.line,r=i[o]+t.start.column;return o===i.length-1||i[o+1]>r+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(r)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===lt||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const i=[],o=this._buffers[e.piece.bufferIndex].lineStarts;let r;e.piece.end.column===0?r={line:e.piece.end.line-1,column:o[e.piece.end.line]-o[e.piece.end.line-1]-1}:r={line:e.piece.end.line,column:e.piece.end.column-1};const s=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new fs(e.piece.bufferIndex,e.piece.start,r,a,s),su(this,e,-1,-1),e.piece.length===0&&i.push(e);const l={line:t.piece.start.line+1,column:0},c=t.piece.length-1,d=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new fs(t.piece.bufferIndex,l,t.piece.end,d,c),su(this,t,-1,-1),t.piece.length===0&&i.push(t);const u=this.createNewPieces(`\r
`);this.rbInsertRight(e,u[0]);for(let h=0;h<i.length;h++)ik(this,i[h])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const i=t.next();if(this.startWithLF(i)){if(e+=`
`,i.piece.length===1)ik(this,i);else{const o=i.piece,r={line:o.start.line+1,column:0},s=o.length-1,a=this.getLineFeedCnt(o.bufferIndex,r,o.end);i.piece=new fs(o.bufferIndex,r,o.end,a,s),su(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===lt)return t(lt);const i=this.iterate(e.left,t);return i&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===lt)return"";const t=this._buffers[e.piece.bufferIndex],i=e.piece,o=this.offsetInBuffer(i.bufferIndex,i.start),r=this.offsetInBuffer(i.bufferIndex,i.end);return t.buffer.substring(o,r)}getPieceContent(e){const t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),o=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,o)}rbInsertRight(e,t){const i=new R4(t,1);if(i.left=lt,i.right=lt,i.parent=lt,i.size_left=0,i.lf_left=0,this.root===lt)this.root=i,i.color=0;else if(e.right===lt)e.right=i,i.parent=e;else{const r=U6(e.right);r.left=i,i.parent=r}return k$(this,i),i}rbInsertLeft(e,t){const i=new R4(t,1);if(i.left=lt,i.right=lt,i.parent=lt,i.size_left=0,i.lf_left=0,this.root===lt)this.root=i,i.color=0;else if(e.left===lt)e.left=i,i.parent=e;else{const o=Yee(e.left);o.right=i,i.parent=o}return k$(this,i),i}}class Zb extends z{constructor(e,t,i,o,r,s,a){super(),this._onDidChangeContent=this._register(new B),this._BOM=t,this._mightContainNonBasicASCII=!s,this._mightContainRTL=o,this._mightContainUnusualLineTerminators=r,this._pieceTree=new eke(e,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const i=e+t,o=this.getPositionAt(e),r=this.getPositionAt(i);return new D(o.lineNumber,o.column,r.lineNumber,r.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const i=this.getOffsetAt(e.startLineNumber,e.startColumn),o=this.getOffsetAt(e.endLineNumber,e.endColumn);let r=0;const s=this._getEndOfLine(t),a=this.getEOL();if(s.length!==a.length){const l=s.length-a.length,c=e.endLineNumber-e.startLineNumber;r=l*c}return o-i+r}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const o=e.startLineNumber,r=e.endLineNumber;for(let s=o;s<=r;s++){const a=this.getLineContent(s),l=s===o?e.startColumn-1:0,c=s===r?e.endColumn-1:a.length;for(let d=l;d<c;d++)to(a.charCodeAt(d))?(i=i+1,d=d+1):i=i+1}return i+=this._getEndOfLine(t).length*(r-o),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=hr(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=hc(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let o=this._mightContainRTL,r=this._mightContainUnusualLineTerminators,s=this._mightContainNonBasicASCII,a=!0,l=[];for(let p=0;p<e.length;p++){const b=e[p];a&&b._isTracked&&(a=!1);const v=b.range;if(b.text){let S=!0;s||(S=!_S(b.text),s=S),!o&&S&&(o=x_(b.text)),!r&&S&&(r=RQ(b.text))}let _="",C=0,y=0,w=0;if(b.text){let S;[C,y,w,S]=lf(b.text);const x=this.getEOL();S===0||S===(x===`\r
`?2:1)?_=b.text:_=b.text.replace(/\r\n|\r|\n/g,x)}l[p]={sortIndex:p,identifier:b.identifier||null,range:v,rangeOffset:this.getOffsetAt(v.startLineNumber,v.startColumn),rangeLength:this.getValueLengthInRange(v),text:_,eolCount:C,firstLineLength:y,lastLineLength:w,forceMoveMarkers:!!b.forceMoveMarkers,isAutoWhitespaceEdit:b.isAutoWhitespaceEdit||!1}}l.sort(Zb._sortOpsAscending);let c=!1;for(let p=0,b=l.length-1;p<b;p++){const v=l[p].range.getEndPosition(),_=l[p+1].range.getStartPosition();if(_.isBeforeOrEqual(v)){if(_.isBefore(v))throw new Error("Overlapping ranges are not allowed!");c=!0}}a&&(l=this._reduceOperations(l));const d=i||t?Zb._getInverseEditRanges(l):[],u=[];if(t)for(let p=0;p<l.length;p++){const b=l[p],v=d[p];if(b.isAutoWhitespaceEdit&&b.range.isEmpty())for(let _=v.startLineNumber;_<=v.endLineNumber;_++){let C="";_===v.startLineNumber&&(C=this.getLineContent(b.range.startLineNumber),hr(C)!==-1)||u.push({lineNumber:_,oldContent:C})}}let h=null;if(i){let p=0;h=[];for(let b=0;b<l.length;b++){const v=l[b],_=d[b],C=this.getValueInRange(v.range),y=v.rangeOffset+p;p+=v.text.length-C.length,h[b]={sortIndex:v.sortIndex,identifier:v.identifier,range:_,text:C,textChange:new Po(v.rangeOffset,C,y,v.text)}}c||h.sort((b,v)=>b.sortIndex-v.sortIndex)}this._mightContainRTL=o,this._mightContainUnusualLineTerminators=r,this._mightContainNonBasicASCII=s;const g=this._doApplyEdits(l);let f=null;if(t&&u.length>0){u.sort((p,b)=>b.lineNumber-p.lineNumber),f=[];for(let p=0,b=u.length;p<b;p++){const v=u[p].lineNumber;if(p>0&&u[p-1].lineNumber===v)continue;const _=u[p].oldContent,C=this.getLineContent(v);C.length===0||C===_||hr(C)!==-1||f.push(v)}}return this._onDidChangeContent.fire(),new c0e(h,g,f)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,o=e[e.length-1].range,r=new D(i.startLineNumber,i.startColumn,o.endLineNumber,o.endColumn);let s=i.startLineNumber,a=i.startColumn;const l=[];for(let g=0,f=e.length;g<f;g++){const p=e[g],b=p.range;t=t||p.forceMoveMarkers,l.push(this.getValueInRange(new D(s,a,b.startLineNumber,b.startColumn))),p.text.length>0&&l.push(p.text),s=b.endLineNumber,a=b.endColumn}const c=l.join(""),[d,u,h]=lf(c);return{sortIndex:0,identifier:e[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,0),text:c,eolCount:d,firstLineLength:u,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(Zb._sortOpsDescending);const t=[];for(let i=0;i<e.length;i++){const o=e[i],r=o.range.startLineNumber,s=o.range.startColumn,a=o.range.endLineNumber,l=o.range.endColumn;if(r===a&&s===l&&o.text.length===0)continue;o.text?(this._pieceTree.delete(o.rangeOffset,o.rangeLength),this._pieceTree.insert(o.rangeOffset,o.text,!0)):this._pieceTree.delete(o.rangeOffset,o.rangeLength);const c=new D(r,s,a,l);t.push({range:c,rangeLength:o.rangeLength,text:o.text,rangeOffset:o.rangeOffset,forceMoveMarkers:o.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,o){return this._pieceTree.findMatchesLineByLine(e,t,i,o)}static _getInverseEditRanges(e){const t=[];let i=0,o=0,r=null;for(let s=0,a=e.length;s<a;s++){const l=e[s];let c,d;r?r.range.endLineNumber===l.range.startLineNumber?(c=i,d=o+(l.range.startColumn-r.range.endColumn)):(c=i+(l.range.startLineNumber-r.range.endLineNumber),d=l.range.startColumn):(c=l.range.startLineNumber,d=l.range.startColumn);let u;if(l.text.length>0){const h=l.eolCount+1;h===1?u=new D(c,d,c,d+l.firstLineLength):u=new D(c,d,c+h-1,l.lastLineLength+1)}else u=new D(c,d,c,d);i=u.endLineNumber,o=u.endColumn,t.push(u),r=l}return t}static _sortOpsAscending(e,t){const i=D.compareRangesUsingEnds(e.range,t.range);return i===0?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){const i=D.compareRangesUsingEnds(e.range,t.range);return i===0?t.sortIndex-e.sortIndex:-i}}class tke{constructor(e,t,i,o,r,s,a,l,c){this._chunks=e,this._bom=t,this._cr=i,this._lf=o,this._crlf=r,this._containsRTL=s,this._containsUnusualLineTerminators=a,this._isBasicASCII=l,this._normalizeEOL=c}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:i>t/2?`\r
`:`
`}create(e){const t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let r=0,s=i.length;r<s;r++){const a=i[r].buffer.replace(/\r\n|\r|\n/g,t),l=lu(a);i[r]=new yp(a,l)}const o=new Zb(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:o,disposable:o}}}class Qee{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&Z8(e)&&(this.BOM=ive,e=e.substr(1));const t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=Xxe(this._tmpLineStarts,e);this.chunks.push(new yp(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=x_(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=RQ(e)))}finish(e=!0){return this._finish(),new tke(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=lu(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}}class ike{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,i){if(e>=this._store.length)return;if(t===0){this.insert(e,i);return}else if(i===0){this.delete(e,t);return}const o=this._store.slice(0,e),r=this._store.slice(e+t),s=nke(i,this._default);this._store=o.concat(s,r)}delete(e,t){t===0||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length)return;const i=[];for(let o=0;o<t;o++)i[o]=this._default;this._store=AT(this._store,e,i)}}function nke(n,e){const t=[];for(let i=0;i<n;i++)t[i]=e;return t}class oke{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}class M4{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e){i.appendLineTokens(t);return}}this._tokens.push(new oke(e,[t]))}finalize(){return this._tokens}}class rke{constructor(e,t){this.tokenizationSupport=t,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new A4(e)}getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class ske extends rke{constructor(e,t,i,o){super(e,t),this._textModel=i,this._languageIdCodec=o}updateTokensUntilLine(e,t){const i=this._textModel.getLanguageId();for(;;){const o=this.getFirstInvalidLine();if(!o||o.lineNumber>t)break;const r=this._textModel.getLineContent(o.lineNumber),s=g1(this._languageIdCodec,i,this.tokenizationSupport,r,!0,o.startState);e.add(o.lineNumber,s.tokens),this.store.setEndState(o.lineNumber,s.endState)}}getTokenTypeIfInsertingCharacter(e,t){const i=this.getStartState(e.lineNumber);if(!i)return 0;const o=this._textModel.getLanguageId(),r=this._textModel.getLineContent(e.lineNumber),s=r.substring(0,e.column-1)+t+r.substring(e.column-1),a=g1(this._languageIdCodec,o,this.tokenizationSupport,s,!0,i),l=new io(a.tokens,s,this._languageIdCodec);if(l.getCount()===0)return 0;const c=l.findTokenIndexAtOffset(e.column-1);return l.getStandardTokenType(c)}tokenizeLineWithEdit(e,t,i){const o=e.lineNumber,r=e.column,s=this.getStartState(o);if(!s)return null;const a=this._textModel.getLineContent(o),l=a.substring(0,r-1)+i+a.substring(r-1+t),c=this._textModel.getLanguageIdAtPosition(o,0),d=g1(this._languageIdCodec,c,this.tokenizationSupport,l,!0,s);return new io(d.tokens,l,this._languageIdCodec)}isCheapToTokenize(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t||e===t&&this._textModel.getLineLength(e)<2048}tokenizeHeuristically(e,t,i){if(i<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(t<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(e,i),{heuristicTokens:!1};let o=this.guessStartState(t);const r=this._textModel.getLanguageId();for(let s=t;s<=i;s++){const a=this._textModel.getLineContent(s),l=g1(this._languageIdCodec,r,this.tokenizationSupport,a,!0,o);e.add(s,l.tokens),o=l.endState}return{heuristicTokens:!0}}guessStartState(e){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);const i=[];let o=null;for(let a=e-1;t>1&&a>=1;a--){const l=this._textModel.getLineFirstNonWhitespaceColumn(a);if(l!==0&&l<t&&(i.push(this._textModel.getLineContent(a)),t=l,o=this.getStartState(a),o))break}o||(o=this.tokenizationSupport.getInitialState()),i.reverse();const r=this._textModel.getLanguageId();let s=o;for(const a of i)s=g1(this._languageIdCodec,r,this.tokenizationSupport,a,!1,s).endState;return s}}class A4{constructor(e){this.lineCount=e,this._tokenizationStateStore=new ake,this._invalidEndStatesLineNumbers=new lke,this._invalidEndStatesLineNumbers.addRange(new St(1,e+1))}getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new Hi("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);const i=this._tokenizationStateStore.setEndState(e,t);return i&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new St(e+1,e+2)),i}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new St(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(const t of e){const[i]=lf(t.text);this.acceptChange(new wt(t.range.startLineNumber,t.range.endLineNumber+1),i+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new St(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(e,t){return e===1?t:this.getEndState(e-1)}getFirstInvalidLine(e){const t=this.getFirstInvalidEndStateLineNumber();if(t===null)return null;const i=this.getStartState(t,e);if(!i)throw new Hi("Start state must be defined");return{lineNumber:t,startState:i}}}class ake{constructor(){this._lineEndStates=new ike(null)}getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){const i=this._lineEndStates.get(e);return i&&i.equals(t)?!1:(this._lineEndStates.set(e,t),!0)}acceptChange(e,t){let i=e.length;t>0&&i>0&&(i--,t--),this._lineEndStates.replace(e.startLineNumber,i,t)}}class lke{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(e){const t=this._ranges.findIndex(i=>i.contains(e));if(t!==-1){const i=this._ranges[t];i.start===e?i.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new St(e+1,i.endExclusive):i.endExclusive===e+1?this._ranges[t]=new St(i.start,e):this._ranges.splice(t,1,new St(i.start,e),new St(e+1,i.endExclusive))}}addRange(e){St.addRange(e,this._ranges)}addRangeAndResize(e,t){let i=0;for(;!(i>=this._ranges.length||e.start<=this._ranges[i].endExclusive);)i++;let o=i;for(;!(o>=this._ranges.length||e.endExclusive<this._ranges[o].start);)o++;const r=t-e.length;for(let s=o;s<this._ranges.length;s++)this._ranges[s]=this._ranges[s].delta(r);if(i===o){const s=new St(e.start,e.start+t);s.isEmpty||this._ranges.splice(i,0,s)}else{const s=Math.min(e.start,this._ranges[i].start),a=Math.max(e.endExclusive,this._ranges[o-1].endExclusive),l=new St(s,a+r);l.isEmpty?this._ranges.splice(i,o-i):this._ranges.splice(i,o-i,l)}}toString(){return this._ranges.map(e=>e.toString()).join(" + ")}}function g1(n,e,t,i,o,r){let s=null;if(t)try{s=t.tokenizeEncoded(i,o,r.clone())}catch(a){st(a)}return s||(s=aI(n.encodeLanguageId(e),r)),io.convertToEndOffset(s.tokens,i.length),s}class cke{constructor(e,t){this._tokenizerWithStateStore=e,this._backgroundTokenStore=t,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,WQ(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),i=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?rQ(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){const e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new M4,i=Jo.create(!1);do if(i.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(e){var t;const i=(t=this._tokenizerWithStateStore)===null||t===void 0?void 0:t.getFirstInvalidLine();return i?(this._tokenizerWithStateStore.updateTokensUntilLine(e,i.lineNumber),i.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new wt(e,t))}}const cu=new Uint32Array(0).buffer;class Qc{static deleteBeginning(e,t){return e===null||e===cu?e:Qc.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===cu)return e;const i=wu(e),o=i[i.length-2];return Qc.delete(e,t,o)}static delete(e,t,i){if(e===null||e===cu||t===i)return e;const o=wu(e),r=o.length>>>1;if(t===0&&o[o.length-2]===i)return cu;const s=io.findIndexInTokensArray(o,t),a=s>0?o[s-1<<1]:0,l=o[s<<1];if(i<l){const g=i-t;for(let f=s;f<r;f++)o[f<<1]-=g;return e}let c,d;a!==t?(o[s<<1]=t,c=s+1<<1,d=t):(c=s<<1,d=a);const u=i-t;for(let g=s+1;g<r;g++){const f=o[g<<1]-u;f>d&&(o[c++]=f,o[c++]=o[(g<<1)+1],d=f)}if(c===o.length)return e;const h=new Uint32Array(c);return h.set(o.subarray(0,c),0),h.buffer}static append(e,t){if(t===cu)return e;if(e===cu)return t;if(e===null)return e;if(t===null)return null;const i=wu(e),o=wu(t),r=o.length>>>1,s=new Uint32Array(i.length+o.length);s.set(i,0);let a=i.length;const l=i[i.length-2];for(let c=0;c<r;c++)s[a++]=o[c<<1]+l,s[a++]=o[(c<<1)+1];return s.buffer}static insert(e,t,i){if(e===null||e===cu)return e;const o=wu(e),r=o.length>>>1;let s=io.findIndexInTokensArray(o,t);s>0&&o[s-1<<1]===t&&s--;for(let a=s;a<r;a++)o[a<<1]+=i;return e}}function wu(n){return n instanceof Uint32Array?n:new Uint32Array(n)}class rw{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,i){let o=null;if(t<this._len&&(o=this._lineTokens[t]),o!==null&&o!==cu)return new io(wu(o),i,this._languageIdCodec);const r=new Uint32Array(2);return r[0]=i.length,r[1]=L$(this._languageIdCodec.encodeLanguageId(e)),new io(r,i,this._languageIdCodec)}static _massageTokens(e,t,i){const o=i?wu(i):null;if(t===0){let r=!1;if(o&&o.length>1&&(r=Bo.getLanguageId(o[1])!==e),!r)return cu}if(!o||o.length===0){const r=new Uint32Array(2);return r[0]=t,r[1]=L$(e),r.buffer}return o[o.length-2]=t,o.byteOffset===0&&o.byteLength===o.buffer.byteLength?o.buffer:o}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;const i=[];for(let o=0;o<t;o++)i[o]=null;this._lineTokens=AT(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,o,r){const s=rw._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,o);this._ensureLine(t);const a=this._lineTokens[t];return this._lineTokens[t]=s,r?!rw._equals(a,s):!1}static _equals(e,t){if(!e||!t)return!e&&!t;const i=wu(e),o=wu(t);if(i.length!==o.length)return!1;for(let r=0,s=i.length;r<s;r++)if(i[r]!==o[r])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new W(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=Qc.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=Qc.deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let o=null;i<this._len&&(o=Qc.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=Qc.append(this._lineTokens[t],o),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(t===0&&i===0)return;const o=e.lineNumber-1;if(!(o>=this._len)){if(t===0){this._lineTokens[o]=Qc.insert(this._lineTokens[o],e.column-1,i);return}this._lineTokens[o]=Qc.deleteEnding(this._lineTokens[o],e.column-1),this._lineTokens[o]=Qc.insert(this._lineTokens[o],e.column-1,i),this._insertLines(e.lineNumber,t)}}setMultilineTokens(e,t){if(e.length===0)return{changes:[]};const i=[];for(let o=0,r=e.length;o<r;o++){const s=e[o];let a=0,l=0,c=!1;for(let d=s.startLineNumber;d<=s.endLineNumber;d++)c?(this.setTokens(t.getLanguageId(),d-1,t.getLineLength(d),s.getLineTokens(d),!1),l=d):this.setTokens(t.getLanguageId(),d-1,t.getLineLength(d),s.getLineTokens(d),!0)&&(c=!0,a=d,l=d);c&&i.push({fromLineNumber:a,toLineNumber:l})}return{changes:i}}}function L$(n){return(n<<0|0|0|32768|2<<24|1024)>>>0}class K6{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const r=t[0].getRange(),s=t[t.length-1].getRange();if(!r||!s)return e;i=e.plusRange(r).plusRange(s)}let o=null;for(let r=0,s=this._pieces.length;r<s;r++){const a=this._pieces[r];if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){o=o||{index:r};break}if(a.removeTokens(i),a.isEmpty()){this._pieces.splice(r,1),r--,s--;continue}if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){o=o||{index:r};continue}const[l,c]=a.split(i);if(l.isEmpty()){o=o||{index:r};continue}c.isEmpty()||(this._pieces.splice(r,1,l,c),r++,s++,o=o||{index:r})}return o=o||{index:this._pieces.length},t.length>0&&(this._pieces=AT(this._pieces,o.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){if(t.getLineContent().length===0)return t;const i=this._pieces;if(i.length===0)return t;const o=K6._findFirstPieceWithLine(i,e),r=i[o].getLineTokens(e);if(!r)return t;const s=t.getCount(),a=r.getCount();let l=0;const c=[];let d=0,u=0;const h=(g,f)=>{g!==u&&(u=g,c[d++]=g,c[d++]=f)};for(let g=0;g<a;g++){const f=r.getStartCharacter(g),p=r.getEndCharacter(g),b=r.getMetadata(g),v=((b&1?2048:0)|(b&2?4096:0)|(b&4?8192:0)|(b&8?16384:0)|(b&16?16744448:0)|(b&32?4278190080:0))>>>0,_=~v>>>0;for(;l<s&&t.getEndOffset(l)<=f;)h(t.getEndOffset(l),t.getMetadata(l)),l++;for(l<s&&t.getStartOffset(l)<f&&h(f,t.getMetadata(l));l<s&&t.getEndOffset(l)<p;)h(t.getEndOffset(l),t.getMetadata(l)&_|b&v),l++;if(l<s)h(p,t.getMetadata(l)&_|b&v),t.getEndOffset(l)===p&&l++;else{const C=Math.min(Math.max(0,l-1),s-1);h(p,t.getMetadata(C)&_|b&v)}}for(;l<s;)h(t.getEndOffset(l),t.getMetadata(l)),l++;return new io(new Uint32Array(c),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,o=e.length-1;for(;i<o;){let r=i+Math.floor((o-i)/2);if(e[r].endLineNumber<t)i=r+1;else if(e[r].startLineNumber>t)o=r-1;else{for(;r>i&&e[r-1].startLineNumber<=t&&t<=e[r-1].endLineNumber;)r--;return r}}return i}acceptEdit(e,t,i,o,r){for(const s of this._pieces)s.acceptEdit(e,t,i,o,r)}}class x2 extends Iee{constructor(e,t,i,o,r,s){super(),this._languageService=e,this._languageConfigurationService=t,this._textModel=i,this._bracketPairsTextModelPart=o,this._languageId=r,this._attachedViews=s,this._semanticTokens=new K6(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new B),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new B),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new B),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new dke(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(a=>{a.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(a=>{this._emitModelTokensChangedEvent(a)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(a=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(e){if(e.isFlush)this._semanticTokens.flush();else if(!e.isEolChange)for(const t of e.changes){const[i,o,r]=lf(t.text);this._semanticTokens.acceptEdit(t.range,i,o,r,t.text.length>0?t.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(e)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(e){this.validateLineNumber(e);const t=this.grammarTokens.getLineTokens(e);return this._semanticTokens.addSparseTokens(e,t)}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}validateLineNumber(e){if(e<1||e>this._textModel.getLineCount())throw new Hi("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(e){this.validateLineNumber(e),this.grammarTokens.forceTokenization(e)}isCheapToTokenize(e){return this.validateLineNumber(e),this.grammarTokens.isCheapToTokenize(e)}tokenizeIfCheap(e){this.validateLineNumber(e),this.grammarTokens.tokenizeIfCheap(e)}getTokenTypeIfInsertingCharacter(e,t,i){return this.grammarTokens.getTokenTypeIfInsertingCharacter(e,t,i)}tokenizeLineWithEdit(e,t,i){return this.grammarTokens.tokenizeLineWithEdit(e,t,i)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),i=this._textModel.getLineContent(t.lineNumber),o=this.getLineTokens(t.lineNumber),r=o.findTokenIndexAtOffset(t.column-1),[s,a]=x2._findLanguageBoundaries(o,r),l=Ly(t.column,this.getLanguageConfiguration(o.getLanguageId(r)).getWordDefinition(),i.substring(s,a),s);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn)return l;if(r>0&&s===t.column-1){const[c,d]=x2._findLanguageBoundaries(o,r-1),u=Ly(t.column,this.getLanguageConfiguration(o.getLanguageId(r-1)).getWordDefinition(),i.substring(c,d),c);if(u&&u.startColumn<=e.column&&e.column<=u.endColumn)return u}return null}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let o=0;for(let s=t;s>=0&&e.getLanguageId(s)===i;s--)o=e.getStartOffset(s);let r=e.getLineContent().length;for(let s=t,a=e.getCount();s<a&&e.getLanguageId(s)===i;s++)r=e.getEndOffset(s);return[o,r]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const i=this._textModel.validatePosition(new W(e,t)),o=this.getLineTokens(i.lineNumber);return o.getLanguageId(o.findTokenIndexAtOffset(i.column-1))}setLanguageId(e,t="api"){if(this._languageId===e)return;const i={oldLanguage:this._languageId,newLanguage:e,source:t};this._languageId=e,this._bracketPairsTextModelPart.handleDidChangeLanguage(i),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(i),this._onDidChangeLanguageConfiguration.fire({})}}class dke extends z{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(e,t,i,o){super(),this._languageIdCodec=e,this._textModel=t,this.getLanguageId=i,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new bo),this._tokens=new rw(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new bo),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new B),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new B),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new F8),this._register(rn.onDidChange(r=>{const s=this.getLanguageId();r.changedLanguages.indexOf(s)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(o.onDidChangeVisibleRanges(({view:r,state:s})=>{if(s){let a=this._attachedViewStates.get(r);a||(a=new uke(()=>this.refreshRanges(a.lineRanges)),this._attachedViewStates.set(r,a)),a.handleStateChange(s)}else this._attachedViewStates.deleteAndDispose(r)}))}resetTokenization(e=!0){var t;this._tokens.flush(),(t=this._debugBackgroundTokens)===null||t===void 0||t.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new A4(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const i=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const s=rn.get(this.getLanguageId());if(!s)return[null,null];let a;try{a=s.getInitialState()}catch(l){return st(l),[null,null]}return[s,a]},[o,r]=i();if(o&&r?this._tokenizer=new ske(this._textModel.getLineCount(),o,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const s={setTokens:a=>{this.setTokens(a)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const a=2;this._backgroundTokenizationState=a,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(a,l)=>{var c;if(!this._tokenizer)return;const d=this._tokenizer.store.getFirstInvalidEndStateLineNumber();d!==null&&a>=d&&((c=this._tokenizer)===null||c===void 0||c.store.setEndState(a,l))}};o&&o.createBackgroundTokenizer&&!o.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=o.createBackgroundTokenizer(this._textModel,s)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new cke(this._tokenizer,s),this._defaultBackgroundTokenizer.handleChanges()),o!=null&&o.backgroundTokenizerShouldOnlyVerifyTokens&&o.createBackgroundTokenizer?(this._debugBackgroundTokens=new rw(this._languageIdCodec),this._debugBackgroundStates=new A4(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=o.createBackgroundTokenizer(this._textModel,{setTokens:a=>{var l;(l=this._debugBackgroundTokens)===null||l===void 0||l.setMultilineTokens(a,this._textModel)},backgroundTokenizationFinished(){},setEndState:(a,l)=>{var c;(c=this._debugBackgroundStates)===null||c===void 0||c.setEndState(a,l)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var e;(e=this._defaultBackgroundTokenizer)===null||e===void 0||e.handleChanges()}handleDidChangeContent(e){var t,i,o;if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(const r of e.changes){const[s,a]=lf(r.text);this._tokens.acceptEdit(r.range,s,a),(t=this._debugBackgroundTokens)===null||t===void 0||t.acceptEdit(r.range,s,a)}(i=this._debugBackgroundStates)===null||i===void 0||i.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),(o=this._defaultBackgroundTokenizer)===null||o===void 0||o.handleChanges()}}setTokens(e){const{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){const e=wt.joinMany([...this._attachedViewStates].map(([t,i])=>i.lineRanges));this.refreshRanges(e)}refreshRanges(e){for(const t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){var i,o;if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);const r=new M4,{heuristicTokens:s}=this._tokenizer.tokenizeHeuristically(r,e,t),a=this.setTokens(r.finalize());if(s)for(const l of a.changes)(i=this._backgroundTokenizer.value)===null||i===void 0||i.requestTokens(l.fromLineNumber,l.toLineNumber+1);(o=this._defaultBackgroundTokenizer)===null||o===void 0||o.checkFinished()}forceTokenization(e){var t,i;const o=new M4;(t=this._tokenizer)===null||t===void 0||t.updateTokensUntilLine(o,e),this.setTokens(o.finalize()),(i=this._defaultBackgroundTokenizer)===null||i===void 0||i.checkFinished()}isCheapToTokenize(e){return this._tokenizer?this._tokenizer.isCheapToTokenize(e):!0}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){var t;const i=this._textModel.getLineContent(e),o=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,i);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){const r=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,i);!o.equals(r)&&(!((t=this._debugBackgroundTokenizer.value)===null||t===void 0)&&t.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return o}getTokenTypeIfInsertingCharacter(e,t,i){if(!this._tokenizer)return 0;const o=this._textModel.validatePosition(new W(e,t));return this.forceTokenization(o.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(o,i)}tokenizeLineWithEdit(e,t,i){if(!this._tokenizer)return null;const o=this._textModel.validatePosition(e);return this.forceTokenization(o.lineNumber),this._tokenizer.tokenizeLineWithEdit(o,t,i)}get hasTokens(){return this._tokens.hasTokens}}class uke extends z{get lineRanges(){return this._lineRanges}constructor(e){super(),this._refreshTokens=e,this.runner=this._register(new mi(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){en(this._computedLineRanges,this._lineRanges,(e,t)=>e.equals(t))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(e){this._lineRanges=e.visibleLineRanges,e.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}const yI=Et("undoRedoService");class Jee{constructor(e,t){this.resource=e,this.elements=t}}class W_{constructor(){this.id=W_._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}W_._ID=0;W_.None=new W_;class ld{constructor(){this.id=ld._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}ld._ID=0;ld.None=new ld;var hke=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},AM=function(n,e){return function(t,i){e(t,i,n)}},dp;function gke(n){const e=new Qee;return e.acceptChunk(n),e.finish()}function fke(n){const e=new Qee;let t;for(;typeof(t=n.read())=="string";)e.acceptChunk(t);return e.finish()}function D$(n,e){let t;return typeof n=="string"?t=gke(n):a0e(n)?t=fke(n):t=n,t.create(e)}let nk=0;const pke=999,mke=1e4;class vke{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,i=0;do{const o=this._source.read();if(o===null)return this._eos=!0,t===0?null:e.join("");if(o.length>0&&(e[t++]=o,i+=o.length),i>=64*1024)return e.join("")}while(!0)}}const f1=()=>{throw new Error("Invalid change accessor")};let Fd=dp=class extends z{static resolveOptions(e,t){if(t.detectIndentation){const i=b$(e,t.tabSize,t.insertSpaces);return new LL({tabSize:i.tabSize,indentSize:"tabSize",insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new LL(t)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}onDidChangeContentOrInjectedText(e){return vl(this._eventEmitter.fastEvent(t=>e(t)),this._onDidChangeInjectedText.event(t=>e(t)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(e,t,i,o=null,r,s,a){super(),this._undoRedoService=r,this._languageService=s,this._languageConfigurationService=a,this._onWillDispose=this._register(new B),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Ske(g=>this.handleBeforeFireDecorationsChangedEvent(g))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new B),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new B),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new B),this._eventEmitter=this._register(new xke),this._languageSelectionListener=this._register(new bo),this._deltaDecorationCallCnt=0,this._attachedViews=new kke,nk++,this.id="$model"+nk,this.isForSimpleWidget=i.isForSimpleWidget,typeof o>"u"||o===null?this._associatedResource=Ke.parse("inmemory://model/"+nk):this._associatedResource=o,this._attachedEditorCount=0;const{textBuffer:l,disposable:c}=D$(e,i.defaultEOL);this._buffer=l,this._bufferDisposable=c,this._options=dp.resolveOptions(this._buffer,i);const d=typeof t=="string"?t:t.languageId;typeof t!="string"&&(this._languageSelectionListener.value=t.onDidChange(()=>this._setLanguage(t.languageId))),this._bracketPairs=this._register(new wxe(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new mSe(this,this._languageConfigurationService)),this._decorationProvider=this._register(new xxe(this)),this._tokenizationTextModelPart=new x2(this._languageService,this._languageConfigurationService,this,this._bracketPairs,d,this._attachedViews);const u=this._buffer.getLineCount(),h=this._buffer.getValueLengthInRange(new D(1,1,u,this._buffer.getLineLength(u)+1),0);i.largeFileOptimizations?(this._isTooLargeForTokenization=h>dp.LARGE_FILE_SIZE_THRESHOLD||u>dp.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=h>dp.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=h>dp._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=MQ(nk),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new E$,this._commandManager=new z6(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(d)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new Zb([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=z.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new Zp(e,t)))}setValue(e){if(this._assertNotDisposed(),e==null)throw Ra();const{textBuffer:t,disposable:i}=D$(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,o,r,s,a,l){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:o}],eol:this._buffer.getEOL(),isEolChange:l,versionId:this.getVersionId(),isUndoing:r,isRedoing:s,isFlush:a}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),o=this.getValueLengthInRange(i),r=this.getLineCount(),s=this.getLineMaxColumn(r);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new E$,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Kb([new qSe],this._versionId,!1,!1),this._createContentChanged2(new D(1,1,r,s),0,o,this.getValue(),!1,!1,!0,!1))}setEOL(e){this._assertNotDisposed();const t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),o=this.getValueLengthInRange(i),r=this.getLineCount(),s=this.getLineMaxColumn(r);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Kb([new YSe],this._versionId,!1,!1),this._createContentChanged2(new D(1,1,r,s),0,o,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,o=t.length;i<o;i++){const r=t[i],s=r.range,a=r.cachedAbsoluteStart-r.start,l=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),c=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);r.cachedAbsoluteStart=l,r.cachedAbsoluteEnd=c,r.cachedVersionId=e,r.start=l-a,r.end=c-a,df(r)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(e){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(e)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let o=1;o<=i;o++){const r=this._buffer.getLineLength(o);r>=mke?t+=r:e+=r}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t=typeof e.tabSize<"u"?e.tabSize:this._options.tabSize,i=typeof e.indentSize<"u"?e.indentSize:this._options.originalIndentSize,o=typeof e.insertSpaces<"u"?e.insertSpaces:this._options.insertSpaces,r=typeof e.trimAutoWhitespace<"u"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,s=typeof e.bracketColorizationOptions<"u"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,a=new LL({tabSize:t,indentSize:i,insertSpaces:o,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:r,bracketPairColorizationOptions:s});if(this._options.equals(a))return;const l=this._options.createChangeEvent(a);this._options=a,this._bracketPairs.handleDidChangeOptions(l),this._decorationProvider.handleDidChangeOptions(l),this._onDidChangeOptions.fire(l)}detectIndentation(e,t){this._assertNotDisposed();const i=b$(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),m2(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(NQ.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new Hi("Operation would exceed heap memory limits");const i=this.getFullModelRange(),o=this.getValueInRange(i,e);return t?this._buffer.getBOM()+o:o}createSnapshot(e=!1){return new vke(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),o=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+o:o}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Hi("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Hi("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new Hi("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Hi("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Hi("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Hi("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,o=e.startColumn;let r=Math.floor(typeof i=="number"&&!isNaN(i)?i:1),s=Math.floor(typeof o=="number"&&!isNaN(o)?o:1);if(r<1)r=1,s=1;else if(r>t)r=t,s=this.getLineMaxColumn(r);else if(s<=1)s=1;else{const u=this.getLineMaxColumn(r);s>=u&&(s=u)}const a=e.endLineNumber,l=e.endColumn;let c=Math.floor(typeof a=="number"&&!isNaN(a)?a:1),d=Math.floor(typeof l=="number"&&!isNaN(l)?l:1);if(c<1)c=1,d=1;else if(c>t)c=t,d=this.getLineMaxColumn(c);else if(d<=1)d=1;else{const u=this.getLineMaxColumn(c);d>=u&&(d=u)}return i===r&&o===s&&a===c&&l===d&&e instanceof D&&!(e instanceof Pe)?e:new D(r,s,c,d)}_isValidPosition(e,t,i){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;const o=this._buffer.getLineCount();if(e>o)return!1;if(t===1)return!0;const r=this.getLineMaxColumn(e);if(t>r)return!1;if(i===1){const s=this._buffer.getLineCharCode(e,t-2);if(to(s))return!1}return!0}_validatePosition(e,t,i){const o=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),r=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),s=this._buffer.getLineCount();if(o<1)return new W(1,1);if(o>s)return new W(s,this.getLineMaxColumn(s));if(r<=1)return new W(o,1);const a=this.getLineMaxColumn(o);if(r>=a)return new W(o,a);if(i===1){const l=this._buffer.getLineCharCode(o,r-2);if(to(l))return new W(o,r-1)}return new W(o,r)}validatePosition(e){return this._assertNotDisposed(),e instanceof W&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,o=e.startColumn,r=e.endLineNumber,s=e.endColumn;if(!this._isValidPosition(i,o,0)||!this._isValidPosition(r,s,0))return!1;if(t===1){const a=o>1?this._buffer.getLineCharCode(i,o-2):0,l=s>1&&s<=this._buffer.getLineLength(r)?this._buffer.getLineCharCode(r,s-2):0,c=to(a),d=to(l);return!c&&!d}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof D&&!(e instanceof Pe)&&this._isValidRange(e,1))return e;const i=this._validatePosition(e.startLineNumber,e.startColumn,0),o=this._validatePosition(e.endLineNumber,e.endColumn,0),r=i.lineNumber,s=i.column,a=o.lineNumber,l=o.column;{const c=s>1?this._buffer.getLineCharCode(r,s-2):0,d=l>1&&l<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,l-2):0,u=to(c),h=to(d);return!u&&!h?new D(r,s,a,l):r===a&&s===l?new D(r,s-1,a,l-1):u&&h?new D(r,s-1,a,l+1):u?new D(r,s-1,a,l):new D(r,s,a,l+1)}}modifyPosition(e,t){this._assertNotDisposed();const i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new D(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,o){return this._buffer.findMatchesLineByLine(e,t,i,o)}findMatches(e,t,i,o,r,s,a=pke){this._assertNotDisposed();let l=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(u=>D.isIRange(u))&&(l=t.map(u=>this.validateRange(u)))),l===null&&(l=[this.getFullModelRange()]),l=l.sort((u,h)=>u.startLineNumber-h.startLineNumber||u.startColumn-h.startColumn);const c=[];c.push(l.reduce((u,h)=>D.areIntersecting(u,h)?u.plusRange(h):(c.push(u),h)));let d;if(!i&&e.indexOf(`
`)<0){const h=new cp(e,i,o,r).parseSearchRequest();if(!h)return[];d=g=>this.findMatchesLineByLine(g,h,s,a)}else d=u=>Wx.findMatches(this,new cp(e,i,o,r),u,s,a);return c.map(d).reduce((u,h)=>u.concat(h),[])}findNextMatch(e,t,i,o,r,s){this._assertNotDisposed();const a=this.validatePosition(t);if(!i&&e.indexOf(`
`)<0){const c=new cp(e,i,o,r).parseSearchRequest();if(!c)return null;const d=this.getLineCount();let u=new D(a.lineNumber,a.column,d,this.getLineMaxColumn(d)),h=this.findMatchesLineByLine(u,c,s,1);return Wx.findNextMatch(this,new cp(e,i,o,r),a,s),h.length>0||(u=new D(1,1,a.lineNumber,this.getLineMaxColumn(a.lineNumber)),h=this.findMatchesLineByLine(u,c,s,1),h.length>0)?h[0]:null}return Wx.findNextMatch(this,new cp(e,i,o,r),a,s)}findPreviousMatch(e,t,i,o,r,s){this._assertNotDisposed();const a=this.validatePosition(t);return Wx.findPreviousMatch(this,new cp(e,i,o,r),a,s)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof hM?e:new hM(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,o=e.length;i<o;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i,o){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i,o)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i,o){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const r=t.map(a=>({range:this.validateRange(a.range),text:a.text}));let s=!0;if(e)for(let a=0,l=e.length;a<l;a++){const c=e[a];let d=!1;for(let u=0,h=r.length;u<h;u++){const g=r[u].range,f=g.startLineNumber>c.endLineNumber,p=c.startLineNumber>g.endLineNumber;if(!f&&!p){d=!0;break}}if(!d){s=!1;break}}if(s)for(let a=0,l=this._trimAutoWhitespaceLines.length;a<l;a++){const c=this._trimAutoWhitespaceLines[a],d=this.getLineMaxColumn(c);let u=!0;for(let h=0,g=r.length;h<g;h++){const f=r[h].range,p=r[h].text;if(!(c<f.startLineNumber||c>f.endLineNumber)&&!(c===f.startLineNumber&&f.startColumn===d&&f.isEmpty()&&p&&p.length>0&&p.charAt(0)===`
`)&&!(c===f.startLineNumber&&f.startColumn===1&&f.isEmpty()&&p&&p.length>0&&p.charAt(p.length-1)===`
`)){u=!1;break}}if(u){const h=new D(c,1,c,d);t.push(new hM(null,h,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i,o)}_applyUndo(e,t,i,o){const r=e.map(s=>{const a=this.getPositionAt(s.newPosition),l=this.getPositionAt(s.newEnd);return{range:new D(a.lineNumber,a.column,l.lineNumber,l.column),text:s.oldText}});this._applyUndoRedoEdits(r,t,!0,!1,i,o)}_applyRedo(e,t,i,o){const r=e.map(s=>{const a=this.getPositionAt(s.oldPosition),l=this.getPositionAt(s.oldEnd);return{range:new D(a.lineNumber,a.column,l.lineNumber,l.column),text:s.newText}});this._applyUndoRedoEdits(r,t,!1,!0,i,o)}_applyUndoRedoEdits(e,t,i,o,r,s){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=o,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(r)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(s),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),o=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),r=this._buffer.getLineCount(),s=o.changes;if(this._trimAutoWhitespaceLines=o.trimAutoWhitespaceLineNumbers,s.length!==0){for(let c=0,d=s.length;c<d;c++){const u=s[c];this._decorationsTree.acceptReplace(u.rangeOffset,u.rangeLength,u.text.length,u.forceMoveMarkers)}const a=[];this._increaseVersionId();let l=i;for(let c=0,d=s.length;c<d;c++){const u=s[c],[h]=lf(u.text);this._onDidChangeDecorations.fire();const g=u.range.startLineNumber,f=u.range.endLineNumber,p=f-g,b=h,v=Math.min(p,b),_=b-p,C=r-l-_+g,y=C,w=C+b,S=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new W(y,1)),this.getOffsetAt(new W(w,this.getLineMaxColumn(w))),0),x=Sc.fromDecorations(S),L=new dh(x);for(let E=v;E>=0;E--){const O=g+E,P=C+E;L.takeFromEndWhile(F=>F.lineNumber>P);const A=L.takeFromEndWhile(F=>F.lineNumber===P);a.push(new c$(O,this.getLineContent(P),A))}if(v<p){const E=g+v;a.push(new GSe(E+1,f))}if(v<b){const E=new dh(x),O=g+v,P=b-v,A=r-l-P+O+1,F=[],K=[];for(let te=0;te<P;te++){const ye=A+te;K[te]=this.getLineContent(ye),E.takeWhile(be=>be.lineNumber<ye),F[te]=E.takeWhile(be=>be.lineNumber===ye)}a.push(new ZSe(O+1,g+b,K,F))}l+=_}this._emitContentChangedEvent(new Kb(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:s,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return o.reverseEdits===null?void 0:o.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;const i=Array.from(e).map(o=>new c$(o,this.getLineContent(o),this._getInjectedTextInLine(o)));this._onDidChangeInjectedText.fire(new Mee(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const i={addDecoration:(r,s)=>this._deltaDecorationsImpl(e,[],[{range:r,options:s}])[0],changeDecoration:(r,s)=>{this._changeDecorationImpl(r,s)},changeDecorationOptions:(r,s)=>{this._changeDecorationOptionsImpl(r,I$(s))},removeDecoration:r=>{this._deltaDecorationsImpl(e,[r],[])},deltaDecorations:(r,s)=>r.length===0&&s.length===0?[]:this._deltaDecorationsImpl(e,r,s)};let o=null;try{o=t(i)}catch(r){st(r)}return i.addDecoration=f1,i.changeDecoration=f1,i.changeDecorationOptions=f1,i.removeDecoration=f1,i.deltaDecorations=f1,o}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),st(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const o=e?this._decorations[e]:null;if(!o)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:T$[i]}],!0)[0]:null;if(!t)return this._decorationsTree.delete(o),delete this._decorations[o.id],null;const r=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),a=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);return this._decorationsTree.delete(o),o.reset(this.getVersionId(),s,a,r),o.setOptions(T$[i]),this._decorationsTree.insert(o),o.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,o=t.length;i<o;i++){const r=t[i];this._decorationsTree.delete(r),delete this._decorations[r.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,o=!1,r=!1){const s=this.getLineCount(),a=Math.min(s,Math.max(1,e)),l=Math.min(s,Math.max(1,t)),c=this.getLineMaxColumn(l),d=new D(a,1,l,c),u=this._getDecorationsInRange(d,i,o,r);return HO(u,this._decorationProvider.getDecorationsInRange(d,i,o)),u}getDecorationsInRange(e,t=0,i=!1,o=!1,r=!1){const s=this.validateRange(e),a=this._getDecorationsInRange(s,t,i,r);return HO(a,this._decorationProvider.getDecorationsInRange(s,t,i,o)),a}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0,!1)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),o=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return Sc.fromDecorations(o).filter(r=>r.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}getAllMarginDecorations(e=0){return this._decorationsTree.getAll(this,e,!1,!1,!0)}_getDecorationsInRange(e,t,i,o){const r=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),s=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,r,s,t,i,o)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.endLineNumber)}if(i.options.before){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.startLineNumber)}const o=this._validateRangeRelaxedNoAllocations(t),r=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),s=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),r,s,o),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const o=!!(i.options.overviewRuler&&i.options.overviewRuler.color),r=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const l=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(l.endLineNumber)}if(i.options.before||t.before){const l=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(l.startLineNumber)}const s=o!==r,a=_ke(t)!==PL(i);s||a?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i,o=!1){const r=this.getVersionId(),s=t.length;let a=0;const l=i.length;let c=0;this._onDidChangeDecorations.beginDeferredEmit();try{const d=new Array(l);for(;a<s||c<l;){let u=null;if(a<s){do u=this._decorations[t[a++]];while(!u&&a<s);if(u){if(u.options.after){const h=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.endLineNumber)}if(u.options.before){const h=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.startLineNumber)}this._decorationsTree.delete(u),o||this._onDidChangeDecorations.checkAffectedAndFire(u.options)}}if(c<l){if(!u){const v=++this._lastDecorationId,_=`${this._instanceId};${v}`;u=new Gee(_,0,0),this._decorations[_]=u}const h=i[c],g=this._validateRangeRelaxedNoAllocations(h.range),f=I$(h.options),p=this._buffer.getOffsetAt(g.startLineNumber,g.startColumn),b=this._buffer.getOffsetAt(g.endLineNumber,g.endColumn);u.ownerId=e,u.reset(r,p,b,g),u.setOptions(f),u.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(g.endLineNumber),u.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(g.startLineNumber),o||this._onDidChangeDecorations.checkAffectedAndFire(f),this._decorationsTree.insert(u),d[c]=u.id,c++}else u&&delete this._decorations[u.id]}return d}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(e,t){typeof e=="string"?(this._languageSelectionListener.clear(),this._setLanguage(e,t)):(this._languageSelectionListener.value=e.onDidChange(()=>this._setLanguage(e.languageId,t)),this._setLanguage(e.languageId,t))}_setLanguage(e,t){this.tokenization.setLanguageId(e,t),this._languageService.requestRichLanguageFeatures(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return bke(this.getLineContent(e))+1}};Fd._MODEL_SYNC_LIMIT=50*1024*1024;Fd.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024;Fd.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3;Fd.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024;Fd.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:qo.tabSize,indentSize:qo.indentSize,insertSpaces:qo.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:qo.trimAutoWhitespace,largeFileOptimizations:qo.largeFileOptimizations,bracketPairColorizationOptions:qo.bracketPairColorizationOptions};Fd=dp=hke([AM(4,yI),AM(5,Bi),AM(6,Di)],Fd);function bke(n){let e=0;for(const t of n)if(t===" "||t==="	")e++;else break;return e}function PM(n){return!!(n.options.overviewRuler&&n.options.overviewRuler.color)}function _ke(n){return!!n.after||!!n.before}function PL(n){return!!n.options.after||!!n.options.before}class E${constructor(){this._decorationsTree0=new NM,this._decorationsTree1=new NM,this._injectedTextDecorationsTree=new NM}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)i.range===null&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,o,r,s){const a=e.getVersionId(),l=this._intervalSearch(t,i,o,r,a,s);return this._ensureNodesHaveRanges(e,l)}_intervalSearch(e,t,i,o,r,s){const a=this._decorationsTree0.intervalSearch(e,t,i,o,r,s),l=this._decorationsTree1.intervalSearch(e,t,i,o,r,s),c=this._injectedTextDecorationsTree.intervalSearch(e,t,i,o,r,s);return a.concat(l).concat(c)}getInjectedTextInInterval(e,t,i,o){const r=e.getVersionId(),s=this._injectedTextDecorationsTree.intervalSearch(t,i,o,!1,r,!1);return this._ensureNodesHaveRanges(e,s).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAllInjectedText(e,t){const i=e.getVersionId(),o=this._injectedTextDecorationsTree.search(t,!1,i,!1);return this._ensureNodesHaveRanges(e,o).filter(r=>r.options.showIfCollapsed||!r.range.isEmpty())}getAll(e,t,i,o,r){const s=e.getVersionId(),a=this._search(t,i,o,s,r);return this._ensureNodesHaveRanges(e,a)}_search(e,t,i,o,r){if(i)return this._decorationsTree1.search(e,t,o,r);{const s=this._decorationsTree0.search(e,t,o,r),a=this._decorationsTree1.search(e,t,o,r),l=this._injectedTextDecorationsTree.search(e,t,o,r);return s.concat(a).concat(l)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),o=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(o)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){PL(e)?this._injectedTextDecorationsTree.insert(e):PM(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){PL(e)?this._injectedTextDecorationsTree.delete(e):PM(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){PL(e)?this._injectedTextDecorationsTree.resolveNode(e,t):PM(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,o){this._decorationsTree0.acceptReplace(e,t,i,o),this._decorationsTree1.acceptReplace(e,t,i,o),this._injectedTextDecorationsTree.acceptReplace(e,t,i,o)}}function Wc(n){return n.replace(/[^a-z0-9\-_]/gi," ")}class ete{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class Cke extends ete{constructor(e){super(e),this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:la.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;const i=e?t.getColor(e.id):null;return i?i.toString():""}}class yke{constructor(e){var t;this.position=(t=e==null?void 0:e.position)!==null&&t!==void 0?t:Ad.Center,this.persistLane=e==null?void 0:e.persistLane}}class wke extends ete{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?U.fromHex(e):t.getColor(e.id)}}class uf{static from(e){return e instanceof uf?e:new uf(e)}constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}}class dt{static register(e){return new dt(e)}static createDynamic(e){return new dt(e)}constructor(e){var t,i,o,r,s,a;this.description=e.description,this.blockClassName=e.blockClassName?Wc(e.blockClassName):null,this.blockDoesNotCollapse=(t=e.blockDoesNotCollapse)!==null&&t!==void 0?t:null,this.blockIsAfterEnd=(i=e.blockIsAfterEnd)!==null&&i!==void 0?i:null,this.blockPadding=(o=e.blockPadding)!==null&&o!==void 0?o:null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Wc(e.className):null,this.shouldFillLineOnLineBreak=(r=e.shouldFillLineOnLineBreak)!==null&&r!==void 0?r:null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=e.lineNumberHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new Cke(e.overviewRuler):null,this.minimap=e.minimap?new wke(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new yke(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?Wc(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Wc(e.linesDecorationsClassName):null,this.lineNumberClassName=e.lineNumberClassName?Wc(e.lineNumberClassName):null,this.linesDecorationsTooltip=e.linesDecorationsTooltip?Kme(e.linesDecorationsTooltip):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?Wc(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?Wc(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Wc(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Wc(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Wc(e.afterContentClassName):null,this.after=e.after?uf.from(e.after):null,this.before=e.before?uf.from(e.before):null,this.hideInCommentTokens=(s=e.hideInCommentTokens)!==null&&s!==void 0?s:!1,this.hideInStringTokens=(a=e.hideInStringTokens)!==null&&a!==void 0?a:!1}}dt.EMPTY=dt.register({description:"empty"});const T$=[dt.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),dt.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),dt.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),dt.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function I$(n){return n instanceof dt?n:dt.createDynamic(n)}class Ske extends z{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new B),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(e=this._affectedInjectedTextLines)===null||e===void 0||e.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){var t,i;this._affectsMinimap||(this._affectsMinimap=!!(!((t=e.minimap)===null||t===void 0)&&t.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(!((i=e.overviewRuler)===null||i===void 0)&&i.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!e.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!e.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(e)}}class xke extends z{constructor(){super(),this._fastEmitter=this._register(new B),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new B),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}class kke{constructor(){this._onDidChangeVisibleRanges=new B,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const e=new Lke(t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})});return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}}class Lke{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){const i=e.map(o=>new wt(o.startLineNumber,o.endLineNumber+1));this.handleStateChange({visibleLineRanges:i,stabilized:t})}}class q6{static create(e){return new q6(e.get(133),e.get(132))}constructor(e,t){this.classifier=new Dke(e,t)}createLineBreaksComputer(e,t,i,o,r){const s=[],a=[],l=[];return{addRequest:(c,d,u)=>{s.push(c),a.push(d),l.push(u)},finalize:()=>{const c=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,d=[];for(let u=0,h=s.length;u<h;u++){const g=a[u],f=l[u];f&&!f.injectionOptions&&!g?d[u]=Eke(this.classifier,f,s[u],t,i,c,o,r):d[u]=Tke(this.classifier,s[u],g,t,i,c,o,r)}return P4.length=0,O4.length=0,d}}}}class Dke extends C0{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let P4=[],O4=[];function Eke(n,e,t,i,o,r,s,a){if(o===-1)return null;const l=t.length;if(l<=1)return null;const c=a==="keepAll",d=e.breakOffsets,u=e.breakOffsetsVisibleColumn,h=tte(t,i,o,r,s),g=o-h,f=P4,p=O4;let b=0,v=0,_=0,C=o;const y=d.length;let w=0;if(w>=0){let S=Math.abs(u[w]-C);for(;w+1<y;){const x=Math.abs(u[w+1]-C);if(x>=S)break;S=x,w++}}for(;w<y;){let S=w<0?0:d[w],x=w<0?0:u[w];v>S&&(S=v,x=_);let L=0,E=0,O=0,P=0;if(x<=C){let F=x,K=S===0?0:t.charCodeAt(S-1),te=S===0?0:n.get(K),ye=!0;for(let be=S;be<l;be++){const ae=be,Q=t.charCodeAt(be);let _e,Ie;if(to(Q)?(be++,_e=0,Ie=2):(_e=n.get(Q),Ie=OC(Q,F,i,r)),ae>v&&F4(K,te,Q,_e,c)&&(L=ae,E=F),F+=Ie,F>C){ae>v?(O=ae,P=F-Ie):(O=be+1,P=F),F-E>g&&(L=0),ye=!1;break}K=Q,te=_e}if(ye){b>0&&(f[b]=d[d.length-1],p[b]=u[d.length-1],b++);break}}if(L===0){let F=x,K=t.charCodeAt(S),te=n.get(K),ye=!1;for(let be=S-1;be>=v;be--){const ae=be+1,Q=t.charCodeAt(be);if(Q===9){ye=!0;break}let _e,Ie;if(hm(Q)?(be--,_e=0,Ie=2):(_e=n.get(Q),Ie=ef(Q)?r:1),F<=C){if(O===0&&(O=ae,P=F),F<=C-g)break;if(F4(Q,_e,K,te,c)){L=ae,E=F;break}}F-=Ie,K=Q,te=_e}if(L!==0){const be=g-(P-E);if(be<=i){const ae=t.charCodeAt(O);let Q;to(ae)?Q=2:Q=OC(ae,P,i,r),be-Q<0&&(L=0)}}if(ye){w--;continue}}if(L===0&&(L=O,E=P),L<=v){const F=t.charCodeAt(v);to(F)?(L=v+2,E=_+2):(L=v+1,E=_+OC(F,_,i,r))}for(v=L,f[b]=L,_=E,p[b]=E,b++,C=E+g;w<0||w<y&&u[w]<E;)w++;let A=Math.abs(u[w]-C);for(;w+1<y;){const F=Math.abs(u[w+1]-C);if(F>=A)break;A=F,w++}}return b===0?null:(f.length=b,p.length=b,P4=e.breakOffsets,O4=e.breakOffsetsVisibleColumn,e.breakOffsets=f,e.breakOffsetsVisibleColumn=p,e.wrappedTextIndentLength=h,e)}function Tke(n,e,t,i,o,r,s,a){const l=Sc.applyInjectedText(e,t);let c,d;if(t&&t.length>0?(c=t.map(E=>E.options),d=t.map(E=>E.column-1)):(c=null,d=null),o===-1)return c?new NC(d,c,[l.length],[],0):null;const u=l.length;if(u<=1)return c?new NC(d,c,[l.length],[],0):null;const h=a==="keepAll",g=tte(l,i,o,r,s),f=o-g,p=[],b=[];let v=0,_=0,C=0,y=o,w=l.charCodeAt(0),S=n.get(w),x=OC(w,0,i,r),L=1;to(w)&&(x+=1,w=l.charCodeAt(1),S=n.get(w),L++);for(let E=L;E<u;E++){const O=E,P=l.charCodeAt(E);let A,F;to(P)?(E++,A=0,F=2):(A=n.get(P),F=OC(P,x,i,r)),F4(w,S,P,A,h)&&(_=O,C=x),x+=F,x>y&&((_===0||x-C>f)&&(_=O,C=x-F),p[v]=_,b[v]=C,v++,y=C+f,_=0),w=P,S=A}return v===0&&(!t||t.length===0)?null:(p[v]=u,b[v]=x,new NC(d,c,p,b,g))}function OC(n,e,t,i){return n===9?t-e%t:ef(n)||n<32?i:1}function N$(n,e){return e-n%e}function F4(n,e,t,i,o){return t!==32&&(e===2&&i!==2||e!==1&&i===1||!o&&e===3&&i!==2||!o&&i===3&&e!==1)}function tte(n,e,t,i,o){let r=0;if(o!==0){const s=hr(n);if(s!==-1){for(let l=0;l<s;l++){const c=n.charCodeAt(l)===9?N$(r,e):1;r+=c}const a=o===3?2:o===2?1:0;for(let l=0;l<a;l++){const c=N$(r,e);r+=c}r+i>t&&(r=0)}}return r}class k2{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new ko(new D(1,1,1,1),0,0,new W(1,1),0),new ko(new D(1,1,1,1),0,0,new W(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new zt(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!t.isEmpty()?Pe.fromRange(t.collapseToEnd(),this.modelState.selection.getDirection()):Pe.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,o){return t.equals(i)?o:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,o=t.selectionStart.getStartPosition(),r=t.selectionStart.getEndPosition(),s=e.normalizePosition(i,2),a=this._validatePositionWithCache(e,o,i,s),l=this._validatePositionWithCache(e,r,o,a);return i.equals(s)&&o.equals(a)&&r.equals(l)?t:new ko(D.fromPositions(a,l),t.selectionStartKind,t.selectionStartLeftoverVisibleColumns+o.column-a.column,s,t.leftoverVisibleColumns+i.column-s.column)}_setState(e,t,i){if(i&&(i=k2._validateViewState(e.viewModel,i)),t){const o=e.model.validateRange(t.selectionStart),r=t.selectionStart.equalsRange(o)?t.selectionStartLeftoverVisibleColumns:0,s=e.model.validatePosition(t.position),a=t.position.equals(s)?t.leftoverVisibleColumns:0;t=new ko(o,t.selectionStartKind,r,s,a)}else{if(!i)return;const o=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),r=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new ko(o,i.selectionStartKind,i.selectionStartLeftoverVisibleColumns,r,i.leftoverVisibleColumns)}if(i){const o=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),r=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new ko(o,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,r,t.leftoverVisibleColumns)}else{const o=e.coordinatesConverter.convertModelPositionToViewPosition(new W(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),r=e.coordinatesConverter.convertModelPositionToViewPosition(new W(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),s=new D(o.lineNumber,o.column,r.lineNumber,r.column),a=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new ko(s,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class R${constructor(e){this.context=e,this.cursors=[new k2(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return b0e(this.cursors,Na(e=>e.viewState.position,W.compare)).viewState.position}getBottomMostViewPosition(){return v0e(this.cursors,Na(e=>e.viewState.position,W.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(zt.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){e!==null&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.cursors.length-1,i=e.length;if(t<i){const o=i-t;for(let r=0;r<o;r++)this._addSecondaryCursor()}else if(t>i){const o=t-i;for(let r=0;r<o;r++)this._removeSecondaryCursor(this.cursors.length-2)}for(let o=0;o<i;o++)this.cursors[o+1].setState(this.context,e[o].modelState,e[o].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new k2(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(this.cursors.length===1)return;const e=this.cursors.slice(0),t=[];for(let i=0,o=e.length;i<o;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort(Na(i=>i.selection,D.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){const o=t[i],r=t[i+1],s=o.selection,a=r.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(a.isEmpty()||s.isEmpty()?l=a.getStartPosition().isBeforeOrEqual(s.getEndPosition()):l=a.getStartPosition().isBefore(s.getEndPosition()),l){const c=o.index<r.index?i:i+1,d=o.index<r.index?i+1:i,u=t[d].index,h=t[c].index,g=t[d].selection,f=t[c].selection;if(!g.equalsSelection(f)){const p=g.plusRange(f),b=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn,v=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn;let _;u===this.lastAddedCursorIndex?(_=b,this.lastAddedCursorIndex=h):_=v;let C;_?C=new Pe(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn):C=new Pe(p.endLineNumber,p.endColumn,p.startLineNumber,p.startColumn),t[c].selection=C;const y=zt.fromModelSelection(C);e[h].setState(this.context,y.modelState,y.viewState)}for(const p of t)p.index>u&&p.index--;e.splice(u,1),t.splice(d,1),this._removeSecondaryCursor(u-1),i--}}}}class M${constructor(e,t,i,o){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=o}}class Ike{constructor(){this.type=0}}class Nke{constructor(){this.type=1}}class Rke{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class Mke{constructor(e,t,i){this.selections=e,this.modelSelections=t,this.reason=i,this.type=3}}class Yf{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler,this.affectsGlyphMargin=e.affectsGlyphMargin,this.affectsLineNumber=e.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}}class ok{constructor(){this.type=5}}class Ake{constructor(e){this.type=6,this.isFocused=e}}class Pke{constructor(){this.type=7}}class rk{constructor(){this.type=8}}class ite{constructor(e,t){this.fromLineNumber=e,this.count=t,this.type=9}}class B4{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class W4{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class OL{constructor(e,t,i,o,r,s,a){this.source=e,this.minimalReveal=t,this.range=i,this.selections=o,this.verticalType=r,this.revealHorizontal=s,this.scrollType=a,this.type=12}}class Oke{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class Fke{constructor(e){this.theme=e,this.type=14}}class Bke{constructor(e){this.type=15,this.ranges=e}}class Wke{constructor(){this.type=16}}let Vke=class{constructor(){this.type=17}};class Hke extends z{constructor(){super(),this._onEvent=this._register(new B),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++){const o=this._outgoingEvents[t].kind===e.kind?this._outgoingEvents[t].attemptToMerge(e):null;if(o){this._outgoingEvents[t]=o;return}}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new zke),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class zke{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class G6{constructor(e,t,i,o){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=o,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new G6(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class Z6{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new Z6(this.oldHasFocus,e.hasFocus)}}class Y6{constructor(e,t,i,o,r,s,a,l){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=o,this.scrollWidth=r,this.scrollLeft=s,this.scrollHeight=a,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(e){return e.kind!==this.kind?null:new Y6(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class Uke{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class $ke{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class L2{constructor(e,t,i,o,r,s,a){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=o,this.source=r,this.reason=s,this.reachedMaxCursorCount=a}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length,o=t.length;if(i!==o)return!1;for(let r=0;r<i;r++)if(!e[r].equalsSelection(t[r]))return!1;return!0}isNoOp(){return L2._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new L2(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class jke{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Kke{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}}class qke{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}}class Gke{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}}class Zke{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}}class Yke{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}}class Xke{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}}class Qke extends z{constructor(e,t,i,o){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new M$(this._model,this._viewModel,this._coordinatesConverter,o),this._cursors=new R$(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=si(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new M$(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,o){let r=!1;const s=this.context.cursorConfig.multiCursorLimit;o!==null&&o.length>s&&(o=o.slice(0,s),r=!0);const a=FC.from(this._model,this);return this._cursors.setStates(o),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,a,r)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,o,r,s){const a=this._cursors.getViewPositions();let l=null,c=null;a.length>1?c=this._cursors.getViewSelections():l=D.fromPositions(a[0],a[0]),e.emitViewEvent(new OL(t,i,l,c,o,r,s))}saveState(){const e=[],t=this._cursors.getSelections();for(let i=0,o=t.length;i<o;i++){const r=t[i];e.push({inSelectionMode:!r.isEmpty(),selectionStart:{lineNumber:r.selectionStartLineNumber,column:r.selectionStartColumn},position:{lineNumber:r.positionLineNumber,column:r.positionColumn}})}return e}restoreState(e,t){const i=[];for(let o=0,r=t.length;o<r;o++){const s=t[o];let a=1,l=1;s.position&&s.position.lineNumber&&(a=s.position.lineNumber),s.position&&s.position.column&&(l=s.position.column);let c=a,d=l;s.selectionStart&&s.selectionStart.lineNumber&&(c=s.selectionStart.lineNumber),s.selectionStart&&s.selectionStart.column&&(d=s.selectionStart.column),i.push({selectionStartLineNumber:c,selectionStartColumn:d,positionLineNumber:a,positionColumn:l})}this.setStates(e,"restoreState",0,zt.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,t){if(t instanceof Mee){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const i=t.rawContentChangedEvent;if(this._knownModelVersionId=i.versionId,this._isHandling)return;const o=i.containsEvent(1);if(this._prevEditOperationType=0,o)this._cursors.dispose(),this._cursors=new R$(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&i.resultingSelection&&i.resultingSelection.length>0){const r=zt.fromModelSelections(i.resultingSelection);this.setStates(e,"modelChange",i.isUndoing?5:i.isRedoing?6:2,r)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{const r=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,zt.fromModelSelections(r))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,o){this.setStates(e,t,o,zt.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){const i=[],o=[];for(let a=0,l=e.length;a<l;a++)i.push({range:e[a],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),o.push({range:t[a],options:{description:"auto-closed-enclosing",stickiness:1}});const r=this._model.deltaDecorations([],i),s=this._model.deltaDecorations([],o);this._autoClosedActions.push(new A$(this._model,r,s))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=Jke.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);const i=[],o=[];for(let r=0;r<e.commands.length;r++){const s=e.commands[r];s instanceof xee&&s.enclosingRange&&s.closeCharacterRange&&(i.push(s.closeCharacterRange),o.push(s.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,o),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,o,r){const s=FC.from(this._model,this);if(s.equals(o))return!1;const a=this._cursors.getSelections(),l=this._cursors.getViewSelections();if(e.emitViewEvent(new Mke(l,a,i)),!o||o.cursorState.length!==s.cursorState.length||s.cursorState.some((c,d)=>!c.modelState.equals(o.cursorState[d].modelState))){const c=o?o.cursorState.map(u=>u.modelState.selection):null,d=o?o.modelVersionId:0;e.emitOutgoingEvent(new L2(c,a,d,s.modelVersionId,t||"keyboard",i,r))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const t=[];for(let i=0,o=e.length;i<o;i++){const r=e[i];if(!r.text||r.text.indexOf(`
`)>=0)return null;const s=r.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!s)return null;const a=s[1],l=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(a);if(!l||l.length!==1)return null;const c=l[0].open,d=r.text.length-s[2].length-1,u=r.text.lastIndexOf(c,d-1);if(u===-1)return null;t.push([u,d])}return t}executeEdits(e,t,i,o){let r=null;t==="snippet"&&(r=this._findAutoClosingPairs(i)),r&&(i[0]._isTracked=!0);const s=[],a=[],l=this._model.pushEditOperations(this.getSelections(),i,c=>{if(r)for(let u=0,h=r.length;u<h;u++){const[g,f]=r[u],p=c[u],b=p.range.startLineNumber,v=p.range.startColumn-1+g,_=p.range.startColumn-1+f;s.push(new D(b,_+1,b,_+2)),a.push(new D(b,v+1,b,_+2))}const d=o(c);return d&&(this._isHandling=!0),d});l&&(this._isHandling=!1,this.setSelections(e,t,l,0)),s.length>0&&this._pushAutoClosedAction(s,a)}_executeEdit(e,t,i,o=0){if(this.context.cursorConfig.readOnly)return;const r=FC.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(s){st(s)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,o,r,!1)&&this.revealPrimary(t,i,!1,0,!0,0)}getAutoClosedCharacters(){return A$.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new BC(this._model,this.getSelections())}endComposition(e,t){const i=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{t==="keyboard"&&this._executeEditOperation(Ji.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,i,this.getSelections(),this.getAutoClosedCharacters()))},e,t)}type(e,t,i){this._executeEdit(()=>{if(i==="keyboard"){const o=t.length;let r=0;for(;r<o;){const s=q8(t,r),a=t.substr(r,s);this._executeEditOperation(Ji.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),a)),r+=s}}else this._executeEditOperation(Ji.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}compositionType(e,t,i,o,r,s){if(t.length===0&&i===0&&o===0){if(r!==0){const a=this.getSelections().map(l=>{const c=l.getPosition();return new Pe(c.lineNumber,c.column+r,c.lineNumber,c.column+r)});this.setSelections(e,s,a,0)}return}this._executeEdit(()=>{this._executeEditOperation(Ji.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,o,r))},e,s)}paste(e,t,i,o,r){this._executeEdit(()=>{this._executeEditOperation(Ji.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,o||[]))},e,r,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(bm.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Zr(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new Zr(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}}class FC{static from(e,t){return new FC(e.getVersionId(),t.getCursorStates())}constructor(e,t){this.modelVersionId=e,this.cursorState=t}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class A${static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){const t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const o=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(o&&(t.push(o),o.startLineNumber!==o.endLineNumber))return!1}t.sort(D.compareRangesUsingStarts),e.sort(D.compareRangesUsingStarts);for(let i=0;i<e.length;i++)if(i>=t.length||!t[i].strictContainsRange(e[i]))return!1;return!0}}class Jke{static executeCommands(e,t,i){const o={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},r=this._innerExecuteCommands(o,i);for(let s=0,a=o.trackedRanges.length;s<a;s++)o.model._setTrackedRange(o.trackedRanges[s],null,0);return r}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(i.operations.length===0)return null;const o=i.operations,r=this._getLoserCursorMap(o);if(r.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const s=[];for(let c=0,d=o.length;c<d;c++)r.hasOwnProperty(o[c].identifier.major.toString())||s.push(o[c]);i.hadTrackedEditOperation&&s.length>0&&(s[0]._isTracked=!0);let a=e.model.pushEditOperations(e.selectionsBefore,s,c=>{const d=[];for(let g=0;g<e.selectionsBefore.length;g++)d[g]=[];for(const g of c)g.identifier&&d[g.identifier.major].push(g);const u=(g,f)=>g.identifier.minor-f.identifier.minor,h=[];for(let g=0;g<e.selectionsBefore.length;g++)d[g].length>0?(d[g].sort(u),h[g]=t[g].computeCursorState(e.model,{getInverseEditOperations:()=>d[g],getTrackedSelection:f=>{const p=parseInt(f,10),b=e.model._getTrackedRange(e.trackedRanges[p]);return e.trackedRangesDirection[p]===0?new Pe(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn):new Pe(b.endLineNumber,b.endColumn,b.startLineNumber,b.startColumn)}})):h[g]=e.selectionsBefore[g];return h});a||(a=e.selectionsBefore);const l=[];for(const c in r)r.hasOwnProperty(c)&&l.push(parseInt(c,10));l.sort((c,d)=>d-c);for(const c of l)a.splice(c,1);return a}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],o=!1;for(let r=0,s=t.length;r<s;r++){const a=t[r];if(a){const l=this._getEditOperationsFromCommand(e,r,a);i=i.concat(l.operations),o=o||l.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:o}}static _getEditOperationsFromCommand(e,t,i){const o=[];let r=0;const s=(u,h,g=!1)=>{D.isEmpty(u)&&h===""||o.push({identifier:{major:t,minor:r++},range:u,text:h,forceMoveMarkers:g,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let a=!1;const d={addEditOperation:s,addTrackedEditOperation:(u,h,g)=>{a=!0,s(u,h,g)},trackSelection:(u,h)=>{const g=Pe.liftSelection(u);let f;if(g.isEmpty())if(typeof h=="boolean")h?f=2:f=3;else{const v=e.model.getLineMaxColumn(g.startLineNumber);g.startColumn===v?f=2:f=3}else f=1;const p=e.trackedRanges.length,b=e.model._setTrackedRange(null,g,f);return e.trackedRanges[p]=b,e.trackedRangesDirection[p]=g.getDirection(),p.toString()}};try{i.getEditOperations(e.model,d)}catch(u){return st(u),{operations:[],hadTrackedEditOperation:!1}}return{operations:o,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((i,o)=>-D.compareRangesUsingEnds(i.range,o.range));const t={};for(let i=1;i<e.length;i++){const o=e[i-1],r=e[i];if(D.getStartPosition(o.range).isBefore(D.getEndPosition(r.range))){let s;o.identifier.major>r.identifier.major?s=o.identifier.major:s=r.identifier.major,t[s.toString()]=!0;for(let a=0;a<e.length;a++)e[a].identifier.major===s&&(e.splice(a,1),a<i&&i--,a--);i>0&&i--}}return t}}class eLe{constructor(e,t,i){this.text=e,this.startSelection=t,this.endSelection=i}}class BC{static _capture(e,t){const i=[];for(const o of t){if(o.startLineNumber!==o.endLineNumber)return null;i.push(new eLe(e.getLineContent(o.startLineNumber),o.startColumn-1,o.endColumn-1))}return i}constructor(e,t){this._original=BC._capture(e,t)}deduceOutcome(e,t){if(!this._original)return null;const i=BC._capture(e,t);if(!i||this._original.length!==i.length)return null;const o=[];for(let r=0,s=this._original.length;r<s;r++)o.push(BC._deduceOutcome(this._original[r],i[r]));return o}static _deduceOutcome(e,t){const i=Math.min(e.startSelection,t.startSelection,Jg(e.text,t.text)),o=Math.min(e.text.length-e.endSelection,t.text.length-t.endSelection,ZD(e.text,t.text)),r=e.text.substring(i,e.text.length-o),s=t.text.substring(i,t.text.length-o);return new Xwe(r,e.startSelection-i,e.endSelection-i,s,t.startSelection-i,t.endSelection-i)}}const P$={getInitialState:()=>N_,tokenizeEncoded:(n,e,t)=>aI(0,t)};async function tLe(n,e,t){if(!t)return O$(e,n.languageIdCodec,P$);const i=await rn.getOrCreate(t);return O$(e,n.languageIdCodec,i||P$)}function iLe(n,e,t,i,o,r,s){let a="<div>",l=i,c=0,d=!0;for(let u=0,h=e.getCount();u<h;u++){const g=e.getEndOffset(u);if(g<=i)continue;let f="";for(;l<g&&l<o;l++){const p=n.charCodeAt(l);switch(p){case 9:{let b=r-(l+c)%r;for(c+=b-1;b>0;)s&&d?(f+="&#160;",d=!1):(f+=" ",d=!0),b--;break}case 60:f+="&lt;",d=!1;break;case 62:f+="&gt;",d=!1;break;case 38:f+="&amp;",d=!1;break;case 0:f+="&#00;",d=!1;break;case 65279:case 8232:case 8233:case 133:f+="",d=!1;break;case 13:f+="&#8203",d=!1;break;case 32:s&&d?(f+="&#160;",d=!1):(f+=" ",d=!0);break;default:f+=String.fromCharCode(p),d=!1}}if(a+=`<span style="${e.getInlineStyle(u,t)}">${f}</span>`,g>o||l>=o)break}return a+="</div>",a}function O$(n,e,t){let i='<div class="monaco-tokenized-source">';const o=qd(n);let r=t.getInitialState();for(let s=0,a=o.length;s<a;s++){const l=o[s];s>0&&(i+="<br/>");const c=t.tokenizeEncoded(l,!0,r);io.convertToEndOffset(c.tokens,l.length);const u=new io(c.tokens,l,e).inflate();let h=0;for(let g=0,f=u.getCount();g<f;g++){const p=u.getClassName(g),b=u.getEndOffset(g);i+=`<span class="${p}">${GD(l.substring(h,b))}</span>`,h=b}r=c.endState}return i+="</div>",i}class nLe{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,o=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,o)}}class oLe{constructor(e,t,i,o,r){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=o,this.minWidth=r,this.prefixSum=0}}let nte=class V4{constructor(e,t,i,o){this._instanceId=MQ(++V4.INSTANCE_COUNT),this._pendingChanges=new nLe,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=o}static findInsertionIndex(e,t,i){let o=0,r=e.length;for(;o<r;){const s=o+r>>>1;t===e[s].afterLineNumber?i<e[s].ordinal?r=s:o=s+1:t<e[s].afterLineNumber?r=s:o=s+1}return o}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(o,r,s,a)=>{t=!0,o=o|0,r=r|0,s=s|0,a=a|0;const l=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new oLe(l,o,r,s,a)),l},changeOneWhitespace:(o,r,s)=>{t=!0,r=r|0,s=s|0,this._pendingChanges.change({id:o,newAfterLineNumber:r,newHeight:s})},removeWhitespace:o=>{t=!0,this._pendingChanges.remove({id:o})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const l of e)this._insertWhitespace(l);for(const l of t)this._changeOneWhitespace(l.id,l.newAfterLineNumber,l.newHeight);for(const l of i){const c=this._findWhitespaceIndex(l.id);c!==-1&&this._removeWhitespace(c)}return}const o=new Set;for(const l of i)o.add(l.id);const r=new Map;for(const l of t)r.set(l.id,l);const s=l=>{const c=[];for(const d of l)if(!o.has(d.id)){if(r.has(d.id)){const u=r.get(d.id);d.afterLineNumber=u.newAfterLineNumber,d.height=u.newHeight}c.push(d)}return c},a=s(this._arr).concat(s(e));a.sort((l,c)=>l.afterLineNumber===c.afterLineNumber?l.ordinal-c.ordinal:l.afterLineNumber-c.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=V4.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,o=t.length;i<o;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const o=this._findWhitespaceIndex(e);if(o!==-1&&(this._arr[o].height!==i&&(this._arr[o].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,o-1)),this._arr[o].afterLineNumber!==t)){const r=this._arr[o];this._removeWhitespace(o),r.afterLineNumber=t,this._insertWhitespace(r)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount-=t-e+1;for(let i=0,o=this._arr.length;i<o;i++){const r=this._arr[i].afterLineNumber;e<=r&&r<=t?this._arr[i].afterLineNumber=e-1:r>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount+=t-e+1;for(let i=0,o=this._arr.length;i<o;i++){const r=this._arr[i].afterLineNumber;e<=r&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let t=Math.max(0,this._prefixSumValidIndex+1);t===0&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const t=this._findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const t=this._arr;let i=0,o=t.length-1;for(;i<=o;){const s=(o-i|0)/2|0,a=i+s|0;if(t[a].afterLineNumber<e){if(a+1>=t.length||t[a+1].afterLineNumber>=e)return a;i=a+1|0}else o=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const i=this._findLastWhitespaceBeforeLineNumber(e)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;let i;e>1?i=this._lineHeight*(e-1):i=0;const o=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(t?1:0));return i+o+this._paddingTop}getVerticalOffsetAfterLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;const i=this._lineHeight*e,o=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(t?1:0));return i+o+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>t}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>=t-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const t=this._lineCount|0,i=this._lineHeight;let o=1,r=t;for(;o<r;){const s=(o+r)/2|0,a=this.getVerticalOffsetForLineNumber(s)|0;if(e>=a+i)o=s+1;else{if(e>=a)return s;r=s}}return o>t?t:o}getLinesViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this._lineHeight,o=this.getLineNumberAtOrAfterVerticalOffset(e)|0,r=this.getVerticalOffsetForLineNumber(o)|0;let s=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(o)|0;const l=this.getWhitespacesCount()|0;let c,d;a===-1?(a=l,d=s+1,c=0):(d=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);let u=r,h=u;const g=5e5;let f=0;r>=g&&(f=Math.floor(r/g)*g,f=Math.floor(f/i)*i,h-=f);const p=[],b=e+(t-e)/2;let v=-1;for(let w=o;w<=s;w++){if(v===-1){const S=u,x=u+i;(S<=b&&b<x||S>b)&&(v=w)}for(u+=i,p[w-o]=h,h+=i;d===w;)h+=c,u+=c,a++,a>=l?d=s+1:(d=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);if(u>=t){s=w;break}}v===-1&&(v=s);const _=this.getVerticalOffsetForLineNumber(s)|0;let C=o,y=s;return C<y&&r<e&&C++,C<y&&_+i>t&&y--,{bigNumbersDelta:f,startLineNumber:o,endLineNumber:s,relativeVerticalOffset:p,centeredLineNumber:v,completelyVisibleStartLineNumber:C,completelyVisibleEndLineNumber:y}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i;t>=1?i=this._lineHeight*t:i=0;let o;return e>0?o=this.getWhitespacesAccumulatedHeight(e-1):o=0,i+o+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const o=this.getVerticalOffsetForWhitespaceIndex(i),r=this.getHeightForWhitespaceIndex(i);if(e>=o+r)return-1;for(;t<i;){const s=Math.floor((t+i)/2),a=this.getVerticalOffsetForWhitespaceIndex(s),l=this.getHeightForWhitespaceIndex(s);if(e>=a+l)t=s+1;else{if(e>=a)return s;i=s}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0||t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const o=this.getHeightForWhitespaceIndex(t),r=this.getIdForWhitespaceIndex(t),s=this.getAfterLineNumberForWhitespaceIndex(t);return{id:r,afterLineNumber:s,verticalOffset:i,height:o}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),o=this.getWhitespacesCount()-1;if(i<0)return[];const r=[];for(let s=i;s<=o;s++){const a=this.getVerticalOffsetForWhitespaceIndex(s),l=this.getHeightForWhitespaceIndex(s);if(a>=t)break;r.push({id:this.getIdForWhitespaceIndex(s),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:a,height:l})}return r}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}};nte.INSTANCE_COUNT=0;const rLe=125;class Y1{constructor(e,t,i,o){e=e|0,t=t|0,i=i|0,o=o|0,e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),o<0&&(o=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=o,this.scrollHeight=Math.max(i,o)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class sLe extends z{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new B),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Y1(0,0,0,0),this._scrollable=this._register(new w0({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,o=t.contentHeight!==e.contentHeight;(i||o)&&this._onDidContentSizeChange.fire(new G6(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class aLe extends z{constructor(e,t,i){super(),this._configuration=e;const o=this._configuration.options,r=o.get(144),s=o.get(84);this._linesLayout=new nte(t,o.get(67),s.top,s.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new sLe(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Y1(r.contentWidth,0,r.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(114)?rLe:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(67)&&this._linesLayout.setLineHeight(t.get(67)),e.hasChanged(84)){const i=t.get(84);this._linesLayout.setPadding(i.top,i.bottom)}if(e.hasChanged(144)){const i=t.get(144),o=i.contentWidth,r=i.height,s=this._scrollable.getScrollDimensions(),a=s.contentWidth;this._scrollable.setScrollDimensions(new Y1(o,s.contentWidth,r,this._getContentHeight(o,r,a)))}else this._updateHeight();e.hasChanged(114)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const o=this._configuration.options.get(103);return o.horizontal===2||e>=t?0:o.horizontalScrollbarSize}_getContentHeight(e,t,i){const o=this._configuration.options;let r=this._linesLayout.getLinesTotalHeight();return o.get(105)?r+=Math.max(0,t-o.get(67)-o.get(84).bottom):o.get(103).ignoreHorizontalScrollbarInContentHeight||(r+=this._getHorizontalScrollbarHeight(e,i)),r}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,o=e.contentWidth;this._scrollable.setScrollDimensions(new Y1(t,e.contentWidth,i,this._getContentHeight(t,i,o)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new SU(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new SU(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(){const e=this._configuration.options,t=this._maxLineWidth,i=e.get(145),o=e.get(50),r=e.get(144);if(i.isViewportWrapping){const s=e.get(73);return t>r.contentWidth+o.typicalHalfwidthCharacterWidth&&s.enabled&&s.side==="right"?t+r.verticalScrollbarWidth:t}else{const s=e.get(104)*o.typicalHalfwidthCharacterWidth,a=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+s+r.verticalScrollbarWidth,a,this._overlayWidgetsMinWidth)}}setMaxLineWidth(e){this._maxLineWidth=e,this._updateContentWidth()}setOverlayWidgetsMinWidth(e){this._overlayWidgetsMinWidth=e,this._updateContentWidth()}_updateContentWidth(){const e=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Y1(e.width,this._computeContentWidth(),e.height,e.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),o=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:t,scrollTopWithoutViewZones:t-o,scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,t)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){t===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}class lLe{constructor(e,t,i,o,r){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=o,this._coordinatesConverter=r,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const o=e.range,r=e.options;let s;if(r.isWholeLine){const a=this._coordinatesConverter.convertModelPositionToViewPosition(new W(o.startLineNumber,1),0,!1,!0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new W(o.endLineNumber,this.model.getLineMaxColumn(o.endLineNumber)),1);s=new D(a.lineNumber,a.column,l.lineNumber,l.column)}else s=this._coordinatesConverter.convertModelRangeToViewRange(o,1);i=new zJ(s,r),this._decorationsCache[t]=i}return i}getMinimapDecorationsInRange(e){return this._getDecorationsInRange(e,!0,!1).decorations}getDecorationsViewportData(e){let t=this._cachedModelDecorationsResolver!==null;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(e,!1,!1),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(e,t=!1,i=!1){const o=new D(e,this._linesCollection.getViewLineMinColumn(e),e,this._linesCollection.getViewLineMaxColumn(e));return this._getDecorationsInRange(o,t,i).inlineDecorations[0]}_getDecorationsInRange(e,t,i){const o=this._linesCollection.getDecorationsInRange(e,this.editorId,VD(this.configuration.options),t,i),r=e.startLineNumber,s=e.endLineNumber,a=[];let l=0;const c=[];for(let d=r;d<=s;d++)c[d-r]=[];for(let d=0,u=o.length;d<u;d++){const h=o[d],g=h.options;if(!X6(this.model,h))continue;const f=this._getOrCreateViewModelDecoration(h),p=f.range;if(a[l++]=f,g.inlineClassName){const b=new xC(p,g.inlineClassName,g.inlineClassNameAffectsLetterSpacing?3:0),v=Math.max(r,p.startLineNumber),_=Math.min(s,p.endLineNumber);for(let C=v;C<=_;C++)c[C-r].push(b)}if(g.beforeContentClassName&&r<=p.startLineNumber&&p.startLineNumber<=s){const b=new xC(new D(p.startLineNumber,p.startColumn,p.startLineNumber,p.startColumn),g.beforeContentClassName,1);c[p.startLineNumber-r].push(b)}if(g.afterContentClassName&&r<=p.endLineNumber&&p.endLineNumber<=s){const b=new xC(new D(p.endLineNumber,p.endColumn,p.endLineNumber,p.endColumn),g.afterContentClassName,2);c[p.endLineNumber-r].push(b)}}return{decorations:a,inlineDecorations:c}}}function X6(n,e){return!(e.options.hideInCommentTokens&&Q6(n,e)||e.options.hideInStringTokens&&J6(n,e))}function Q6(n,e){return ote(n,e.range,t=>t===1)}function J6(n,e){return ote(n,e.range,t=>t===2)}function ote(n,e,t){for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const o=n.tokenization.getLineTokens(i),r=i===e.startLineNumber,s=i===e.endLineNumber;let a=r?o.findTokenIndexAtOffset(e.startColumn-1):0;for(;a<o.getCount()&&!(s&&o.getStartOffset(a)>e.endColumn-1);){if(!t(o.getStandardTokenType(a)))return!1;a++}}return!0}function OM(n,e){return n===null?e?D2.INSTANCE:E2.INSTANCE:new cLe(n,e)}class cLe{constructor(e,t){this._projectionData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,t,i){this._assertVisible();const o=i>0?this._projectionData.breakOffsets[i-1]:0,r=this._projectionData.breakOffsets[i];let s;if(this._projectionData.injectionOffsets!==null){const a=this._projectionData.injectionOffsets.map((c,d)=>new Sc(0,0,c+1,this._projectionData.injectionOptions[d],0));s=Sc.applyInjectedText(e.getLineContent(t),a).substring(o,r)}else s=e.getValueInRange({startLineNumber:t,startColumn:o+1,endLineNumber:t,endColumn:r+1});return i>0&&(s=F$(this._projectionData.wrappedTextIndentLength)+s),s}getViewLineLength(e,t,i){return this._assertVisible(),this._projectionData.getLineLength(i)}getViewLineMinColumn(e,t,i){return this._assertVisible(),this._projectionData.getMinOutputOffset(i)+1}getViewLineMaxColumn(e,t,i){return this._assertVisible(),this._projectionData.getMaxOutputOffset(i)+1}getViewLineData(e,t,i){const o=new Array;return this.getViewLinesData(e,t,i,1,0,[!0],o),o[0]}getViewLinesData(e,t,i,o,r,s,a){this._assertVisible();const l=this._projectionData,c=l.injectionOffsets,d=l.injectionOptions;let u=null;if(c){u=[];let g=0,f=0;for(let p=0;p<l.getOutputLineCount();p++){const b=new Array;u[p]=b;const v=p>0?l.breakOffsets[p-1]:0,_=l.breakOffsets[p];for(;f<c.length;){const C=d[f].content.length,y=c[f]+g,w=y+C;if(y>_)break;if(v<w){const S=d[f];if(S.inlineClassName){const x=p>0?l.wrappedTextIndentLength:0,L=x+Math.max(y-v,0),E=x+Math.min(w-v,_-v);L!==E&&b.push(new v1e(L,E,S.inlineClassName,S.inlineClassNameAffectsLetterSpacing))}}if(w<=_)g+=C,f++;else break}}}let h;c?h=e.tokenization.getLineTokens(t).withInserted(c.map((g,f)=>({offset:g,text:d[f].content,tokenMetadata:io.defaultTokenMetadata}))):h=e.tokenization.getLineTokens(t);for(let g=i;g<i+o;g++){const f=r+g-i;if(!s[f]){a[f]=null;continue}a[f]=this._getViewLineData(h,u?u[g]:null,g)}}_getViewLineData(e,t,i){this._assertVisible();const o=this._projectionData,r=i>0?o.wrappedTextIndentLength:0,s=i>0?o.breakOffsets[i-1]:0,a=o.breakOffsets[i],l=e.sliceAndInflate(s,a,r);let c=l.getLineContent();i>0&&(c=F$(o.wrappedTextIndentLength)+c);const d=this._projectionData.getMinOutputOffset(i)+1,u=c.length+1,h=i+1<this.getViewLineCount(),g=i===0?0:o.breakOffsetsVisibleColumn[i-1];return new C6(c,h,d,u,g,l,t)}getModelColumnOfViewPosition(e,t){return this._assertVisible(),this._projectionData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t,i=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(t-1,i).toPosition(e)}getViewLineNumberOfModelPosition(e,t){this._assertVisible();const i=this._projectionData.translateToOutputPosition(t-1);return e+i.outputLineIndex}normalizePosition(e,t,i){const o=t.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,t.column-1,i).toPosition(o)}getInjectedTextAt(e,t){return this._projectionData.getInjectedText(e,t-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class D2{constructor(){}isVisible(){return!0}setVisible(e){return e?this:E2.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){const o=e.tokenization.getLineTokens(t),r=o.getLineContent();return new C6(r,!1,1,r.length+1,0,o.inflate(),null)}getViewLinesData(e,t,i,o,r,s,a){if(!s[r]){a[r]=null;return}a[r]=this.getViewLineData(e,t,0)}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new W(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i){return t}getInjectedTextAt(e,t){return null}}D2.INSTANCE=new D2;class E2{constructor(){}isVisible(){return!1}setVisible(e){return e?D2.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,o,r,s,a){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}E2.INSTANCE=new E2;const FM=[""];function F$(n){if(n>=FM.length)for(let e=1;e<=n;e++)FM[e]=dLe(e);return FM[n]}function dLe(n){return new Array(n+1).join(" ")}class uLe{constructor(e,t,i,o,r,s,a,l,c,d){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=o,this.fontInfo=r,this.tabSize=s,this.wrappingStrategy=a,this.wrappingColumn=l,this.wrappingIndent=c,this.wordBreak=d,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new gLe(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const i=this.model.getLinesContent(),o=this.model.getInjectedTextDecorations(this._editorId),r=i.length,s=this.createLineBreaksComputer(),a=new dh(Sc.fromDecorations(o));for(let p=0;p<r;p++){const b=a.takeWhile(v=>v.lineNumber===p+1);s.addRequest(i[p],b,t?t[p]:null)}const l=s.finalize(),c=[],d=this.hiddenAreasDecorationIds.map(p=>this.model.getDecorationRange(p)).sort(D.compareRangesUsingStarts);let u=1,h=0,g=-1,f=g+1<d.length?h+1:r+2;for(let p=0;p<r;p++){const b=p+1;b===f&&(g++,u=d[g].startLineNumber,h=d[g].endLineNumber,f=g+1<d.length?h+1:r+2);const v=b>=u&&b<=h,_=OM(l[p],!v);c[p]=_.getViewLineCount(),this.modelLineProjections[p]=_}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new Q_e(c)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){const t=e.map(h=>this.model.validateRange(h)),i=hLe(t),o=this.hiddenAreasDecorationIds.map(h=>this.model.getDecorationRange(h)).sort(D.compareRangesUsingStarts);if(i.length===o.length){let h=!1;for(let g=0;g<i.length;g++)if(!i[g].equalsRange(o[g])){h=!0;break}if(!h)return!1}const r=i.map(h=>({range:h,options:dt.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,r);const s=i;let a=1,l=0,c=-1,d=c+1<s.length?l+1:this.modelLineProjections.length+2,u=!1;for(let h=0;h<this.modelLineProjections.length;h++){const g=h+1;g===d&&(c++,a=s[c].startLineNumber,l=s[c].endLineNumber,d=c+1<s.length?l+1:this.modelLineProjections.length+2);let f=!1;if(g>=a&&g<=l?this.modelLineProjections[h].isVisible()&&(this.modelLineProjections[h]=this.modelLineProjections[h].setVisible(!1),f=!0):(u=!0,this.modelLineProjections[h].isVisible()||(this.modelLineProjections[h]=this.modelLineProjections[h].setVisible(!0),f=!0)),f){const p=this.modelLineProjections[h].getViewLineCount();this.projectedModelLineLineCounts.setValue(h,p)}}return u||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,o,r){const s=this.fontInfo.equals(e),a=this.wrappingStrategy===t,l=this.wrappingColumn===i,c=this.wrappingIndent===o,d=this.wordBreak===r;if(s&&a&&l&&c&&d)return!1;const u=s&&a&&!l&&c&&d;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=o,this.wordBreak=r;let h=null;if(u){h=[];for(let g=0,f=this.modelLineProjections.length;g<f;g++)h[g]=this.modelLineProjections[g].getProjectionData()}return this._constructLines(!1,h),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;const o=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,r=this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections.splice(t-1,i-t+1),this.projectedModelLineLineCounts.removeValues(t-1,i-t+1),new B4(o,r)}onModelLinesInserted(e,t,i,o){if(!e||e<=this._validModelVersionId)return null;const r=t>2&&!this.modelLineProjections[t-2].isVisible(),s=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1;let a=0;const l=[],c=[];for(let d=0,u=o.length;d<u;d++){const h=OM(o[d],!r);l.push(h);const g=h.getViewLineCount();a+=g,c[d]=g}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(l).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,c),new W4(s,s+a-1)}onModelLineChanged(e,t,i){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];const o=t-1,r=this.modelLineProjections[o].getViewLineCount(),s=this.modelLineProjections[o].isVisible(),a=OM(i,s);this.modelLineProjections[o]=a;const l=this.modelLineProjections[o].getViewLineCount();let c=!1,d=0,u=-1,h=0,g=-1,f=0,p=-1;r>l?(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,u=d+l-1,f=u+1,p=f+(r-l)-1,c=!0):r<l?(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,u=d+r-1,h=u+1,g=h+(l-r)-1,c=!0):(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,u=d+l-1),this.projectedModelLineLineCounts.setValue(o,l);const b=d<=u?new ite(d,u-d+1):null,v=h<=g?new W4(h,g):null,_=f<=p?new B4(f,p):null;return[c,b,v,_]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:e|0}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const o=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),r=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),s=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),a=this.model.guides.getActiveIndentGuide(o.lineNumber,r.lineNumber,s.lineNumber),l=this.convertModelPositionToViewPosition(a.startLineNumber,1),c=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:l.lineNumber,endLineNumber:c.lineNumber,indent:a.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const t=this.projectedModelLineLineCounts.getIndexOf(e-1),i=t.index,o=t.remainder;return new B$(i+1,o)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),o=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new W(e.modelLineNumber,o)}getModelEndPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),o=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new W(e.modelLineNumber,o)}getViewLineInfosGroupedByModelRanges(e,t){const i=this.getViewLineInfo(e),o=this.getViewLineInfo(t),r=new Array;let s=this.getModelStartPositionOfViewLine(i),a=new Array;for(let l=i.modelLineNumber;l<=o.modelLineNumber;l++){const c=this.modelLineProjections[l-1];if(c.isVisible()){const d=l===i.modelLineNumber?i.modelLineWrappedLineIdx:0,u=l===o.modelLineNumber?o.modelLineWrappedLineIdx+1:c.getViewLineCount();for(let h=d;h<u;h++)a.push(new B$(l,h))}if(!c.isVisible()&&s){const d=new W(l-1,this.model.getLineMaxColumn(l-1)+1),u=D.fromPositions(s,d);r.push(new W$(u,a)),a=[],s=null}else c.isVisible()&&!s&&(s=new W(l,1))}if(s){const l=D.fromPositions(s,this.getModelEndPositionOfViewLine(o));r.push(new W$(l,a))}return r}getViewLinesBracketGuides(e,t,i,o){const r=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,s=[];for(const a of this.getViewLineInfosGroupedByModelRanges(e,t)){const l=a.modelRange.startLineNumber,c=this.model.guides.getLinesBracketGuides(l,a.modelRange.endLineNumber,r,o);for(const d of a.viewLines){const h=c[d.modelLineNumber-l].map(g=>{if(g.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,g.forWrappedLinesAfterColumn).lineNumber>=d.modelLineWrappedLineIdx||g.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,g.forWrappedLinesBeforeOrAtColumn).lineNumber<d.modelLineWrappedLineIdx)return;if(!g.horizontalLine)return g;let f=-1;if(g.column!==-1){const v=this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,g.column);if(v.lineNumber===d.modelLineWrappedLineIdx)f=v.column;else if(v.lineNumber<d.modelLineWrappedLineIdx)f=this.getMinColumnOfViewLine(d);else if(v.lineNumber>d.modelLineWrappedLineIdx)return}const p=this.convertModelPositionToViewPosition(d.modelLineNumber,g.horizontalLine.endColumn),b=this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,g.horizontalLine.endColumn);return b.lineNumber===d.modelLineWrappedLineIdx?new Pp(g.visibleColumn,f,g.className,new EC(g.horizontalLine.top,p.column),-1,-1):b.lineNumber<d.modelLineWrappedLineIdx||g.visibleColumn!==-1?void 0:new Pp(g.visibleColumn,f,g.className,new EC(g.horizontalLine.top,this.getMaxColumnOfViewLine(d)),-1,-1)});s.push(h.filter(g=>!!g))}}return s}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let r=[];const s=[],a=[],l=i.lineNumber-1,c=o.lineNumber-1;let d=null;for(let f=l;f<=c;f++){const p=this.modelLineProjections[f];if(p.isVisible()){const b=p.getViewLineNumberOfModelPosition(0,f===l?i.column:1),v=p.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(f+1)),_=v-b+1;let C=0;_>1&&p.getViewLineMinColumn(this.model,f+1,v)===1&&(C=b===0?1:2),s.push(_),a.push(C),d===null&&(d=new W(f+1,0))}else d!==null&&(r=r.concat(this.model.guides.getLinesIndentGuides(d.lineNumber,f)),d=null)}d!==null&&(r=r.concat(this.model.guides.getLinesIndentGuides(d.lineNumber,o.lineNumber)),d=null);const u=t-e+1,h=new Array(u);let g=0;for(let f=0,p=r.length;f<p;f++){let b=r[f];const v=Math.min(u-g,s[f]),_=a[f];let C;_===2?C=0:_===1?C=1:C=v;for(let y=0;y<v;y++)y===C&&(b=0),h[g++]=b}return h}getViewLineContent(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const o=this.projectedModelLineLineCounts.getIndexOf(e-1);let r=e;const s=o.index,a=o.remainder,l=[];for(let c=s,d=this.model.getLineCount();c<d;c++){const u=this.modelLineProjections[c];if(!u.isVisible())continue;const h=c===s?a:0;let g=u.getViewLineCount()-h,f=!1;if(r+g>t&&(f=!0,g=t-r+1),u.getViewLinesData(this.model,c+1,h,g,r-e,i,l),r+=g,f)break}return l}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);const o=this.projectedModelLineLineCounts.getIndexOf(e-1),r=o.index,s=o.remainder,a=this.modelLineProjections[r],l=a.getViewLineMinColumn(this.model,r+1,s),c=a.getViewLineMaxColumn(this.model,r+1,s);t<l&&(t=l),t>c&&(t=c);const d=a.getModelColumnOfViewPosition(s,t);return this.model.validatePosition(new W(r+1,d)).equals(i)?new W(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),o=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new D(i.lineNumber,i.column,o.lineNumber,o.column)}convertViewPositionToModelPosition(e,t){const i=this.getViewLineInfo(e),o=this.modelLineProjections[i.modelLineNumber-1].getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,t);return this.model.validatePosition(new W(i.modelLineNumber,o))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new D(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2,o=!1,r=!1){const s=this.model.validatePosition(new W(e,t)),a=s.lineNumber,l=s.column;let c=a-1,d=!1;if(r)for(;c<this.modelLineProjections.length&&!this.modelLineProjections[c].isVisible();)c++,d=!0;else for(;c>0&&!this.modelLineProjections[c].isVisible();)c--,d=!0;if(c===0&&!this.modelLineProjections[c].isVisible())return new W(o?0:1,1);const u=1+this.projectedModelLineLineCounts.getPrefixSum(c);let h;return d?r?h=this.modelLineProjections[c].getViewPositionOfModelPosition(u,1,i):h=this.modelLineProjections[c].getViewPositionOfModelPosition(u,this.model.getLineMaxColumn(c+1),i):h=this.modelLineProjections[a-1].getViewPositionOfModelPosition(u,l,i),h}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return D.fromPositions(i)}else{const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),o=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new D(i.lineNumber,i.column,o.lineNumber,o.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.modelLineProjections[i].isVisible()){const r=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(r,t)}for(;i>0&&!this.modelLineProjections[i].isVisible();)i--;if(i===0&&!this.modelLineProjections[i].isVisible())return 1;const o=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(o,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i,o,r){const s=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),a=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(a.lineNumber-s.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new D(s.lineNumber,1,a.lineNumber,a.column),t,i,o,r);let l=[];const c=s.lineNumber-1,d=a.lineNumber-1;let u=null;for(let p=c;p<=d;p++)if(this.modelLineProjections[p].isVisible())u===null&&(u=new W(p+1,p===c?s.column:1));else if(u!==null){const v=this.model.getLineMaxColumn(p);l=l.concat(this.model.getDecorationsInRange(new D(u.lineNumber,u.column,p,v),t,i,o)),u=null}u!==null&&(l=l.concat(this.model.getDecorationsInRange(new D(u.lineNumber,u.column,a.lineNumber,a.column),t,i,o)),u=null),l.sort((p,b)=>{const v=D.compareRangesUsingStarts(p.range,b.range);return v===0?p.id<b.id?-1:p.id>b.id?1:0:v});const h=[];let g=0,f=null;for(const p of l){const b=p.id;f!==b&&(f=b,h[g++]=p)}return h}getInjectedTextAt(e){const t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){const i=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[i.modelLineNumber-1].normalizePosition(i.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){const t=this.getViewLineInfo(e);return t.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(t.modelLineNumber):0}}function hLe(n){if(n.length===0)return[];const e=n.slice();e.sort(D.compareRangesUsingStarts);const t=[];let i=e[0].startLineNumber,o=e[0].endLineNumber;for(let r=1,s=e.length;r<s;r++){const a=e[r];a.startLineNumber>o+1?(t.push(new D(i,1,o,1)),i=a.startLineNumber,o=a.endLineNumber):a.endLineNumber>o&&(o=a.endLineNumber)}return t.push(new D(i,1,o,1)),t}class B${constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}}class W${constructor(e,t){this.modelRange=e,this.viewLines=t}}class gLe{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t,i,o){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t,i,o)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class fLe{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new pLe(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,o){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(t,i,o)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new B4(t,i)}onModelLinesInserted(e,t,i,o){return new W4(t,i)}onModelLineChanged(e,t,i){return[!1,new ite(t,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const i=t-e+1,o=new Array(i);for(let r=0;r<i;r++)o[r]=0;return o}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const t=this.model.tokenization.getLineTokens(e),i=t.getLineContent();return new C6(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const o=this.model.getLineCount();e=Math.min(Math.max(1,e),o),t=Math.min(Math.max(1,t),o);const r=[];for(let s=e;s<=t;s++){const a=s-e;r[a]=i[a]?this.getViewLineData(s):null}return r}getDecorationsInRange(e,t,i,o,r){return this.model.getDecorationsInRange(e,t,i,o,r)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class pLe{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}const Xf=Ad.Right;class mLe{constructor(e){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((e+1)*Xf/8))}reset(e){const t=Math.ceil((e+1)*Xf/8);this.lanes.length<t?this.lanes=new Uint8Array(t):this.lanes.fill(0),this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(e,t,i){i&&(this.persist|=1<<e-1);for(let o=t.startLineNumber;o<=t.endLineNumber;o++){const r=Xf*o+(e-1);this.lanes[r>>>3]|=1<<r%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(o))}}getLanesAtLine(e){const t=[];let i=Xf*e;for(let o=0;o<Xf;o++)(this.persist&1<<o||this.lanes[i>>>3]&1<<i%8)&&t.push(o+1),i++;return t.length?t:[Ad.Center]}countAtLine(e){let t=Xf*e,i=0;for(let o=0;o<Xf;o++)(this.persist&1<<o||this.lanes[t>>>3]&1<<t%8)&&i++,t++;return i}}let vLe=class extends z{constructor(e,t,i,o,r,s,a,l,c){if(super(),this.languageConfigurationService=a,this._themeService=l,this._attachedView=c,this.hiddenAreasModel=new _Le,this.previousHiddenAreas=[],this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new Hke,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new pv(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new mi(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=e7.create(this.model),this.glyphLanes=new mLe(0),this.model.isTooLargeForTokenization())this._lines=new fLe(this.model);else{const d=this._configuration.options,u=d.get(50),h=d.get(138),g=d.get(145),f=d.get(137),p=d.get(129);this._lines=new uLe(this._editorId,this.model,o,r,u,this.model.getOptions().tabSize,h,g.wrappingColumn,f,p)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Qke(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new aLe(this._configuration,this.getLineCount(),s)),this._register(this.viewLayout.onDidScroll(d=>{d.scrollTopChanged&&this._handleVisibleLinesChanged(),d.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new Oke(d)),this._eventDispatcher.emitOutgoingEvent(new Y6(d.oldScrollWidth,d.oldScrollLeft,d.oldScrollHeight,d.oldScrollTop,d.scrollWidth,d.scrollLeft,d.scrollHeight,d.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(d=>{this._eventDispatcher.emitOutgoingEvent(d)})),this._decorations=new lLe(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(d=>{try{const u=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(u,d)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(AS.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Wke)})),this._register(this._themeService.onDidColorThemeChange(d=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Fke(d))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const e=this.viewLayout.getLinesViewportData(),t=new D(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber));return this._toModelVisibleRanges(t)}visibleLinesStabilized(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!0)}_handleVisibleLinesChanged(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!1)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new Ake(e)),this._eventDispatcher.emitOutgoingEvent(new Z6(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new Ike)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new Nke)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const e=new W(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),t=this.coordinatesConverter.convertViewPositionToModelPosition(e);return new H$(t,this._viewportStart.startLineDelta)}return new H$(null,0)}_onConfigurationChanged(e,t){const i=this._captureStableViewport(),o=this._configuration.options,r=o.get(50),s=o.get(138),a=o.get(145),l=o.get(137),c=o.get(129);this._lines.setWrappingSettings(r,s,a.wrappingColumn,l,c)&&(e.emitViewEvent(new ok),e.emitViewEvent(new rk),e.emitViewEvent(new Yf(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(91)&&(this._decorations.reset(),e.emitViewEvent(new Yf(null))),t.hasChanged(98)&&(this._decorations.reset(),e.emitViewEvent(new Yf(null))),e.emitViewEvent(new Rke(t)),this.viewLayout.onConfigurationChanged(t),i.recoverViewportStart(this.coordinatesConverter,this.viewLayout),pv.shouldRecreate(t)&&(this.cursorConfig=new pv(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const i=this._eventDispatcher.beginEmitViewEvents();let o=!1,r=!1;const s=e instanceof Zp?e.rawContentChangedEvent.changes:e.changes,a=e instanceof Zp?e.rawContentChangedEvent.versionId:null,l=this._lines.createLineBreaksComputer();for(const u of s)switch(u.changeType){case 4:{for(let h=0;h<u.detail.length;h++){const g=u.detail[h];let f=u.injectedTexts[h];f&&(f=f.filter(p=>!p.ownerId||p.ownerId===this._editorId)),l.addRequest(g,f,null)}break}case 2:{let h=null;u.injectedText&&(h=u.injectedText.filter(g=>!g.ownerId||g.ownerId===this._editorId)),l.addRequest(u.detail,h,null);break}}const c=l.finalize(),d=new dh(c);for(const u of s)switch(u.changeType){case 1:{this._lines.onModelFlushed(),i.emitViewEvent(new ok),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),o=!0;break}case 3:{const h=this._lines.onModelLinesDeleted(a,u.fromLineNumber,u.toLineNumber);h!==null&&(i.emitViewEvent(h),this.viewLayout.onLinesDeleted(h.fromLineNumber,h.toLineNumber)),o=!0;break}case 4:{const h=d.takeCount(u.detail.length),g=this._lines.onModelLinesInserted(a,u.fromLineNumber,u.toLineNumber,h);g!==null&&(i.emitViewEvent(g),this.viewLayout.onLinesInserted(g.fromLineNumber,g.toLineNumber)),o=!0;break}case 2:{const h=d.dequeue(),[g,f,p,b]=this._lines.onModelLineChanged(a,u.lineNumber,h);r=g,f&&i.emitViewEvent(f),p&&(i.emitViewEvent(p),this.viewLayout.onLinesInserted(p.fromLineNumber,p.toLineNumber)),b&&(i.emitViewEvent(b),this.viewLayout.onLinesDeleted(b.fromLineNumber,b.toLineNumber));break}case 5:break}a!==null&&this._lines.acceptVersionId(a),this.viewLayout.onHeightMaybeChanged(),!o&&r&&(i.emitViewEvent(new rk),i.emitViewEvent(new Yf(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const t=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&t){const i=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(i){const o=this.coordinatesConverter.convertModelPositionToViewPosition(i.getStartPosition()),r=this.viewLayout.getVerticalOffsetForLineNumber(o.lineNumber);this.viewLayout.setScrollPosition({scrollTop:r+this._viewportStart.startLineDelta},1)}}try{const i=this._eventDispatcher.beginEmitViewEvents();e instanceof Zp&&i.emitOutgoingEvent(new Zke(e.contentChangedEvent)),this._cursor.onModelContentChanged(i,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(e=>{const t=[];for(let i=0,o=e.ranges.length;i<o;i++){const r=e.ranges[i],s=this.coordinatesConverter.convertModelPositionToViewPosition(new W(r.fromLineNumber,1)).lineNumber,a=this.coordinatesConverter.convertModelPositionToViewPosition(new W(r.toLineNumber,this.model.getLineMaxColumn(r.toLineNumber))).lineNumber;t[i]={fromLineNumber:s,toLineNumber:a}}this._eventDispatcher.emitSingleViewEvent(new Bke(t)),this._eventDispatcher.emitOutgoingEvent(new Xke(e))})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new Pke),this.cursorConfig=new pv(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Gke(e))})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new pv(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new qke(e))})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const t=this._eventDispatcher.beginEmitViewEvents();t.emitViewEvent(new ok),t.emitViewEvent(new rk),t.emitViewEvent(new Yf(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new pv(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Yke(e))})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Yf(e)),this._eventDispatcher.emitOutgoingEvent(new Kke(e))}))}setHiddenAreas(e,t){var i;this.hiddenAreasModel.setHiddenAreas(t,e);const o=this.hiddenAreasModel.getMergedRanges();if(o===this.previousHiddenAreas)return;this.previousHiddenAreas=o;const r=this._captureStableViewport();let s=!1;try{const a=this._eventDispatcher.beginEmitViewEvents();s=this._lines.setHiddenAreas(o),s&&(a.emitViewEvent(new ok),a.emitViewEvent(new rk),a.emitViewEvent(new Yf(null)),this._cursor.onLineMappingChanged(a),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const l=(i=r.viewportStartModelPosition)===null||i===void 0?void 0:i.lineNumber;l&&o.some(d=>d.startLineNumber<=l&&l<=d.endLineNumber)||r.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),s&&this._eventDispatcher.emitOutgoingEvent(new $ke)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(144),t=this._configuration.options.get(67),i=Math.max(20,Math.round(e.height/t)),o=this.viewLayout.getLinesViewportData(),r=Math.max(1,o.completelyVisibleStartLineNumber-i),s=Math.min(this.getLineCount(),o.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new D(r,this.getLineMinColumn(r),s,this.getLineMaxColumn(s)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(i.length===0)return[t];const o=[];let r=0,s=t.startLineNumber,a=t.startColumn;const l=t.endLineNumber,c=t.endColumn;for(let d=0,u=i.length;d<u;d++){const h=i[d].startLineNumber,g=i[d].endLineNumber;g<s||h>l||(s<h&&(o[r++]=new D(s,a,h-1,this.model.getLineMaxColumn(h-1))),s=g+1,a=1)}return(s<l||s===l&&a<c)&&(o[r++]=new D(s,a,l,c)),o}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new D(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,o=t.completelyVisibleEndLineNumber;return new D(i,this.getLineMinColumn(i),o,this.getLineMaxColumn(o))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),o=this.coordinatesConverter.convertViewPositionToModelPosition(new W(i,this.getLineMinColumn(i))),r=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:o,firstPositionDeltaTop:r}}reduceRestoreState(e){if(typeof e.firstPosition>"u")return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),o=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:o}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStart.update(this,e)}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,o){return this._lines.getViewLinesBracketGuides(e,t,i,o)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=hr(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=hc(this.getLineContent(e));return t===-1?0:t+2}getMinimapDecorationsInRange(e){return this._decorations.getMinimapDecorationsInRange(e)}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,t){const o=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return this._getViewLineRenderingData(t,o)}getViewLineRenderingData(e){const t=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,t)}_getViewLineRenderingData(e,t){const i=this.model.mightContainRTL(),o=this.model.mightContainNonBasicASCII(),r=this.getTabSize(),s=this._lines.getViewLineData(e);return s.inlineDecorations&&(t=[...t,...s.inlineDecorations.map(a=>a.toInlineDecoration(e))]),new ca(s.minColumn,s.maxColumn,s.content,s.continuesWithWrappedLine,i,o,s.tokens,t,r,s.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){const o=this._lines.getViewLinesData(e,t,i);return new m1e(this.getTabSize(),o)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,VD(this._configuration.options)),i=new bLe;for(const o of t){const r=o.options,s=r.overviewRuler;if(!s)continue;const a=s.position;if(a===0)continue;const l=s.getColor(e.value),c=this.coordinatesConverter.getViewLineNumberOfModelPosition(o.range.startLineNumber,o.range.startColumn),d=this.coordinatesConverter.getViewLineNumberOfModelPosition(o.range.endLineNumber,o.range.endColumn);i.accept(l,r.zIndex,c,d,a)}return i.asArray}_invalidateDecorationsColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const i=t.options.overviewRuler;i==null||i.invalidateCachedColor();const o=t.options.minimap;o==null||o.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getValueLengthInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueLengthInRange(i,t)}modifyPosition(e,t){const i=this.coordinatesConverter.convertViewPositionToModelPosition(e),o=this.model.modifyPosition(i,t);return this.coordinatesConverter.convertModelPositionToViewPosition(o)}deduceModelPositionRelativeToViewPosition(e,t,i){const o=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(t<0?t-=i:t+=i);const s=this.model.getOffsetAt(o)+t;return this.model.getPositionAt(s)}getPlainTextToCopy(e,t,i){const o=i?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(D.compareRangesUsingStarts);let r=!1,s=!1;for(const l of e)l.isEmpty()?r=!0:s=!0;if(!s){if(!t)return"";const l=e.map(d=>d.startLineNumber);let c="";for(let d=0;d<l.length;d++)d>0&&l[d-1]===l[d]||(c+=this.model.getLineContent(l[d])+o);return c}if(r&&t){const l=[];let c=0;for(const d of e){const u=d.startLineNumber;d.isEmpty()?u!==c&&l.push(this.model.getLineContent(u)):l.push(this.model.getValueInRange(d,i?2:0)),c=u}return l.length===1?l[0]:l}const a=[];for(const l of e)l.isEmpty()||a.push(this.model.getValueInRange(l,i?2:0));return a.length===1?a[0]:a}getRichTextToCopy(e,t){const i=this.model.getLanguageId();if(i===oa||e.length!==1)return null;let o=e[0];if(o.isEmpty()){if(!t)return null;const d=o.startLineNumber;o=new D(d,this.model.getLineMinColumn(d),d,this.model.getLineMaxColumn(d))}const r=this._configuration.options.get(50),s=this._getColorMap(),l=/[:;\\\/<>]/.test(r.fontFamily)||r.fontFamily===os.fontFamily;let c;return l?c=os.fontFamily:(c=r.fontFamily,c=c.replace(/"/g,"'"),/[,']/.test(c)||/[+ ]/.test(c)&&(c=`'${c}'`),c=`${c}, ${os.fontFamily}`),{mode:i,html:`<div style="color: ${s[1]};background-color: ${s[2]};font-family: ${c};font-weight: ${r.fontWeight};font-size: ${r.fontSize}px;line-height: ${r.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(o,s)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,o=e.startColumn,r=e.endLineNumber,s=e.endColumn,a=this.getTabSize();let l="";for(let c=i;c<=r;c++){const d=this.model.tokenization.getLineTokens(c),u=d.getLineContent(),h=c===i?o-1:0,g=c===r?s-1:u.length;u===""?l+="<br>":l+=iLe(u,d.inflate(),t,h,g,a,Qo)}return l}_getColorMap(){const e=rn.getColorMap(),t=["#000000"];if(e)for(let i=1,o=e.length;i<o;i++)t[i]=U.Format.CSS.formatHex(e[i]);return t}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){return this._withViewEventsCollector(o=>this._cursor.setStates(o,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(o=>this._cursor.setSelections(o,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new jke);return}this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(o=>this._cursor.executeEdits(o,e,t,i))}startComposition(){this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,o,r){this._executeCursorEdit(s=>this._cursor.compositionType(s,e,t,i,o,r))}paste(e,t,i,o){this._executeCursorEdit(r=>this._cursor.paste(r,e,t,i,o))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealPrimaryCursor(e,t,i=!1){this._withViewEventsCollector(o=>this._cursor.revealPrimary(o,e,i,0,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new D(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(o=>o.emitViewEvent(new OL(e,!1,i,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new D(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(o=>o.emitViewEvent(new OL(e,!1,i,null,0,!0,0)))}revealRange(e,t,i,o,r){this._withViewEventsCollector(s=>s.emitViewEvent(new OL(e,!1,i,null,o,t,r)))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Vke),this._eventDispatcher.emitOutgoingEvent(new Uke))}_withViewEventsCollector(e){try{const t=this._eventDispatcher.beginEmitViewEvents();return e(t)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}};class e7{static create(e){const t=e._setTrackedRange(null,new D(1,1,1,1),1);return new e7(e,1,!1,t,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(e,t,i,o,r){this._model=e,this._viewLineNumber=t,this._isValid=i,this._modelTrackedRange=o,this._startLineDelta=r}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,t){const i=e.coordinatesConverter.convertViewPositionToModelPosition(new W(t,e.getLineMinColumn(t))),o=e.model._setTrackedRange(this._modelTrackedRange,new D(i.lineNumber,i.column,i.lineNumber,i.column),1),r=e.viewLayout.getVerticalOffsetForLineNumber(t),s=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=t,this._isValid=!0,this._modelTrackedRange=o,this._startLineDelta=s-r}invalidate(){this._isValid=!1}}class bLe{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,o,r){const s=this._asMap[e];if(s){const a=s.data,l=a[a.length-3],c=a[a.length-1];if(l===r&&c+1>=i){o>c&&(a[a.length-1]=o);return}a.push(r,i,o)}else{const a=new Hy(e,t,[r,i,o]);this._asMap[e]=a,this.asArray.push(a)}}}class _Le{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(e,t){const i=this.hiddenAreas.get(e);i&&V$(i,t)||(this.hiddenAreas.set(e,t),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const e=Array.from(this.hiddenAreas.values()).reduce((t,i)=>CLe(t,i),[]);return V$(this.ranges,e)?this.ranges:(this.ranges=e,this.ranges)}}function CLe(n,e){const t=[];let i=0,o=0;for(;i<n.length&&o<e.length;){const r=n[i],s=e[o];if(r.endLineNumber<s.startLineNumber-1)t.push(n[i++]);else if(s.endLineNumber<r.startLineNumber-1)t.push(e[o++]);else{const a=Math.min(r.startLineNumber,s.startLineNumber),l=Math.max(r.endLineNumber,s.endLineNumber);t.push(new D(a,1,l,1)),i++,o++}}for(;i<n.length;)t.push(n[i++]);for(;o<e.length;)t.push(e[o++]);return t}function V$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].equalsRange(e[t]))return!1;return!0}class H${constructor(e,t){this.viewportStartModelPosition=e,this.startLineDelta=t}recoverViewportStart(e,t){if(!this.viewportStartModelPosition)return;const i=e.convertModelPositionToViewPosition(this.viewportStartModelPosition),o=t.getVerticalOffsetForLineNumber(i.lineNumber);t.setScrollPosition({scrollTop:o+this.startLineDelta},1)}}class PS{constructor(...e){this._entries=new Map;for(const[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}get(e){return this._entries.get(e)}}var sw;(function(n){n[n.Ignore=0]="Ignore",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error"})(sw||(sw={}));(function(n){const e="error",t="warning",i="warn",o="info",r="ignore";function s(l){return l?rb(e,l)?n.Error:rb(t,l)||rb(i,l)?n.Warning:rb(o,l)?n.Info:n.Ignore:n.Ignore}n.fromValue=s;function a(l){switch(l){case n.Error:return e;case n.Warning:return t;case n.Info:return o;default:return r}}n.toString=a})(sw||(sw={}));const _n=sw;var wI=_n;const Nn=Et("notificationService");class yLe{}var wLe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},tu=function(n,e){return function(t,i){e(t,i,n)}},up;let SLe=0,xLe=class{constructor(e,t,i,o,r,s){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=o,this.listenersToRemove=r,this.attachedView=s}dispose(){si(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}},V_=up=class extends z{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(e,t,i,o,r,s,a,l,c,d,u,h){var g;super(),this.languageConfigurationService=u,this._deliveryQueue=hme(),this._contributions=this._register(new exe),this._onDidDispose=this._register(new B),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new nr(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new z$({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new z$({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new nr(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new nr(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new nr(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new nr(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new nr(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new nr(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new nr(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new nr(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new nr(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),r.willCreateCodeEditor();const f={...t};this._domElement=e,this._overflowWidgetsDomNode=f.overflowWidgetsDomNode,delete f.overflowWidgetsDomNode,this._id=++SLe,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(i.isSimpleWidget||!1,f,d)),this._register(this._configuration.onDidChange(v=>{this._onDidChangeConfiguration.fire(v);const _=this._configuration.options;if(v.hasChanged(144)){const C=_.get(144);this._onDidLayoutChange.fire(C)}})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=c,this._codeEditorService=r,this._commandService=s,this._themeService=l,this._register(new kLe(this,this._contextKeyService)),this._register(new LLe(this,this._contextKeyService,h)),this._instantiationService=o.createChild(new PS([Xe,this._contextKeyService])),this._modelData=null,this._focusTracker=new DLe(e,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let p;Array.isArray(i.contributions)?p=i.contributions:p=Fb.getEditorContributions(),this._contributions.initialize(this,p,this._instantiationService);for(const v of Fb.getEditorActions()){if(this._actions.has(v.id)){st(new Error(`Cannot have two actions with the same id ${v.id}`));continue}const _=new Aee(v.id,v.label,v.alias,v.metadata,(g=v.precondition)!==null&&g!==void 0?g:void 0,C=>this._instantiationService.invokeFunction(y=>Promise.resolve(v.runEditorCommand(y,this,C))),this._contextKeyService);this._actions.set(_.id,_)}const b=()=>!this._configuration.options.get(91)&&this._configuration.options.get(36).enabled;this._register(new wbe(this._domElement,{onDragOver:v=>{if(!b())return;const _=this.getTargetAtClientPoint(v.clientX,v.clientY);_!=null&&_.position&&this.showDropIndicatorAt(_.position)},onDrop:async v=>{if(!b()||(this.removeDropIndicator(),!v.dataTransfer))return;const _=this.getTargetAtClientPoint(v.clientX,v.clientY);_!=null&&_.position&&this._onDropIntoEditor.fire({position:_.position,event:v})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(e){var t;(t=this._modelData)===null||t===void 0||t.view.writeScreenReaderContent(e)}_createConfiguration(e,t,i){return new g4(e,t,this._domElement,i)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return kS.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?ti.getWordAtPosition(this._modelData.model,this._configuration.options.get(130),e):null}getValue(e=null){if(!this._modelData)return"";const t=!!(e&&e.preserveBOM);let i=0;return e&&e.lineEnding&&e.lineEnding===`
`?i=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){var t;const i=e;if(this._modelData===null&&i===null||this._modelData&&this._modelData.model===i)return;const o={oldModelUrl:((t=this._modelData)===null||t===void 0?void 0:t.model.uri)||null,newModelUrl:(i==null?void 0:i.uri)||null};this._onWillChangeModel.fire(o);const r=this.hasTextFocus(),s=this._detachModel();this._attachModel(i),r&&this.hasModel()&&this.focus(),this._removeDecorationTypes(),this._onDidChangeModel.fire(o),this._postDetachModelCleanup(s),this._contributionsDisposable=this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(const i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,t,i,o){const r=e.model.validatePosition({lineNumber:t,column:i}),s=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(r);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(s.lineNumber,o)}getTopForLineNumber(e,t=!1){return this._modelData?up._getVerticalOffsetForPosition(this._modelData,e,1,t):-1}getTopForPosition(e,t){return this._modelData?up._getVerticalOffsetForPosition(this._modelData,e,t,!1):-1}static _getVerticalOffsetForPosition(e,t,i,o=!1){const r=e.model.validatePosition({lineNumber:t,column:i}),s=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(r);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber,o)}getBottomForLineNumber(e,t=!1){return this._modelData?up._getVerticalOffsetAfterPosition(this._modelData,e,1,t):-1}setHiddenAreas(e,t){var i;(i=this._modelData)===null||i===void 0||i.viewModel.setHiddenAreas(e.map(o=>D.lift(o)),t)}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return Zn.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,t="api"){if(this._modelData){if(!W.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,o){if(!this._modelData)return;if(!D.isIRange(e))throw new Error("Invalid arguments");const r=this._modelData.model.validateRange(e),s=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(r);this._modelData.viewModel.revealRange("api",i,s,t,o)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new D(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,o){if(!W.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new D(e.lineNumber,e.column,e.lineNumber,e.column),t,i,o)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,t="api"){const i=Pe.isISelection(e),o=D.isIRange(e);if(!i&&!o)throw new Error("Invalid arguments");if(i)this._setSelectionImpl(e,t);else if(o){const r={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(r,t)}}_setSelectionImpl(e,t){if(!this._modelData)return;const i=new Pe(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(t,[i])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,o){if(typeof e!="number"||typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new D(e,1,t,1),i,!1,o)}revealRange(e,t=0,i=!1,o=!0){this._revealRange(e,i?1:0,o,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,o){if(!D.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(D.lift(e),t,i,o)}setSelections(e,t="api",i=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let o=0,r=e.length;o<r;o++)if(!Pe.isISelection(e[o]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(e,t)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const e=this._contributions.saveViewState(),t=this._modelData.viewModel.saveCursorState(),i=this._modelData.viewModel.saveState();return{cursorState:t,viewState:i,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const i=t.cursorState;Array.isArray(i)?i.length>0&&this._modelData.viewModel.restoreCursorState(i):this._modelData.viewModel.restoreCursorState([i]),this._contributions.restoreViewState(t.contributionsState||{});const o=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(o)}}handleInitialized(){var e;(e=this._getViewModel())===null||e===void 0||e.visibleLinesStabilized()}getContribution(e){return this._contributions.get(e)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let e=this.getActions();return e=e.filter(t=>t.isSupported()),e}getAction(e){return this._actions.get(e)||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const r=i;this._type(e,r.text||"");return}case"replacePreviousChar":{const r=i;this._compositionType(e,r.text||"",r.replaceCharCnt||0,0,0);return}case"compositionType":{const r=i;this._compositionType(e,r.text||"",r.replacePrevCharCnt||0,r.replaceNextCharCnt||0,r.positionDelta||0);return}case"paste":{const r=i;this._paste(e,r.text||"",r.pasteOnNewLine||!1,r.multicursorText||null,r.mode||null);return}case"cut":this._cut(e);return}const o=this.getAction(t);if(o){Promise.resolve(o.run(i)).then(void 0,st);return}this._modelData&&(this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i))}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){!this._modelData||t.length===0||(e==="keyboard"&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),e==="keyboard"&&this._onDidType.fire(t))}_compositionType(e,t,i,o,r){this._modelData&&this._modelData.viewModel.compositionType(t,i,o,r,e)}_paste(e,t,i,o,r){if(!this._modelData||t.length===0)return;const s=this._modelData.viewModel,a=s.getSelection().getStartPosition();s.paste(t,i,o,e);const l=s.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new D(a.lineNumber,a.column,l.lineNumber,l.column),languageId:r})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const o=Fb.getEditorCommand(t);return o?(i=i||{},i.source=e,this._instantiationService.invokeFunction(r=>{Promise.resolve(o.runEditorCommand(r,this,i)).then(void 0,st)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(91)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(91)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,i){if(!this._modelData||this._configuration.options.get(91))return!1;let o;return i?Array.isArray(i)?o=()=>i:o=i:o=()=>null,this._modelData.viewModel.executeEdits(e,t,o),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}createDecorationsCollection(e){return new ELe(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,VD(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,VD(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?e.length===0&&t.length===0?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){!this._modelData||e.length===0||this._modelData.model.changeDecorations(t=>{t.deltaDecorations(e,[])})}removeDecorationsByType(e){const t=this._decorationTypeKeysToIds[e];t&&this.changeDecorations(i=>i.deltaDecorations(t,[])),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(144)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(e)}layout(e,t=!1){this._configuration.observeContainer(e),t||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id:"+e.getId()),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}}addGlyphMarginWidget(e){const t={widget:e,position:e.getPosition()};this._glyphMarginWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(t)}layoutGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const i=this._glyphMarginWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(i)}}removeGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const i=this._glyphMarginWidgets[t];delete this._glyphMarginWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(i)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,t)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const t=this._modelData.model.validatePosition(e),i=this._configuration.options,o=i.get(144),r=up._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),s=this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+o.glyphMarginWidth+o.lineNumbersWidth+o.decorationsWidth-this.getScrollLeft();return{top:r,left:s,height:i.get(67)}}getOffsetForColumn(e,t){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,t)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){zo(e,this._configuration.options.get(50))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount());const i=e.onBeforeAttached(),o=new vLe(this._id,this._configuration,e,O6.create(qe(this._domElement)),q6.create(this._configuration.options),a=>Ds(qe(this._domElement),a),this.languageConfigurationService,this._themeService,i);t.push(e.onWillDispose(()=>this.setModel(null))),t.push(o.onEvent(a=>{switch(a.kind){case 0:this._onDidContentSizeChange.fire(a);break;case 1:this._editorTextFocus.setValue(a.hasFocus);break;case 2:this._onDidScrollChange.fire(a);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(a.reachedMaxCursorCount){const u=this.getOption(80),h=m("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",u);this._notificationService.prompt(wI.Warning,h,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:m("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const l=[];for(let u=0,h=a.selections.length;u<h;u++)l[u]=a.selections[u].getPosition();const c={position:l[0],secondaryPositions:l.slice(1),reason:a.reason,source:a.source};this._onDidChangeCursorPosition.fire(c);const d={selection:a.selections[0],secondarySelections:a.selections.slice(1),modelVersionId:a.modelVersionId,oldSelections:a.oldSelections,oldModelVersionId:a.oldModelVersionId,source:a.source,reason:a.reason};this._onDidChangeCursorSelection.fire(d);break}case 7:this._onDidChangeModelDecorations.fire(a.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(a.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(a.event);break;case 10:this._onDidChangeModelContent.fire(a.event);break;case 11:this._onDidChangeModelOptions.fire(a.event);break;case 12:this._onDidChangeModelTokens.fire(a.event);break}}));const[r,s]=this._createView(o);if(s){this._domElement.appendChild(r.domNode.domNode);let a=Object.keys(this._contentWidgets);for(let l=0,c=a.length;l<c;l++){const d=a[l];r.addContentWidget(this._contentWidgets[d])}a=Object.keys(this._overlayWidgets);for(let l=0,c=a.length;l<c;l++){const d=a[l];r.addOverlayWidget(this._overlayWidgets[d])}a=Object.keys(this._glyphMarginWidgets);for(let l=0,c=a.length;l<c;l++){const d=a[l];r.addGlyphMarginWidget(this._glyphMarginWidgets[d])}r.render(!1,!0),r.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new xLe(e,o,r,s,t,i)}_createView(e){let t;this.isSimpleWidget?t={paste:(r,s,a,l)=>{this._paste("keyboard",r,s,a,l)},type:r=>{this._type("keyboard",r)},compositionType:(r,s,a,l)=>{this._compositionType("keyboard",r,s,a,l)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:t={paste:(r,s,a,l)=>{const c={text:r,pasteOnNewLine:s,multicursorText:a,mode:l};this._commandService.executeCommand("paste",c)},type:r=>{const s={text:r};this._commandService.executeCommand("type",s)},compositionType:(r,s,a,l)=>{if(a||l){const c={text:r,replacePrevCharCnt:s,replaceNextCharCnt:a,positionDelta:l};this._commandService.executeCommand("compositionType",c)}else{const c={text:r,replaceCharCnt:s};this._commandService.executeCommand("replacePreviousChar",c)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new vI(e.coordinatesConverter);return i.onKeyDown=r=>this._onKeyDown.fire(r),i.onKeyUp=r=>this._onKeyUp.fire(r),i.onContextMenu=r=>this._onContextMenu.fire(r),i.onMouseMove=r=>this._onMouseMove.fire(r),i.onMouseLeave=r=>this._onMouseLeave.fire(r),i.onMouseDown=r=>this._onMouseDown.fire(r),i.onMouseUp=r=>this._onMouseUp.fire(r),i.onMouseDrag=r=>this._onMouseDrag.fire(r),i.onMouseDrop=r=>this._onMouseDrop.fire(r),i.onMouseDropCanceled=r=>this._onMouseDropCanceled.fire(r),i.onMouseWheel=r=>this._onMouseWheel.fire(r),[new x4(t,this._configuration,this._themeService.getColorTheme(),e,i,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(e){e==null||e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){var e;if((e=this._contributionsDisposable)===null||e===void 0||e.dispose(),this._contributionsDisposable=void 0,!this._modelData)return null;const t=this._modelData.model,i=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),i&&this._domElement.contains(i)&&this._domElement.removeChild(i),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),t}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}showDropIndicatorAt(e){const t=[{range:new D(e.lineNumber,e.column,e.lineNumber,e.column),options:up.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(t),this.revealPosition(e,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(e,t){this._contextKeyService.createKey(e,t)}};V_.dropIntoEditorDecorationOptions=dt.register({description:"workbench-dnd-target",className:"dnd-target"});V_=up=wLe([tu(3,Ge),tu(4,qt),tu(5,tn),tu(6,Xe),tu(7,ao),tu(8,Nn),tu(9,Dl),tu(10,Di),tu(11,Re)],V_);class z$ extends z{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new B(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new B(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class nr extends B{constructor(e,t){super({deliveryQueue:t}),this._contributions=e}fire(e){this._contributions.onBeforeInteractionEvent(),super.fire(e)}}class kLe extends z{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=I.editorSimpleInput.bindTo(t),this._editorFocus=I.focus.bindTo(t),this._textInputFocus=I.textInputFocus.bindTo(t),this._editorTextFocus=I.editorTextFocus.bindTo(t),this._tabMovesFocus=I.tabMovesFocus.bindTo(t),this._editorReadonly=I.readOnly.bindTo(t),this._inDiffEditor=I.inDiffEditor.bindTo(t),this._editorColumnSelection=I.columnSelection.bindTo(t),this._hasMultipleSelections=I.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=I.hasNonEmptySelection.bindTo(t),this._canUndo=I.canUndo.bindTo(t),this._canRedo=I.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(R_.onDidChangeTabFocus(i=>this._tabMovesFocus.set(i))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._tabMovesFocus.set(R_.getTabFocusMode()),this._editorReadonly.set(e.get(91)),this._inDiffEditor.set(e.get(61)),this._editorColumnSelection.set(e.get(22))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(t=>!t.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(!!(e&&e.canUndo())),this._canRedo.set(!!(e&&e.canRedo()))}}class LLe extends z{constructor(e,t,i){super(),this._editor=e,this._contextKeyService=t,this._languageFeaturesService=i,this._langId=I.languageId.bindTo(t),this._hasCompletionItemProvider=I.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=I.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=I.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=I.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=I.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=I.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=I.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=I.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=I.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=I.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=I.hasReferenceProvider.bindTo(t),this._hasRenameProvider=I.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=I.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=I.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=I.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=I.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=I.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=I.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInEmbeddedEditor=I.isInEmbeddedEditor.bindTo(t);const o=()=>this._update();this._register(e.onDidChangeModel(o)),this._register(e.onDidChangeModelLanguage(o)),this._register(i.completionProvider.onDidChange(o)),this._register(i.codeActionProvider.onDidChange(o)),this._register(i.codeLensProvider.onDidChange(o)),this._register(i.definitionProvider.onDidChange(o)),this._register(i.declarationProvider.onDidChange(o)),this._register(i.implementationProvider.onDidChange(o)),this._register(i.typeDefinitionProvider.onDidChange(o)),this._register(i.hoverProvider.onDidChange(o)),this._register(i.documentHighlightProvider.onDidChange(o)),this._register(i.documentSymbolProvider.onDidChange(o)),this._register(i.referenceProvider.onDidChange(o)),this._register(i.renameProvider.onDidChange(o)),this._register(i.documentFormattingEditProvider.onDidChange(o)),this._register(i.documentRangeFormattingEditProvider.onDidChange(o)),this._register(i.signatureHelpProvider.onDidChange(o)),this._register(i.inlayHintsProvider.onDidChange(o)),o()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInEmbeddedEditor.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInEmbeddedEditor.set(e.uri.scheme===ft.walkThroughSnippet||e.uri.scheme===ft.vscodeChatCodeBlock)})}}class DLe extends z{constructor(e,t){super(),this._onChange=this._register(new B),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(Cc(e)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),t&&(this._overflowWidgetsDomNode=this._register(Cc(t)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()})))}_update(){const e=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;this._hadFocus!==e&&(this._hadFocus=e,this._onChange.fire(void 0))}hasFocus(){var e;return(e=this._hadFocus)!==null&&e!==void 0?e:!1}}class ELe{get length(){return this._decorationIds.length}constructor(e,t){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(t)&&t.length>0&&this.set(t)}onDidChange(e,t,i){return this._editor.onDidChangeModelDecorations(o=>{this._isChangingDecorations||e.call(t,o)},i)}getRange(e){return!this._editor.hasModel()||e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e])}getRanges(){if(!this._editor.hasModel())return[];const e=this._editor.getModel(),t=[];for(const i of this._decorationIds){const o=e.getDecorationRange(i);o&&t.push(o)}return t}has(e){return this._decorationIds.includes(e.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations(t=>{this._decorationIds=t.deltaDecorations(this._decorationIds,e)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(e){let t=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(i=>{t=i.deltaDecorations([],e),this._decorationIds=this._decorationIds.concat(t)})}finally{this._isChangingDecorations=!1}return t}}const TLe=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ILe=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function BM(n){return TLe+encodeURIComponent(n.toString())+ILe}const NLe=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),RLe=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function MLe(n){return NLe+encodeURIComponent(n.toString())+RLe}ja((n,e)=>{const t=n.getColor(vd);t&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${BM(t)}") repeat-x bottom left; }`);const i=n.getColor(dr);i&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${BM(i)}") repeat-x bottom left; }`);const o=n.getColor(ns);o&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${BM(o)}") repeat-x bottom left; }`);const r=n.getColor(aCe);r&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${MLe(r)}") no-repeat bottom left; }`);const s=n.getColor(mwe);s&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${s.rgba.a}; }`)});var ALe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},PLe=function(n,e){return function(t,i){e(t,i,n)}};let H4=class extends z{constructor(e){super(),this._themeService=e,this._onWillCreateCodeEditor=this._register(new B),this._onCodeEditorAdd=this._register(new B),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new B),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new B),this._onDiffEditorAdd=this._register(new B),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new B),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new Ir,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(i=>i.removeDecorationsByType(e))))}setModelProperty(e,t,i){const o=e.toString();let r;this._modelProperties.has(o)?r=this._modelProperties.get(o):(r=new Map,this._modelProperties.set(o,r)),r.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}async openCodeEditor(e,t,i){for(const o of this._codeEditorOpenHandlers){const r=await o(e,t,i);if(r!==null)return r}return null}registerCodeEditorOpenHandler(e){const t=this._codeEditorOpenHandlers.unshift(e);return je(t)}};H4=ALe([PLe(0,ao)],H4);var OLe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},U$=function(n,e){return function(t,i){e(t,i,n)}};let T2=class extends H4{constructor(e,t){super(t),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=e.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(async(i,o,r)=>o?this.doOpenEditor(o,i):null))}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const r=t.resource.scheme;if(r===ft.http||r===ft.https)return rJ(t.resource.toString()),e}return null}const o=t.options?t.options.selection:null;if(o)if(typeof o.endLineNumber=="number"&&typeof o.endColumn=="number")e.setSelection(o),e.revealRangeInCenter(o,1);else{const r={lineNumber:o.startLineNumber,column:o.startColumn};e.setPosition(r),e.revealPositionInCenter(r,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};T2=OLe([U$(0,Xe),U$(1,ao)],T2);Ot(qt,T2,0);const Xm=Et("layoutService");var rte=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},ste=function(n,e){return function(t,i){e(t,i,n)}};let I2=class{get mainContainer(){var e,t;return(t=(e=E8(this._codeEditorService.listCodeEditors()))===null||e===void 0?void 0:e.getContainerDomNode())!==null&&t!==void 0?t:gi.document.body}get activeContainer(){var e,t;const i=(e=this._codeEditorService.getFocusedCodeEditor())!==null&&e!==void 0?e:this._codeEditorService.getActiveCodeEditor();return(t=i==null?void 0:i.getContainerDomNode())!==null&&t!==void 0?t:this.mainContainer}get mainContainerDimension(){return gh(this.mainContainer)}get activeContainerDimension(){return gh(this.activeContainer)}get containers(){return vc(this._codeEditorService.listCodeEditors().map(e=>e.getContainerDomNode()))}getContainer(){return this.activeContainer}focus(){var e;(e=this._codeEditorService.getFocusedCodeEditor())===null||e===void 0||e.focus()}constructor(e){this._codeEditorService=e,this.onDidLayoutMainContainer=me.None,this.onDidLayoutActiveContainer=me.None,this.onDidLayoutContainer=me.None,this.onDidChangeActiveContainer=me.None,this.onDidAddContainer=me.None,this.whenActiveContainerStylesLoaded=Promise.resolve(),this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};I2=rte([ste(0,qt)],I2);let z4=class extends I2{get mainContainer(){return this._container}constructor(e,t){super(t),this._container=e}};z4=rte([ste(1,qt)],z4);Ot(Xm,I2,1);const OS=Et("dialogService");var FLe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},$$=function(n,e){return function(t,i){e(t,i,n)}};function sk(n){return n.scheme===ft.file?n.fsPath:n.path}let ate=0;class ak{constructor(e,t,i,o,r,s,a){this.id=++ate,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=o,this.groupOrder=r,this.sourceId=s,this.sourceOrder=a,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class j${constructor(e,t){this.resourceLabel=e,this.reason=t}}class K${constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,o]of this.elements)(o.reason===0?e:t).push(o.resourceLabel);const i=[];return e.length>0&&i.push(m({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(m({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join(`
`)}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class BLe{constructor(e,t,i,o,r,s,a){this.id=++ate,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=o,this.groupOrder=r,this.sourceId=s,this.sourceOrder=a,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(e,t,i){this.removedResources||(this.removedResources=new K$),this.removedResources.has(t)||this.removedResources.set(t,new j$(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new K$),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new j$(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class lte{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){e.type===1?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,o=this._past.length;i<o;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new Jee(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,o=0,r=-1;for(let a=0,l=this._past.length;a<l;a++,o++){const c=this._past[a];i&&(o>=t||c.id!==e.elements[o])&&(i=!1,r=0),!i&&c.type===1&&c.removeResource(this.resourceLabel,this.strResource,0)}let s=-1;for(let a=this._future.length-1;a>=0;a--,o++){const l=this._future[a];i&&(o>=t||l.id!==e.elements[o])&&(i=!1,s=a),!i&&l.type===1&&l.removeResource(this.resourceLabel,this.strResource,0)}r!==-1&&(this._past=this._past.slice(0,r)),s!==-1&&(this._future=this._future.slice(s+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class WM{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const cte=new lte("","");cte.locked=!0;let U4=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);const t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join(`
`))}pushElement(e,t=W_.None,i=ld.None){if(e.type===0){const o=sk(e.resource),r=this.getUriComparisonKey(e.resource);this._pushElement(new ak(e,o,r,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const o=new Set,r=[],s=[];for(const a of e.resources){const l=sk(a),c=this.getUriComparisonKey(a);o.has(c)||(o.add(c),r.push(l),s.push(c))}r.length===1?this._pushElement(new ak(e,r[0],s[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new BLe(e,r,s,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const o=e.resourceLabels[t],r=e.strResources[t];let s;this._editStacks.has(r)?s=this._editStacks.get(r):(s=new lte(o,r),this._editStacks.set(r,s)),s.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const i=this._editStacks.get(t);if(i.hasFutureElements())return null;const o=i.getClosestPastElement();return o?o.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),o=new Map;for(const r of i){const s=sk(r.resource),a=this.getUriComparisonKey(r.resource),l=new ak(r,s,a,0,0,0,0);o.set(l.strResource,l)}for(const r of e.strResources){if(t&&t.has(r))continue;this._editStacks.get(r).splitPastWorkspaceElement(e,o)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),o=new Map;for(const r of i){const s=sk(r.resource),a=this.getUriComparisonKey(r.resource),l=new ak(r,s,a,0,0,0,0);o.set(l.strResource,l)}for(const r of e.strResources){if(t&&t.has(r))continue;this._editStacks.get(r).splitFutureWorkspaceElement(e,o)}}removeElements(e){const t=typeof e=="string"?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t))}setElementsValidFlag(e,t,i){const o=this.getUriComparisonKey(e);this._editStacks.has(o)&&this._editStacks.get(o).setElementsValidFlag(t,i)}createSnapshot(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new Jee(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),!i.hasPastElements()&&!i.hasFutureElements()&&(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[o,r]of this._editStacks){const s=r.getClosestPastElement();s&&s.sourceId===e&&(!t||s.sourceOrder>t.sourceOrder)&&(t=s,i=o)}return[t,i]}canUndo(e){if(e instanceof ld){const[,i]=this._findClosestUndoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasPastElements():!1}_onError(e,t){st(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,o,r){const s=this._acquireLocks(i);let a;try{a=t()}catch(l){return s(),o.dispose(),this._onError(l,e)}return a?a.then(()=>(s(),o.dispose(),r()),l=>(s(),o.dispose(),this._onError(l,e))):(s(),o.dispose(),r())}async _invokeWorkspacePrepare(e){if(typeof e.actual.prepareUndoRedo>"u")return z.None;const t=e.actual.prepareUndoRedo();return typeof t>"u"?z.None:t}_invokeResourcePrepare(e,t){if(e.actual.type!==1||typeof e.actual.prepareUndoRedo>"u")return t(z.None);const i=e.actual.prepareUndoRedo();return i?O8(i)?t(i):i.then(o=>t(o)):t(z.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||cte);return new WM(t)}_tryToSplitAndUndo(e,t,i,o){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(o),new lk(this._undo(e,0,!0));for(const r of t.strResources)this.removeElements(r);return this._notificationService.warn(o),new lk}_checkWorkspaceUndo(e,t,i,o){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,m({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(o&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,m({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const r=[];for(const a of i.editStacks)a.getClosestPastElement()!==t&&r.push(a.resourceLabel);if(r.length>0)return this._tryToSplitAndUndo(e,t,null,m({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,r.join(", ")));const s=[];for(const a of i.editStacks)a.locked&&s.push(a.resourceLabel);return s.length>0?this._tryToSplitAndUndo(e,t,null,m({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,m({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const o=this._getAffectedEditStacks(t),r=this._checkWorkspaceUndo(e,t,o,!1);return r?r.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,o,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(i){if(i===e){const o=t.getSecondClosestPastElement();if(o&&o.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}async _confirmAndExecuteWorkspaceUndo(e,t,i,o){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){let a;(function(d){d[d.All=0]="All",d[d.This=1]="This",d[d.Cancel=2]="Cancel"})(a||(a={}));const{result:l}=await this._dialogService.prompt({type:_n.Info,message:m("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),buttons:[{label:m({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",i.editStacks.length),run:()=>a.All},{label:m({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>a.This}],cancelButton:{run:()=>a.Cancel}});if(l===a.Cancel)return;if(l===a.This)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const c=this._checkWorkspaceUndo(e,t,i,!1);if(c)return c.returnValue;o=!0}let r;try{r=await this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}const s=this._checkWorkspaceUndo(e,t,i,!0);if(s)return r.dispose(),s.returnValue;for(const a of i.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,r,()=>this._continueUndoInGroup(t.groupId,o))}_resourceUndo(e,t,i){if(!t.isValid){e.flushAllElements();return}if(e.locked){const o=m({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(o);return}return this._invokeResourcePrepare(t,o=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new WM([e]),o,()=>this._continueUndoInGroup(t.groupId,i))))}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[o,r]of this._editStacks){const s=r.getClosestPastElement();s&&s.groupId===e&&(!t||s.groupOrder>t.groupOrder)&&(t=s,i=o)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);if(i)return this._undo(i,0,t)}undo(e){if(e instanceof ld){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return typeof e=="string"?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const o=this._editStacks.get(e),r=o.getClosestPastElement();if(!r)return;if(r.groupId){const[a,l]=this._findClosestUndoElementInGroup(r.groupId);if(r!==a&&l)return this._undo(l,t,i)}if((r.sourceId!==t||r.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,r);try{return r.type===1?this._workspaceUndo(e,r,i):this._resourceUndo(o,r,i)}finally{}}async _confirmAndContinueUndo(e,t,i){if((await this._dialogService.confirm({message:m("confirmDifferentSource","Would you like to undo '{0}'?",i.label),primaryButton:m({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:m("confirmDifferentSource.no","No")})).confirmed)return this._undo(e,t,!0)}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[o,r]of this._editStacks){const s=r.getClosestFutureElement();s&&s.sourceId===e&&(!t||s.sourceOrder<t.sourceOrder)&&(t=s,i=o)}return[t,i]}canRedo(e){if(e instanceof ld){const[,i]=this._findClosestRedoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasFutureElements():!1}_tryToSplitAndRedo(e,t,i,o){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(o),new lk(this._redo(e));for(const r of t.strResources)this.removeElements(r);return this._notificationService.warn(o),new lk}_checkWorkspaceRedo(e,t,i,o){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,m({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(o&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,m({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const r=[];for(const a of i.editStacks)a.getClosestFutureElement()!==t&&r.push(a.resourceLabel);if(r.length>0)return this._tryToSplitAndRedo(e,t,null,m({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,r.join(", ")));const s=[];for(const a of i.editStacks)a.locked&&s.push(a.resourceLabel);return s.length>0?this._tryToSplitAndRedo(e,t,null,m({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,m({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),o=this._checkWorkspaceRedo(e,t,i,!1);return o?o.returnValue:this._executeWorkspaceRedo(e,t,i)}async _executeWorkspaceRedo(e,t,i){let o;try{o=await this._invokeWorkspacePrepare(t)}catch(s){return this._onError(s,t)}const r=this._checkWorkspaceRedo(e,t,i,!0);if(r)return o.dispose(),r.returnValue;for(const s of i.editStacks)s.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,o,()=>this._continueRedoInGroup(t.groupId))}_resourceRedo(e,t){if(!t.isValid){e.flushAllElements();return}if(e.locked){const i=m({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(i);return}return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new WM([e]),i,()=>this._continueRedoInGroup(t.groupId))))}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[o,r]of this._editStacks){const s=r.getClosestFutureElement();s&&s.groupId===e&&(!t||s.groupOrder<t.groupOrder)&&(t=s,i=o)}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);if(t)return this._redo(t)}redo(e){if(e instanceof ld){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return typeof e=="string"?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(i){if(i.groupId){const[o,r]=this._findClosestRedoElementInGroup(i.groupId);if(i!==o&&r)return this._redo(r)}try{return i.type===1?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{}}}};U4=FLe([$$(0,OS),$$(1,Nn)],U4);class lk{constructor(e){this.returnValue=e}}Ot(yI,U4,1);function wr(n,e,t){return Math.min(Math.max(n,e),t)}class dte{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class WLe{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(e),this._values.fill(0,0,e)}update(e){const t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}const t7=Et("environmentService");var VLe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},q$=function(n,e){return function(t,i){e(t,i,n)}};const Ka=Et("ILanguageFeatureDebounceService");var N2;(function(n){const e=new WeakMap;let t=0;function i(o){let r=e.get(o);return r===void 0&&(r=++t,e.set(o,r)),r}n.of=i})(N2||(N2={}));class HLe{constructor(e){this._default=e}get(e){return this._default}update(e,t){return this._default}default(){return this._default}}class zLe{constructor(e,t,i,o,r,s){this._logService=e,this._name=t,this._registry=i,this._default=o,this._min=r,this._max=s,this._cache=new Af(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((t,i)=>VT(N2.of(i),t),0)}get(e){const t=this._key(e),i=this._cache.get(t);return i?wr(i.value,this._min,this._max):this.default()}update(e,t){const i=this._key(e);let o=this._cache.get(i);o||(o=new WLe(6),this._cache.set(i,o));const r=wr(o.update(t),this._min,this._max);return J8(e.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${r}ms`),r}_overall(){const e=new dte;for(const[,t]of this._cache)e.update(t.value);return e.value}default(){const e=this._overall()|0||this._default;return wr(e,this._min,this._max)}}let $4=class{constructor(e,t){this._logService=e,this._data=new Map,this._isDev=t.isExtensionDevelopment||!t.isBuilt}for(e,t,i){var o,r,s;const a=(o=i==null?void 0:i.min)!==null&&o!==void 0?o:50,l=(r=i==null?void 0:i.max)!==null&&r!==void 0?r:a**2,c=(s=i==null?void 0:i.key)!==null&&s!==void 0?s:void 0,d=`${N2.of(e)},${a}${c?","+c:""}`;let u=this._data.get(d);return u||(this._isDev?u=new zLe(this._logService,t,e,this._overallAverage()|0||a*1.5,a,l):(this._logService.debug(`[DEBOUNCE: ${t}] is disabled in developed mode`),u=new HLe(a*1.5)),this._data.set(d,u)),u}_overallAverage(){const e=new dte;for(const t of this._data.values())e.update(t.default());return e.value}};$4=VLe([q$(0,zr),q$(1,t7)],$4);Ot(Ka,$4,1);class WC{static create(e,t){return new WC(e,new R2(t))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(e,t){this._startLineNumber=e,this._tokens=t,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(e){return this._startLineNumber<=e&&e<=this._endLineNumber?this._tokens.getLineTokens(e-this._startLineNumber):null}getRange(){const e=this._tokens.getRange();return e&&new D(this._startLineNumber+e.startLineNumber,e.startColumn,this._startLineNumber+e.endLineNumber,e.endColumn)}removeTokens(e){const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber,[o,r,s]=this._tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new WC(this._startLineNumber,o),new WC(this._startLineNumber+s,r)]}applyEdit(e,t){const[i,o,r]=lf(t);this.acceptEdit(e,i,o,r,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,o,r){this._acceptDeleteRange(e),this._acceptInsertText(new W(e.startLineNumber,e.startColumn),t,i,o,r),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;if(i<0){const r=i-t;this._startLineNumber-=r;return}const o=this._tokens.getMaxDeltaLine();if(!(t>=o+1)){if(t<0&&i>=o+1){this._startLineNumber=0,this._tokens.clear();return}if(t<0){const r=-t;this._startLineNumber-=r,this._tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)}else this._tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,o,r){if(t===0&&i===0)return;const s=e.lineNumber-this._startLineNumber;if(s<0){this._startLineNumber+=t;return}const a=this._tokens.getMaxDeltaLine();s>=a+1||this._tokens.acceptInsertText(s,e.column-1,t,i,o,r)}}class R2{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){const t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return e===0?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(e===0)return null;const t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),o=this._getEndCharacter(e-1);return new D(0,t+1,i,o+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){const o=t+Math.floor((i-t)/2),r=this._getDeltaLine(o);if(r<e)t=o+1;else if(r>e)i=o-1;else{let s=o;for(;s>t&&this._getDeltaLine(s-1)===e;)s--;let a=o;for(;a<i&&this._getDeltaLine(a+1)===e;)a++;return new G$(this._tokens.subarray(4*s,4*a+4))}}return this._getDeltaLine(t)===e?new G$(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,o){const r=this._tokens,s=this._tokenCount;let a=0,l=!1,c=0;for(let d=0;d<s;d++){const u=4*d,h=r[u],g=r[u+1],f=r[u+2],p=r[u+3];if((h>e||h===e&&f>=t)&&(h<i||h===i&&g<=o))l=!0;else{if(a===0&&(c=h),l){const b=4*a;r[b]=h-c,r[b+1]=g,r[b+2]=f,r[b+3]=p}a++}}return this._tokenCount=a,c}split(e,t,i,o){const r=this._tokens,s=this._tokenCount,a=[],l=[];let c=a,d=0,u=0;for(let h=0;h<s;h++){const g=4*h,f=r[g],p=r[g+1],b=r[g+2],v=r[g+3];if(f>e||f===e&&b>=t){if(f<i||f===i&&p<=o)continue;c!==l&&(c=l,d=0,u=f)}c[d++]=f-u,c[d++]=p,c[d++]=b,c[d++]=v}return[new R2(new Uint32Array(a)),new R2(new Uint32Array(l)),u]}acceptDeleteRange(e,t,i,o,r){const s=this._tokens,a=this._tokenCount,l=o-t;let c=0,d=!1;for(let u=0;u<a;u++){const h=4*u;let g=s[h],f=s[h+1],p=s[h+2];const b=s[h+3];if(g<t||g===t&&p<=i){c++;continue}else if(g===t&&f<i)g===o&&p>r?p-=r-i:p=i;else if(g===t&&f===i)if(g===o&&p>r)p-=r-i;else{d=!0;continue}else if(g<o||g===o&&f<r)if(g===o&&p>r)g=t,f=i,p=f+(p-r);else{d=!0;continue}else if(g>o){if(l===0&&!d){c=a;break}g-=l}else if(g===o&&f>=r)e&&g===0&&(f+=e,p+=e),g-=l,f-=r-i,p-=r-i;else throw new Error("Not possible!");const v=4*c;s[v]=g,s[v+1]=f,s[v+2]=p,s[v+3]=b,c++}this._tokenCount=c}acceptInsertText(e,t,i,o,r,s){const a=i===0&&o===1&&(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122),l=this._tokens,c=this._tokenCount;for(let d=0;d<c;d++){const u=4*d;let h=l[u],g=l[u+1],f=l[u+2];if(!(h<e||h===e&&f<t)){if(h===e&&f===t)if(a)f+=1;else continue;else if(h===e&&g<t&&t<f)i===0?f+=o:f=t;else{if(h===e&&g===t&&a)continue;if(h===e)if(h+=i,i===0)g+=o,f+=o;else{const p=f-g;g=r+(g-t),f=g+p}else h+=i}l[u]=h,l[u+1]=g,l[u+2]=f}}}}class G${constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}var ULe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},VM=function(n,e){return function(t,i){e(t,i,n)}};let j4=class{constructor(e,t,i,o){this._legend=e,this._themeService=t,this._languageService=i,this._logService=o,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new mu}getMetadata(e,t,i){const o=this._languageService.languageIdCodec.encodeLanguageId(i),r=this._hashTable.get(e,t,o);let s;if(r)s=r.metadata,this._logService.getLevel()===Fo.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${Bo.getForeground(s)}, fontStyle ${Bo.getFontStyle(s).toString(2)}`);else{let a=this._legend.tokenTypes[e];const l=[];if(a){let c=t;for(let u=0;c>0&&u<this._legend.tokenModifiers.length;u++)c&1&&l.push(this._legend.tokenModifiers[u]),c=c>>1;c>0&&this._logService.getLevel()===Fo.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),l.push("not-in-legend"));const d=this._themeService.getColorTheme().getTokenStyleMetadata(a,l,i);if(typeof d>"u")s=2147483647;else{if(s=0,typeof d.italic<"u"){const u=(d.italic?1:0)<<11;s|=u|1}if(typeof d.bold<"u"){const u=(d.bold?2:0)<<11;s|=u|2}if(typeof d.underline<"u"){const u=(d.underline?4:0)<<11;s|=u|4}if(typeof d.strikethrough<"u"){const u=(d.strikethrough?8:0)<<11;s|=u|8}if(d.foreground){const u=d.foreground<<15;s|=u|16}s===0&&(s=2147483647)}}else this._logService.getLevel()===Fo.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),s=2147483647,a="not-in-legend";this._hashTable.add(e,t,o,s),this._logService.getLevel()===Fo.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${a}) / ${t} (${l.join(" ")}): foreground ${Bo.getForeground(s)}, fontStyle ${Bo.getFontStyle(s).toString(2)}`)}return s}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}warnInvalidLengthSemanticTokens(e,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${e}, column ${t}`))}warnInvalidEditStart(e,t,i,o,r){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${e}, resultId: ${t}) at edit #${i}: The provided start offset ${o} is outside the previous data (length ${r}).`))}};j4=ULe([VM(1,ao),VM(2,Bi),VM(3,zr)],j4);function ute(n,e,t){const i=n.data,o=n.data.length/5|0,r=Math.max(Math.ceil(o/1024),400),s=[];let a=0,l=1,c=0;for(;a<o;){const d=a;let u=Math.min(d+r,o);if(u<o){let _=u;for(;_-1>d&&i[5*_]===0;)_--;if(_-1===d){let C=u;for(;C+1<o&&i[5*C]===0;)C++;u=C}else u=_}let h=new Uint32Array((u-d)*4),g=0,f=0,p=0,b=0;for(;a<u;){const _=5*a,C=i[_],y=i[_+1],w=l+C|0,S=C===0?c+y|0:y,x=i[_+2],L=S+x|0,E=i[_+3],O=i[_+4];if(L<=S)e.warnInvalidLengthSemanticTokens(w,S+1);else if(p===w&&b>S)e.warnOverlappingSemanticTokens(w,S+1);else{const P=e.getMetadata(E,O,t);P!==2147483647&&(f===0&&(f=w),h[g]=w-f,h[g+1]=S,h[g+2]=L,h[g+3]=P,g+=4,p=w,b=L)}l=w,c=S,a++}g!==h.length&&(h=h.subarray(0,g));const v=WC.create(f,h);s.push(v)}return s}class $Le{constructor(e,t,i,o){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=o,this.next=null}}class mu{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=mu._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<mu._SIZES.length?2/3*this._currentLength:0),this._elements=[],mu._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const o=this._hashFunc(e,t,i);let r=this._elements[o];for(;r;){if(r.tokenTypeIndex===e&&r.tokenModifierSet===t&&r.languageId===i)return r;r=r.next}return null}add(e,t,i,o){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const r=this._elements;this._currentLengthIndex++,this._currentLength=mu._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<mu._SIZES.length?2/3*this._currentLength:0),this._elements=[],mu._nullOutEntries(this._elements,this._currentLength);for(const s of r){let a=s;for(;a;){const l=a.next;a.next=null,this._add(a),a=l}}}this._add(new $Le(e,t,i,o))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}mu._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];const SI=Et("semanticTokensStylingService");var jLe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},HM=function(n,e){return function(t,i){e(t,i,n)}};let K4=class extends z{constructor(e,t,i){super(),this._themeService=e,this._logService=t,this._languageService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(e){return this._caches.has(e)||this._caches.set(e,new j4(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}};K4=jLe([HM(0,ao),HM(1,zr),HM(2,Bi)],K4);Ot(SI,K4,1);const ck="**",Z$="/",FL="[/\\\\]",BL="[^/\\\\]",KLe=/\//g;function Y$(n,e){switch(n){case 0:return"";case 1:return`${BL}*?`;default:return`(?:${FL}|${BL}+${FL}${e?`|${FL}${BL}+`:""})*?`}}function X$(n,e){if(!n)return[];const t=[];let i=!1,o=!1,r="";for(const s of n){switch(s){case e:if(!i&&!o){t.push(r),r="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":o=!0;break;case"]":o=!1;break}r+=s}return r&&t.push(r),t}function hte(n){if(!n)return"";let e="";const t=X$(n,Z$);if(t.every(i=>i===ck))e=".*";else{let i=!1;t.forEach((o,r)=>{if(o===ck){if(i)return;e+=Y$(2,r===t.length-1)}else{let s=!1,a="",l=!1,c="";for(const d of o){if(d!=="}"&&s){a+=d;continue}if(l&&(d!=="]"||!c)){let u;d==="-"?u=d:(d==="^"||d==="!")&&!c?u="^":d===Z$?u="":u=ra(d),c+=u;continue}switch(d){case"{":s=!0;continue;case"[":l=!0;continue;case"}":{const h=`(?:${X$(a,",").map(g=>hte(g)).join("|")})`;e+=h,s=!1,a="";break}case"]":{e+="["+c+"]",l=!1,c="";break}case"?":e+=BL;continue;case"*":e+=Y$(1);continue;default:e+=ra(d)}}r<t.length-1&&(t[r+1]!==ck||r+2<t.length)&&(e+=FL)}i=o===ck})}return e}const qLe=/^\*\*\/\*\.[\w\.-]+$/,GLe=/^\*\*\/([\w\.-]+)\/?$/,ZLe=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,YLe=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,XLe=/^\*\*((\/[\w\.-]+)+)\/?$/,QLe=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,Q$=new Af(1e4),J$=function(){return!1},Dd=function(){return null};function i7(n,e){if(!n)return Dd;let t;typeof n!="string"?t=n.pattern:t=n,t=t.trim();const i=`${t}_${!!e.trimForExclusions}`;let o=Q$.get(i);if(o)return ej(o,n);let r;return qLe.test(t)?o=JLe(t.substr(4),t):(r=GLe.exec(zM(t,e)))?o=eDe(r[1],t):(e.trimForExclusions?YLe:ZLe).test(t)?o=tDe(t,e):(r=XLe.exec(zM(t,e)))?o=tj(r[1].substr(1),t,!0):(r=QLe.exec(zM(t,e)))?o=tj(r[1],t,!1):o=iDe(t),Q$.set(i,o),ej(o,n)}function ej(n,e){if(typeof e=="string")return n;const t=function(i,o){return I4(i,e.base,!Br)?n(vS(i.substr(e.base.length),uc),o):null};return t.allBasenames=n.allBasenames,t.allPaths=n.allPaths,t.basenames=n.basenames,t.patterns=n.patterns,t}function zM(n,e){return e.trimForExclusions&&n.endsWith("/**")?n.substr(0,n.length-2):n}function JLe(n,e){return function(t,i){return typeof t=="string"&&t.endsWith(n)?e:null}}function eDe(n,e){const t=`/${n}`,i=`\\${n}`,o=function(s,a){return typeof s!="string"?null:a?a===n?e:null:s===n||s.endsWith(t)||s.endsWith(i)?e:null},r=[n];return o.basenames=r,o.patterns=[e],o.allBasenames=r,o}function tDe(n,e){const t=fte(n.slice(1,-1).split(",").map(a=>i7(a,e)).filter(a=>a!==Dd),n),i=t.length;if(!i)return Dd;if(i===1)return t[0];const o=function(a,l){for(let c=0,d=t.length;c<d;c++)if(t[c](a,l))return n;return null},r=t.find(a=>!!a.allBasenames);r&&(o.allBasenames=r.allBasenames);const s=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return s.length&&(o.allPaths=s),o}function tj(n,e,t){const i=uc===$n.sep,o=i?n:n.replace(KLe,uc),r=uc+o,s=$n.sep+n;let a;return t?a=function(l,c){return typeof l=="string"&&(l===o||l.endsWith(r)||!i&&(l===n||l.endsWith(s)))?e:null}:a=function(l,c){return typeof l=="string"&&(l===o||!i&&l===n)?e:null},a.allPaths=[(t?"*/":"./")+n],a}function iDe(n){try{const e=new RegExp(`^${hte(n)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?n:null}}catch{return Dd}}function nDe(n,e,t){return!n||typeof e!="string"?!1:gte(n)(e,void 0,t)}function gte(n,e={}){if(!n)return J$;if(typeof n=="string"||oDe(n)){const t=i7(n,e);if(t===Dd)return J$;const i=function(o,r){return!!t(o,r)};return t.allBasenames&&(i.allBasenames=t.allBasenames),t.allPaths&&(i.allPaths=t.allPaths),i}return rDe(n,e)}function oDe(n){const e=n;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}function rDe(n,e){const t=fte(Object.getOwnPropertyNames(n).map(a=>sDe(a,n[a],e)).filter(a=>a!==Dd)),i=t.length;if(!i)return Dd;if(!t.some(a=>!!a.requiresSiblings)){if(i===1)return t[0];const a=function(d,u){let h;for(let g=0,f=t.length;g<f;g++){const p=t[g](d,u);if(typeof p=="string")return p;z5(p)&&(h||(h=[]),h.push(p))}return h?(async()=>{for(const g of h){const f=await g;if(typeof f=="string")return f}return null})():null},l=t.find(d=>!!d.allBasenames);l&&(a.allBasenames=l.allBasenames);const c=t.reduce((d,u)=>u.allPaths?d.concat(u.allPaths):d,[]);return c.length&&(a.allPaths=c),a}const o=function(a,l,c){let d,u;for(let h=0,g=t.length;h<g;h++){const f=t[h];f.requiresSiblings&&c&&(l||(l=Mg(a)),d||(d=l.substr(0,l.length-Dme(a).length)));const p=f(a,l,d,c);if(typeof p=="string")return p;z5(p)&&(u||(u=[]),u.push(p))}return u?(async()=>{for(const h of u){const g=await h;if(typeof g=="string")return g}return null})():null},r=t.find(a=>!!a.allBasenames);r&&(o.allBasenames=r.allBasenames);const s=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return s.length&&(o.allPaths=s),o}function sDe(n,e,t){if(e===!1)return Dd;const i=i7(n,t);if(i===Dd)return Dd;if(typeof e=="boolean")return i;if(e){const o=e.when;if(typeof o=="string"){const r=(s,a,l,c)=>{if(!c||!i(s,a))return null;const d=o.replace("$(basename)",()=>l),u=c(d);return z5(u)?u.then(h=>h?n:null):u?n:null};return r.requiresSiblings=!0,r}}return i}function fte(n,e){const t=n.filter(a=>!!a.basenames);if(t.length<2)return n;const i=t.reduce((a,l)=>{const c=l.basenames;return c?a.concat(c):a},[]);let o;if(e){o=[];for(let a=0,l=i.length;a<l;a++)o.push(e)}else o=t.reduce((a,l)=>{const c=l.patterns;return c?a.concat(c):a},[]);const r=function(a,l){if(typeof a!="string")return null;if(!l){let d;for(d=a.length;d>0;d--){const u=a.charCodeAt(d-1);if(u===47||u===92)break}l=a.substr(d)}const c=i.indexOf(l);return c!==-1?o[c]:null};r.basenames=i,r.patterns=o,r.allBasenames=i;const s=n.filter(a=>!a.basenames);return s.push(r),s}function n7(n,e,t,i,o,r){if(Array.isArray(n)){let s=0;for(const a of n){const l=n7(a,e,t,i,o,r);if(l===10)return l;l>s&&(s=l)}return s}else{if(typeof n=="string")return i?n==="*"?5:n===t?10:0:0;if(n){const{language:s,pattern:a,scheme:l,hasAccessToAllModels:c,notebookType:d}=n;if(!i&&!c)return 0;d&&o&&(e=o);let u=0;if(l)if(l===e.scheme)u=10;else if(l==="*")u=5;else return 0;if(s)if(s===t)u=10;else if(s==="*")u=Math.max(u,5);else return 0;if(d)if(d===r)u=10;else if(d==="*"&&r!==void 0)u=Math.max(u,5);else return 0;if(a){let h;if(typeof a=="string"?h=a:h={...a,base:_Q(a.base)},h===e.fsPath||nDe(h,e.fsPath))u=10;else return 0}return u}else return 0}}function pte(n){return typeof n=="string"?!1:Array.isArray(n)?n.every(pte):!!n.exclusive}class ij{constructor(e,t,i,o){this.uri=e,this.languageId=t,this.notebookUri=i,this.notebookType=o}equals(e){var t,i;return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&((t=this.notebookUri)===null||t===void 0?void 0:t.toString())===((i=e.notebookUri)===null||i===void 0?void 0:i.toString())}}class Ki{constructor(e){this._notebookInfoResolver=e,this._clock=0,this._entries=[],this._onDidChange=new B,this.onDidChange=this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),je(()=>{if(i){const o=this._entries.indexOf(i);o>=0&&(this._entries.splice(o,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(const i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,i=>t.push(i.provider)),t}orderedGroups(e){const t=[];let i,o;return this._orderedForEach(e,r=>{i&&o===r._score?i.push(r.provider):(o=r._score,i=[r.provider],t.push(i))}),t}_orderedForEach(e,t){this._updateScores(e);for(const i of this._entries)i._score>0&&t(i)}_updateScores(e){var t,i;const o=(t=this._notebookInfoResolver)===null||t===void 0?void 0:t.call(this,e.uri),r=o?new ij(e.uri,e.getLanguageId(),o.uri,o.type):new ij(e.uri,e.getLanguageId(),void 0,void 0);if(!(!((i=this._lastCandidate)===null||i===void 0)&&i.equals(r))){this._lastCandidate=r;for(const s of this._entries)if(s._score=n7(s.selector,r.uri,r.languageId,RJ(e),r.notebookUri,r.notebookType),pte(s.selector)&&s._score>0){for(const a of this._entries)a._score=0;s._score=1e3;break}this._entries.sort(Ki._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:X1(e.selector)&&!X1(t.selector)?1:!X1(e.selector)&&X1(t.selector)?-1:e._time<t._time?1:e._time>t._time?-1:0}}function X1(n){return typeof n=="string"?!1:Array.isArray(n)?n.some(X1):!!n.isBuiltin}class aDe{constructor(){this.referenceProvider=new Ki(this._score.bind(this)),this.renameProvider=new Ki(this._score.bind(this)),this.newSymbolNamesProvider=new Ki(this._score.bind(this)),this.codeActionProvider=new Ki(this._score.bind(this)),this.definitionProvider=new Ki(this._score.bind(this)),this.typeDefinitionProvider=new Ki(this._score.bind(this)),this.declarationProvider=new Ki(this._score.bind(this)),this.implementationProvider=new Ki(this._score.bind(this)),this.documentSymbolProvider=new Ki(this._score.bind(this)),this.inlayHintsProvider=new Ki(this._score.bind(this)),this.colorProvider=new Ki(this._score.bind(this)),this.codeLensProvider=new Ki(this._score.bind(this)),this.documentFormattingEditProvider=new Ki(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Ki(this._score.bind(this)),this.onTypeFormattingEditProvider=new Ki(this._score.bind(this)),this.signatureHelpProvider=new Ki(this._score.bind(this)),this.hoverProvider=new Ki(this._score.bind(this)),this.documentHighlightProvider=new Ki(this._score.bind(this)),this.multiDocumentHighlightProvider=new Ki(this._score.bind(this)),this.selectionRangeProvider=new Ki(this._score.bind(this)),this.foldingRangeProvider=new Ki(this._score.bind(this)),this.linkProvider=new Ki(this._score.bind(this)),this.inlineCompletionsProvider=new Ki(this._score.bind(this)),this.inlineEditProvider=new Ki(this._score.bind(this)),this.completionProvider=new Ki(this._score.bind(this)),this.linkedEditingRangeProvider=new Ki(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Ki(this._score.bind(this)),this.documentSemanticTokensProvider=new Ki(this._score.bind(this)),this.documentOnDropEditProvider=new Ki(this._score.bind(this)),this.documentPasteEditProvider=new Ki(this._score.bind(this))}_score(e){var t;return(t=this._notebookTypeResolver)===null||t===void 0?void 0:t.call(this,e)}}Ot(Re,aDe,1);var lDe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},nj=function(n,e){return function(t,i){e(t,i,n)}};const o7=Et("hoverService");let M2=class extends z{get delay(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit?0:this._delay}constructor(e,t,i={},o,r){super(),this.placement=e,this.instantHover=t,this.overrideOptions=i,this.configurationService=o,this.hoverService=r,this.lastHoverHideTime=Number.MAX_VALUE,this.timeLimit=200,this.hoverDisposables=this._register(new oe),this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(s=>{s.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}showHover(e,t){const i=typeof this.overrideOptions=="function"?this.overrideOptions(e,t):this.overrideOptions;this.hoverDisposables.clear();const o=e.target instanceof HTMLElement?[e.target]:e.target.targetElements;for(const r of o)this.hoverDisposables.add(fn(r,"keydown",s=>{s.equals(9)&&this.hoverService.hideHover()}));return this.hoverService.showHover({...e,persistence:{hideOnHover:!0},...i},t)}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};M2=lDe([nj(3,yt),nj(4,o7)],M2);const Yd=Et("contextViewService"),Ps=Et("contextMenuService"),dk=ue;let r7=class extends z{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new IS(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}};class xI extends z{static render(e,t,i){return new xI(e,t,i)}constructor(e,t,i){super(),this.actionContainer=ie(e,dk("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=ie(this.actionContainer,dk("a.action")),this.action.setAttribute("role","button"),t.iconClass&&ie(this.action,dk(`span.icon.${t.iconClass}`));const o=ie(this.action,dk("span"));o.textContent=i?`${t.label} (${i})`:t.label,this._register(j(this.actionContainer,ge.CLICK,r=>{r.stopPropagation(),r.preventDefault(),t.run(this.actionContainer)})),this._register(j(this.actionContainer,ge.KEY_DOWN,r=>{const s=new Ni(r);(s.equals(3)||s.equals(10))&&(r.stopPropagation(),r.preventDefault(),t.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}function mte(n,e){return n&&e?m("acessibleViewHint","Inspect this in the accessible view with {0}.",e):n?m("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}const gs=Et("openerService");function cDe(n){let e;const t=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(n.fragment);return t&&(e={startLineNumber:parseInt(t[1]),startColumn:t[2]?parseInt(t[2]):1,endLineNumber:t[4]?parseInt(t[4]):void 0,endColumn:t[4]?t[5]?parseInt(t[5]):1:void 0},n=n.with({fragment:""})),{selection:e,uri:n}}function dDe(n,e={}){const t=s7(e);return t.textContent=n,t}function uDe(n,e={}){const t=s7(e);return vte(t,gDe(n,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function s7(n){const e=n.inline?"span":"div",t=document.createElement(e);return n.className&&(t.className=n.className),t}class hDe{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function vte(n,e,t,i){let o;if(e.type===2)o=document.createTextNode(e.content||"");else if(e.type===3)o=document.createElement("b");else if(e.type===4)o=document.createElement("i");else if(e.type===7&&i)o=document.createElement("code");else if(e.type===5&&t){const r=document.createElement("a");t.disposables.add(fn(r,"click",s=>{t.callback(String(e.index),s)})),o=r}else e.type===8?o=document.createElement("br"):e.type===1&&(o=n);o&&n!==o&&n.appendChild(o),o&&Array.isArray(e.children)&&e.children.forEach(r=>{vte(o,r,t,i)})}function gDe(n,e){const t={type:1,children:[]};let i=0,o=t;const r=[],s=new hDe(n);for(;!s.eos();){let a=s.next();const l=a==="\\"&&q4(s.peek(),e)!==0;if(l&&(a=s.next()),!l&&fDe(a,e)&&a===s.peek()){s.advance(),o.type===2&&(o=r.pop());const c=q4(a,e);if(o.type===c||o.type===5&&c===6)o=r.pop();else{const d={type:c,children:[]};c===5&&(d.index=i,i++),o.children.push(d),r.push(o),o=d}}else if(a===`
`)o.type===2&&(o=r.pop()),o.children.push({type:8});else if(o.type!==2){const c={type:2,content:a};o.children.push(c),r.push(o),o=c}else o.content+=a}return o.type===2&&(o=r.pop()),t}function fDe(n,e){return q4(n,e)!==0}function q4(n,e){switch(n){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}const pDe=new RegExp(`(\\\\)?\\$\\((${Ze.iconNameExpression}(?:${Ze.iconModifierExpression})?)\\)`,"g");function Bg(n){const e=new Array;let t,i=0,o=0;for(;(t=pDe.exec(n))!==null;){o=t.index||0,i<o&&e.push(n.substring(i,o)),i=(t.index||0)+t[0].length;const[,r,s]=t;e.push(r?`$(${s})`:aw({id:s}))}return i<n.length&&e.push(n.substring(i)),e}function aw(n){const e=ue("span");return e.classList.add(...Ze.asClassNameArray(n)),e}function mDe(n){const e=vDe(n);if(e&&e.length>0)return new Uint32Array(e)}let Hs=0;const ng=new Uint32Array(10);function vDe(n){if(Hs=0,Vc(n,UM,4352),Hs>0||(Vc(n,$M,4449),Hs>0)||(Vc(n,jM,4520),Hs>0)||(Vc(n,Qf,12593),Hs))return ng.subarray(0,Hs);if(n>=44032&&n<=55203){const e=n-44032,t=e%588,i=Math.floor(e/588),o=Math.floor(t/28),r=t%28-1;if(i<UM.length?Vc(i,UM,0):4352+i-12593<Qf.length&&Vc(4352+i,Qf,12593),o<$M.length?Vc(o,$M,0):4449+o-12593<Qf.length&&Vc(4449+o-12593,Qf,12593),r>=0&&(r<jM.length?Vc(r,jM,0):4520+r-12593<Qf.length&&Vc(4520+r-12593,Qf,12593)),Hs>0)return ng.subarray(0,Hs)}}function Vc(n,e,t){n>=t&&n<t+e.length&&bDe(e[n-t])}function bDe(n){n!==0&&(ng[Hs++]=n&255,n>>8&&(ng[Hs++]=n>>8&255),n>>16&&(ng[Hs++]=n>>16&255))}const UM=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),$M=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),jM=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),Qf=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);function a7(...n){return function(e,t){for(let i=0,o=n.length;i<o;i++){const r=n[i](e,t);if(r)return r}return null}}bte.bind(void 0,!1);const lw=bte.bind(void 0,!0);function bte(n,e,t){if(!t||t.length<e.length)return null;let i;return n?i=$8(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function _te(n,e){const t=e.toLowerCase().indexOf(n.toLowerCase());return t===-1?null:[{start:t,end:t+n.length}]}function Cte(n,e){return G4(n.toLowerCase(),e.toLowerCase(),0,0)}function G4(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]===e[i]){let o=null;return(o=G4(n,e,t+1,i+1))?d7({start:i,end:i+1},o):null}return G4(n,e,t,i+1)}function l7(n){return 97<=n&&n<=122}function kI(n){return 65<=n&&n<=90}function c7(n){return 48<=n&&n<=57}function yte(n){return n===32||n===9||n===10||n===13}const wte=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(n=>wte.add(n.charCodeAt(0)));function A2(n){return yte(n)||wte.has(n)}function oj(n,e){return n===e||A2(n)&&A2(e)}const KM=new Map;function rj(n){if(KM.has(n))return KM.get(n);let e;const t=mDe(n);return t&&(e=t),KM.set(n,e),e}function Ste(n){return l7(n)||kI(n)||c7(n)}function d7(n,e){return e.length===0?e=[n]:n.end===e[0].start?e[0].start=n.start:e.unshift(n),e}function xte(n,e){for(let t=e;t<n.length;t++){const i=n.charCodeAt(t);if(kI(i)||c7(i)||t>0&&!Ste(n.charCodeAt(t-1)))return t}return n.length}function Z4(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]!==e[i].toLowerCase())return null;{let o=null,r=i+1;for(o=Z4(n,e,t+1,i+1);!o&&(r=xte(e,r))<e.length;)o=Z4(n,e,t+1,r),r++;return o===null?null:d7({start:i,end:i+1},o)}}function _De(n){let e=0,t=0,i=0,o=0,r=0;for(let d=0;d<n.length;d++)r=n.charCodeAt(d),kI(r)&&e++,l7(r)&&t++,Ste(r)&&i++,c7(r)&&o++;const s=e/n.length,a=t/n.length,l=i/n.length,c=o/n.length;return{upperPercent:s,lowerPercent:a,alphaPercent:l,numericPercent:c}}function CDe(n){const{upperPercent:e,lowerPercent:t}=n;return t===0&&e>.6}function yDe(n){const{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:o}=n;return t>.2&&e<.8&&i>.6&&o<.2}function wDe(n){let e=0,t=0,i=0,o=0;for(let r=0;r<n.length;r++)i=n.charCodeAt(r),kI(i)&&e++,l7(i)&&t++,yte(i)&&o++;return(e===0||t===0)&&o===0?n.length<=30:e<=5}function kte(n,e){if(!e||(e=e.trim(),e.length===0)||!wDe(n))return null;e.length>60&&(e=e.substring(0,60));const t=_De(e);if(!yDe(t)){if(!CDe(t))return null;e=e.toLowerCase()}let i=null,o=0;for(n=n.toLowerCase();o<e.length&&(i=Z4(n,e,0,o))===null;)o=xte(e,o+1);return i}function SDe(n,e,t=!1){if(!e||e.length===0)return null;let i=null,o=0;for(n=n.toLowerCase(),e=e.toLowerCase();o<e.length&&(i=Y4(n,e,0,o,t),i===null);)o=Lte(e,o+1);return i}function Y4(n,e,t,i,o){let r=0;if(t===n.length)return[];if(i===e.length)return null;if(!oj(n.charCodeAt(t),e.charCodeAt(i))){const l=rj(n.charCodeAt(t));if(!l)return null;for(let c=0;c<l.length;c++)if(!oj(l[c],e.charCodeAt(i+c)))return null;r+=l.length-1}let s=null,a=i+r+1;if(s=Y4(n,e,t+1,a,o),!o)for(;!s&&(a=Lte(e,a))<e.length;)s=Y4(n,e,t+1,a,o),a++;if(!s)return null;if(n.charCodeAt(t)!==e.charCodeAt(i)){const l=rj(n.charCodeAt(t));if(!l)return s;for(let c=0;c<l.length;c++)if(l[c]!==e.charCodeAt(i+c))return s}return d7({start:i,end:i+r+1},s)}function Lte(n,e){for(let t=e;t<n.length;t++)if(A2(n.charCodeAt(t))||t>0&&A2(n.charCodeAt(t-1)))return t;return n.length}const xDe=a7(lw,kte,_te),kDe=a7(lw,kte,Cte),sj=new Af(1e4);function aj(n,e,t=!1){if(typeof n!="string"||typeof e!="string")return null;let i=sj.get(n);i||(i=new RegExp(Gme(n),"i"),sj.set(n,i));const o=i.exec(e);return o?[{start:o.index,end:o.index+o[0].length}]:t?kDe(n,e):xDe(n,e)}function LDe(n,e){const t=_m(n,n.toLowerCase(),0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return t?FS(t):null}function DDe(n,e,t,i,o,r){const s=Math.min(13,n.length);for(;t<s;t++){const a=_m(n,e,t,i,o,r,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(a)return a}return[0,r]}function FS(n){if(typeof n>"u")return[];const e=[],t=n[1];for(let i=n.length-1;i>1;i--){const o=n[i]+t,r=e[e.length-1];r&&r.end===o?r.end=o+1:e.push({start:o,end:o+1})}return e}const pg=128;function u7(){const n=[],e=[];for(let t=0;t<=pg;t++)e[t]=0;for(let t=0;t<=pg;t++)n.push(e.slice(0));return n}function Dte(n){const e=[];for(let t=0;t<=n;t++)e[t]=0;return e}const Ete=Dte(2*pg),X4=Dte(2*pg),iu=u7(),Jf=u7(),uk=u7();function hk(n,e){if(e<0||e>=n.length)return!1;const t=n.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!G8(t)}}function lj(n,e){if(e<0||e>=n.length)return!1;switch(n.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function WL(n,e,t){return e[n]!==t[n]}function EDe(n,e,t,i,o,r,s=!1){for(;e<t&&o<r;)n[e]===i[o]&&(s&&(Ete[e]=o),e+=1),o+=1;return e===t}var pc;(function(n){n.Default=[-100,0];function e(t){return!t||t.length===2&&t[0]===-100&&t[1]===0}n.isDefault=e})(pc||(pc={}));class LI{constructor(e,t){this.firstMatchCanBeWeak=e,this.boostFullMatch=t}}LI.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function _m(n,e,t,i,o,r,s=LI.default){const a=n.length>pg?pg:n.length,l=i.length>pg?pg:i.length;if(t>=a||r>=l||a-t>l-r||!EDe(e,t,a,o,r,l,!0))return;TDe(a,l,t,r,e,o);let c=1,d=1,u=t,h=r;const g=[!1];for(c=1,u=t;u<a;c++,u++){const _=Ete[u],C=X4[u],y=u+1<a?X4[u+1]:l;for(d=_-r+1,h=_;h<y;d++,h++){let w=Number.MIN_SAFE_INTEGER,S=!1;h<=C&&(w=IDe(n,e,u,t,i,o,h,l,r,iu[c-1][d-1]===0,g));let x=0;w!==Number.MAX_SAFE_INTEGER&&(S=!0,x=w+Jf[c-1][d-1]);const L=h>_,E=L?Jf[c][d-1]+(iu[c][d-1]>0?-5:0):0,O=h>_+1&&iu[c][d-1]>0,P=O?Jf[c][d-2]+(iu[c][d-2]>0?-5:0):0;if(O&&(!L||P>=E)&&(!S||P>=x))Jf[c][d]=P,uk[c][d]=3,iu[c][d]=0;else if(L&&(!S||E>=x))Jf[c][d]=E,uk[c][d]=2,iu[c][d]=0;else if(S)Jf[c][d]=x,uk[c][d]=1,iu[c][d]=iu[c-1][d-1]+1;else throw new Error("not possible")}}if(!g[0]&&!s.firstMatchCanBeWeak)return;c--,d--;const f=[Jf[c][d],r];let p=0,b=0;for(;c>=1;){let _=d;do{const C=uk[c][_];if(C===3)_=_-2;else if(C===2)_=_-1;else break}while(_>=1);p>1&&e[t+c-1]===o[r+d-1]&&!WL(_+r-1,i,o)&&p+1>iu[c][_]&&(_=d),_===d?p++:p=1,b||(b=_),c--,d=_-1,f.push(d)}l===a&&s.boostFullMatch&&(f[0]+=2);const v=b-a;return f[0]-=v,f}function TDe(n,e,t,i,o,r){let s=n-1,a=e-1;for(;s>=t&&a>=i;)o[s]===r[a]&&(X4[s]=a,s--),a--}function IDe(n,e,t,i,o,r,s,a,l,c,d){if(e[t]!==r[s])return Number.MIN_SAFE_INTEGER;let u=1,h=!1;return s===t-i?u=n[t]===o[s]?7:5:WL(s,o,r)&&(s===0||!WL(s-1,o,r))?(u=n[t]===o[s]?7:5,h=!0):hk(r,s)&&(s===0||!hk(r,s-1))?u=5:(hk(r,s-1)||lj(r,s-1))&&(u=5,h=!0),u>1&&t===i&&(d[0]=!0),h||(h=WL(s,o,r)||hk(r,s-1)||lj(r,s-1)),t===i?s>l&&(u-=h?3:5):c?u+=h?2:0:u+=h?0:1,s+1===a&&(u-=h?3:5),u}function NDe(n,e,t,i,o,r,s){return RDe(n,e,t,i,o,r,!0,s)}function RDe(n,e,t,i,o,r,s,a){let l=_m(n,e,t,i,o,r,a);if(l&&!s)return l;if(n.length>=3){const c=Math.min(7,n.length-1);for(let d=t+1;d<c;d++){const u=MDe(n,d);if(u){const h=_m(u,u.toLowerCase(),t,i,o,r,a);h&&(h[0]-=3,(!l||h[0]>l[0])&&(l=h))}}}return l}function MDe(n,e){if(e+1>=n.length)return;const t=n[e],i=n[e+1];if(t!==i)return n.slice(0,e)+i+t+n.slice(e+2)}const ADe="$(",h7=new RegExp(`\\$\\(${Ze.iconNameExpression}(?:${Ze.iconModifierExpression})?\\)`,"g"),PDe=new RegExp(`(\\\\)?${h7.source}`,"g");function ODe(n){return n.replace(PDe,(e,t)=>t?e:`\\${e}`)}const FDe=new RegExp(`\\\\${h7.source}`,"g");function BDe(n){return n.replace(FDe,e=>`\\${e}`)}const WDe=new RegExp(`(\\s)?(\\\\)?${h7.source}(\\s)?`,"g");function g7(n){return n.indexOf(ADe)===-1?n:n.replace(WDe,(e,t,i,o)=>i?e:t||o||"")}function VDe(n){return n?n.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}const qM=new RegExp(`\\$\\(${Ze.iconNameCharacter}+\\)`,"g");function Q1(n){qM.lastIndex=0;let e="";const t=[];let i=0;for(;;){const o=qM.lastIndex,r=qM.exec(n),s=n.substring(o,r==null?void 0:r.index);if(s.length>0){e+=s;for(let a=0;a<s.length;a++)t.push(i)}if(!r)break;i+=r[0].length}return{text:e,iconOffsets:t}}function GM(n,e,t=!1){const{text:i,iconOffsets:o}=e;if(!o||o.length===0)return aj(n,i,t);const r=vS(i," "),s=i.length-r.length,a=aj(n,r,t);if(a)for(const l of a){const c=o[l.start+s]+s;l.start+=c,l.end+=c}return a}class Go{constructor(e="",t=!1){var i,o,r;if(this.value=e,typeof this.value!="string")throw Ra("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(i=t.isTrusted)!==null&&i!==void 0?i:void 0,this.supportThemeIcons=(o=t.supportThemeIcons)!==null&&o!==void 0?o:!1,this.supportHtml=(r=t.supportHtml)!==null&&r!==void 0?r:!1)}appendText(e,t=0){return this.value+=zDe(this.supportThemeIcons?ODe(e):e).replace(/([ \t]+)/g,(i,o)=>"&nbsp;".repeat(o.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+=`
${UDe(t,e)}
`,this}appendLink(e,t,i){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(e),")"),i&&(this.value+=` "${this._escape(this._escape(i,'"'),")")}"`),this.value+=")",this}_escape(e,t){const i=new RegExp(ra(t),"g");return e.replace(i,(o,r)=>e.charAt(r-1)!=="\\"?`\\${o}`:o)}}function H_(n){return Ed(n)?!n.value:Array.isArray(n)?n.every(H_):!0}function Ed(n){return n instanceof Go?!0:n&&typeof n=="object"?typeof n.value=="string"&&(typeof n.isTrusted=="boolean"||typeof n.isTrusted=="object"||n.isTrusted===void 0)&&(typeof n.supportThemeIcons=="boolean"||n.supportThemeIcons===void 0):!1}function HDe(n,e){return n===e?!0:!n||!e?!1:n.value===e.value&&n.isTrusted===e.isTrusted&&n.supportThemeIcons===e.supportThemeIcons&&n.supportHtml===e.supportHtml&&(n.baseUri===e.baseUri||!!n.baseUri&&!!e.baseUri&&H6(Ke.from(n.baseUri),Ke.from(e.baseUri)))}function zDe(n){return n.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function UDe(n,e){var t,i;const o=(i=(t=n.match(/^`+/gm))===null||t===void 0?void 0:t.reduce((s,a)=>s.length>a.length?s:a).length)!==null&&i!==void 0?i:0,r=o>=3?o+1:3;return[`${"`".repeat(r)}${e}`,n,`${"`".repeat(r)}`].join(`
`)}function gk(n){return n.replace(/"/g,"&quot;")}function ZM(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function $De(n){const e=[],t=n.split("|").map(o=>o.trim());n=t[0];const i=t[1];if(i){const o=/height=(\d+)/.exec(i),r=/width=(\d+)/.exec(i),s=o?o[1]:"",a=r?r[1]:"",l=isFinite(parseInt(a)),c=isFinite(parseInt(s));l&&e.push(`width="${a}"`),c&&e.push(`height="${s}"`)}return{href:n,dimensions:e}}class f7{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const Q4=new f7("id#");let Ur={};(function(){function n(e,t){t(Ur)}n.amd=!0,function(e,t){typeof n=="function"&&n.amd?n(["exports"],t):typeof exports=="object"&&typeof module<"u"?t(exports):(e=typeof globalThis<"u"?globalThis:e||self,t(e.marked={}))}(this,function(e){function t(re,G){for(var Z=0;Z<G.length;Z++){var M=G[Z];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(re,M.key,M)}}function i(re,G,Z){return G&&t(re.prototype,G),Z&&t(re,Z),Object.defineProperty(re,"prototype",{writable:!1}),re}function o(re,G){if(re){if(typeof re=="string")return r(re,G);var Z=Object.prototype.toString.call(re).slice(8,-1);if(Z==="Object"&&re.constructor&&(Z=re.constructor.name),Z==="Map"||Z==="Set")return Array.from(re);if(Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return r(re,G)}}function r(re,G){(G==null||G>re.length)&&(G=re.length);for(var Z=0,M=new Array(G);Z<G;Z++)M[Z]=re[Z];return M}function s(re,G){var Z=typeof Symbol<"u"&&re[Symbol.iterator]||re["@@iterator"];if(Z)return(Z=Z.call(re)).next.bind(Z);if(Array.isArray(re)||(Z=o(re))||G&&re&&typeof re.length=="number"){Z&&(re=Z);var M=0;return function(){return M>=re.length?{done:!0}:{done:!1,value:re[M++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults=a();function l(re){e.defaults=re}var c=/[&<>"']/,d=/[&<>"']/g,u=/[<>"']|&(?!#?\w+;)/,h=/[<>"']|&(?!#?\w+;)/g,g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},f=function(G){return g[G]};function p(re,G){if(G){if(c.test(re))return re.replace(d,f)}else if(u.test(re))return re.replace(h,f);return re}var b=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function v(re){return re.replace(b,function(G,Z){return Z=Z.toLowerCase(),Z==="colon"?":":Z.charAt(0)==="#"?Z.charAt(1)==="x"?String.fromCharCode(parseInt(Z.substring(2),16)):String.fromCharCode(+Z.substring(1)):""})}var _=/(^|[^\[])\^/g;function C(re,G){re=typeof re=="string"?re:re.source,G=G||"";var Z={replace:function(R,H){return H=H.source||H,H=H.replace(_,"$1"),re=re.replace(R,H),Z},getRegex:function(){return new RegExp(re,G)}};return Z}var y=/[^\w:]/g,w=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function S(re,G,Z){if(re){var M;try{M=decodeURIComponent(v(Z)).replace(y,"").toLowerCase()}catch{return null}if(M.indexOf("javascript:")===0||M.indexOf("vbscript:")===0||M.indexOf("data:")===0)return null}G&&!w.test(Z)&&(Z=P(G,Z));try{Z=encodeURI(Z).replace(/%25/g,"%")}catch{return null}return Z}var x={},L=/^[^:]+:\/*[^/]*$/,E=/^([^:]+:)[\s\S]*$/,O=/^([^:]+:\/*[^/]*)[\s\S]*$/;function P(re,G){x[" "+re]||(L.test(re)?x[" "+re]=re+"/":x[" "+re]=te(re,"/",!0)),re=x[" "+re];var Z=re.indexOf(":")===-1;return G.substring(0,2)==="//"?Z?G:re.replace(E,"$1")+G:G.charAt(0)==="/"?Z?G:re.replace(O,"$1")+G:re+G}var A={exec:function(){}};function F(re){for(var G=1,Z,M;G<arguments.length;G++){Z=arguments[G];for(M in Z)Object.prototype.hasOwnProperty.call(Z,M)&&(re[M]=Z[M])}return re}function K(re,G){var Z=re.replace(/\|/g,function(H,V,le){for(var q=!1,xe=V;--xe>=0&&le[xe]==="\\";)q=!q;return q?"|":" |"}),M=Z.split(/ \|/),R=0;if(M[0].trim()||M.shift(),M.length>0&&!M[M.length-1].trim()&&M.pop(),M.length>G)M.splice(G);else for(;M.length<G;)M.push("");for(;R<M.length;R++)M[R]=M[R].trim().replace(/\\\|/g,"|");return M}function te(re,G,Z){var M=re.length;if(M===0)return"";for(var R=0;R<M;){var H=re.charAt(M-R-1);if(H===G&&!Z)R++;else if(H!==G&&Z)R++;else break}return re.slice(0,M-R)}function ye(re,G){if(re.indexOf(G[1])===-1)return-1;for(var Z=re.length,M=0,R=0;R<Z;R++)if(re[R]==="\\")R++;else if(re[R]===G[0])M++;else if(re[R]===G[1]&&(M--,M<0))return R;return-1}function be(re){re&&re.sanitize&&!re.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function ae(re,G){if(G<1)return"";for(var Z="";G>1;)G&1&&(Z+=re),G>>=1,re+=re;return Z+re}function Q(re,G,Z,M){var R=G.href,H=G.title?p(G.title):null,V=re[1].replace(/\\([\[\]])/g,"$1");if(re[0].charAt(0)!=="!"){M.state.inLink=!0;var le={type:"link",raw:Z,href:R,title:H,text:V,tokens:M.inlineTokens(V)};return M.state.inLink=!1,le}return{type:"image",raw:Z,href:R,title:H,text:p(V)}}function _e(re,G){var Z=re.match(/^(\s+)(?:```)/);if(Z===null)return G;var M=Z[1];return G.split(`
`).map(function(R){var H=R.match(/^\s+/);if(H===null)return R;var V=H[0];return V.length>=M.length?R.slice(M.length):R}).join(`
`)}var Ie=function(){function re(Z){this.options=Z||e.defaults}var G=re.prototype;return G.space=function(M){var R=this.rules.block.newline.exec(M);if(R&&R[0].length>0)return{type:"space",raw:R[0]}},G.code=function(M){var R=this.rules.block.code.exec(M);if(R){var H=R[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:R[0],codeBlockStyle:"indented",text:this.options.pedantic?H:te(H,`
`)}}},G.fences=function(M){var R=this.rules.block.fences.exec(M);if(R){var H=R[0],V=_e(H,R[3]||"");return{type:"code",raw:H,lang:R[2]?R[2].trim():R[2],text:V}}},G.heading=function(M){var R=this.rules.block.heading.exec(M);if(R){var H=R[2].trim();if(/#$/.test(H)){var V=te(H,"#");(this.options.pedantic||!V||/ $/.test(V))&&(H=V.trim())}return{type:"heading",raw:R[0],depth:R[1].length,text:H,tokens:this.lexer.inline(H)}}},G.hr=function(M){var R=this.rules.block.hr.exec(M);if(R)return{type:"hr",raw:R[0]}},G.blockquote=function(M){var R=this.rules.block.blockquote.exec(M);if(R){var H=R[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:R[0],tokens:this.lexer.blockTokens(H,[]),text:H}}},G.list=function(M){var R=this.rules.block.list.exec(M);if(R){var H,V,le,q,xe,Fe,ut,ht,_i,ui,it,Xi,$i=R[1].trim(),Fs=$i.length>1,ei={type:"list",raw:"",ordered:Fs,start:Fs?+$i.slice(0,-1):"",loose:!1,items:[]};$i=Fs?"\\d{1,9}\\"+$i.slice(-1):"\\"+$i,this.options.pedantic&&($i=Fs?$i:"[*+-]");for(var Mn=new RegExp("^( {0,3}"+$i+")((?:[	 ][^\\n]*)?(?:\\n|$))");M&&(Xi=!1,!(!(R=Mn.exec(M))||this.rules.block.hr.test(M)));){if(H=R[0],M=M.substring(H.length),ht=R[2].split(`
`,1)[0],_i=M.split(`
`,1)[0],this.options.pedantic?(q=2,it=ht.trimLeft()):(q=R[2].search(/[^ ]/),q=q>4?1:q,it=ht.slice(q),q+=R[1].length),Fe=!1,!ht&&/^ *$/.test(_i)&&(H+=_i+`
`,M=M.substring(_i.length+1),Xi=!0),!Xi)for(var Fc=new RegExp("^ {0,"+Math.min(3,q-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Qd=new RegExp("^ {0,"+Math.min(3,q-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),J=new RegExp("^ {0,"+Math.min(3,q-1)+"}(?:```|~~~)"),ce=new RegExp("^ {0,"+Math.min(3,q-1)+"}#");M&&(ui=M.split(`
`,1)[0],ht=ui,this.options.pedantic&&(ht=ht.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(J.test(ht)||ce.test(ht)||Fc.test(ht)||Qd.test(M)));){if(ht.search(/[^ ]/)>=q||!ht.trim())it+=`
`+ht.slice(q);else if(!Fe)it+=`
`+ht;else break;!Fe&&!ht.trim()&&(Fe=!0),H+=ui+`
`,M=M.substring(ui.length+1)}ei.loose||(ut?ei.loose=!0:/\n *\n *$/.test(H)&&(ut=!0)),this.options.gfm&&(V=/^\[[ xX]\] /.exec(it),V&&(le=V[0]!=="[ ] ",it=it.replace(/^\[[ xX]\] +/,""))),ei.items.push({type:"list_item",raw:H,task:!!V,checked:le,loose:!1,text:it}),ei.raw+=H}ei.items[ei.items.length-1].raw=H.trimRight(),ei.items[ei.items.length-1].text=it.trimRight(),ei.raw=ei.raw.trimRight();var Se=ei.items.length;for(xe=0;xe<Se;xe++){this.lexer.state.top=!1,ei.items[xe].tokens=this.lexer.blockTokens(ei.items[xe].text,[]);var ze=ei.items[xe].tokens.filter(function(Xt){return Xt.type==="space"}),ot=ze.every(function(Xt){for(var Vt=Xt.raw.split(""),bt=0,Ct=s(Vt),li;!(li=Ct()).done;){var Qn=li.value;if(Qn===`
`&&(bt+=1),bt>1)return!0}return!1});!ei.loose&&ze.length&&ot&&(ei.loose=!0,ei.items[xe].loose=!0)}return ei}},G.html=function(M){var R=this.rules.block.html.exec(M);if(R){var H={type:"html",raw:R[0],pre:!this.options.sanitizer&&(R[1]==="pre"||R[1]==="script"||R[1]==="style"),text:R[0]};if(this.options.sanitize){var V=this.options.sanitizer?this.options.sanitizer(R[0]):p(R[0]);H.type="paragraph",H.text=V,H.tokens=this.lexer.inline(V)}return H}},G.def=function(M){var R=this.rules.block.def.exec(M);if(R){R[3]&&(R[3]=R[3].substring(1,R[3].length-1));var H=R[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:H,raw:R[0],href:R[2],title:R[3]}}},G.table=function(M){var R=this.rules.block.table.exec(M);if(R){var H={type:"table",header:K(R[1]).map(function(ut){return{text:ut}}),align:R[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:R[3]&&R[3].trim()?R[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(H.header.length===H.align.length){H.raw=R[0];var V=H.align.length,le,q,xe,Fe;for(le=0;le<V;le++)/^ *-+: *$/.test(H.align[le])?H.align[le]="right":/^ *:-+: *$/.test(H.align[le])?H.align[le]="center":/^ *:-+ *$/.test(H.align[le])?H.align[le]="left":H.align[le]=null;for(V=H.rows.length,le=0;le<V;le++)H.rows[le]=K(H.rows[le],H.header.length).map(function(ut){return{text:ut}});for(V=H.header.length,q=0;q<V;q++)H.header[q].tokens=this.lexer.inline(H.header[q].text);for(V=H.rows.length,q=0;q<V;q++)for(Fe=H.rows[q],xe=0;xe<Fe.length;xe++)Fe[xe].tokens=this.lexer.inline(Fe[xe].text);return H}}},G.lheading=function(M){var R=this.rules.block.lheading.exec(M);if(R)return{type:"heading",raw:R[0],depth:R[2].charAt(0)==="="?1:2,text:R[1],tokens:this.lexer.inline(R[1])}},G.paragraph=function(M){var R=this.rules.block.paragraph.exec(M);if(R){var H=R[1].charAt(R[1].length-1)===`
`?R[1].slice(0,-1):R[1];return{type:"paragraph",raw:R[0],text:H,tokens:this.lexer.inline(H)}}},G.text=function(M){var R=this.rules.block.text.exec(M);if(R)return{type:"text",raw:R[0],text:R[0],tokens:this.lexer.inline(R[0])}},G.escape=function(M){var R=this.rules.inline.escape.exec(M);if(R)return{type:"escape",raw:R[0],text:p(R[1])}},G.tag=function(M){var R=this.rules.inline.tag.exec(M);if(R)return!this.lexer.state.inLink&&/^<a /i.test(R[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(R[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(R[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(R[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:R[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(R[0]):p(R[0]):R[0]}},G.link=function(M){var R=this.rules.inline.link.exec(M);if(R){var H=R[2].trim();if(!this.options.pedantic&&/^</.test(H)){if(!/>$/.test(H))return;var V=te(H.slice(0,-1),"\\");if((H.length-V.length)%2===0)return}else{var le=ye(R[2],"()");if(le>-1){var q=R[0].indexOf("!")===0?5:4,xe=q+R[1].length+le;R[2]=R[2].substring(0,le),R[0]=R[0].substring(0,xe).trim(),R[3]=""}}var Fe=R[2],ut="";if(this.options.pedantic){var ht=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Fe);ht&&(Fe=ht[1],ut=ht[3])}else ut=R[3]?R[3].slice(1,-1):"";return Fe=Fe.trim(),/^</.test(Fe)&&(this.options.pedantic&&!/>$/.test(H)?Fe=Fe.slice(1):Fe=Fe.slice(1,-1)),Q(R,{href:Fe&&Fe.replace(this.rules.inline._escapes,"$1"),title:ut&&ut.replace(this.rules.inline._escapes,"$1")},R[0],this.lexer)}},G.reflink=function(M,R){var H;if((H=this.rules.inline.reflink.exec(M))||(H=this.rules.inline.nolink.exec(M))){var V=(H[2]||H[1]).replace(/\s+/g," ");if(V=R[V.toLowerCase()],!V||!V.href){var le=H[0].charAt(0);return{type:"text",raw:le,text:le}}return Q(H,V,H[0],this.lexer)}},G.emStrong=function(M,R,H){H===void 0&&(H="");var V=this.rules.inline.emStrong.lDelim.exec(M);if(V&&!(V[3]&&H.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var le=V[1]||V[2]||"";if(!le||le&&(H===""||this.rules.inline.punctuation.exec(H))){var q=V[0].length-1,xe,Fe,ut=q,ht=0,_i=V[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(_i.lastIndex=0,R=R.slice(-1*M.length+q);(V=_i.exec(R))!=null;)if(xe=V[1]||V[2]||V[3]||V[4]||V[5]||V[6],!!xe){if(Fe=xe.length,V[3]||V[4]){ut+=Fe;continue}else if((V[5]||V[6])&&q%3&&!((q+Fe)%3)){ht+=Fe;continue}if(ut-=Fe,!(ut>0)){if(Fe=Math.min(Fe,Fe+ut+ht),Math.min(q,Fe)%2){var ui=M.slice(1,q+V.index+Fe);return{type:"em",raw:M.slice(0,q+V.index+Fe+1),text:ui,tokens:this.lexer.inlineTokens(ui)}}var it=M.slice(2,q+V.index+Fe-1);return{type:"strong",raw:M.slice(0,q+V.index+Fe+1),text:it,tokens:this.lexer.inlineTokens(it)}}}}}},G.codespan=function(M){var R=this.rules.inline.code.exec(M);if(R){var H=R[2].replace(/\n/g," "),V=/[^ ]/.test(H),le=/^ /.test(H)&&/ $/.test(H);return V&&le&&(H=H.substring(1,H.length-1)),H=p(H,!0),{type:"codespan",raw:R[0],text:H}}},G.br=function(M){var R=this.rules.inline.br.exec(M);if(R)return{type:"br",raw:R[0]}},G.del=function(M){var R=this.rules.inline.del.exec(M);if(R)return{type:"del",raw:R[0],text:R[2],tokens:this.lexer.inlineTokens(R[2])}},G.autolink=function(M,R){var H=this.rules.inline.autolink.exec(M);if(H){var V,le;return H[2]==="@"?(V=p(this.options.mangle?R(H[1]):H[1]),le="mailto:"+V):(V=p(H[1]),le=V),{type:"link",raw:H[0],text:V,href:le,tokens:[{type:"text",raw:V,text:V}]}}},G.url=function(M,R){var H;if(H=this.rules.inline.url.exec(M)){var V,le;if(H[2]==="@")V=p(this.options.mangle?R(H[0]):H[0]),le="mailto:"+V;else{var q;do q=H[0],H[0]=this.rules.inline._backpedal.exec(H[0])[0];while(q!==H[0]);V=p(H[0]),H[1]==="www."?le="http://"+V:le=V}return{type:"link",raw:H[0],text:V,href:le,tokens:[{type:"text",raw:V,text:V}]}}},G.inlineText=function(M,R){var H=this.rules.inline.text.exec(M);if(H){var V;return this.lexer.state.inRawBlock?V=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(H[0]):p(H[0]):H[0]:V=p(this.options.smartypants?R(H[0]):H[0]),{type:"text",raw:H[0],text:V}}},re}(),se={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:A,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};se._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,se._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,se.def=C(se.def).replace("label",se._label).replace("title",se._title).getRegex(),se.bullet=/(?:[*+-]|\d{1,9}[.)])/,se.listItemStart=C(/^( *)(bull) */).replace("bull",se.bullet).getRegex(),se.list=C(se.list).replace(/bull/g,se.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+se.def.source+")").getRegex(),se._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",se._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,se.html=C(se.html,"i").replace("comment",se._comment).replace("tag",se._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),se.paragraph=C(se._paragraph).replace("hr",se.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",se._tag).getRegex(),se.blockquote=C(se.blockquote).replace("paragraph",se.paragraph).getRegex(),se.normal=F({},se),se.gfm=F({},se.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),se.gfm.table=C(se.gfm.table).replace("hr",se.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",se._tag).getRegex(),se.gfm.paragraph=C(se._paragraph).replace("hr",se.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",se.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",se._tag).getRegex(),se.pedantic=F({},se.normal,{html:C(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",se._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:A,paragraph:C(se.normal._paragraph).replace("hr",se.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",se.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Y={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:A,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:A,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Y._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Y.punctuation=C(Y.punctuation).replace(/punctuation/g,Y._punctuation).getRegex(),Y.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Y.escapedEmSt=/\\\*|\\_/g,Y._comment=C(se._comment).replace("(?:-->|$)","-->").getRegex(),Y.emStrong.lDelim=C(Y.emStrong.lDelim).replace(/punct/g,Y._punctuation).getRegex(),Y.emStrong.rDelimAst=C(Y.emStrong.rDelimAst,"g").replace(/punct/g,Y._punctuation).getRegex(),Y.emStrong.rDelimUnd=C(Y.emStrong.rDelimUnd,"g").replace(/punct/g,Y._punctuation).getRegex(),Y._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Y._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Y._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Y.autolink=C(Y.autolink).replace("scheme",Y._scheme).replace("email",Y._email).getRegex(),Y._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Y.tag=C(Y.tag).replace("comment",Y._comment).replace("attribute",Y._attribute).getRegex(),Y._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Y._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Y._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Y.link=C(Y.link).replace("label",Y._label).replace("href",Y._href).replace("title",Y._title).getRegex(),Y.reflink=C(Y.reflink).replace("label",Y._label).replace("ref",se._label).getRegex(),Y.nolink=C(Y.nolink).replace("ref",se._label).getRegex(),Y.reflinkSearch=C(Y.reflinkSearch,"g").replace("reflink",Y.reflink).replace("nolink",Y.nolink).getRegex(),Y.normal=F({},Y),Y.pedantic=F({},Y.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:C(/^!?\[(label)\]\((.*?)\)/).replace("label",Y._label).getRegex(),reflink:C(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Y._label).getRegex()}),Y.gfm=F({},Y.normal,{escape:C(Y.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Y.gfm.url=C(Y.gfm.url,"i").replace("email",Y.gfm._extended_email).getRegex(),Y.breaks=F({},Y.gfm,{br:C(Y.br).replace("{2,}","*").getRegex(),text:C(Y.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Ne(re){return re.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function tt(re){var G="",Z,M,R=re.length;for(Z=0;Z<R;Z++)M=re.charCodeAt(Z),Math.random()>.5&&(M="x"+M.toString(16)),G+="&#"+M+";";return G}var ne=function(){function re(Z){this.tokens=[],this.tokens.links=Object.create(null),this.options=Z||e.defaults,this.options.tokenizer=this.options.tokenizer||new Ie,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var M={block:se.normal,inline:Y.normal};this.options.pedantic?(M.block=se.pedantic,M.inline=Y.pedantic):this.options.gfm&&(M.block=se.gfm,this.options.breaks?M.inline=Y.breaks:M.inline=Y.gfm),this.tokenizer.rules=M}re.lex=function(M,R){var H=new re(R);return H.lex(M)},re.lexInline=function(M,R){var H=new re(R);return H.inlineTokens(M)};var G=re.prototype;return G.lex=function(M){M=M.replace(/\r\n|\r/g,`
`),this.blockTokens(M,this.tokens);for(var R;R=this.inlineQueue.shift();)this.inlineTokens(R.src,R.tokens);return this.tokens},G.blockTokens=function(M,R){var H=this;R===void 0&&(R=[]),this.options.pedantic?M=M.replace(/\t/g,"    ").replace(/^ +$/gm,""):M=M.replace(/^( *)(\t+)/gm,function(ut,ht,_i){return ht+"    ".repeat(_i.length)});for(var V,le,q,xe;M;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ut){return(V=ut.call({lexer:H},M,R))?(M=M.substring(V.raw.length),R.push(V),!0):!1}))){if(V=this.tokenizer.space(M)){M=M.substring(V.raw.length),V.raw.length===1&&R.length>0?R[R.length-1].raw+=`
`:R.push(V);continue}if(V=this.tokenizer.code(M)){M=M.substring(V.raw.length),le=R[R.length-1],le&&(le.type==="paragraph"||le.type==="text")?(le.raw+=`
`+V.raw,le.text+=`
`+V.text,this.inlineQueue[this.inlineQueue.length-1].src=le.text):R.push(V);continue}if(V=this.tokenizer.fences(M)){M=M.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.heading(M)){M=M.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.hr(M)){M=M.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.blockquote(M)){M=M.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.list(M)){M=M.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.html(M)){M=M.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.def(M)){M=M.substring(V.raw.length),le=R[R.length-1],le&&(le.type==="paragraph"||le.type==="text")?(le.raw+=`
`+V.raw,le.text+=`
`+V.raw,this.inlineQueue[this.inlineQueue.length-1].src=le.text):this.tokens.links[V.tag]||(this.tokens.links[V.tag]={href:V.href,title:V.title});continue}if(V=this.tokenizer.table(M)){M=M.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.lheading(M)){M=M.substring(V.raw.length),R.push(V);continue}if(q=M,this.options.extensions&&this.options.extensions.startBlock&&function(){var ut=1/0,ht=M.slice(1),_i=void 0;H.options.extensions.startBlock.forEach(function(ui){_i=ui.call({lexer:this},ht),typeof _i=="number"&&_i>=0&&(ut=Math.min(ut,_i))}),ut<1/0&&ut>=0&&(q=M.substring(0,ut+1))}(),this.state.top&&(V=this.tokenizer.paragraph(q))){le=R[R.length-1],xe&&le.type==="paragraph"?(le.raw+=`
`+V.raw,le.text+=`
`+V.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=le.text):R.push(V),xe=q.length!==M.length,M=M.substring(V.raw.length);continue}if(V=this.tokenizer.text(M)){M=M.substring(V.raw.length),le=R[R.length-1],le&&le.type==="text"?(le.raw+=`
`+V.raw,le.text+=`
`+V.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=le.text):R.push(V);continue}if(M){var Fe="Infinite loop on byte: "+M.charCodeAt(0);if(this.options.silent){console.error(Fe);break}else throw new Error(Fe)}}return this.state.top=!0,R},G.inline=function(M,R){return R===void 0&&(R=[]),this.inlineQueue.push({src:M,tokens:R}),R},G.inlineTokens=function(M,R){var H=this;R===void 0&&(R=[]);var V,le,q,xe=M,Fe,ut,ht;if(this.tokens.links){var _i=Object.keys(this.tokens.links);if(_i.length>0)for(;(Fe=this.tokenizer.rules.inline.reflinkSearch.exec(xe))!=null;)_i.includes(Fe[0].slice(Fe[0].lastIndexOf("[")+1,-1))&&(xe=xe.slice(0,Fe.index)+"["+ae("a",Fe[0].length-2)+"]"+xe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Fe=this.tokenizer.rules.inline.blockSkip.exec(xe))!=null;)xe=xe.slice(0,Fe.index)+"["+ae("a",Fe[0].length-2)+"]"+xe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Fe=this.tokenizer.rules.inline.escapedEmSt.exec(xe))!=null;)xe=xe.slice(0,Fe.index)+"++"+xe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;M;)if(ut||(ht=""),ut=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(it){return(V=it.call({lexer:H},M,R))?(M=M.substring(V.raw.length),R.push(V),!0):!1}))){if(V=this.tokenizer.escape(M)){M=M.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.tag(M)){M=M.substring(V.raw.length),le=R[R.length-1],le&&V.type==="text"&&le.type==="text"?(le.raw+=V.raw,le.text+=V.text):R.push(V);continue}if(V=this.tokenizer.link(M)){M=M.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.reflink(M,this.tokens.links)){M=M.substring(V.raw.length),le=R[R.length-1],le&&V.type==="text"&&le.type==="text"?(le.raw+=V.raw,le.text+=V.text):R.push(V);continue}if(V=this.tokenizer.emStrong(M,xe,ht)){M=M.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.codespan(M)){M=M.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.br(M)){M=M.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.del(M)){M=M.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.autolink(M,tt)){M=M.substring(V.raw.length),R.push(V);continue}if(!this.state.inLink&&(V=this.tokenizer.url(M,tt))){M=M.substring(V.raw.length),R.push(V);continue}if(q=M,this.options.extensions&&this.options.extensions.startInline&&function(){var it=1/0,Xi=M.slice(1),$i=void 0;H.options.extensions.startInline.forEach(function(Fs){$i=Fs.call({lexer:this},Xi),typeof $i=="number"&&$i>=0&&(it=Math.min(it,$i))}),it<1/0&&it>=0&&(q=M.substring(0,it+1))}(),V=this.tokenizer.inlineText(q,Ne)){M=M.substring(V.raw.length),V.raw.slice(-1)!=="_"&&(ht=V.raw.slice(-1)),ut=!0,le=R[R.length-1],le&&le.type==="text"?(le.raw+=V.raw,le.text+=V.text):R.push(V);continue}if(M){var ui="Infinite loop on byte: "+M.charCodeAt(0);if(this.options.silent){console.error(ui);break}else throw new Error(ui)}}return R},i(re,null,[{key:"rules",get:function(){return{block:se,inline:Y}}}]),re}(),$e=function(){function re(Z){this.options=Z||e.defaults}var G=re.prototype;return G.code=function(M,R,H){var V=(R||"").match(/\S*/)[0];if(this.options.highlight){var le=this.options.highlight(M,V);le!=null&&le!==M&&(H=!0,M=le)}return M=M.replace(/\n$/,"")+`
`,V?'<pre><code class="'+this.options.langPrefix+p(V,!0)+'">'+(H?M:p(M,!0))+`</code></pre>
`:"<pre><code>"+(H?M:p(M,!0))+`</code></pre>
`},G.blockquote=function(M){return`<blockquote>
`+M+`</blockquote>
`},G.html=function(M){return M},G.heading=function(M,R,H,V){if(this.options.headerIds){var le=this.options.headerPrefix+V.slug(H);return"<h"+R+' id="'+le+'">'+M+"</h"+R+`>
`}return"<h"+R+">"+M+"</h"+R+`>
`},G.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},G.list=function(M,R,H){var V=R?"ol":"ul",le=R&&H!==1?' start="'+H+'"':"";return"<"+V+le+`>
`+M+"</"+V+`>
`},G.listitem=function(M){return"<li>"+M+`</li>
`},G.checkbox=function(M){return"<input "+(M?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},G.paragraph=function(M){return"<p>"+M+`</p>
`},G.table=function(M,R){return R&&(R="<tbody>"+R+"</tbody>"),`<table>
<thead>
`+M+`</thead>
`+R+`</table>
`},G.tablerow=function(M){return`<tr>
`+M+`</tr>
`},G.tablecell=function(M,R){var H=R.header?"th":"td",V=R.align?"<"+H+' align="'+R.align+'">':"<"+H+">";return V+M+("</"+H+`>
`)},G.strong=function(M){return"<strong>"+M+"</strong>"},G.em=function(M){return"<em>"+M+"</em>"},G.codespan=function(M){return"<code>"+M+"</code>"},G.br=function(){return this.options.xhtml?"<br/>":"<br>"},G.del=function(M){return"<del>"+M+"</del>"},G.link=function(M,R,H){if(M=S(this.options.sanitize,this.options.baseUrl,M),M===null)return H;var V='<a href="'+p(M)+'"';return R&&(V+=' title="'+R+'"'),V+=">"+H+"</a>",V},G.image=function(M,R,H){if(M=S(this.options.sanitize,this.options.baseUrl,M),M===null)return H;var V='<img src="'+M+'" alt="'+H+'"';return R&&(V+=' title="'+R+'"'),V+=this.options.xhtml?"/>":">",V},G.text=function(M){return M},re}(),Me=function(){function re(){}var G=re.prototype;return G.strong=function(M){return M},G.em=function(M){return M},G.codespan=function(M){return M},G.del=function(M){return M},G.html=function(M){return M},G.text=function(M){return M},G.link=function(M,R,H){return""+H},G.image=function(M,R,H){return""+H},G.br=function(){return""},re}(),ni=function(){function re(){this.seen={}}var G=re.prototype;return G.serialize=function(M){return M.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},G.getNextSafeSlug=function(M,R){var H=M,V=0;if(this.seen.hasOwnProperty(H)){V=this.seen[M];do V++,H=M+"-"+V;while(this.seen.hasOwnProperty(H))}return R||(this.seen[M]=V,this.seen[H]=0),H},G.slug=function(M,R){R===void 0&&(R={});var H=this.serialize(M);return this.getNextSafeSlug(H,R.dryrun)},re}(),kt=function(){function re(Z){this.options=Z||e.defaults,this.options.renderer=this.options.renderer||new $e,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Me,this.slugger=new ni}re.parse=function(M,R){var H=new re(R);return H.parse(M)},re.parseInline=function(M,R){var H=new re(R);return H.parseInline(M)};var G=re.prototype;return G.parse=function(M,R){R===void 0&&(R=!0);var H="",V,le,q,xe,Fe,ut,ht,_i,ui,it,Xi,$i,Fs,ei,Mn,Fc,Qd,J,ce,Se=M.length;for(V=0;V<Se;V++){if(it=M[V],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[it.type]&&(ce=this.options.extensions.renderers[it.type].call({parser:this},it),ce!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(it.type))){H+=ce||"";continue}switch(it.type){case"space":continue;case"hr":{H+=this.renderer.hr();continue}case"heading":{H+=this.renderer.heading(this.parseInline(it.tokens),it.depth,v(this.parseInline(it.tokens,this.textRenderer)),this.slugger);continue}case"code":{H+=this.renderer.code(it.text,it.lang,it.escaped);continue}case"table":{for(_i="",ht="",xe=it.header.length,le=0;le<xe;le++)ht+=this.renderer.tablecell(this.parseInline(it.header[le].tokens),{header:!0,align:it.align[le]});for(_i+=this.renderer.tablerow(ht),ui="",xe=it.rows.length,le=0;le<xe;le++){for(ut=it.rows[le],ht="",Fe=ut.length,q=0;q<Fe;q++)ht+=this.renderer.tablecell(this.parseInline(ut[q].tokens),{header:!1,align:it.align[q]});ui+=this.renderer.tablerow(ht)}H+=this.renderer.table(_i,ui);continue}case"blockquote":{ui=this.parse(it.tokens),H+=this.renderer.blockquote(ui);continue}case"list":{for(Xi=it.ordered,$i=it.start,Fs=it.loose,xe=it.items.length,ui="",le=0;le<xe;le++)Mn=it.items[le],Fc=Mn.checked,Qd=Mn.task,ei="",Mn.task&&(J=this.renderer.checkbox(Fc),Fs?Mn.tokens.length>0&&Mn.tokens[0].type==="paragraph"?(Mn.tokens[0].text=J+" "+Mn.tokens[0].text,Mn.tokens[0].tokens&&Mn.tokens[0].tokens.length>0&&Mn.tokens[0].tokens[0].type==="text"&&(Mn.tokens[0].tokens[0].text=J+" "+Mn.tokens[0].tokens[0].text)):Mn.tokens.unshift({type:"text",text:J}):ei+=J),ei+=this.parse(Mn.tokens,Fs),ui+=this.renderer.listitem(ei,Qd,Fc);H+=this.renderer.list(ui,Xi,$i);continue}case"html":{H+=this.renderer.html(it.text);continue}case"paragraph":{H+=this.renderer.paragraph(this.parseInline(it.tokens));continue}case"text":{for(ui=it.tokens?this.parseInline(it.tokens):it.text;V+1<Se&&M[V+1].type==="text";)it=M[++V],ui+=`
`+(it.tokens?this.parseInline(it.tokens):it.text);H+=R?this.renderer.paragraph(ui):ui;continue}default:{var ze='Token with "'+it.type+'" type was not found.';if(this.options.silent){console.error(ze);return}else throw new Error(ze)}}}return H},G.parseInline=function(M,R){R=R||this.renderer;var H="",V,le,q,xe=M.length;for(V=0;V<xe;V++){if(le=M[V],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[le.type]&&(q=this.options.extensions.renderers[le.type].call({parser:this},le),q!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(le.type))){H+=q||"";continue}switch(le.type){case"escape":{H+=R.text(le.text);break}case"html":{H+=R.html(le.text);break}case"link":{H+=R.link(le.href,le.title,this.parseInline(le.tokens,R));break}case"image":{H+=R.image(le.href,le.title,le.text);break}case"strong":{H+=R.strong(this.parseInline(le.tokens,R));break}case"em":{H+=R.em(this.parseInline(le.tokens,R));break}case"codespan":{H+=R.codespan(le.text);break}case"br":{H+=R.br();break}case"del":{H+=R.del(this.parseInline(le.tokens,R));break}case"text":{H+=R.text(le.text);break}default:{var Fe='Token with "'+le.type+'" type was not found.';if(this.options.silent){console.error(Fe);return}else throw new Error(Fe)}}}return H},re}();function Te(re,G,Z){if(typeof re>"u"||re===null)throw new Error("marked(): input parameter is undefined or null");if(typeof re!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(re)+", string expected");if(typeof G=="function"&&(Z=G,G=null),G=F({},Te.defaults,G||{}),be(G),Z){var M=G.highlight,R;try{R=ne.lex(re,G)}catch(xe){return Z(xe)}var H=function(Fe){var ut;if(!Fe)try{G.walkTokens&&Te.walkTokens(R,G.walkTokens),ut=kt.parse(R,G)}catch(ht){Fe=ht}return G.highlight=M,Fe?Z(Fe):Z(null,ut)};if(!M||M.length<3||(delete G.highlight,!R.length))return H();var V=0;Te.walkTokens(R,function(xe){xe.type==="code"&&(V++,setTimeout(function(){M(xe.text,xe.lang,function(Fe,ut){if(Fe)return H(Fe);ut!=null&&ut!==xe.text&&(xe.text=ut,xe.escaped=!0),V--,V===0&&H()})},0))}),V===0&&H();return}function le(xe){if(xe.message+=`
Please report this to https://github.com/markedjs/marked.`,G.silent)return"<p>An error occurred:</p><pre>"+p(xe.message+"",!0)+"</pre>";throw xe}try{var q=ne.lex(re,G);if(G.walkTokens){if(G.async)return Promise.all(Te.walkTokens(q,G.walkTokens)).then(function(){return kt.parse(q,G)}).catch(le);Te.walkTokens(q,G.walkTokens)}return kt.parse(q,G)}catch(xe){le(xe)}}Te.options=Te.setOptions=function(re){return F(Te.defaults,re),l(Te.defaults),Te},Te.getDefaults=a,Te.defaults=e.defaults,Te.use=function(){for(var re=arguments.length,G=new Array(re),Z=0;Z<re;Z++)G[Z]=arguments[Z];var M=F.apply(void 0,[{}].concat(G)),R=Te.defaults.extensions||{renderers:{},childTokens:{}},H;G.forEach(function(V){if(V.extensions&&(H=!0,V.extensions.forEach(function(q){if(!q.name)throw new Error("extension name required");if(q.renderer){var xe=R.renderers?R.renderers[q.name]:null;xe?R.renderers[q.name]=function(){for(var Fe=arguments.length,ut=new Array(Fe),ht=0;ht<Fe;ht++)ut[ht]=arguments[ht];var _i=q.renderer.apply(this,ut);return _i===!1&&(_i=xe.apply(this,ut)),_i}:R.renderers[q.name]=q.renderer}if(q.tokenizer){if(!q.level||q.level!=="block"&&q.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");R[q.level]?R[q.level].unshift(q.tokenizer):R[q.level]=[q.tokenizer],q.start&&(q.level==="block"?R.startBlock?R.startBlock.push(q.start):R.startBlock=[q.start]:q.level==="inline"&&(R.startInline?R.startInline.push(q.start):R.startInline=[q.start]))}q.childTokens&&(R.childTokens[q.name]=q.childTokens)})),V.renderer&&function(){var q=Te.defaults.renderer||new $e,xe=function(ht){var _i=q[ht];q[ht]=function(){for(var ui=arguments.length,it=new Array(ui),Xi=0;Xi<ui;Xi++)it[Xi]=arguments[Xi];var $i=V.renderer[ht].apply(q,it);return $i===!1&&($i=_i.apply(q,it)),$i}};for(var Fe in V.renderer)xe(Fe);M.renderer=q}(),V.tokenizer&&function(){var q=Te.defaults.tokenizer||new Ie,xe=function(ht){var _i=q[ht];q[ht]=function(){for(var ui=arguments.length,it=new Array(ui),Xi=0;Xi<ui;Xi++)it[Xi]=arguments[Xi];var $i=V.tokenizer[ht].apply(q,it);return $i===!1&&($i=_i.apply(q,it)),$i}};for(var Fe in V.tokenizer)xe(Fe);M.tokenizer=q}(),V.walkTokens){var le=Te.defaults.walkTokens;M.walkTokens=function(q){var xe=[];return xe.push(V.walkTokens.call(this,q)),le&&(xe=xe.concat(le.call(this,q))),xe}}H&&(M.extensions=R),Te.setOptions(M)})},Te.walkTokens=function(re,G){for(var Z=[],M=function(){var le=H.value;switch(Z=Z.concat(G.call(Te,le)),le.type){case"table":{for(var q=s(le.header),xe;!(xe=q()).done;){var Fe=xe.value;Z=Z.concat(Te.walkTokens(Fe.tokens,G))}for(var ut=s(le.rows),ht;!(ht=ut()).done;)for(var _i=ht.value,ui=s(_i),it;!(it=ui()).done;){var Xi=it.value;Z=Z.concat(Te.walkTokens(Xi.tokens,G))}break}case"list":{Z=Z.concat(Te.walkTokens(le.items,G));break}default:Te.defaults.extensions&&Te.defaults.extensions.childTokens&&Te.defaults.extensions.childTokens[le.type]?Te.defaults.extensions.childTokens[le.type].forEach(function($i){Z=Z.concat(Te.walkTokens(le[$i],G))}):le.tokens&&(Z=Z.concat(Te.walkTokens(le.tokens,G)))}},R=s(re),H;!(H=R()).done;)M();return Z},Te.parseInline=function(re,G){if(typeof re>"u"||re===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof re!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(re)+", string expected");G=F({},Te.defaults,G||{}),be(G);try{var Z=ne.lexInline(re,G);return G.walkTokens&&Te.walkTokens(Z,G.walkTokens),kt.parseInline(Z,G)}catch(M){if(M.message+=`
Please report this to https://github.com/markedjs/marked.`,G.silent)return"<p>An error occurred:</p><pre>"+p(M.message+"",!0)+"</pre>";throw M}},Te.Parser=kt,Te.parser=kt.parse,Te.Renderer=$e,Te.TextRenderer=Me,Te.Lexer=ne,Te.lexer=ne.lex,Te.Tokenizer=Ie,Te.Slugger=ni,Te.parse=Te;var at=Te.options,ai=Te.setOptions,Wi=Te.use,Ft=Te.walkTokens,Kt=Te.parseInline,Yt=Te,Rn=kt.parse,Os=ne.lex;e.Lexer=ne,e.Parser=kt,e.Renderer=$e,e.Slugger=ni,e.TextRenderer=Me,e.Tokenizer=Ie,e.getDefaults=a,e.lexer=Os,e.marked=Te,e.options=at,e.parse=Yt,e.parseInline=Kt,e.parser=Rn,e.setOptions=ai,e.use=Wi,e.walkTokens=Ft,Object.defineProperty(e,"__esModule",{value:!0})})})();Ur.Lexer||exports.Lexer;Ur.Parser||exports.Parser;Ur.Renderer||exports.Renderer;Ur.Slugger||exports.Slugger;Ur.TextRenderer||exports.TextRenderer;Ur.Tokenizer||exports.Tokenizer;Ur.getDefaults||exports.getDefaults;Ur.lexer||exports.lexer;var cd=Ur.marked||exports.marked;Ur.options||exports.options;Ur.parse||exports.parse;Ur.parseInline||exports.parseInline;Ur.parser||exports.parser;Ur.setOptions||exports.setOptions;Ur.use||exports.use;Ur.walkTokens||exports.walkTokens;function jDe(n){return JSON.stringify(n,KDe)}function J4(n){let e=JSON.parse(n);return e=e3(e),e}function KDe(n,e){return e instanceof RegExp?{$mid:2,source:e.source,flags:e.flags}:e}function e3(n,e=0){if(!n||e>200)return n;if(typeof n=="object"){switch(n.$mid){case 1:return Ke.revive(n);case 2:return new RegExp(n.source,n.flags);case 17:return new Date(n.source)}if(n instanceof nI||n instanceof Uint8Array)return n;if(Array.isArray(n))for(let t=0;t<n.length;++t)n[t]=e3(n[t],e+1);else for(const t in n)Object.hasOwnProperty.call(n,t)&&(n[t]=e3(n[t],e+1))}return n}const YM=Object.freeze({image:(n,e,t)=>{let i=[],o=[];return n&&({href:n,dimensions:i}=$De(n),o.push(`src="${gk(n)}"`)),t&&o.push(`alt="${gk(t)}"`),e&&o.push(`title="${gk(e)}"`),i.length&&(o=o.concat(i)),"<img "+o.join(" ")+">"},paragraph:n=>`<p>${n}</p>`,link:(n,e,t)=>typeof n!="string"?"":(n===t&&(t=ZM(t)),e=typeof e=="string"?gk(ZM(e)):"",n=ZM(n),n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${n}" title="${e||n}" draggable="false">${t}</a>`)});function DI(n,e={},t={}){var i,o;const r=new oe;let s=!1;const a=s7(e),l=function(v){let _;try{_=J4(decodeURIComponent(v))}catch{}return _?(_=eQ(_,C=>{if(n.uris&&n.uris[C])return Ke.revive(n.uris[C])}),encodeURIComponent(JSON.stringify(_))):v},c=function(v,_){const C=n.uris&&n.uris[v];let y=Ke.revive(C);return _?v.startsWith(ft.data+":")?v:(y||(y=Ke.parse(v)),GQ.uriToBrowserUri(y).toString(!0)):!y||Ke.parse(v).toString()===y.toString()?v:(y.query&&(y=y.with({query:l(y.query)})),y.toString())},d=new cd.Renderer;d.image=YM.image,d.link=YM.link,d.paragraph=YM.paragraph;const u=[],h=[];if(e.codeBlockRendererSync?d.code=(v,_)=>{const C=Q4.nextId(),y=e.codeBlockRendererSync(cj(_),v);return h.push([C,y]),`<div class="code" data-code="${C}">${GD(v)}</div>`}:e.codeBlockRenderer&&(d.code=(v,_)=>{const C=Q4.nextId(),y=e.codeBlockRenderer(cj(_),v);return u.push(y.then(w=>[C,w])),`<div class="code" data-code="${C}">${GD(v)}</div>`}),e.actionHandler){const v=function(y){let w=y.target;if(!(w.tagName!=="A"&&(w=w.parentElement,!w||w.tagName!=="A")))try{let S=w.dataset.href;S&&(n.baseUri&&(S=XM(Ke.from(n.baseUri),S)),e.actionHandler.callback(S,y))}catch(S){st(S)}finally{y.preventDefault()}},_=e.actionHandler.disposables.add(new It(a,"click")),C=e.actionHandler.disposables.add(new It(a,"auxclick"));e.actionHandler.disposables.add(me.any(_.event,C.event)(y=>{const w=new dl(qe(a),y);!w.leftButton&&!w.middleButton||v(w)})),e.actionHandler.disposables.add(j(a,"keydown",y=>{const w=new Ni(y);!w.equals(10)&&!w.equals(3)||v(w)}))}n.supportHtml||(t.sanitizer=v=>(n.isTrusted?v.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?v:"",t.sanitize=!0,t.silent=!0),t.renderer=d;let g=(i=n.value)!==null&&i!==void 0?i:"";g.length>1e5&&(g=`${g.substr(0,1e5)}`),n.supportThemeIcons&&(g=BDe(g));let f;if(e.fillInIncompleteTokens){const v={...cd.defaults,...t},_=cd.lexer(g,v),C=e2e(_);f=cd.parser(C,v)}else f=cd.parse(g,t);n.supportThemeIcons&&(f=Bg(f).map(_=>typeof _=="string"?_:_.outerHTML).join(""));const b=new DOMParser().parseFromString(t3(n,f),"text/html");if(b.body.querySelectorAll("img").forEach(v=>{const _=v.getAttribute("src");if(_){let C=_;try{n.baseUri&&(C=XM(Ke.from(n.baseUri),C))}catch{}v.src=c(C,!0)}}),b.body.querySelectorAll("a").forEach(v=>{const _=v.getAttribute("href");if(v.setAttribute("href",""),!_||/^data:|javascript:/i.test(_)||/^command:/i.test(_)&&!n.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(_))v.replaceWith(...v.childNodes);else{let C=c(_,!1);n.baseUri&&(C=XM(Ke.from(n.baseUri),_)),v.dataset.href=C}}),a.innerHTML=t3(n,b.body.innerHTML),u.length>0)Promise.all(u).then(v=>{var _,C;if(s)return;const y=new Map(v),w=a.querySelectorAll("div[data-code]");for(const S of w){const x=y.get((_=S.dataset.code)!==null&&_!==void 0?_:"");x&&Ho(S,x)}(C=e.asyncRenderCallback)===null||C===void 0||C.call(e)});else if(h.length>0){const v=new Map(h),_=a.querySelectorAll("div[data-code]");for(const C of _){const y=v.get((o=C.dataset.code)!==null&&o!==void 0?o:"");y&&Ho(C,y)}}if(e.asyncRenderCallback)for(const v of a.getElementsByTagName("img")){const _=r.add(j(v,"load",()=>{_.dispose(),e.asyncRenderCallback()}))}return{element:a,dispose:()=>{s=!0,r.dispose()}}}function cj(n){if(!n)return"";const e=n.split(/[\s+|:|,|\{|\?]/,1);return e.length?e[0]:n}function XM(n,e){return/^\w[\w\d+.-]*:/.test(e)?e:n.path.endsWith("/")?p$(n,e).toString():p$(CI(n),e).toString()}function t3(n,e){const{config:t,allowedSchemes:i}=GDe(n);K5("uponSanitizeAttribute",(r,s)=>{var a;if(s.attrName==="style"||s.attrName==="class"){if(r.tagName==="SPAN"){if(s.attrName==="style"){s.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(s.attrValue);return}else if(s.attrName==="class"){s.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(s.attrValue);return}}s.keepAttr=!1;return}else if(r.tagName==="INPUT"&&((a=r.attributes.getNamedItem("type"))===null||a===void 0?void 0:a.value)==="checkbox"){if(s.attrName==="type"&&s.attrValue==="checkbox"||s.attrName==="disabled"||s.attrName==="checked"){s.keepAttr=!0;return}s.keepAttr=!1}}),K5("uponSanitizeElement",(r,s)=>{var a,l;s.tagName==="input"&&(((a=r.attributes.getNamedItem("type"))===null||a===void 0?void 0:a.value)==="checkbox"?r.setAttribute("disabled",""):(l=r.parentElement)===null||l===void 0||l.removeChild(r))});const o=Cbe(i);try{return jQ(e,{...t,RETURN_TRUSTED_TYPE:!0})}finally{KQ("uponSanitizeAttribute"),o.dispose()}}const qDe=["align","autoplay","alt","checked","class","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","type","width","start"];function GDe(n){const e=[ft.http,ft.https,ft.mailto,ft.data,ft.file,ft.vscodeFileResource,ft.vscodeRemote,ft.vscodeRemoteResource];return n.isTrusted&&e.push(ft.command),{config:{ALLOWED_TAGS:[...ybe],ALLOWED_ATTR:qDe,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}function ZDe(n){return typeof n=="string"?n:YDe(n)}function YDe(n){var e;let t=(e=n.value)!==null&&e!==void 0?e:"";t.length>1e5&&(t=`${t.substr(0,1e5)}`);const i=cd.parse(t,{renderer:QDe.value}).replace(/&(#\d+|[a-zA-Z]+);/g,o=>{var r;return(r=XDe.get(o))!==null&&r!==void 0?r:o});return t3({isTrusted:!1},i).toString()}const XDe=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),QDe=new Kd(()=>{const n=new cd.Renderer;return n.code=e=>e,n.blockquote=e=>e,n.html=e=>"",n.heading=(e,t,i)=>e+`
`,n.hr=()=>"",n.list=(e,t)=>e,n.listitem=e=>e+`
`,n.paragraph=e=>e+`
`,n.table=(e,t)=>e+t+`
`,n.tablerow=e=>e,n.tablecell=(e,t)=>e+" ",n.strong=e=>e,n.em=e=>e,n.codespan=e=>e,n.br=()=>`
`,n.del=e=>e,n.image=(e,t,i)=>"",n.text=e=>e,n.link=(e,t,i)=>i,n});function p7(n){let e="";return n.forEach(t=>{e+=t.raw}),e}function JDe(n){var e,t;for(let i=0;i<n.tokens.length;i++){const o=n.tokens[i];if(o.type==="text"){const r=o.raw.split(`
`),s=r[r.length-1];if(s.includes("`"))return i2e(n);if(s.includes("**"))return a2e(n);if(s.match(/\*\w/))return n2e(n);if(s.match(/(^|\s)__\w/))return l2e(n);if(s.match(/(^|\s)_\w/))return o2e(n);if(s.match(/(^|\s)\[.*\]\(\w*/)){const a=n.tokens.slice(i+1);return((e=a[0])===null||e===void 0?void 0:e.type)==="link"&&((t=a[1])===null||t===void 0?void 0:t.type)==="text"&&a[1].raw.match(/^ *"[^"]*$/)?r2e(n):uj(n)}else{if(dj(s))return uj(n);if(s.match(/(^|\s)\[\w/)&&!n.tokens.slice(i+1).some(a=>dj(a.raw)))return s2e(n)}}}}function dj(n){return!!n.match(/^[^\[]*\]\([^\)]*$/)}function e2e(n){let e,t;for(e=0;e<n.length;e++){const i=n[e];let o;if(i.type==="paragraph"&&(o=i.raw.match(/(\n|^)(````*)/))){const r=o[2];t=t2e(n.slice(e),r);break}if(i.type==="paragraph"&&i.raw.match(/(\n|^)\|/)){t=c2e(n.slice(e));break}if(e===n.length-1&&i.type==="paragraph"){const r=JDe(i);if(r){t=[r];break}}}if(t){const i=[...n.slice(0,e),...t];return i.links=n.links,i}return n}function t2e(n,e){const t=p7(n);return cd.lexer(t+`
${e}`)}function i2e(n){return Of(n,"`")}function n2e(n){return Of(n,"*")}function o2e(n){return Of(n,"_")}function uj(n){return Of(n,")")}function r2e(n){return Of(n,'")')}function s2e(n){return Of(n,"](about:blank)")}function a2e(n){return Of(n,"**")}function l2e(n){return Of(n,"__")}function Of(n,e){const t=p7(Array.isArray(n)?n:[n]);return cd.lexer(t+e)[0]}function c2e(n){const e=p7(n),t=e.split(`
`);let i,o=!1;for(let r=0;r<t.length;r++){const s=t[r].trim();if(typeof i>"u"&&s.match(/^\s*\|/)){const a=s.match(/(\|[^\|]+)(?=\||$)/g);a&&(i=a.length)}else if(typeof i=="number")if(s.match(/^\s*\|/)){if(r!==t.length-1)return;o=!0}else return}if(typeof i=="number"&&i>0){const r=o?t.slice(0,-1).join(`
`):e,s=!!r.match(/\|\s*$/),a=r+(s?"":"|")+`
|${" --- |".repeat(i)}`;return cd.lexer(a)}}var d2e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},hj=function(n,e){return function(t,i){e(t,i,n)}},i3;let Bd=i3=class{constructor(e,t,i){this._options=e,this._languageService=t,this._openerService=i,this._onDidRenderAsync=new B,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const o=new oe,r=o.add(DI(e,{...this._getRenderOptions(e,o),...t},i));return r.element.classList.add("rendered-markdown"),{element:r.element,dispose:()=>o.dispose()}}_getRenderOptions(e,t){return{codeBlockRenderer:async(i,o)=>{var r,s,a;let l;i?l=this._languageService.getLanguageIdByLanguageName(i):this._options.editor&&(l=(r=this._options.editor.getModel())===null||r===void 0?void 0:r.getLanguageId()),l||(l=oa);const c=await tLe(this._languageService,o,l),d=document.createElement("span");if(d.innerHTML=(a=(s=i3._ttpTokenizer)===null||s===void 0?void 0:s.createHTML(c))!==null&&a!==void 0?a:c,this._options.editor){const u=this._options.editor.getOption(50);zo(d,u)}else this._options.codeBlockFontFamily&&(d.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(d.style.fontSize=this._options.codeBlockFontSize),d},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:i=>m7(this._openerService,i,e.isTrusted),disposables:t}}}};Bd._ttpTokenizer=yh("tokenizeToString",{createHTML(n){return n}});Bd=i3=d2e([hj(1,Bi),hj(2,gs)],Bd);async function m7(n,e,t){try{return await n.open(e,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:u2e(t)})}catch(i){return st(i),!1}}function u2e(n){return n===!0?!0:n&&Array.isArray(n.enabledCommands)?n.enabledCommands:!1}var h2e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},p1=function(n,e){return function(t,i){e(t,i,n)}};const Hc=ue;let n3=class extends fa{get _targetWindow(){return qe(this._target.targetElements[0])}get _targetDocumentElement(){return qe(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(e,t,i,o,r,s){var a,l,c,d,u,h,g,f;super(),this._keybindingService=t,this._configurationService=i,this._openerService=o,this._instantiationService=r,this._accessibilityService=s,this._messageListeners=new oe,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new B),this._onRequestLayout=this._register(new B),this._linkHandler=e.linkHandler||(y=>m7(this._openerService,y,Ed(e.content)?e.content.isTrusted:void 0)),this._target="targetElements"in e.target?e.target:new g2e(e.target),this._hoverPointer=!((a=e.appearance)===null||a===void 0)&&a.showPointer?Hc("div.workbench-hover-pointer"):void 0,this._hover=this._register(new r7),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),!((l=e.appearance)===null||l===void 0)&&l.compact&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),!((c=e.appearance)===null||c===void 0)&&c.skipFadeInAnimation&&this._hover.containerDomNode.classList.add("skip-fade-in"),e.additionalClasses&&this._hover.containerDomNode.classList.add(...e.additionalClasses),!((d=e.position)===null||d===void 0)&&d.forcePosition&&(this._forcePosition=!0),e.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=(h=(u=e.position)===null||u===void 0?void 0:u.hoverPosition)!==null&&h!==void 0?h:3,this.onmousedown(this._hover.containerDomNode,y=>y.stopPropagation()),this.onkeydown(this._hover.containerDomNode,y=>{y.equals(9)&&this.dispose()}),this._register(j(this._targetWindow,"blur",()=>this.dispose()));const p=Hc("div.hover-row.markdown-hover"),b=Hc("div.hover-contents");if(typeof e.content=="string")b.textContent=e.content,b.style.whiteSpace="pre-wrap";else if(e.content instanceof HTMLElement)b.appendChild(e.content),b.classList.add("html-hover-contents");else{const y=e.content,w=this._instantiationService.createInstance(Bd,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||os.fontFamily}),{element:S}=w.render(y,{actionHandler:{callback:x=>this._linkHandler(x),disposables:this._messageListeners},asyncRenderCallback:()=>{b.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});b.appendChild(S)}if(p.appendChild(b),this._hover.contentsDomNode.appendChild(p),e.actions&&e.actions.length>0){const y=Hc("div.hover-row.status-bar"),w=Hc("div.actions");e.actions.forEach(S=>{const x=this._keybindingService.lookupKeybinding(S.commandId),L=x?x.getLabel():null;xI.render(w,{label:S.label,commandId:S.commandId,run:E=>{S.run(E),this.dispose()},iconClass:S.iconClass},L)}),y.appendChild(w),this._hover.containerDomNode.appendChild(y)}this._hoverContainer=Hc("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode);let v;if(e.actions&&e.actions.length>0?v=!1:((g=e.persistence)===null||g===void 0?void 0:g.hideOnHover)===void 0?v=typeof e.content=="string"||Ed(e.content)&&!e.content.value.includes("](")&&!e.content.value.includes("</a>"):v=e.persistence.hideOnHover,v&&(!((f=e.appearance)===null||f===void 0)&&f.showHoverHint)){const y=Hc("div.hover-row.status-bar"),w=Hc("div.info");w.textContent=m("hoverhint","Hold {0} key to mouse over",Rt?"Option":"Alt"),y.appendChild(w),this._hover.containerDomNode.appendChild(y)}const _=[...this._target.targetElements];v||_.push(this._hoverContainer);const C=this._register(new gj(_));if(this._register(C.onMouseOut(()=>{this._isLocked||this.dispose()})),v){const y=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new gj(y)),this._register(this._lockMouseTracker.onMouseOut(()=>{this._isLocked||this.dispose()}))}else this._lockMouseTracker=C}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const e=this._hover.containerDomNode,t=this.findLastFocusableChild(this._hover.containerDomNode);if(t){const i=r6(this._hoverContainer,Hc("div")),o=ie(this._hoverContainer,Hc("div"));i.tabIndex=0,o.tabIndex=0,this._register(j(o,"focus",r=>{e.focus(),r.preventDefault()})),this._register(j(i,"focus",r=>{t.focus(),r.preventDefault()}))}}findLastFocusableChild(e){if(e.hasChildNodes())for(let t=0;t<e.childNodes.length;t++){const i=e.childNodes.item(e.childNodes.length-t-1);if(i.nodeType===i.ELEMENT_NODE){const r=i;if(typeof r.tabIndex=="number"&&r.tabIndex>=0)return r}const o=this.findLastFocusableChild(i);if(o)return o}}render(e){var t;e.appendChild(this._hoverContainer);const o=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&mte(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(t=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||t===void 0?void 0:t.getAriaLabel());o&&Pd(o),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const e=d=>{const u=QQ(d),h=d.getBoundingClientRect();return{top:h.top*u,bottom:h.bottom*u,right:h.right*u,left:h.left*u}},t=this._target.targetElements.map(d=>e(d)),i=Math.min(...t.map(d=>d.top)),o=Math.max(...t.map(d=>d.right)),r=Math.max(...t.map(d=>d.bottom)),s=Math.min(...t.map(d=>d.left)),a=o-s,l=r-i,c={top:i,right:o,bottom:r,left:s,width:a,height:l,center:{x:s+a/2,y:i+l/2}};if(this.adjustHorizontalHoverPosition(c),this.adjustVerticalHoverPosition(c),this.adjustHoverMaxHeight(c),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:c.left+=3,c.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:c.left-=3,c.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:c.top+=3,c.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:c.top-=3,c.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px";break}c.center.x=c.left+a/2,c.center.y=c.top+l/2}this.computeXCordinate(c),this.computeYCordinate(c),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(c)),this._hover.onContentsChanged()}computeXCordinate(e){const t=this._hover.containerDomNode.clientWidth+2;this._target.x!==void 0?this._x=this._target.x:this._hoverPosition===1?this._x=e.right:this._hoverPosition===0?this._x=e.left-t:(this._hoverPointer?this._x=e.center.x-this._hover.containerDomNode.clientWidth/2:this._x=e.left,this._x+t>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-t-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=e.left+2)}computeYCordinate(e){this._target.y!==void 0?this._y=this._target.y:this._hoverPosition===3?this._y=e.top:this._hoverPosition===2?this._y=e.bottom-2:this._hoverPointer?this._y=e.center.y+this._hover.containerDomNode.clientHeight/2:this._y=e.bottom,this._y>this._targetWindow.innerHeight&&(this._y=e.bottom)}adjustHorizontalHoverPosition(e){if(this._target.x===void 0){if(this._forcePosition){const t=(this._hoverPointer?3:0)+2;this._hoverPosition===1?this._hover.containerDomNode.style.maxWidth=`${this._targetDocumentElement.clientWidth-e.right-t}px`:this._hoverPosition===0&&(this._hover.containerDomNode.style.maxWidth=`${e.left-t}px`);return}this._hoverPosition===1?this._targetDocumentElement.clientWidth-e.right<this._hover.containerDomNode.clientWidth&&(e.left>=this._hover.containerDomNode.clientWidth?this._hoverPosition=0:this._hoverPosition=2):this._hoverPosition===0&&(e.left<this._hover.containerDomNode.clientWidth&&(this._targetDocumentElement.clientWidth-e.right>=this._hover.containerDomNode.clientWidth?this._hoverPosition=1:this._hoverPosition=2),e.left-this._hover.containerDomNode.clientWidth<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1))}}adjustVerticalHoverPosition(e){this._target.y!==void 0||this._forcePosition||(this._hoverPosition===3?e.top-this._hover.containerDomNode.clientHeight<0&&(this._hoverPosition=2):this._hoverPosition===2&&e.bottom+this._hover.containerDomNode.clientHeight>this._targetWindow.innerHeight&&(this._hoverPosition=3))}adjustHoverMaxHeight(e){let t=this._targetWindow.innerHeight/2;if(this._forcePosition){const i=(this._hoverPointer?3:0)+2;this._hoverPosition===3?t=Math.min(t,e.top-i):this._hoverPosition===2&&(t=Math.min(t,this._targetWindow.innerHeight-e.bottom-i))}if(this._hover.containerDomNode.style.maxHeight=`${t}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const i=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingRight!==i&&(this._hover.contentsDomNode.style.paddingRight=i)}}setHoverPointerPosition(e){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");const t=this._hover.containerDomNode.clientHeight;t>e.height?this._hoverPointer.style.top=`${e.center.y-(this._y-t)-3}px`:this._hoverPointer.style.top=`${Math.round(t/2)-3}px`;break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");const t=this._hover.containerDomNode.clientWidth;let i=Math.round(t/2)-3;const o=this._x+i;(o<e.left||o>e.right)&&(i=e.center.x-this._x-3),this._hoverPointer.style.left=`${i}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};n3=h2e([p1(1,di),p1(2,yt),p1(3,gs),p1(4,Ge),p1(5,Dl)],n3);class gj extends fa{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(e){super(),this._elements=e,this._isMouseIn=!0,this._onMouseOut=this._register(new B),this._elements.forEach(t=>this.onmouseover(t,()=>this._onTargetMouseOver(t))),this._elements.forEach(t=>this.onmouseleave(t,()=>this._onTargetMouseLeave(t)))}_onTargetMouseOver(e){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(e)}_onTargetMouseLeave(e){this._isMouseIn=!1,this._evaluateMouseState(e)}_evaluateMouseState(e){this._clearEvaluateMouseStateTimeout(e),this._mouseTimeout=qe(e).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(e){this._mouseTimeout&&(qe(e).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class g2e{constructor(e){this._element=e,this.targetElements=[this._element]}dispose(){}}var f2e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},_v=function(n,e){return function(t,i){e(t,i,n)}};let o3=class{constructor(e,t,i,o,r,s){this._instantiationService=e,this._contextViewService=t,this._keybindingService=o,this._layoutService=r,this._accessibilityService=s,i.onDidShowContextMenu(()=>this.hideHover())}showHover(e,t,i){var o,r,s,a;if(fj(this._currentHoverOptions)===fj(e)||this._currentHover&&(!((r=(o=this._currentHoverOptions)===null||o===void 0?void 0:o.persistence)===null||r===void 0)&&r.sticky))return;this._currentHoverOptions=e,this._lastHoverOptions=e;const l=e.trapFocus||this._accessibilityService.isScreenReaderOptimized(),c=Vo();i||(l&&c?this._lastFocusedElementBeforeOpen=c:this._lastFocusedElementBeforeOpen=void 0);const d=new oe,u=this._instantiationService.createInstance(n3,e);if(!((s=e.persistence)===null||s===void 0)&&s.sticky&&(u.isLocked=!0),u.onDispose(()=>{var g,f;((g=this._currentHover)===null||g===void 0?void 0:g.domNode)&&eJ(this._currentHover.domNode)&&((f=this._lastFocusedElementBeforeOpen)===null||f===void 0||f.focus()),this._currentHoverOptions===e&&(this._currentHoverOptions=void 0),d.dispose()}),!e.container){const g=e.target instanceof HTMLElement?e.target:e.target.targetElements[0];e.container=this._layoutService.getContainer(qe(g))}const h=this._contextViewService;if(h.showContextView(new p2e(u,t),e.container),u.onRequestLayout(()=>h.layout()),!((a=e.persistence)===null||a===void 0)&&a.sticky)d.add(j(qe(e.container).document,ge.MOUSE_DOWN,g=>{To(g.target,u.domNode)||this.doHideHover()}));else{if("targetElements"in e.target)for(const f of e.target.targetElements)d.add(j(f,ge.CLICK,()=>this.hideHover()));else d.add(j(e.target,ge.CLICK,()=>this.hideHover()));const g=Vo();if(g){const f=qe(g).document;d.add(j(g,ge.KEY_DOWN,p=>{var b;return this._keyDown(p,u,!!(!((b=e.persistence)===null||b===void 0)&&b.hideOnKeyDown))})),d.add(j(f,ge.KEY_DOWN,p=>{var b;return this._keyDown(p,u,!!(!((b=e.persistence)===null||b===void 0)&&b.hideOnKeyDown))})),d.add(j(g,ge.KEY_UP,p=>this._keyUp(p,u))),d.add(j(f,ge.KEY_UP,p=>this._keyUp(p,u)))}}if("IntersectionObserver"in gi){const g=new IntersectionObserver(p=>this._intersectionChange(p,u),{threshold:0}),f="targetElements"in e.target?e.target.targetElements[0]:e.target;g.observe(f),d.add(je(()=>g.disconnect()))}return this._currentHover=u,u}hideHover(){var e;!((e=this._currentHover)===null||e===void 0)&&e.isLocked||!this._currentHoverOptions||this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewService.hideContextView()}_intersectionChange(e,t){e[e.length-1].isIntersecting||t.dispose()}_keyDown(e,t,i){var o,r;if(e.key==="Alt"){t.isLocked=!0;return}const s=new Ni(e);this._keybindingService.resolveKeyboardEvent(s).getSingleModifierDispatchChords().some(l=>!!l)||this._keybindingService.softDispatch(s,s.target).kind!==0||i&&(!(!((o=this._currentHoverOptions)===null||o===void 0)&&o.trapFocus)||e.key!=="Tab")&&(this.hideHover(),(r=this._lastFocusedElementBeforeOpen)===null||r===void 0||r.focus())}_keyUp(e,t){var i;e.key==="Alt"&&(t.isLocked=!1,t.isMouseIn||(this.hideHover(),(i=this._lastFocusedElementBeforeOpen)===null||i===void 0||i.focus()))}};o3=f2e([_v(0,Ge),_v(1,Yd),_v(2,Ps),_v(3,di),_v(4,Xm),_v(5,Dl)],o3);function fj(n){var e;if(n!==void 0)return(e=n==null?void 0:n.id)!==null&&e!==void 0?e:n}class p2e{get anchorPosition(){return this._hover.anchor}constructor(e,t=!1){this._hover=e,this._focus=t}render(e){return this._hover.render(e),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}Ot(o7,o3,1);ja((n,e)=>{const t=n.getColor(JJ);t&&(e.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${t.transparent(.5)}; }`))});const BS=Et("IWorkspaceEditService");class v7{constructor(e){this.metadata=e}static convert(e){return e.edits.map(t=>{if(Wg.is(t))return Wg.lift(t);if(Yb.is(t))return Yb.lift(t);throw new Error("Unsupported edit")})}}class Wg extends v7{static is(e){return e instanceof Wg?!0:Tr(e)&&Ke.isUri(e.resource)&&Tr(e.textEdit)}static lift(e){return e instanceof Wg?e:new Wg(e.resource,e.textEdit,e.versionId,e.metadata)}constructor(e,t,i=void 0,o){super(o),this.resource=e,this.textEdit=t,this.versionId=i}}class Yb extends v7{static is(e){return e instanceof Yb?!0:Tr(e)&&(!!e.newResource||!!e.oldResource)}static lift(e){return e instanceof Yb?e:new Yb(e.oldResource,e.newResource,e.options,e.metadata)}constructor(e,t,i={},o){super(o),this.oldResource=e,this.newResource=t,this.options=i}}const or={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0},EI=Object.freeze({id:"editor",order:5,type:"object",title:m("editorConfigurationTitle","Editor"),scope:5}),P2={...EI,properties:{"editor.tabSize":{type:"number",default:qo.tabSize,minimum:1,markdownDescription:m("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:m("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:qo.insertSpaces,markdownDescription:m("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:qo.detectIndentation,markdownDescription:m("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:qo.trimAutoWhitespace,description:m("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:qo.largeFileOptimizations,description:m("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[m("wordBasedSuggestions.off","Turn off Word Based Suggestions."),m("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),m("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),m("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:m("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[m("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),m("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),m("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:m("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:m("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:m("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:m("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:m("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:m("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:m("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:m("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:m("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:m("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:m("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:m("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:or.maxComputationTime,description:m("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:or.maxFileSize,description:m("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:or.renderSideBySide,description:m("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:or.renderSideBySideInlineBreakpoint,description:m("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:or.useInlineViewWhenSpaceIsLimited,description:m("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:or.renderMarginRevertIcon,description:m("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:or.ignoreTrimWhitespace,description:m("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:or.renderIndicators,description:m("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:or.diffCodeLens,description:m("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:or.diffWordWrap,markdownEnumDescriptions:[m("wordWrap.off","Lines will never wrap."),m("wordWrap.on","Lines will wrap at the viewport width."),m("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:or.diffAlgorithm,markdownEnumDescriptions:[m("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),m("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:or.hideUnchangedRegions.enabled,markdownDescription:m("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:or.hideUnchangedRegions.revealLineCount,markdownDescription:m("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:or.hideUnchangedRegions.minimumLineCount,markdownDescription:m("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:or.hideUnchangedRegions.contextLineCount,markdownDescription:m("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:or.experimental.showMoves,markdownDescription:m("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:or.experimental.showEmptyDecorations,description:m("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}};function m2e(n){return typeof n.type<"u"||typeof n.anyOf<"u"}for(const n of ob){const e=n.schema;if(typeof e<"u")if(m2e(e))P2.properties[`editor.${n.name}`]=e;else for(const t in e)Object.hasOwnProperty.call(e,t)&&(P2.properties[t]=e[t])}let fk=null;function Tte(){return fk===null&&(fk=Object.create(null),Object.keys(P2.properties).forEach(n=>{fk[n]=!0})),fk}function v2e(n){return Tte()[`editor.${n}`]||!1}function b2e(n){return Tte()[`diffEditor.${n}`]||!1}const _2e=nn.as(Rc.Configuration);_2e.registerConfiguration(P2);class zi{static insert(e,t){return{range:new D(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}function pk(n){return Object.isFrozen(n)?n:Xfe(n)}class Oo{constructor(e={},t=[],i=[],o){this._contents=e,this._keys=t,this._overrides=i,this.raw=o,this.overrideConfigurations=new Map}get rawConfiguration(){var e;if(!this._rawConfiguration)if(!((e=this.raw)===null||e===void 0)&&e.length){const t=this.raw.map(i=>{if(i instanceof Oo)return i;const o=new C2e("");return o.parseRaw(i),o.configurationModel});this._rawConfiguration=t.reduce((i,o)=>o===i?o:i.merge(o),t[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(e){return e?Uz(this.contents,e):this.contents}inspect(e,t){const i=this;return{get value(){return pk(i.rawConfiguration.getValue(e))},get override(){return t?pk(i.rawConfiguration.getOverrideValue(e,t)):void 0},get merged(){return pk(t?i.rawConfiguration.override(t).getValue(e):i.rawConfiguration.getValue(e))},get overrides(){const o=[];for(const{contents:r,identifiers:s,keys:a}of i.rawConfiguration.overrides){const l=new Oo(r,a).getValue(e);l!==void 0&&o.push({identifiers:s,value:l})}return o.length?pk(o):void 0}}}getOverrideValue(e,t){const i=this.getContentsForOverrideIdentifer(t);return i?e?Uz(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){var t,i;const o=gu(this.contents),r=gu(this.overrides),s=[...this.keys],a=!((t=this.raw)===null||t===void 0)&&t.length?[...this.raw]:[this];for(const l of e)if(a.push(...!((i=l.raw)===null||i===void 0)&&i.length?l.raw:[l]),!l.isEmpty()){this.mergeContents(o,l.contents);for(const c of l.overrides){const[d]=r.filter(u=>en(u.identifiers,c.identifiers));d?(this.mergeContents(d.contents,c.contents),d.keys.push(...c.keys),d.keys=ch(d.keys)):r.push(gu(c))}for(const c of l.keys)s.indexOf(c)===-1&&s.push(c)}return new Oo(o,s,r,a.every(l=>l instanceof Oo)?void 0:a)}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;const i={};for(const o of ch([...Object.keys(this.contents),...Object.keys(t)])){let r=this.contents[o];const s=t[o];s&&(typeof r=="object"&&typeof s=="object"?(r=gu(r),this.mergeContents(r,s)):r=s),i[o]=r}return new Oo(i,this.keys,this.overrides)}mergeContents(e,t){for(const i of Object.keys(t)){if(i in e&&Tr(e[i])&&Tr(t[i])){this.mergeContents(e[i],t[i]);continue}e[i]=gu(t[i])}}getContentsForOverrideIdentifer(e){let t=null,i=null;const o=r=>{r&&(i?this.mergeContents(i,r):i=gu(r))};for(const r of this.overrides)r.identifiers.length===1&&r.identifiers[0]===e?t=r.contents:r.identifiers.includes(e)&&o(r.contents);return o(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(e,t){this.updateValue(e,t,!0)}setValue(e,t){this.updateValue(e,t,!1)}removeValue(e){const t=this.keys.indexOf(e);t!==-1&&(this.keys.splice(t,1),I_e(this.contents,e),rf.test(e)&&this.overrides.splice(this.overrides.findIndex(i=>en(i.identifiers,o2(e))),1))}updateValue(e,t,i){xJ(this.contents,e,t,o=>console.error(o)),i=i||this.keys.indexOf(e)===-1,i&&this.keys.push(e),rf.test(e)&&this.overrides.push({identifiers:o2(e),keys:Object.keys(this.contents[e]),contents:e4(this.contents[e],o=>console.error(o))})}}class C2e{constructor(e){this._name=e,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new Oo}parseRaw(e,t){this._raw=e;const{contents:i,keys:o,overrides:r,restricted:s,hasExcludedProperties:a}=this.doParseRaw(e,t);this._configurationModel=new Oo(i,o,r,a?[e]:void 0),this._restrictedConfigurations=s||[]}doParseRaw(e,t){const i=nn.as(Rc.Configuration).getConfigurationProperties(),o=this.filter(e,i,!0,t);e=o.raw;const r=e4(e,l=>console.error(`Conflict in settings file ${this._name}: ${l}`)),s=Object.keys(e),a=this.toOverrides(e,l=>console.error(`Conflict in settings file ${this._name}: ${l}`));return{contents:r,keys:s,overrides:a,restricted:o.restricted,hasExcludedProperties:o.hasExcludedProperties}}filter(e,t,i,o){var r,s,a;let l=!1;if(!(o!=null&&o.scopes)&&!(o!=null&&o.skipRestricted)&&!(!((r=o==null?void 0:o.exclude)===null||r===void 0)&&r.length))return{raw:e,restricted:[],hasExcludedProperties:l};const c={},d=[];for(const u in e)if(rf.test(u)&&i){const h=this.filter(e[u],t,!1,o);c[u]=h.raw,l=l||h.hasExcludedProperties,d.push(...h.restricted)}else{const h=t[u],g=h?typeof h.scope<"u"?h.scope:3:void 0;h!=null&&h.restricted&&d.push(u),!(!((s=o.exclude)===null||s===void 0)&&s.includes(u))&&(!((a=o.include)===null||a===void 0)&&a.includes(u)||(g===void 0||o.scopes===void 0||o.scopes.includes(g))&&!(o.skipRestricted&&(h!=null&&h.restricted)))?c[u]=e[u]:l=!0}return{raw:c,restricted:d,hasExcludedProperties:l}}toOverrides(e,t){const i=[];for(const o of Object.keys(e))if(rf.test(o)){const r={};for(const s in e[o])r[s]=e[o][s];i.push({identifiers:o2(o),keys:Object.keys(r),contents:e4(r,t)})}return i}}class y2e{constructor(e,t,i,o,r,s,a,l,c,d,u,h,g){this.key=e,this.overrides=t,this._value=i,this.overrideIdentifiers=o,this.defaultConfiguration=r,this.policyConfiguration=s,this.applicationConfiguration=a,this.userConfiguration=l,this.localUserConfiguration=c,this.remoteUserConfiguration=d,this.workspaceConfiguration=u,this.folderConfigurationModel=h,this.memoryConfigurationModel=g}toInspectValue(e){return(e==null?void 0:e.value)!==void 0||(e==null?void 0:e.override)!==void 0||(e==null?void 0:e.overrides)!==void 0?e:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.toInspectValue(this.userInspectValue)}}class TI{constructor(e,t,i,o,r=new Oo,s=new Oo,a=new Cn,l=new Oo,c=new Cn){this._defaultConfiguration=e,this._policyConfiguration=t,this._applicationConfiguration=i,this._localUserConfiguration=o,this._remoteUserConfiguration=r,this._workspaceConfiguration=s,this._folderConfigurations=a,this._memoryConfiguration=l,this._memoryConfigurationByResource=c,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Cn,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidatedConfigurationModel(e,t,i).getValue(e)}updateValue(e,t,i={}){let o;i.resource?(o=this._memoryConfigurationByResource.get(i.resource),o||(o=new Oo,this._memoryConfigurationByResource.set(i.resource,o))):o=this._memoryConfiguration,t===void 0?o.removeValue(e):o.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){const o=this.getConsolidatedConfigurationModel(e,t,i),r=this.getFolderConfigurationModelForResource(t.resource,i),s=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration,a=new Set;for(const l of o.overrides)for(const c of l.identifiers)o.getOverrideValue(e,c)!==void 0&&a.add(c);return new y2e(e,t,o.getValue(e),a.size?[...a]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,i?this._workspaceConfiguration:void 0,r||void 0,s)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(e,t,i){let o=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier&&(o=o.override(t.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(e)!==void 0&&(o=o.merge(this._policyConfiguration)),o}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const o=t.getFolder(e);o&&(i=this.getFolderConsolidatedConfiguration(o.uri)||i);const r=this._memoryConfigurationByResource.get(e);r&&(i=i.merge(r))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),o=this._folderConfigurations.get(e);o?(t=i.merge(o),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{const{contents:i,overrides:o,keys:r}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:o,keys:r}]),e},[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.policy),o=this.parseConfigurationModel(e.application),r=this.parseConfigurationModel(e.user),s=this.parseConfigurationModel(e.workspace),a=e.folders.reduce((l,c)=>(l.set(Ke.revive(c[0]),this.parseConfigurationModel(c[1])),l),new Cn);return new TI(t,i,o,r,new Oo,s,a,new Oo,new Cn)}static parseConfigurationModel(e){return new Oo(e.contents,e.keys,e.overrides)}}class w2e{constructor(e,t,i,o){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=o,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const r of e.keys)this.affectedKeys.add(r);for(const[,r]of e.overrides)for(const s of r)this.affectedKeys.add(s);this._affectsConfigStr=this._marker;for(const r of this.affectedKeys)this._affectsConfigStr+=r+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=TI.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;const o=this._marker+e,r=this._affectsConfigStr.indexOf(o);if(r<0)return!1;const s=r+o.length;if(s>=this._affectsConfigStr.length)return!1;const a=this._affectsConfigStr.charCodeAt(s);if(a!==this._markerCode1&&a!==this._markerCode2)return!1;if(t){const l=this.previousConfiguration?this.previousConfiguration.getValue(e,t,(i=this.previous)===null||i===void 0?void 0:i.workspace):void 0,c=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!na(l,c)}return!0}}const O2={kind:0},S2e={kind:1};function x2e(n,e,t){return{kind:2,commandId:n,commandArgs:e,isBubble:t}}class VC{constructor(e,t,i){var o;this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const r of e){const s=r.command;s&&s.charAt(0)!=="-"&&this._defaultBoundCommands.set(s,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=VC.handleRemovals([].concat(e).concat(t));for(let r=0,s=this._keybindings.length;r<s;r++){const a=this._keybindings[r];if(a.chords.length===0)continue;const l=(o=a.when)===null||o===void 0?void 0:o.substituteConstants();l&&l.type===0||this._addKeyPress(a.chords[0],a)}}static _isTargetedForRemoval(e,t,i){if(t){for(let o=0;o<t.length;o++)if(t[o]!==e.chords[o])return!1}return!(i&&i.type!==1&&(!e.when||!jbe(i,e.when)))}static handleRemovals(e){const t=new Map;for(let o=0,r=e.length;o<r;o++){const s=e[o];if(s.command&&s.command.charAt(0)==="-"){const a=s.command.substring(1);t.has(a)?t.get(a).push(s):t.set(a,[s])}}if(t.size===0)return e;const i=[];for(let o=0,r=e.length;o<r;o++){const s=e[o];if(!s.command||s.command.length===0){i.push(s);continue}if(s.command.charAt(0)==="-")continue;const a=t.get(s.command);if(!a||!s.isDefault){i.push(s);continue}let l=!1;for(const c of a){const d=c.when;if(this._isTargetedForRemoval(s,c.chords,d)){l=!0;break}}if(!l){i.push(s);continue}}return i}_addKeyPress(e,t){const i=this._map.get(e);if(typeof i>"u"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(let o=i.length-1;o>=0;o--){const r=i[o];if(r.command===t.command)continue;let s=!0;for(let a=1;a<r.chords.length&&a<t.chords.length;a++)if(r.chords[a]!==t.chords[a]){s=!1;break}s&&VC.whenIsEntirelyIncluded(r.when,t.when)&&this._removeFromLookupMap(r)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);typeof t>"u"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;const t=this._lookupMap.get(e.command);if(!(typeof t>"u")){for(let i=0,o=t.length;i<o;i++)if(t[i]===e){t.splice(i,1);return}}}static whenIsEntirelyIncluded(e,t){return!t||t.type===1?!0:!e||e.type===1?!1:Q5(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(typeof i>"u"||i.length===0)return null;if(i.length===1)return i[0];for(let o=i.length-1;o>=0;o--){const r=i[o];if(t.contextMatchesRules(r.when))return r}return i[i.length-1]}resolve(e,t,i){const o=[...t,i];this._log(`| Resolving ${o}`);const r=this._map.get(o[0]);if(r===void 0)return this._log("\\ No keybinding entries."),O2;let s=null;if(o.length<2)s=r;else{s=[];for(let l=0,c=r.length;l<c;l++){const d=r[l];if(o.length>d.chords.length)continue;let u=!0;for(let h=1;h<o.length;h++)if(d.chords[h]!==o[h]){u=!1;break}u&&s.push(d)}}const a=this._findCommand(e,s);return a?o.length<a.chords.length?(this._log(`\\ From ${s.length} keybinding entries, awaiting ${a.chords.length-o.length} more chord(s), when: ${pj(a.when)}, source: ${mj(a)}.`),S2e):(this._log(`\\ From ${s.length} keybinding entries, matched ${a.command}, when: ${pj(a.when)}, source: ${mj(a)}.`),x2e(a.command,a.commandArgs,a.bubble)):(this._log(`\\ From ${s.length} keybinding entries, no when clauses matched the context.`),O2)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){const o=t[i];if(VC._contextMatchesRules(e,o.when))return o}return null}static _contextMatchesRules(e,t){return t?t.evaluate(e):!0}}function pj(n){return n?`${n.serialize()}`:"no when condition"}function mj(n){return n.extensionId?n.isBuiltinExtension?`built-in extension ${n.extensionId}`:`user extension ${n.extensionId}`:n.isDefault?"built-in":"user"}const k2e=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class L2e extends z{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:me.None}get inChordMode(){return this._currentChords.length>0}constructor(e,t,i,o,r){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=o,this._logService=r,this._onDidUpdateKeybindings=this._register(new B),this._currentChords=[],this._currentChordChecker=new Q8,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=_b.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Ll,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){this._log("/ Soft dispatching keyboard event");const i=this.resolveKeyboardEvent(e);if(i.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),O2;const[o]=i.getDispatchChords();if(o===null)return this._log("\\ Keyboard event cannot be dispatched"),O2;const r=this._contextKeyService.getContext(t),s=this._currentChords.map(({keypress:a})=>a);return this._getResolver().resolve(r,s,o)}_scheduleLeaveChordMode(){const e=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-e>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(e,t){switch(this._currentChords.push({keypress:e,label:t}),this._currentChords.length){case 0:throw P8("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(m("first.chord","({0}) was pressed. Waiting for second key of chord...",t));break;default:{const i=this._currentChords.map(({label:o})=>o).join(", ");this._currentChordStatusMessage=this._notificationService.status(m("next.chord","({0}) was pressed. Waiting for next key of chord...",i))}}this._scheduleLeaveChordMode(),LC.enabled&&LC.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],LC.enable()}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[o]=i.getSingleModifierDispatchChords();if(o)return this._ignoreSingleModifiers.has(o)?(this._log(`+ Ignoring single modifier ${o} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=_b.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=_b.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${o}.`),this._currentSingleModifier=o,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):o===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${o} ${o}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${o}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[r]=i.getChords();return this._ignoreSingleModifiers=new _b(r),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){var o;let r=!1;if(e.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let s=null,a=null;if(i){const[u]=e.getSingleModifierDispatchChords();s=u,a=u?[u]:[]}else[s]=e.getDispatchChords(),a=this._currentChords.map(({keypress:u})=>u);if(s===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),r;const l=this._contextKeyService.getContext(t),c=e.getLabel(),d=this._getResolver().resolve(l,a,s);switch(d.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",c,"[ No matching keybinding ]"),this.inChordMode){const u=this._currentChords.map(({label:h})=>h).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${u}, ${c}".`),this._notificationService.status(m("missing.chord","The key combination ({0}, {1}) is not a command.",u,c),{hideAfter:10*1e3}),this._leaveChordMode(),r=!0}return r}case 1:return this._logService.trace("KeybindingService#dispatch",c,"[ Several keybindings match - more chords needed ]"),r=!0,this._expectAnotherChord(s,c),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),r;case 2:{if(this._logService.trace("KeybindingService#dispatch",c,`[ Will dispatch command ${d.commandId} ]`),d.commandId===null||d.commandId===""){if(this.inChordMode){const u=this._currentChords.map(({label:h})=>h).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${u}, ${c}".`),this._notificationService.status(m("missing.chord","The key combination ({0}, {1}) is not a command.",u,c),{hideAfter:10*1e3}),this._leaveChordMode(),r=!0}}else{this.inChordMode&&this._leaveChordMode(),d.isBubble||(r=!0),this._log(`+ Invoking command ${d.commandId}.`),this._currentlyDispatchingCommandId=d.commandId;try{typeof d.commandArgs>"u"?this._commandService.executeCommand(d.commandId).then(void 0,u=>this._notificationService.warn(u)):this._commandService.executeCommand(d.commandId,d.commandArgs).then(void 0,u=>this._notificationService.warn(u))}finally{this._currentlyDispatchingCommandId=null}k2e.test(d.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:d.commandId,from:"keybinding",detail:(o=e.getUserSettingsLabel())!==null&&o!==void 0?o:void 0})}return r}}}mightProducePrintableCharacter(e){return e.ctrlKey||e.metaKey?!1:e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30}}class _b{constructor(e){this._ctrlKey=e?e.ctrlKey:!1,this._shiftKey=e?e.shiftKey:!1,this._altKey=e?e.altKey:!1,this._metaKey=e?e.metaKey:!1}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}_b.EMPTY=new _b(null);class vj{constructor(e,t,i,o,r,s,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.chords=e?r3(e.getDispatchChords()):[],e&&this.chords.length===0&&(this.chords=r3(e.getSingleModifierDispatchChords())),this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=o,this.isDefault=r,this.extensionId=s,this.isBuiltinExtension=a}}function r3(n){const e=[];for(let t=0,i=n.length;t<i;t++){const o=n[t];if(!o)return[];e.push(o)}return e}class II{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;const o=[];for(let r=0,s=t.length;r<s;r++){const a=t[r],l=i(a);if(l===null)return null;o[r]=I2e(a,l,this.modifierLabels[e])}return o.join(" ")}}const b7=new II({ctrlKey:"",shiftKey:"",altKey:"",metaKey:"",separator:""},{ctrlKey:m({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:m({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:m({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:m({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:m({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:m({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:m({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:m({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),D2e=new II({ctrlKey:m({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:m({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:m({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:m({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:m({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:m({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:m({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:m({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:m({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:m({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:m({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:m({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),E2e=new II({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),T2e=new II({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function I2e(n,e,t){if(e===null)return"";const i=[];return n.ctrlKey&&i.push(t.ctrlKey),n.shiftKey&&i.push(t.shiftKey),n.altKey&&i.push(t.altKey),n.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}class N2e extends uve{constructor(e,t){if(super(),t.length===0)throw Ra("chords");this._os=e,this._chords=t}getLabel(){return b7.toLabel(this._os,this._chords,e=>this._getLabel(e))}getAriaLabel(){return D2e.toLabel(this._os,this._chords,e=>this._getAriaLabel(e))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:E2e.toLabel(this._os,this._chords,e=>this._getElectronAccelerator(e))}getUserSettingsLabel(){return T2e.toLabel(this._os,this._chords,e=>this._getUserSettingsLabel(e))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(e=>this._getChord(e))}_getChord(e){return new dve(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchChords(){return this._chords.map(e=>this._getChordDispatch(e))}getSingleModifierDispatchChords(){return this._chords.map(e=>this._getSingleModifierChordDispatch(e))}}class cw extends N2e{constructor(e,t){super(t,e)}_keyCodeToUILabel(e){if(this._os===2)switch(e){case 15:return"";case 16:return"";case 17:return"";case 18:return""}return bu.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":bu.toString(e.keyCode)}_getElectronAccelerator(e){return bu.toElectronAccelerator(e.keyCode)}_getUserSettingsLabel(e){if(e.isDuplicateModifierCase())return"";const t=bu.toUserSettingsUS(e.keyCode);return t&&t.toLowerCase()}_getChordDispatch(e){return cw.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=bu.toString(e.keyCode),t}_getSingleModifierChordDispatch(e){return e.keyCode===5&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":e.keyCode===4&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":e.keyCode===6&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":e.keyCode===57&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}static _scanCodeToKeyCode(e){const t=H8[e];if(t!==-1)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(e){if(!e)return null;if(e instanceof hh)return e;const t=this._scanCodeToKeyCode(e.scanCode);return t===0?null:new hh(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveKeybinding(e,t){const i=r3(e.chords.map(o=>this._toKeyCodeChord(o)));return i.length>0?[new cw(i,t)]:[]}}const z_=Et("labelService"),Ite=Et("progressService");class Yu{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}}Yu.None=Object.freeze({report(){}});const Ff=Et("editorProgressService");class R2e{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}class M2e{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?U8(e,this._value,0,e.length,this._from,this._to):bS(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class A2e{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let t=e.length-1;t>=0;t--,this._valueLen--){const i=this._value.charCodeAt(t);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?U8(e,this._value,0,e.length,this._from,this._to):bS(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class P2e{constructor(e,t){this._ignorePathCasing=e,this._ignoreQueryAndFragment=t,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new A2e(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(e)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return W5(e,this._value.scheme);if(this._states[this._stateIdx]===2)return W5(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return Iy(e,this._value.query);if(this._states[this._stateIdx]===5)return Iy(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class mk{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e,t;return(t=(e=this.left)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}get heightRight(){var e,t;return(t=(e=this.right)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}}class Xb{static forUris(e=()=>!1,t=()=>!1){return new Xb(new P2e(e,t))}static forStrings(){return new Xb(new R2e)}static forConfigKeys(){return new Xb(new M2e)}constructor(e){this._iter=e}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let o;this._root||(this._root=new mk,this._root.segment=i.value());const r=[];for(o=this._root;;){const a=i.cmp(o.segment);if(a>0)o.left||(o.left=new mk,o.left.segment=i.value()),r.push([-1,o]),o=o.left;else if(a<0)o.right||(o.right=new mk,o.right.segment=i.value()),r.push([1,o]),o=o.right;else if(i.hasNext())i.next(),o.mid||(o.mid=new mk,o.mid.segment=i.value()),r.push([0,o]),o=o.mid;else break}const s=o.value;o.value=t,o.key=e;for(let a=r.length-1;a>=0;a--){const l=r[a][1];l.updateHeight();const c=l.balanceFactor();if(c<-1||c>1){const d=r[a][0],u=r[a+1][0];if(d===1&&u===1)r[a][1]=l.rotateLeft();else if(d===-1&&u===-1)r[a][1]=l.rotateRight();else if(d===1&&u===-1)l.right=r[a+1][1]=r[a+1][1].rotateRight(),r[a][1]=l.rotateLeft();else if(d===-1&&u===1)l.left=r[a+1][1]=r[a+1][1].rotateLeft(),r[a][1]=l.rotateRight();else throw new Error;if(a>0)switch(r[a-1][0]){case-1:r[a-1][1].left=r[a][1];break;case 1:r[a-1][1].right=r[a][1];break;case 0:r[a-1][1].mid=r[a][1];break}else this._root=r[0][1]}}return s}get(e){var t;return(t=this._getNode(e))===null||t===void 0?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const o=t.cmp(i.segment);if(o>0)i=i.left;else if(o<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){var i;const o=this._iter.reset(e),r=[];let s=this._root;for(;s;){const a=o.cmp(s.segment);if(a>0)r.push([-1,s]),s=s.left;else if(a<0)r.push([1,s]),s=s.right;else if(o.hasNext())o.next(),r.push([0,s]),s=s.mid;else break}if(s){if(t?(s.left=void 0,s.mid=void 0,s.right=void 0,s.height=1):(s.key=void 0,s.value=void 0),!s.mid&&!s.value)if(s.left&&s.right){const a=this._min(s.right);if(a.key){const{key:l,value:c,segment:d}=a;this._delete(a.key,!1),s.key=l,s.value=c,s.segment=d}}else{const a=(i=s.left)!==null&&i!==void 0?i:s.right;if(r.length>0){const[l,c]=r[r.length-1];switch(l){case-1:c.left=a;break;case 0:c.mid=a;break;case 1:c.right=a;break}}else this._root=a}for(let a=r.length-1;a>=0;a--){const l=r[a][1];l.updateHeight();const c=l.balanceFactor();if(c>1?(l.right.balanceFactor()>=0||(l.right=l.right.rotateRight()),r[a][1]=l.rotateLeft()):c<-1&&(l.left.balanceFactor()<=0||(l.left=l.left.rotateLeft()),r[a][1]=l.rotateRight()),a>0)switch(r[a-1][0]){case-1:r[a-1][1].left=r[a][1];break;case 1:r[a-1][1].right=r[a][1];break;case 0:r[a-1][1].mid=r[a][1];break}else this._root=r[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let i=this._root,o;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),o=i.value||o,i=i.mid;else break}return i&&i.value||o}findSuperstr(e){return this._findSuperstrOrElement(e,!1)}_findSuperstrOrElement(e,t){const i=this._iter.reset(e);let o=this._root;for(;o;){const r=i.cmp(o.segment);if(r>0)o=o.left;else if(r<0)o=o.right;else if(i.hasNext())i.next(),o=o.mid;else return o.mid?this._entries(o.mid):t?o.value:void 0}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(e){const t=[];return this._dfsEntries(e,t),t[Symbol.iterator]()}_dfsEntries(e,t){e&&(e.left&&this._dfsEntries(e.left,t),e.value&&t.push([e.key,e.value]),e.mid&&this._dfsEntries(e.mid,t),e.right&&this._dfsEntries(e.right,t))}}const Cm=Et("contextService");function s3(n){const e=n;return typeof(e==null?void 0:e.id)=="string"&&Ke.isUri(e.uri)}function O2e(n){const e=n;return typeof(e==null?void 0:e.id)=="string"&&!s3(n)&&!V2e(n)}const F2e={id:"ext-dev"},B2e={id:"empty-window"};function W2e(n,e){if(typeof n=="string"||typeof n>"u")return typeof n=="string"?{id:Mg(n)}:e?F2e:B2e;const t=n;return t.configuration?{id:t.id,configPath:t.configuration}:t.folders.length===1?{id:t.id,uri:t.folders[0].uri}:{id:t.id}}function V2e(n){const e=n;return typeof(e==null?void 0:e.id)=="string"&&Ke.isUri(e.configPath)}class H2e{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const a3="code-workspace";m("codeWorkspace","Code Workspace");const Nte="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function z2e(n){return n.id===Nte}var l3;(function(n){n.inspectTokensAction=m("inspectTokens","Developer: Inspect Tokens")})(l3||(l3={}));var F2;(function(n){n.gotoLineActionLabel=m("gotoLineActionLabel","Go to Line/Column...")})(F2||(F2={}));var c3;(function(n){n.helpQuickAccessActionLabel=m("helpQuickAccess","Show all Quick Access Providers")})(c3||(c3={}));var B2;(function(n){n.quickCommandActionLabel=m("quickCommandActionLabel","Command Palette"),n.quickCommandHelp=m("quickCommandActionHelp","Show And Run Commands")})(B2||(B2={}));var dw;(function(n){n.quickOutlineActionLabel=m("quickOutlineActionLabel","Go to Symbol..."),n.quickOutlineByCategoryActionLabel=m("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(dw||(dw={}));var W2;(function(n){n.editorViewAccessibleLabel=m("editorViewAccessibleLabel","Editor content"),n.accessibilityHelpMessage=m("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(W2||(W2={}));var d3;(function(n){n.toggleHighContrast=m("toggleHighContrast","Toggle High Contrast Theme")})(d3||(d3={}));var u3;(function(n){n.bulkEditServiceSummary=m("bulkEditServiceSummary","Made {0} edits in {1} files")})(u3||(u3={}));const Rte=Et("workspaceTrustManagementService");var $o;(function(n){function e(r,s){if(r.start>=s.end||s.start>=r.end)return{start:0,end:0};const a=Math.max(r.start,s.start),l=Math.min(r.end,s.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}n.intersect=e;function t(r){return r.end-r.start<=0}n.isEmpty=t;function i(r,s){return!t(e(r,s))}n.intersects=i;function o(r,s){const a=[],l={start:r.start,end:Math.min(s.start,r.end)},c={start:Math.max(s.end,r.start),end:r.end};return t(l)||a.push(l),t(c)||a.push(c),a}n.relativeComplement=o})($o||($o={}));function U2e(n){const e=n;return!!e&&typeof e.x=="number"&&typeof e.y=="number"}var mg;(function(n){n[n.AVOID=0]="AVOID",n[n.ALIGN=1]="ALIGN"})(mg||(mg={}));function Cb(n,e,t){const i=t.mode===mg.ALIGN?t.offset:t.offset+t.size,o=t.mode===mg.ALIGN?t.offset+t.size:t.offset;return t.position===0?e<=n-i?i:e<=o?o-e:Math.max(n-e,0):e<=o?o-e:e<=n-i?i:0}class U_ extends z{constructor(e,t){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=z.None,this.toDisposeOnSetContainer=z.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=ue(".context-view"),xr(this.view),this.setContainer(e,t),this._register(je(()=>this.setContainer(null,1)))}setContainer(e,t){var i;this.useFixedPosition=t!==1;const o=this.useShadowDOM;if(this.useShadowDOM=t===3,!(e===this.container&&o===this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(i=this.shadowRootHostElement)===null||i===void 0||i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e)){if(this.container=e,this.useShadowDOM){this.shadowRootHostElement=ue(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const s=document.createElement("style");s.textContent=$2e,this.shadowRoot.appendChild(s),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(ue("slot"))}else this.container.appendChild(this.view);const r=new oe;U_.BUBBLE_UP_EVENTS.forEach(s=>{r.add(fn(this.container,s,a=>{this.onDOMEvent(a,!1)}))}),U_.BUBBLE_DOWN_EVENTS.forEach(s=>{r.add(fn(this.container,s,a=>{this.onDOMEvent(a,!0)},!0))}),this.toDisposeOnSetContainer=r}}show(e){var t,i;this.isVisible()&&this.hide(),Xo(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",bs(this.view),this.toDisposeOnClean=e.render(this.view)||z.None,this.delegate=e,this.doLayout(),(i=(t=this.delegate).focus)===null||i===void 0||i.call(t)}getViewElement(){return this.view}layout(){var e,t;if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(bc&&Y8.pointerEvents)){this.hide();return}(t=(e=this.delegate)===null||e===void 0?void 0:e.layout)===null||t===void 0||t.call(e),this.doLayout()}}doLayout(){if(!this.isVisible())return;const e=this.delegate.getAnchor();let t;if(e instanceof HTMLElement){const h=In(e),g=QQ(e);t={top:h.top*g,left:h.left*g,width:h.width*g,height:h.height*g}}else U2e(e)?t={top:e.y,left:e.x,width:e.width||1,height:e.height||2}:t={top:e.posy,left:e.posx,width:2,height:2};const i=yr(this.view),o=Iu(this.view),r=this.delegate.anchorPosition||0,s=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;let l,c;const d=lbe();if(a===0){const h={offset:t.top-d.pageYOffset,size:t.height,position:r===0?0:1},g={offset:t.left,size:t.width,position:s===0?0:1,mode:mg.ALIGN};l=Cb(d.innerHeight,o,h)+d.pageYOffset,$o.intersects({start:l,end:l+o},{start:h.offset,end:h.offset+h.size})&&(g.mode=mg.AVOID),c=Cb(d.innerWidth,i,g)}else{const h={offset:t.left,size:t.width,position:s===0?0:1},g={offset:t.top,size:t.height,position:r===0?0:1,mode:mg.ALIGN};c=Cb(d.innerWidth,i,h),$o.intersects({start:c,end:c+i},{start:h.offset,end:h.offset+h.size})&&(g.mode=mg.AVOID),l=Cb(d.innerHeight,o,g)+d.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(r===0?"bottom":"top"),this.view.classList.add(s===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const u=In(this.container);this.view.style.top=`${l-(this.useFixedPosition?In(this.view).top:u.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?In(this.view).left:u.left)}px`,this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,t!=null&&t.onHide&&t.onHide(e),this.toDisposeOnClean.dispose(),xr(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,qe(e).document.activeElement):t&&!To(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}U_.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];U_.BUBBLE_DOWN_EVENTS=["click"];const $2e=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var j2e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},K2e=function(n,e){return function(t,i){e(t,i,n)}};let h3=class extends z{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=z.None,this.contextView=this._register(new U_(this.layoutService.mainContainer,1)),this.layout(),this._register(e.onDidLayoutContainer(()=>this.layout()))}showContextView(e,t,i){let o;t?t===this.layoutService.getContainer(qe(t))?o=1:i?o=3:o=2:o=1,this.contextView.setContainer(t??this.layoutService.activeContainer,o),this.contextView.show(e);const r=je(()=>{this.currentViewDisposable===r&&this.hideContextView()});return this.currentViewDisposable=r,r}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}dispose(){super.dispose(),this.currentViewDisposable.dispose(),this.currentViewDisposable=z.None}};h3=j2e([K2e(0,Xm)],h3);let $_=[],_7=[],Mte=[];function vk(n,e=!1){q2e(n,!1,e)}function q2e(n,e,t){const i=G2e(n,e);$_.push(i),i.userConfigured?Mte.push(i):_7.push(i),t&&!i.userConfigured&&$_.forEach(o=>{o.mime===i.mime||o.userConfigured||(i.extension&&o.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&o.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&o.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&o.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))})}function G2e(n,e){return{id:n.id,mime:n.mime,filename:n.filename,extension:n.extension,filepattern:n.filepattern,firstline:n.firstline,userConfigured:e,filenameLowercase:n.filename?n.filename.toLowerCase():void 0,extensionLowercase:n.extension?n.extension.toLowerCase():void 0,filepatternLowercase:n.filepattern?gte(n.filepattern.toLowerCase()):void 0,filepatternOnPath:n.filepattern?n.filepattern.indexOf($n.sep)>=0:!1}}function Z2e(){$_=$_.filter(n=>n.userConfigured),_7=[]}function Y2e(n,e){return X2e(n,e).map(t=>t.id)}function X2e(n,e){let t;if(n)switch(n.scheme){case ft.file:t=n.fsPath;break;case ft.data:{t=cf.parseMetaData(n).get(cf.META_DATA_LABEL);break}case ft.vscodeNotebookCell:t=void 0;break;default:t=n.path}if(!t)return[{id:"unknown",mime:un.unknown}];t=t.toLowerCase();const i=Mg(t),o=bj(t,i,Mte);if(o)return[o,{id:oa,mime:un.text}];const r=bj(t,i,_7);if(r)return[r,{id:oa,mime:un.text}];if(e){const s=Q2e(e);if(s)return[s,{id:oa,mime:un.text}]}return[{id:"unknown",mime:un.unknown}]}function bj(n,e,t){var i;let o,r,s;for(let a=t.length-1;a>=0;a--){const l=t[a];if(e===l.filenameLowercase){o=l;break}if(l.filepattern&&(!r||l.filepattern.length>r.filepattern.length)){const c=l.filepatternOnPath?n:e;!((i=l.filepatternLowercase)===null||i===void 0)&&i.call(l,c)&&(r=l)}l.extension&&(!s||l.extension.length>s.extension.length)&&e.endsWith(l.extensionLowercase)&&(s=l)}if(o)return o;if(r)return r;if(s)return s}function Q2e(n){if(Z8(n)&&(n=n.substr(1)),n.length>0)for(let e=$_.length-1;e>=0;e--){const t=$_[e];if(!t.firstline)continue;const i=n.match(t.firstline);if(i&&i.length>0)return t}}const bk=Object.prototype.hasOwnProperty,_j="vs.editor.nullLanguage";class J2e{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(_j,0),this._register(oa,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||_j}}class uw extends z{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,uw.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new J2e,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(E_.onDidChangeLanguages(i=>{this._initializeFromRegistry()})))}dispose(){uw.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Z2e();const e=[].concat(E_.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(t=>{const i=this._languages[t];i.name&&(this._nameMap[i.name]=i.identifier),i.aliases.forEach(o=>{this._lowercaseNameMap[o.toLowerCase()]=i.identifier}),i.mimetypes.forEach(o=>{this._mimeTypesMap[o]=i.identifier})}),nn.as(Rc.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let i;bk.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let o=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),o=t.mimetypes[0]),o||(o=`text/x-${i}`,e.mimetypes.push(o)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(const a of t.extensions)vk({id:i,mime:o,extension:a},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(const a of t.filenames)vk({id:i,mime:o,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(const a of t.filenamePatterns)vk({id:i,mime:o,filepattern:a},this._warnOnOverwrite);if(typeof t.firstLine=="string"&&t.firstLine.length>0){let a=t.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{const l=new RegExp(a);Yme(l)||vk({id:i,mime:o,firstline:l},this._warnOnOverwrite)}catch(l){console.warn(`[${t.id}]: Invalid regular expression \`${a}\`: `,l)}}e.aliases.push(i);let r=null;if(typeof t.aliases<"u"&&Array.isArray(t.aliases)&&(t.aliases.length===0?r=[null]:r=t.aliases),r!==null)for(const a of r)!a||a.length===0||e.aliases.push(a);const s=r!==null&&r.length>0;if(!(s&&r[0]===null)){const a=(s?r[0]:null)||i;(s||!e.name)&&(e.name=a)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return e?bk.call(this._languages,e):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();return bk.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&bk.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return!e&&!t?[]:Y2e(e,t)}}uw.instanceCount=0;class hw extends z{constructor(e=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new B),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new B),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new B({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,hw.instanceCount++,this._registry=this._register(new uw(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){hw.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return E8(i,null)}createById(e){return new Cj(this.onDidChange,()=>this._createAndGetLanguageIdentifier(e))}createByFilepathOrFirstLine(e,t){return new Cj(this.onDidChange,()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(e){return(!e||!this.isRegisteredLanguageId(e))&&(e=oa),e}requestBasicLanguageFeatures(e){this._requestedBasicLanguages.has(e)||(this._requestedBasicLanguages.add(e),this._onDidRequestBasicLanguageFeatures.fire(e))}requestRichLanguageFeatures(e){this._requestedRichLanguages.has(e)||(this._requestedRichLanguages.add(e),this.requestBasicLanguageFeatures(e),rn.getOrCreate(e),this._onDidRequestRichLanguageFeatures.fire(e))}}hw.instanceCount=0;class Cj{constructor(e,t){this._onDidChangeLanguages=e,this._selector=t,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new B({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var e;const t=this._selector();t!==this.languageId&&(this.languageId=t,(e=this._emitter)===null||e===void 0||e.fire(this.languageId))}}const gw={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:un.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"},eEe=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}});let NI=eEe;const tEe=new Kd(()=>NI("mouse",!1)),iEe=new Kd(()=>NI("element",!1));function nEe(n){NI=n}function wh(n,e){return e?NI(n,!0):n==="element"?iEe.value:tEe.value}function oEe(n,e){Pr(e)?n.title=g7(e):e!=null&&e.markdownNotSupportedFallback?n.title=e.markdownNotSupportedFallback:n.removeAttribute("title")}class rEe{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}async update(e,t,i){var o;if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let r;if(e===void 0||Pr(e)||e instanceof HTMLElement)r=e;else if(!ky(e.markdown))r=(o=e.markdown)!==null&&o!==void 0?o:e.markdownNotSupportedFallback;else{this._hoverWidget||this.show(m("iconLabel.loading","Loading..."),t),this._cancellationTokenSource=new gn;const s=this._cancellationTokenSource.token;if(r=await e.markdown(s),r===void 0&&(r=e.markdownNotSupportedFallback),this.isDisposed||s.isCancellationRequested)return}this.show(r,t,i)}show(e,t,i){const o=this._hoverWidget;if(this.hasContent(e)){const r={content:e,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!o},position:{hoverPosition:2},...i};this._hoverWidget=this.hoverDelegate.showHover(r,t)}o==null||o.dispose()}hasContent(e){return e?Ed(e)?!!e.value:!0:!1}get isDisposed(){var e;return(e=this._hoverWidget)===null||e===void 0?void 0:e.isDisposed}dispose(){var e,t;(e=this._hoverWidget)===null||e===void 0||e.dispose(),(t=this._cancellationTokenSource)===null||t===void 0||t.dispose(!0),this._cancellationTokenSource=void 0}}function Qm(n,e,t,i){let o,r;const s=(v,_)=>{var C;const y=r!==void 0;v&&(r==null||r.dispose(),r=void 0),_&&(o==null||o.dispose(),o=void 0),y&&((C=n.onDidHideHover)===null||C===void 0||C.call(n),r=void 0)},a=(v,_,C)=>new Ll(async()=>{(!r||r.isDisposed)&&(r=new rEe(n,C||e,v>0),await r.update(typeof t=="function"?t():t,_,i))},v);let l=!1;const c=j(e,ge.MOUSE_DOWN,()=>{l=!0,s(!0,!0)},!0),d=j(e,ge.MOUSE_UP,()=>{l=!1},!0),u=j(e,ge.MOUSE_LEAVE,v=>{l=!1,s(!1,v.fromElement===e)},!0),h=()=>{if(o)return;const v=new oe,_={targetElements:[e],dispose:()=>{}};if(n.placement===void 0||n.placement==="mouse"){const C=y=>{_.x=y.x+10,y.target instanceof HTMLElement&&y.target.classList.contains("action-label")&&s(!0,!0)};v.add(j(e,ge.MOUSE_MOVE,C,!0))}v.add(a(n.delay,!1,_)),o=v},g=j(e,ge.MOUSE_OVER,h,!0),f=()=>{if(l||o)return;const v={targetElements:[e],dispose:()=>{}},_=new oe,C=()=>s(!0,!0);_.add(j(e,ge.BLUR,C,!0)),_.add(a(n.delay,!1,v)),o=_},p=j(e,ge.FOCUS,f,!0);return{show:v=>{s(!1,!0),a(0,v)},hide:()=>{s(!0,!0)},update:async(v,_)=>{t=v,await(r==null?void 0:r.update(t,void 0,_))},dispose:()=>{g.dispose(),u.dispose(),c.dispose(),d.dispose(),p.dispose(),s(!0,!0)}}}class sEe{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(o=>o.splice(e,t,i))}}class ep extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function yj(n,e){const t=[];for(const i of e){if(n.start>=i.range.end)continue;if(n.end<i.range.start)break;const o=$o.intersect(n,i.range);$o.isEmpty(o)||t.push({range:o,size:i.size})}return t}function g3({start:n,end:e},t){return{start:n+t,end:e+t}}function aEe(n){const e=[];let t=null;for(const i of n){const o=i.range.start,r=i.range.end,s=i.size;if(t&&s===t.size){t.range.end=r;continue}t={range:{start:o,end:r},size:s},e.push(t)}return e}function lEe(...n){return aEe(n.reduce((e,t)=>e.concat(t),[]))}class cEe{get paddingTop(){return this._paddingTop}set paddingTop(e){this._size=this._size+e-this._paddingTop,this._paddingTop=e}constructor(e){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=e??0,this._size=this._paddingTop}splice(e,t,i=[]){const o=i.length-t,r=yj({start:0,end:e},this.groups),s=yj({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:g3(l.range,o),size:l.size})),a=i.map((l,c)=>({range:{start:e+c,end:e+c+1},size:l.size}));this.groups=lEe(r,a,s),this._size=this._paddingTop+this.groups.reduce((l,c)=>l+c.size*(c.range.end-c.range.start),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;if(e<this._paddingTop)return 0;let t=0,i=this._paddingTop;for(const o of this.groups){const r=o.range.end-o.range.start,s=i+r*o.size;if(e<s)return t+Math.floor((e-i)/o.size);t+=r,i=s}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(const o of this.groups){const r=o.range.end-o.range.start,s=i+r;if(e<s)return this._paddingTop+t+(e-i)*o.size;t+=r*o.size,i=s}return-1}}function dEe(n){var e;try{(e=n.parentElement)===null||e===void 0||e.removeChild(n)}catch{}}class uEe{constructor(e){this.renderers=e,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(e){let t=this.getTemplateCache(e).pop(),i=!1;if(t)i=this.transactionNodesPendingRemoval.has(t.domNode),i&&this.transactionNodesPendingRemoval.delete(t.domNode);else{const o=ue(".monaco-list-row"),s=this.getRenderer(e).renderTemplate(o);t={domNode:o,templateId:e,templateData:s}}return{row:t,isReusingConnectedDomNode:i}}release(e){e&&this.releaseRow(e)}transact(e){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{e()}finally{for(const t of this.transactionNodesPendingRemoval)this.doRemoveNode(t);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(this.inTransaction?this.transactionNodesPendingRemoval.add(t):this.doRemoveNode(t)),this.getTemplateCache(i).push(e)}doRemoveNode(e){e.classList.remove("scrolling"),dEe(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(const i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var Sh=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};const tp={CurrentDragAndDropData:void 0},zc={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(n){return[n]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class WS{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class hEe{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class gEe{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}function fEe(n,e){return Array.isArray(n)&&Array.isArray(e)?en(n,e):n===e}class pEe{constructor(e){e!=null&&e.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,o)=>o,e!=null&&e.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,e!=null&&e.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e!=null&&e.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}}class qa{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:JR(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(e,t,i,o=zc){var r,s,a,l,c,d,u,h,g,f,p,b,v;if(this.virtualDelegate=t,this.domId=`list_id_${++qa.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new Sl(50),this.splicing=!1,this.dragOverAnimationStopDisposable=z.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=z.None,this.onDragLeaveTimeout=z.None,this.disposables=new oe,this._onDidChangeContentHeight=new B,this._onDidChangeContentWidth=new B,this.onDidChangeContentHeight=me.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,o.horizontalScrolling&&o.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap((r=o.paddingTop)!==null&&r!==void 0?r:0);for(const C of i)this.renderers.set(C.templateId,C);this.cache=this.disposables.add(new uEe(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof o.mouseSupport=="boolean"?o.mouseSupport:!0),this._horizontalScrolling=(s=o.horizontalScrolling)!==null&&s!==void 0?s:zc.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof o.paddingBottom>"u"?0:o.paddingBottom,this.accessibilityProvider=new pEe(o.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((a=o.transformOptimization)!==null&&a!==void 0?a:zc.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(Si.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new w0({forceIntegerValues:!0,smoothScrollDuration:(l=o.smoothScrolling)!==null&&l!==void 0&&l?125:0,scheduleAtNextAnimationFrame:C=>Ds(qe(this.domNode),C)})),this.scrollableElement=this.disposables.add(new gI(this.rowsContainer,{alwaysConsumeMouseWheel:(c=o.alwaysConsumeMouseWheel)!==null&&c!==void 0?c:zc.alwaysConsumeMouseWheel,horizontal:1,vertical:(d=o.verticalScrollMode)!==null&&d!==void 0?d:zc.verticalScrollMode,useShadows:(u=o.useShadows)!==null&&u!==void 0?u:zc.useShadows,mouseWheelScrollSensitivity:o.mouseWheelScrollSensitivity,fastScrollSensitivity:o.fastScrollSensitivity,scrollByPage:o.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(j(this.rowsContainer,xi.Change,C=>this.onTouchChange(C))),this.disposables.add(j(this.scrollableElement.getDomNode(),"scroll",C=>C.target.scrollTop=0)),this.disposables.add(j(this.domNode,"dragover",C=>this.onDragOver(this.toDragEvent(C)))),this.disposables.add(j(this.domNode,"drop",C=>this.onDrop(this.toDragEvent(C)))),this.disposables.add(j(this.domNode,"dragleave",C=>this.onDragLeave(this.toDragEvent(C)))),this.disposables.add(j(this.domNode,"dragend",C=>this.onDragEnd(C))),this.setRowLineHeight=(h=o.setRowLineHeight)!==null&&h!==void 0?h:zc.setRowLineHeight,this.setRowHeight=(g=o.setRowHeight)!==null&&g!==void 0?g:zc.setRowHeight,this.supportDynamicHeights=(f=o.supportDynamicHeights)!==null&&f!==void 0?f:zc.supportDynamicHeights,this.dnd=(p=o.dnd)!==null&&p!==void 0?p:this.disposables.add(zc.dnd),this.layout((b=o.initialSize)===null||b===void 0?void 0:b.height,(v=o.initialSize)===null||v===void 0?void 0:v.width)}updateOptions(e){e.paddingBottom!==void 0&&(this.paddingBottom=e.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling);let t;if(e.scrollByPage!==void 0&&(t={...t??{},scrollByPage:e.scrollByPage}),e.mouseWheelScrollSensitivity!==void 0&&(t={...t??{},mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&(t={...t??{},fastScrollSensitivity:e.fastScrollSensitivity}),t&&this.scrollableElement.updateOptions(t),e.paddingTop!==void 0&&e.paddingTop!==this.rangeMap.paddingTop){const i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o=e.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=e.paddingTop,this.render(i,Math.max(0,this.lastRenderTop+o),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}createRangeMap(e){return new cEe(e)}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const o=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r={start:e,end:e+t},s=$o.intersect(o,r),a=new Map;for(let w=s.end-1;w>=s.start;w--){const S=this.items[w];if(S.dragStartDisposable.dispose(),S.checkedDisposable.dispose(),S.row){let x=a.get(S.templateId);x||(x=[],a.set(S.templateId,x));const L=this.renderers.get(S.templateId);L&&L.disposeElement&&L.disposeElement(S.element,w,S.row.templateData,S.size),x.push(S.row)}S.row=null,S.stale=!0}const l={start:e+t,end:this.items.length},c=$o.intersect(l,o),d=$o.relativeComplement(l,o),u=i.map(w=>({id:String(this.itemId++),element:w,templateId:this.virtualDelegate.getTemplateId(w),size:this.virtualDelegate.getHeight(w),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(w),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:z.None,checkedDisposable:z.None,stale:!1}));let h;e===0&&t>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,u),h=this.items,this.items=u):(this.rangeMap.splice(e,t,u),h=this.items.splice(e,t,...u));const g=i.length-t,f=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),p=g3(c,g),b=$o.intersect(f,p);for(let w=b.start;w<b.end;w++)this.updateItemInDOM(this.items[w],w);const v=$o.relativeComplement(p,f);for(const w of v)for(let S=w.start;S<w.end;S++)this.removeItemFromDOM(S);const _=d.map(w=>g3(w,g)),y=[{start:e,end:e+i.length},..._].map(w=>$o.intersect(f,w)).reverse();for(const w of y)for(let S=w.end-1;S>=w.start;S--){const x=this.items[S],L=a.get(x.templateId),E=L==null?void 0:L.pop();this.insertItemInDOM(S,E)}for(const w of a.values())for(const S of w)this.cache.release(S);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),h.map(w=>w.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Ds(qe(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)typeof t.width<"u"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(e){return this.items[e].element}indexOf(e){return this.items.findIndex(t=>t.element===e)}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){const i={height:typeof e=="number"?e:sbe(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:JR(this.domNode)})}render(e,t,i,o,r,s=!1){const a=this.getRenderRange(t,i),l=$o.relativeComplement(a,e).reverse(),c=$o.relativeComplement(e,a);if(s){const d=$o.intersect(e,a);for(let u=d.start;u<d.end;u++)this.updateItemInDOM(this.items[u],u)}this.cache.transact(()=>{for(const d of c)for(let u=d.start;u<d.end;u++)this.removeItemFromDOM(u);for(const d of l)for(let u=d.end-1;u>=d.start;u--)this.insertItemInDOM(u)}),o!==void 0&&(this.rowsContainer.style.left=`-${o}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&r!==void 0&&(this.rowsContainer.style.width=`${Math.max(r,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t){var i,o,r;const s=this.items[e];if(!s.row)if(t)s.row=t,s.stale=!0;else{const u=this.cache.alloc(s.templateId);s.row=u.row,s.stale||(s.stale=u.isReusingConnectedDomNode)}const a=this.accessibilityProvider.getRole(s.element)||"listitem";s.row.domNode.setAttribute("role",a);const l=this.accessibilityProvider.isChecked(s.element);if(typeof l=="boolean")s.row.domNode.setAttribute("aria-checked",String(!!l));else if(l){const u=h=>s.row.domNode.setAttribute("aria-checked",String(!!h));u(l.value),s.checkedDisposable=l.onDidChange(u)}if(s.stale||!s.row.domNode.parentElement){const u=(r=(o=(i=this.items.at(e+1))===null||i===void 0?void 0:i.row)===null||o===void 0?void 0:o.domNode)!==null&&r!==void 0?r:null;this.rowsContainer.insertBefore(s.row.domNode,u),s.stale=!1}this.updateItemInDOM(s,e);const c=this.renderers.get(s.templateId);if(!c)throw new Error(`No renderer found for template id ${s.templateId}`);c==null||c.renderElement(s.element,e,s.row.templateData,s.size);const d=this.dnd.getDragURI(s.element);s.dragStartDisposable.dispose(),s.row.domNode.draggable=!!d,d&&(s.dragStartDisposable=j(s.row.domNode,"dragstart",u=>this.onDragStart(s.element,d,u))),this.horizontalScrolling&&(this.measureItemWidth(s),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width="fit-content",e.width=JR(e.row.domNode);const t=qe(e.row.domNode).getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return me.map(this.disposables.add(new It(this.domNode,"click")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDblClick(){return me.map(this.disposables.add(new It(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMiddleClick(){return me.filter(me.map(this.disposables.add(new It(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e),this.disposables),e=>e.browserEvent.button===1,this.disposables)}get onMouseDown(){return me.map(this.disposables.add(new It(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOver(){return me.map(this.disposables.add(new It(this.domNode,"mouseover")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOut(){return me.map(this.disposables.add(new It(this.domNode,"mouseout")).event,e=>this.toMouseEvent(e),this.disposables)}get onContextMenu(){return me.any(me.map(this.disposables.add(new It(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e),this.disposables),me.map(this.disposables.add(new It(this.domNode,xi.Contextmenu)).event,e=>this.toGestureEvent(e),this.disposables))}get onTouchStart(){return me.map(this.disposables.add(new It(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e),this.disposables)}get onTap(){return me.map(this.disposables.add(new It(this.rowsContainer,xi.Tap)).event,e=>this.toGestureEvent(e),this.disposables)}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element;return{browserEvent:e,index:t,element:o}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element;return{browserEvent:e,index:t,element:o}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element;return{browserEvent:e,index:t,element:o}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],o=i&&i.element,r=this.getTargetSector(e,t);return{browserEvent:e,index:t,element:o,sector:r}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){var o,r;if(!i.dataTransfer)return;const s=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(gw.TEXT,t),i.dataTransfer.setDragImage){let a;this.dnd.getDragLabel&&(a=this.dnd.getDragLabel(s,i)),typeof a>"u"&&(a=String(s.length));const l=ue(".monaco-drag-image");l.textContent=a;const d=(u=>{for(;u&&!u.classList.contains("monaco-workbench");)u=u.parentElement;return u||this.domNode.ownerDocument})(this.domNode);d.appendChild(l),i.dataTransfer.setDragImage(l,-10,-10),setTimeout(()=>d.removeChild(l),0)}this.domNode.classList.add("dragging"),this.currentDragData=new WS(s),tp.CurrentDragAndDropData=new hEe(s),(r=(o=this.dnd).onDragStart)===null||r===void 0||r.call(o,this.currentDragData,i)}onDragOver(e){var t,i;if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),tp.CurrentDragAndDropData&&tp.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(tp.CurrentDragAndDropData)this.currentDragData=tp.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new gEe}const o=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.sector,e.browserEvent);if(this.canDrop=typeof o=="boolean"?o:o.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof o!="boolean"&&((t=o.effect)===null||t===void 0?void 0:t.type)===0?"copy":"move";let r;typeof o!="boolean"&&o.feedback?r=o.feedback:typeof e.index>"u"?r=[-1]:r=[e.index],r=ch(r).filter(a=>a>=-1&&a<this.length).sort((a,l)=>a-l),r=r[0]===-1?[-1]:r;let s=typeof o!="boolean"&&o.effect&&o.effect.position?o.effect.position:"drop-target";if(fEe(this.currentDragFeedback,r)&&this.currentDragFeedbackPosition===s)return!0;if(this.currentDragFeedback=r,this.currentDragFeedbackPosition=s,this.currentDragFeedbackDisposable.dispose(),r[0]===-1)this.domNode.classList.add(s),this.rowsContainer.classList.add(s),this.currentDragFeedbackDisposable=je(()=>{this.domNode.classList.remove(s),this.rowsContainer.classList.remove(s)});else{if(r.length>1&&s!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");s==="drop-target-after"&&r[0]<this.length-1&&(r[0]+=1,s="drop-target-before");for(const a of r){const l=this.items[a];l.dropTarget=!0,(i=l.row)===null||i===void 0||i.domNode.classList.add(s)}this.currentDragFeedbackDisposable=je(()=>{var a;for(const l of r){const c=this.items[l];c.dropTarget=!1,(a=c.row)===null||a===void 0||a.domNode.classList.remove(s)}})}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=nf(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((i=(t=this.dnd).onDragLeave)===null||i===void 0||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,tp.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.sector,e.browserEvent))}onDragEnd(e){var t,i;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,tp.CurrentDragAndDropData=void 0,(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=z.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const t=XQ(this.domNode).top;this.dragOverAnimationDisposable=_be(qe(this.domNode),this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=nf(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(e,t){if(t===void 0)return;const i=e.offsetY/this.items[t].size,o=Math.floor(i/.25);return wr(o,0,3)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){const o=i.getAttribute("data-index");if(o){const r=Number(o);if(!isNaN(r))return r}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const o=this.getRenderRange(e,t);let r,s;e===this.elementTop(o.start)?(r=o.start,s=0):o.end-o.start>1&&(r=o.start+1,s=this.elementTop(r)-e);let a=0;for(;;){const l=this.getRenderRange(e,t);let c=!1;for(let d=l.start;d<l.end;d++){const u=this.probeDynamicHeight(d);u!==0&&this.rangeMap.splice(d,1,[this.items[d]]),a+=u,c=c||u!==0}if(!c){a!==0&&this.eventuallyUpdateScrollDimensions();const d=$o.relativeComplement(o,l);for(const h of d)for(let g=h.start;g<h.end;g++)this.items[g].row&&this.removeItemFromDOM(g);const u=$o.relativeComplement(l,o).reverse();for(const h of u)for(let g=h.end-1;g>=h.start;g--)this.insertItemInDOM(g);for(let h=l.start;h<l.end;h++)this.items[h].row&&this.updateItemInDOM(this.items[h],h);if(typeof r=="number"){const h=this.scrollable.getFutureScrollPosition().scrollTop-e,g=this.elementTop(r)-s+h;this.setScrollTop(g,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){var t,i,o;const r=this.items[e];if(this.virtualDelegate.getDynamicHeight){const c=this.virtualDelegate.getDynamicHeight(r.element);if(c!==null){const d=r.size;return r.size=c,r.lastDynamicHeightWidth=this.renderWidth,c-d}}if(!r.hasDynamicHeight||r.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(r.element))return 0;const s=r.size;if(r.row)return r.row.domNode.style.height="",r.size=r.row.domNode.offsetHeight,r.lastDynamicHeightWidth=this.renderWidth,r.size-s;const{row:a}=this.cache.alloc(r.templateId);a.domNode.style.height="",this.rowsContainer.appendChild(a.domNode);const l=this.renderers.get(r.templateId);if(!l)throw new Hi("Missing renderer for templateId: "+r.templateId);return l.renderElement(r.element,e,a.templateData,void 0),r.size=a.domNode.offsetHeight,(t=l.disposeElement)===null||t===void 0||t.call(l,r.element,e,a.templateData,void 0),(o=(i=this.virtualDelegate).setDynamicHeight)===null||o===void 0||o.call(i,r.element,r.size),r.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(a.domNode),this.cache.release(a),r.size-s}getElementDomId(e){return`${this.domId}_${e}`}dispose(){var e,t;for(const i of this.items)if(i.dragStartDisposable.dispose(),i.checkedDisposable.dispose(),i.row){const o=this.renderers.get(i.row.templateId);o&&((e=o.disposeElement)===null||e===void 0||e.call(o,i.element,-1,i.row.templateData,void 0),o.disposeTemplate(i.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(t=this.dragOverAnimationDisposable)===null||t===void 0||t.dispose(),this.disposables.dispose()}}qa.InstanceCount=0;Sh([Sn],qa.prototype,"onMouseClick",null);Sh([Sn],qa.prototype,"onMouseDblClick",null);Sh([Sn],qa.prototype,"onMouseMiddleClick",null);Sh([Sn],qa.prototype,"onMouseDown",null);Sh([Sn],qa.prototype,"onMouseOver",null);Sh([Sn],qa.prototype,"onMouseOut",null);Sh([Sn],qa.prototype,"onContextMenu",null);Sh([Sn],qa.prototype,"onTouchStart",null);Sh([Sn],qa.prototype,"onTap",null);var Bf=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class mEe{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,i){const o=this.renderedElements.findIndex(r=>r.templateData===i);if(o>=0){const r=this.renderedElements[o];this.trait.unrender(i),r.index=t}else{const r={index:t,templateData:i};this.renderedElements.push(r)}this.trait.renderIndex(t,i)}splice(e,t,i){const o=[];for(const r of this.renderedElements)r.index<e?o.push(r):r.index>=e+t&&o.push({index:r.index+i-t,templateData:r.templateData});this.renderedElements=o}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}}let V2=class{get name(){return this._trait}get renderer(){return new mEe(this)}constructor(e){this._trait=e,this.indexes=[],this.sortedIndexes=[],this._onChange=new B,this.onChange=this._onChange.event}splice(e,t,i){const o=i.length-t,r=e+t,s=[];let a=0;for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]<e;)s.push(this.sortedIndexes[a++]);for(let l=0;l<i.length;l++)i[l]&&s.push(l+e);for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]>=r;)s.push(this.sortedIndexes[a++]+o);this.renderer.splice(e,t,i.length),this._set(s,s)}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(Sj),t)}_set(e,t,i){const o=this.indexes,r=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const s=f3(r,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:i}),o}get(){return this.indexes}contains(e){return Sy(this.sortedIndexes,e,Sj)>=0}dispose(){si(this._onChange)}};Bf([Sn],V2.prototype,"renderer",null);class vEe extends V2{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class QM{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,new Array(i.length).fill(!1));const o=this.trait.get().map(a=>this.identityProvider.getId(this.view.element(a)).toString());if(o.length===0)return this.trait.splice(e,t,new Array(i.length).fill(!1));const r=new Set(o),s=i.map(a=>r.has(this.identityProvider.getId(a).toString()));this.trait.splice(e,t,s)}}function Vg(n){return n.tagName==="INPUT"||n.tagName==="TEXTAREA"}function VS(n,e){return n.classList.contains(e)?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:VS(n.parentElement,e)}function J1(n){return VS(n,"monaco-editor")}function bEe(n){return VS(n,"monaco-custom-toggle")}function _Ee(n){return VS(n,"action-item")}function HC(n){return VS(n,"monaco-tree-sticky-row")}function H2(n){return n.classList.contains("monaco-tree-sticky-container")}function Ate(n){return n.tagName==="A"&&n.classList.contains("monaco-button")||n.tagName==="DIV"&&n.classList.contains("monaco-button-dropdown")?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:Ate(n.parentElement)}class Pte{get onKeyDown(){return me.chain(this.disposables.add(new It(this.view.domNode,"keydown")).event,e=>e.filter(t=>!Vg(t.target)).map(t=>new Ni(t)))}constructor(e,t,i){this.list=e,this.view=t,this.disposables=new oe,this.multipleSelectionDisposables=new oe,this.multipleSelectionSupport=i.multipleSelectionSupport,this.disposables.add(this.onKeyDown(o=>{switch(o.keyCode){case 3:return this.onEnter(o);case 16:return this.onUpArrow(o);case 18:return this.onDownArrow(o);case 11:return this.onPageUpArrow(o);case 12:return this.onPageDownArrow(o);case 9:return this.onEscape(o);case 31:this.multipleSelectionSupport&&(Rt?o.metaKey:o.ctrlKey)&&this.onCtrlA(o)}}))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=e.multipleSelectionSupport)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(_r(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Bf([Sn],Pte.prototype,"onKeyDown",null);var dd;(function(n){n[n.Automatic=0]="Automatic",n[n.Trigger=1]="Trigger"})(dd||(dd={}));var yb;(function(n){n[n.Idle=0]="Idle",n[n.Typing=1]="Typing"})(yb||(yb={}));const CEe=new class{mightProducePrintableCharacter(n){return n.ctrlKey||n.metaKey||n.altKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30||n.keyCode>=98&&n.keyCode<=107||n.keyCode>=85&&n.keyCode<=95}};class yEe{constructor(e,t,i,o,r){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.keyboardNavigationEventFilter=o,this.delegate=r,this.enabled=!1,this.state=yb.Idle,this.mode=dd.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new oe,this.disposables=new oe,this.updateOptions(e.options)}updateOptions(e){var t,i;!((t=e.typeNavigationEnabled)!==null&&t!==void 0)||t?this.enable():this.disable(),this.mode=(i=e.typeNavigationMode)!==null&&i!==void 0?i:dd.Automatic}enable(){if(this.enabled)return;let e=!1;const t=me.chain(this.enabledDisposables.add(new It(this.view.domNode,"keydown")).event,r=>r.filter(s=>!Vg(s.target)).filter(()=>this.mode===dd.Automatic||this.triggered).map(s=>new Ni(s)).filter(s=>e||this.keyboardNavigationEventFilter(s)).filter(s=>this.delegate.mightProducePrintableCharacter(s)).forEach(s=>_t.stop(s,!0)).map(s=>s.browserEvent.key)),i=me.debounce(t,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);me.reduce(me.any(t,i),(r,s)=>s===null?null:(r||"")+s,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),t(()=>e=!0,void 0,this.enabledDisposables),i(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const i=(e=this.list.options.accessibilityProvider)===null||e===void 0?void 0:e.getAriaLabel(this.list.element(t[0]));i&&Es(i)}this.previouslyFocused=-1}onInput(e){if(!e){this.state=yb.Idle,this.triggered=!1;return}const t=this.list.getFocus(),i=t.length>0?t[0]:0,o=this.state===yb.Idle?1:0;this.state=yb.Typing;for(let r=0;r<this.list.length;r++){const s=(i+r+o)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(s)),l=a&&a.toString();if(this.list.options.typeNavigationEnabled){if(typeof l<"u"){if(lw(e,l)){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}const c=LDe(e,l);if(c&&c[0].end-c[0].start>1&&c.length===1){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}}}else if(typeof l>"u"||lw(e,l)){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class wEe{constructor(e,t){this.list=e,this.view=t,this.disposables=new oe;const i=me.chain(this.disposables.add(new It(t.domNode,"keydown")).event,r=>r.filter(s=>!Vg(s.target)).map(s=>new Ni(s)));me.chain(i,r=>r.filter(s=>s.keyCode===2&&!s.ctrlKey&&!s.metaKey&&!s.shiftKey&&!s.altKey))(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(t.length===0)return;const i=this.view.domElement(t[0]);if(!i)return;const o=i.querySelector("[tabIndex]");if(!o||!(o instanceof HTMLElement)||o.tabIndex===-1)return;const r=qe(o).getComputedStyle(o);r.visibility==="hidden"||r.display==="none"||(e.preventDefault(),e.stopPropagation(),o.focus())}dispose(){this.disposables.dispose()}}function Ote(n){return Rt?n.browserEvent.metaKey:n.browserEvent.ctrlKey}function Fte(n){return n.browserEvent.shiftKey}function SEe(n){return n6(n)&&n.button===2}const wj={isSelectionSingleChangeEvent:Ote,isSelectionRangeChangeEvent:Fte};class Bte{constructor(e){this.list=e,this.disposables=new oe,this._onPointer=new B,this.onPointer=this._onPointer.event,e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||wj),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Si.addTarget(e.getHTMLElement()))),me.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||wj))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){J1(e.browserEvent.target)||Vo()!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(Vg(e.browserEvent.target)||J1(e.browserEvent.target))return;const t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||Vg(e.browserEvent.target)||J1(e.browserEvent.target)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=e.index;if(typeof t>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),SEe(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(Vg(e.browserEvent.target)||J1(e.browserEvent.target)||this.isSelectionChangeEvent(e)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(typeof i>"u"){const d=this.list.getFocus()[0];i=d??t,this.list.setAnchor(i)}const o=Math.min(i,t),r=Math.max(i,t),s=_r(o,r+1),a=this.list.getSelection(),l=LEe(f3(a,[i]),i);if(l.length===0)return;const c=f3(s,DEe(a,l));this.list.setSelection(c,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const o=this.list.getSelection(),r=o.filter(s=>s!==t);this.list.setFocus([t]),this.list.setAnchor(t),o.length===r.length?this.list.setSelection([...r,t],e.browserEvent):this.list.setSelection(r,e.browserEvent)}}dispose(){this.disposables.dispose()}}class Wte{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){var t,i;const o=this.selectorSuffix&&`.${this.selectorSuffix}`,r=[];e.listBackground&&r.push(`.monaco-list${o} .monaco-list-rows { background: ${e.listBackground}; }`),e.listFocusBackground&&(r.push(`.monaco-list${o}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),r.push(`.monaco-list${o}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&r.push(`.monaco-list${o}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(r.push(`.monaco-list${o}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),r.push(`.monaco-list${o}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&r.push(`.monaco-list${o}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&r.push(`.monaco-list${o}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&r.push(`
				.monaco-drag-image,
				.monaco-list${o}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&r.push(`
				.monaco-drag-image,
				.monaco-list${o}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(r.push(`.monaco-list${o} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),r.push(`.monaco-list${o} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&r.push(`.monaco-list${o} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(r.push(`.monaco-list${o} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),r.push(`.monaco-list${o} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(r.push(`.monaco-list${o} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),r.push(`.monaco-list${o} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&r.push(`.monaco-list${o} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&r.push(`.monaco-list${o}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&r.push(`.monaco-list${o}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`);const s=Gu(e.listFocusAndSelectionOutline,Gu(e.listSelectionOutline,(t=e.listFocusOutline)!==null&&t!==void 0?t:""));s&&r.push(`.monaco-list${o}:focus .monaco-list-row.focused.selected { outline: 1px solid ${s}; outline-offset: -1px;}`),e.listFocusOutline&&r.push(`
				.monaco-drag-image,
				.monaco-list${o}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${o}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`);const a=Gu(e.listSelectionOutline,(i=e.listInactiveFocusOutline)!==null&&i!==void 0?i:"");a&&r.push(`.monaco-list${o} .monaco-list-row.focused.selected { outline: 1px dotted ${a}; outline-offset: -1px; }`),e.listSelectionOutline&&r.push(`.monaco-list${o} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listInactiveFocusOutline&&r.push(`.monaco-list${o} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&r.push(`.monaco-list${o} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropOverBackground&&r.push(`
				.monaco-list${o}.drop-target,
				.monaco-list${o} .monaco-list-rows.drop-target,
				.monaco-list${o} .monaco-list-row.drop-target { background-color: ${e.listDropOverBackground} !important; color: inherit !important; }
			`),e.listDropBetweenBackground&&(r.push(`
			.monaco-list${o} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${o} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`),r.push(`
			.monaco-list${o} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${o} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`)),e.tableColumnsBorder&&r.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),e.tableOddRowsBackgroundColor&&r.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=r.join(`
`)}}const xEe={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:U.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:U.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:U.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},kEe={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function LEe(n,e){const t=n.indexOf(e);if(t===-1)return[];const i=[];let o=t-1;for(;o>=0&&n[o]===e-(t-o);)i.push(n[o--]);for(i.reverse(),o=t;o<n.length&&n[o]===e+(o-t);)i.push(n[o++]);return i}function f3(n,e){const t=[];let i=0,o=0;for(;i<n.length||o<e.length;)if(i>=n.length)t.push(e[o++]);else if(o>=e.length)t.push(n[i++]);else if(n[i]===e[o]){t.push(n[i]),i++,o++;continue}else n[i]<e[o]?t.push(n[i++]):t.push(e[o++]);return t}function DEe(n,e){const t=[];let i=0,o=0;for(;i<n.length||o<e.length;)if(i>=n.length)t.push(e[o++]);else if(o>=e.length)t.push(n[i++]);else if(n[i]===e[o]){i++,o++;continue}else n[i]<e[o]?t.push(n[i++]):o++;return t}const Sj=(n,e)=>n-e;class EEe{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,o){let r=0;for(const s of this.renderers)s.renderElement(e,t,i[r++],o)}disposeElement(e,t,i,o){var r;let s=0;for(const a of this.renderers)(r=a.disposeElement)===null||r===void 0||r.call(a,e,t,i[s],o),s+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class TEe{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){const o=this.accessibilityProvider.getAriaLabel(e);o?i.setAttribute("aria-label",o):i.removeAttribute("aria-label");const r=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof r=="number"?i.setAttribute("aria-level",`${r}`):i.removeAttribute("aria-level")}disposeTemplate(e){}}class IEe{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){var i,o;(o=(i=this.dnd).onDragStart)===null||o===void 0||o.call(i,e,t)}onDragOver(e,t,i,o,r){return this.dnd.onDragOver(e,t,i,o,r)}onDragLeave(e,t,i,o){var r,s;(s=(r=this.dnd).onDragLeave)===null||s===void 0||s.call(r,e,t,i,o)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}drop(e,t,i,o,r){this.dnd.drop(e,t,i,o,r)}dispose(){this.dnd.dispose()}}class pa{get onDidChangeFocus(){return me.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return me.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=me.chain(this.disposables.add(new It(this.view.domNode,"keydown")).event,r=>r.map(s=>new Ni(s)).filter(s=>e=s.keyCode===58||s.shiftKey&&s.keyCode===68).map(s=>_t.stop(s,!0)).filter(()=>!1)),i=me.chain(this.disposables.add(new It(this.view.domNode,"keyup")).event,r=>r.forEach(()=>e=!1).map(s=>new Ni(s)).filter(s=>s.keyCode===58||s.shiftKey&&s.keyCode===68).map(s=>_t.stop(s,!0)).map(({browserEvent:s})=>{const a=this.getFocus(),l=a.length?a[0]:void 0,c=typeof l<"u"?this.view.element(l):void 0,d=typeof l<"u"?this.view.domElement(l):this.view.domNode;return{index:l,element:c,anchor:d,browserEvent:s}})),o=me.chain(this.view.onContextMenu,r=>r.filter(s=>!e).map(({element:s,index:a,browserEvent:l})=>({element:s,index:a,anchor:new dl(qe(this.view.domNode),l),browserEvent:l})));return me.any(t,i,o)}get onKeyDown(){return this.disposables.add(new It(this.view.domNode,"keydown")).event}get onDidFocus(){return me.signal(this.disposables.add(new It(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return me.signal(this.disposables.add(new It(this.view.domNode,"blur",!0)).event)}constructor(e,t,i,o,r=kEe){var s,a,l,c;this.user=e,this._options=r,this.focus=new V2("focused"),this.anchor=new V2("anchor"),this.eventBufferer=new W8,this._ariaLabel="",this.disposables=new oe,this._onDidDispose=new B,this.onDidDispose=this._onDidDispose.event;const d=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(s=this._options.accessibilityProvider)===null||s===void 0?void 0:s.getWidgetRole():"list";this.selection=new vEe(d!=="listbox");const u=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=r.accessibilityProvider,this.accessibilityProvider&&(u.push(new TEe(this.accessibilityProvider)),(l=(a=this.accessibilityProvider).onDidChangeActiveDescendant)===null||l===void 0||l.call(a,this.onDidChangeActiveDescendant,this,this.disposables)),o=o.map(g=>new EEe(g.templateId,[...u,g]));const h={...r,dnd:r.dnd&&new IEe(this,r.dnd)};if(this.view=this.createListView(t,i,o,h),this.view.domNode.setAttribute("role",d),r.styleController)this.styleController=r.styleController(this.view.domId);else{const g=sa(this.view.domNode);this.styleController=new Wte(g,this.view.domId)}if(this.spliceable=new sEe([new QM(this.focus,this.view,r.identityProvider),new QM(this.selection,this.view,r.identityProvider),new QM(this.anchor,this.view,r.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new wEe(this,this.view)),(typeof r.keyboardSupport!="boolean"||r.keyboardSupport)&&(this.keyboardController=new Pte(this,this.view,r),this.disposables.add(this.keyboardController)),r.keyboardNavigationLabelProvider){const g=r.keyboardNavigationDelegate||CEe;this.typeNavigationController=new yEe(this,this.view,r.keyboardNavigationLabelProvider,(c=r.keyboardNavigationEventFilter)!==null&&c!==void 0?c:()=>!0,g),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(r),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(e,t,i,o){return new qa(e,t,i,o)}createMouseController(e){return new Bte(this)}updateOptions(e={}){var t,i;this._options={...this._options,...e},(t=this.typeNavigationController)===null||t===void 0||t.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),(i=this.keyboardController)===null||i===void 0||i.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new ep(this.user,`Invalid start index: ${e}`);if(t<0)throw new ep(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}indexOf(e){return this.view.indexOf(e)}indexAt(e){return this.view.indexAt(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new ep(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new ep(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return E8(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new ep(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,o){if(this.length===0)return;const r=this.focus.get(),s=this.findNextIndex(r.length>0?r[0]+e:0,t,o);s>-1&&this.setFocus([s],i)}focusPrevious(e=1,t=!1,i,o){if(this.length===0)return;const r=this.focus.get(),s=this.findPreviousIndex(r.length>0?r[0]-e:0,t,o);s>-1&&this.setFocus([s],i)}async focusNextPage(e,t){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;const o=this.getFocus()[0];if(o!==i&&(o===void 0||i>o)){const r=this.findPreviousIndex(i,!1,t);r>-1&&o!==r?this.setFocus([r],e):this.setFocus([i],e)}else{const r=this.view.getScrollTop();let s=r+this.view.renderHeight;i>o&&(s-=this.view.elementHeight(i)),this.view.setScrollTop(s),this.view.getScrollTop()!==r&&(this.setFocus([]),await tf(0),await this.focusNextPage(e,t))}}async focusPreviousPage(e,t,i=()=>0){let o;const r=i(),s=this.view.getScrollTop()+r;s===0?o=this.view.indexAt(s):o=this.view.indexAfter(s-1);const a=this.getFocus()[0];if(a!==o&&(a===void 0||a>=o)){const l=this.findNextIndex(o,!1,t);l>-1&&a!==l?this.setFocus([l],e):this.setFocus([o],e)}else{const l=s;this.view.setScrollTop(s-this.view.renderHeight-r),this.view.getScrollTop()+i()!==l&&(this.setFocus([]),await tf(0),await this.focusPreviousPage(e,t,i))}}focusLast(e,t){if(this.length===0)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;const o=this.findNextIndex(e,!1,i);o>-1&&this.setFocus([o],t)}findNextIndex(e,t=!1,i){for(let o=0;o<this.length;o++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let o=0;o<this.length;o++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t,i=0){if(e<0||e>=this.length)throw new ep(this.user,`Invalid index ${e}`);const o=this.view.getScrollTop(),r=this.view.elementTop(e),s=this.view.elementHeight(e);if(Xg(t)){const a=s-this.view.renderHeight+i;this.view.setScrollTop(a*wr(t,0,1)+r-i)}else{const a=r+s,l=o+this.view.renderHeight;r<o+i&&a>=l||(r<o+i||a>=l&&s>=this.view.renderHeight?this.view.setScrollTop(r-i):a>=l&&this.view.setScrollTop(a-this.view.renderHeight))}}getRelativeTop(e,t=0){if(e<0||e>=this.length)throw new ep(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),o=this.view.elementTop(e),r=this.view.elementHeight(e);if(o<i+t||o+r>i+this.view.renderHeight)return null;const s=r-this.view.renderHeight+t;return Math.abs((i+t-o)/s)}isDOMFocused(){return wS(this.view.domNode)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(e){return this.view.getElementDomId(e)}getElementTop(e){return this.view.elementTop(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let i;!((e=this.accessibilityProvider)===null||e===void 0)&&e.getActiveDescendantId&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Bf([Sn],pa.prototype,"onDidChangeFocus",null);Bf([Sn],pa.prototype,"onDidChangeSelection",null);Bf([Sn],pa.prototype,"onContextMenu",null);Bf([Sn],pa.prototype,"onKeyDown",null);Bf([Sn],pa.prototype,"onDidFocus",null);Bf([Sn],pa.prototype,"onDidBlur",null);const Op=ue,Vte="selectOption.entry.template";class NEe{get templateId(){return Vte}renderTemplate(e){const t=Object.create(null);return t.root=e,t.text=ie(e,Op(".option-text")),t.detail=ie(e,Op(".option-detail")),t.decoratorRight=ie(e,Op(".option-decorator-right")),t}renderElement(e,t,i){const o=i,r=e.text,s=e.detail,a=e.decoratorRight,l=e.isDisabled;o.text.textContent=r,o.detail.textContent=s||"",o.decoratorRight.innerText=a||"",l?o.root.classList.add("option-disabled"):o.root.classList.remove("option-disabled")}disposeTemplate(e){}}class ud extends z{constructor(e,t,i,o,r){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=o,this.selectBoxOptions=r||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=ud.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._hover=this._register(Qm(wh("mouse"),this.selectElement,"")),this._onDidSelect=new B,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(i),this.selected=t||0,e&&this.setOptions(e,t),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return Vte}constructSelectDropDown(e){this.contextViewProvider=e,this.selectDropDownContainer=ue(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=ie(this.selectDropDownContainer,Op(".select-box-details-pane"));const t=ie(this.selectDropDownContainer,Op(".select-box-dropdown-container-width-control")),i=ie(t,Op(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",ie(i,this.widthControlElement),this._dropDownPosition=0,this.styleElement=sa(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(j(this.selectDropDownContainer,ge.DRAG_START,o=>{_t.stop(o,!0)}))}registerListeners(){this._register(fn(this.selectElement,"change",t=>{this.selected=t.target.selectedIndex,this._onDidSelect.fire({index:t.target.selectedIndex,selected:t.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this._hover.update(this.options[this.selected].text)})),this._register(j(this.selectElement,ge.CLICK,t=>{_t.stop(t),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(j(this.selectElement,ge.MOUSE_DOWN,t=>{_t.stop(t)}));let e;this._register(j(this.selectElement,"touchstart",t=>{e=this._isVisible})),this._register(j(this.selectElement,"touchend",t=>{_t.stop(t),e?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(j(this.selectElement,ge.KEY_DOWN,t=>{const i=new Ni(t);let o=!1;Rt?(i.keyCode===18||i.keyCode===16||i.keyCode===10||i.keyCode===3)&&(o=!0):(i.keyCode===18&&i.altKey||i.keyCode===16&&i.altKey||i.keyCode===10||i.keyCode===3)&&(o=!0),o&&(this.showSelectDropDown(),_t.stop(t,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){en(this.options,e)||(this.options=e,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((i,o)=>{this.selectElement.add(this.createOption(i.text,o,i.isDisabled)),typeof i.description=="string"&&(this._hasDetails=!0)})),t!==void 0&&(this.select(t),this._currentSelection=this.selected)}setOptionsList(){var e;(e=this.selectList)===null||e===void 0||e.splice(0,this.selectList.length,this.options)}select(e){e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this._hover.update(this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){this.container=e,e.classList.add("select-container"),e.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const e=[];this.styles.listFocusBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(e.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=e.join(`
`)}styleSelectElement(){var e,t,i;const o=(e=this.styles.selectBackground)!==null&&e!==void 0?e:"",r=(t=this.styles.selectForeground)!==null&&t!==void 0?t:"",s=(i=this.styles.selectBorder)!==null&&i!==void 0?i:"";this.selectElement.style.backgroundColor=o,this.selectElement.style.color=r,this.selectElement.style.borderColor=s}styleList(){var e,t;const i=(e=this.styles.selectBackground)!==null&&e!==void 0?e:"",o=Gu(this.styles.selectListBackground,i);this.selectDropDownListContainer.style.backgroundColor=o,this.selectionDetailsPane.style.backgroundColor=o;const r=(t=this.styles.focusBorder)!==null&&t!==void 0?t:"";this.selectDropDownContainer.style.outlineColor=r,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(e,t,i){const o=document.createElement("option");return o.value=e,o.text=e,o.disabled=!!i,o}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(e){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),e&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(e,t){return e.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(t),{dispose:()=>{try{e.removeChild(this.selectDropDownContainer)}catch{}}}}measureMaxDetailsHeight(){let e=0;return this.options.forEach((t,i)=>{this.updateDetail(i),this.selectionDetailsPane.offsetHeight>e&&(e=this.selectionDetailsPane.offsetHeight)}),e}layoutSelectDropDown(e){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const t=qe(this.selectElement),i=In(this.selectElement),o=qe(this.selectElement).getComputedStyle(this.selectElement),r=parseFloat(o.getPropertyValue("--dropdown-padding-top"))+parseFloat(o.getPropertyValue("--dropdown-padding-bottom")),s=t.innerHeight-i.top-i.height-(this.selectBoxOptions.minBottomMargin||0),a=i.top-ud.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,l=this.selectElement.offsetWidth,c=this.setWidthControlElement(this.widthControlElement),d=Math.max(c,Math.round(l)).toString()+"px";this.selectDropDownContainer.style.width=d,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let u=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const h=this._hasDetails?this._cachedMaxDetailsHeight:0,g=u+r+h,f=Math.floor((s-r-h)/this.getHeight()),p=Math.floor((a-r-h)/this.getHeight());if(e)return i.top+i.height>t.innerHeight-22||i.top<ud.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||f<1&&p<1?!1:(f<ud.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&p>f&&this.options.length>f?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(i.top+i.height>t.innerHeight-22||i.top<ud.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&f<1||this._dropDownPosition===1&&p<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&f+p<1)return this.hideSelectDropDown(!0),!1;g>s&&(u=f*this.getHeight())}else g>a&&(u=p*this.getHeight());return this.selectList.layout(u),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=u+r+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=u+r+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=d,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(e){let t=0;if(e){let i=0,o=0;this.options.forEach((r,s)=>{const a=r.detail?r.detail.length:0,l=r.decoratorRight?r.decoratorRight.length:0,c=r.text.length+a+l;c>o&&(i=s,o=c)}),e.textContent=this.options[i].text+(this.options[i].decoratorRight?this.options[i].decoratorRight+" ":""),t=yr(e)}return t}createSelectList(e){if(this.selectList)return;this.selectDropDownListContainer=ie(e,Op(".select-box-dropdown-list-container")),this.listRenderer=new NEe,this.selectList=new pa("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:o=>{let r=o.text;return o.detail&&(r+=`. ${o.detail}`),o.decoratorRight&&(r+=`. ${o.decoratorRight}`),o.description&&(r+=`. ${o.description}`),r},getWidgetAriaLabel:()=>m({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>Rt?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const t=this._register(new It(this.selectDropDownListContainer,"keydown")),i=me.chain(t.event,o=>o.filter(()=>this.selectList.length>0).map(r=>new Ni(r)));this._register(me.chain(i,o=>o.filter(r=>r.keyCode===3))(this.onEnter,this)),this._register(me.chain(i,o=>o.filter(r=>r.keyCode===2))(this.onEnter,this)),this._register(me.chain(i,o=>o.filter(r=>r.keyCode===9))(this.onEscape,this)),this._register(me.chain(i,o=>o.filter(r=>r.keyCode===16))(this.onUpArrow,this)),this._register(me.chain(i,o=>o.filter(r=>r.keyCode===18))(this.onDownArrow,this)),this._register(me.chain(i,o=>o.filter(r=>r.keyCode===12))(this.onPageDown,this)),this._register(me.chain(i,o=>o.filter(r=>r.keyCode===11))(this.onPageUp,this)),this._register(me.chain(i,o=>o.filter(r=>r.keyCode===14))(this.onHome,this)),this._register(me.chain(i,o=>o.filter(r=>r.keyCode===13))(this.onEnd,this)),this._register(me.chain(i,o=>o.filter(r=>r.keyCode>=21&&r.keyCode<=56||r.keyCode>=85&&r.keyCode<=113))(this.onCharacter,this)),this._register(j(this.selectList.getHTMLElement(),ge.POINTER_UP,o=>this.onPointerUp(o))),this._register(this.selectList.onMouseOver(o=>typeof o.index<"u"&&this.selectList.setFocus([o.index]))),this._register(this.selectList.onDidChangeFocus(o=>this.onListFocus(o))),this._register(j(this.selectDropDownContainer,ge.FOCUS_OUT,o=>{!this._isVisible||To(o.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(e){if(!this.selectList.length)return;_t.stop(e);const t=e.target;if(!t||t.classList.contains("slider"))return;const i=t.closest(".monaco-list-row");if(!i)return;const o=Number(i.getAttribute("data-index")),r=i.classList.contains("option-disabled");o>=0&&o<this.options.length&&!r&&(this.selected=o,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this._hover.update(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(e,t){const i=r=>{for(let s=0;s<r.childNodes.length;s++){const a=r.childNodes.item(s);(a.tagName&&a.tagName.toLowerCase())==="img"?r.removeChild(a):i(a)}},o=DI({value:e,supportThemeIcons:!0},{actionHandler:t});return o.element.classList.add("select-box-description-markdown"),i(o.element),o.element}onListFocus(e){!this._isVisible||!this._hasDetails||this.updateDetail(e.indexes[0])}updateDetail(e){var t,i;this.selectionDetailsPane.innerText="";const o=this.options[e],r=(t=o==null?void 0:o.description)!==null&&t!==void 0?t:"",s=(i=o==null?void 0:o.descriptionIsMarkdown)!==null&&i!==void 0?i:!1;if(r){if(s){const a=o.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(r,a))}else this.selectionDetailsPane.innerText=r;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(e){_t.stop(e),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(e){_t.stop(e),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this._hover.update(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(e){if(this.selected<this.options.length-1){_t.stop(e,!0);const t=this.options[this.selected+1].isDisabled;if(t&&this.options.length>this.selected+2)this.selected+=2;else{if(t)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(e){this.selected>0&&(_t.stop(e,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(e){_t.stop(e),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(e){_t.stop(e),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(e){_t.stop(e),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(e){_t.stop(e),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(e){const t=bu.toString(e.keyCode);let i=-1;for(let o=0;o<this.options.length-1;o++)if(i=(o+this.selected+1)%this.options.length,this.options[i].text.charAt(0).toUpperCase()===t&&!this.options[i].isDisabled){this.select(i),this.selectList.setFocus([i]),this.selectList.reveal(this.selectList.getFocus()[0]),_t.stop(e);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}ud.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32;ud.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2;ud.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;class REe extends z{constructor(e,t,i,o){super(),this.selected=0,this.selectBoxOptions=o||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new B),this.styles=i,this.registerListeners(),this.setOptions(e,t)}registerListeners(){this._register(Si.addTarget(this.selectElement)),[xi.Tap].forEach(e=>{this._register(j(this.selectElement,e,t=>{this.selectElement.focus()}))}),this._register(fn(this.selectElement,"click",e=>{_t.stop(e,!0)})),this._register(fn(this.selectElement,"change",e=>{this.selectElement.title=e.target.value,this._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value})})),this._register(fn(this.selectElement,"keydown",e=>{let t=!1;Rt?(e.keyCode===18||e.keyCode===16||e.keyCode===10)&&(t=!0):(e.keyCode===18&&e.altKey||e.keyCode===10||e.keyCode===3)&&(t=!0),t&&e.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){(!this.options||!en(this.options,e))&&(this.options=e,this.selectElement.options.length=0,this.options.forEach((i,o)=>{this.selectElement.add(this.createOption(i.text,o,i.isDisabled))})),t!==void 0&&this.select(t)}select(e){this.options.length===0?this.selected=0:e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){e.classList.add("select-container"),e.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var e,t,i;this.selectElement&&(this.selectElement.style.backgroundColor=(e=this.styles.selectBackground)!==null&&e!==void 0?e:"",this.selectElement.style.color=(t=this.styles.selectForeground)!==null&&t!==void 0?t:"",this.selectElement.style.borderColor=(i=this.styles.selectBorder)!==null&&i!==void 0?i:"")}createOption(e,t,i){const o=document.createElement("option");return o.value=e,o.text=e,o.disabled=!!i,o}}class MEe extends fa{constructor(e,t,i,o,r){super(),Rt&&!(r!=null&&r.useCustomDrawn)?this.selectBoxDelegate=new REe(e,t,o,r):this.selectBoxDelegate=new ud(e,t,i,o,r),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(e,t){this.selectBoxDelegate.setOptions(e,t)}select(e){this.selectBoxDelegate.select(e)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(e){this.selectBoxDelegate.setFocusable(e)}render(e){this.selectBoxDelegate.render(e)}}class Zl extends z{get action(){return this._action}constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof Ss&&this._register(t.onDidChange(o=>{this.element&&this.handleActionChangeEvent(o)}))}handleActionChangeEvent(e){e.enabled!==void 0&&this.updateEnabled(),e.checked!==void 0&&this.updateChecked(),e.class!==void 0&&this.updateClass(),e.label!==void 0&&(this.updateLabel(),this.updateTooltip()),e.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new mm)),this._actionRunner}set actionRunner(e){this._actionRunner=e}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(Si.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,Oa&&this._register(j(e,ge.DRAG_START,o=>{var r;return(r=o.dataTransfer)===null||r===void 0?void 0:r.setData(gw.TEXT,this._action.label)}))),this._register(j(t,xi.Tap,o=>this.onClick(o,!0))),this._register(j(t,ge.MOUSE_DOWN,o=>{i||_t.stop(o,!0),this._action.enabled&&o.button===0&&t.classList.add("active")})),Rt&&this._register(j(t,ge.CONTEXT_MENU,o=>{o.button===0&&o.ctrlKey===!0&&this.onClick(o)})),this._register(j(t,ge.CLICK,o=>{_t.stop(o,!0),this.options&&this.options.isMenu||this.onClick(o)})),this._register(j(t,ge.DBLCLICK,o=>{_t.stop(o,!0)})),[ge.MOUSE_UP,ge.MOUSE_OUT].forEach(o=>{this._register(j(t,o,r=>{_t.stop(r),t.classList.remove("active")}))})}onClick(e,t=!1){var i;_t.stop(e,!0);const o=Gs(this._context)?!((i=this.options)===null||i===void 0)&&i.useEventAsContext?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,o)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var e,t,i;if(!this.element)return;const o=(e=this.getTooltip())!==null&&e!==void 0?e:"";if(this.updateAriaLabel(),!((t=this.options.hoverDelegate)===null||t===void 0)&&t.showNativeHover)this.element.title=o;else if(this.customHover)this.customHover.update(o);else{const r=(i=this.options.hoverDelegate)!==null&&i!==void 0?i:wh("element");this.customHover=Qm(r,this.element,o),this._store.add(this.customHover)}}updateAriaLabel(){var e;if(this.element){const t=(e=this.getTooltip())!==null&&e!==void 0?e:"";this.element.setAttribute("aria-label",t)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class j_ extends Zl{constructor(e,t,i){super(e,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),Jt(this.element);const t=document.createElement("a");if(t.classList.add("action-label"),t.setAttribute("role",this.getDefaultAriaRole()),this.label=t,this.element.appendChild(t),this.options.label&&this.options.keybinding){const i=document.createElement("span");i.classList.add("keybinding"),i.textContent=this.options.keybinding,this.element.appendChild(i)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===Kn.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(e=this.action.label,this.options.keybinding&&(e=m({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e??void 0}updateClass(){var e;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(e=this.label)===null||e===void 0||e.classList.remove("codicon")}updateEnabled(){var e,t;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(e=this.element)===null||e===void 0||e.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(t=this.element)===null||t===void 0||t.classList.add("disabled"))}updateAriaLabel(){var e;if(this.label){const t=(e=this.getTooltip())!==null&&e!==void 0?e:"";this.label.setAttribute("aria-label",t)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class AEe extends Zl{constructor(e,t,i,o,r,s,a){super(e,t),this.selectBox=new MEe(i,o,r,s,a),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(e){this.selectBox.select(e)}registerListeners(){this._register(this.selectBox.onDidSelect(e=>this.runAction(e.selected,e.index)))}runAction(e,t){this.actionRunner.run(this._action,this.getActionContext(e,t))}getActionContext(e,t){return e}setFocusable(e){this.selectBox.setFocusable(e)}focus(){var e;(e=this.selectBox)===null||e===void 0||e.focus()}blur(){var e;(e=this.selectBox)===null||e===void 0||e.blur()}render(e){this.selectBox.render(e)}}class PEe extends mm{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new B),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=ie(e,ue(".monaco-dropdown")),this._label=ie(this._element,ue(".dropdown-label"));let i=t.labelRenderer;i||(i=r=>(r.textContent=t.label||"",null));for(const r of[ge.CLICK,ge.MOUSE_DOWN,xi.Tap])this._register(j(this.element,r,s=>_t.stop(s,!0)));for(const r of[ge.MOUSE_DOWN,xi.Tap])this._register(j(this._label,r,s=>{n6(s)&&(s.detail>1||s.button!==0)||(this.visible?this.hide():this.show())}));this._register(j(this._label,ge.KEY_UP,r=>{const s=new Ni(r);(s.equals(3)||s.equals(10))&&(_t.stop(r,!0),this.visible?this.hide():this.show())}));const o=i(this._label);o&&this._register(o),this._register(Si.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class OEe extends PEe{constructor(e,t){super(e,t),this._options=t,this._actions=[],this.actions=t.actions||[]}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(e,t)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e,t):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class z2 extends Zl{constructor(e,t,i,o=Object.create(null)){super(null,e,o),this.actionItem=null,this._onDidChangeVisibility=this._register(new B),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=o,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=r=>{this.element=ie(r,ue("a.action-label"));let s=[];return typeof this.options.classNames=="string"?s=this.options.classNames.split(/\s+/g).filter(a=>!!a):this.options.classNames&&(s=this.options.classNames),s.find(a=>a==="icon")||s.push("codicon"),this.element.classList.add(...s),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this._action.label&&this._register(Qm(wh("mouse"),this.element,this._action.label)),this.element.ariaLabel=this._action.label||"",null},i=Array.isArray(this.menuActionsOrProvider),o={contextMenuProvider:this.contextMenuProvider,labelRenderer:t,menuAsChild:this.options.menuAsChild,actions:i?this.menuActionsOrProvider:void 0,actionProvider:i?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new OEe(e,o)),this._register(this.dropdownMenu.onDidChangeVisibility(r=>{var s;(s=this.element)===null||s===void 0||s.setAttribute("aria-expanded",`${r}`),this._onDidChangeVisibility.fire(r)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const r=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return r.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:this.action.label&&(e=this.action.label),e??void 0}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}show(){var e;(e=this.dropdownMenu)===null||e===void 0||e.show()}updateEnabled(){var e,t;const i=!this.action.enabled;(e=this.actionItem)===null||e===void 0||e.classList.toggle("disabled",i),(t=this.element)===null||t===void 0||t.classList.toggle("disabled",i)}}function FEe(n){return n?n.condition!==void 0:!1}var Qb;(function(n){n[n.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",n[n.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(Qb||(Qb={}));var wb;(function(n){n[n.None=0]="None",n[n.Initialized=1]="Initialized",n[n.Closed=2]="Closed"})(wb||(wb={}));class Jb extends z{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new dm),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=wb.None,this.cache=new Map,this.flushDelayer=this._register(new BQ(Jb.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){var t,i;this._onDidChangeStorage.pause();try{(t=e.changed)===null||t===void 0||t.forEach((o,r)=>this.acceptExternal(r,o)),(i=e.deleted)===null||i===void 0||i.forEach(o=>this.acceptExternal(o,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(e,t){if(this.state===wb.Closed)return;let i=!1;Gs(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire({key:e,external:!0})}get(e,t){const i=this.cache.get(e);return Gs(i)?t:i}getBoolean(e,t){const i=this.get(e);return Gs(i)?t:i==="true"}getNumber(e,t){const i=this.get(e);return Gs(i)?t:parseInt(i,10)}async set(e,t,i=!1){if(this.state===wb.Closed)return;if(Gs(t))return this.delete(e,i);const o=Tr(t)||Array.isArray(t)?jDe(t):String(t);if(this.cache.get(e)!==o)return this.cache.set(e,o),this.pendingInserts.set(e,o),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire({key:e,external:i}),this.doFlush()}async delete(e,t=!1){if(!(this.state===wb.Closed||!this.cache.delete(e)))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire({key:e,external:t}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())===null||t===void 0||t()})}async doFlush(e){return this.options.hint===Qb.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),e)}}Jb.DEFAULT_FLUSH_DELAY=100;class JM{constructor(){this.onDidChangeItemsExternal=me.None,this.items=new Map}async updateItems(e){var t,i;(t=e.insert)===null||t===void 0||t.forEach((o,r)=>this.items.set(r,o)),(i=e.delete)===null||i===void 0||i.forEach(o=>this.items.delete(o))}}const VL="__$__targetStorageMarker",El=Et("storageService");var fw;(function(n){n[n.NONE=0]="NONE",n[n.SHUTDOWN=1]="SHUTDOWN"})(fw||(fw={}));function BEe(n){const e=n.get(VL);if(e)try{return JSON.parse(e)}catch{}return Object.create(null)}class RI extends z{constructor(e={flushInterval:RI.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new dm),this._onDidChangeTarget=this._register(new dm),this._onWillSaveState=this._register(new B),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(e,t,i){return me.filter(this._onDidChangeValue.event,o=>o.scope===e&&(t===void 0||o.key===t),i)}emitDidChangeValue(e,t){const{key:i,external:o}=t;if(i===VL){switch(e){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:e})}else this._onDidChangeValue.fire({scope:e,key:i,target:this.getKeyTargets(e)[i],external:o})}get(e,t,i){var o;return(o=this.getStorage(t))===null||o===void 0?void 0:o.get(e,i)}getBoolean(e,t,i){var o;return(o=this.getStorage(t))===null||o===void 0?void 0:o.getBoolean(e,i)}getNumber(e,t,i){var o;return(o=this.getStorage(t))===null||o===void 0?void 0:o.getNumber(e,i)}store(e,t,i,o,r=!1){if(Gs(t)){this.remove(e,i,r);return}this.withPausedEmitters(()=>{var s;this.updateKeyTarget(e,i,o),(s=this.getStorage(i))===null||s===void 0||s.set(e,t,r)})}remove(e,t,i=!1){this.withPausedEmitters(()=>{var o;this.updateKeyTarget(e,t,void 0),(o=this.getStorage(t))===null||o===void 0||o.delete(e,i)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i,o=!1){var r,s;const a=this.getKeyTargets(t);typeof i=="number"?a[e]!==i&&(a[e]=i,(r=this.getStorage(t))===null||r===void 0||r.set(VL,JSON.stringify(a),o)):typeof a[e]=="number"&&(delete a[e],(s=this.getStorage(t))===null||s===void 0||s.set(VL,JSON.stringify(a),o))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(e){switch(e){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(e){const t=this.getStorage(e);return t?BEe(t):Object.create(null)}}RI.DEFAULT_FLUSH_INTERVAL=60*1e3;class WEe extends RI{constructor(){super(),this.applicationStorage=this._register(new Jb(new JM,{hint:Qb.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new Jb(new JM,{hint:Qb.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new Jb(new JM,{hint:Qb.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.profileStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e))),this._register(this.applicationStorage.onDidChangeStorage(e=>this.emitDidChangeValue(-1,e)))}getStorage(e){switch(e){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}function VEe(n,e){const t={...e};for(const i in n){const o=n[i];t[i]=o!==void 0?ke(o):void 0}return t}const HEe={keybindingLabelBackground:ke(uCe),keybindingLabelForeground:ke(hCe),keybindingLabelBorder:ke(gCe),keybindingLabelBottomBorder:ke(fCe),keybindingLabelShadow:ke(Ru)},zEe={buttonForeground:ke(W1),buttonSeparator:ke(J1e),buttonBackground:ke(V1),buttonHoverBackground:ke(eCe),buttonSecondaryForeground:ke(iCe),buttonSecondaryBackground:ke(f4),buttonSecondaryHoverBackground:ke(nCe),buttonBorder:ke(tCe)},UEe={progressBarBackground:ke(rCe)},U2={inputActiveOptionBorder:ke(x6),inputActiveOptionForeground:ke(k6),inputActiveOptionBackground:ke(Np)};ke($Ce),ke(KCe),ke(jCe);ke(wn),ke(Au),ke(Ru),ke(Nt),ke(lye),ke(cye),ke(dye),ke(z1e);const $2={inputBackground:ke(GJ),inputForeground:ke(ZJ),inputBorder:ke(YJ),inputValidationInfoBorder:ke(j1e),inputValidationInfoBackground:ke(U1e),inputValidationInfoForeground:ke($1e),inputValidationWarningBorder:ke(G1e),inputValidationWarningBackground:ke(K1e),inputValidationWarningForeground:ke(q1e),inputValidationErrorBorder:ke(X1e),inputValidationErrorBackground:ke(Z1e),inputValidationErrorForeground:ke(Y1e)},$Ee={listFilterWidgetBackground:ke(FCe),listFilterWidgetOutline:ke(BCe),listFilterWidgetNoMatchesOutline:ke(WCe),listFilterWidgetShadow:ke(VCe),inputBoxStyles:$2,toggleStyles:U2},Hte={badgeBackground:ke(IL),badgeForeground:ke(oCe),badgeBorder:ke(Nt)};ke(tye),ke(eye),ke(RU),ke(RU),ke(iye);const Wf={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:ke(LCe),listFocusForeground:ke(DCe),listFocusOutline:ke(ECe),listActiveSelectionBackground:ke(Wu),listActiveSelectionForeground:ke(bd),listActiveSelectionIconForeground:ke(j1),listFocusAndSelectionOutline:ke(TCe),listFocusAndSelectionBackground:ke(Wu),listFocusAndSelectionForeground:ke(bd),listInactiveSelectionBackground:ke(ICe),listInactiveSelectionIconForeground:ke(RCe),listInactiveSelectionForeground:ke(NCe),listInactiveFocusBackground:ke(MCe),listInactiveFocusOutline:ke(ACe),listHoverBackground:ke(eee),listHoverForeground:ke(tee),listDropOverBackground:ke(PCe),listDropBetweenBackground:ke(OCe),listSelectionOutline:ke(Oi),listHoverOutline:ke(Oi),treeIndentGuidesStroke:ke(K1),treeInactiveIndentGuidesStroke:ke(HCe),tableColumnsBorder:ke(zCe),tableOddRowsBackgroundColor:ke(UCe)};function x0(n){return VEe(n,Wf)}const jEe={selectBackground:ke(md),selectListBackground:ke(Q1e),selectForeground:ke(Mu),decoratorRightForeground:ke(XJ),selectBorder:ke(db),focusBorder:ke(Da),listFocusBackground:ke(Mp),listInactiveSelectionIconForeground:ke(ub),listFocusForeground:ke(Rp),listFocusOutline:V1e(Oi,U.transparent.toString()),listHoverBackground:ke(eee),listHoverForeground:ke(tee),listHoverOutline:ke(Oi),selectListBorder:ke(Pu),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},KEe={shadowColor:ke(Ru),borderColor:ke(qCe),foregroundColor:ke(GCe),backgroundColor:ke(ZCe),selectionForegroundColor:ke(YCe),selectionBackgroundColor:ke(XCe),selectionBorderColor:ke(QCe),separatorColor:ke(JCe),scrollbarShadow:ke(H1),scrollbarSliderBackground:ke(z1),scrollbarSliderHoverBackground:ke(U1),scrollbarSliderActiveBackground:ke($1)};var MI=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},ts=function(n,e){return function(t,i){e(t,i,n)}};function qEe(n,e,t,i){const o=n.getActions(e),r=Nu.getInstance(),s=r.keyStatus.altKey||(Qo||Br)&&r.keyStatus.shiftKey;zte(o,t,s,i?a=>a===i:a=>a==="navigation")}function AI(n,e,t,i,o,r){const s=n.getActions(e);zte(s,t,!1,typeof i=="string"?l=>l===i:i,o,r)}function zte(n,e,t,i=s=>s==="navigation",o=()=>!1,r=!1){let s,a;Array.isArray(e)?(s=e,a=e):(s=e.primary,a=e.secondary);const l=new Set;for(const[c,d]of n){let u;i(c)?(u=s,u.length>0&&r&&u.push(new Kn)):(u=a,u.length>0&&u.push(new Kn));for(let h of d){t&&(h=h instanceof aa&&h.alt?h.alt:h);const g=u.push(h);h instanceof k_&&l.add({group:c,action:h,index:g-1})}}for(const{group:c,action:d,index:u}of l){const h=i(c)?s:a,g=d.actions;o(d,c,h.length)&&h.splice(u,1,...g)}}let hf=class extends j_{constructor(e,t,i,o,r,s,a,l){super(void 0,e,{icon:!!(e.class||e.item.icon),label:!e.class&&!e.item.icon,draggable:t==null?void 0:t.draggable,keybinding:t==null?void 0:t.keybinding,hoverDelegate:t==null?void 0:t.hoverDelegate}),this._keybindingService=i,this._notificationService=o,this._contextKeyService=r,this._themeService=s,this._contextMenuService=a,this._accessibilityService=l,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new bo),this._altKey=Nu.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(e){e.preventDefault(),e.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}}render(e){if(super.render(e),e.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let t=!1;const i=()=>{var o;const r=!!(!((o=this._menuItemAction.alt)===null||o===void 0)&&o.enabled)&&(!this._accessibilityService.isMotionReduced()||t)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&t);r!==this._wantsAltCommand&&(this._wantsAltCommand=r,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(i)),this._register(j(e,"mouseleave",o=>{t=!1,i()})),this._register(j(e,"mouseenter",o=>{t=!0,i()})),i()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var e;const t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),i=t&&t.getLabel(),o=this._commandAction.tooltip||this._commandAction.label;let r=i?m("titleAndKb","{0} ({1})",o,i):o;if(!this._wantsAltCommand&&(!((e=this._menuItemAction.alt)===null||e===void 0)&&e.enabled)){const s=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,a=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),l=a&&a.getLabel(),c=l?m("titleAndKb","{0} ({1})",s,l):s;r=m("titleAndKbAndAlt",`{0}
[{1}] {2}`,r,b7.modifierLabels[Cs].altKey,c)}return r}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){this._itemClassDispose.value=void 0;const{element:t,label:i}=this;if(!t||!i)return;const o=this._commandAction.checked&&FEe(e.toggled)&&e.toggled.icon?e.toggled.icon:e.icon;if(o)if(Ze.isThemeIcon(o)){const r=Ze.asClassNameArray(o);i.classList.add(...r),this._itemClassDispose.value=je(()=>{i.classList.remove(...r)})}else i.style.backgroundImage=P_(this._themeService.getColorTheme().type)?of(o.dark):of(o.light),i.classList.add("icon"),this._itemClassDispose.value=vl(je(()=>{i.style.backgroundImage="",i.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};hf=MI([ts(2,di),ts(3,Nn),ts(4,Xe),ts(5,ao),ts(6,Ps),ts(7,Dl)],hf);let p3=class extends z2{constructor(e,t,i,o,r){var s,a,l;const c={...t,menuAsChild:(s=t==null?void 0:t.menuAsChild)!==null&&s!==void 0?s:!1,classNames:(a=t==null?void 0:t.classNames)!==null&&a!==void 0?a:Ze.isThemeIcon(e.item.icon)?Ze.asClassName(e.item.icon):void 0,keybindingProvider:(l=t==null?void 0:t.keybindingProvider)!==null&&l!==void 0?l:d=>i.lookupKeybinding(d.id)};super(e,{getActions:()=>e.actions},o,c),this._keybindingService=i,this._contextMenuService=o,this._themeService=r}render(e){super.render(e),Jt(this.element),e.classList.add("menu-entry");const t=this._action,{icon:i}=t.item;if(i&&!Ze.isThemeIcon(i)){this.element.classList.add("icon");const o=()=>{this.element&&(this.element.style.backgroundImage=P_(this._themeService.getColorTheme().type)?of(i.dark):of(i.light))};o(),this._register(this._themeService.onDidColorThemeChange(()=>{o()}))}}};p3=MI([ts(2,di),ts(3,Ps),ts(4,ao)],p3);let m3=class extends Zl{constructor(e,t,i,o,r,s,a,l){var c,d,u;super(null,e),this._keybindingService=i,this._notificationService=o,this._contextMenuService=r,this._menuService=s,this._instaService=a,this._storageService=l,this._container=null,this._options=t,this._storageKey=`${e.item.submenu.id}_lastActionId`;let h;const g=t!=null&&t.persistLastActionId?l.get(this._storageKey,1):void 0;g&&(h=e.actions.find(p=>g===p.id)),h||(h=e.actions[0]),this._defaultAction=this._instaService.createInstance(hf,h,{keybinding:this._getDefaultActionKeybindingLabel(h)});const f={keybindingProvider:p=>this._keybindingService.lookupKeybinding(p.id),...t,menuAsChild:(c=t==null?void 0:t.menuAsChild)!==null&&c!==void 0?c:!0,classNames:(d=t==null?void 0:t.classNames)!==null&&d!==void 0?d:["codicon","codicon-chevron-down"],actionRunner:(u=t==null?void 0:t.actionRunner)!==null&&u!==void 0?u:new mm};this._dropdown=new z2(e,e.actions,this._contextMenuService,f),this._register(this._dropdown.actionRunner.onDidRun(p=>{p.action instanceof aa&&this.update(p.action)}))}update(e){var t;!((t=this._options)===null||t===void 0)&&t.persistLastActionId&&this._storageService.store(this._storageKey,e.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(hf,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends mm{async runAction(i,o){await i.run(void 0)}},this._container&&this._defaultAction.render(r6(this._container,ue(".action-container")))}_getDefaultActionKeybindingLabel(e){var t;let i;if(!((t=this._options)===null||t===void 0)&&t.renderKeybindingWithDefaultActionLabel){const o=this._keybindingService.lookupKeybinding(e.id);o&&(i=`(${o.getLabel()})`)}return i}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=ue(".action-container");this._defaultAction.render(ie(this._container,t)),this._register(j(t,ge.KEY_DOWN,o=>{const r=new Ni(o);r.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),r.stopPropagation())}));const i=ue(".dropdown-action-container");this._dropdown.render(ie(this._container,i)),this._register(j(i,ge.KEY_DOWN,o=>{var r;const s=new Ni(o);s.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(r=this._defaultAction.element)===null||r===void 0||r.focus(),s.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};m3=MI([ts(2,di),ts(3,Nn),ts(4,Ps),ts(5,$a),ts(6,Ge),ts(7,El)],m3);let v3=class extends AEe{constructor(e,t){super(null,e,e.actions.map(i=>({text:i.id===Kn.ID?"":i.label,isDisabled:!i.enabled})),0,t,jEe,{ariaLabel:e.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,e.actions.findIndex(i=>i.checked)))}render(e){super.render(e),e.style.borderColor=ke(db)}runAction(e,t){const i=this.action.actions[t];i&&this.actionRunner.run(i)}};v3=MI([ts(1,Yd)],v3);function Ute(n,e,t){return e instanceof aa?n.createInstance(hf,e,t):e instanceof Py?e.item.isSelection?n.createInstance(v3,e):e.item.rememberDefaultAction?n.createInstance(m3,e,{...t,persistLastActionId:!0}):n.createInstance(p3,e,t):void 0}class Wa extends z{constructor(e,t={}){var i,o,r,s,a,l,c;super(),this._actionRunnerDisposables=this._register(new oe),this.viewItemDisposables=this._register(new F8),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new B),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new B({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new B),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new B),this.onWillRun=this._onWillRun.event,this.options=t,this._context=(i=t.context)!==null&&i!==void 0?i:null,this._orientation=(o=this.options.orientation)!==null&&o!==void 0?o:0,this._triggerKeys={keyDown:(s=(r=this.options.triggerKeys)===null||r===void 0?void 0:r.keyDown)!==null&&s!==void 0?s:!1,keys:(l=(a=this.options.triggerKeys)===null||a===void 0?void 0:a.keys)!==null&&l!==void 0?l:[3,10]},this._hoverDelegate=(c=t.hoverDelegate)!==null&&c!==void 0?c:this._register(wh("element",!0)),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new mm,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(h=>this._onWillRun.fire(h))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let d,u;switch(this._orientation){case 0:d=[15],u=[17];break;case 1:d=[16],u=[18],this.domNode.className+=" vertical";break}this._register(j(this.domNode,ge.KEY_DOWN,h=>{const g=new Ni(h);let f=!0;const p=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;d&&(g.equals(d[0])||g.equals(d[1]))?f=this.focusPrevious():u&&(g.equals(u[0])||g.equals(u[1]))?f=this.focusNext():g.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():g.equals(14)?f=this.focusFirst():g.equals(13)?f=this.focusLast():g.equals(2)&&p instanceof Zl&&p.trapsArrowNavigation?f=this.focusNext():this.isTriggerKeyEvent(g)?this._triggerKeys.keyDown?this.doTrigger(g):this.triggerKeyDown=!0:f=!1,f&&(g.preventDefault(),g.stopPropagation())})),this._register(j(this.domNode,ge.KEY_UP,h=>{const g=new Ni(h);this.isTriggerKeyEvent(g)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(g)),g.preventDefault(),g.stopPropagation()):(g.equals(2)||g.equals(1026)||g.equals(16)||g.equals(18)||g.equals(15)||g.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(Cc(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(Vo()===this.domNode||!To(Vo(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(e){if(this.focusable=e,this.focusable){const t=this.viewItems.find(i=>i instanceof Zl&&i.isEnabled());t instanceof Zl&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof Zl&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){var e,t;for(let i=0;i<this.actionsList.children.length;i++){const o=this.actionsList.children[i];if(To(Vo(),o)){this.focusedItem=i,(t=(e=this.viewItems[this.focusedItem])===null||e===void 0?void 0:e.showHover)===null||t===void 0||t.call(e);break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){this._actionRunner=e,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(t=>this._onDidRun.fire(t))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(t=>this._onWillRun.fire(t))),this.viewItems.forEach(t=>t.actionRunner=e)}getContainer(){return this.domNode}getAction(e){var t;if(typeof e=="number")return(t=this.viewItems[e])===null||t===void 0?void 0:t.action;if(e instanceof HTMLElement){for(;e.parentElement!==this.actionsList;){if(!e.parentElement)return;e=e.parentElement}for(let i=0;i<this.actionsList.childNodes.length;i++)if(this.actionsList.childNodes[i]===e)return this.viewItems[i].action}}push(e,t={}){const i=Array.isArray(e)?e:[e];let o=Xg(t.index)?t.index:null;i.forEach(r=>{const s=document.createElement("li");s.className="action-item",s.setAttribute("role","presentation");let a;const l={hoverDelegate:this._hoverDelegate,...t};this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(r,l)),a||(a=new j_(this.context,r,l)),this.options.allowContextMenu||this.viewItemDisposables.set(a,j(s,ge.CONTEXT_MENU,c=>{_t.stop(c,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(s),this.focusable&&a instanceof Zl&&this.viewItems.length===0&&a.setFocusable(!0),o===null||o<0||o>=this.actionsList.children.length?(this.actionsList.appendChild(s),this.viewItems.push(a)):(this.actionsList.insertBefore(s,this.actionsList.children[o]),this.viewItems.splice(o,0,a),o++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=si(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),Xo(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem>"u"){const o=this.viewItems.findIndex(r=>r.isEnabled());this.focusedItem=o===-1?void 0:o,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=t,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===Kn.ID));return this.updateFocus(),!0}focusPrevious(e){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===Kn.ID));return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){var o,r;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((o=this.viewItems[this.previouslyFocusedItem])===null||o===void 0||o.blur());const s=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(s){let a=!0;ky(s.focus)||(a=!1),this.options.focusOnlyEnabledItems&&ky(s.isEnabled)&&!s.isEnabled()&&(a=!1),s.action.id===Kn.ID&&(a=!1),a?(i||this.previouslyFocusedItem!==this.focusedItem)&&(s.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0),a&&((r=s.showHover)===null||r===void 0||r.call(s))}}doTrigger(e){if(typeof this.focusedItem>"u")return;const t=this.viewItems[this.focusedItem];if(t instanceof Zl){const i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}async run(e,t){await this._actionRunner.run(e,t)}dispose(){this._context=void 0,this.viewItems=si(this.viewItems),this.getContainer().remove(),super.dispose()}}const b3=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,eA=/(&amp;)?(&amp;)([^\s&])/g;var j2;(function(n){n[n.Right=0]="Right",n[n.Left=1]="Left"})(j2||(j2={}));class e_ extends Wa{constructor(e,t,i,o){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const r=document.createElement("div");r.classList.add("monaco-menu"),r.setAttribute("role","presentation"),super(r,{orientation:1,actionViewItemProvider:c=>this.doGetActionViewItem(c,i,s),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Rt||Br?[10]:[]],keyDown:!0}}),this.menuStyles=o,this.menuElement=r,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(e,o),this._register(Si.addTarget(r)),this._register(j(r,ge.KEY_DOWN,c=>{new Ni(c).equals(2)&&c.preventDefault()})),i.enableMnemonics&&this._register(j(r,ge.KEY_DOWN,c=>{const d=c.key.toLocaleLowerCase();if(this.mnemonics.has(d)){_t.stop(c,!0);const u=this.mnemonics.get(d);if(u.length===1&&(u[0]instanceof xj&&u[0].container&&this.focusItemByElement(u[0].container),u[0].onClick(c)),u.length>1){const h=u.shift();h&&h.container&&(this.focusItemByElement(h.container),u.push(h)),this.mnemonics.set(d,u)}}})),Br&&this._register(j(r,ge.KEY_DOWN,c=>{const d=new Ni(c);d.equals(14)||d.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),_t.stop(c,!0)):(d.equals(13)||d.equals(12))&&(this.focusedItem=0,this.focusPrevious(),_t.stop(c,!0))})),this._register(j(this.domNode,ge.MOUSE_OUT,c=>{const d=c.relatedTarget;To(d,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),c.stopPropagation())})),this._register(j(this.actionsList,ge.MOUSE_OVER,c=>{let d=c.target;if(!(!d||!To(d,this.actionsList)||d===this.actionsList)){for(;d.parentElement!==this.actionsList&&d.parentElement!==null;)d=d.parentElement;if(d.classList.contains("action-item")){const u=this.focusedItem;this.setFocusedItem(d),u!==this.focusedItem&&this.updateFocus()}}})),this._register(Si.addTarget(this.actionsList)),this._register(j(this.actionsList,xi.Tap,c=>{let d=c.initialTarget;if(!(!d||!To(d,this.actionsList)||d===this.actionsList)){for(;d.parentElement!==this.actionsList&&d.parentElement!==null;)d=d.parentElement;if(d.classList.contains("action-item")){const u=this.focusedItem;this.setFocusedItem(d),u!==this.focusedItem&&this.updateFocus()}}}));const s={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new IS(r,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const a=this.scrollableElement.getDomNode();a.style.position="",this.styleScrollElement(a,o),this._register(j(r,xi.Change,c=>{_t.stop(c,!0);const d=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:d-c.translationY})})),this._register(j(a,ge.MOUSE_UP,c=>{c.preventDefault()}));const l=qe(e);r.style.maxHeight=`${Math.max(10,l.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter((c,d)=>{var u;return!((u=i.submenuIds)===null||u===void 0)&&u.has(c.id)?(console.warn(`Found submenu cycle: ${c.id}`),!1):!(c instanceof Kn&&(d===t.length-1||d===0||t[d-1]instanceof Kn))}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(c=>!(c instanceof kj)).forEach((c,d,u)=>{c.updatePositionInSet(d+1,u.length)})}initializeOrUpdateStyleSheet(e,t){this.styleSheet||(e2(e)?this.styleSheet=sa(e):(e_.globalStyleSheet||(e_.globalStyleSheet=sa()),this.styleSheet=e_.globalStyleSheet)),this.styleSheet.textContent=ZEe(t,e2(e))}styleScrollElement(e,t){var i,o;const r=(i=t.foregroundColor)!==null&&i!==void 0?i:"",s=(o=t.backgroundColor)!==null&&o!==void 0?o:"",a=t.borderColor?`1px solid ${t.borderColor}`:"",l="5px",c=t.shadowColor?`0 2px 8px ${t.shadowColor}`:"";e.style.outline=a,e.style.borderRadius=l,e.style.color=r,e.style.backgroundColor=s,e.style.boxShadow=c}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){const i=this.actionsList.children[t];if(e===i){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof Kn)return new kj(t.context,e,{icon:!0},this.menuStyles);if(e instanceof k_){const o=new xj(e,e.actions,i,{...t,submenuIds:new Set([...t.submenuIds||[],e.id])},this.menuStyles);if(t.enableMnemonics){const r=o.getMnemonic();if(r&&o.isEnabled()){let s=[];this.mnemonics.has(r)&&(s=this.mnemonics.get(r)),s.push(o),this.mnemonics.set(r,s)}}return o}else{const o={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const s=t.getKeyBinding(e);if(s){const a=s.getLabel();a&&(o.keybinding=a)}}const r=new $te(t.context,e,o,this.menuStyles);if(t.enableMnemonics){const s=r.getMnemonic();if(s&&r.isEnabled()){let a=[];this.mnemonics.has(s)&&(a=this.mnemonics.get(s)),a.push(r),this.mnemonics.set(s,a)}}return r}}}class $te extends Zl{constructor(e,t,i,o){if(i.isMenu=!0,super(t,t,i),this.menuStyle=o,this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass="",this.options.label&&i.enableMnemonics){const r=this.action.label;if(r){const s=b3.exec(r);s&&(this.mnemonic=(s[1]?s[1]:s[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new mi(()=>{this.element&&(this._register(j(this.element,ge.MOUSE_UP,r=>{if(_t.stop(r,!0),Oa){if(new dl(qe(this.element),r).rightButton)return;this.onClick(r)}else setTimeout(()=>{this.onClick(r)},0)})),this._register(j(this.element,ge.CONTEXT_MENU,r=>{_t.stop(r,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=ie(this.element,ue("a.action-menu-item")),this._action.id===Kn.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=ie(this.item,ue("span.menu-item-check"+Ze.asCSSSelector(pe.menuSelection))),this.check.setAttribute("role","none"),this.label=ie(this.item,ue("span.action-label")),this.options.label&&this.options.keybinding&&(ie(this.item,ue("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var e;super.focus(),(e=this.item)===null||e===void 0||e.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){var e;if(this.label&&this.options.label){Xo(this.label);let t=g7(this.action.label);if(t){const i=GEe(t);this.options.enableMnemonics||(t=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));const o=b3.exec(t);if(o){t=GD(t),eA.lastIndex=0;let r=eA.exec(t);for(;r&&r[1];)r=eA.exec(t);const s=a=>a.replace(/&amp;&amp;/g,"&amp;");r?this.label.append(vS(s(t.substr(0,r.index))," "),ue("u",{"aria-hidden":"true"},r[3]),EQ(s(t.substr(r.index+r[0].length))," ")):this.label.innerText=s(t).trim(),(e=this.item)===null||e===void 0||e.setAttribute("aria-keyshortcuts",(o[1]?o[1]:o[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.action.checked;this.item.classList.toggle("checked",!!e),e!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,o=e&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",r=e&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=t??"",this.item.style.backgroundColor=i??"",this.item.style.outline=o,this.item.style.outlineOffset=r),this.check&&(this.check.style.color=t??"")}}class xj extends $te{constructor(e,t,i,o,r){super(e,e,o,r),this.submenuActions=t,this.parentData=i,this.submenuOptions=o,this.mysubmenu=null,this.submenuDisposables=this._register(new oe),this.mouseOver=!1,this.expandDirection=o&&o.expandDirection!==void 0?o.expandDirection:j2.Right,this.showScheduler=new mi(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new mi(()=>{this.element&&!To(Vo(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=ie(this.item,ue("span.submenu-indicator"+Ze.asCSSSelector(pe.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(j(this.element,ge.KEY_UP,t=>{const i=new Ni(t);(i.equals(17)||i.equals(3))&&(_t.stop(t,!0),this.createSubmenu(!0))})),this._register(j(this.element,ge.KEY_DOWN,t=>{const i=new Ni(t);Vo()===this.item&&(i.equals(17)||i.equals(3))&&_t.stop(t,!0)})),this._register(j(this.element,ge.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(j(this.element,ge.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register(j(this.element,ge.FOCUS_OUT,t=>{this.element&&!To(Vo(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(e){_t.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,o){const r={top:0,left:0};return r.left=Cb(e.width,t.width,{position:o===j2.Right?0:1,offset:i.left,size:i.width}),r.left>=i.left&&r.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(r.left=i.left+10),i.top+=10,i.height=0),r.top=Cb(e.height,t.height,{position:0,offset:i.top,size:0}),r.top+t.height===i.top&&r.top+i.height+t.height<=e.height&&(r.top+=i.height),r}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=ie(this.element,ue("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=qe(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new e_(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new $T],this.submenuOptions,this.menuStyle);const o=this.element.getBoundingClientRect(),r={top:o.top-i,left:o.left,height:o.height+2*i,width:o.width},s=this.submenuContainer.getBoundingClientRect(),a=qe(this.element),{top:l,left:c}=this.calculateSubmenuMenuLayout(new Zt(a.innerWidth,a.innerHeight),Zt.lift(s),r,this.expandDirection);this.submenuContainer.style.left=`${c-s.left}px`,this.submenuContainer.style.top=`${l-s.top}px`,this.submenuDisposables.add(j(this.submenuContainer,ge.KEY_UP,d=>{new Ni(d).equals(15)&&(_t.stop(d,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(j(this.submenuContainer,ge.KEY_DOWN,d=>{new Ni(d).equals(15)&&_t.stop(d,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&((t=this.item)===null||t===void 0||t.setAttribute("aria-expanded",e))}applyStyle(){super.applyStyle();const t=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=t??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class kj extends j_{constructor(e,t,i,o){super(e,t,i),this.menuStyles=o}render(e){super.render(e),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function GEe(n){const e=b3,t=e.exec(n);if(!t)return n;const i=!t[1];return n.replace(e,i?"$2$3":"").trim()}function Lj(n){const e=xQ()[n.id];return`.codicon-${n.id}:before { content: '\\${e.toString(16)}'; }`}function ZEe(n,e){let t=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${Lj(pe.menuSelection)}
${Lj(pe.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(e){t+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const i=n.scrollbarShadow;i&&(t+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${i} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${i} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${i} 6px 6px 6px -6px inset;
				}
			`);const o=n.scrollbarSliderBackground;o&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${o};
				}
			`);const r=n.scrollbarSliderHoverBackground;r&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${r};
				}
			`);const s=n.scrollbarSliderActiveBackground;s&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${s};
				}
			`)}return t}class YEe{constructor(e,t,i,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=o,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;this.focusToReturn=Vo();let i;const o=e.domForShadowRoot instanceof HTMLElement?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:r=>{var s;this.lastContainer=r;const a=e.getMenuClassName?e.getMenuClassName():"";a&&(r.className+=" "+a),this.options.blockMouse&&(this.block=r.appendChild(ue(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(s=this.blockDisposable)===null||s===void 0||s.dispose(),this.blockDisposable=j(this.block,ge.MOUSE_DOWN,u=>u.stopPropagation()));const l=new oe,c=e.actionRunner||new mm;c.onWillRun(u=>this.onActionRun(u,!e.skipTelemetry),this,l),c.onDidRun(this.onDidActionRun,this,l),i=new e_(r,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:c,getKeyBinding:e.getKeyBinding?e.getKeyBinding:u=>this.keybindingService.lookupKeybinding(u.id)},KEe),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,l),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,l);const d=qe(r);return l.add(j(d,ge.BLUR,()=>this.contextViewService.hideContextView(!0))),l.add(j(d,ge.MOUSE_DOWN,u=>{if(u.defaultPrevented)return;const h=new dl(d,u);let g=h.target;if(!h.rightButton){for(;g;){if(g===r)return;g=g.parentElement}this.contextViewService.hideContextView(!0)}})),vl(l,i)},focus:()=>{i==null||i.focus(!!e.autoSelectFirstItem)},onHide:r=>{var s,a,l;(s=e.onHide)===null||s===void 0||s.call(e,!!r),this.block&&(this.block.remove(),this.block=null),(a=this.blockDisposable)===null||a===void 0||a.dispose(),this.blockDisposable=null,this.lastContainer&&(Vo()===this.lastContainer||To(Vo(),this.lastContainer))&&((l=this.focusToReturn)===null||l===void 0||l.focus()),this.lastContainer=null}},o,!!o)}onActionRun(e,t){t&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(e){e.error&&!Ic(e.error)&&this.notificationService.error(e.error)}}var XEe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Cv=function(n,e){return function(t,i){e(t,i,n)}};let _3=class extends z{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new YEe(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(e,t,i,o,r,s){super(),this.telemetryService=e,this.notificationService=t,this.contextViewService=i,this.keybindingService=o,this.menuService=r,this.contextKeyService=s,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new B),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new B)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){e=C3.transform(e,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...e,onHide:t=>{var i;(i=e.onHide)===null||i===void 0||i.call(e,t),this._onDidHideContextMenu.fire()}}),Nu.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};_3=XEe([Cv(0,fr),Cv(1,Nn),Cv(2,Yd),Cv(3,di),Cv(4,$a),Cv(5,Xe)],_3);var C3;(function(n){function e(i){return i&&i.menuId instanceof T}function t(i,o,r){if(!e(i))return i;const{menuId:s,menuActionOptions:a,contextKeyService:l}=i;return{...i,getActions:()=>{const c=[];if(s){const d=o.createMenu(s,l??r);qEe(d,a,c),d.dispose()}return i.getActions?Kn.join(i.getActions(),c):c}}}n.transform=t})(C3||(C3={}));var K2;(function(n){n[n.API=0]="API",n[n.USER=1]="USER"})(K2||(K2={}));var C7=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},q2=function(n,e){return function(t,i){e(t,i,n)}};let y3=class{constructor(e){this._commandService=e}async open(e,t){if(!J8(e,ft.command))return!1;if(!(t!=null&&t.allowCommands)||(typeof e=="string"&&(e=Ke.parse(e)),Array.isArray(t.allowCommands)&&!t.allowCommands.includes(e.path)))return!0;let i=[];try{i=J4(decodeURIComponent(e.query))}catch{try{i=J4(e.query)}catch{}}return Array.isArray(i)||(i=[i]),await this._commandService.executeCommand(e.path,...i),!0}};y3=C7([q2(0,tn)],y3);let w3=class{constructor(e){this._editorService=e}async open(e,t){typeof e=="string"&&(e=Ke.parse(e));const{selection:i,uri:o}=cDe(e);return e=o,e.scheme===ft.file&&(e=Rxe(e)),await this._editorService.openCodeEditor({resource:e,options:{selection:i,source:t!=null&&t.fromUserGesture?K2.USER:K2.API,...t==null?void 0:t.editorOptions}},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0}};w3=C7([q2(0,qt)],w3);let S3=class{constructor(e,t){this._openers=new Ir,this._validators=new Ir,this._resolvers=new Ir,this._resolvedUriTargets=new Cn(i=>i.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Ir,this._defaultExternalOpener={openExternal:async i=>(kz(i,ft.http,ft.https)?rJ(i):gi.location.href=i,!0)},this._openers.push({open:async(i,o)=>o!=null&&o.openExternal||kz(i,ft.mailto,ft.http,ft.https,ft.vsls)?(await this._doOpenExternal(i,o),!0):!1}),this._openers.push(new y3(t)),this._openers.push(new w3(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}async open(e,t){var i;const o=typeof e=="string"?Ke.parse(e):e,r=(i=this._resolvedUriTargets.get(o))!==null&&i!==void 0?i:e;for(const s of this._validators)if(!await s.shouldOpen(r,t))return!1;for(const s of this._openers)if(await s.open(e,t))return!0;return!1}async resolveExternalUri(e,t){for(const i of this._resolvers)try{const o=await i.resolveExternalUri(e,t);if(o)return this._resolvedUriTargets.has(o.resolved)||this._resolvedUriTargets.set(o.resolved,e),o}catch{}throw new Error("Could not resolve external URI: "+e.toString())}async _doOpenExternal(e,t){const i=typeof e=="string"?Ke.parse(e):e;let o;try{o=(await this.resolveExternalUri(i,t)).resolved}catch{o=i}let r;if(typeof e=="string"&&i.toString()===o.toString()?r=e:r=encodeURI(o.toString(!0)),t!=null&&t.allowContributedOpeners){const s=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const a of this._externalOpeners)if(await a.openExternal(r,{sourceUri:i,preferredOpenerId:s},Dt.None))return!0}return this._defaultExternalOpener.openExternal(r,{sourceUri:i},Dt.None)}dispose(){this._validators.clear()}};S3=C7([q2(0,qt),q2(1,tn)],S3);const Tl=Et("editorWorkerService");var ln;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(ln||(ln={}));(function(n){function e(s,a){return a-s}n.compare=e;const t=Object.create(null);t[n.Error]=m("sev.error","Error"),t[n.Warning]=m("sev.warning","Warning"),t[n.Info]=m("sev.info","Info");function i(s){return t[s]||""}n.toString=i;function o(s){switch(s){case _n.Error:return n.Error;case _n.Warning:return n.Warning;case _n.Info:return n.Info;case _n.Ignore:return n.Hint}}n.fromSeverity=o;function r(s){switch(s){case n.Error:return _n.Error;case n.Warning:return _n.Warning;case n.Info:return _n.Info;case n.Hint:return _n.Ignore}}n.toSeverity=r})(ln||(ln={}));var G2;(function(n){const e="";function t(o){return i(o,!0)}n.makeKey=t;function i(o,r){const s=[e];return o.source?s.push(o.source.replace("","\\")):s.push(e),o.code?typeof o.code=="string"?s.push(o.code.replace("","\\")):s.push(o.code.value.replace("","\\")):s.push(e),o.severity!==void 0&&o.severity!==null?s.push(ln.toString(o.severity)):s.push(e),o.message&&r?s.push(o.message.replace("","\\")):s.push(e),o.startLineNumber!==void 0&&o.startLineNumber!==null?s.push(o.startLineNumber.toString()):s.push(e),o.startColumn!==void 0&&o.startColumn!==null?s.push(o.startColumn.toString()):s.push(e),o.endLineNumber!==void 0&&o.endLineNumber!==null?s.push(o.endLineNumber.toString()):s.push(e),o.endColumn!==void 0&&o.endColumn!==null?s.push(o.endColumn.toString()):s.push(e),s.push(e),s.join("")}n.makeKeyOptionalMessage=i})(G2||(G2={}));const Xd=Et("markerService");function QEe(n,e){const t=[],i=[];for(const o of n)e.has(o)||t.push(o);for(const o of e)n.has(o)||i.push(o);return{removed:t,added:i}}function JEe(n,e){const t=new Set;for(const i of e)n.has(i)&&t.add(i);return t}var eTe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Dj=function(n,e){return function(t,i){e(t,i,n)}};let x3=class extends z{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new B),this._markerDecorations=new Cn,e.getModels().forEach(i=>this._onModelAdded(i)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(t=>{const i=this._markerDecorations.get(t);i&&this._updateDecorations(i)})}_onModelAdded(e){const t=new tTe(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){var t;const i=this._markerDecorations.get(e.uri);i&&(i.dispose(),this._markerDecorations.delete(e.uri)),(e.uri.scheme===ft.inMemory||e.uri.scheme===ft.internal||e.uri.scheme===ft.vscode)&&((t=this._markerService)===null||t===void 0||t.read({resource:e.uri}).map(o=>o.owner).forEach(o=>this._markerService.remove(o,[e.uri])))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});e.update(t)&&this._onDidChangeMarker.fire(e.model)}};x3=eTe([Dj(0,Yi),Dj(1,Xd)],x3);class tTe extends z{constructor(e){super(),this.model=e,this._map=new M0e,this._register(je(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(e){const{added:t,removed:i}=QEe(new Set(this._map.keys()),new Set(e));if(t.length===0&&i.length===0)return!1;const o=i.map(a=>this._map.get(a)),r=t.map(a=>({range:this._createDecorationRange(this.model,a),options:this._createDecorationOption(a)})),s=this.model.deltaDecorations(o,r);for(const a of i)this._map.delete(a);for(let a=0;a<s.length;a++)this._map.set(t[a],s[a]);return!0}getMarker(e){return this._map.getKey(e.id)}_createDecorationRange(e,t){let i=D.lift(t);if(t.severity===ln.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)&&(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){const o=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);if(o===1||i.endColumn>=o)return i;const r=e.getWordAtPosition(i.getStartPosition());r&&(i=new D(i.startLineNumber,r.startColumn,i.endLineNumber,r.endColumn))}else if(t.endColumn===Number.MAX_VALUE&&t.startColumn===1&&i.startLineNumber===i.endLineNumber){const o=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);o<i.endColumn&&(i=new D(i.startLineNumber,o,i.endLineNumber,i.endColumn),t.startColumn=o)}return i}_createDecorationOption(e){let t,i,o,r,s;switch(e.severity){case ln.Hint:this._hasMarkerTag(e,2)?t=void 0:this._hasMarkerTag(e,1)?t="squiggly-unnecessary":t="squiggly-hint",o=0;break;case ln.Info:t="squiggly-info",i=sn(_we),o=10,s={color:sn(nye),position:xs.Inline};break;case ln.Warning:t="squiggly-warning",i=sn(bwe),o=20,s={color:sn(oye),position:xs.Inline};break;case ln.Error:default:t="squiggly-error",i=sn(vwe),o=30,s={color:sn(rye),position:xs.Inline};break}return e.tags&&(e.tags.indexOf(1)!==-1&&(r="squiggly-inline-unnecessary"),e.tags.indexOf(2)!==-1&&(r="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:la.Right},minimap:s,zIndex:o,inlineClassName:r}}_hasMarkerTag(e,t){return e.tags?e.tags.indexOf(t)>=0:!1}}var iTe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},m1=function(n,e){return function(t,i){e(t,i,n)}},Pv;function ip(n){return n.toString()}class nTe{constructor(e,t,i){this.model=e,this._modelEventListeners=new oe,this.model=e,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(o=>i(e,o)))}dispose(){this._modelEventListeners.dispose()}}const oTe=Br||Rt?1:2;class rTe{constructor(e,t,i,o,r,s,a,l){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=o,this.heapSize=r,this.sha1=s,this.versionId=a,this.alternativeVersionId=l}}let Z2=Pv=class extends z{constructor(e,t,i,o,r){super(),this._configurationService=e,this._resourcePropertiesService=t,this._undoRedoService=i,this._languageService=o,this._languageConfigurationService=r,this._onModelAdded=this._register(new B),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new B),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new B),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(s=>this._updateModelOptions(s))),this._updateModelOptions(void 0)}static _readModelOptions(e,t){var i;let o=qo.tabSize;if(e.editor&&typeof e.editor.tabSize<"u"){const g=parseInt(e.editor.tabSize,10);isNaN(g)||(o=g),o<1&&(o=1)}let r="tabSize";if(e.editor&&typeof e.editor.indentSize<"u"&&e.editor.indentSize!=="tabSize"){const g=parseInt(e.editor.indentSize,10);isNaN(g)||(r=Math.max(g,1))}let s=qo.insertSpaces;e.editor&&typeof e.editor.insertSpaces<"u"&&(s=e.editor.insertSpaces==="false"?!1:!!e.editor.insertSpaces);let a=oTe;const l=e.eol;l===`\r
`?a=2:l===`
`&&(a=1);let c=qo.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace<"u"&&(c=e.editor.trimAutoWhitespace==="false"?!1:!!e.editor.trimAutoWhitespace);let d=qo.detectIndentation;e.editor&&typeof e.editor.detectIndentation<"u"&&(d=e.editor.detectIndentation==="false"?!1:!!e.editor.detectIndentation);let u=qo.largeFileOptimizations;e.editor&&typeof e.editor.largeFileOptimizations<"u"&&(u=e.editor.largeFileOptimizations==="false"?!1:!!e.editor.largeFileOptimizations);let h=qo.bracketPairColorizationOptions;return!((i=e.editor)===null||i===void 0)&&i.bracketPairColorization&&typeof e.editor.bracketPairColorization=="object"&&(h={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:o,indentSize:r,insertSpaces:s,detectIndentation:d,defaultEOL:a,trimAutoWhitespace:c,largeFileOptimizations:u,bracketPairColorizationOptions:h}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&typeof i=="string"&&i!=="auto"?i:Cs===3||Cs===2?`
`:`\r
`}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,i){const o=typeof e=="string"?e:e.languageId;let r=this._modelCreationOptionsByLanguageAndResource[o+t];if(!r){const s=this._configurationService.getValue("editor",{overrideIdentifier:o,resource:t}),a=this._getEOL(t,o);r=Pv._readModelOptions({editor:s,eol:a},i),this._modelCreationOptionsByLanguageAndResource[o+t]=r}return r}_updateModelOptions(e){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let o=0,r=i.length;o<r;o++){const s=i[o],a=this._models[s],l=a.model.getLanguageId(),c=a.model.uri;if(e&&!e.affectsConfiguration("editor",{overrideIdentifier:l,resource:c})&&!e.affectsConfiguration("files.eol",{overrideIdentifier:l,resource:c}))continue;const d=t[l+c],u=this.getCreationOptions(l,c,a.model.isForSimpleWidget);Pv._setModelOptionsForModel(a.model,u,d)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&na(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(ip(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(ip(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(ip(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(i=>{i.sharesUndoRedoStack||t.push(i)}),t.sort((i,o)=>i.time-o.time);t.length>0&&this._disposedModelsHeapSize>e;){const i=t.shift();this._removeDisposedModel(i.uri),i.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(i.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,o){const r=this.getCreationOptions(t,i,o),s=new Fd(e,t,r,i,this._undoRedoService,this._languageService,this._languageConfigurationService);if(i&&this._disposedModels.has(ip(i))){const c=this._removeDisposedModel(i),d=this._undoRedoService.getElements(i),u=this._getSHA1Computer(),h=u.canComputeSHA1(s)?u.computeSHA1(s)===c.sha1:!1;if(h||c.sharesUndoRedoStack){for(const g of d.past)pu(g)&&g.matchesResource(i)&&g.setModel(s);for(const g of d.future)pu(g)&&g.matchesResource(i)&&g.setModel(s);this._undoRedoService.setElementsValidFlag(i,!0,g=>pu(g)&&g.matchesResource(i)),h&&(s._overwriteVersionId(c.versionId),s._overwriteAlternativeVersionId(c.alternativeVersionId),s._overwriteInitialUndoRedoSnapshot(c.initialUndoRedoSnapshot))}else c.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(c.initialUndoRedoSnapshot)}const a=ip(s.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");const l=new nTe(s,c=>this._onWillDispose(c),(c,d)=>this._onDidChangeLanguage(c,d));return this._models[a]=l,l}createModel(e,t,i,o=!1){let r;return t?r=this._createModelData(e,t,i,o):r=this._createModelData(e,oa,i,o),this._onModelAdded.fire(r.model),r.model}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,o=t.length;i<o;i++){const r=t[i];e.push(this._models[r].model)}return e}getModel(e){const t=ip(e),i=this._models[t];return i?i.model:null}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===ft.file||e.scheme===ft.vscodeRemote||e.scheme===ft.vscodeUserData||e.scheme===ft.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){const t=ip(e.uri),i=this._models[t],o=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let r=!1,s=0;if(o||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const c=this._undoRedoService.getElements(e.uri);if(c.past.length>0||c.future.length>0){for(const d of c.past)pu(d)&&d.matchesResource(e.uri)&&(r=!0,s+=d.heapSize(e.uri),d.setModel(e.uri));for(const d of c.future)pu(d)&&d.matchesResource(e.uri)&&(r=!0,s+=d.heapSize(e.uri),d.setModel(e.uri))}}const a=Pv.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,l=this._getSHA1Computer();if(r)if(!o&&(s>a||!l.canComputeSHA1(e))){const c=i.model.getInitialUndoRedoSnapshot();c!==null&&this._undoRedoService.restoreSnapshot(c)}else this._ensureDisposedModelsHeapSize(a-s),this._undoRedoService.setElementsValidFlag(e.uri,!1,c=>pu(c)&&c.matchesResource(e.uri)),this._insertDisposedModel(new rTe(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),o,s,l.computeSHA1(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!o){const c=i.model.getInitialUndoRedoSnapshot();c!==null&&this._undoRedoService.restoreSnapshot(c)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const i=t.oldLanguage,o=e.getLanguageId(),r=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),s=this.getCreationOptions(o,e.uri,e.isForSimpleWidget);Pv._setModelOptionsForModel(e,s,r),this._onModelModeChanged.fire({model:e,oldLanguageId:i})}_getSHA1Computer(){return new PI}};Z2.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024;Z2=Pv=iTe([m1(0,yt),m1(1,BJ),m1(2,yI),m1(3,Bi),m1(4,Di)],Z2);class PI{canComputeSHA1(e){return e.getValueLength()<=PI.MAX_MODEL_SIZE}computeSHA1(e){const t=new HT,i=e.createSnapshot();let o;for(;o=i.read();)t.update(o);return t.digest()}}PI.MAX_MODEL_SIZE=10*1024*1024;class sTe{get templateId(){return this.renderer.templateId}constructor(e,t){this.renderer=e,this.modelProvider=t}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:z.None}}renderElement(e,t,i,o){var r;if((r=i.disposable)===null||r===void 0||r.dispose(),!i.data)return;const s=this.modelProvider();if(s.isResolved(e))return this.renderer.renderElement(s.get(e),e,i.data,o);const a=new gn,l=s.resolve(e,a.token);i.disposable={dispose:()=>a.cancel()},this.renderer.renderPlaceholder(e,i.data),l.then(c=>this.renderer.renderElement(c,e,i.data,o))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class aTe{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}function lTe(n,e){return{...e,accessibilityProvider:e.accessibilityProvider&&new aTe(n,e.accessibilityProvider)}}class cTe{constructor(e,t,i,o,r={}){const s=()=>this.model,a=o.map(l=>new sTe(l,s));this.list=new pa(e,t,i,a,lTe(s,r))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return me.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return me.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return me.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(o=>this._model.get(o)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,_r(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}var k0=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};const dTe=!1;var Y2;(function(n){n.North="north",n.South="south",n.East="east",n.West="west"})(Y2||(Y2={}));let uTe=4;const hTe=new B;let gTe=300;const fTe=new B;class y7{constructor(e){this.el=e,this.disposables=new oe}get onPointerMove(){return this.disposables.add(new It(qe(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new It(qe(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}k0([Sn],y7.prototype,"onPointerMove",null);k0([Sn],y7.prototype,"onPointerUp",null);class w7{get onPointerMove(){return this.disposables.add(new It(this.el,xi.Change)).event}get onPointerUp(){return this.disposables.add(new It(this.el,xi.End)).event}constructor(e){this.el=e,this.disposables=new oe}dispose(){this.disposables.dispose()}}k0([Sn],w7.prototype,"onPointerMove",null);k0([Sn],w7.prototype,"onPointerUp",null);class X2{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(e){this.factory=e}dispose(){}}k0([Sn],X2.prototype,"onPointerMove",null);k0([Sn],X2.prototype,"onPointerUp",null);const Ej="pointer-events-disabled";class jo extends z{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this._orthogonalStartSash!==e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=ie(this.el,ue(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(je(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new It(this._orthogonalStartDragHandle,"mouseenter")).event(()=>jo.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new It(this._orthogonalStartDragHandle,"mouseleave")).event(()=>jo.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}}set orthogonalEndSash(e){if(this._orthogonalEndSash!==e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=ie(this.el,ue(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(je(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new It(this._orthogonalEndDragHandle,"mouseenter")).event(()=>jo.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new It(this._orthogonalEndDragHandle,"mouseleave")).event(()=>jo.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}}constructor(e,t,i){super(),this.hoverDelay=gTe,this.hoverDelayer=this._register(new Sl(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new B),this._onDidStart=this._register(new B),this._onDidChange=this._register(new B),this._onDidReset=this._register(new B),this._onDidEnd=this._register(new B),this.orthogonalStartSashDisposables=this._register(new oe),this.orthogonalStartDragHandleDisposables=this._register(new oe),this.orthogonalEndSashDisposables=this._register(new oe),this.orthogonalEndDragHandleDisposables=this._register(new oe),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=ie(e,ue(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),Rt&&this.el.classList.add("mac");const o=this._register(new It(this.el,"mousedown")).event;this._register(o(u=>this.onPointerStart(u,new y7(e)),this));const r=this._register(new It(this.el,"dblclick")).event;this._register(r(this.onPointerDoublePress,this));const s=this._register(new It(this.el,"mouseenter")).event;this._register(s(()=>jo.onMouseEnter(this)));const a=this._register(new It(this.el,"mouseleave")).event;this._register(a(()=>jo.onMouseLeave(this))),this._register(Si.addTarget(this.el));const l=this._register(new It(this.el,xi.Start)).event;this._register(l(u=>this.onPointerStart(u,new w7(this.el)),this));const c=this._register(new It(this.el,xi.Tap)).event;let d;this._register(c(u=>{if(d){clearTimeout(d),d=void 0,this.onPointerDoublePress(u);return}clearTimeout(d),d=setTimeout(()=>d=void 0,250)},this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=uTe,this._register(hTe.event(u=>{this.size=u,this.layout()}))),this._register(fTe.event(u=>this.hoverDelay=u)),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",dTe),this.layout()}onPointerStart(e,t){_t.stop(e);let i=!1;if(!e.__orthogonalSashEvent){const f=this.getOrthogonalSash(e);f&&(i=!0,e.__orthogonalSashEvent=!0,f.onPointerStart(e,new X2(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new X2(t))),!this.state)return;const o=this.el.ownerDocument.getElementsByTagName("iframe");for(const f of o)f.classList.add(Ej);const r=e.pageX,s=e.pageY,a=e.altKey,l={startX:r,currentX:r,startY:s,currentY:s,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);const c=sa(this.el),d=()=>{let f="";i?f="all-scroll":this.orientation===1?this.state===1?f="s-resize":this.state===2?f="n-resize":f=Rt?"row-resize":"ns-resize":this.state===1?f="e-resize":this.state===2?f="w-resize":f=Rt?"col-resize":"ew-resize",c.textContent=`* { cursor: ${f} !important; }`},u=new oe;d(),i||this.onDidEnablementChange.event(d,null,u);const h=f=>{_t.stop(f,!1);const p={startX:r,currentX:f.pageX,startY:s,currentY:f.pageY,altKey:a};this._onDidChange.fire(p)},g=f=>{_t.stop(f,!1),this.el.removeChild(c),this.el.classList.remove("active"),this._onDidEnd.fire(),u.dispose();for(const p of o)p.classList.remove(Ej)};t.onPointerMove(h,null,u),t.onPointerUp(g,null,u),u.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&jo.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&jo.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){jo.onMouseLeave(this)}layout(){if(this.orientation===0){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){var t;const i=(t=e.initialTarget)!==null&&t!==void 0?t:e.target;if(!(!i||!(i instanceof HTMLElement))&&i.classList.contains("orthogonal-drag-handle"))return i.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}const pTe={separatorBorder:U.transparent};class jte{set size(e){this._size=e}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(e,t){var i,o;if(e!==this.visible){e?(this.size=wr(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e);try{(o=(i=this.view).setVisible)===null||o===void 0||o.call(i,e)}catch(r){console.error("Splitview: Failed to set visible view"),console.error(r)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var e;return(e=this.view.proportionalLayout)!==null&&e!==void 0?e:!0}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}constructor(e,t,i,o){this.container=e,this.view=t,this.disposable=o,this._cachedVisibleSize=void 0,typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}layout(e,t){this.layoutContainer(e);try{this.view.layout(this.size,e,t)}catch(i){console.error("Splitview: Failed to layout view"),console.error(i)}}dispose(){this.disposable.dispose()}}class mTe extends jte{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class vTe extends jte{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var du;(function(n){n[n.Idle=0]="Idle",n[n.Busy=1]="Busy"})(du||(du={}));var Q2;(function(n){n.Distribute={type:"distribute"};function e(o){return{type:"split",index:o}}n.Split=e;function t(o){return{type:"auto",index:o}}n.Auto=t;function i(o){return{type:"invisible",cachedVisibleSize:o}}n.Invisible=i})(Q2||(Q2={}));class Kte extends z{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,t={}){var i,o,r,s,a;super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=du.Idle,this._onDidSashChange=this._register(new B),this._onDidSashReset=this._register(new B),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(i=t.orientation)!==null&&i!==void 0?i:0,this.inverseAltBehavior=(o=t.inverseAltBehavior)!==null&&o!==void 0?o:!1,this.proportionalLayout=(r=t.proportionalLayout)!==null&&r!==void 0?r:!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=ie(this.el,ue(".sash-container")),this.viewContainer=ue(".split-view-container"),this.scrollable=this._register(new w0({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:c=>Ds(qe(this.el),c)})),this.scrollableElement=this._register(new gI(this.viewContainer,{vertical:this.orientation===0?(s=t.scrollbarVisibility)!==null&&s!==void 0?s:1:2,horizontal:this.orientation===1?(a=t.scrollbarVisibility)!==null&&a!==void 0?a:1:2},this.scrollable));const l=this._register(new It(this.viewContainer,"scroll")).event;this._register(l(c=>{const d=this.scrollableElement.getScrollPosition(),u=Math.abs(this.viewContainer.scrollLeft-d.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,h=Math.abs(this.viewContainer.scrollTop-d.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(u!==void 0||h!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:u,scrollTop:h})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(c=>{c.scrollTopChanged&&(this.viewContainer.scrollTop=c.scrollTop),c.scrollLeftChanged&&(this.viewContainer.scrollLeft=c.scrollLeft)})),ie(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||pTe),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((c,d)=>{const u=_s(c.visible)||c.visible?c.size:{type:"invisible",cachedVisibleSize:c.size},h=c.view;this.doAddView(h,u,d,!0)}),this._contentSize=this.viewItems.reduce((c,d)=>c+d.size,0),this.saveProportions())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,o){this.doAddView(e,t,i,o)}layout(e,t){const i=Math.max(this.size,this._contentSize);if(this.size=e,this.layoutContext=t,this.proportions){let o=0;for(let r=0;r<this.viewItems.length;r++){const s=this.viewItems[r],a=this.proportions[r];typeof a=="number"?o+=a:e-=s.size}for(let r=0;r<this.viewItems.length;r++){const s=this.viewItems[r],a=this.proportions[r];typeof a=="number"&&o>0&&(s.size=wr(Math.round(a*e/o),s.minimumSize,s.maximumSize))}}else{const o=_r(this.viewItems.length),r=o.filter(a=>this.viewItems[a].priority===1),s=o.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,r,s)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(e=>e.proportionalLayout&&e.visible?e.size/this._contentSize:void 0))}onSashStart({sash:e,start:t,alt:i}){for(const a of this.viewItems)a.enabled=!1;const o=this.sashItems.findIndex(a=>a.sash===e),r=vl(j(this.el.ownerDocument.body,"keydown",a=>s(this.sashDragState.current,a.altKey)),j(this.el.ownerDocument.body,"keyup",()=>s(this.sashDragState.current,!1))),s=(a,l)=>{const c=this.viewItems.map(f=>f.size);let d=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(o===this.sashItems.length-1){const p=this.viewItems[o];d=(p.minimumSize-p.size)/2,u=(p.maximumSize-p.size)/2}else{const p=this.viewItems[o+1];d=(p.size-p.maximumSize)/2,u=(p.size-p.minimumSize)/2}let h,g;if(!l){const f=_r(o,-1),p=_r(o+1,this.viewItems.length),b=f.reduce((L,E)=>L+(this.viewItems[E].minimumSize-c[E]),0),v=f.reduce((L,E)=>L+(this.viewItems[E].viewMaximumSize-c[E]),0),_=p.length===0?Number.POSITIVE_INFINITY:p.reduce((L,E)=>L+(c[E]-this.viewItems[E].minimumSize),0),C=p.length===0?Number.NEGATIVE_INFINITY:p.reduce((L,E)=>L+(c[E]-this.viewItems[E].viewMaximumSize),0),y=Math.max(b,C),w=Math.min(_,v),S=this.findFirstSnapIndex(f),x=this.findFirstSnapIndex(p);if(typeof S=="number"){const L=this.viewItems[S],E=Math.floor(L.viewMinimumSize/2);h={index:S,limitDelta:L.visible?y-E:y+E,size:L.size}}if(typeof x=="number"){const L=this.viewItems[x],E=Math.floor(L.viewMinimumSize/2);g={index:x,limitDelta:L.visible?w+E:w-E,size:L.size}}}this.sashDragState={start:a,current:a,index:o,sizes:c,minDelta:d,maxDelta:u,alt:l,snapBefore:h,snapAfter:g,disposable:r}};s(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:o,alt:r,minDelta:s,maxDelta:a,snapBefore:l,snapAfter:c}=this.sashDragState;this.sashDragState.current=e;const d=e-i,u=this.resize(t,d,o,void 0,void 0,s,a,l,c);if(r){const h=t===this.sashItems.length-1,g=this.viewItems.map(C=>C.size),f=h?t:t+1,p=this.viewItems[f],b=p.size-p.maximumSize,v=p.size-p.minimumSize,_=h?t-1:t+1;this.resize(_,-u,g,void 0,void 0,b,v)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=wr(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(!(e<0||e>=this.viewItems.length)){if(this.state!==du.Idle)throw new Error("Cant modify splitview");this.state=du.Busy;try{const i=_r(this.viewItems.length).filter(a=>a!==e),o=[...i.filter(a=>this.viewItems[a].priority===1),e],r=i.filter(a=>this.viewItems[a].priority===2),s=this.viewItems[e];t=Math.round(t),t=wr(t,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(o,r)}finally{this.state=du.Idle}}}distributeViewSizes(){const e=[];let t=0;for(const a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);const i=Math.floor(t/e.length);for(const a of e)a.size=wr(i,a.minimumSize,a.maximumSize);const o=_r(this.viewItems.length),r=o.filter(a=>this.viewItems[a].priority===1),s=o.filter(a=>this.viewItems[a].priority===2);this.relayout(r,s)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,o){if(this.state!==du.Idle)throw new Error("Cant modify splitview");this.state=du.Busy;try{const r=ue(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(r):this.viewContainer.insertBefore(r,this.viewContainer.children.item(i));const s=e.onDidChange(h=>this.onViewChange(d,h)),a=je(()=>this.viewContainer.removeChild(r)),l=vl(s,a);let c;typeof t=="number"?c=t:(t.type==="auto"&&(this.areViewsDistributed()?t={type:"distribute"}:t={type:"split",index:t.index}),t.type==="split"?c=this.getViewSize(t.index)/2:t.type==="invisible"?c={cachedVisibleSize:t.cachedVisibleSize}:c=e.minimumSize);const d=this.orientation===0?new mTe(r,e,c,l):new vTe(r,e,c,l);if(this.viewItems.splice(i,0,d),this.viewItems.length>1){const h={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},g=this.orientation===0?new jo(this.sashContainer,{getHorizontalSashTop:L=>this.getSashPosition(L),getHorizontalSashWidth:this.getSashOrthogonalSize},{...h,orientation:1}):new jo(this.sashContainer,{getVerticalSashLeft:L=>this.getSashPosition(L),getVerticalSashHeight:this.getSashOrthogonalSize},{...h,orientation:0}),f=this.orientation===0?L=>({sash:g,start:L.startY,current:L.currentY,alt:L.altKey}):L=>({sash:g,start:L.startX,current:L.currentX,alt:L.altKey}),b=me.map(g.onDidStart,f)(this.onSashStart,this),_=me.map(g.onDidChange,f)(this.onSashChange,this),y=me.map(g.onDidEnd,()=>this.sashItems.findIndex(L=>L.sash===g))(this.onSashEnd,this),w=g.onDidReset(()=>{const L=this.sashItems.findIndex(F=>F.sash===g),E=_r(L,-1),O=_r(L+1,this.viewItems.length),P=this.findFirstSnapIndex(E),A=this.findFirstSnapIndex(O);typeof P=="number"&&!this.viewItems[P].visible||typeof A=="number"&&!this.viewItems[A].visible||this._onDidSashReset.fire(L)}),S=vl(b,_,y,w,g),x={sash:g,disposable:S};this.sashItems.splice(i-1,0,x)}r.appendChild(e.element);let u;typeof t!="number"&&t.type==="split"&&(u=[t.index]),o||this.relayout([i],u),!o&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}finally{this.state=du.Idle}}relayout(e,t){const i=this.viewItems.reduce((o,r)=>o+r.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(d=>d.size),o,r,s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,c){if(e<0||e>=this.viewItems.length)return 0;const d=_r(e,-1),u=_r(e+1,this.viewItems.length);if(r)for(const x of r)WR(d,x),WR(u,x);if(o)for(const x of o)Ix(d,x),Ix(u,x);const h=d.map(x=>this.viewItems[x]),g=d.map(x=>i[x]),f=u.map(x=>this.viewItems[x]),p=u.map(x=>i[x]),b=d.reduce((x,L)=>x+(this.viewItems[L].minimumSize-i[L]),0),v=d.reduce((x,L)=>x+(this.viewItems[L].maximumSize-i[L]),0),_=u.length===0?Number.POSITIVE_INFINITY:u.reduce((x,L)=>x+(i[L]-this.viewItems[L].minimumSize),0),C=u.length===0?Number.NEGATIVE_INFINITY:u.reduce((x,L)=>x+(i[L]-this.viewItems[L].maximumSize),0),y=Math.max(b,C,s),w=Math.min(_,v,a);let S=!1;if(l){const x=this.viewItems[l.index],L=t>=l.limitDelta;S=L!==x.visible,x.setVisible(L,l.size)}if(!S&&c){const x=this.viewItems[c.index],L=t<c.limitDelta;S=L!==x.visible,x.setVisible(L,c.size)}if(S)return this.resize(e,t,i,o,r,s,a);t=wr(t,y,w);for(let x=0,L=t;x<h.length;x++){const E=h[x],O=wr(g[x]+L,E.minimumSize,E.maximumSize),P=O-g[x];L-=P,E.size=O}for(let x=0,L=t;x<f.length;x++){const E=f[x],O=wr(p[x]-L,E.minimumSize,E.maximumSize),P=O-p[x];L+=P,E.size=O}return t}distributeEmptySpace(e){const t=this.viewItems.reduce((a,l)=>a+l.size,0);let i=this.size-t;const o=_r(this.viewItems.length-1,-1),r=o.filter(a=>this.viewItems[a].priority===1),s=o.filter(a=>this.viewItems[a].priority===2);for(const a of s)WR(o,a);for(const a of r)Ix(o,a);typeof e=="number"&&Ix(o,e);for(let a=0;i!==0&&a<o.length;a++){const l=this.viewItems[o[a]],c=wr(l.size+i,l.minimumSize,l.maximumSize),d=c-l.size;i-=d,l.size=c}}layoutViews(){this._contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;const i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),o=[...this.viewItems].reverse();e=!1;const r=o.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;const s=o.map(l=>e=l.maximumSize-l.size>0||e).reverse();let a=0;for(let l=0;l<this.sashItems.length;l++){const{sash:c}=this.sashItems[l],d=this.viewItems[l];a+=d.size;const u=!(t[l]&&s[l+1]),h=!(i[l]&&r[l+1]);if(u&&h){const g=_r(l,-1),f=_r(l+1,this.viewItems.length),p=this.findFirstSnapIndex(g),b=this.findFirstSnapIndex(f),v=typeof p=="number"&&!this.viewItems[p].visible,_=typeof b=="number"&&!this.viewItems[b].visible;v&&r[l]&&(a>0||this.startSnappingEnabled)?c.state=1:_&&t[l]&&(a<this._contentSize||this.endSnappingEnabled)?c.state=2:c.state=0}else u&&!h?c.state=1:!u&&h?c.state=2:c.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const i=this.viewItems[t];if(i.visible&&i.snap)return t}for(const t of e){const i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}areViewsDistributed(){let e,t;for(const i of this.viewItems)if(e=e===void 0?i.size:Math.min(e,i.size),t=t===void 0?i.size:Math.max(t,i.size),t-e>2)return!1;return!0}dispose(){var e;(e=this.sashDragState)===null||e===void 0||e.disposable.dispose(),si(this.viewItems),this.viewItems=[],this.sashItems.forEach(t=>t.disposable.dispose()),this.sashItems=[],super.dispose()}}class HS{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=HS.TemplateId,this.renderedTemplates=new Set;const o=new Map(t.map(r=>[r.templateId,r]));this.renderers=[];for(const r of e){const s=o.get(r.templateId);if(!s)throw new Error(`Table cell renderer for template id ${r.templateId} not found.`);this.renderers.push(s)}}renderTemplate(e){const t=ie(e,ue(".monaco-table-tr")),i=[],o=[];for(let s=0;s<this.columns.length;s++){const a=this.renderers[s],l=ie(t,ue(".monaco-table-td",{"data-col-index":s}));l.style.width=`${this.getColumnSize(s)}px`,i.push(l),o.push(a.renderTemplate(l))}const r={container:e,cellContainers:i,cellTemplateData:o};return this.renderedTemplates.add(r),r}renderElement(e,t,i,o){for(let r=0;r<this.columns.length;r++){const a=this.columns[r].project(e);this.renderers[r].renderElement(a,t,i.cellTemplateData[r],o)}}disposeElement(e,t,i,o){for(let r=0;r<this.columns.length;r++){const s=this.renderers[r];if(s.disposeElement){const l=this.columns[r].project(e);s.disposeElement(l,t,i.cellTemplateData[r],o)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);Xo(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}}HS.TemplateId="row";function bTe(n){return{getHeight(e){return n.getHeight(e)},getTemplateId(){return HS.TemplateId}}}class _Te extends z{get minimumSize(){var e;return(e=this.column.minimumWidth)!==null&&e!==void 0?e:120}get maximumSize(){var e;return(e=this.column.maximumWidth)!==null&&e!==void 0?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return(e=this.column.onDidChangeWidthConstraints)!==null&&e!==void 0?e:me.None}constructor(e,t){super(),this.column=e,this.index=t,this._onDidLayout=new B,this.onDidLayout=this._onDidLayout.event,this.element=ue(".monaco-table-th",{"data-col-index":t},e.label),this._register(Qm(wh("mouse"),this.element,e.tooltip))}layout(e){this._onDidLayout.fire([this.index,e])}}class OI{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(e,t,i,o,r,s){this.virtualDelegate=i,this.domId=`table_id_${++OI.InstanceCount}`,this.disposables=new oe,this.cachedWidth=0,this.cachedHeight=0,this.domNode=ie(t,ue(`.monaco-table.${this.domId}`));const a=o.map((d,u)=>this.disposables.add(new _Te(d,u))),l={size:a.reduce((d,u)=>d+u.column.weight,0),views:a.map(d=>({size:d.column.weight,view:d}))};this.splitview=this.disposables.add(new Kte(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;const c=new HS(o,r,d=>this.splitview.getViewSize(d));this.list=this.disposables.add(new pa(e,this.domNode,bTe(i),[c],s)),me.any(...a.map(d=>d.onDidLayout))(([d,u])=>c.layoutColumn(d,u),null,this.disposables),this.splitview.onDidSashReset(d=>{const u=o.reduce((g,f)=>g+f.weight,0),h=o[d].weight/u*this.cachedWidth;this.splitview.resizeView(d,h)},null,this.disposables),this.styleElement=sa(this.domNode),this.style(xEe)}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}OI.InstanceCount=0;class L0 extends fa{constructor(e){super(),this._onChange=this._register(new B),this.onChange=this._onChange.event,this._onKeyDown=this._register(new B),this.onKeyDown=this._onKeyDown.event,this._opts=e,this._checked=this._opts.isChecked;const t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...Ze.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register(Qm(wh("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault(),i.stopPropagation();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const CTe=m("caseDescription","Match Case"),yTe=m("wordsDescription","Match Whole Word"),wTe=m("regexDescription","Use Regular Expression");class qte extends L0{constructor(e){super({icon:pe.caseSensitive,title:CTe+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Gte extends L0{constructor(e){super({icon:pe.wholeWord,title:yTe+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Zte extends L0{constructor(e){super({icon:pe.regex,title:wTe+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class STe{constructor(e,t=0,i=e.length,o=t-1){this.items=e,this.start=t,this.end=i,this.index=o}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class xTe{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new STe(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach(t=>e.push(t)),e}}const v1=ue;let kTe=class extends fa{constructor(e,t,i){var o;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new B),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(o=this.options.tooltip)!==null&&o!==void 0?o:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=ie(e,v1(".monaco-inputbox.idle"));const r=this.options.flexibleHeight?"textarea":"input",s=ie(this.element,v1(".ibwrapper"));if(this.input=ie(s,v1(r+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=ie(s,v1("div.mirror")),this.mirror.innerText="",this.scrollableElement=new dee(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),ie(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(c=>this.input.scrollTop=c.scrollTop));const a=this._register(new It(e.ownerDocument,"selectionchange")),l=me.filter(a.event,()=>{const c=e.ownerDocument.getSelection();return(c==null?void 0:c.anchorNode)===s});this._register(l(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new Wa(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:Iu(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return wS(this.input)}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){if(this.state==="open"&&na(this.message,e))return;this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${Gu(i.border,"transparent")}`,this.message.content&&(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e==null?void 0:e.type}stylesForType(e){const t=this.options.inputBoxStyles;switch(e){case 1:return{border:t.inputValidationInfoBorder,background:t.inputValidationInfoBackground,foreground:t.inputValidationInfoForeground};case 2:return{border:t.inputValidationWarningBorder,background:t.inputValidationWarningBackground,foreground:t.inputValidationWarningForeground};default:return{border:t.inputValidationErrorBorder,background:t.inputValidationErrorBackground,foreground:t.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e;const t=()=>e.style.width=yr(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:o=>{var r,s;if(!this.message)return null;e=ie(o,v1(".monaco-inputbox-container")),t();const a={inline:!0,className:"monaco-inputbox-message"},l=this.message.formatContent?uDe(this.message.content,a):dDe(this.message.content,a);l.classList.add(this.classForType(this.message.type));const c=this.stylesForType(this.message.type);return l.style.backgroundColor=(r=c.background)!==null&&r!==void 0?r:"",l.style.color=(s=c.foreground)!==null&&s!==void 0?s:"",l.style.border=c.border?`1px solid ${c.border}`:"",ie(e,l),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=m("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=m("alertWarningMessage","Warning: {0}",this.message.content):i=m("alertInfoMessage","Info: {0}",this.message.content),Es(i),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText="",this.layout()}applyStyles(){var e,t,i;const o=this.options.inputBoxStyles,r=(e=o.inputBackground)!==null&&e!==void 0?e:"",s=(t=o.inputForeground)!==null&&t!==void 0?t:"",a=(i=o.inputBorder)!==null&&i!==void 0?i:"";this.element.style.backgroundColor=r,this.element.style.color=s,this.input.style.backgroundColor="inherit",this.input.style.color=s,this.element.style.border=`1px solid ${Gu(a,"transparent")}`}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=Iu(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,o=t.selectionEnd,r=t.value;i!==null&&o!==null&&(this.value=r.substr(0,i)+e+r.substr(o),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){var e;this._hideMessage(),this.message=null,(e=this.actionbar)===null||e===void 0||e.dispose(),super.dispose()}};class Yte extends kTe{constructor(e,t,i){const o=m({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is  to represent the up and down arrow keys.']}," or {0} for history",""),r=m({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is  to represent the up and down arrow keys.']}," ({0} for history)","");super(e,t,i),this._onDidFocus=this._register(new B),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new B),this.onDidBlur=this._onDidBlur.event,this.history=new xTe(i.history,100);const s=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(o)&&!this.placeholder.endsWith(r)&&this.history.getHistory().length){const a=this.placeholder.endsWith(")")?o:r,l=this.placeholder+a;i.showPlaceholderOnFocus&&!wS(this.input)?this.placeholder=l:this.setPlaceHolder(l)}};this.observer=new MutationObserver((a,l)=>{a.forEach(c=>{c.target.textContent||s()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>s()),this.onblur(this.input,()=>{const a=l=>{if(this.placeholder.endsWith(l)){const c=this.placeholder.slice(0,this.placeholder.length-l.length);return i.showPlaceholderOnFocus?this.placeholder=c:this.setPlaceHolder(c),!0}else return!1};a(r)||a(o)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(e){this.value&&(e||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),this.value=e??"",Pd(this.value?this.value:m("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,Pd(this.value))}setPlaceHolder(e){super.setPlaceHolder(e),this.setTooltip(e)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}const LTe=m("defaultLabel","input");class Xte extends fa{constructor(e,t,i){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new bo),this.additionalToggles=[],this._onDidOptionChange=this._register(new B),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new B),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new B),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new B),this._onKeyUp=this._register(new B),this._onCaseSensitiveKeyDown=this._register(new B),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new B),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||LTe,this.showCommonFindToggles=!!i.showCommonFindToggles;const o=i.appendCaseSensitiveLabel||"",r=i.appendWholeWordsLabel||"",s=i.appendRegexLabel||"",a=i.history||[],l=!!i.flexibleHeight,c=!!i.flexibleWidth,d=i.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Yte(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:i.showHistoryHint,flexibleHeight:l,flexibleWidth:c,flexibleMaxHeight:d,inputBoxStyles:i.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new Zte({appendTitle:s,isChecked:!1,...i.toggleStyles})),this._register(this.regex.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(h=>{this._onRegexKeyDown.fire(h)})),this.wholeWords=this._register(new Gte({appendTitle:r,isChecked:!1,...i.toggleStyles})),this._register(this.wholeWords.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new qte({appendTitle:o,isChecked:!1,...i.toggleStyles})),this._register(this.caseSensitive.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(h=>{this._onCaseSensitiveKeyDown.fire(h)}));const u=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,h=>{if(h.equals(15)||h.equals(17)||h.equals(9)){const g=u.indexOf(this.domNode.ownerDocument.activeElement);if(g>=0){let f=-1;h.equals(17)?f=(g+1)%u.length:h.equals(15)&&(g===0?f=u.length-1:f=g-1),h.equals(9)?(u[g].blur(),this.inputBox.focus()):f>=0&&u[f].focus(),_t.stop(h,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(i==null?void 0:i.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),e==null||e.appendChild(this.domNode),this._register(j(this.inputBox.inputElement,"compositionstart",u=>{this.imeSessionInProgress=!0})),this._register(j(this.inputBox.inputElement,"compositionend",u=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,u=>this._onKeyDown.fire(u)),this.onkeyup(this.inputBox.inputElement,u=>this._onKeyUp.fire(u)),this.oninput(this.inputBox.inputElement,u=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,u=>this._onMouseDown.fire(u))}get onDidChange(){return this.inputBox.onDidChange}layout(e){this.inputBox.layout(),this.updateInputBoxPadding(e.collapsedFindWidget)}enable(){var e,t,i;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(e=this.regex)===null||e===void 0||e.enable(),(t=this.wholeWords)===null||t===void 0||t.enable(),(i=this.caseSensitive)===null||i===void 0||i.enable();for(const o of this.additionalToggles)o.enable()}disable(){var e,t,i;this.domNode.classList.add("disabled"),this.inputBox.disable(),(e=this.regex)===null||e===void 0||e.disable(),(t=this.wholeWords)===null||t===void 0||t.disable(),(i=this.caseSensitive)===null||i===void 0||i.disable();for(const o of this.additionalToggles)o.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}setAdditionalToggles(e){for(const t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new oe;for(const t of e??[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange(i=>{this._onDidOptionChange.fire(i),!i&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(e=!1){var t,i,o,r,s,a;e?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((i=(t=this.caseSensitive)===null||t===void 0?void 0:t.width())!==null&&i!==void 0?i:0)+((r=(o=this.wholeWords)===null||o===void 0?void 0:o.width())!==null&&r!==void 0?r:0)+((a=(s=this.regex)===null||s===void 0?void 0:s.width())!==null&&a!==void 0?a:0)+this.additionalToggles.reduce((l,c)=>l+c.width(),0)}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var e,t;return(t=(e=this.caseSensitive)===null||e===void 0?void 0:e.checked)!==null&&t!==void 0?t:!1}setCaseSensitive(e){this.caseSensitive&&(this.caseSensitive.checked=e)}getWholeWords(){var e,t;return(t=(e=this.wholeWords)===null||e===void 0?void 0:e.checked)!==null&&t!==void 0?t:!1}setWholeWords(e){this.wholeWords&&(this.wholeWords.checked=e)}getRegex(){var e,t;return(t=(e=this.regex)===null||e===void 0?void 0:e.checked)!==null&&t!==void 0?t:!1}setRegex(e){this.regex&&(this.regex.checked=e,this.validate())}focusOnCaseSensitive(){var e;(e=this.caseSensitive)===null||e===void 0||e.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}}var $s;(function(n){n[n.Expanded=0]="Expanded",n[n.Collapsed=1]="Collapsed",n[n.PreserveOrExpanded=2]="PreserveOrExpanded",n[n.PreserveOrCollapsed=3]="PreserveOrCollapsed"})($s||($s={}));var Fp;(function(n){n[n.Unknown=0]="Unknown",n[n.Twistie=1]="Twistie",n[n.Element=2]="Element",n[n.Filter=3]="Filter"})(Fp||(Fp={}));class Ys extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class S7{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function x7(n){return typeof n=="object"&&"visibility"in n&&"data"in n}function pw(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}function tA(n){return typeof n.collapsible=="boolean"}class DTe{constructor(e,t,i,o={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new W8,this._onDidChangeCollapseState=new B,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new B,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new B,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new Sl(FQ),this.collapseByDefault=typeof o.collapseByDefault>"u"?!1:o.collapseByDefault,this.filter=o.filter,this.autoExpandSingleChildren=typeof o.autoExpandSingleChildren>"u"?!1:o.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=Mt.empty(),o={}){if(e.length===0)throw new Ys(this.user,"Invalid tree location");o.diffIdentityProvider?this.spliceSmart(o.diffIdentityProvider,e,t,i,o):this.spliceSimple(e,t,i,o)}spliceSmart(e,t,i,o,r,s){var a;o===void 0&&(o=Mt.empty()),s===void 0&&(s=(a=r.diffDepth)!==null&&a!==void 0?a:0);const{parentNode:l}=this.getParentNodeWithListIndex(t);if(!l.lastDiffIds)return this.spliceSimple(t,i,o,r);const c=[...o],d=t[t.length-1],u=new sd({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,d),...c,...l.children.slice(d+i)].map(b=>e.getId(b.element).toString())}).ComputeDiff(!1);if(u.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(t,i,c,r);const h=t.slice(0,-1),g=(b,v,_)=>{if(s>0)for(let C=0;C<_;C++)b--,v--,this.spliceSmart(e,[...h,b,0],Number.MAX_SAFE_INTEGER,c[v].children,r,s-1)};let f=Math.min(l.children.length,d+i),p=c.length;for(const b of u.changes.sort((v,_)=>_.originalStart-v.originalStart))g(f,p,f-(b.originalStart+b.originalLength)),f=b.originalStart,p=b.modifiedStart-d,this.spliceSimple([...h,f],b.originalLength,Mt.slice(c,p,p+b.modifiedLength),r);g(f,p,f)}spliceSimple(e,t,i=Mt.empty(),{onDidCreateNode:o,onDidDeleteNode:r,diffIdentityProvider:s}){const{parentNode:a,listIndex:l,revealed:c,visible:d}=this.getParentNodeWithListIndex(e),u=[],h=Mt.map(i,w=>this.createTreeNode(w,a,a.visible?1:0,c,u,o)),g=e[e.length-1];let f=0;for(let w=g;w>=0&&w<a.children.length;w--){const S=a.children[w];if(S.visible){f=S.visibleChildIndex;break}}const p=[];let b=0,v=0;for(const w of h)p.push(w),v+=w.renderNodeCount,w.visible&&(w.visibleChildIndex=f+b++);const _=iz(a.children,g,t,p);s?a.lastDiffIds?iz(a.lastDiffIds,g,t,p.map(w=>s.getId(w.element).toString())):a.lastDiffIds=a.children.map(w=>s.getId(w.element).toString()):a.lastDiffIds=void 0;let C=0;for(const w of _)w.visible&&C++;if(C!==0)for(let w=g+p.length;w<a.children.length;w++){const S=a.children[w];S.visible&&(S.visibleChildIndex-=C)}if(a.visibleChildrenCount+=b-C,c&&d){const w=_.reduce((S,x)=>S+(x.visible?x.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,v-w),this.list.splice(l,w,u)}if(_.length>0&&r){const w=S=>{r(S),S.children.forEach(w)};_.forEach(w)}this._onDidSplice.fire({insertedNodes:p,deletedNodes:_});let y=a;for(;y;){if(y.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}y=y.parent}}rerender(e){if(e.length===0)throw new Ys(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:o}=this.getTreeNodeWithListIndex(e);t.visible&&o&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:o}=this.getTreeNodeWithListIndex(e);return i&&o?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);typeof t>"u"&&(t=!i.collapsible);const o={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,o))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const o=this.getTreeNode(e);typeof t>"u"&&(t=!o.collapsed);const r={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,r))}_setCollapseState(e,t){const{node:i,listIndex:o,revealed:r}=this.getTreeNodeWithListIndex(e),s=this._setListNodeCollapseState(i,o,r,t);if(i!==this.root&&this.autoExpandSingleChildren&&s&&!tA(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return s}_setListNodeCollapseState(e,t,i,o){const r=this._setNodeCollapseState(e,o,!1);if(!i||!e.visible||!r)return r;const s=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=s-(t===-1?0:1);return this.list.splice(t+1,l,a.slice(1)),r}_setNodeCollapseState(e,t,i){let o;if(e===this.root?o=!1:(tA(t)?(o=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(o=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):o=!1,o&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!tA(t)&&t.recursive)for(const r of e.children)o=this._setNodeCollapseState(r,t,!0)||o;return o}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,i,o,r,s){const a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,o&&r.push(a);const c=e.children||Mt.empty(),d=o&&l!==0&&!a.collapsed;let u=0,h=1;for(const g of c){const f=this.createTreeNode(g,a,l,d,r,s);a.children.push(f),h+=f.renderNodeCount,f.visible&&(f.visibleChildIndex=u++)}return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=u,a.visible=l===2?u>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=h):(a.renderNodeCount=0,o&&r.pop()),s==null||s(a),a}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,o=!0){let r;if(e!==this.root){if(r=this._filterNode(e,t),r===0)return e.visible=!1,e.renderNodeCount=0,!1;o&&i.push(e)}const s=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||r!==0){let l=0;for(const c of e.children)a=this._updateNodeAfterFilterChange(c,r,i,o&&!e.collapsed)||a,c.visible&&(c.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=r===2?a:r===1,e.visibility=r),e.visible?e.collapsed||(e.renderNodeCount+=i.length-s):(e.renderNodeCount=0,o&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):x7(i)?(e.filterData=i.data,pw(i.visibility)):(e.filterData=void 0,pw(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;const[i,...o]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(o,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;const[i,...o]=e;if(i<0||i>t.children.length)throw new Ys(this.user,"Invalid tree location");return this.getTreeNode(o,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:o,visible:r}=this.getParentNodeWithListIndex(e),s=e[e.length-1];if(s<0||s>t.children.length)throw new Ys(this.user,"Invalid tree location");const a=t.children[s];return{node:a,listIndex:i,revealed:o,visible:r&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,o=!0,r=!0){const[s,...a]=e;if(s<0||s>t.children.length)throw new Ys(this.user,"Invalid tree location");for(let l=0;l<s;l++)i+=t.children[l].renderNodeCount;return o=o&&!t.collapsed,r=r&&t.visible,a.length===0?{parentNode:t,listIndex:i,revealed:o,visible:r}:this.getParentNodeWithListIndex(a,t.children[s],i+1,o,r)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:Hfe(e)[0]}getFirstElementChild(e){const t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}}class ETe extends WS{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function iA(n){return n instanceof WS?new ETe(n):n}class TTe{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=z.None,this.disposables=new oe}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,o;(o=(i=this.dnd).onDragStart)===null||o===void 0||o.call(i,iA(e),t)}onDragOver(e,t,i,o,r,s=!0){const a=this.dnd.onDragOver(iA(e),t&&t.element,i,o,r),l=this.autoExpandNode!==t;if(l&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return a;if(l&&typeof a!="boolean"&&a.autoExpand&&(this.autoExpandDisposable=nf(()=>{const g=this.modelProvider(),f=g.getNodeLocation(t);g.isCollapsed(f)&&g.setCollapsed(f,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof a=="boolean"||!a.accept||typeof a.bubble>"u"||a.feedback){if(!s){const g=typeof a=="boolean"?a:a.accept,f=typeof a=="boolean"?void 0:a.effect;return{accept:g,effect:f,feedback:[i]}}return a}if(a.bubble===1){const g=this.modelProvider(),f=g.getNodeLocation(t),p=g.getParentNodeLocation(f),b=g.getNode(p),v=p&&g.getListIndex(p);return this.onDragOver(e,b,v,o,r,!1)}const c=this.modelProvider(),d=c.getNodeLocation(t),u=c.getListIndex(d),h=c.getListRenderCount(d);return{...a,feedback:_r(u,u+h)}}drop(e,t,i,o,r){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(iA(e),t&&t.element,i,o,r)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function ITe(n,e){return e&&{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new TTe(n,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent({...t,element:t.element})},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent({...t,element:t.element})}},accessibilityProvider:e.accessibilityProvider&&{...e.accessibilityProvider,getSetSize(t){const i=n(),o=i.getNodeLocation(t),r=i.getParentNodeLocation(o);return i.getNode(r).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}}}class k7{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){var i,o;(o=(i=this.delegate).setDynamicHeight)===null||o===void 0||o.call(i,e.element,t)}}var mw;(function(n){n.None="none",n.OnHover="onHover",n.Always="always"})(mw||(mw={}));class NTe{get elements(){return this._elements}constructor(e,t=[]){this._elements=t,this.disposables=new oe,this.onDidChange=me.forEach(e,i=>this._elements=i,this.disposables)}dispose(){this.disposables.dispose()}}class vw{constructor(e,t,i,o,r,s={}){var a;this.renderer=e,this.modelProvider=t,this.activeNodes=o,this.renderedIndentGuides=r,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=vw.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=z.None,this.disposables=new oe,this.templateId=e.templateId,this.updateOptions(s),me.map(i,l=>l.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(a=e.onDidChangeTwistieState)===null||a===void 0||a.call(e,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(typeof e.indent<"u"){const t=wr(e.indent,0,40);if(t!==this.indent){this.indent=t;for(const[i,o]of this.renderedNodes)this.renderTreeElement(i,o)}}if(typeof e.renderIndentGuides<"u"){const t=e.renderIndentGuides!==mw.None;if(t!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=t;for(const[i,o]of this.renderedNodes)this._renderIndentGuides(i,o);if(this.indentGuidesDisposable.dispose(),t){const i=new oe;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof e.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=ie(e,ue(".monaco-tl-row")),i=ie(t,ue(".monaco-tl-indent")),o=ie(t,ue(".monaco-tl-twistie")),r=ie(t,ue(".monaco-tl-contents")),s=this.renderer.renderTemplate(r);return{container:e,indent:i,twistie:o,indentGuidesDisposable:z.None,templateData:s}}renderElement(e,t,i,o){this.renderedNodes.set(e,i),this.renderedElements.set(e.element,e),this.renderTreeElement(e,i),this.renderer.renderElement(e,t,i.templateData,o)}disposeElement(e,t,i,o){var r,s;i.indentGuidesDisposable.dispose(),(s=(r=this.renderer).disposeElement)===null||s===void 0||s.call(r,e,t,i.templateData,o),typeof o=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,t))}renderTreeElement(e,t){const i=vw.DefaultIndent+(e.depth-1)*this.indent;t.twistie.style.paddingLeft=`${i}px`,t.indent.style.width=`${i+this.indent-16}px`,e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded"),t.twistie.classList.remove(...Ze.asClassNameArray(pe.treeItemExpanded));let o=!1;this.renderer.renderTwistie&&(o=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(o||t.twistie.classList.add(...Ze.asClassNameArray(pe.treeItemExpanded)),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(e,t)}_renderIndentGuides(e,t){if(Xo(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new oe,o=this.modelProvider();for(;;){const r=o.getNodeLocation(e),s=o.getParentNodeLocation(r);if(!s)break;const a=o.getNode(s),l=ue(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(a)&&l.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(l):t.indent.insertBefore(l,t.indent.firstElementChild),this.renderedIndentGuides.add(a,l),i.add(je(()=>this.renderedIndentGuides.delete(a,l))),e=a}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach(o=>{const r=i.getNodeLocation(o);try{const s=i.getParentNodeLocation(r);o.collapsible&&o.children.length>0&&!o.collapsed?t.add(o):s&&t.add(i.getNode(s))}catch{}}),this.activeIndentNodes.forEach(o=>{t.has(o)||this.renderedIndentGuides.forEach(o,r=>r.classList.remove("active"))}),t.forEach(o=>{this.activeIndentNodes.has(o)||this.renderedIndentGuides.forEach(o,r=>r.classList.add("active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),si(this.disposables)}}vw.DefaultIndent=8;class RTe{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new oe,e.onWillRefilter(this.reset,this,this.disposables)}filter(e,t){let i=1;if(this._filter){const s=this._filter.filter(e,t);if(typeof s=="boolean"?i=s?1:0:x7(s)?i=pw(s.visibility):i=s,i===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:pc.Default,visibility:i};const o=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),r=Array.isArray(o)?o:[o];for(const s of r){const a=s&&s.toString();if(typeof a>"u")return{data:pc.Default,visibility:i};let l;if(this.tree.findMatchType===ym.Contiguous){const c=a.toLowerCase().indexOf(this._lowercasePattern);if(c>-1){l=[Number.MAX_SAFE_INTEGER,0];for(let d=this._lowercasePattern.length;d>0;d--)l.push(c+d-1)}}else l=_m(this._pattern,this._lowercasePattern,0,a,a.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(l)return this._matchCount++,r.length===1?{data:l,visibility:i}:{data:{label:a,score:l},visibility:i}}return this.tree.findMode===zu.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):2:{data:pc.Default,visibility:i}}reset(){this._totalCount=0,this._matchCount=0}dispose(){si(this.disposables)}}var zu;(function(n){n[n.Highlight=0]="Highlight",n[n.Filter=1]="Filter"})(zu||(zu={}));var ym;(function(n){n[n.Fuzzy=0]="Fuzzy",n[n.Contiguous=1]="Contiguous"})(ym||(ym={}));let MTe=class{get pattern(){return this._pattern}get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}get matchType(){return this._matchType}set matchType(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}constructor(e,t,i,o,r,s={}){var a,l;this.tree=e,this.view=i,this.filter=o,this.contextViewProvider=r,this.options=s,this._pattern="",this.width=0,this._onDidChangeMode=new B,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new B,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new B,this._onDidChangeOpenState=new B,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new oe,this.disposables=new oe,this._mode=(a=e.options.defaultFindMode)!==null&&a!==void 0?a:zu.Highlight,this._matchType=(l=e.options.defaultFindMatchType)!==null&&l!==void 0?l:ym.Fuzzy,t.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(e={}){e.defaultFindMode!==void 0&&(this.mode=e.defaultFindMode),e.defaultFindMatchType!==void 0&&(this.matchType=e.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var e,t,i,o;const r=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&r?!((e=this.tree.options.showNotFoundMessage)!==null&&e!==void 0)||e?(t=this.widget)===null||t===void 0||t.showMessage({type:2,content:m("not found","No elements found.")}):(i=this.widget)===null||i===void 0||i.showMessage({type:2}):(o=this.widget)===null||o===void 0||o.clearMessage()}shouldAllowFocus(e){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!pc.isDefault(e.filterData)}layout(e){var t;this.width=e,(t=this.widget)===null||t===void 0||t.layout(e)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}};function ATe(n,e){return n.position===e.position&&Qte(n,e)}function Qte(n,e){return n.node.element===e.node.element&&n.startIndex===e.startIndex&&n.height===e.height&&n.endIndex===e.endIndex}class PTe{constructor(e=[]){this.stickyNodes=e}get count(){return this.stickyNodes.length}equal(e){return en(this.stickyNodes,e.stickyNodes,ATe)}lastNodePartiallyVisible(){if(this.count===0)return!1;const e=this.stickyNodes[this.count-1];if(this.count===1)return e.position!==0;const t=this.stickyNodes[this.count-2];return t.position+t.height!==e.position}animationStateChanged(e){if(!en(this.stickyNodes,e.stickyNodes,Qte)||this.count===0)return!1;const t=this.stickyNodes[this.count-1],i=e.stickyNodes[e.count-1];return t.position!==i.position}}class OTe{constrainStickyScrollNodes(e,t,i){for(let o=0;o<e.length;o++){const r=e[o];if(r.position+r.height>i||o>=t)return e.slice(0,o)}return e}}let Tj=class extends z{constructor(e,t,i,o,r,s={}){var a;super(),this.tree=e,this.model=t,this.view=i,this.treeDelegate=r,this.maxWidgetViewRatio=.4;const l=this.validateStickySettings(s);this.stickyScrollMaxItemCount=l.stickyScrollMaxItemCount,this.stickyScrollDelegate=(a=s.stickyScrollDelegate)!==null&&a!==void 0?a:new OTe,this._widget=this._register(new FTe(i.getScrollableElement(),i,e,o,r,s.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(i.onDidScroll(()=>this.update())),this._register(i.onDidChangeContentHeight(()=>this.update())),this._register(e.onDidChangeCollapseState(()=>this.update())),this.update()}getNodeAtHeight(e){let t;if(e===0?t=this.view.firstVisibleIndex:t=this.view.indexAt(e+this.view.scrollTop),!(t<0||t>=this.view.length))return this.view.element(t)}update(){const e=this.getNodeAtHeight(0);if(!e||this.tree.scrollTop===0){this._widget.setState(void 0);return}const t=this.findStickyState(e);this._widget.setState(t)}findStickyState(e){const t=[];let i=e,o=0,r=this.getNextStickyNode(i,void 0,o);for(;r&&(t.push(r),o+=r.height,!(t.length<=this.stickyScrollMaxItemCount&&(i=this.getNextVisibleNode(r),!i)));)r=this.getNextStickyNode(i,r.node,o);const s=this.constrainStickyNodes(t);return s.length?new PTe(s):void 0}getNextVisibleNode(e){return this.getNodeAtHeight(e.position+e.height)}getNextStickyNode(e,t,i){const o=this.getAncestorUnderPrevious(e,t);if(o&&!(o===e&&(!this.nodeIsUncollapsedParent(e)||this.nodeTopAlignsWithStickyNodesBottom(e,i))))return this.createStickyScrollNode(o,i)}nodeTopAlignsWithStickyNodesBottom(e,t){const i=this.getNodeIndex(e),o=this.view.getElementTop(i),r=t;return this.view.scrollTop===o-r}createStickyScrollNode(e,t){const i=this.treeDelegate.getHeight(e),{startIndex:o,endIndex:r}=this.getNodeRange(e),s=this.calculateStickyNodePosition(r,t,i);return{node:e,position:s,height:i,startIndex:o,endIndex:r}}getAncestorUnderPrevious(e,t=void 0){let i=e,o=this.getParentNode(i);for(;o;){if(o===t)return i;i=o,o=this.getParentNode(i)}if(t===void 0)return i}calculateStickyNodePosition(e,t,i){let o=this.view.getRelativeTop(e);if(o===null&&this.view.firstVisibleIndex===e&&e+1<this.view.length){const c=this.treeDelegate.getHeight(this.view.element(e)),d=this.view.getRelativeTop(e+1);o=d?d-c/this.view.renderHeight:null}if(o===null)return t;const r=this.view.element(e),s=this.treeDelegate.getHeight(r),l=o*this.view.renderHeight+s;return t+i>l&&t<=l?l-i:t}constrainStickyNodes(e){if(e.length===0)return[];const t=this.view.renderHeight*this.maxWidgetViewRatio,i=e[e.length-1];if(e.length<=this.stickyScrollMaxItemCount&&i.position+i.height<=t)return e;const o=this.stickyScrollDelegate.constrainStickyScrollNodes(e,this.stickyScrollMaxItemCount,t);if(!o.length)return[];const r=o[o.length-1];if(o.length>this.stickyScrollMaxItemCount||r.position+r.height>t)throw new Error("stickyScrollDelegate violates constraints");return o}getParentNode(e){const t=this.model.getNodeLocation(e),i=this.model.getParentNodeLocation(t);return i?this.model.getNode(i):void 0}nodeIsUncollapsedParent(e){const t=this.model.getNodeLocation(e);return this.model.getListRenderCount(t)>1}getNodeIndex(e){const t=this.model.getNodeLocation(e);return this.model.getListIndex(t)}getNodeRange(e){const t=this.model.getNodeLocation(e),i=this.model.getListIndex(t);if(i<0)throw new Error("Node not found in tree");const o=this.model.getListRenderCount(t),r=i+o-1;return{startIndex:i,endIndex:r}}nodePositionTopBelowWidget(e){const t=[];let i=this.getParentNode(e);for(;i;)t.push(i),i=this.getParentNode(i);let o=0;for(let r=0;r<t.length&&r<this.stickyScrollMaxItemCount;r++)o+=this.treeDelegate.getHeight(t[r]);return o}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(e={}){if(!e.stickyScrollMaxItemCount)return;const t=this.validateStickySettings(e);this.stickyScrollMaxItemCount!==t.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=t.stickyScrollMaxItemCount,this.update())}validateStickySettings(e){let t=7;return typeof e.stickyScrollMaxItemCount=="number"&&(t=Math.max(e.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:t}}},FTe=class{constructor(e,t,i,o,r,s){this.view=t,this.tree=i,this.treeRenderers=o,this.treeDelegate=r,this.accessibilityProvider=s,this._previousElements=[],this._previousStateDisposables=new oe,this._rootDomNode=ue(".monaco-tree-sticky-container.empty"),e.appendChild(this._rootDomNode);const a=ue(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(a),this.stickyScrollFocus=new BTe(this._rootDomNode,t),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}setState(e){const t=!!this._previousState&&this._previousState.count>0,i=!!e&&e.count>0;if(!t&&!i||t&&i&&this._previousState.equal(e))return;if(t!==i&&this.setVisible(i),!i){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}const o=e.stickyNodes[e.count-1];if(this._previousState&&e.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${o.position}px`;else{this._previousStateDisposables.clear();const r=Array(e.count);for(let s=e.count-1;s>=0;s--){const a=e.stickyNodes[s],{element:l,disposable:c}=this.createElement(a,s,e.count);r[s]=l,this._rootDomNode.appendChild(l),this._previousStateDisposables.add(c)}this.stickyScrollFocus.updateElements(r,e),this._previousElements=r}this._previousState=e,this._rootDomNode.style.height=`${o.position+o.height}px`}createElement(e,t,i){const o=e.startIndex,r=document.createElement("div");r.style.top=`${e.position}px`,r.style.height=`${e.height}px`,r.style.lineHeight=`${e.height}px`,r.classList.add("monaco-tree-sticky-row"),r.classList.add("monaco-list-row"),r.setAttribute("data-index",`${o}`),r.setAttribute("data-parity",o%2===0?"even":"odd"),r.setAttribute("id",this.view.getElementID(o)),this.setAccessibilityAttributes(r,e.node.element,t,i);const s=this.treeDelegate.getTemplateId(e.node),a=this.treeRenderers.find(u=>u.templateId===s);if(!a)throw new Error(`No renderer found for template id ${s}`);let l=e.node;l===this.tree.getNode(this.tree.getNodeLocation(e.node))&&(l=new Proxy(e.node,{}));const c=a.renderTemplate(r);a.renderElement(l,e.startIndex,c,e.height);const d=je(()=>{a.disposeElement(l,e.startIndex,c,e.height),a.disposeTemplate(c),r.remove()});return{element:r,disposable:d}}setAccessibilityAttributes(e,t,i,o){var r;if(!this.accessibilityProvider)return;this.accessibilityProvider.getSetSize&&e.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(t,i,o))),this.accessibilityProvider.getPosInSet&&e.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(t,i))),this.accessibilityProvider.getRole&&e.setAttribute("role",(r=this.accessibilityProvider.getRole(t))!==null&&r!==void 0?r:"treeitem");const s=this.accessibilityProvider.getAriaLabel(t);s&&e.setAttribute("aria-label",s);const a=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(t);typeof a=="number"&&e.setAttribute("aria-level",`${a}`),e.setAttribute("aria-selected",String(!1))}setVisible(e){this._rootDomNode.classList.toggle("empty",!e),e||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}};class BTe extends z{get domHasFocus(){return this._domHasFocus}set domHasFocus(e){e!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(e),this._domHasFocus=e)}constructor(e,t){super(),this.container=e,this.view=t,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new B,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new B,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this.container.addEventListener("focus",()=>this.onFocus()),this.container.addEventListener("blur",()=>this.onBlur()),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(i=>this.onKeyDown(i))),this._register(this.view.onMouseDown(i=>this.onMouseDown(i))),this._register(this.view.onContextMenu(i=>this.handleContextMenu(i)))}handleContextMenu(e){const t=e.browserEvent.target;if(!H2(t)&&!HC(t)){this.focusedLast()&&this.view.domFocus();return}if(!o6(e.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const s=this.state.stickyNodes.findIndex(a=>{var l;return a.node.element===((l=e.element)===null||l===void 0?void 0:l.element)});if(s===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(s);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const o=this.state.stickyNodes[this.focusedIndex].node.element,r=this.elements[this.focusedIndex];this._onContextMenu.fire({element:o,anchor:r,browserEvent:e.browserEvent,isStickyScroll:!0})}onKeyDown(e){if(this.domHasFocus&&this.state){if(e.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),e.preventDefault(),e.stopPropagation();else if(e.key==="ArrowDown"||e.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const t=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([t]),this.scrollNodeUnderWidget(t,this.state)}else this.setFocusedElement(this.focusedIndex+1);e.preventDefault(),e.stopPropagation()}}}onMouseDown(e){const t=e.browserEvent.target;!H2(t)&&!HC(t)||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation())}updateElements(e,t){if(t&&t.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(t&&t.count!==e.length)throw new Error("Sticky scroll focus received illigel state");const i=this.focusedIndex;if(this.removeFocus(),this.elements=e,this.state=t,t){const o=wr(i,0,t.count-1);this.setFocus(o)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=t?0:-1}setFocusedElement(e){const t=this.state;if(!t)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(e),!(e<t.count-1)&&t.lastNodePartiallyVisible()){const i=t.stickyNodes[e];this.scrollNodeUnderWidget(i.endIndex+1,t)}}scrollNodeUnderWidget(e,t){const i=t.stickyNodes[t.count-1],o=t.count>1?t.stickyNodes[t.count-2]:void 0,r=this.view.getElementTop(e),s=o?o.position+o.height+i.height:i.height;this.view.scrollTop=r-s}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(e){if(0>e)throw new Error("addFocus() can not remove focus");if(!this.state&&e>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&e>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const t=this.focusedIndex;t>=0&&this.toggleElementFocus(this.elements[t],!1),e>=0&&this.toggleElementFocus(this.elements[e],!0),this.focusedIndex=e}toggleElementFocus(e,t){e.classList.toggle("focused",t)}toggleStickyScrollFocused(e){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",e)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function Ij(n){let e=Fp.Unknown;return eM(n.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=Fp.Twistie:eM(n.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?e=Fp.Element:eM(n.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(e=Fp.Filter),{browserEvent:n.browserEvent,element:n.element?n.element.element:null,target:e}}function HL(n,e){e(n),n.children.forEach(t=>HL(t,e))}class nA{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new B,this.onDidChange=this._onDidChange.event}set(e,t){!(t!=null&&t.__forceEvent)&&en(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const o=this;this._onDidChange.fire({get elements(){return o.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const l=this.createNodeSet(),c=d=>l.delete(d);t.forEach(d=>HL(d,c)),this.set([...l.values()]);return}const i=new Set,o=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>HL(l,o));const r=new Map,s=l=>r.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>HL(l,s));const a=[];for(const l of this.nodes){const c=this.identityProvider.getId(l.element).toString();if(!i.has(c))a.push(l);else{const u=r.get(c);u&&u.visible&&a.push(u)}}if(this.nodes.length>0&&a.length===0){const l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class WTe extends Bte{constructor(e,t,i){super(e),this.tree=t,this.stickyScrollProvider=i}onViewPointer(e){if(Ate(e.browserEvent.target)||Vg(e.browserEvent.target)||J1(e.browserEvent.target)||e.browserEvent.isHandledByList)return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,o=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16,r=HC(e.browserEvent.target);let s=!1;if(r?s=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?s=this.tree.expandOnlyOnTwistieClick(t.element):s=!!this.tree.expandOnlyOnTwistieClick,r)this.handleStickyScrollMouseEvent(e,t);else{if(s&&!o&&e.browserEvent.detail!==2)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&e.browserEvent.detail===2)return super.onViewPointer(e)}if(t.collapsible&&(!r||o)){const a=this.tree.getNodeLocation(t),l=e.browserEvent.altKey;if(this.tree.setFocus([a]),this.tree.toggleCollapsed(a,l),s&&o){e.browserEvent.isHandledByList=!0;return}}r||super.onViewPointer(e)}handleStickyScrollMouseEvent(e,t){if(bEe(e.browserEvent.target)||_Ee(e.browserEvent.target))return;const i=this.stickyScrollProvider();if(!i)throw new Error("Sticky scroll controller not found");const o=this.list.indexOf(t),r=this.list.getElementTop(o),s=i.nodePositionTopBelowWidget(t);this.tree.scrollTop=r-s,this.list.domFocus(),this.list.setFocus([o]),this.list.setSelection([o])}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||e.browserEvent.isHandledByList||super.onDoubleClick(e)}onMouseDown(e){const t=e.browserEvent.target;if(!H2(t)&&!HC(t)){super.onMouseDown(e);return}}onContextMenu(e){const t=e.browserEvent.target;if(!H2(t)&&!HC(t)){super.onContextMenu(e);return}}}class VTe extends pa{constructor(e,t,i,o,r,s,a,l){super(e,t,i,o,l),this.focusTrait=r,this.selectionTrait=s,this.anchorTrait=a}createMouseController(e){return new WTe(this,e.tree,e.stickyScrollProvider)}splice(e,t,i=[]){if(super.splice(e,t,i),i.length===0)return;const o=[],r=[];let s;i.forEach((a,l)=>{this.focusTrait.has(a)&&o.push(e+l),this.selectionTrait.has(a)&&r.push(e+l),this.anchorTrait.has(a)&&(s=e+l)}),o.length>0&&super.setFocus(ch([...super.getFocus(),...o])),r.length>0&&super.setSelection(ch([...super.getSelection(),...r])),typeof s=="number"&&super.setAnchor(s)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(o=>this.element(o)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(o=>this.element(o)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(typeof e>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class Jte{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return me.filter(me.map(this.view.onMouseDblClick,Ij),e=>e.target!==Fp.Filter)}get onPointer(){return me.map(this.view.onPointer,Ij)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return me.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var e,t;return(t=(e=this.findController)===null||e===void 0?void 0:e.mode)!==null&&t!==void 0?t:zu.Highlight}set findMode(e){this.findController&&(this.findController.mode=e)}get findMatchType(){var e,t;return(t=(e=this.findController)===null||e===void 0?void 0:e.matchType)!==null&&t!==void 0?t:ym.Fuzzy}set findMatchType(e){this.findController&&(this.findController.matchType=e)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(e,t,i,o,r={}){var s;this._user=e,this._options=r,this.eventBufferer=new W8,this.onDidChangeFindOpenState=me.None,this.onDidChangeStickyScrollFocused=me.None,this.disposables=new oe,this._onWillRefilter=new B,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new B,this.treeDelegate=new k7(i);const a=new cz,l=new cz,c=this.disposables.add(new NTe(l.event)),d=new f6;this.renderers=o.map(p=>new vw(p,()=>this.model,a.event,c,d,r));for(const p of this.renderers)this.disposables.add(p);let u;r.keyboardNavigationLabelProvider&&(u=new RTe(this,r.keyboardNavigationLabelProvider,r.filter),r={...r,filter:u},this.disposables.add(u)),this.focus=new nA(()=>this.view.getFocusedElements()[0],r.identityProvider),this.selection=new nA(()=>this.view.getSelectedElements()[0],r.identityProvider),this.anchor=new nA(()=>this.view.getAnchorElement(),r.identityProvider),this.view=new VTe(e,t,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...ITe(()=>this.model,r),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(e,this.view,r),a.input=this.model.onDidChangeCollapseState;const h=me.forEach(this.model.onDidSplice,p=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(p),this.selection.onDidModelSplice(p)})},this.disposables);h(()=>null,null,this.disposables);const g=this.disposables.add(new B),f=this.disposables.add(new Sl(0));if(this.disposables.add(me.any(h,this.focus.onDidChange,this.selection.onDidChange)(()=>{f.trigger(()=>{const p=new Set;for(const b of this.focus.getNodes())p.add(b);for(const b of this.selection.getNodes())p.add(b);g.fire([...p.values()])})})),l.input=g.event,r.keyboardSupport!==!1){const p=me.chain(this.view.onKeyDown,b=>b.filter(v=>!Vg(v.target)).map(v=>new Ni(v)));me.chain(p,b=>b.filter(v=>v.keyCode===15))(this.onLeftArrow,this,this.disposables),me.chain(p,b=>b.filter(v=>v.keyCode===17))(this.onRightArrow,this,this.disposables),me.chain(p,b=>b.filter(v=>v.keyCode===10))(this.onSpace,this,this.disposables)}if((!((s=r.findWidgetEnabled)!==null&&s!==void 0)||s)&&r.keyboardNavigationLabelProvider&&r.contextViewProvider){const p=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new MTe(this,this.model,this.view,u,r.contextViewProvider,p),this.focusNavigationFilter=b=>this.findController.shouldAllowFocus(b),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=me.None,this.onDidChangeFindMatchType=me.None;r.enableStickyScroll&&(this.stickyScrollController=new Tj(this,this.model,this.view,this.renderers,this.treeDelegate,r),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=sa(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===mw.Always)}updateOptions(e={}){var t;this._options={...this._options,...e};for(const i of this.renderers)i.updateOptions(e);this.view.updateOptions(this._options),(t=this.findController)===null||t===void 0||t.updateOptions(e),this.updateStickyScroll(e),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===mw.Always)}get options(){return this._options}updateStickyScroll(e){var t;!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new Tj(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=me.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),(t=this.stickyScrollController)===null||t===void 0||t.updateOptions(e)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){var e;!((e=this.stickyScrollController)===null||e===void 0)&&e.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}layout(e,t){var i;this.view.layout(e,t),Xg(t)&&((i=this.findController)===null||i===void 0||i.layout(t))}style(e){var t;const i=`.${this.view.domId}`,o=[];e.treeIndentGuidesStroke&&(o.push(`.monaco-list${i}:hover .monaco-tl-indent > .indent-guide, .monaco-list${i}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeInactiveIndentGuidesStroke}; }`),o.push(`.monaco-list${i} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),e.listBackground&&(o.push(`.monaco-list${i} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${e.listBackground}; }`),o.push(`.monaco-list${i} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${e.listBackground}; }`)),e.listFocusForeground&&(o.push(`.monaco-list${i}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),o.push(`.monaco-list${i}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const r=Gu(e.listFocusAndSelectionOutline,Gu(e.listSelectionOutline,(t=e.listFocusOutline)!==null&&t!==void 0?t:""));r&&(o.push(`.monaco-list${i}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${r}; outline-offset: -1px;}`),o.push(`.monaco-list${i}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),e.listFocusOutline&&(o.push(`.monaco-list${i}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),o.push(`.monaco-list${i}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),o.push(`.monaco-workbench.context-menu-visible .monaco-list${i}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),o.push(`.monaco-workbench.context-menu-visible .monaco-list${i}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=o.join(`
`),this.view.style(e)}getParentElement(e){const t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}getNodeLocation(e){return this.model.getNodeLocation(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}toggleCollapsed(e,t=!1){return this.model.setCollapsed(e,void 0,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){this.eventBufferer.bufferEvents(()=>{const i=e.map(r=>this.model.getNode(r));this.selection.set(i,t);const o=e.map(r=>this.model.getListIndex(r)).filter(r=>r>-1);this.view.setSelection(o,t,!0)})}getSelection(){return this.selection.get()}setFocus(e,t){this.eventBufferer.bufferEvents(()=>{const i=e.map(r=>this.model.getNode(r));this.focus.set(i,t);const o=e.map(r=>this.model.getListIndex(r)).filter(r=>r>-1);this.view.setFocus(o,t,!0)})}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);if(i!==-1)if(!this.stickyScrollController)this.view.reveal(i,t);else{const o=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(e));this.view.reveal(i,t,o)}}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],o=this.model.getNodeLocation(i);if(!this.model.setCollapsed(o,!0)){const s=this.model.getParentNodeLocation(o);if(!s)return;const a=this.model.getListIndex(s);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],o=this.model.getNodeLocation(i);if(!this.model.setCollapsed(o,!1)){if(!i.children.some(l=>l.visible))return;const[s]=this.view.getFocus(),a=s+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],o=this.model.getNodeLocation(i),r=e.browserEvent.altKey;this.model.setCollapsed(o,void 0,r)}dispose(){var e;si(this.disposables),(e=this.stickyScrollController)===null||e===void 0||e.dispose(),this.view.dispose()}}class L7{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new DTe(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(o,r){return i.sorter.compare(o.element,r.element)}}),this.identityProvider=i.identityProvider}setChildren(e,t=Mt.empty(),i={}){const o=this.getElementLocation(e);this._setChildren(o,this.preserveCollapseState(t),i)}_setChildren(e,t=Mt.empty(),i){const o=new Set,r=new Set,s=l=>{var c;if(l.element===null)return;const d=l;if(o.add(d.element),this.nodes.set(d.element,d),this.identityProvider){const u=this.identityProvider.getId(d.element).toString();r.add(u),this.nodesByIdentity.set(u,d)}(c=i.onDidCreateNode)===null||c===void 0||c.call(i,d)},a=l=>{var c;if(l.element===null)return;const d=l;if(o.has(d.element)||this.nodes.delete(d.element),this.identityProvider){const u=this.identityProvider.getId(d.element).toString();r.has(u)||this.nodesByIdentity.delete(u)}(c=i.onDidDeleteNode)===null||c===void 0||c.call(i,d)};this.model.splice([...e,0],Number.MAX_VALUE,t,{...i,onDidCreateNode:s,onDidDeleteNode:a})}preserveCollapseState(e=Mt.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),Mt.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){const s=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(s)}if(!i){let s;return typeof t.collapsed>"u"?s=void 0:t.collapsed===$s.Collapsed||t.collapsed===$s.PreserveOrCollapsed?s=!0:t.collapsed===$s.Expanded||t.collapsed===$s.PreserveOrExpanded?s=!1:s=!!t.collapsed,{...t,children:this.preserveCollapseState(t.children),collapsed:s}}const o=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible;let r;return typeof t.collapsed>"u"||t.collapsed===$s.PreserveOrCollapsed||t.collapsed===$s.PreserveOrExpanded?r=i.collapsed:t.collapsed===$s.Collapsed?r=!0:t.collapsed===$s.Expanded?r=!1:r=!!t.collapsed,{...t,collapsible:o,collapsed:r,children:this.preserveCollapseState(t.children)}})}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const o=this.getElementLocation(e);return this.model.setCollapsed(o,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new Ys(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new Ys(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new Ys(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),o=this.model.getParentNodeLocation(i);return this.model.getNode(o).element}getElementLocation(e){if(e===null)return[];const t=this.nodes.get(e);if(!t)throw new Ys(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function zL(n){const e=[n.element],t=n.incompressible||!1;return{element:{elements:e,incompressible:t},children:Mt.map(Mt.from(n.children),zL),collapsible:n.collapsible,collapsed:n.collapsed}}function UL(n){const e=[n.element],t=n.incompressible||!1;let i,o;for(;[o,i]=Mt.consume(Mt.from(n.children),2),!(o.length!==1||o[0].incompressible);)n=o[0],e.push(n.element);return{element:{elements:e,incompressible:t},children:Mt.map(Mt.concat(o,i),UL),collapsible:n.collapsible,collapsed:n.collapsed}}function k3(n,e=0){let t;return e<n.element.elements.length-1?t=[k3(n,e+1)]:t=Mt.map(Mt.from(n.children),i=>k3(i,0)),e===0&&n.element.incompressible?{element:n.element.elements[e],children:t,incompressible:!0,collapsible:n.collapsible,collapsed:n.collapsed}:{element:n.element.elements[e],children:t,collapsible:n.collapsible,collapsed:n.collapsed}}function Nj(n){return k3(n,0)}function eie(n,e,t){return n.element===e?{...n,children:t}:{...n,children:Mt.map(Mt.from(n.children),i=>eie(i,e,t))}}const HTe=n=>({getId(e){return e.elements.map(t=>n.getId(t).toString()).join("\0")}});class zTe{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new L7(e,t,i),this.enabled=typeof i.compressionEnabled>"u"?!0:i.compressionEnabled,this.identityProvider=i.identityProvider}setChildren(e,t=Mt.empty(),i){const o=i.diffIdentityProvider&&HTe(i.diffIdentityProvider);if(e===null){const f=Mt.map(t,this.enabled?UL:zL);this._setChildren(null,f,{diffIdentityProvider:o,diffDepth:1/0});return}const r=this.nodes.get(e);if(!r)throw new Ys(this.user,"Unknown compressed tree node");const s=this.model.getNode(r),a=this.model.getParentNodeLocation(r),l=this.model.getNode(a),c=Nj(s),d=eie(c,e,t),u=(this.enabled?UL:zL)(d),h=i.diffIdentityProvider?(f,p)=>i.diffIdentityProvider.getId(f)===i.diffIdentityProvider.getId(p):void 0;if(en(u.element.elements,s.element.elements,h)){this._setChildren(r,u.children||Mt.empty(),{diffIdentityProvider:o,diffDepth:1});return}const g=l.children.map(f=>f===s?u:f);this._setChildren(l.element,g,{diffIdentityProvider:o,diffDepth:s.depth-l.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const i=this.model.getNode().children,o=Mt.map(i,Nj),r=Mt.map(o,e?UL:zL);this._setChildren(null,r,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const o=new Set,r=a=>{for(const l of a.element.elements)o.add(l),this.nodes.set(l,a.element)},s=a=>{for(const l of a.element.elements)o.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,{...i,onDidCreateNode:r,onDidDeleteNode:s})}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e>"u")return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}getFirstElementChild(e){const t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const o=this.getCompressedNode(e);return this.model.setCollapsed(o,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(e===null)return null;const t=this.nodes.get(e);if(!t)throw new Ys(this.user,`Tree element not found: ${e}`);return t}}const UTe=n=>n[n.length-1];class D7{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new D7(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e,t){this.unwrapper=e,this.node=t}}function $Te(n,e){return{splice(t,i,o){e.splice(t,i,o.map(r=>n.map(r)))},updateElementHeight(t,i){e.updateElementHeight(t,i)}}}function jTe(n,e){return{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(n(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(n(t),i)}}}}class KTe{get onDidSplice(){return me.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidChangeCollapseState(){return me.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return me.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||UTe;const o=r=>this.elementMapper(r.elements);this.nodeMapper=new S7(r=>new D7(o,r)),this.model=new zTe(e,$Te(this.nodeMapper,t),jTe(o,i))}setChildren(e,t=Mt.empty(),i={}){this.model.setChildren(e,t,i)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const t=this.model.getFirstElementChild(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var qTe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class E7 extends Jte{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(e,t,i,o,r={}){super(e,t,i,o,r),this.user=e}setChildren(e,t=Mt.empty(),i){this.model.setChildren(e,t,i)}rerender(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new L7(e,t,i)}}class tie{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(e,t,i){this._compressedTreeNodeProvider=e,this.stickyScrollDelegate=t,this.renderer=i,this.templateId=i.templateId,i.onDidChangeTwistieState&&(this.onDidChangeTwistieState=i.onDidChangeTwistieState)}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,o){let r=this.stickyScrollDelegate.getCompressedNode(e);r||(r=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element)),r.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,o)):(i.compressedTreeNode=r,this.renderer.renderCompressedElements(r,t,i.data,o))}disposeElement(e,t,i,o){var r,s,a,l;i.compressedTreeNode?(s=(r=this.renderer).disposeCompressedElements)===null||s===void 0||s.call(r,i.compressedTreeNode,t,i.data,o):(l=(a=this.renderer).disposeElement)===null||l===void 0||l.call(a,e,t,i.data,o)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}}qTe([Sn],tie.prototype,"compressedTreeNodeProvider",null);class GTe{constructor(e){this.modelProvider=e,this.compressedStickyNodes=new Map}getCompressedNode(e){return this.compressedStickyNodes.get(e)}constrainStickyScrollNodes(e,t,i){if(this.compressedStickyNodes.clear(),e.length===0)return[];for(let o=0;o<e.length;o++){const r=e[o],s=r.position+r.height;if(o+1<e.length&&s+e[o+1].height>i||o>=t-1&&t<e.length){const l=e.slice(0,o),c=e.slice(o),d=this.compressStickyNodes(c);return[...l,d]}}return e}compressStickyNodes(e){if(e.length===0)throw new Error("Can't compress empty sticky nodes");if(!this.modelProvider().isCompressionEnabled())return e[0];const t=[];for(const l of e){const c=this.modelProvider().getCompressedTreeNode(l.node.element);if(c.element){if(c.element.incompressible)break;t.push(...c.element.elements)}}if(t.length<2)return e[0];const i=e[e.length-1],o={elements:t,incompressible:!1},r={...i.node,children:[],element:o},s=new Proxy(e[0].node,{}),a={node:s,startIndex:e[0].startIndex,endIndex:i.endIndex,position:e[0].position,height:e[0].height};return this.compressedStickyNodes.set(s,r),a}}function ZTe(n,e){return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=n().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}}}class iie extends E7{constructor(e,t,i,o,r={}){const s=()=>this,a=new GTe(()=>this.model),l=o.map(c=>new tie(s,a,c));super(e,t,i,l,{...ZTe(s,r),stickyScrollDelegate:a})}setChildren(e,t=Mt.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new KTe(e,t,i)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled<"u"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}function oA(n){return{...n,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function L3(n,e){return e.parent?e.parent===n?!0:L3(n,e.parent):!1}function YTe(n,e){return n===e||L3(n,e)||L3(e,n)}class T7{get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new T7(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class XTe{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,o){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,o)}renderTwistie(e,t){return e.slow?(t.classList.add(...Ze.asClassNameArray(pe.treeItemLoading)),!0):(t.classList.remove(...Ze.asClassNameArray(pe.treeItemLoading)),!1)}disposeElement(e,t,i,o){var r,s;(s=(r=this.renderer).disposeElement)===null||s===void 0||s.call(r,this.nodeMapper.map(e),t,i.templateData,o)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function Rj(n){return{browserEvent:n.browserEvent,elements:n.elements.map(e=>e.element)}}function Mj(n){return{browserEvent:n.browserEvent,element:n.element&&n.element.element,target:n.target}}class QTe extends WS{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function rA(n){return n instanceof WS?new QTe(n):n}class JTe{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,o;(o=(i=this.dnd).onDragStart)===null||o===void 0||o.call(i,rA(e),t)}onDragOver(e,t,i,o,r,s=!0){return this.dnd.onDragOver(rA(e),t&&t.element,i,o,r)}drop(e,t,i,o,r){this.dnd.drop(rA(e),t&&t.element,i,o,r)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}dispose(){this.dnd.dispose()}}function nie(n){return n&&{...n,collapseByDefault:!0,identityProvider:n.identityProvider&&{getId(e){return n.identityProvider.getId(e.element)}},dnd:n.dnd&&new JTe(n.dnd),multipleSelectionController:n.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return n.multipleSelectionController.isSelectionSingleChangeEvent({...e,element:e.element})},isSelectionRangeChangeEvent(e){return n.multipleSelectionController.isSelectionRangeChangeEvent({...e,element:e.element})}},accessibilityProvider:n.accessibilityProvider&&{...n.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:n.accessibilityProvider.getRole?e=>n.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:n.accessibilityProvider.isChecked?e=>{var t;return!!(!((t=n.accessibilityProvider)===null||t===void 0)&&t.isChecked(e.element))}:void 0,getAriaLabel(e){return n.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return n.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:n.accessibilityProvider.getWidgetRole?()=>n.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:n.accessibilityProvider.getAriaLevel&&(e=>n.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:n.accessibilityProvider.getActiveDescendantId&&(e=>n.accessibilityProvider.getActiveDescendantId(e.element))},filter:n.filter&&{filter(e,t){return n.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&{...n.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(e){return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof n.expandOnlyOnTwistieClick>"u"?void 0:typeof n.expandOnlyOnTwistieClick!="function"?n.expandOnlyOnTwistieClick:e=>n.expandOnlyOnTwistieClick(e.element),defaultFindVisibility:e=>e.hasChildren&&e.stale?1:typeof n.defaultFindVisibility=="number"?n.defaultFindVisibility:typeof n.defaultFindVisibility>"u"?2:n.defaultFindVisibility(e.element)}}function D3(n,e){e(n),n.children.forEach(t=>D3(t,e))}class oie{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return me.map(this.tree.onDidChangeFocus,Rj)}get onDidChangeSelection(){return me.map(this.tree.onDidChangeSelection,Rj)}get onMouseDblClick(){return me.map(this.tree.onMouseDblClick,Mj)}get onPointer(){return me.map(this.tree.onPointer,Mj)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(e,t,i,o,r,s={}){this.user=e,this.dataSource=r,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new B,this._onDidChangeNodeSlowState=new B,this.nodeMapper=new S7(a=>new T7(a)),this.disposables=new oe,this.identityProvider=s.identityProvider,this.autoExpandSingleChildren=typeof s.autoExpandSingleChildren>"u"?!1:s.autoExpandSingleChildren,this.sorter=s.sorter,this.getDefaultCollapseState=a=>s.collapseByDefault?s.collapseByDefault(a)?$s.PreserveOrCollapsed:$s.PreserveOrExpanded:void 0,this.tree=this.createTree(e,t,i,o,s),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=oA({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(e,t,i,o,r){const s=new k7(i),a=o.map(c=>new XTe(c,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=nie(r)||{};return new E7(e,t,s,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}async setInput(e,t){this.refreshPromises.forEach(o=>o.cancel()),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};await this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)}async _updateChildren(e=this.root.element,t=!0,i=!1,o,r){if(typeof this.root.element>"u")throw new Ys(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await me.toPromise(this._onDidRender.event));const s=this.getDataNode(e);if(await this.refreshAndRenderNode(s,t,o,r),i)try{this.tree.rerender(s)}catch{}}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}const t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}async expand(e,t=!1){if(typeof this.root.element>"u")throw new Ys(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await me.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(await this.root.refreshPromise,await me.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;const o=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(await this.root.refreshPromise,await me.toPromise(this._onDidRender.event)),o}setSelection(e,t){const i=e.map(o=>this.getDataNode(o));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){const i=e.map(o=>this.getDataNode(o));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(t=>t.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){const t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new Ys(this.user,`Data tree node not found: ${e}`);return t}async refreshAndRenderNode(e,t,i,o){await this.refreshNode(e,t,i),!this.disposables.isDisposed&&this.render(e,i,o)}async refreshNode(e,t,i){let o;if(this.subTreeRefreshPromises.forEach((r,s)=>{!o&&YTe(s,e)&&(o=r.then(()=>this.refreshNode(e,t,i)))}),o)return o;if(e!==this.root&&this.tree.getNode(e).collapsed){e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0,this.setChildren(e,[],t,i);return}return this.doRefreshSubTree(e,t,i)}async doRefreshSubTree(e,t,i){let o;e.refreshPromise=new Promise(r=>o=r),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const r=await this.doRefreshNode(e,t,i);e.stale=!1,await U5.settled(r.map(s=>this.doRefreshSubTree(s,t,i)))}finally{o()}}async doRefreshNode(e,t,i){e.hasChildren=!!this.dataSource.hasChildren(e.element);let o;if(!e.hasChildren)o=Promise.resolve(Mt.empty());else{const r=this.doGetChildren(e);if(nz(r))o=Promise.resolve(r);else{const s=tf(800);s.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},a=>null),o=r.finally(()=>s.cancel())}}try{const r=await o;return this.setChildren(e,r,t,i)}catch(r){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),Ic(r))return[];throw r}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;const i=this.dataSource.getChildren(e.element);return nz(i)?this.processChildren(i):(t=ro(async()=>this.processChildren(await i)),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(st))}setChildren(e,t,i,o){const r=[...t];if(e.children.length===0&&r.length===0)return[];const s=new Map,a=new Map;for(const d of e.children)s.set(d.element,d),this.identityProvider&&a.set(d.id,{node:d,collapsed:this.tree.hasElement(d)&&this.tree.isCollapsed(d)});const l=[],c=r.map(d=>{const u=!!this.dataSource.hasChildren(d);if(!this.identityProvider){const p=oA({element:d,parent:e,hasChildren:u,defaultCollapseState:this.getDefaultCollapseState(d)});return u&&p.defaultCollapseState===$s.PreserveOrExpanded&&l.push(p),p}const h=this.identityProvider.getId(d).toString(),g=a.get(h);if(g){const p=g.node;return s.delete(p.element),this.nodes.delete(p.element),this.nodes.set(d,p),p.element=d,p.hasChildren=u,i?g.collapsed?(p.children.forEach(b=>D3(b,v=>this.nodes.delete(v.element))),p.children.splice(0,p.children.length),p.stale=!0):l.push(p):u&&!g.collapsed&&l.push(p),p}const f=oA({element:d,parent:e,id:h,hasChildren:u,defaultCollapseState:this.getDefaultCollapseState(d)});return o&&o.viewState.focus&&o.viewState.focus.indexOf(h)>-1&&o.focus.push(f),o&&o.viewState.selection&&o.viewState.selection.indexOf(h)>-1&&o.selection.push(f),(o&&o.viewState.expanded&&o.viewState.expanded.indexOf(h)>-1||u&&f.defaultCollapseState===$s.PreserveOrExpanded)&&l.push(f),f});for(const d of s.values())D3(d,u=>this.nodes.delete(u.element));for(const d of c)this.nodes.set(d.element,d);return e.children.splice(0,e.children.length,...c),e!==this.root&&this.autoExpandSingleChildren&&c.length===1&&l.length===0&&(c[0].forceExpanded=!0,l.push(c[0])),l}render(e,t,i){const o=e.children.map(s=>this.asTreeElement(s,t)),r=i&&{...i,diffIdentityProvider:i.diffIdentityProvider&&{getId(s){return i.diffIdentityProvider.getId(s.element)}}};this.tree.setChildren(e===this.root?null:e,o,r),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:e.forceExpanded?(i=!1,e.forceExpanded=!1):i=e.defaultCollapseState,{element:e,children:e.hasChildren?Mt.map(e.children,o=>this.asTreeElement(o,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose(),this.tree.dispose()}}class I7{get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new I7(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class eIe{constructor(e,t,i,o){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=o,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,o){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,o)}renderCompressedElements(e,t,i,o){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,o)}renderTwistie(e,t){return e.slow?(t.classList.add(...Ze.asClassNameArray(pe.treeItemLoading)),!0):(t.classList.remove(...Ze.asClassNameArray(pe.treeItemLoading)),!1)}disposeElement(e,t,i,o){var r,s;(s=(r=this.renderer).disposeElement)===null||s===void 0||s.call(r,this.nodeMapper.map(e),t,i.templateData,o)}disposeCompressedElements(e,t,i,o){var r,s;(s=(r=this.renderer).disposeCompressedElements)===null||s===void 0||s.call(r,this.compressibleNodeMapperProvider().map(e),t,i.templateData,o)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=si(this.disposables)}}function tIe(n){const e=n&&nie(n);return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(t){return n.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}}}}class iIe extends oie{constructor(e,t,i,o,r,s,a={}){super(e,t,i,r,s,a),this.compressionDelegate=o,this.compressibleNodeMapper=new S7(l=>new I7(l)),this.filter=a.filter}createTree(e,t,i,o,r){const s=new k7(i),a=o.map(c=>new eIe(c,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),l=tIe(r)||{};return new iie(e,t,s,a,l)}asTreeElement(e,t){return{incompressible:this.compressionDelegate.isIncompressible(e.element),...super.asTreeElement(e,t)}}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t,i){if(!this.identityProvider)return super.render(e,t);const o=g=>this.identityProvider.getId(g).toString(),r=g=>{const f=new Set;for(const p of g){const b=this.tree.getCompressedTreeNode(p===this.root?null:p);if(b.element)for(const v of b.element.elements)f.add(o(v.element))}return f},s=r(this.tree.getSelection()),a=r(this.tree.getFocus());super.render(e,t,i);const l=this.getSelection();let c=!1;const d=this.getFocus();let u=!1;const h=g=>{const f=g.element;if(f)for(let p=0;p<f.elements.length;p++){const b=o(f.elements[p].element),v=f.elements[f.elements.length-1].element;s.has(b)&&l.indexOf(v)===-1&&(l.push(v),c=!0),a.has(b)&&d.indexOf(v)===-1&&(d.push(v),u=!0)}g.children.forEach(h)};h(this.tree.getCompressedTreeNode(e===this.root?null:e)),c&&this.setSelection(l),u&&this.setFocus(d)}processChildren(e){return this.filter&&(e=Mt.filter(e,t=>{const i=this.filter.filter(t,1),o=nIe(i);if(o===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return o===1})),super.processChildren(e)}}function nIe(n){return typeof n=="boolean"?n?1:0:x7(n)?pw(n.visibility):pw(n)}class oIe extends Jte{constructor(e,t,i,o,r,s={}){super(e,t,i,o,s),this.user=e,this.dataSource=r,this.identityProvider=s.identityProvider}createModel(e,t,i){return new L7(e,t,i)}}new we("isMac",Rt,m("isMac","Whether the operating system is macOS"));new we("isLinux",Br,m("isLinux","Whether the operating system is Linux"));const FI=new we("isWindows",Qo,m("isWindows","Whether the operating system is Windows")),rie=new we("isWeb",Nf,m("isWeb","Whether the platform is a web browser"));new we("isMacNative",Rt&&!Nf,m("isMacNative","Whether the operating system is macOS on a non-browser platform"));new we("isIOS",bc,m("isIOS","Whether the operating system is iOS"));new we("isMobile",oQ,m("isMobile","Whether the platform is a mobile web browser"));new we("isDevelopment",!1,!0);new we("productQualityType","",m("productQualityType","Quality type of VS Code"));const sie="inputFocus",rIe=new we(sie,!1,m("inputFocus","Whether keyboard focus is inside an input box"));var xh=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Ri=function(n,e){return function(t,i){e(t,i,n)}};const Ga=Et("listService");class sIe{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new oe,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(e){var t,i;e!==this._lastFocusedWidget&&((t=this._lastFocusedWidget)===null||t===void 0||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,(i=this._lastFocusedWidget)===null||i===void 0||i.getHTMLElement().classList.add("last-focused"))}register(e,t){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new Wte(sa(),"").style(Wf)),this.lists.some(o=>o.widget===e))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),wS(e.getHTMLElement())&&this.setLastFocusedList(e),vl(e.onDidFocus(()=>this.setLastFocusedList(e)),je(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(o=>o!==i),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const bw=new we("listScrollAtBoundary","none");ee.or(bw.isEqualTo("top"),bw.isEqualTo("both"));ee.or(bw.isEqualTo("bottom"),bw.isEqualTo("both"));const aie=new we("listFocus",!0),lie=new we("treestickyScrollFocused",!1),BI=new we("listSupportsMultiselect",!0),cie=ee.and(aie,ee.not(sie),lie.negate()),N7=new we("listHasSelectionOrFocus",!1),R7=new we("listDoubleSelection",!1),M7=new we("listMultiSelection",!1),WI=new we("listSelectionNavigation",!1),aIe=new we("listSupportsFind",!0),A7=new we("treeElementCanCollapse",!1),lIe=new we("treeElementHasParent",!1),P7=new we("treeElementCanExpand",!1),cIe=new we("treeElementHasChild",!1),dIe=new we("treeFindOpen",!1),die="listTypeNavigationMode",uie="listAutomaticKeyboardNavigation";function VI(n,e){const t=n.createScoped(e.getHTMLElement());return aie.bindTo(t),t}function HI(n,e){const t=bw.bindTo(n),i=()=>{const o=e.scrollTop===0,r=e.scrollHeight-e.renderHeight-e.scrollTop<1;o&&r?t.set("both"):o?t.set("top"):r?t.set("bottom"):t.set("none")};return i(),e.onDidScroll(i)}const Jm="workbench.list.multiSelectModifier",$L="workbench.list.openMode",Aa="workbench.list.horizontalScrolling",O7="workbench.list.defaultFindMode",F7="workbench.list.typeNavigationMode",J2="workbench.list.keyboardNavigation",xc="workbench.list.scrollByPage",B7="workbench.list.defaultFindMatchType",_w="workbench.tree.indent",eE="workbench.tree.renderIndentGuides",kc="workbench.list.smoothScrolling",Wd="workbench.list.mouseWheelScrollSensitivity",Vd="workbench.list.fastScrollSensitivity",tE="workbench.tree.expandMode",iE="workbench.tree.enableStickyScroll",nE="workbench.tree.stickyScrollMaxItemCount";function Hd(n){return n.getValue(Jm)==="alt"}class uIe extends z{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=Hd(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(Jm)&&(this.useAltAsMultipleSelectionModifier=Hd(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:Ote(e)}isSelectionRangeChangeEvent(e){return Fte(e)}}function zI(n,e){var t;const i=n.get(yt),o=n.get(di),r=new oe;return[{...e,keyboardNavigationDelegate:{mightProducePrintableCharacter(a){return o.mightProducePrintableCharacter(a)}},smoothScrolling:!!i.getValue(kc),mouseWheelScrollSensitivity:i.getValue(Wd),fastScrollSensitivity:i.getValue(Vd),multipleSelectionController:(t=e.multipleSelectionController)!==null&&t!==void 0?t:r.add(new uIe(i)),keyboardNavigationEventFilter:fIe(o),scrollByPage:!!i.getValue(xc)},r]}let E3=class extends pa{constructor(e,t,i,o,r,s,a,l,c){const d=typeof r.horizontalScrolling<"u"?r.horizontalScrolling:!!l.getValue(Aa),[u,h]=c.invokeFunction(zI,r);super(e,t,i,o,{keyboardSupport:!1,...u,horizontalScrolling:d}),this.disposables.add(h),this.contextKeyService=VI(s,this),this.disposables.add(HI(this.contextKeyService,this)),this.listSupportsMultiSelect=BI.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(r.multipleSelectionSupport!==!1),WI.bindTo(this.contextKeyService).set(!!r.selectionNavigation),this.listHasSelectionOrFocus=N7.bindTo(this.contextKeyService),this.listDoubleSelection=R7.bindTo(this.contextKeyService),this.listMultiSelection=M7.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Hd(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const f=this.getSelection(),p=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(f.length>0||p.length>0),this.listMultiSelection.set(f.length>1),this.listDoubleSelection.set(f.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const f=this.getSelection(),p=this.getFocus();this.listHasSelectionOrFocus.set(f.length>0||p.length>0)})),this.disposables.add(l.onDidChangeConfiguration(f=>{f.affectsConfiguration(Jm)&&(this._useAltAsMultipleSelectionModifier=Hd(l));let p={};if(f.affectsConfiguration(Aa)&&this.horizontalScrolling===void 0){const b=!!l.getValue(Aa);p={...p,horizontalScrolling:b}}if(f.affectsConfiguration(xc)){const b=!!l.getValue(xc);p={...p,scrollByPage:b}}if(f.affectsConfiguration(kc)){const b=!!l.getValue(kc);p={...p,smoothScrolling:b}}if(f.affectsConfiguration(Wd)){const b=l.getValue(Wd);p={...p,mouseWheelScrollSensitivity:b}}if(f.affectsConfiguration(Vd)){const b=l.getValue(Vd);p={...p,fastScrollSensitivity:b}}Object.keys(p).length>0&&this.updateOptions(p)})),this.navigator=new hie(this,{configurationService:l,...r}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?x0(e):Wf)}};E3=xh([Ri(5,Xe),Ri(6,Ga),Ri(7,yt),Ri(8,Ge)],E3);let Aj=class extends cTe{constructor(e,t,i,o,r,s,a,l,c){const d=typeof r.horizontalScrolling<"u"?r.horizontalScrolling:!!l.getValue(Aa),[u,h]=c.invokeFunction(zI,r);super(e,t,i,o,{keyboardSupport:!1,...u,horizontalScrolling:d}),this.disposables=new oe,this.disposables.add(h),this.contextKeyService=VI(s,this),this.disposables.add(HI(this.contextKeyService,this.widget)),this.horizontalScrolling=r.horizontalScrolling,this.listSupportsMultiSelect=BI.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(r.multipleSelectionSupport!==!1),WI.bindTo(this.contextKeyService).set(!!r.selectionNavigation),this._useAltAsMultipleSelectionModifier=Hd(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(r.overrideStyles),this.disposables.add(l.onDidChangeConfiguration(f=>{f.affectsConfiguration(Jm)&&(this._useAltAsMultipleSelectionModifier=Hd(l));let p={};if(f.affectsConfiguration(Aa)&&this.horizontalScrolling===void 0){const b=!!l.getValue(Aa);p={...p,horizontalScrolling:b}}if(f.affectsConfiguration(xc)){const b=!!l.getValue(xc);p={...p,scrollByPage:b}}if(f.affectsConfiguration(kc)){const b=!!l.getValue(kc);p={...p,smoothScrolling:b}}if(f.affectsConfiguration(Wd)){const b=l.getValue(Wd);p={...p,mouseWheelScrollSensitivity:b}}if(f.affectsConfiguration(Vd)){const b=l.getValue(Vd);p={...p,fastScrollSensitivity:b}}Object.keys(p).length>0&&this.updateOptions(p)})),this.navigator=new hie(this,{configurationService:l,...r}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?x0(e):Wf)}dispose(){this.disposables.dispose(),super.dispose()}};Aj=xh([Ri(5,Xe),Ri(6,Ga),Ri(7,yt),Ri(8,Ge)],Aj);let Pj=class extends OI{constructor(e,t,i,o,r,s,a,l,c,d){const u=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!c.getValue(Aa),[h,g]=d.invokeFunction(zI,s);super(e,t,i,o,r,{keyboardSupport:!1,...h,horizontalScrolling:u}),this.disposables.add(g),this.contextKeyService=VI(a,this),this.disposables.add(HI(this.contextKeyService,this)),this.listSupportsMultiSelect=BI.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),WI.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this.listHasSelectionOrFocus=N7.bindTo(this.contextKeyService),this.listDoubleSelection=R7.bindTo(this.contextKeyService),this.listMultiSelection=M7.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Hd(c),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const p=this.getSelection(),b=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(p.length>0||b.length>0),this.listMultiSelection.set(p.length>1),this.listDoubleSelection.set(p.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const p=this.getSelection(),b=this.getFocus();this.listHasSelectionOrFocus.set(p.length>0||b.length>0)})),this.disposables.add(c.onDidChangeConfiguration(p=>{p.affectsConfiguration(Jm)&&(this._useAltAsMultipleSelectionModifier=Hd(c));let b={};if(p.affectsConfiguration(Aa)&&this.horizontalScrolling===void 0){const v=!!c.getValue(Aa);b={...b,horizontalScrolling:v}}if(p.affectsConfiguration(xc)){const v=!!c.getValue(xc);b={...b,scrollByPage:v}}if(p.affectsConfiguration(kc)){const v=!!c.getValue(kc);b={...b,smoothScrolling:v}}if(p.affectsConfiguration(Wd)){const v=c.getValue(Wd);b={...b,mouseWheelScrollSensitivity:v}}if(p.affectsConfiguration(Vd)){const v=c.getValue(Vd);b={...b,fastScrollSensitivity:v}}Object.keys(b).length>0&&this.updateOptions(b)})),this.navigator=new hIe(this,{configurationService:c,...s}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?x0(e):Wf)}dispose(){this.disposables.dispose(),super.dispose()}};Pj=xh([Ri(6,Xe),Ri(7,Ga),Ri(8,yt),Ri(9,Ge)],Pj);class W7 extends z{constructor(e,t){var i;super(),this.widget=e,this._onDidOpen=this._register(new B),this.onDidOpen=this._onDidOpen.event,this._register(me.filter(this.widget.onDidChangeSelection,o=>o6(o.browserEvent))(o=>this.onSelectionFromKeyboard(o))),this._register(this.widget.onPointer(o=>this.onPointer(o.element,o.browserEvent))),this._register(this.widget.onMouseDblClick(o=>this.onMouseDblClick(o.element,o.browserEvent))),typeof(t==null?void 0:t.openOnSingleClick)!="boolean"&&(t!=null&&t.configurationService)?(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue($L))!=="doubleClick",this._register(t==null?void 0:t.configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration($L)&&(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue($L))!=="doubleClick")}))):this.openOnSingleClick=(i=t==null?void 0:t.openOnSingleClick)!==null&&i!==void 0?i:!0}onSelectionFromKeyboard(e){if(e.elements.length!==1)return;const t=e.browserEvent,i=typeof t.preserveFocus=="boolean"?t.preserveFocus:!0,o=typeof t.pinned=="boolean"?t.pinned:!i;this._open(this.getSelectedElement(),i,o,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick||t.detail===2)return;const o=t.button===1,r=!0,s=o,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,r,s,a,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const r=!1,s=!0,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,r,s,a,t)}_open(e,t,i,o,r){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:o,element:e,browserEvent:r})}}class hie extends W7{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class hIe extends W7{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class gIe extends W7{constructor(e,t){super(e,t)}getSelectedElement(){var e;return(e=this.widget.getSelection()[0])!==null&&e!==void 0?e:void 0}}function fIe(n){let e=!1;return t=>{if(t.toKeyCodeChord().isModifierKey())return!1;if(e)return e=!1,!1;const i=n.softDispatch(t,t.target);return i.kind===1?(e=!0,!1):(e=!1,i.kind===0)}}let Oj=class extends E7{constructor(e,t,i,o,r,s,a,l,c){const{options:d,getTypeNavigationMode:u,disposable:h}=s.invokeFunction(zS,r);super(e,t,i,o,d),this.disposables.add(h),this.internals=new wm(this,r,u,r.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Oj=xh([Ri(5,Ge),Ri(6,Xe),Ri(7,Ga),Ri(8,yt)],Oj);let Fj=class extends iie{constructor(e,t,i,o,r,s,a,l,c){const{options:d,getTypeNavigationMode:u,disposable:h}=s.invokeFunction(zS,r);super(e,t,i,o,d),this.disposables.add(h),this.internals=new wm(this,r,u,r.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Fj=xh([Ri(5,Ge),Ri(6,Xe),Ri(7,Ga),Ri(8,yt)],Fj);let Bj=class extends oIe{constructor(e,t,i,o,r,s,a,l,c,d){const{options:u,getTypeNavigationMode:h,disposable:g}=a.invokeFunction(zS,s);super(e,t,i,o,r,u),this.disposables.add(g),this.internals=new wm(this,s,h,s.overrideStyles,l,c,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles!==void 0&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Bj=xh([Ri(6,Ge),Ri(7,Xe),Ri(8,Ga),Ri(9,yt)],Bj);let T3=class extends oie{get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,o,r,s,a,l,c,d){const{options:u,getTypeNavigationMode:h,disposable:g}=a.invokeFunction(zS,s);super(e,t,i,o,r,u),this.disposables.add(g),this.internals=new wm(this,s,h,s.overrideStyles,l,c,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};T3=xh([Ri(6,Ge),Ri(7,Xe),Ri(8,Ga),Ri(9,yt)],T3);let Wj=class extends iIe{constructor(e,t,i,o,r,s,a,l,c,d,u){const{options:h,getTypeNavigationMode:g,disposable:f}=l.invokeFunction(zS,a);super(e,t,i,o,r,s,h),this.disposables.add(f),this.internals=new wm(this,a,g,a.overrideStyles,c,d,u),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Wj=xh([Ri(7,Ge),Ri(8,Xe),Ri(9,Ga),Ri(10,yt)],Wj);function gie(n){const e=n.getValue(O7);if(e==="highlight")return zu.Highlight;if(e==="filter")return zu.Filter;const t=n.getValue(J2);if(t==="simple"||t==="highlight")return zu.Highlight;if(t==="filter")return zu.Filter}function fie(n){const e=n.getValue(B7);if(e==="fuzzy")return ym.Fuzzy;if(e==="contiguous")return ym.Contiguous}function zS(n,e){var t;const i=n.get(yt),o=n.get(Yd),r=n.get(Xe),s=n.get(Ge),a=()=>{const g=r.getContextKeyValue(die);if(g==="automatic")return dd.Automatic;if(g==="trigger"||r.getContextKeyValue(uie)===!1)return dd.Trigger;const p=i.getValue(F7);if(p==="automatic")return dd.Automatic;if(p==="trigger")return dd.Trigger},l=e.horizontalScrolling!==void 0?e.horizontalScrolling:!!i.getValue(Aa),[c,d]=s.invokeFunction(zI,e),u=e.paddingBottom,h=e.renderIndentGuides!==void 0?e.renderIndentGuides:i.getValue(eE);return{getTypeNavigationMode:a,disposable:d,options:{keyboardSupport:!1,...c,indent:typeof i.getValue(_w)=="number"?i.getValue(_w):void 0,renderIndentGuides:h,smoothScrolling:!!i.getValue(kc),defaultFindMode:gie(i),defaultFindMatchType:fie(i),horizontalScrolling:l,scrollByPage:!!i.getValue(xc),paddingBottom:u,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(t=e.expandOnlyOnTwistieClick)!==null&&t!==void 0?t:i.getValue(tE)==="doubleClick",contextViewProvider:o,findWidgetStyles:$Ee,enableStickyScroll:!!i.getValue(iE),stickyScrollMaxItemCount:Number(i.getValue(nE))}}}let wm=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,o,r,s,a){var l;this.tree=e,this.disposables=[],this.contextKeyService=VI(r,e),this.disposables.push(HI(this.contextKeyService,e)),this.listSupportsMultiSelect=BI.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),WI.bindTo(this.contextKeyService).set(!!t.selectionNavigation),this.listSupportFindWidget=aIe.bindTo(this.contextKeyService),this.listSupportFindWidget.set((l=t.findWidgetEnabled)!==null&&l!==void 0?l:!0),this.hasSelectionOrFocus=N7.bindTo(this.contextKeyService),this.hasDoubleSelection=R7.bindTo(this.contextKeyService),this.hasMultiSelection=M7.bindTo(this.contextKeyService),this.treeElementCanCollapse=A7.bindTo(this.contextKeyService),this.treeElementHasParent=lIe.bindTo(this.contextKeyService),this.treeElementCanExpand=P7.bindTo(this.contextKeyService),this.treeElementHasChild=cIe.bindTo(this.contextKeyService),this.treeFindOpen=dIe.bindTo(this.contextKeyService),this.treeStickyScrollFocused=lie.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=Hd(a),this.updateStyleOverrides(o);const d=()=>{const h=e.getFocus()[0];if(!h)return;const g=e.getNode(h);this.treeElementCanCollapse.set(g.collapsible&&!g.collapsed),this.treeElementHasParent.set(!!e.getParentElement(h)),this.treeElementCanExpand.set(g.collapsible&&g.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(h))},u=new Set;u.add(die),u.add(uie),this.disposables.push(this.contextKeyService,s.register(e),e.onDidChangeSelection(()=>{const h=e.getSelection(),g=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(h.length>0||g.length>0),this.hasMultiSelection.set(h.length>1),this.hasDoubleSelection.set(h.length===2)})}),e.onDidChangeFocus(()=>{const h=e.getSelection(),g=e.getFocus();this.hasSelectionOrFocus.set(h.length>0||g.length>0),d()}),e.onDidChangeCollapseState(d),e.onDidChangeModel(d),e.onDidChangeFindOpenState(h=>this.treeFindOpen.set(h)),e.onDidChangeStickyScrollFocused(h=>this.treeStickyScrollFocused.set(h)),a.onDidChangeConfiguration(h=>{let g={};if(h.affectsConfiguration(Jm)&&(this._useAltAsMultipleSelectionModifier=Hd(a)),h.affectsConfiguration(_w)){const f=a.getValue(_w);g={...g,indent:f}}if(h.affectsConfiguration(eE)&&t.renderIndentGuides===void 0){const f=a.getValue(eE);g={...g,renderIndentGuides:f}}if(h.affectsConfiguration(kc)){const f=!!a.getValue(kc);g={...g,smoothScrolling:f}}if(h.affectsConfiguration(O7)||h.affectsConfiguration(J2)){const f=gie(a);g={...g,defaultFindMode:f}}if(h.affectsConfiguration(F7)||h.affectsConfiguration(J2)){const f=i();g={...g,typeNavigationMode:f}}if(h.affectsConfiguration(B7)){const f=fie(a);g={...g,defaultFindMatchType:f}}if(h.affectsConfiguration(Aa)&&t.horizontalScrolling===void 0){const f=!!a.getValue(Aa);g={...g,horizontalScrolling:f}}if(h.affectsConfiguration(xc)){const f=!!a.getValue(xc);g={...g,scrollByPage:f}}if(h.affectsConfiguration(tE)&&t.expandOnlyOnTwistieClick===void 0&&(g={...g,expandOnlyOnTwistieClick:a.getValue(tE)==="doubleClick"}),h.affectsConfiguration(iE)){const f=a.getValue(iE);g={...g,enableStickyScroll:f}}if(h.affectsConfiguration(nE)){const f=Math.max(1,a.getValue(nE));g={...g,stickyScrollMaxItemCount:f}}if(h.affectsConfiguration(Wd)){const f=a.getValue(Wd);g={...g,mouseWheelScrollSensitivity:f}}if(h.affectsConfiguration(Vd)){const f=a.getValue(Vd);g={...g,fastScrollSensitivity:f}}Object.keys(g).length>0&&e.updateOptions(g)}),this.contextKeyService.onDidChangeContext(h=>{h.affectsSome(u)&&e.updateOptions({typeNavigationMode:i()})})),this.navigator=new gIe(e,{configurationService:a,...t}),this.disposables.push(this.navigator)}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){this.tree.style(e?x0(e):Wf)}dispose(){this.disposables=si(this.disposables)}};wm=xh([Ri(4,Xe),Ri(5,Ga),Ri(6,yt)],wm);const pIe=nn.as(Rc.Configuration);pIe.registerConfiguration({id:"workbench",order:7,title:m("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Jm]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[m("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),m("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:m({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[$L]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:m({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Aa]:{type:"boolean",default:!1,description:m("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[xc]:{type:"boolean",default:!1,description:m("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[_w]:{type:"number",default:8,minimum:4,maximum:40,description:m("tree indent setting","Controls tree indentation in pixels.")},[eE]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:m("render tree indent guides","Controls whether the tree should render indent guides.")},[kc]:{type:"boolean",default:!1,description:m("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Wd]:{type:"number",default:1,markdownDescription:m("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Vd]:{type:"number",default:5,markdownDescription:m("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[O7]:{type:"string",enum:["highlight","filter"],enumDescriptions:[m("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),m("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:m("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[J2]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[m("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),m("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),m("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:m("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:m("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[B7]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[m("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),m("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:m("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[tE]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:m("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[iE]:{type:"boolean",default:!0,description:m("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[nE]:{type:"number",minimum:1,default:7,markdownDescription:m("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when `#workbench.tree.enableStickyScroll#` is enabled.")},[F7]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:m("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}});var I3;(function(n){n[n.PRESERVE=0]="PRESERVE",n[n.LAST=1]="LAST"})(I3||(I3={}));const ev={Quickaccess:"workbench.contributions.quickaccess"};class mIe{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,i)=>i.prefix.length-t.prefix.length),je(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return vc([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(i=>e.startsWith(i.prefix))||void 0||this.defaultProvider}}nn.add(ev.Quickaccess,new mIe);const vIe={ctrlCmd:!1,alt:!1};var Cw;(function(n){n[n.Blur=1]="Blur",n[n.Gesture=2]="Gesture",n[n.Other=3]="Other"})(Cw||(Cw={}));var Ul;(function(n){n[n.NONE=0]="NONE",n[n.FIRST=1]="FIRST",n[n.SECOND=2]="SECOND",n[n.LAST=3]="LAST"})(Ul||(Ul={}));const Ac=Et("quickInputService");var bIe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Vj=function(n,e){return function(t,i){e(t,i,n)}};let N3=class extends z{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=nn.as(ev.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var o;const[r,s]=this.getOrInstantiateProvider(e),a=this.visibleQuickAccess,l=a==null?void 0:a.descriptor;if(a&&s&&l===s){e!==s.prefix&&!(i!=null&&i.preserveValue)&&(a.picker.value=e),this.adjustValueSelection(a.picker,s,i);return}if(s&&!(i!=null&&i.preserveValue)){let g;if(a&&l&&l!==s){const f=a.value.substr(l.prefix.length);f&&(g=`${s.prefix}${f}`)}if(!g){const f=r==null?void 0:r.defaultFilterValue;f===I3.LAST?g=this.lastAcceptedPickerValues.get(s):typeof f=="string"&&(g=`${s.prefix}${f}`)}typeof g=="string"&&(e=g)}const c=new oe,d=c.add(this.quickInputService.createQuickPick());d.value=e,this.adjustValueSelection(d,s,i),d.placeholder=s==null?void 0:s.placeholder,d.quickNavigate=i==null?void 0:i.quickNavigateConfiguration,d.hideInput=!!d.quickNavigate&&!a,(typeof(i==null?void 0:i.itemActivation)=="number"||i!=null&&i.quickNavigateConfiguration)&&(d.itemActivation=(o=i==null?void 0:i.itemActivation)!==null&&o!==void 0?o:Ul.SECOND),d.contextKey=s==null?void 0:s.contextKey,d.filterValue=g=>g.substring(s?s.prefix.length:0);let u;t&&(u=new BT,c.add(me.once(d.onWillAccept)(g=>{g.veto(),d.hide()}))),c.add(this.registerPickerListeners(d,r,s,e,i==null?void 0:i.providerOptions));const h=c.add(new gn);if(r&&c.add(r.provide(d,h.token,i==null?void 0:i.providerOptions)),me.once(d.onDidHide)(()=>{d.selectedItems.length===0&&h.cancel(),c.dispose(),u==null||u.complete(d.selectedItems.slice(0))}),d.show(),t)return u==null?void 0:u.p}adjustValueSelection(e,t,i){var o;let r;i!=null&&i.preserveValue?r=[e.value.length,e.value.length]:r=[(o=t==null?void 0:t.prefix.length)!==null&&o!==void 0?o:0,e.value.length],e.valueSelection=r}registerPickerListeners(e,t,i,o,r){const s=new oe,a=this.visibleQuickAccess={picker:e,descriptor:i,value:o};return s.add(je(()=>{a===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),s.add(e.onDidChangeValue(l=>{const[c]=this.getOrInstantiateProvider(l);c!==t?this.show(l,{preserveValue:!0,providerOptions:r}):a.value=l})),i&&s.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),s}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};N3=bIe([Vj(0,Ac),Vj(1,Ge)],N3);class Hg{constructor(e,t){var i;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(i=t==null?void 0:t.supportIcons)!==null&&i!==void 0?i:!1,this.domNode=ie(e,ue("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],i="",o){e||(e=""),o&&(e=Hg.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===i&&na(this.highlights,t))&&(this.text=e,this.title=i,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const i of this.highlights){if(i.end===i.start)continue;if(t<i.start){const s=this.text.substring(t,i.start);this.supportIcons?e.push(...Bg(s)):e.push(s),t=i.start}const o=this.text.substring(t,i.end),r=ue("span.highlight",void 0,...this.supportIcons?Bg(o):[o]);i.extraClasses&&r.classList.add(...i.extraClasses),e.push(r),t=i.end}if(t<this.text.length){const i=this.text.substring(t);this.supportIcons?e.push(...Bg(i)):e.push(i)}Ho(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,o=0;return e.replace(/\r\n|\r|\n/g,(r,s)=>{o=r===`\r
`?-1:0,s+=i;for(const a of t)a.end<=s||(a.start>=s&&(a.start+=o),a.end>=s&&(a.end+=o));return i+=o,""})}}class b1{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class oE extends z{constructor(e,t){var i;super(),this.customHovers=new Map,this.creationOptions=t,this.domNode=this._register(new b1(ie(e,ue(".monaco-icon-label")))),this.labelContainer=ie(this.domNode.element,ue(".monaco-icon-label-container")),this.nameContainer=ie(this.labelContainer,ue("span.monaco-icon-name-container")),t!=null&&t.supportHighlights||t!=null&&t.supportIcons?this.nameNode=new yIe(this.nameContainer,!!t.supportIcons):this.nameNode=new _Ie(this.nameContainer),this.hoverDelegate=(i=t==null?void 0:t.hoverDelegate)!==null&&i!==void 0?i:wh("mouse")}get element(){return this.domNode.element}setLabel(e,t,i){var o;const r=["monaco-icon-label"],s=["monaco-icon-label-container"];let a="";if(i&&(i.extraClasses&&r.push(...i.extraClasses),i.italic&&r.push("italic"),i.strikethrough&&r.push("strikethrough"),i.disabledCommand&&s.push("disabled"),i.title&&(typeof i.title=="string"?a+=i.title:a+=e)),this.domNode.className=r.join(" "),this.domNode.element.setAttribute("aria-label",a),this.labelContainer.className=s.join(" "),this.setupHover(i!=null&&i.descriptionTitle?this.labelContainer:this.element,i==null?void 0:i.title),this.nameNode.setLabel(e,i),t||this.descriptionNode){const l=this.getOrCreateDescriptionNode();l instanceof Hg?(l.set(t||"",i?i.descriptionMatches:void 0,void 0,i==null?void 0:i.labelEscapeNewLines),this.setupHover(l.element,i==null?void 0:i.descriptionTitle)):(l.textContent=t&&(i!=null&&i.labelEscapeNewLines)?Hg.escapeNewLines(t,[]):t||"",this.setupHover(l.element,(i==null?void 0:i.descriptionTitle)||""),l.empty=!t)}if(i!=null&&i.suffix||this.suffixNode){const l=this.getOrCreateSuffixNode();l.textContent=(o=i==null?void 0:i.suffix)!==null&&o!==void 0?o:""}}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(this.hoverDelegate.showNativeHover)oEe(e,t);else{const o=Qm(this.hoverDelegate,e,t);o&&this.customHovers.set(e,o)}}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const e=this._register(new b1(mbe(this.nameContainer,ue("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new b1(ie(e.element,ue("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var e;if(!this.descriptionNode){const t=this._register(new b1(ie(this.labelContainer,ue("span.monaco-icon-description-container"))));!((e=this.creationOptions)===null||e===void 0)&&e.supportDescriptionHighlights?this.descriptionNode=new Hg(ie(t.element,ue("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new b1(ie(t.element,ue("span.label-description"))))}return this.descriptionNode}}class _Ie{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&na(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=ie(this.container,ue("a.label-name",{id:t==null?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const o=e[i],r=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${i}`;ie(this.container,ue("a.label-name",{id:r,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},o)),i<e.length-1&&ie(this.container,ue("span.label-separator",void 0,(t==null?void 0:t.separator)||"/"))}}}}function CIe(n,e,t){if(!t)return;let i=0;return n.map(o=>{const r={start:i,end:i+o.length},s=t.map(a=>$o.intersect(r,a)).filter(a=>!$o.isEmpty(a)).map(({start:a,end:l})=>({start:a-i,end:l-i}));return i=r.end+e.length,s})}class yIe{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&na(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new Hg(ie(this.container,ue("a.label-name",{id:t==null?void 0:t.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(e,t==null?void 0:t.matches,void 0,t==null?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(t==null?void 0:t.separator)||"/",o=CIe(e,i,t==null?void 0:t.matches);for(let r=0;r<e.length;r++){const s=e[r],a=o?o[r]:void 0,l=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${r}`,c=ue("a.label-name",{id:l,"data-icon-label-count":e.length,"data-icon-label-index":r,role:"treeitem"});new Hg(ie(this.container,c),{supportIcons:this.supportIcons}).set(s,a,void 0,t==null?void 0:t.labelEscapeNewLines),r<e.length-1&&ie(c,ue("span.label-separator",void 0,i))}}}}const _k=ue,pie={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class D0{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null);const o=this.options.keybindingLabelForeground;this.domNode=ie(e,_k(".monaco-keybinding")),o&&(this.domNode.style.color=o),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&D0.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){var e;if(this.clear(),this.keybinding){const t=this.keybinding.getChords();t[0]&&this.renderChord(this.domNode,t[0],this.matches?this.matches.firstPart:null);for(let o=1;o<t.length;o++)ie(this.domNode,_k("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,t[o],this.matches?this.matches.chordPart:null);const i=(e=this.options.disableTitle)!==null&&e!==void 0&&e?void 0:this.keybinding.getAriaLabel()||void 0;i!==void 0?this.domNode.title=i:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){Xo(this.domNode),this.keyElements.clear()}renderChord(e,t,i){const o=b7.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,o.ctrlKey,!!(i!=null&&i.ctrlKey),o.separator),t.shiftKey&&this.renderKey(e,o.shiftKey,!!(i!=null&&i.shiftKey),o.separator),t.altKey&&this.renderKey(e,o.altKey,!!(i!=null&&i.altKey),o.separator),t.metaKey&&this.renderKey(e,o.metaKey,!!(i!=null&&i.metaKey),o.separator);const r=t.keyLabel;r&&this.renderKey(e,r,!!(i!=null&&i.keyCode),"")}renderKey(e,t,i,o){ie(e,this.createKeyElement(t,i?".highlight":"")),o&&ie(e,_k("span.monaco-keybinding-key-separator",void 0,o))}renderUnbound(e){ie(e,this.createKeyElement(m("unbound","Unbound")))}createKeyElement(e,t=""){const i=_k("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),this.options.keybindingLabelBackground&&(i.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(i.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(i.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(i.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),i}static areSame(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&na(e.firstPart,t.firstPart)&&na(e.chordPart,t.chordPart)}}const Hj=new Kd(()=>{const n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:n,collatorIsNumeric:n.resolvedOptions().numeric}});function wIe(n,e,t=!1){const i=n||"",o=e||"",r=Hj.value.collator.compare(i,o);return Hj.value.collatorIsNumeric&&r===0&&i!==o?i<o?-1:1:r}function SIe(n,e,t){const i=n.toLowerCase(),o=e.toLowerCase(),r=xIe(n,e,t);if(r)return r;const s=i.endsWith(t),a=o.endsWith(t);if(s!==a)return s?-1:1;const l=wIe(i,o);return l!==0?l:i.localeCompare(o)}function xIe(n,e,t){const i=n.toLowerCase(),o=e.toLowerCase(),r=i.startsWith(t),s=o.startsWith(t);if(r!==s)return r?-1:1;if(r&&s){if(i.length<o.length)return-1;if(i.length>o.length)return 1}return 0}var kIe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class mie{constructor(e){this.nodes=e}toString(){return this.nodes.map(e=>typeof e=="string"?e:e.label).join("")}}kIe([Sn],mie.prototype,"toString",null);const LIe=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function DIe(n){const e=[];let t=0,i;for(;i=LIe.exec(n);){i.index-t>0&&e.push(n.substring(t,i.index));const[,o,r,,s]=i;s?e.push({label:o,href:r,title:s}):e.push({label:o,href:r}),t=i.index+i[0].length}return t<n.length&&e.push(n.substring(t)),new mie(e)}const sA={},EIe=new f7("quick-input-button-icon-");function TIe(n){if(!n)return;let e;const t=n.dark.toString();return sA[t]?e=sA[t]:(e=EIe.nextId(),t2(`.${e}, .hc-light .${e}`,`background-image: ${of(n.light||n.dark)}`),t2(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${of(n.dark)}`),sA[t]=e),e}function R3(n,e,t){let i=n.iconClass||TIe(n.iconPath);return n.alwaysVisible&&(i=i?`${i} always-visible`:"always-visible"),{id:e,label:"",tooltip:n.tooltip||"",class:i,enabled:!0,run:t}}function IIe(n,e,t){Ho(e);const i=DIe(n);let o=0;for(const r of i.nodes)if(typeof r=="string")e.append(...Bg(r));else{let s=r.title;!s&&r.href.startsWith("command:")?s=m("executeCommand","Click to execute command '{0}'",r.href.substring(8)):s||(s=r.href);const a=ue("a",{href:r.href,title:s,tabIndex:o++},r.label);a.style.textDecoration="underline";const l=g=>{gbe(g)&&_t.stop(g,!0),t.callback(r.href)},c=t.disposables.add(new It(a,ge.CLICK)).event,d=t.disposables.add(new It(a,ge.KEY_DOWN)).event,u=me.chain(d,g=>g.filter(f=>{const p=new Ni(f);return p.equals(10)||p.equals(3)}));t.disposables.add(Si.addTarget(a));const h=t.disposables.add(new It(a,xi.Tap)).event;me.any(c,h,u)(l,null,t.disposables),e.appendChild(a)}}var vie=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};const Pl=ue;class NIe{constructor(e,t,i,o,r,s,a){var l,c,d;this._checked=!1,this._hidden=!1,this.hasCheckbox=o,this.index=i,this.fireButtonTriggered=r,this.fireSeparatorButtonTriggered=s,this._onChecked=a,this.onChecked=o?me.map(me.filter(this._onChecked.event,u=>u.listElement===this),u=>u.checked):me.None,e.type==="separator"?this._separator=e:(this.item=e,t&&t.type==="separator"&&!t.buttons&&(this._separator=t),this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(l=this.item.highlights)===null||l===void 0?void 0:l.label,this._descriptionHighlights=(c=this.item.highlights)===null||c===void 0?void 0:c.description,this._detailHighlights=(d=this.item.highlights)===null||d===void 0?void 0:d.detail,this.saneTooltip=this.item.tooltip),this._init=new Kd(()=>{var u;const h=(u=e.label)!==null&&u!==void 0?u:"",g=Q1(h).text.trim(),f=e.ariaLabel||[h,this.saneDescription,this.saneDetail].map(p=>VDe(p)).filter(p=>!!p).join(", ");return{saneLabel:h,saneSortLabel:g,saneAriaLabel:f}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(e){this._element=e}get hidden(){return this._hidden}set hidden(e){this._hidden=e}get checked(){return this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire({listElement:this,checked:e}))}get separator(){return this._separator}set separator(e){this._separator=e}get labelHighlights(){return this._labelHighlights}set labelHighlights(e){this._labelHighlights=e}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(e){this._descriptionHighlights=e}get detailHighlights(){return this._detailHighlights}set detailHighlights(e){this._detailHighlights=e}}class US{constructor(e,t){this.themeService=e,this.hoverDelegate=t}get templateId(){return US.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=ie(e,Pl(".quick-input-list-entry"));const i=ie(t.entry,Pl("label.quick-input-list-label"));t.toDisposeTemplate.push(fn(i,ge.CLICK,c=>{t.checkbox.offsetParent||c.preventDefault()})),t.checkbox=ie(i,Pl("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(fn(t.checkbox,ge.CHANGE,c=>{t.element.checked=t.checkbox.checked}));const o=ie(i,Pl(".quick-input-list-rows")),r=ie(o,Pl(".quick-input-list-row")),s=ie(o,Pl(".quick-input-list-row"));t.label=new oE(r,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.push(t.label),t.icon=r6(t.label.element,Pl(".quick-input-list-icon"));const a=ie(r,Pl(".quick-input-list-entry-keybinding"));t.keybinding=new D0(a,Cs);const l=ie(s,Pl(".quick-input-list-label-meta"));return t.detail=new oE(l,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.push(t.detail),t.separator=ie(t.entry,Pl(".quick-input-list-separator")),t.actionBar=new Wa(t.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){var o,r,s,a;i.element=e,e.element=(o=i.entry)!==null&&o!==void 0?o:void 0;const l=e.item?e.item:e.separator;i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked(p=>i.checkbox.checked=p));const{labelHighlights:c,descriptionHighlights:d,detailHighlights:u}=e;if(!((r=e.item)===null||r===void 0)&&r.iconPath){const p=P_(this.themeService.getColorTheme().type)?e.item.iconPath.dark:(s=e.item.iconPath.light)!==null&&s!==void 0?s:e.item.iconPath.dark,b=Ke.revive(p);i.icon.className="quick-input-list-icon",i.icon.style.backgroundImage=of(b)}else i.icon.style.backgroundImage="",i.icon.className=!((a=e.item)===null||a===void 0)&&a.iconClass?`quick-input-list-icon ${e.item.iconClass}`:"";let h;!e.saneTooltip&&e.saneDescription&&(h={markdown:{value:e.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:e.saneDescription});const g={matches:c||[],descriptionTitle:h,descriptionMatches:d||[],labelEscapeNewLines:!0};if(l.type!=="separator"?(g.extraClasses=l.iconClasses,g.italic=l.italic,g.strikethrough=l.strikethrough,i.entry.classList.remove("quick-input-list-separator-as-item")):i.entry.classList.add("quick-input-list-separator-as-item"),i.label.setLabel(e.saneLabel,e.saneDescription,g),i.keybinding.set(l.type==="separator"?void 0:l.keybinding),e.saneDetail){let p;e.saneTooltip||(p={markdown:{value:e.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:e.saneDetail}),i.detail.element.style.display="",i.detail.setLabel(e.saneDetail,void 0,{matches:u,title:p,labelEscapeNewLines:!0})}else i.detail.element.style.display="none";e.item&&e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator);const f=l.buttons;f&&f.length?(i.actionBar.push(f.map((p,b)=>R3(p,`id-${b}`,()=>l.type!=="separator"?e.fireButtonTriggered({button:p,item:l}):e.fireSeparatorButtonTriggered({button:p,separator:l}))),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){i.toDisposeElement=si(i.toDisposeElement),i.actionBar.clear()}disposeTemplate(e){e.toDisposeElement=si(e.toDisposeElement),e.toDisposeTemplate=si(e.toDisposeTemplate)}}US.ID="listelement";class RIe{getHeight(e){return e.item?e.saneDetail?44:22:24}getTemplateId(e){return US.ID}}var go;(function(n){n[n.First=1]="First",n[n.Second=2]="Second",n[n.Last=3]="Last",n[n.Next=4]="Next",n[n.Previous=5]="Previous",n[n.NextPage=6]="NextPage",n[n.PreviousPage=7]="PreviousPage"})(go||(go={}));class V7{constructor(e,t,i,o){this.parent=e,this.options=i,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new B,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new B,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new B,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new B,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new B,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new B,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new B,this.onKeyDown=this._onKeyDown.event,this._onLeave=new B,this.onLeave=this._onLeave.event,this._listElementChecked=new B,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=ie(this.parent,Pl(".quick-input-list"));const r=new RIe,s=new PIe;this.list=i.createList("QuickInput",this.container,r,[new US(o,i.hoverDelegate)],{identityProvider:{getId:l=>{var c,d,u,h,g,f,p,b;return(b=(f=(h=(d=(c=l.item)===null||c===void 0?void 0:c.id)!==null&&d!==void 0?d:(u=l.item)===null||u===void 0?void 0:u.label)!==null&&h!==void 0?h:(g=l.separator)===null||g===void 0?void 0:g.id)!==null&&f!==void 0?f:(p=l.separator)===null||p===void 0?void 0:p.label)!==null&&b!==void 0?b:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:s}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(l=>{const c=new Ni(l);switch(c.keyCode){case 10:this.toggleCheckbox();break;case 31:(Rt?l.metaKey:l.ctrlKey)&&this.list.setFocus(_r(this.list.length));break;case 16:{const d=this.list.getFocus();d.length===1&&d[0]===0&&this._onLeave.fire();break}case 18:{const d=this.list.getFocus();d.length===1&&d[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(c)})),this.disposables.push(this.list.onMouseDown(l=>{l.browserEvent.button!==2&&l.browserEvent.preventDefault()})),this.disposables.push(j(this.container,ge.CLICK,l=>{(l.x||l.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(l=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(l=>{typeof l.index=="number"&&(l.browserEvent.preventDefault(),this.list.setSelection([l.index]))}));const a=new BQ(i.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(async l=>{var c;if(l.browserEvent.target instanceof HTMLAnchorElement){a.cancel();return}if(!(!(l.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&To(l.browserEvent.relatedTarget,(c=l.element)===null||c===void 0?void 0:c.element)))try{await a.trigger(async()=>{l.element&&this.showHover(l.element)})}catch(d){if(!Ic(d))throw d}})),this.disposables.push(this.list.onMouseOut(l=>{var c;To(l.browserEvent.relatedTarget,(c=l.element)===null||c===void 0?void 0:c.element)||a.cancel()})),this.disposables.push(a),this.disposables.push(this._listElementChecked.event(l=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return me.map(this.list.onDidChangeFocus,e=>e.elements.map(t=>t.item))}get onDidChangeSelection(){return me.map(this.list.onDidChangeSelection,e=>({items:e.elements.map(t=>t.item),event:e.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(e){this.list.getHTMLElement().ariaLabel=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,o=e.length;i<o;i++){const r=e[i];if(!r.hidden)if(r.checked)t=!0;else return!1}return t}getCheckedCount(){let e=0;const t=this.elements;for(let i=0,o=t.length;i<o;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let i=0,o=t.length;i<o;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach(t=>{t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=si(this.elementDisposables);const t=s=>this.fireButtonTriggered(s),i=s=>this.fireSeparatorButtonTriggered(s);this.inputElements=e;const o=new Map,r=this.parent.classList.contains("show-checkboxes");this.elements=e.reduce((s,a,l)=>{var c;const d=l>0?e[l-1]:void 0;if(a.type==="separator"&&!a.buttons)return s;const u=new NIe(a,d,l,r,t,i,this._listElementChecked),h=s.length;return s.push(u),o.set((c=u.item)!==null&&c!==void 0?c:u.separator,h),s},[]),this.elementsToIndexes=o,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(e=>e.item)}setFocusedElements(e){if(this.list.setFocus(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t))),e.length>0){const t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t)))}getCheckedElements(){return this.elements.filter(e=>e.checked).map(e=>e.item).filter(e=>!!e)}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const i of this.elements)i.checked=t.has(i.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===go.Second&&this.list.length<2&&(e=go.First),e){case go.First:this.list.scrollTop=0,this.list.focusFirst(void 0,i=>!!i.item);break;case go.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,i=>!!i.item);break;case go.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,i=>!!i.item);break;case go.Next:{this.list.focusNext(void 0,!0,void 0,o=>!!o.item);const i=this.list.getFocus()[0];i!==0&&!this.elements[i-1].item&&this.list.firstVisibleIndex>i-1&&this.list.reveal(i-1);break}case go.Previous:{this.list.focusPrevious(void 0,!0,void 0,o=>!!o.item);const i=this.list.getFocus()[0];i!==0&&!this.elements[i-1].item&&this.list.firstVisibleIndex>i-1&&this.list.reveal(i-1);break}case go.NextPage:this.list.focusNextPage(void 0,i=>!!i.item);break;case go.PreviousPage:this.list.focusPreviousPage(void 0,i=>!!i.item);break}const t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(e){var t,i,o;this._lastHover&&!this._lastHover.isDisposed&&((i=(t=this.options.hoverDelegate).onDidHideHover)===null||i===void 0||i.call(t),(o=this._lastHover)===null||o===void 0||o.dispose()),!(!e.element||!e.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:e.saneTooltip,target:e.element,linkHandler:r=>{this.options.linkOpenerDelegate(r)},appearance:{showPointer:!0},container:this.container,position:{hoverPosition:1}},!1))}layout(e){this.list.getHTMLElement().style.maxHeight=e?`${Math.floor(e/44)*44+6}px`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const t=e;if(e=e.trim(),!e||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(o=>{o.labelHighlights=void 0,o.descriptionHighlights=void 0,o.detailHighlights=void 0,o.hidden=!1;const r=o.index&&this.inputElements[o.index-1];o.item&&(o.separator=r&&r.type==="separator"&&!r.buttons?r:void 0)});else{let o;this.elements.forEach(r=>{var s,a,l,c;let d;this.matchOnLabelMode==="fuzzy"?d=this.matchOnLabel&&(s=GM(e,Q1(r.saneLabel)))!==null&&s!==void 0?s:void 0:d=this.matchOnLabel&&(a=MIe(t,Q1(r.saneLabel)))!==null&&a!==void 0?a:void 0;const u=this.matchOnDescription&&(l=GM(e,Q1(r.saneDescription||"")))!==null&&l!==void 0?l:void 0,h=this.matchOnDetail&&(c=GM(e,Q1(r.saneDetail||"")))!==null&&c!==void 0?c:void 0;if(d||u||h?(r.labelHighlights=d,r.descriptionHighlights=u,r.detailHighlights=h,r.hidden=!1):(r.labelHighlights=void 0,r.descriptionHighlights=void 0,r.detailHighlights=void 0,r.hidden=r.item?!r.item.alwaysShow:!0),r.item?r.separator=void 0:r.separator&&(r.hidden=!0),!this.sortByLabel){const g=r.index&&this.inputElements[r.index-1];o=g&&g.type==="separator"?g:o,o&&!r.hidden&&(r.separator=o,o=void 0)}})}const i=this.elements.filter(o=>!o.hidden);if(this.sortByLabel&&e){const o=e.toLowerCase();i.sort((r,s)=>AIe(r,s,o))}return this.elementsToIndexes=i.reduce((o,r,s)=>{var a;return o.set((a=r.item)!==null&&a!==void 0?a:r.separator,s),o},new Map),this.list.splice(0,this.list.length,i),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(i.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=si(this.elementDisposables),this.disposables=si(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}fireSeparatorButtonTriggered(e){this._onSeparatorButtonTriggered.fire(e)}style(e){this.list.style(e)}toggleHover(){const e=this.list.getFocusedElements()[0];if(!(e!=null&&e.saneTooltip))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const t=this.list.getFocusedElements()[0];if(!t)return;this.showHover(t);const i=new oe;i.add(this.list.onDidChangeFocus(o=>{o.indexes.length&&this.showHover(o.elements[0])})),this._lastHover&&i.add(this._lastHover),this._toggleHover=i,this.elementDisposables.push(this._toggleHover)}}vie([Sn],V7.prototype,"onDidChangeFocus",null);vie([Sn],V7.prototype,"onDidChangeSelection",null);function MIe(n,e){const{text:t,iconOffsets:i}=e;if(!i||i.length===0)return zj(n,t);const o=vS(t," "),r=t.length-o.length,s=zj(n,o);if(s)for(const a of s){const l=i[a.start+r]+r;a.start+=l,a.end+=l}return s}function zj(n,e){const t=e.toLowerCase().indexOf(n.toLowerCase());return t!==-1?[{start:t,end:t+n.length}]:null}function AIe(n,e,t){const i=n.labelHighlights||[],o=e.labelHighlights||[];return i.length&&!o.length?-1:!i.length&&o.length?1:i.length===0&&o.length===0?0:SIe(n.saneSortLabel,e.saneSortLabel,t)}class PIe{getWidgetAriaLabel(){return m("quickInput","Quick Input")}getAriaLabel(e){var t;return!((t=e.separator)===null||t===void 0)&&t.label?`${e.saneAriaLabel}, ${e.separator.label}`:e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(e.hasCheckbox)return{value:e.checked,onDidChange:e.onChecked}}}var OIe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Uj=function(n,e){return function(t,i){e(t,i,n)}};const M3={iconClass:Ze.asClassName(pe.quickInputBack),tooltip:m("quickInput.back","Back"),handle:-1};class $S extends z{constructor(e){super(),this.ui=e,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=$S.noPromptMessage,this._severity=_n.Ignore,this.onDidTriggerButtonEmitter=this._register(new B),this.onDidHideEmitter=this._register(new B),this.onDisposeEmitter=this._register(new B),this.visibleDisposables=this._register(new oe),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!bc;this._ignoreFocusOut=e&&!bc,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(e){this._toggles=e??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{this.buttons.indexOf(e)!==-1&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=Cw.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){var e,t;if(!this.visible)return;const i=this.getTitle();i&&this.ui.title.textContent!==i?this.ui.title.textContent=i:!i&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="");const o=this.getDescription();if(this.ui.description1.textContent!==o&&(this.ui.description1.textContent=o),this.ui.description2.textContent!==o&&(this.ui.description2.textContent=o),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?Ho(this.ui.widget,this._widget):Ho(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new Ll,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const s=this.buttons.filter(l=>l===M3).map((l,c)=>R3(l,`id-${c}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.leftActionBar.push(s,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const a=this.buttons.filter(l=>l!==M3).map((l,c)=>R3(l,`id-${c}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.rightActionBar.push(a,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const s=(t=(e=this.toggles)===null||e===void 0?void 0:e.filter(a=>a instanceof L0))!==null&&t!==void 0?t:[];this.ui.inputBox.toggles=s}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const r=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==r&&(this._lastValidationMessage=r,Ho(this.ui.message),IIe(r,this.ui.message,{callback:s=>{this.ui.linkOpenerDelegate(s)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?m("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==_n.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}$S.noPromptMessage=m("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class yw extends $S{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new B),this.onWillAcceptEmitter=this._register(new B),this.onDidAcceptEmitter=this._register(new B),this.onDidCustomEmitter=this._register(new B),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=Ul.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new B),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new B),this.onDidTriggerItemButtonEmitter=this._register(new B),this.onDidTriggerSeparatorButtonEmitter=this._register(new B),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){this._value!==e&&(this._value=e,t||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?vIe:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(go.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{this.doSetValue(e,!0)})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(e=>{switch(e.keyCode){case 18:this.ui.list.focus(go.Next),this.canSelectMany&&this.ui.list.domFocus(),_t.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(go.Previous):this.ui.list.focus(go.Last),this.canSelectMany&&this.ui.list.domFocus(),_t.stop(e,!0);break;case 12:this.ui.list.focus(go.NextPage),this.canSelectMany&&this.ui.list.domFocus(),_t.stop(e,!0);break;case 11:this.ui.list.focus(go.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),_t.stop(e,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(go.First),_t.stop(e,!0));break;case 13:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(go.Last),_t.stop(e,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&en(e,this._activeItems,(t,i)=>t===i)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&en(e,this._selectedItems,(i,o)=>i===o)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(n6(t)&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&en(e,this._selectedItems,(t,i)=>t===i)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(e=>this.onDidTriggerSeparatorButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return j(this.ui.container,ge.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new Ni(e),i=t.keyCode;this._quickNavigate.keybindings.some(s=>{const a=s.getChords();return a.length>1?!1:a[0].shiftKey&&i===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a[0].altKey&&i===6||a[0].ctrlKey&&i===5||a[0].metaKey&&i===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this.description,i={title:!!this.title||!!this.step||!!this.buttons.length,description:t,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||t,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let o=this.ariaLabel;if(!o&&i.inputBox&&(o=this.placeholder||yw.DEFAULT_ARIA_LABEL,this.title&&(o+=` - ${this.title}`)),this.ui.list.ariaLabel!==o&&(this.ui.list.ariaLabel=o??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Ul.NONE:this._itemActivation=Ul.FIRST;break;case Ul.SECOND:this.ui.list.focus(go.Second),this._itemActivation=Ul.FIRST;break;case Ul.LAST:this.ui.list.focus(go.Last),this._itemActivation=Ul.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(go.First)),this.keepScrollPosition&&(this.scrollTop=e)}}yw.DEFAULT_ARIA_LABEL=m("quickInputBox.ariaLabel","Type to narrow down results.");class FIe extends $S{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new B),this.onDidAcceptEmitter=this._register(new B),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(e){this._value=e||"",this.update()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get password(){return this._password}set password(e){this._password=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{e!==this.value&&(this._value=e,this.onDidValueChangeEmitter.fire(e))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const e={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(e),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}let A3=class extends M2{constructor(e,t){super("element",!1,i=>this.getOverrideOptions(i),e,t)}getOverrideOptions(e){var t;const i=(e.content instanceof HTMLElement?(t=e.content.textContent)!==null&&t!==void 0?t:"":typeof e.content=="string"?e.content:e.content.value).includes(`
`);return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:i,skipFadeInAnimation:!0}}}};A3=OIe([Uj(0,yt),Uj(1,o7)],A3);U.white.toString(),U.white.toString();class rE extends z{get onDidClick(){return this._onDidClick.event}constructor(e,t){super(),this._label="",this._onDidClick=this._register(new B),this._onDidEscape=this._register(new B),this.options=t,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!t.secondary);const i=t.secondary?t.buttonSecondaryBackground:t.buttonBackground,o=t.secondary?t.buttonSecondaryForeground:t.buttonForeground;this._element.style.color=o||"",this._element.style.backgroundColor=i||"",t.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof t.ariaLabel=="string"&&this._element.setAttribute("aria-label",t.ariaLabel),e.appendChild(this._element),this._register(Si.addTarget(this._element)),[ge.CLICK,xi.Tap].forEach(r=>{this._register(j(this._element,r,s=>{if(!this.enabled){_t.stop(s);return}this._onDidClick.fire(s)}))}),this._register(j(this._element,ge.KEY_DOWN,r=>{const s=new Ni(r);let a=!1;this.enabled&&(s.equals(3)||s.equals(10))?(this._onDidClick.fire(r),a=!0):s.equals(9)&&(this._onDidEscape.fire(r),this._element.blur(),a=!0),a&&_t.stop(s,!0)})),this._register(j(this._element,ge.MOUSE_OVER,r=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register(j(this._element,ge.MOUSE_OUT,r=>{this.updateBackground(!1)})),this.focusTracker=this._register(Cc(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(e){const t=[];for(let i of Bg(e))if(typeof i=="string"){if(i=i.trim(),i==="")continue;const o=document.createElement("span");o.textContent=i,t.push(o)}else t.push(i);return t}updateBackground(e){let t;this.options.secondary?t=e?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:t=e?this.options.buttonHoverBackground:this.options.buttonBackground,t&&(this._element.style.backgroundColor=t)}get element(){return this._element}set label(e){var t;if(this._label===e||Ed(this._label)&&Ed(e)&&HDe(this._label,e))return;this._element.classList.add("monaco-text-button");const i=this.options.supportShortLabel?this._labelElement:this._element;if(Ed(e)){const r=DI(e,{inline:!0});r.dispose();const s=(t=r.element.querySelector("p"))===null||t===void 0?void 0:t.innerHTML;if(s){const a=jQ(s,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});i.innerHTML=a}else Ho(i)}else this.options.supportIcons?Ho(i,...this.getContentElements(e)):i.textContent=e;let o="";typeof this.options.title=="string"?o=this.options.title:this.options.title&&(o=ZDe(e)),this._hover?this._hover.update(o):this._hover=this._register(Qm(wh("mouse"),this._element,o)),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",this._element.title),this._label=e}get label(){return this._label}set icon(e){this._element.classList.add(...Ze.asClassNameArray(e))}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}class P3{constructor(e,t,i){this.options=t,this.styles=i,this.count=0,this.element=ie(e,ue(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){var e,t;this.element.textContent=um(this.countFormat,this.count),this.element.title=um(this.titleFormat,this.count),this.element.style.backgroundColor=(e=this.styles.badgeBackground)!==null&&e!==void 0?e:"",this.element.style.color=(t=this.styles.badgeForeground)!==null&&t!==void 0?t:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}const $j="done",jj="active",aA="infinite",lA="infinite-long-running",Kj="discrete";class UI extends z{constructor(e,t){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new mi(()=>bs(this.element),0)),this.longRunningScheduler=this._register(new mi(()=>this.infiniteLongRunning(),UI.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e,t)}create(e,t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(t==null?void 0:t.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(jj,aA,lA,Kj),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add($j),this.element.classList.contains(aA)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Kj,$j,lA),this.element.classList.add(jj,aA),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(lA)}getContainer(){return this.element}}UI.LONG_RUNNING_INFINITE_THRESHOLD=1e4;const BIe=ue;class WIe extends z{constructor(e,t,i){super(),this.parent=e,this.onKeyDown=r=>fn(this.findInput.inputBox.inputElement,ge.KEY_DOWN,r),this.onDidChange=r=>this.findInput.onDidChange(r),this.container=ie(this.parent,BIe(".quick-input-box")),this.findInput=this._register(new Xte(this.container,void 0,{label:"",inputBoxStyles:t,toggleStyles:i}));const o=this.findInput.inputBox.inputElement;o.role="combobox",o.ariaHasPopup="menu",o.ariaAutoComplete="list",o.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(e){this.findInput.setValue(e)}select(e=null){this.findInput.inputBox.select(e)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.findInput.inputBox.setPlaceHolder(e)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(e){this.findInput.inputBox.inputElement.type=e?"password":"text"}set enabled(e){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!e)}set toggles(e){this.findInput.setAdditionalToggles(e)}setAttribute(e,t){this.findInput.inputBox.inputElement.setAttribute(e,t)}showDecoration(e){e===_n.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:e===_n.Info?1:e===_n.Warning?2:3,content:""})}stylesForType(e){return this.findInput.inputBox.stylesForType(e===_n.Info?1:e===_n.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}const ps=ue;class $I extends z{get container(){return this._container}constructor(e,t,i){super(),this.options=e,this.themeService=t,this.layoutService=i,this.enabled=!0,this.onDidAcceptEmitter=this._register(new B),this.onDidCustomEmitter=this._register(new B),this.onDidTriggerButtonEmitter=this._register(new B),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new B),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new B),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this._container=e.container,this.styles=e.styles,this._register(me.runAndSubscribe(zT,({window:o,disposables:r})=>this.registerKeyModsListeners(o,r),{window:gi,disposables:this._store})),this._register(Jve(o=>{this.ui&&qe(this.ui.container)===o&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))}))}registerKeyModsListeners(e,t){const i=o=>{this.keyMods.ctrlCmd=o.ctrlKey||o.metaKey,this.keyMods.alt=o.altKey};for(const o of[ge.KEY_DOWN,ge.KEY_UP,ge.MOUSE_DOWN])t.add(j(e,o,i,!0))}getUI(e){if(this.ui)return e&&qe(this._container)!==qe(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;const t=ie(this._container,ps(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const i=sa(t),o=ie(t,ps(".quick-input-titlebar")),r=this._register(new Wa(o,{hoverDelegate:this.options.hoverDelegate}));r.domNode.classList.add("quick-input-left-action-bar");const s=ie(o,ps(".quick-input-title")),a=this._register(new Wa(o,{hoverDelegate:this.options.hoverDelegate}));a.domNode.classList.add("quick-input-right-action-bar");const l=ie(t,ps(".quick-input-header")),c=ie(l,ps("input.quick-input-check-all"));c.type="checkbox",c.setAttribute("aria-label",m("quickInput.checkAll","Toggle all checkboxes")),this._register(fn(c,ge.CHANGE,F=>{const K=c.checked;P.setAllVisibleChecked(K)})),this._register(j(c,ge.CLICK,F=>{(F.x||F.y)&&g.setFocus()}));const d=ie(l,ps(".quick-input-description")),u=ie(l,ps(".quick-input-and-message")),h=ie(u,ps(".quick-input-filter")),g=this._register(new WIe(h,this.styles.inputBox,this.styles.toggle));g.setAttribute("aria-describedby",`${this.idPrefix}message`);const f=ie(h,ps(".quick-input-visible-count"));f.setAttribute("aria-live","polite"),f.setAttribute("aria-atomic","true");const p=new P3(f,{countFormat:m({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),b=ie(h,ps(".quick-input-count"));b.setAttribute("aria-live","polite");const v=new P3(b,{countFormat:m({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),_=ie(l,ps(".quick-input-action")),C=this._register(new rE(_,this.styles.button));C.label=m("ok","OK"),this._register(C.onDidClick(F=>{this.onDidAcceptEmitter.fire()}));const y=ie(l,ps(".quick-input-action")),w=this._register(new rE(y,{...this.styles.button,supportIcons:!0}));w.label=m("custom","Custom"),this._register(w.onDidClick(F=>{this.onDidCustomEmitter.fire()}));const S=ie(u,ps(`#${this.idPrefix}message.quick-input-message`)),x=this._register(new UI(t,this.styles.progressBar));x.getContainer().classList.add("quick-input-progress");const L=ie(t,ps(".quick-input-html-widget"));L.tabIndex=-1;const E=ie(t,ps(".quick-input-description")),O=this.idPrefix+"list",P=this._register(new V7(t,O,this.options,this.themeService));g.setAttribute("aria-controls",O),this._register(P.onDidChangeFocus(()=>{var F;g.setAttribute("aria-activedescendant",(F=P.getActiveDescendant())!==null&&F!==void 0?F:"")})),this._register(P.onChangedAllVisibleChecked(F=>{c.checked=F})),this._register(P.onChangedVisibleCount(F=>{p.setCount(F)})),this._register(P.onChangedCheckedCount(F=>{v.setCount(F)})),this._register(P.onLeave(()=>{setTimeout(()=>{this.controller&&(g.setFocus(),this.controller instanceof yw&&this.controller.canSelectMany&&P.clearFocus())},0)}));const A=Cc(t);return this._register(A),this._register(j(t,ge.FOCUS,F=>{To(F.relatedTarget,t)||(this.previousFocusElement=F.relatedTarget instanceof HTMLElement?F.relatedTarget:void 0)},!0)),this._register(A.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Cw.Blur),this.previousFocusElement=void 0})),this._register(j(t,ge.FOCUS,F=>{g.setFocus()})),this._register(fn(t,ge.KEY_DOWN,F=>{if(!To(F.target,L))switch(F.keyCode){case 3:_t.stop(F,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:_t.stop(F,!0),this.hide(Cw.Gesture);break;case 2:if(!F.altKey&&!F.ctrlKey&&!F.metaKey){const K=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(t.classList.contains("show-checkboxes")?K.push("input"):K.push("input[type=text]"),this.getUI().list.isDisplayed()&&K.push(".monaco-list"),this.getUI().message&&K.push(".quick-input-message a"),this.getUI().widget){if(To(F.target,this.getUI().widget))break;K.push(".quick-input-html-widget")}const te=t.querySelectorAll(K.join(", "));F.shiftKey&&F.target===te[0]?(_t.stop(F,!0),P.clearFocus()):!F.shiftKey&&To(F.target,te[te.length-1])&&(_t.stop(F,!0),te[0].focus())}break;case 10:F.ctrlKey&&(_t.stop(F,!0),this.getUI().list.toggleHover());break}})),this.ui={container:t,styleSheet:i,leftActionBar:r,titleBar:o,title:s,description1:E,description2:d,widget:L,rightActionBar:a,checkAll:c,inputContainer:u,filterContainer:h,inputBox:g,visibleCountContainer:f,visibleCount:p,countContainer:b,count:v,okContainer:_,ok:C,message:S,customButtonContainer:y,customButton:w,list:P,progressBar:x,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:F=>this.show(F),hide:()=>this.hide(),setVisibilities:F=>this.setVisibilities(F),setEnabled:F=>this.setEnabled(F),setContextKey:F=>this.options.setContextKey(F),linkOpenerDelegate:F=>this.options.linkOpenerDelegate(F)},this.updateStyles(),this.ui}reparentUI(e){this.ui&&(this._container=e,ie(this._container,this.ui.container))}pick(e,t={},i=Dt.None){return new Promise((o,r)=>{let s=d=>{var u;s=o,(u=t.onKeyMods)===null||u===void 0||u.call(t,a.keyMods),o(d)};if(i.isCancellationRequested){s(void 0);return}const a=this.createQuickPick();let l;const c=[a,a.onDidAccept(()=>{if(a.canSelectMany)s(a.selectedItems.slice()),a.hide();else{const d=a.activeItems[0];d&&(s(d),a.hide())}}),a.onDidChangeActive(d=>{const u=d[0];u&&t.onDidFocus&&t.onDidFocus(u)}),a.onDidChangeSelection(d=>{if(!a.canSelectMany){const u=d[0];u&&(s(u),a.hide())}}),a.onDidTriggerItemButton(d=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton({...d,removeItem:()=>{const u=a.items.indexOf(d.item);if(u!==-1){const h=a.items.slice(),g=h.splice(u,1),f=a.activeItems.filter(b=>b!==g[0]),p=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=h,f&&(a.activeItems=f),a.keepScrollPosition=p}}})),a.onDidTriggerSeparatorButton(d=>{var u;return(u=t.onDidTriggerSeparatorButton)===null||u===void 0?void 0:u.call(t,d)}),a.onDidChangeValue(d=>{l&&!d&&(a.activeItems.length!==1||a.activeItems[0]!==l)&&(a.activeItems=[l])}),i.onCancellationRequested(()=>{a.hide()}),a.onDidHide(()=>{si(c),s(void 0)})];a.title=t.title,a.canSelectMany=!!t.canPickMany,a.placeholder=t.placeHolder,a.ignoreFocusOut=!!t.ignoreFocusLost,a.matchOnDescription=!!t.matchOnDescription,a.matchOnDetail=!!t.matchOnDetail,a.matchOnLabel=t.matchOnLabel===void 0||t.matchOnLabel,a.quickNavigate=t.quickNavigate,a.hideInput=!!t.hideInput,a.contextKey=t.contextKey,a.busy=!0,Promise.all([e,t.activeItem]).then(([d,u])=>{l=u,a.busy=!1,a.items=d,a.canSelectMany&&(a.selectedItems=d.filter(h=>h.type!=="separator"&&h.picked)),l&&(a.activeItems=[l])}),a.show(),Promise.resolve(e).then(void 0,d=>{r(d),a.hide()})})}createQuickPick(){const e=this.getUI(!0);return new yw(e)}createInputBox(){const e=this.getUI(!0);return new FIe(e)}show(e){const t=this.getUI(!0);this.onShowEmitter.fire();const i=this.controller;this.controller=e,i==null||i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",Ho(t.widget),t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(_n.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),Ho(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,t.inputBox.toggles=void 0;const o=this.options.backKeybindingLabel();M3.tooltip=o?m("quickInput.backWithKeybinding","Back ({0})",o):m("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=e.description&&!(e.inputBox||e.checkAll)?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.inputContainer.style.display=e.inputBox?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList.toggle("show-checkboxes",!!e.checkBox),t.container.classList.toggle("hidden-input",!e.inputBox&&!e.description),this.updateLayout()}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.action.enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.action.enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().inputBox.enabled=e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t,i;const o=this.controller;if(!o)return;const r=(t=this.ui)===null||t===void 0?void 0:t.container,s=r&&!eJ(r);if(this.controller=null,this.onHideEmitter.fire(),r&&(r.style.display="none"),!s){let a=this.previousFocusElement;for(;a&&!a.offsetParent;)a=(i=a.parentElement)!==null&&i!==void 0?i:void 0;a!=null&&a.offsetParent?(a.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}o.didHide(e)}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(this.dimension.width*.62,$I.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,widgetBorder:o,widgetShadow:r}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e??"",this.ui.container.style.backgroundColor=t??"",this.ui.container.style.color=i??"",this.ui.container.style.border=o?`1px solid ${o}`:"",this.ui.container.style.boxShadow=r?`0 0 8px 2px ${r}`:"",this.ui.list.style(this.styles.list);const s=[];this.styles.pickerGroup.pickerGroupBorder&&s.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&s.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&s.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(s.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&s.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&s.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&s.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&s.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&s.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),s.push("}"));const a=s.join(`
`);a!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=a)}}}$I.MAX_WIDTH=600;var VIe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},_1=function(n,e){return function(t,i){e(t,i,n)}};let O3=class extends ewe{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(N3))),this._quickAccess}constructor(e,t,i,o,r){super(i),this.instantiationService=e,this.contextKeyService=t,this.layoutService=o,this.configurationService=r,this._onShow=this._register(new B),this._onHide=this._register(new B),this.contexts=new Map}createController(e=this.layoutService,t){const i={idPrefix:"quickInput_",container:e.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:r=>this.setContextKey(r),linkOpenerDelegate:r=>{this.instantiationService.invokeFunction(s=>{s.get(gs).open(r,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>e.focus(),createList:(r,s,a,l,c)=>this.instantiationService.createInstance(E3,r,s,a,l,c),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(A3))},o=this._register(new $I({...i,...t},this.themeService,this.layoutService));return o.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop),this._register(e.onDidLayoutActiveContainer(r=>{qe(e.activeContainer)===qe(o.container)&&o.layout(r,e.activeContainerOffset.quickPickTop)})),this._register(e.onDidChangeActiveContainer(()=>{o.isVisible()||o.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop)})),this._register(o.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(o.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),o}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new we(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),!(t&&t.get())&&(this.resetContextKeys(),t==null||t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t={},i=Dt.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:ke(TU),quickInputForeground:ke(lCe),quickInputTitleBackground:ke(cCe),widgetBorder:ke(qJ),widgetShadow:ke(Ru)},inputBox:$2,toggle:U2,countBadge:Hte,button:zEe,progressBar:UEe,keybindingLabel:HEe,list:x0({listBackground:TU,listFocusBackground:Mp,listFocusForeground:Rp,listInactiveFocusForeground:Rp,listInactiveSelectionIconForeground:ub,listInactiveFocusBackground:Mp,listFocusOutline:Oi,listInactiveFocusOutline:Oi}),pickerGroup:{pickerGroupBorder:ke(dCe),pickerGroupForeground:ke(XJ)}}}};O3=VIe([_1(0,Ge),_1(1,Xe),_1(2,ao),_1(3,Xm),_1(4,yt)],O3);var bie=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},wp=function(n,e){return function(t,i){e(t,i,n)}};let F3=class extends O3{constructor(e,t,i,o,r,s){super(t,i,o,new z4(e.getContainerDomNode(),r),s),this.host=void 0;const a=K_.get(e);if(a){const l=a.widget;this.host={_serviceBrand:void 0,get mainContainer(){return l.getDomNode()},getContainer(){return l.getDomNode()},get containers(){return[l.getDomNode()]},get activeContainer(){return l.getDomNode()},get mainContainerDimension(){return e.getLayoutInfo()},get activeContainerDimension(){return e.getLayoutInfo()},get onDidLayoutMainContainer(){return e.onDidLayoutChange},get onDidLayoutActiveContainer(){return e.onDidLayoutChange},get onDidLayoutContainer(){return me.map(e.onDidLayoutChange,c=>({container:l.getDomNode(),dimension:c}))},get onDidChangeActiveContainer(){return me.None},get onDidAddContainer(){return me.None},get whenActiveContainerStylesLoaded(){return Promise.resolve()},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>e.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};F3=bie([wp(1,Ge),wp(2,Xe),wp(3,ao),wp(4,qt),wp(5,yt)],F3);let B3=class{get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(F3,e);this.mapEditorToService.set(e,t),Qg(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get quickAccess(){return this.activeService.quickAccess}constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}pick(e,t={},i=Dt.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};B3=bie([wp(0,Ge),wp(1,qt)],B3);class K_{static get(e){return e.getContribution(K_.ID)}constructor(e){this.editor=e,this.widget=new jI(this.editor)}dispose(){this.widget.dispose()}}K_.ID="editor.controller.quickInput";class jI{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return jI.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}jI.ID="editor.contrib.quickInputWidget";Gt(K_.ID,K_,4);class HIe{constructor(e,t,i,o,r){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=o,this.background=r}}function zIe(n){if(!n||!Array.isArray(n))return[];const e=[];let t=0;for(let i=0,o=n.length;i<o;i++){const r=n[i];let s=-1;if(typeof r.fontStyle=="string"){s=0;const c=r.fontStyle.split(" ");for(let d=0,u=c.length;d<u;d++)switch(c[d]){case"italic":s=s|1;break;case"bold":s=s|2;break;case"underline":s=s|4;break;case"strikethrough":s=s|8;break}}let a=null;typeof r.foreground=="string"&&(a=r.foreground);let l=null;typeof r.background=="string"&&(l=r.background),e[t++]=new HIe(r.token||"",i,s,a,l)}return e}function UIe(n,e){n.sort((d,u)=>{const h=GIe(d.token,u.token);return h!==0?h:d.index-u.index});let t=0,i="000000",o="ffffff";for(;n.length>=1&&n[0].token==="";){const d=n.shift();d.fontStyle!==-1&&(t=d.fontStyle),d.foreground!==null&&(i=d.foreground),d.background!==null&&(o=d.background)}const r=new jIe;for(const d of e)r.getId(d);const s=r.getId(i),a=r.getId(o),l=new H7(t,s,a),c=new z7(l);for(let d=0,u=n.length;d<u;d++){const h=n[d];c.insert(h.token,h.fontStyle,r.getId(h.foreground),r.getId(h.background))}return new _ie(r,c)}const $Ie=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class jIe{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(e===null)return 0;const t=e.match($Ie);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=U.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class _ie{static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(zIe(e),t)}static createFromParsedTokenTheme(e,t){return UIe(e,t)}constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(typeof i>"u"){const o=this._match(t),r=qIe(t);i=(o.metadata|r<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const KIe=/\b(comment|string|regex|regexp)\b/;function qIe(n){const e=n.match(KIe);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function GIe(n,e){return n<e?-1:n>e?1:0}class H7{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new H7(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){e!==-1&&(this._fontStyle=e),t!==0&&(this._foreground=t),i!==0&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class z7{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(e==="")return this._mainRule;const t=e.indexOf(".");let i,o;t===-1?(i=e,o=""):(i=e.substring(0,t),o=e.substring(t+1));const r=this._children.get(i);return typeof r<"u"?r.match(o):this._mainRule}insert(e,t,i,o){if(e===""){this._mainRule.acceptOverwrite(t,i,o);return}const r=e.indexOf(".");let s,a;r===-1?(s=e,a=""):(s=e.substring(0,r),a=e.substring(r+1));let l=this._children.get(s);typeof l>"u"&&(l=new z7(this._mainRule.clone()),this._children.set(s,l)),l.insert(a,t,i,o)}}function ZIe(n){const e=[];for(let t=1,i=n.length;t<i;t++){const o=n[t];e[t]=`.mtk${t} { color: ${o}; }`}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.push(".mtks { text-decoration: line-through; }"),e.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),e.join(`
`)}const YIe={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[no]:"#FFFFFE",[hl]:"#000000",[QJ]:"#E5EBF1",[NS]:"#D3D3D3",[RS]:"#939393",[L6]:"#ADD6FF4D"}},XIe={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[no]:"#1E1E1E",[hl]:"#D4D4D4",[QJ]:"#3A3D41",[NS]:"#404040",[RS]:"#707070",[L6]:"#ADD6FF26"}},QIe={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[no]:"#000000",[hl]:"#FFFFFF",[NS]:"#FFFFFF",[RS]:"#FFFFFF"}},JIe={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[no]:"#FFFFFF",[hl]:"#292929",[NS]:"#292929",[RS]:"#292929"}},eNe={IconContribution:"base.contributions.icons"};var qj;(function(n){function e(t,i){let o=t.defaults;for(;Ze.isThemeIcon(o);){const r=tv.getIcon(o.id);if(!r)return;o=r.defaults}return o}n.getDefinition=e})(qj||(qj={}));var Gj;(function(n){function e(i){return{weight:i.weight,style:i.style,src:i.src.map(o=>({format:o.format,location:o.location.toString()}))}}n.toJSONObject=e;function t(i){const o=r=>Pr(r)?r:void 0;if(i&&Array.isArray(i.src)&&i.src.every(r=>Pr(r.format)&&Pr(r.location)))return{weight:o(i.weight),style:o(i.style),src:i.src.map(r=>({format:r.format,location:Ke.parse(r.location)}))}}n.fromJSONObject=t})(Gj||(Gj={}));class tNe{constructor(){this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:m("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:m("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${Ze.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,o){const r=this.iconsById[e];if(r){if(i&&!r.description){r.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;const l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=i),this._onDidChange.fire()}return r}const s={id:e,description:i,defaults:t,deprecationMessage:o};this.iconsById[e]=s;const a={$ref:"#/definitions/icons"};return o&&(a.deprecationMessage=o),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}toString(){const e=(r,s)=>r.id.localeCompare(s.id),t=r=>{for(;Ze.isThemeIcon(r.defaults);)r=this.iconsById[r.defaults.id];return`codicon codicon-${r?r.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const o=Object.keys(this.iconsById).map(r=>this.iconsById[r]);for(const r of o.filter(s=>!!s.description).sort(e))i.push(`|<i class="${t(r)}"></i>|${r.id}|${Ze.isThemeIcon(r.defaults)?r.defaults.id:r.id}|${r.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const r of o.filter(s=>!Ze.isThemeIcon(s.defaults)).sort(e))i.push(`|<i class="${t(r)}"></i>|${r.id}|`);return i.join(`
`)}}const tv=new tNe;nn.add(eNe.IconContribution,tv);function xn(n,e,t,i){return tv.registerIcon(n,e,t,i)}function Cie(){return tv}function iNe(){const n=xQ();for(const e in n){const t="\\"+n[e].toString(16);tv.registerIcon(e,{fontCharacter:t})}}iNe();const yie="vscode://schemas/icons",wie=nn.as(sI.JSONContribution);wie.registerSchema(yie,tv.getIconSchema());const Zj=new mi(()=>wie.notifySchemaChanged(yie),200);tv.onDidChange(()=>{Zj.isScheduled()||Zj.schedule()});const Sie=xn("widget-close",pe.close,m("widgetClose","Icon for the close action in widgets."));xn("goto-previous-location",pe.arrowUp,m("previousChangeIcon","Icon for goto previous editor location."));xn("goto-next-location",pe.arrowDown,m("nextChangeIcon","Icon for goto next editor location."));Ze.modify(pe.sync,"spin");Ze.modify(pe.loading,"spin");function nNe(n){const e=new oe,t=e.add(new B),i=Cie();return e.add(i.onDidChange(()=>t.fire())),n&&e.add(n.onDidProductIconThemeChange(()=>t.fire())),{dispose:()=>e.dispose(),onDidChange:t.event,getCSS(){const o=n?n.getProductIconTheme():new xie,r={},s=l=>{const c=o.getIcon(l);if(!c)return;const d=c.font;return d?(r[d.id]=d.definition,`.codicon-${l.id}:before { content: '${c.fontCharacter}'; font-family: ${Iz(d.id)}; }`):`.codicon-${l.id}:before { content: '${c.fontCharacter}'; }`},a=[];for(const l of i.getIcons()){const c=s(l);c&&a.push(c)}for(const l in r){const c=r[l],d=c.weight?`font-weight: ${c.weight};`:"",u=c.style?`font-style: ${c.style};`:"",h=c.src.map(g=>`${of(g.location)} format('${g.format}')`).join(", ");a.push(`@font-face { src: ${h}; font-family: ${Iz(l)};${d}${u} font-display: block; }`)}return a.join(`
`)}}}class xie{getIcon(e){const t=Cie();let i=e.defaults;for(;Ze.isThemeIcon(i);){const o=t.getIcon(i.id);if(!o)return;i=o.defaults}return i}}const Su="vs",t_="vs-dark",Xp="hc-black",Qp="hc-light",kie=nn.as(KJ.ColorContribution),oNe=nn.as(uee.ThemingContribution);class Lie{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;const i=t.base;e.length>0?(jL(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(const t in this.themeData.colors)e.set(t,U.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){const t=W3(this.themeData.base);for(const i in t.colors)e.has(i)||e.set(i,U.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){const i=this.getColors().get(e);if(i)return i;if(t!==!1)return this.getDefault(e)}getDefault(e){let t=this.defaultColors[e];return t||(t=kie.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return this.getColors().has(e)}get type(){switch(this.base){case Su:return Ea.LIGHT;case Xp:return Ea.HIGH_CONTRAST_DARK;case Qp:return Ea.HIGH_CONTRAST_LIGHT;default:return Ea.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){const r=W3(this.themeData.base);e=r.rules,r.encodedTokensColors&&(t=r.encodedTokensColors)}const i=this.themeData.colors["editor.foreground"],o=this.themeData.colors["editor.background"];if(i||o){const r={token:""};i&&(r.foreground=i),o&&(r.background=o),e.push(r)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=_ie.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const r=this.tokenTheme._match([e].concat(t).join(".")).metadata,s=Bo.getForeground(r),a=Bo.getFontStyle(r);return{foreground:s,italic:!!(a&1),bold:!!(a&2),underline:!!(a&4),strikethrough:!!(a&8)}}}function jL(n){return n===Su||n===t_||n===Xp||n===Qp}function W3(n){switch(n){case Su:return YIe;case t_:return XIe;case Xp:return QIe;case Qp:return JIe}}function Ck(n){const e=W3(n);return new Lie(n,e)}class rNe extends z{constructor(){super(),this._onColorThemeChange=this._register(new B),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new B),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new xie,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Su,Ck(Su)),this._knownThemes.set(t_,Ck(t_)),this._knownThemes.set(Xp,Ck(Xp)),this._knownThemes.set(Qp,Ck(Qp));const e=this._register(nNe(this));this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Su),this._onOSSchemeChanged(),this._register(e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()})),PQ(gi,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(e){return e2(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=sa(void 0,e=>{e.className="monaco-colors",e.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),z.None}_registerShadowDomContainer(e){const t=sa(e,i=>{i.className="monaco-colors",i.textContent=this._allCSS});return this._styleElements.push(t),{dispose:()=>{for(let i=0;i<this._styleElements.length;i++)if(this._styleElements[i]===t){this._styleElements.splice(i,1);return}}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!jL(t.base)&&!jL(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new Lie(e,t)),jL(e)&&this._knownThemes.forEach(i=>{i.base===e&&i.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;this._knownThemes.has(e)?t=this._knownThemes.get(e):t=this._knownThemes.get(Su),this._updateActualTheme(t)}_updateActualTheme(e){!e||this._theme===e||(this._theme=e,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const e=gi.matchMedia("(forced-colors: active)").matches;if(e!==fc(this._theme.type)){let t;P_(this._theme.type)?t=e?Xp:t_:t=e?Qp:Su,this._updateActualTheme(this._knownThemes.get(t))}}}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const e=[],t={},i={addRule:s=>{t[s]||(e.push(s),t[s]=!0)}};oNe.getThemingParticipants().forEach(s=>s(this._theme,i,this._environment));const o=[];for(const s of kie.getColors()){const a=this._theme.getColor(s.id,!0);a&&o.push(`${S6(s.id)}: ${a.toString()};`)}i.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${o.join(`
`)} }`);const r=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(ZIe(r)),this._themeCSS=e.join(`
`),this._updateCSS(),rn.setColorMap(r),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}const ma=Et("themeService");var sNe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},cA=function(n,e){return function(t,i){e(t,i,n)}};let V3=class extends z{constructor(e,t,i){super(),this._contextKeyService=e,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new B,this._onDidChangeReducedMotion=new B,this._accessibilityModeEnabledContext=DS.bindTo(this._contextKeyService);const o=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(s=>{s.affectsConfiguration("editor.accessibilitySupport")&&(o(),this._onDidChangeScreenReaderOptimized.fire()),s.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),o(),this._register(this.onDidChangeScreenReaderOptimized(()=>o()));const r=gi.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=r.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(r)}initReducedMotionListeners(e){this._register(j(e,"change",()=>{this._systemMotionReduced=e.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const t=()=>{const i=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",i),this._layoutService.mainContainer.classList.toggle("enable-motion",!i)};t(),this._register(this.onDidChangeReducedMotion(()=>t()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return e==="on"||e==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const e=this._configMotionReduced;return e==="on"||e==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};V3=sNe([cA(0,Xe),cA(1,Xm),cA(2,yt)],V3);var KI=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Sm=function(n,e){return function(t,i){e(t,i,n)}},Ov,Uh;let H3=class{constructor(e,t){this._commandService=e,this._hiddenStates=new sE(t)}createMenu(e,t,i){return new U3(e,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...i},this._commandService,t)}resetHiddenStates(e){this._hiddenStates.reset(e)}};H3=KI([Sm(0,tn),Sm(1,El)],H3);let sE=Ov=class{constructor(e){this._storageService=e,this._disposables=new oe,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const t=e.get(Ov._key,0,"{}");this._data=JSON.parse(t)}catch{this._data=Object.create(null)}this._disposables.add(e.onDidChangeValue(0,Ov._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const t=e.get(Ov._key,0,"{}");this._data=JSON.parse(t)}catch(t){console.log("FAILED to read storage after UPDATE",t)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(e,t){var i;return(i=this._hiddenByDefaultCache.get(`${e.id}/${t}`))!==null&&i!==void 0?i:!1}setDefaultState(e,t,i){this._hiddenByDefaultCache.set(`${e.id}/${t}`,i)}isHidden(e,t){var i,o;const r=this._isHiddenByDefault(e,t),s=(o=(i=this._data[e.id])===null||i===void 0?void 0:i.includes(t))!==null&&o!==void 0?o:!1;return r?!s:s}updateHidden(e,t,i){this._isHiddenByDefault(e,t)&&(i=!i);const r=this._data[e.id];if(i)r?r.indexOf(t)<0&&r.push(t):this._data[e.id]=[t];else if(r){const s=r.indexOf(t);s>=0&&zfe(r,s),r.length===0&&delete this._data[e.id]}this._persist()}reset(e){if(e===void 0)this._data=Object.create(null),this._persist();else{for(const{id:t}of e)this._data[t]&&delete this._data[t];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const e=JSON.stringify(this._data);this._storageService.store(Ov._key,e,0,0)}finally{this._ignoreChangeEvent=!1}}};sE._key="menu.hiddenCommands";sE=Ov=KI([Sm(0,El)],sE);let z3=Uh=class{constructor(e,t,i,o,r){this._id=e,this._hiddenStates=t,this._collectContextKeysForSubmenus=i,this._commandService=o,this._contextKeyService=r,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const e=Io.getMenuItems(this._id);let t;e.sort(Uh._compareMenuItems);for(const i of e){const o=i.group||"";(!t||t[0]!==o)&&(t=[o,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeys(i)}}_collectContextKeys(e){if(Uh._fillInKbExprKeys(e.when,this._structureContextKeys),sb(e)){if(e.command.precondition&&Uh._fillInKbExprKeys(e.command.precondition,this._preconditionContextKeys),e.command.toggled){const t=e.command.toggled.condition||e.command.toggled;Uh._fillInKbExprKeys(t,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&Io.getMenuItems(e.submenu).forEach(this._collectContextKeys,this)}createActionGroups(e){const t=[];for(const i of this._menuGroups){const[o,r]=i,s=[];for(const a of r)if(this._contextKeyService.contextMatchesRules(a.when)){const l=sb(a);l&&this._hiddenStates.setDefaultState(this._id,a.command.id,!!a.isHiddenByDefault);const c=aNe(this._id,l?a.command:a,this._hiddenStates);if(l)s.push(new aa(a.command,a.alt,e,c,this._contextKeyService,this._commandService));else{const d=new Uh(a.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(e),u=Kn.join(...d.map(h=>h[1]));u.length>0&&s.push(new Py(a,c,u))}}s.length>0&&t.push([o,s])}return t}static _fillInKbExprKeys(e,t){if(e)for(const i of e.keys())t.add(i)}static _compareMenuItems(e,t){const i=e.group,o=t.group;if(i!==o){if(i){if(!o)return-1}else return 1;if(i==="navigation")return-1;if(o==="navigation")return 1;const a=i.localeCompare(o);if(a!==0)return a}const r=e.order||0,s=t.order||0;return r<s?-1:r>s?1:Uh._compareTitles(sb(e)?e.command.title:e.title,sb(t)?t.command.title:t.title)}static _compareTitles(e,t){const i=typeof e=="string"?e:e.original,o=typeof t=="string"?t:t.original;return i.localeCompare(o)}};z3=Uh=KI([Sm(3,tn),Sm(4,Xe)],z3);let U3=class{constructor(e,t,i,o,r){this._disposables=new oe,this._menuInfo=new z3(e,t,i.emitEventsForSubmenuChanges,o,r);const s=new mi(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},i.eventDebounceDelay);this._disposables.add(s),this._disposables.add(Io.onDidChangeMenu(d=>{d.has(e)&&s.schedule()}));const a=this._disposables.add(new oe),l=d=>{let u=!1,h=!1,g=!1;for(const f of d)if(u=u||f.isStructuralChange,h=h||f.isEnablementChange,g=g||f.isToggleChange,u&&h&&g)break;return{menu:this,isStructuralChange:u,isEnablementChange:h,isToggleChange:g}},c=()=>{a.add(r.onDidChangeContext(d=>{const u=d.affectsSome(this._menuInfo.structureContextKeys),h=d.affectsSome(this._menuInfo.preconditionContextKeys),g=d.affectsSome(this._menuInfo.toggledContextKeys);(u||h||g)&&this._onDidChange.fire({menu:this,isStructuralChange:u,isEnablementChange:h,isToggleChange:g})})),a.add(t.onDidChange(d=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new fQ({onWillAddFirstListener:c,onDidRemoveLastListener:a.clear.bind(a),delay:i.eventDebounceDelay,merge:l}),this.onDidChange=this._onDidChange.event}getActions(e){return this._menuInfo.createActionGroups(e)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};U3=KI([Sm(3,tn),Sm(4,Xe)],U3);function aNe(n,e,t){const i=Ybe(e)?e.submenu.id:e.id,o=typeof e.title=="string"?e.title:e.title.value,r=Ob({id:`hide/${n.id}/${i}`,label:m("hide.label","Hide '{0}'",o),run(){t.updateHidden(n,i,!0)}}),s=Ob({id:`toggle/${n.id}/${i}`,label:o,get checked(){return!t.isHidden(n,i)},run(){t.updateHidden(n,i,!!this.checked)}});return{hide:r,toggle:s,get isHidden(){return!s.checked}}}var lNe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Yj=function(n,e){return function(t,i){e(t,i,n)}},$3;let aE=$3=class extends z{constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(uh||OQ)&&this.installWebKitWriteTextWorkaround(),this._register(me.runAndSubscribe(zT,({window:i,disposables:o})=>{o.add(j(i.document,"copy",()=>this.clearResources()))},{window:gi,disposables:this._store}))}installWebKitWriteTextWorkaround(){const e=()=>{const t=new BT;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=t,navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch(async i=>{(!(i instanceof Error)||i.name!=="NotAllowedError"||!t.isRejected)&&this.logService.error(i)})};this._register(me.runAndSubscribe(this.layoutService.onDidAddContainer,({container:t,disposables:i})=>{i.add(j(t,"click",e)),i.add(j(t,"keydown",e))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText(e,t){if(this.writeResources([]),t){this.mapTextToType.set(t,e);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return await navigator.clipboard.writeText(e)}catch(i){console.error(i)}this.fallbackWriteText(e)}fallbackWriteText(e){const t=m0(),i=t.activeElement,o=t.body.appendChild(ue("textarea",{"aria-hidden":!0}));o.style.height="1px",o.style.width="1px",o.style.position="absolute",o.value=e,o.focus(),o.select(),t.execCommand("copy"),i instanceof HTMLElement&&i.focus(),t.body.removeChild(o)}async readText(e){if(e)return this.mapTextToType.get(e)||"";try{return await navigator.clipboard.readText()}catch(t){console.error(t)}return""}async readFindText(){return this.findText}async writeFindText(e){this.findText=e}async writeResources(e){e.length===0?this.clearResources():(this.resources=e,this.resourcesStateHash=await this.computeResourcesStateHash())}async readResources(){const e=await this.computeResourcesStateHash();return this.resourcesStateHash!==e&&this.clearResources(),this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;const e=await this.readText();return WT(e.substring(0,$3.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearResources(){this.resources=[],this.resourcesStateHash=void 0}};aE.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3;aE=$3=lNe([Yj(0,Xm),Yj(1,zr)],aE);const kh=Et("clipboardService");var cNe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},dNe=function(n,e){return function(t,i){e(t,i,n)}};const zC="data-keybinding-context";let U7=class{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return{...this._value}}setValue(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1}removeValue(e){return e in this._value?(delete this._value[e],!0):!1}getValue(e){const t=this._value[e];return typeof t>"u"&&this._parent?this._parent.getValue(e):t}};class q_ extends U7{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}q_.INSTANCE=new q_;class ww extends U7{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=Xb.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(o=>{if(o.source===7){const r=Array.from(this._values,([s])=>s);this._values.clear(),i.fire(new Qj(r))}else{const r=[];for(const s of o.affectedKeys){const a=`config.${s}`,l=this._values.findSuperstr(a);l!==void 0&&(r.push(...Mt.map(l,([c])=>c)),this._values.deleteSuperstr(a)),this._values.has(a)&&(r.push(a),this._values.delete(a))}i.fire(new Qj(r))}})}dispose(){this._listener.dispose()}getValue(e){if(e.indexOf(ww._keyPrefix)!==0)return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(ww._keyPrefix.length),i=this._configurationService.getValue(t);let o;switch(typeof i){case"number":case"boolean":case"string":o=i;break;default:Array.isArray(i)?o=JSON.stringify(i):o=i}return this._values.set(e,o),o}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}ww._keyPrefix="config.";class uNe{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Xj{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class Qj{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every(t=>e.has(t))}}class hNe{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every(t=>t.allKeysContainedIn(e))}}function gNe(n,e){return n.allKeysContainedIn(new Set(Object.keys(e)))}class Die extends z{constructor(e){super(),this._onDidChangeContext=this._register(new dm({merge:t=>new hNe(t)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new uNe(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new fNe(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return e?e.evaluate(t):!0}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new Xj(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new Xj(e))}getContext(e){return this._isDisposed?q_.INSTANCE:this.getContextValuesContainer(pNe(e))}dispose(){super.dispose(),this._isDisposed=!0}}let j3=class extends Die{constructor(e){super(0),this._contexts=new Map,this._lastContextId=0;const t=this._register(new ww(this._myContextId,e,this._onDidChangeContext));this._contexts.set(this._myContextId,t)}getContextValuesContainer(e){return this._isDisposed?q_.INSTANCE:this._contexts.get(e)||q_.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const t=++this._lastContextId;return this._contexts.set(t,new U7(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};j3=cNe([dNe(0,yt)],j3);class fNe extends Die{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=this._register(new bo),this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(zC)){let i="";this._domNode.classList&&(i=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${i?": "+i:""}`)}this._domNode.setAttribute(zC,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(e=>{const i=this._parent.getContextValuesContainer(this._myContextId).value;gNe(e,i)||this._onDidChangeContext.fire(e)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(zC),super.dispose())}getContextValuesContainer(e){return this._isDisposed?q_.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}function pNe(n){for(;n;){if(n.hasAttribute(zC)){const e=n.getAttribute(zC);return e?parseInt(e,10):NaN}n=n.parentElement}return 0}function mNe(n,e,t){n.get(Xe).createKey(String(e),vNe(t))}function vNe(n){return eQ(n,e=>{if(typeof e=="object"&&e.$mid===1)return Ke.revive(e).toString();if(e instanceof Ke)return e.toString()})}Pt.registerCommand("_setContext",mNe);Pt.registerCommand({id:"getContextKeyInfo",handler(){return[...we.all()].sort((n,e)=>n.key.localeCompare(e.key))},metadata:{description:m("getContextKeyInfo","A command that returns information about context keys"),args:[]}});Pt.registerCommand("_generateContextKeyInfo",function(){const n=[],e=new Set;for(const t of we.all())e.has(t.key)||(e.add(t.key),n.push(t));n.sort((t,i)=>t.key.localeCompare(i.key)),console.log(JSON.stringify(n,void 0,2))});let bNe=class{constructor(e,t){this.key=e,this.data=t,this.incoming=new Map,this.outgoing=new Map}};class Jj{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(const t of this._nodes.values())t.outgoing.size===0&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),o=this.lookupOrInsertNode(t);i.outgoing.set(o.key,o),o.incoming.set(i.key,i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(const i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new bNe(t,e),this._nodes.set(t,i)),i}isEmpty(){return this._nodes.size===0}toString(){const e=[];for(const[t,i]of this._nodes)e.push(`${t}
	(-> incoming)[${[...i.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...i.outgoing.keys()].join(",")}]
`);return e.join(`
`)}findCycleSlow(){for(const[e,t]of this._nodes){const i=new Set([e]),o=this._findCycle(t,i);if(o)return o}}_findCycle(e,t){for(const[i,o]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const r=this._findCycle(o,t);if(r)return r;t.delete(i)}}}const _Ne=!1;class eK extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=(t=e.findCycleSlow())!==null&&t!==void 0?t:`UNABLE to detect cycle, dumping graph: 
${e.toString()}`}}class lE{constructor(e=new PS,t=!1,i,o=_Ne){var r;this._services=e,this._strict=t,this._parent=i,this._enableTracing=o,this._activeInstantiations=new Set,this._services.set(Ge,this),this._globalGraph=o?(r=i==null?void 0:i._globalGraph)!==null&&r!==void 0?r:new Jj(s=>s):void 0}createChild(e){return new lE(e,this._strict,this,this._enableTracing)}invokeFunction(e,...t){const i=Xr.traceInvocation(this._enableTracing,e);let o=!1;try{return e({get:s=>{if(o)throw P8("service accessor is only valid during the invocation of its target method");const a=this._getOrCreateServiceInstance(s,i);if(!a)throw new Error(`[invokeFunction] unknown service '${s}'`);return a}},...t)}finally{o=!0,i.stop()}}createInstance(e,...t){let i,o;return e instanceof ed?(i=Xr.traceCreation(this._enableTracing,e.ctor),o=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=Xr.traceCreation(this._enableTracing,e),o=this._createInstance(e,t,i)),i.stop(),o}_createInstance(e,t=[],i){const o=oc.getServiceDependencies(e).sort((a,l)=>a.index-l.index),r=[];for(const a of o){const l=this._getOrCreateServiceInstance(a.id,i);l||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`,!1),r.push(l)}const s=o.length>0?o[0].index:t.length;if(t.length!==s){console.trace(`[createInstance] First service dependency of ${e.name} at position ${s+1} conflicts with ${t.length} static arguments`);const a=s-t.length;a>0?t=t.concat(new Array(a)):t=t.slice(0,s)}return Reflect.construct(e,t.concat(r))}_setServiceInstance(e,t){if(this._services.get(e)instanceof ed)this._services.set(e,t);else if(this._parent)this._parent._setServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){const t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(e));const i=this._getServiceInstanceOrDescriptor(e);return i instanceof ed?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){var o;const r=new Jj(l=>l.id.toString());let s=0;const a=[{id:e,desc:t,_trace:i}];for(;a.length;){const l=a.pop();if(r.lookupOrInsertNode(l),s++>1e3)throw new eK(r);for(const c of oc.getServiceDependencies(l.desc.ctor)){const d=this._getServiceInstanceOrDescriptor(c.id);if(d||this._throwIfStrict(`[createInstance] ${e} depends on ${c.id} which is NOT registered.`,!0),(o=this._globalGraph)===null||o===void 0||o.insertEdge(String(l.id),String(c.id)),d instanceof ed){const u={id:c.id,desc:d,_trace:l._trace.branch(c.id,!0)};r.insertEdge(l,u),a.push(u)}}}for(;;){const l=r.roots();if(l.length===0){if(!r.isEmpty())throw new eK(r);break}for(const{data:c}of l){if(this._getServiceInstanceOrDescriptor(c.id)instanceof ed){const u=this._createServiceInstanceWithOwner(c.id,c.desc.ctor,c.desc.staticArguments,c.desc.supportsDelayedInstantiation,c._trace);this._setServiceInstance(c.id,u)}r.removeNode(c)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],o,r){if(this._services.get(e)instanceof ed)return this._createServiceInstance(e,t,i,o,r);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,o,r);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t,i=[],o,r){if(o){const s=new lE(void 0,this._strict,this,this._enableTracing);s._globalGraphImplicitDependency=String(e);const a=new Map,l=new wve(()=>{const c=s._createInstance(t,i,r);for(const[d,u]of a){const h=c[d];if(typeof h=="function")for(const g of u)g.disposable=h.apply(c,g.listener)}return a.clear(),c});return new Proxy(Object.create(null),{get(c,d){if(!l.isInitialized&&typeof d=="string"&&(d.startsWith("onDid")||d.startsWith("onWill"))){let g=a.get(d);return g||(g=new Ir,a.set(d,g)),(p,b,v)=>{if(l.isInitialized)return l.value[d](p,b,v);{const _={listener:[p,b,v],disposable:void 0},C=g.push(_);return je(()=>{var w;C(),(w=_.disposable)===null||w===void 0||w.dispose()})}}}if(d in c)return c[d];const u=l.value;let h=u[d];return typeof h!="function"||(h=h.bind(u),c[d]=h),h},set(c,d,u){return l.value[d]=u,!0},getPrototypeOf(c){return t.prototype}})}else return this._createInstance(t,i,r)}_throwIfStrict(e,t){if(t&&console.warn(e),this._strict)throw new Error(e)}}class Xr{static traceInvocation(e,t){return e?new Xr(2,t.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):Xr._None}static traceCreation(e,t){return e?new Xr(1,t.name):Xr._None}constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}branch(e,t){const i=new Xr(3,e.toString());return this._dep.push([e,t,i]),i}stop(){const e=Date.now()-this._start;Xr._totals+=e;let t=!1;function i(r,s){const a=[],l=new Array(r+1).join("	");for(const[c,d,u]of s._dep)if(d&&u){t=!0,a.push(`${l}CREATES -> ${c}`);const h=i(r+1,u);h&&a.push(h)}else a.push(`${l}uses -> ${c}`);return a.join(`
`)}const o=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${i(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${Xr._totals.toFixed(2)}ms)`];(e>2||t)&&Xr.all.add(o.join(`
`))}}Xr.all=new Set;Xr._None=new class extends Xr{constructor(){super(0,null)}stop(){}branch(){return this}};Xr._totals=0;const CNe=new Set([ft.inMemory,ft.vscodeSourceControl,ft.walkThrough,ft.walkThroughSnippet]);class yNe{constructor(){this._byResource=new Cn,this._byOwner=new Map}set(e,t,i){let o=this._byResource.get(e);o||(o=new Map,this._byResource.set(e,o)),o.set(t,i);let r=this._byOwner.get(t);r||(r=new Cn,this._byOwner.set(t,r)),r.set(e,i)}get(e,t){const i=this._byResource.get(e);return i==null?void 0:i.get(t)}delete(e,t){let i=!1,o=!1;const r=this._byResource.get(e);r&&(i=r.delete(t));const s=this._byOwner.get(t);if(s&&(o=s.delete(e)),i!==o)throw new Error("illegal state");return i&&o}values(e){var t,i,o,r;return typeof e=="string"?(i=(t=this._byOwner.get(e))===null||t===void 0?void 0:t.values())!==null&&i!==void 0?i:Mt.empty():Ke.isUri(e)?(r=(o=this._byResource.get(e))===null||o===void 0?void 0:o.values())!==null&&r!==void 0?r:Mt.empty():Mt.map(Mt.concat(...this._byOwner.values()),s=>s[1])}}class wNe{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Cn,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const i=this._data.get(t);i&&this._substract(i);const o=this._resourceStats(t);this._add(o),this._data.set(t,o)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(CNe.has(e.scheme))return t;for(const{severity:i}of this._service.read({resource:e}))i===ln.Error?t.errors+=1:i===ln.Warning?t.warnings+=1:i===ln.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class Zh{constructor(){this._onMarkerChanged=new fQ({delay:0,merge:Zh._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new yNe,this._stats=new wNe(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(ZX(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{const o=[];for(const r of i){const s=Zh._toMarker(e,t,r);s&&o.push(s)}this._data.set(t,e,o),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:o,severity:r,message:s,source:a,startLineNumber:l,startColumn:c,endLineNumber:d,endColumn:u,relatedInformation:h,tags:g}=i;if(s)return l=l>0?l:1,c=c>0?c:1,d=d>=l?d:l,u=u>0?u:c,{resource:t,owner:e,code:o,severity:r,message:s,source:a,startLineNumber:l,startColumn:c,endLineNumber:d,endColumn:u,relatedInformation:h,tags:g}}changeAll(e,t){const i=[],o=this._data.values(e);if(o)for(const r of o){const s=Mt.first(r);s&&(i.push(s.resource),this._data.delete(s.resource,e))}if(Yo(t)){const r=new Cn;for(const{resource:s,marker:a}of t){const l=Zh._toMarker(e,s,a);if(!l)continue;const c=r.get(s);c?c.push(l):(r.set(s,[l]),i.push(s))}for(const[s,a]of r)this._data.set(s,e,a)}i.length>0&&this._onMarkerChanged.fire(i)}read(e=Object.create(null)){let{owner:t,resource:i,severities:o,take:r}=e;if((!r||r<0)&&(r=-1),t&&i){const s=this._data.get(i,t);if(s){const a=[];for(const l of s)if(Zh._accept(l,o)){const c=a.push(l);if(r>0&&c===r)break}return a}else return[]}else if(!t&&!i){const s=[];for(const a of this._data.values())for(const l of a)if(Zh._accept(l,o)){const c=s.push(l);if(r>0&&c===r)return s}return s}else{const s=this._data.values(i??t),a=[];for(const l of s)for(const c of l)if(Zh._accept(c,o)){const d=a.push(c);if(r>0&&d===r)return a}return a}}static _accept(e,t){return t===void 0||(t&e.severity)===e.severity}static _merge(e){const t=new Cn;for(const i of e)for(const o of i)t.set(o,!0);return Array.from(t.keys())}}class SNe extends z{constructor(){super(...arguments),this._configurationModel=new Oo}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new Oo;const e=nn.as(Rc.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(e),e)}updateConfigurationModel(e,t){const i=this.getConfigurationDefaultOverrides();for(const o of e){const r=i[o],s=t[o];r!==void 0?this._configurationModel.addValue(o,r):s?this._configurationModel.addValue(o,s.default):this._configurationModel.removeValue(o)}}}const Vf=Et("accessibilitySignalService");class rt{static register(e){return new rt(e.fileName)}constructor(e){this.fileName=e}}rt.error=rt.register({fileName:"error.mp3"});rt.warning=rt.register({fileName:"warning.mp3"});rt.foldedArea=rt.register({fileName:"foldedAreas.mp3"});rt.break=rt.register({fileName:"break.mp3"});rt.quickFixes=rt.register({fileName:"quickFixes.mp3"});rt.taskCompleted=rt.register({fileName:"taskCompleted.mp3"});rt.taskFailed=rt.register({fileName:"taskFailed.mp3"});rt.terminalBell=rt.register({fileName:"terminalBell.mp3"});rt.diffLineInserted=rt.register({fileName:"diffLineInserted.mp3"});rt.diffLineDeleted=rt.register({fileName:"diffLineDeleted.mp3"});rt.diffLineModified=rt.register({fileName:"diffLineModified.mp3"});rt.chatRequestSent=rt.register({fileName:"chatRequestSent.mp3"});rt.chatResponsePending=rt.register({fileName:"chatResponsePending.mp3"});rt.chatResponseReceived1=rt.register({fileName:"chatResponseReceived1.mp3"});rt.chatResponseReceived2=rt.register({fileName:"chatResponseReceived2.mp3"});rt.chatResponseReceived3=rt.register({fileName:"chatResponseReceived3.mp3"});rt.chatResponseReceived4=rt.register({fileName:"chatResponseReceived4.mp3"});rt.clear=rt.register({fileName:"clear.mp3"});rt.save=rt.register({fileName:"save.mp3"});rt.format=rt.register({fileName:"format.mp3"});class xNe{constructor(e){this.randomOneOf=e}}class vt{static register(e){const t=new xNe("randomOneOf"in e.sound?e.sound.randomOneOf:[e.sound]),i=new vt(t,e.name,e.legacySoundSettingsKey,e.settingsKey,e.legacyAnnouncementSettingsKey,e.announcementMessage);return vt._signals.add(i),i}constructor(e,t,i,o,r,s){this.sound=e,this.name=t,this.legacySoundSettingsKey=i,this.settingsKey=o,this.legacyAnnouncementSettingsKey=r,this.announcementMessage=s}}vt._signals=new Set;vt.error=vt.register({name:m("accessibilitySignals.lineHasError.name","Error on Line"),sound:rt.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:m("accessibility.signals.lineHasError","Error"),settingsKey:"accessibility.signals.lineHasError"});vt.warning=vt.register({name:m("accessibilitySignals.lineHasWarning.name","Warning on Line"),sound:rt.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:m("accessibility.signals.lineHasWarning","Warning"),settingsKey:"accessibility.signals.lineHasWarning"});vt.foldedArea=vt.register({name:m("accessibilitySignals.lineHasFoldedArea.name","Folded Area on Line"),sound:rt.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:m("accessibility.signals.lineHasFoldedArea","Folded"),settingsKey:"accessibility.signals.lineHasFoldedArea"});vt.break=vt.register({name:m("accessibilitySignals.lineHasBreakpoint.name","Breakpoint on Line"),sound:rt.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:m("accessibility.signals.lineHasBreakpoint","Breakpoint"),settingsKey:"accessibility.signals.lineHasBreakpoint"});vt.inlineSuggestion=vt.register({name:m("accessibilitySignals.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:rt.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"});vt.terminalQuickFix=vt.register({name:m("accessibilitySignals.terminalQuickFix.name","Terminal Quick Fix"),sound:rt.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:m("accessibility.signals.terminalQuickFix","Quick Fix"),settingsKey:"accessibility.signals.terminalQuickFix"});vt.onDebugBreak=vt.register({name:m("accessibilitySignals.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:rt.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:m("accessibility.signals.onDebugBreak","Breakpoint"),settingsKey:"accessibility.signals.onDebugBreak"});vt.noInlayHints=vt.register({name:m("accessibilitySignals.noInlayHints","No Inlay Hints on Line"),sound:rt.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:m("accessibility.signals.noInlayHints","No Inlay Hints"),settingsKey:"accessibility.signals.noInlayHints"});vt.taskCompleted=vt.register({name:m("accessibilitySignals.taskCompleted","Task Completed"),sound:rt.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:m("accessibility.signals.taskCompleted","Task Completed"),settingsKey:"accessibility.signals.taskCompleted"});vt.taskFailed=vt.register({name:m("accessibilitySignals.taskFailed","Task Failed"),sound:rt.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:m("accessibility.signals.taskFailed","Task Failed"),settingsKey:"accessibility.signals.taskFailed"});vt.terminalCommandFailed=vt.register({name:m("accessibilitySignals.terminalCommandFailed","Terminal Command Failed"),sound:rt.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:m("accessibility.signals.terminalCommandFailed","Command Failed"),settingsKey:"accessibility.signals.terminalCommandFailed"});vt.terminalBell=vt.register({name:m("accessibilitySignals.terminalBell","Terminal Bell"),sound:rt.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:m("accessibility.signals.terminalBell","Terminal Bell"),settingsKey:"accessibility.signals.terminalBell"});vt.notebookCellCompleted=vt.register({name:m("accessibilitySignals.notebookCellCompleted","Notebook Cell Completed"),sound:rt.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:m("accessibility.signals.notebookCellCompleted","Notebook Cell Completed"),settingsKey:"accessibility.signals.notebookCellCompleted"});vt.notebookCellFailed=vt.register({name:m("accessibilitySignals.notebookCellFailed","Notebook Cell Failed"),sound:rt.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:m("accessibility.signals.notebookCellFailed","Notebook Cell Failed"),settingsKey:"accessibility.signals.notebookCellFailed"});vt.diffLineInserted=vt.register({name:m("accessibilitySignals.diffLineInserted","Diff Line Inserted"),sound:rt.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"});vt.diffLineDeleted=vt.register({name:m("accessibilitySignals.diffLineDeleted","Diff Line Deleted"),sound:rt.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"});vt.diffLineModified=vt.register({name:m("accessibilitySignals.diffLineModified","Diff Line Modified"),sound:rt.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"});vt.chatRequestSent=vt.register({name:m("accessibilitySignals.chatRequestSent","Chat Request Sent"),sound:rt.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:m("accessibility.signals.chatRequestSent","Chat Request Sent"),settingsKey:"accessibility.signals.chatRequestSent"});vt.chatResponseReceived=vt.register({name:m("accessibilitySignals.chatResponseReceived","Chat Response Received"),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[rt.chatResponseReceived1,rt.chatResponseReceived2,rt.chatResponseReceived3,rt.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"});vt.chatResponsePending=vt.register({name:m("accessibilitySignals.chatResponsePending","Chat Response Pending"),sound:rt.chatResponsePending,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.chatResponsePending",announcementMessage:m("accessibility.signals.chatResponsePending","Chat Response Pending"),settingsKey:"accessibility.signals.chatResponsePending"});vt.clear=vt.register({name:m("accessibilitySignals.clear","Clear"),sound:rt.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:m("accessibility.signals.clear","Clear"),settingsKey:"accessibility.signals.clear"});vt.save=vt.register({name:m("accessibilitySignals.save","Save"),sound:rt.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:m("accessibility.signals.save","Save"),settingsKey:"accessibility.signals.save"});vt.format=vt.register({name:m("accessibilitySignals.format","Format"),sound:rt.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:m("accessibility.signals.format","Format"),settingsKey:"accessibility.signals.format"});class kNe extends z{constructor(e,t=[]){super(),this.logger=new Qbe([e,...t]),this._register(e.onDidChangeLogLevel(i=>this.setLevel(i)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(e){this.logger.setLevel(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}warn(e,...t){this.logger.warn(e,...t)}error(e,...t){this.logger.error(e,...t)}}const Eie=[];function jS(n){Eie.push(n)}function LNe(){return Eie.slice(0)}var Hf=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Eo=function(n,e){return function(t,i){e(t,i,n)}};class DNe{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new B}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let K3=class{constructor(e){this.modelService=e}createModelReference(e){const t=this.modelService.getModel(e);return t?Promise.resolve(new ame(new DNe(t))):Promise.reject(new Error("Model not found"))}};K3=Hf([Eo(0,Yi)],K3);class qI{show(){return qI.NULL_PROGRESS_RUNNER}async showWhile(e,t){await e}}qI.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class ENe{withProgress(e,t,i){return t({report:()=>{}})}}class TNe{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class INe{async confirm(e){return{confirmed:this.doConfirm(e.message,e.detail),checkboxChecked:!1}}doConfirm(e,t){let i=e;return t&&(i=i+`

`+t),gi.confirm(i)}async prompt(e){var t,i;let o;if(this.doConfirm(e.message,e.detail)){const s=[...(t=e.buttons)!==null&&t!==void 0?t:[]];e.cancelButton&&typeof e.cancelButton!="string"&&typeof e.cancelButton!="boolean"&&s.push(e.cancelButton),o=await((i=s[0])===null||i===void 0?void 0:i.run({checkboxChecked:!1}))}return{result:o}}async error(e,t){await this.prompt({type:_n.Error,message:e,detail:t})}}class Sw{info(e){return this.notify({severity:_n.Info,message:e})}warn(e){return this.notify({severity:_n.Warning,message:e})}error(e){return this.notify({severity:_n.Error,message:e})}notify(e){switch(e.severity){case _n.Error:console.error(e.message);break;case _n.Warning:console.warn(e.message);break;default:console.log(e.message);break}return Sw.NO_OP}prompt(e,t,i,o){return Sw.NO_OP}status(e,t){return z.None}}Sw.NO_OP=new yLe;let q3=class{constructor(e){this._onWillExecuteCommand=new B,this._onDidExecuteCommand=new B,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const i=Pt.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const o=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(o)}catch(o){return Promise.reject(o)}}};q3=Hf([Eo(0,Ge)],q3);let G_=class extends L2e{constructor(e,t,i,o,r,s){super(e,t,i,o,r),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const a=g=>{const f=new oe;f.add(j(g,ge.KEY_DOWN,p=>{const b=new Ni(p);this._dispatch(b,b.target)&&(b.preventDefault(),b.stopPropagation())})),f.add(j(g,ge.KEY_UP,p=>{const b=new Ni(p);this._singleModifierDispatch(b,b.target)&&b.preventDefault()})),this._domNodeListeners.push(new NNe(g,f))},l=g=>{for(let f=0;f<this._domNodeListeners.length;f++){const p=this._domNodeListeners[f];p.domNode===g&&(this._domNodeListeners.splice(f,1),p.dispose())}},c=g=>{g.getOption(61)||a(g.getContainerDomNode())},d=g=>{g.getOption(61)||l(g.getContainerDomNode())};this._register(s.onCodeEditorAdd(c)),this._register(s.onCodeEditorRemove(d)),s.listCodeEditors().forEach(c);const u=g=>{a(g.getContainerDomNode())},h=g=>{l(g.getContainerDomNode())};this._register(s.onDiffEditorAdd(u)),this._register(s.onDiffEditorRemove(h)),s.listDiffEditors().forEach(u)}addDynamicKeybinding(e,t,i,o){return vl(Pt.registerCommand(e,i),this.addDynamicKeybindings([{keybinding:t,command:e,when:o}]))}addDynamicKeybindings(e){const t=e.map(i=>{var o;return{keybinding:H5(i.keybinding,Cs),command:(o=i.command)!==null&&o!==void 0?o:null,commandArgs:i.commandArgs,when:i.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(t),this.updateResolver(),je(()=>{for(let i=0;i<this._dynamicKeybindings.length;i++)if(this._dynamicKeybindings[i]===t[0]){this._dynamicKeybindings.splice(i,t.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(ls.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new VC(e,t,i=>this._log(i))}return this._cachedResolver}_documentHasFocus(){return gi.document.hasFocus()}_toNormalizedKeybindingItems(e,t){const i=[];let o=0;for(const r of e){const s=r.when||void 0,a=r.keybinding;if(!a)i[o++]=new vj(void 0,r.command,r.commandArgs,s,t,null,!1);else{const l=cw.resolveKeybinding(a,Cs);for(const c of l)i[o++]=new vj(c,r.command,r.commandArgs,s,t,null,!1)}}return i}resolveKeyboardEvent(e){const t=new hh(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new cw([t],Cs)}};G_=Hf([Eo(0,Xe),Eo(1,tn),Eo(2,fr),Eo(3,Nn),Eo(4,zr),Eo(5,qt)],G_);class NNe extends z{constructor(e,t){super(),this.domNode=e,this._register(t)}}function tK(n){return n&&typeof n=="object"&&(!n.overrideIdentifier||typeof n.overrideIdentifier=="string")&&(!n.resource||n.resource instanceof Ke)}class Tie{constructor(){this._onDidChangeConfiguration=new B,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const e=new SNe;this._configuration=new TI(e.reload(),new Oo,new Oo,new Oo),e.dispose()}getValue(e,t){const i=typeof e=="string"?e:void 0,o=tK(e)?e:tK(t)?t:{};return this._configuration.getValue(i,o,void 0)}updateValues(e){const t={data:this._configuration.toData()},i=[];for(const o of e){const[r,s]=o;this.getValue(r)!==s&&(this._configuration.updateValue(r,s),i.push(r))}if(i.length>0){const o=new w2e({keys:i,overrides:[]},t,this._configuration);o.source=8,this._onDidChangeConfiguration.fire(o)}return Promise.resolve()}updateValue(e,t,i,o){return this.updateValues([[e,t]])}inspect(e,t={}){return this._configuration.inspect(e,t,void 0)}}let G3=class{constructor(e,t,i){this.configurationService=e,this.modelService=t,this.languageService=i,this._onDidChangeConfiguration=new B,this.configurationService.onDidChangeConfiguration(o=>{this._onDidChangeConfiguration.fire({affectedKeys:o.affectedKeys,affectsConfiguration:(r,s)=>o.affectsConfiguration(s)})})}getValue(e,t,i){const o=W.isIPosition(t)?t:null,r=o?typeof i=="string"?i:void 0:typeof t=="string"?t:void 0,s=e?this.getLanguage(e,o):void 0;return typeof r>"u"?this.configurationService.getValue({resource:e,overrideIdentifier:s}):this.configurationService.getValue(r,{resource:e,overrideIdentifier:s})}getLanguage(e,t){const i=this.modelService.getModel(e);return i?t?i.getLanguageIdAtPosition(t.lineNumber,t.column):i.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(e)}};G3=Hf([Eo(0,yt),Eo(1,Yi),Eo(2,Bi)],G3);let Z3=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&typeof i=="string"&&i!=="auto"?i:Br||Rt?`
`:`\r
`}};Z3=Hf([Eo(0,yt)],Z3);class RNe{publicLog2(){}}class xw{constructor(){const e=Ke.from({scheme:xw.SCHEME,authority:"model",path:"/"});this.workspace={id:Nte,folders:[new H2e({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(e){return e&&e.scheme===xw.SCHEME?this.workspace.folders[0]:null}}xw.SCHEME="inmemory";function cE(n,e,t){if(!e||!(n instanceof Tie))return;const i=[];Object.keys(e).forEach(o=>{v2e(o)&&i.push([`editor.${o}`,e[o]]),t&&b2e(o)&&i.push([`diffEditor.${o}`,e[o]])}),i.length>0&&n.updateValues(i)}let Y3=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}async apply(e,t){const i=Array.isArray(e)?e:v7.convert(e),o=new Map;for(const a of i){if(!(a instanceof Wg))throw new Error("bad edit - only text edits are supported");const l=this._modelService.getModel(a.resource);if(!l)throw new Error("bad edit - model not found");if(typeof a.versionId=="number"&&l.getVersionId()!==a.versionId)throw new Error("bad state - model changed in the meantime");let c=o.get(l);c||(c=[],o.set(l,c)),c.push(zi.replaceMove(D.lift(a.textEdit.range),a.textEdit.text))}let r=0,s=0;for(const[a,l]of o)a.pushStackElement(),a.pushEditOperations([],l,()=>[]),a.pushStackElement(),s+=1,r+=l.length;return{ariaSummary:um(u3.bulkEditServiceSummary,r,s),isApplied:r>0}}};Y3=Hf([Eo(0,Yi)],Y3);class MNe{getUriLabel(e,t){return e.scheme==="file"?e.fsPath:e.path}getUriBasenameLabel(e){return Ba(e)}}let X3=class extends h3{constructor(e,t){super(e),this._codeEditorService=t}showContextView(e,t,i){if(!t){const o=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();o&&(t=o.getContainerDomNode())}return super.showContextView(e,t,i)}};X3=Hf([Eo(0,Xm),Eo(1,qt)],X3);class ANe{constructor(){this._neverEmitter=new B,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class PNe extends hw{constructor(){super()}}class ONe extends kNe{constructor(){super(new Xbe)}}let Q3=class extends _3{constructor(e,t,i,o,r,s){super(e,t,i,o,r,s),this.configure({blockMouse:!1})}};Q3=Hf([Eo(0,fr),Eo(1,Nn),Eo(2,Yd),Eo(3,di),Eo(4,$a),Eo(5,Xe)],Q3);class FNe{async playSignal(e,t){}}Ot(yt,Tie,0);Ot(m6,G3,0);Ot(BJ,Z3,0);Ot(Cm,xw,0);Ot(z_,MNe,0);Ot(fr,RNe,0);Ot(OS,INe,0);Ot(t7,TNe,0);Ot(Nn,Sw,0);Ot(Xd,Zh,0);Ot(Bi,PNe,0);Ot(ma,rNe,0);Ot(zr,ONe,0);Ot(Yi,Z2,0);Ot(w6,x3,0);Ot(Xe,j3,0);Ot(Ite,ENe,0);Ot(Ff,qI,0);Ot(El,WEe,0);Ot(Tl,l4,0);Ot(BS,Y3,0);Ot(Rte,ANe,0);Ot(us,K3,0);Ot(Dl,V3,0);Ot(Ga,sIe,0);Ot(tn,q3,0);Ot(di,G_,0);Ot(Ac,B3,0);Ot(Yd,X3,0);Ot(gs,S3,0);Ot(kh,aE,0);Ot(Ps,Q3,0);Ot($a,H3,0);Ot(Vf,FNe,0);var Ye;(function(n){const e=new PS;for(const[l,c]of $z())e.set(l,c);const t=new lE(e,!0);e.set(Ge,t);function i(l){o||s({});const c=e.get(l);if(!c)throw new Error("Missing service "+l);return c instanceof ed?t.invokeFunction(d=>d.get(l)):c}n.get=i;let o=!1;const r=new B;function s(l){if(o)return t;o=!0;for(const[d,u]of $z())e.get(d)||e.set(d,u);for(const d in l)if(l.hasOwnProperty(d)){const u=Et(d);e.get(u)instanceof ed&&e.set(u,l[d])}const c=LNe();for(const d of c)try{t.createInstance(d)}catch(u){st(u)}return r.fire(),t}n.initialize=s;function a(l){if(o)return l();const c=new oe,d=c.add(r.event(()=>{d.dispose(),c.add(l())}));return c}n.withServices=a})(Ye||(Ye={}));class Lc{constructor(e,t,i){this.owner=e,this.debugNameSource=t,this.referenceFn=i}getDebugName(e){return BNe(e,this)}}const iK=new Map,J3=new WeakMap;function BNe(n,e){var t;const i=J3.get(n);if(i)return i;const o=WNe(n,e);if(o){let r=(t=iK.get(o))!==null&&t!==void 0?t:0;r++,iK.set(o,r);const s=r===1?o:`${o}#${r}`;return J3.set(n,s),s}}function WNe(n,e){const t=J3.get(n);if(t)return t;const i=e.owner?HNe(e.owner)+".":"";let o;const r=e.debugNameSource;if(r!==void 0)if(typeof r=="function"){if(o=r(),o!==void 0)return i+o}else return i+r;const s=e.referenceFn;if(s!==void 0&&(o=GI(s),o!==void 0))return i+o;if(e.owner!==void 0){const a=VNe(e.owner,n);if(a!==void 0)return i+a}}function VNe(n,e){for(const t in n)if(n[t]===e)return t}const nK=new Map,oK=new WeakMap;function HNe(n){var e;const t=oK.get(n);if(t)return t;const i=zNe(n);let o=(e=nK.get(i))!==null&&e!==void 0?e:0;o++,nK.set(i,o);const r=o===1?i:`${i}#${o}`;return oK.set(n,r),r}function zNe(n){const e=n.constructor;return e?e.name:"Object"}function GI(n){const e=n.toString(),i=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e),o=i?i[1]:void 0;return o==null?void 0:o.trim()}let UNe;function Td(){return UNe}let Iie;function $Ne(n){Iie=n}let Nie;function jNe(n){Nie=n}class Rie{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){const i=t===void 0?void 0:e,o=t===void 0?e:t;return Nie({owner:i,debugName:()=>{const r=GI(o);if(r!==void 0)return r;const a=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(o.toString());if(a)return`${this.debugName}.${a[2]}`;if(!i)return`${this.debugName} (mapped)`}},r=>o(this.read(r),r))}recomputeInitiallyAndOnChange(e,t){return e.add(Iie(this,t)),this}}class KS extends Rie{constructor(){super(...arguments),this.observers=new Set}addObserver(e){const t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function Ti(n,e){const t=new ZI(n,e);try{n(t)}finally{t.finish()}}let yk;function KL(n){if(yk)n(yk);else{const e=new ZI(n,void 0);yk=e;try{n(e)}finally{e.finish(),yk=void 0}}}async function KNe(n,e){const t=new ZI(n,e);try{await n(t)}finally{t.finish()}}function kw(n,e,t){n?e(n):Ti(e,t)}class ZI{constructor(e,t){var i;this._fn=e,this._getDebugName=t,this.updatingObservers=[],(i=Td())===null||i===void 0||i.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():GI(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){var e;const t=this.updatingObservers;for(let i=0;i<t.length;i++){const{observer:o,observable:r}=t[i];o.endUpdate(r)}this.updatingObservers=null,(e=Td())===null||e===void 0||e.handleEndTransaction()}}function $t(n,e){return typeof n=="string"?new eF(void 0,n,e):new eF(n,void 0,e)}class eF extends KS{get debugName(){var e;return(e=new Lc(this._owner,this._debugName,void 0).getDebugName(this))!==null&&e!==void 0?e:"ObservableValue"}constructor(e,t,i){super(),this._owner=e,this._debugName=t,this._value=i}get(){return this._value}set(e,t,i){var o;if(this._value===e)return;let r;t||(t=r=new ZI(()=>{},()=>`Setting ${this.debugName}`));try{const s=this._value;this._setValue(e),(o=Td())===null||o===void 0||o.handleObservableChanged(this,{oldValue:s,newValue:e,change:i,didChange:!0,hadValue:!0});for(const a of this.observers)t.updateObserver(a,this),a.handleChange(this,i)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function Lw(n,e){return typeof n=="string"?new rK(void 0,n,e):new rK(n,void 0,e)}class rK extends eF{_setValue(e){this._value!==e&&(this._value&&this._value.dispose(),this._value=e)}dispose(){var e;(e=this._value)===null||e===void 0||e.dispose()}}const Z_=(n,e)=>n===e;function nt(n,e){return e!==void 0?new Y_(new Lc(n,void 0,e),e,void 0,void 0,void 0,Z_):new Y_(new Lc(void 0,void 0,n),n,void 0,void 0,void 0,Z_)}function i_(n,e){var t;return new Y_(new Lc(n.owner,n.debugName,n.debugReferenceFn),e,void 0,void 0,n.onLastObserverRemoved,(t=n.equalityComparer)!==null&&t!==void 0?t:Z_)}jNe(i_);function qNe(n,e){var t;return new Y_(new Lc(n.owner,n.debugName,void 0),e,n.createEmptyChangeSummary,n.handleChange,void 0,(t=n.equalityComparer)!==null&&t!==void 0?t:Z_)}function E0(n,e){let t,i;e===void 0?(t=n,i=void 0):(i=n,t=e);const o=new oe;return new Y_(new Lc(i,void 0,t),r=>(o.clear(),t(r,o)),void 0,void 0,()=>o.dispose(),Z_)}function $h(n,e){let t,i;e===void 0?(t=n,i=void 0):(i=n,t=e);const o=new oe;return new Y_(new Lc(i,void 0,t),r=>{o.clear();const s=t(r);return s&&o.add(s),s},void 0,void 0,()=>o.dispose(),Z_)}class Y_ extends KS{get debugName(){var e;return(e=this._debugNameData.getDebugName(this))!==null&&e!==void 0?e:"(anonymous)"}constructor(e,t,i,o,r=void 0,s){var a,l;super(),this._debugNameData=e,this._computeFn=t,this.createChangeSummary=i,this._handleChange=o,this._handleLastObserverRemoved=r,this._equalityComparator=s,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(a=this.createChangeSummary)===null||a===void 0?void 0:a.call(this),(l=Td())===null||l===void 0||l.handleDerivedCreated(this)}onLastObserverRemoved(){var e;this.state=0,this.value=void 0;for(const t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),(e=this._handleLastObserverRemoved)===null||e===void 0||e.call(this)}get(){var e;if(this.observers.size===0){const t=this._computeFn(this,(e=this.createChangeSummary)===null||e===void 0?void 0:e.call(this));return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(const t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var e,t;if(this.state===3)return;const i=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=i;const o=this.state!==0,r=this.value;this.state=3;const s=this.changeSummary;this.changeSummary=(e=this.createChangeSummary)===null||e===void 0?void 0:e.call(this);try{this.value=this._computeFn(this,s)}finally{for(const l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}const a=o&&!this._equalityComparator(r,this.value);if((t=Td())===null||t===void 0||t.handleDerivedRecomputed(this,{oldValue:r,newValue:this.value,change:void 0,didChange:a,hadValue:o}),a)for(const l of this.observers)l.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(e){this.updateCount++;const t=this.updateCount===1;if(this.state===3&&(this.state=1,!t))for(const i of this.observers)i.handlePossibleChange(this);if(t)for(const i of this.observers)i.beginUpdate(this)}endUpdate(e){if(this.updateCount--,this.updateCount===0){const t=[...this.observers];for(const i of t)i.endUpdate(this)}L_(()=>this.updateCount>=0)}handlePossibleChange(e){if(this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){this.state=1;for(const t of this.observers)t.handlePossibleChange(this)}}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){const i=this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:r=>r===e},this.changeSummary):!0,o=this.state===3;if(i&&(this.state===1||o)&&(this.state=2,o))for(const r of this.observers)r.handlePossibleChange(this)}}readObservable(e){e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}addObserver(e){const t=!this.observers.has(e)&&this.updateCount>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this.updateCount>0;super.removeObserver(e),t&&e.endUpdate(this)}}function Lt(n){return new XI(new Lc(void 0,void 0,n),n,void 0,void 0)}function YI(n,e){var t;return new XI(new Lc(n.owner,n.debugName,(t=n.debugReferenceFn)!==null&&t!==void 0?t:e),e,void 0,void 0)}function qS(n,e){var t;return new XI(new Lc(n.owner,n.debugName,(t=n.debugReferenceFn)!==null&&t!==void 0?t:e),e,n.createEmptyChangeSummary,n.handleChange)}function Pc(n){const e=new oe,t=YI({owner:void 0,debugName:void 0,debugReferenceFn:n},i=>{e.clear(),n(i,e)});return je(()=>{t.dispose(),e.dispose()})}class XI{get debugName(){var e;return(e=this._debugNameData.getDebugName(this))!==null&&e!==void 0?e:"(anonymous)"}constructor(e,t,i,o){var r,s;this._debugNameData=e,this._runFn=t,this.createChangeSummary=i,this._handleChange=o,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(r=this.createChangeSummary)===null||r===void 0?void 0:r.call(this),(s=Td())===null||s===void 0||s.handleAutorunCreated(this),this._runIfNeeded()}dispose(){this.disposed=!0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear()}_runIfNeeded(){var e,t,i;if(this.state===3)return;const o=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=o,this.state=3;const r=this.disposed;try{if(!r){(e=Td())===null||e===void 0||e.handleAutorunTriggered(this);const s=this.changeSummary;this.changeSummary=(t=this.createChangeSummary)===null||t===void 0?void 0:t.call(this),this._runFn(this,s)}}finally{r||(i=Td())===null||i===void 0||i.handleAutorunFinished(this);for(const s of this.dependenciesToBeRemoved)s.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,L_(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:o=>o===e},this.changeSummary))&&(this.state=2)}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}}(function(n){n.Observer=XI})(Lt||(Lt={}));function Uu(n){return new GNe(n)}class GNe extends Rie{constructor(e){super(),this.value=e}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}toString(){return`Const: ${this.value}`}}function Pi(n,e){return new Bp(n,e)}class Bp extends KS{constructor(e,t){super(),this.event=e,this._getValue=t,this.hasValue=!1,this.handleEvent=i=>{var o;const r=this._getValue(i),s=this.value,a=!this.hasValue||s!==r;let l=!1;a&&(this.value=r,this.hasValue&&(l=!0,kw(Bp.globalTransaction,c=>{var d;(d=Td())===null||d===void 0||d.handleFromEventObservableTriggered(this,{oldValue:s,newValue:r,change:void 0,didChange:a,hadValue:this.hasValue});for(const u of this.observers)c.updateObserver(u,this),u.handleChange(this,void 0)},()=>{const c=this.getDebugName();return"Event fired"+(c?`: ${c}`:"")})),this.hasValue=!0),l||(o=Td())===null||o===void 0||o.handleFromEventObservableTriggered(this,{oldValue:s,newValue:r,change:void 0,didChange:a,hadValue:this.hasValue})}}getDebugName(){return GI(this._getValue)}get debugName(){const e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}(function(n){n.Observer=Bp;function e(t,i){let o=!1;Bp.globalTransaction===void 0&&(Bp.globalTransaction=t,o=!0);try{i()}finally{o&&(Bp.globalTransaction=void 0)}}n.batchEventsGlobally=e})(Pi||(Pi={}));function Er(n,e){return new ZNe(n,e)}class ZNe extends KS{constructor(e,t){super(),this.debugName=e,this.event=t,this.handleEvent=()=>{Ti(i=>{for(const o of this.observers)i.updateObserver(o,this),o.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function $7(n){return typeof n=="string"?new sK(n):new sK(void 0,n)}class sK extends KS{get debugName(){var e;return(e=new Lc(this._owner,this._debugName,void 0).getDebugName(this))!==null&&e!==void 0?e:"Observable Signal"}constructor(e,t){super(),this._debugName=e,this._owner=t}trigger(e,t){if(!e){Ti(i=>{this.trigger(i,t)},()=>`Trigger signal ${this.debugName}`);return}for(const i of this.observers)e.updateObserver(i,this),i.handleChange(this,t)}get(){}}function GS(n,e){const t=new YNe(!0,e);return n.addObserver(t),e?e(n.get()):n.reportChanges(),je(()=>{n.removeObserver(t)})}$Ne(GS);class YNe{constructor(e,t){this._forceRecompute=e,this._handleValue=t,this._counter=0}beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}}function XNe(n){let e;return nt(i=>(e=n(i,e),e))}function QNe(n,e,t,i){let o=new aK(t,i);return i_({debugReferenceFn:t,owner:n,onLastObserverRemoved:()=>{o.dispose(),o=new aK(t)}},s=>(o.setItems(e.read(s)),o.getItems()))}class aK{constructor(e,t){this._map=e,this._keySelector=t,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach(e=>e.store.dispose()),this._cache.clear()}setItems(e){const t=[],i=new Set(this._cache.keys());for(const o of e){const r=this._keySelector?this._keySelector(o):o;let s=this._cache.get(r);if(s)i.delete(r);else{const a=new oe;s={out:this._map(o,a),store:a},this._cache.set(r,s)}t.push(s.out)}for(const o of i)this._cache.get(o).store.dispose(),this._cache.delete(o);this._items=t}getItems(){return this._items}}function JNe(n,e,t){return new Promise((i,o)=>{let r=!0,s=!1;const a=n.map(c=>({isFinished:e(c),error:t?t(c):!1,state:c})),l=Lt(c=>{const{isFinished:d,error:u,state:h}=a.read(c);(d||u)&&(r?s=!0:l.dispose(),u?o(u===!0?h:u):i(h))});r=!1,s&&l.dispose()})}class Dc{static capture(e){if(e.getScrollTop()===0||e.hasPendingScrollAnimation())return new Dc(e.getScrollTop(),e.getContentHeight(),null,0,null);let t=null,i=0;const o=e.getVisibleRanges();if(o.length>0){t=o[0].getStartPosition();const r=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-r}return new Dc(e.getScrollTop(),e.getContentHeight(),t,i,e.getPosition())}constructor(e,t,i,o,r){this._initialScrollTop=e,this._initialContentHeight=t,this._visiblePosition=i,this._visiblePositionScrollDelta=o,this._cursorPosition=r}restore(e){if(!(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())&&this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){if(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())return;const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}function j7(){return KO&&!!KO.VSCODE_DEV}function Mie(n){if(j7()){const e=eRe();return e.add(n),{dispose(){e.delete(n)}}}else return{dispose(){}}}function eRe(){wk||(wk=new Set);const n=globalThis;return n.$hotReload_applyNewExports||(n.$hotReload_applyNewExports=e=>{const t={config:{mode:void 0},...e};for(const i of wk){const o=i(t);if(o)return o}}),wk}let wk;j7()&&Mie(({oldExports:n,newSrc:e,config:t})=>{if(t.mode==="patch-prototype")return i=>{var o,r;for(const s in i){const a=i[s];if(console.log(`[hot-reload] Patching prototype methods of '${s}'`,{exportedItem:a}),typeof a=="function"&&a.prototype){const l=n[s];if(l){for(const c of Object.getOwnPropertyNames(a.prototype)){const d=Object.getOwnPropertyDescriptor(a.prototype,c),u=Object.getOwnPropertyDescriptor(l.prototype,c);((o=d==null?void 0:d.value)===null||o===void 0?void 0:o.toString())!==((r=u==null?void 0:u.value)===null||r===void 0?void 0:r.toString())&&console.log(`[hot-reload] Patching prototype method '${s}.${c}'`),Object.defineProperty(l.prototype,c,d)}i[s]=l}}}return!0}});function tRe(n,e,t,i){if(n.length===0)return e;if(e.length===0)return n;const o=[];let r=0,s=0;for(;r<n.length&&s<e.length;){const a=n[r],l=e[s],c=t(a),d=t(l);c<d?(o.push(a),r++):c>d?(o.push(l),s++):(o.push(i(a,l)),r++,s++)}for(;r<n.length;)o.push(n[r]),r++;for(;s<e.length;)o.push(e[s]),s++;return o}function dE(n,e){const t=new oe,i=n.createDecorationsCollection();return t.add(YI({debugName:()=>`Apply decorations from ${e.debugName}`},o=>{const r=e.read(o);i.set(r)})),t.add({dispose:()=>{i.clear()}}),t}function Sk(n,e){return n.appendChild(e),je(()=>{n.removeChild(e)})}class Aie extends z{get width(){return this._width}get height(){return this._height}constructor(e,t){super(),this.elementSizeObserver=this._register(new jJ(e,t)),this._width=$t(this,this.elementSizeObserver.getWidth()),this._height=$t(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(i=>Ti(o=>{this._width.set(this.elementSizeObserver.getWidth(),o),this._height.set(this.elementSizeObserver.getHeight(),o)})))}observe(e){this.elementSizeObserver.observe(e)}setAutomaticLayout(e){e?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}function lK(n,e,t){let i=e.get(),o=i,r=i;const s=$t("animatedValue",i);let a=-1;const l=300;let c;t.add(qS({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(u,h)=>(u.didChange(e)&&(h.animate=h.animate||u.change),!0)},(u,h)=>{c!==void 0&&(n.cancelAnimationFrame(c),c=void 0),o=r,i=e.read(u),a=Date.now()-(h.animate?0:l),d()}));function d(){const u=Date.now()-a;r=Math.floor(iRe(u,o,i-o,l)),u<l?c=n.requestAnimationFrame(d):r=i,s.set(r,void 0)}return s}function iRe(n,e,t,i){return n===i?e+t:t*(-Math.pow(2,-10*n/i)+1)+e}class Pie extends z{constructor(e,t,i){super(),this._register(new QI(e,i)),this._register(zg(i,{height:t.actualHeight,top:t.actualTop}))}}class uE{get afterLineNumber(){return this._afterLineNumber.get()}constructor(e,t){this._afterLineNumber=e,this.heightInPx=t,this.domNode=document.createElement("div"),this._actualTop=$t(this,void 0),this._actualHeight=$t(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=i=>{this._actualTop.set(i,void 0)},this.onComputedHeight=i=>{this._actualHeight.set(i,void 0)}}}class QI{constructor(e,t){this._editor=e,this._domElement=t,this._overlayWidgetId=`managedOverlayWidget-${QI._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}QI._counter=0;function zg(n,e){return Lt(t=>{for(let[i,o]of Object.entries(e))o&&typeof o=="object"&&"read"in o&&(o=o.read(t)),typeof o=="number"&&(o=`${o}px`),i=i.replace(/[A-Z]/g,r=>"-"+r.toLowerCase()),n.style[i]=o})}function id(n,e){return nRe([n],e),n}function nRe(n,e){j7()&&Er("reload",i=>Mie(({oldExports:o})=>{if([...Object.values(o)].some(r=>n.includes(r)))return r=>(i(void 0),!0)})).read(e)}function hE(n,e,t,i){const o=new oe,r=[];return o.add(Pc((s,a)=>{const l=e.read(s),c=new Map,d=new Map;t&&t(!0),n.changeViewZones(u=>{for(const h of r)u.removeZone(h),i==null||i.delete(h);r.length=0;for(const h of l){const g=u.addZone(h);h.setZoneId&&h.setZoneId(g),r.push(g),i==null||i.add(g),c.set(h,g)}}),t&&t(!1),a.add(qS({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(u,h){const g=d.get(u.changedObservable);return g!==void 0&&h.zoneIds.push(g),!0}},(u,h)=>{for(const g of l)g.onChange&&(d.set(g.onChange,c.get(g)),g.onChange.read(u));t&&t(!0),n.changeViewZones(g=>{for(const f of h.zoneIds)g.layoutZone(f)}),t&&t(!1)}))})),o.add({dispose(){t&&t(!0),n.changeViewZones(s=>{for(const a of r)s.removeZone(a)}),i==null||i.clear(),t&&t(!1)}}),o}class oRe extends gn{dispose(){super.dispose(!0)}}function cK(n,e){const t=Fy(e,o=>o.original.startLineNumber<=n.lineNumber);if(!t)return D.fromPositions(n);if(t.original.endLineNumberExclusive<=n.lineNumber){const o=n.lineNumber-t.original.endLineNumberExclusive+t.modified.endLineNumberExclusive;return D.fromPositions(new W(o,n.column))}if(!t.innerChanges)return D.fromPositions(new W(t.modified.startLineNumber,1));const i=Fy(t.innerChanges,o=>o.originalRange.getStartPosition().isBeforeOrEqual(n));if(!i){const o=n.lineNumber-t.original.startLineNumber+t.modified.startLineNumber;return D.fromPositions(new W(o,n.column))}if(i.originalRange.containsPosition(n))return i.modifiedRange;{const o=rRe(i.originalRange.getEndPosition(),n);return D.fromPositions(sRe(i.modifiedRange.getEndPosition(),o))}}function rRe(n,e){return n.lineNumber===e.lineNumber?new tw(0,e.column-n.column):new tw(e.lineNumber-n.lineNumber,e.column-1)}function sRe(n,e){return e.lineCount===0?new W(n.lineNumber,n.column+e.columnCount):new W(n.lineNumber+e.lineCount,e.columnCount+1)}function xk(n,e,t){const i=n.bindTo(e);return YI({debugName:()=>`Set Context Key "${n.key}"`},o=>{i.set(t(o))})}function aRe(n,e){let t;return n.filter(i=>{const o=e(i,t);return t=i,o})}var K7=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},q7=function(n,e){return function(t,i){e(t,i,n)}};const lRe=xn("diff-review-insert",pe.add,m("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),cRe=xn("diff-review-remove",pe.remove,m("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),dRe=xn("diff-review-close",pe.close,m("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer."));let vg=class extends z{constructor(e,t,i,o,r,s,a,l,c){super(),this._parentNode=e,this._visible=t,this._setVisible=i,this._canClose=o,this._width=r,this._height=s,this._diffs=a,this._models=l,this._instantiationService=c,this._state=E0(this,(d,u)=>{const h=this._visible.read(d);if(this._parentNode.style.visibility=h?"visible":"hidden",!h)return null;const g=u.add(this._instantiationService.createInstance(tF,this._diffs,this._models,this._setVisible,this._canClose)),f=u.add(this._instantiationService.createInstance(iF,this._parentNode,g,this._width,this._height,this._models));return{model:g,view:f}}).recomputeInitiallyAndOnChange(this._store)}next(){Ti(e=>{const t=this._visible.get();this._setVisible(!0,e),t&&this._state.get().model.nextGroup(e)})}prev(){Ti(e=>{this._setVisible(!0,e),this._state.get().model.previousGroup(e)})}close(){Ti(e=>{this._setVisible(!1,e)})}};vg._ttPolicy=yh("diffReview",{createHTML:n=>n});vg=K7([q7(8,Ge)],vg);let tF=class extends z{constructor(e,t,i,o,r){super(),this._diffs=e,this._models=t,this._setVisible=i,this.canClose=o,this._accessibilitySignalService=r,this._groups=$t(this,[]),this._currentGroupIdx=$t(this,0),this._currentElementIdx=$t(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((s,a)=>this._groups.read(a)[s]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((s,a)=>{var l;return(l=this.currentGroup.read(a))===null||l===void 0?void 0:l.lines[s]}),this._register(Lt(s=>{const a=this._diffs.read(s);if(!a){this._groups.set([],void 0);return}const l=uRe(a,this._models.getOriginalModel().getLineCount(),this._models.getModifiedModel().getLineCount());Ti(c=>{const d=this._models.getModifiedPosition();if(d){const u=l.findIndex(h=>(d==null?void 0:d.lineNumber)<h.range.modified.endLineNumberExclusive);u!==-1&&this._currentGroupIdx.set(u,c)}this._groups.set(l,c)})})),this._register(Lt(s=>{const a=this.currentElement.read(s);(a==null?void 0:a.type)===kr.Deleted?this._accessibilitySignalService.playSignal(vt.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):(a==null?void 0:a.type)===kr.Added&&this._accessibilitySignalService.playSignal(vt.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register(Lt(s=>{var a;const l=this.currentElement.read(s);if(l&&l.type!==kr.Header){const c=(a=l.modifiedLineNumber)!==null&&a!==void 0?a:l.diff.modified.startLineNumber;this._models.modifiedSetSelection(D.fromPositions(new W(c,1)))}}))}_goToGroupDelta(e,t){const i=this.groups.get();!i||i.length<=1||kw(t,o=>{this._currentGroupIdx.set(St.ofLength(i.length).clipCyclic(this._currentGroupIdx.get()+e),o),this._currentElementIdx.set(0,o)})}nextGroup(e){this._goToGroupDelta(1,e)}previousGroup(e){this._goToGroupDelta(-1,e)}_goToLineDelta(e){const t=this.currentGroup.get();!t||t.lines.length<=1||Ti(i=>{this._currentElementIdx.set(St.ofLength(t.lines.length).clip(this._currentElementIdx.get()+e),i)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(e){const t=this.currentGroup.get();if(!t)return;const i=t.lines.indexOf(e);i!==-1&&Ti(o=>{this._currentElementIdx.set(i,o)})}revealCurrentElementInEditor(){if(!this.canClose.get())return;this._setVisible(!1,void 0);const e=this.currentElement.get();e&&(e.type===kr.Deleted?this._models.originalReveal(D.fromPositions(new W(e.originalLineNumber,1))):this._models.modifiedReveal(e.type!==kr.Header?D.fromPositions(new W(e.modifiedLineNumber,1)):void 0))}close(){this.canClose.get()&&(this._setVisible(!1,void 0),this._models.modifiedFocus())}};tF=K7([q7(4,Vf)],tF);const C1=3;function uRe(n,e,t){const i=[];for(const o of D8(n,(r,s)=>s.modified.startLineNumber-r.modified.endLineNumberExclusive<2*C1)){const r=[];r.push(new gRe);const s=new wt(Math.max(1,o[0].original.startLineNumber-C1),Math.min(o[o.length-1].original.endLineNumberExclusive+C1,e+1)),a=new wt(Math.max(1,o[0].modified.startLineNumber-C1),Math.min(o[o.length-1].modified.endLineNumberExclusive+C1,t+1));GX(o,(d,u)=>{const h=new wt(d?d.original.endLineNumberExclusive:s.startLineNumber,u?u.original.startLineNumber:s.endLineNumberExclusive),g=new wt(d?d.modified.endLineNumberExclusive:a.startLineNumber,u?u.modified.startLineNumber:a.endLineNumberExclusive);h.forEach(f=>{r.push(new mRe(f,g.startLineNumber+(f-h.startLineNumber)))}),u&&(u.original.forEach(f=>{r.push(new fRe(u,f))}),u.modified.forEach(f=>{r.push(new pRe(u,f))}))});const l=o[0].modified.join(o[o.length-1].modified),c=o[0].original.join(o[o.length-1].original);i.push(new hRe(new is(l,c),r))}return i}var kr;(function(n){n[n.Header=0]="Header",n[n.Unchanged=1]="Unchanged",n[n.Deleted=2]="Deleted",n[n.Added=3]="Added"})(kr||(kr={}));class hRe{constructor(e,t){this.range=e,this.lines=t}}class gRe{constructor(){this.type=kr.Header}}class fRe{constructor(e,t){this.diff=e,this.originalLineNumber=t,this.type=kr.Deleted,this.modifiedLineNumber=void 0}}class pRe{constructor(e,t){this.diff=e,this.modifiedLineNumber=t,this.type=kr.Added,this.originalLineNumber=void 0}}class mRe{constructor(e,t){this.originalLineNumber=e,this.modifiedLineNumber=t,this.type=kr.Unchanged}}let iF=class extends z{constructor(e,t,i,o,r,s){super(),this._element=e,this._model=t,this._width=i,this._height=o,this._models=r,this._languageService=s,this.domNode=this._element,this.domNode.className="monaco-component diff-review monaco-editor-background";const a=document.createElement("div");a.className="diff-review-actions",this._actionBar=this._register(new Wa(a)),this._register(Lt(l=>{this._actionBar.clear(),this._model.canClose.read(l)&&this._actionBar.push(new Ss("diffreview.close",m("label.close","Close"),"close-diff-review "+Ze.asClassName(dRe),!0,async()=>t.close()),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new IS(this._content,{})),Ho(this.domNode,this._scrollbar.getDomNode(),a),this._register(Lt(l=>{this._height.read(l),this._width.read(l),this._scrollbar.scanDomNode()})),this._register(je(()=>{Ho(this.domNode)})),this._register(zg(this.domNode,{width:this._width,height:this._height})),this._register(zg(this._content,{width:this._width,height:this._height})),this._register(Pc((l,c)=>{this._model.currentGroup.read(l),this._render(c)})),this._register(fn(this.domNode,"keydown",l=>{(l.equals(18)||l.equals(2066)||l.equals(530))&&(l.preventDefault(),this._model.goToNextLine()),(l.equals(16)||l.equals(2064)||l.equals(528))&&(l.preventDefault(),this._model.goToPreviousLine()),(l.equals(9)||l.equals(2057)||l.equals(521)||l.equals(1033))&&(l.preventDefault(),this._model.close()),(l.equals(10)||l.equals(3))&&(l.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(e){const t=this._models.getOriginalOptions(),i=this._models.getModifiedOptions(),o=document.createElement("div");o.className="diff-review-table",o.setAttribute("role","list"),o.setAttribute("aria-label",m("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),zo(o,i.get(50)),Ho(this._content,o);const r=this._models.getOriginalModel(),s=this._models.getModifiedModel();if(!r||!s)return;const a=r.getOptions(),l=s.getOptions(),c=i.get(67),d=this._model.currentGroup.get();for(const u of(d==null?void 0:d.lines)||[]){if(!d)break;let h;if(u.type===kr.Header){const f=document.createElement("div");f.className="diff-review-row",f.setAttribute("role","listitem");const p=d.range,b=this._model.currentGroupIndex.get(),v=this._model.groups.get().length,_=S=>S===0?m("no_lines_changed","no lines changed"):S===1?m("one_line_changed","1 line changed"):m("more_lines_changed","{0} lines changed",S),C=_(p.original.length),y=_(p.modified.length);f.setAttribute("aria-label",m({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",b+1,v,p.original.startLineNumber,C,p.modified.startLineNumber,y));const w=document.createElement("div");w.className="diff-review-cell diff-review-summary",w.appendChild(document.createTextNode(`${b+1}/${v}: @@ -${p.original.startLineNumber},${p.original.length} +${p.modified.startLineNumber},${p.modified.length} @@`)),f.appendChild(w),h=f}else h=this._createRow(u,c,this._width.get(),t,r,a,i,s,l);o.appendChild(h);const g=nt(f=>this._model.currentElement.read(f)===u);e.add(Lt(f=>{const p=g.read(f);h.tabIndex=p?0:-1,p&&h.focus()})),e.add(j(h,"focus",()=>{this._model.goToLine(u)}))}this._scrollbar.scanDomNode()}_createRow(e,t,i,o,r,s,a,l,c){const d=o.get(144),u=d.glyphMarginWidth+d.lineNumbersWidth,h=a.get(144),g=10+h.glyphMarginWidth+h.lineNumbersWidth;let f="diff-review-row",p="";const b="diff-review-spacer";let v=null;switch(e.type){case kr.Added:f="diff-review-row line-insert",p=" char-insert",v=lRe;break;case kr.Deleted:f="diff-review-row line-delete",p=" char-delete",v=cRe;break}const _=document.createElement("div");_.style.minWidth=i+"px",_.className=f,_.setAttribute("role","listitem"),_.ariaLevel="";const C=document.createElement("div");C.className="diff-review-cell",C.style.height=`${t}px`,_.appendChild(C);const y=document.createElement("span");y.style.width=u+"px",y.style.minWidth=u+"px",y.className="diff-review-line-number"+p,e.originalLineNumber!==void 0?y.appendChild(document.createTextNode(String(e.originalLineNumber))):y.innerText="",C.appendChild(y);const w=document.createElement("span");w.style.width=g+"px",w.style.minWidth=g+"px",w.style.paddingRight="10px",w.className="diff-review-line-number"+p,e.modifiedLineNumber!==void 0?w.appendChild(document.createTextNode(String(e.modifiedLineNumber))):w.innerText="",C.appendChild(w);const S=document.createElement("span");if(S.className=b,v){const E=document.createElement("span");E.className=Ze.asClassName(v),E.innerText="",S.appendChild(E)}else S.innerText="";C.appendChild(S);let x;if(e.modifiedLineNumber!==void 0){let E=this._getLineHtml(l,a,c.tabSize,e.modifiedLineNumber,this._languageService.languageIdCodec);vg._ttPolicy&&(E=vg._ttPolicy.createHTML(E)),C.insertAdjacentHTML("beforeend",E),x=l.getLineContent(e.modifiedLineNumber)}else{let E=this._getLineHtml(r,o,s.tabSize,e.originalLineNumber,this._languageService.languageIdCodec);vg._ttPolicy&&(E=vg._ttPolicy.createHTML(E)),C.insertAdjacentHTML("beforeend",E),x=r.getLineContent(e.originalLineNumber)}x.length===0&&(x=m("blankLine","blank"));let L="";switch(e.type){case kr.Unchanged:e.originalLineNumber===e.modifiedLineNumber?L=m({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",x,e.originalLineNumber):L=m("equalLine","{0} original line {1} modified line {2}",x,e.originalLineNumber,e.modifiedLineNumber);break;case kr.Added:L=m("insertLine","+ {0} modified line {1}",x,e.modifiedLineNumber);break;case kr.Deleted:L=m("deleteLine","- {0} original line {1}",x,e.originalLineNumber);break}return _.setAttribute("aria-label",L),_}_getLineHtml(e,t,i,o,r){const s=e.getLineContent(o),a=t.get(50),l=io.createEmpty(s,r),c=ca.isBasicASCII(s,e.mightContainNonBasicASCII()),d=ca.containsRTL(s,c,e.mightContainRTL());return lI(new Pf(a.isMonospace&&!t.get(33),a.canUseHalfwidthRightwardsArrow,s,!1,c,d,0,l,[],i,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,t.get(117),t.get(99),t.get(94),t.get(51)!==Zs.OFF,null)).html}};iF=K7([q7(5,Bi)],iF);class vRe{constructor(e){this.editors=e}getOriginalModel(){return this.editors.original.getModel()}getOriginalOptions(){return this.editors.original.getOptions()}originalReveal(e){this.editors.original.revealRange(e),this.editors.original.setSelection(e),this.editors.original.focus()}getModifiedModel(){return this.editors.modified.getModel()}getModifiedOptions(){return this.editors.modified.getOptions()}modifiedReveal(e){e&&(this.editors.modified.revealRange(e),this.editors.modified.setSelection(e)),this.editors.modified.focus()}modifiedSetSelection(e){this.editors.modified.setSelection(e)}modifiedFocus(){this.editors.modified.focus()}getModifiedPosition(){var e;return(e=this.editors.modified.getPosition())!==null&&e!==void 0?e:void 0}}class Ug extends z{constructor(e,t,i,o,r){super(),this._rootElement=e,this._diffModel=t,this._originalEditorLayoutInfo=i,this._modifiedEditorLayoutInfo=o,this._editors=r,this._originalScrollTop=Pi(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=Pi(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=Er("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=$t(this,0),this._modifiedViewZonesChangedSignal=Er("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=Er("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=E0(this,(d,u)=>{var h;this._element.replaceChildren();const g=this._diffModel.read(d),f=(h=g==null?void 0:g.diff.read(d))===null||h===void 0?void 0:h.movedTexts;if(!f||f.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(d);const p=this._originalEditorLayoutInfo.read(d),b=this._modifiedEditorLayoutInfo.read(d);if(!p||!b){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(d),this._originalViewZonesChangedSignal.read(d);const v=f.map(L=>{function E(ae,Q){const _e=Q.getTopForLineNumber(ae.startLineNumber,!0),Ie=Q.getTopForLineNumber(ae.endLineNumberExclusive,!0);return(_e+Ie)/2}const O=E(L.lineRangeMapping.original,this._editors.original),P=this._originalScrollTop.read(d),A=E(L.lineRangeMapping.modified,this._editors.modified),F=this._modifiedScrollTop.read(d),K=O-P,te=A-F,ye=Math.min(O,A),be=Math.max(O,A);return{range:new St(ye,be),from:K,to:te,fromWithoutScroll:O,toWithoutScroll:A,move:L}});v.sort(Kfe(Na(L=>L.fromWithoutScroll>L.toWithoutScroll,qfe),Na(L=>L.fromWithoutScroll>L.toWithoutScroll?L.fromWithoutScroll:-L.toWithoutScroll,ju)));const _=G7.compute(v.map(L=>L.range)),C=10,y=p.verticalScrollbarWidth,w=(_.getTrackCount()-1)*10+C*2,S=y+w+(b.contentLeft-Ug.movedCodeBlockPadding);let x=0;for(const L of v){const E=_.getTrack(x),O=y+C+E*10,P=15,A=15,F=S,K=b.glyphMarginWidth+b.lineNumbersWidth,te=18,ye=document.createElementNS("http://www.w3.org/2000/svg","rect");ye.classList.add("arrow-rectangle"),ye.setAttribute("x",`${F-K}`),ye.setAttribute("y",`${L.to-te/2}`),ye.setAttribute("width",`${K}`),ye.setAttribute("height",`${te}`),this._element.appendChild(ye);const be=document.createElementNS("http://www.w3.org/2000/svg","g"),ae=document.createElementNS("http://www.w3.org/2000/svg","path");ae.setAttribute("d",`M 0 ${L.from} L ${O} ${L.from} L ${O} ${L.to} L ${F-A} ${L.to}`),ae.setAttribute("fill","none"),be.appendChild(ae);const Q=document.createElementNS("http://www.w3.org/2000/svg","polygon");Q.classList.add("arrow"),u.add(Lt(_e=>{ae.classList.toggle("currentMove",L.move===g.activeMovedText.read(_e)),Q.classList.toggle("currentMove",L.move===g.activeMovedText.read(_e))})),Q.setAttribute("points",`${F-A},${L.to-P/2} ${F},${L.to} ${F-A},${L.to+P/2}`),be.appendChild(Q),this._element.appendChild(be),x++}this.width.set(w,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register(je(()=>this._element.remove())),this._register(Lt(d=>{const u=this._originalEditorLayoutInfo.read(d),h=this._modifiedEditorLayoutInfo.read(d);!u||!h||(this._element.style.left=`${u.width-u.verticalScrollbarWidth}px`,this._element.style.height=`${u.height}px`,this._element.style.width=`${u.verticalScrollbarWidth+u.contentLeft-Ug.movedCodeBlockPadding+this.width.read(d)}px`)})),this._register(GS(this._state));const s=nt(d=>{const u=this._diffModel.read(d),h=u==null?void 0:u.diff.read(d);return h?h.movedTexts.map(g=>({move:g,original:new uE(Uu(g.lineRangeMapping.original.startLineNumber-1),18),modified:new uE(Uu(g.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register(hE(this._editors.original,s.map(d=>d.map(u=>u.original)))),this._register(hE(this._editors.modified,s.map(d=>d.map(u=>u.modified)))),this._register(Pc((d,u)=>{const h=s.read(d);for(const g of h)u.add(new dK(this._editors.original,g.original,g.move,"original",this._diffModel.get())),u.add(new dK(this._editors.modified,g.modified,g.move,"modified",this._diffModel.get()))}));const a=Er("original.onDidFocusEditorWidget",d=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>d(void 0),0))),l=Er("modified.onDidFocusEditorWidget",d=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>d(void 0),0)));let c="modified";this._register(qS({createEmptyChangeSummary:()=>{},handleChange:(d,u)=>(d.didChange(a)&&(c="original"),d.didChange(l)&&(c="modified"),!0)},d=>{a.read(d),l.read(d);const u=this._diffModel.read(d);if(!u)return;const h=u.diff.read(d);let g;if(h&&c==="original"){const f=this._editors.originalCursor.read(d);f&&(g=h.movedTexts.find(p=>p.lineRangeMapping.original.contains(f.lineNumber)))}if(h&&c==="modified"){const f=this._editors.modifiedCursor.read(d);f&&(g=h.movedTexts.find(p=>p.lineRangeMapping.modified.contains(f.lineNumber)))}g!==u.movedTextToCompare.get()&&u.movedTextToCompare.set(void 0,void 0),u.setActiveMovedText(g)}))}}Ug.movedCodeBlockPadding=4;class G7{static compute(e){const t=[],i=[];for(const o of e){let r=t.findIndex(s=>!s.intersectsStrict(o));r===-1&&(t.length>=6?r=_0e(t,Na(a=>a.intersectWithRangeLength(o),ju)):(r=t.length,t.push(new h6))),t[r].addRange(o),i.push(r)}return new G7(t.length,i)}constructor(e,t){this._trackCount=e,this.trackPerLineIdx=t}getTrack(e){return this.trackPerLineIdx[e]}getTrackCount(){return this._trackCount}}class dK extends Pie{constructor(e,t,i,o,r){const s=pi("div.diff-hidden-lines-widget");super(e,t,s.root),this._editor=e,this._move=i,this._kind=o,this._diffModel=r,this._nodes=pi("div.diff-moved-code-block",{style:{marginRight:"4px"}},[pi("div.text-content@textContent"),pi("div.action-bar@actionBar")]),s.root.appendChild(this._nodes.root);const a=Pi(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register(zg(this._nodes.root,{paddingRight:a.map(h=>h.verticalScrollbarWidth)}));let l;i.changes.length>0?l=this._kind==="original"?m("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):m("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):l=this._kind==="original"?m("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):m("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const c=this._register(new Wa(this._nodes.actionBar,{highlightToggledItems:!0})),d=new Ss("",l,"",!1);c.push(d,{icon:!1,label:!0});const u=new Ss("","Compare",Ze.asClassName(pe.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===i?void 0:this._move,void 0)});this._register(Lt(h=>{const g=this._diffModel.movedTextToCompare.read(h)===i;u.checked=g})),c.push(u,{icon:!1,label:!0})}}N("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},m("diffEditor.move.border","The border color for text that got moved in the diff editor."));N("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},m("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor."));N("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},m("diffEditor.unchangedRegionShadow","The color of the shadow around unchanged region widgets."));const bRe=xn("diff-insert",pe.add,m("diffInsertIcon","Line decoration for inserts in the diff editor.")),Oie=xn("diff-remove",pe.remove,m("diffRemoveIcon","Line decoration for removals in the diff editor.")),uK=dt.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+Ze.asClassName(bRe),marginClassName:"gutter-insert"}),hK=dt.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+Ze.asClassName(Oie),marginClassName:"gutter-delete"}),gK=dt.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),fK=dt.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),pK=dt.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),_Re=dt.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),CRe=dt.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),nF=dt.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),yRe=dt.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),wRe=dt.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"});class SRe extends z{constructor(e,t,i,o){super(),this._editors=e,this._diffModel=t,this._options=i,this._decorations=nt(this,r=>{var s;const a=(s=this._diffModel.read(r))===null||s===void 0?void 0:s.diff.read(r);if(!a)return null;const l=this._diffModel.read(r).movedTextToCompare.read(r),c=this._options.renderIndicators.read(r),d=this._options.showEmptyDecorations.read(r),u=[],h=[];if(!l)for(const f of a.mappings)if(f.lineRangeMapping.original.isEmpty||u.push({range:f.lineRangeMapping.original.toInclusiveRange(),options:c?hK:fK}),f.lineRangeMapping.modified.isEmpty||h.push({range:f.lineRangeMapping.modified.toInclusiveRange(),options:c?uK:gK}),f.lineRangeMapping.modified.isEmpty||f.lineRangeMapping.original.isEmpty)f.lineRangeMapping.original.isEmpty||u.push({range:f.lineRangeMapping.original.toInclusiveRange(),options:yRe}),f.lineRangeMapping.modified.isEmpty||h.push({range:f.lineRangeMapping.modified.toInclusiveRange(),options:_Re});else for(const p of f.lineRangeMapping.innerChanges||[])f.lineRangeMapping.original.contains(p.originalRange.startLineNumber)&&u.push({range:p.originalRange,options:p.originalRange.isEmpty()&&d?wRe:nF}),f.lineRangeMapping.modified.contains(p.modifiedRange.startLineNumber)&&h.push({range:p.modifiedRange,options:p.modifiedRange.isEmpty()&&d?CRe:pK});if(l)for(const f of l.changes){const p=f.original.toInclusiveRange();p&&u.push({range:p,options:c?hK:fK});const b=f.modified.toInclusiveRange();b&&h.push({range:b,options:c?uK:gK});for(const v of f.innerChanges||[])u.push({range:v.originalRange,options:nF}),h.push({range:v.modifiedRange,options:pK})}const g=this._diffModel.read(r).activeMovedText.read(r);for(const f of a.movedTexts)u.push({range:f.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(f===g?" currentMove":""),blockPadding:[Ug.movedCodeBlockPadding,0,Ug.movedCodeBlockPadding,Ug.movedCodeBlockPadding]}}),h.push({range:f.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(f===g?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:u,modifiedDecorations:h}}),this._register(dE(this._editors.original,this._decorations.map(r=>(r==null?void 0:r.originalDecorations)||[]))),this._register(dE(this._editors.modified,this._decorations.map(r=>(r==null?void 0:r.modifiedDecorations)||[])))}}class xRe extends z{constructor(e,t,i,o){super(),this._options=e,this._domNode=t,this._dimensions=i,this._sashes=o,this._sashRatio=$t(this,void 0),this.sashLeft=nt(this,r=>{var s;const a=(s=this._sashRatio.read(r))!==null&&s!==void 0?s:this._options.splitViewDefaultRatio.read(r);return this._computeSashLeft(a,r)}),this._sash=this._register(new jo(this._domNode,{getVerticalSashTop:r=>0,getVerticalSashLeft:r=>this.sashLeft.get(),getVerticalSashHeight:r=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(r=>{const s=this._dimensions.width.get(),a=this._computeSashLeft((this._startSashPosition+(r.currentX-r.startX))/s,void 0);this._sashRatio.set(a/s,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register(Lt(r=>{const s=this._sashes.read(r);s&&(this._sash.orthogonalEndSash=s.bottom)})),this._register(Lt(r=>{const s=this._options.enableSplitViewResizing.read(r);this._sash.state=s?3:0,this.sashLeft.read(r),this._dimensions.height.read(r),this._sash.layout()}))}_computeSashLeft(e,t){const i=this._dimensions.width.read(t),o=Math.floor(this._options.splitViewDefaultRatio.read(t)*i),r=this._options.enableSplitViewResizing.read(t)?Math.floor(e*i):o,s=100;return i<=s*2?o:r<s?s:r>i-s?i-s:r}}var kRe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},LRe=function(n,e){return function(t,i){e(t,i,n)}},oF;let Dw=oF=class extends z{static setBreadcrumbsSourceFactory(e){this._breadcrumbsSourceFactory.set(e,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(e,t,i,o){super(),this._editors=e,this._diffModel=t,this._options=i,this._instantiationService=o,this._modifiedOutlineSource=$h(this,l=>{const c=this._editors.modifiedModel.read(l),d=oF._breadcrumbsSourceFactory.read(l);return!c||!d?void 0:d(c,this._instantiationService)}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(l=>{if(l.reason===3){const c=this._diffModel.get();Ti(d=>{for(const u of this._editors.original.getSelections()||[])c==null||c.ensureOriginalLineIsVisible(u.getStartPosition().lineNumber,0,d),c==null||c.ensureOriginalLineIsVisible(u.getEndPosition().lineNumber,0,d)})}})),this._register(this._editors.modified.onDidChangeCursorPosition(l=>{if(l.reason===3){const c=this._diffModel.get();Ti(d=>{for(const u of this._editors.modified.getSelections()||[])c==null||c.ensureModifiedLineIsVisible(u.getStartPosition().lineNumber,0,d),c==null||c.ensureModifiedLineIsVisible(u.getEndPosition().lineNumber,0,d)})}}));const r=this._diffModel.map((l,c)=>{var d,u;const h=(d=l==null?void 0:l.unchangedRegions.read(c))!==null&&d!==void 0?d:[];return h.length===1&&h[0].modifiedLineNumber===1&&h[0].lineCount===((u=this._editors.modifiedModel.read(c))===null||u===void 0?void 0:u.getLineCount())?[]:h});this.viewZones=E0(this,(l,c)=>{const d=this._modifiedOutlineSource.read(l);if(!d)return{origViewZones:[],modViewZones:[]};const u=[],h=[],g=this._options.renderSideBySide.read(l),f=r.read(l);for(const p of f)if(!p.shouldHideControls(l)){{const b=nt(this,_=>p.getHiddenOriginalRange(_).startLineNumber-1),v=new uE(b,24);u.push(v),c.add(new mK(this._editors.original,v,p,p.originalUnchangedRange,!g,d,_=>this._diffModel.get().ensureModifiedLineIsVisible(_,2,void 0),this._options))}{const b=nt(this,_=>p.getHiddenModifiedRange(_).startLineNumber-1),v=new uE(b,24);h.push(v),c.add(new mK(this._editors.modified,v,p,p.modifiedUnchangedRange,!1,d,_=>this._diffModel.get().ensureModifiedLineIsVisible(_,2,void 0),this._options))}}return{origViewZones:u,modViewZones:h}});const s={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},a={description:"Fold Unchanged",glyphMarginHoverMessage:new Go(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(m("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+Ze.asClassName(pe.fold),zIndex:10001};this._register(dE(this._editors.original,nt(this,l=>{const c=r.read(l),d=c.map(u=>({range:u.originalUnchangedRange.toInclusiveRange(),options:s}));for(const u of c)u.shouldHideControls(l)&&d.push({range:D.fromPositions(new W(u.originalLineNumber,1)),options:a});return d}))),this._register(dE(this._editors.modified,nt(this,l=>{const c=r.read(l),d=c.map(u=>({range:u.modifiedUnchangedRange.toInclusiveRange(),options:s}));for(const u of c)u.shouldHideControls(l)&&d.push({range:wt.ofLength(u.modifiedLineNumber,1).toInclusiveRange(),options:a});return d}))),this._register(Lt(l=>{const c=r.read(l);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(c.map(d=>d.getHiddenOriginalRange(l).toInclusiveRange()).filter(xd)),this._editors.modified.setHiddenAreas(c.map(d=>d.getHiddenModifiedRange(l).toInclusiveRange()).filter(xd))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(l=>{var c;if(!l.event.rightButton&&l.target.position&&(!((c=l.target.element)===null||c===void 0)&&c.className.includes("fold-unchanged"))){const d=l.target.position.lineNumber,u=this._diffModel.get();if(!u)return;const h=u.unchangedRegions.get().find(g=>g.modifiedUnchangedRange.includes(d));if(!h)return;h.collapseAll(void 0),l.event.stopPropagation(),l.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(l=>{var c;if(!l.event.rightButton&&l.target.position&&(!((c=l.target.element)===null||c===void 0)&&c.className.includes("fold-unchanged"))){const d=l.target.position.lineNumber,u=this._diffModel.get();if(!u)return;const h=u.unchangedRegions.get().find(g=>g.originalUnchangedRange.includes(d));if(!h)return;h.collapseAll(void 0),l.event.stopPropagation(),l.event.preventDefault()}}))}};Dw._breadcrumbsSourceFactory=$t("breadcrumbsSourceFactory",void 0);Dw=oF=kRe([LRe(3,Ge)],Dw);class mK extends Pie{constructor(e,t,i,o,r,s,a,l){const c=pi("div.diff-hidden-lines-widget");super(e,t,c.root),this._editor=e,this._unchangedRegion=i,this._unchangedRegionRange=o,this._hide=r,this._modifiedOutlineSource=s,this._revealModifiedHiddenLine=a,this._options=l,this._nodes=pi("div.diff-hidden-lines",[pi("div.top@top",{title:m("diff.hiddenLines.top","Click or drag to show more above")}),pi("div.center@content",{style:{display:"flex"}},[pi("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[ue("a",{title:m("showUnchangedRegion","Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...Bg("$(unfold)"))]),pi("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),pi("div.bottom@bottom",{title:m("diff.bottom","Click or drag to show more below"),role:"button"})]),c.root.appendChild(this._nodes.root);const d=Pi(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._hide?Ho(this._nodes.first):this._register(zg(this._nodes.first,{width:d.map(h=>h.contentLeft)})),this._register(Lt(h=>{const g=this._unchangedRegion.visibleLineCountTop.read(h)+this._unchangedRegion.visibleLineCountBottom.read(h)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!g),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(h)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(h)>0),this._nodes.top.classList.toggle("canMoveBottom",!g);const f=this._unchangedRegion.isDragged.read(h),p=this._editor.getDomNode();p&&(p.classList.toggle("draggingUnchangedRegion",!!f),f==="top"?(p.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(h)>0),p.classList.toggle("canMoveBottom",!g)):f==="bottom"?(p.classList.toggle("canMoveTop",!g),p.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(h)>0)):(p.classList.toggle("canMoveTop",!1),p.classList.toggle("canMoveBottom",!1)))}));const u=this._editor;this._register(j(this._nodes.top,"mousedown",h=>{if(h.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),h.preventDefault();const g=h.clientY;let f=!1;const p=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const b=qe(this._nodes.top),v=j(b,"mousemove",C=>{const w=C.clientY-g;f=f||Math.abs(w)>2;const S=Math.round(w/u.getOption(67)),x=Math.max(0,Math.min(p+S,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(x,void 0)}),_=j(b,"mouseup",C=>{f||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),v.dispose(),_.dispose()})})),this._register(j(this._nodes.bottom,"mousedown",h=>{if(h.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),h.preventDefault();const g=h.clientY;let f=!1;const p=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const b=qe(this._nodes.bottom),v=j(b,"mousemove",C=>{const w=C.clientY-g;f=f||Math.abs(w)>2;const S=Math.round(w/u.getOption(67)),x=Math.max(0,Math.min(p-S,this._unchangedRegion.getMaxVisibleLineCountBottom())),L=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(x,void 0);const E=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);u.setScrollTop(u.getScrollTop()+(E-L))}),_=j(b,"mouseup",C=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!f){const y=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const w=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);u.setScrollTop(u.getScrollTop()+(w-y))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),v.dispose(),_.dispose()})})),this._register(Lt(h=>{const g=[];if(!this._hide){const f=i.getHiddenModifiedRange(h).length,p=m("hiddenLines","{0} hidden lines",f),b=ue("span",{title:m("diff.hiddenLines.expandAll","Double click to unfold")},p);b.addEventListener("dblclick",C=>{C.button===0&&(C.preventDefault(),this._unchangedRegion.showAll(void 0))}),g.push(b);const v=this._unchangedRegion.getHiddenModifiedRange(h),_=this._modifiedOutlineSource.getBreadcrumbItems(v,h);if(_.length>0){g.push(ue("span",void 0,"|"));for(let C=0;C<_.length;C++){const y=_[C],w=jD.toIcon(y.kind),S=pi("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[aw(w),"",y.name,...C===_.length-1?[]:[aw(pe.chevronRight)]]).root;g.push(S),S.onclick=()=>{this._revealModifiedHiddenLine(y.startLineNumber)}}}}Ho(this._nodes.others,...g)}))}}var Fie=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},rF=function(n,e){return function(t,i){e(t,i,n)}},hp;const Bie=Et("diffProviderFactoryService");let sF=class{constructor(e){this.instantiationService=e}createDiffProvider(e){return this.instantiationService.createInstance(gE,e)}};sF=Fie([rF(0,Ge)],sF);Ot(Bie,sF,1);let gE=hp=class{constructor(e,t,i){this.editorWorkerService=t,this.telemetryService=i,this.onDidChangeEventEmitter=new B,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(e)}dispose(){var e;(e=this.diffAlgorithmOnDidChangeSubscription)===null||e===void 0||e.dispose()}async computeDiff(e,t,i,o){var r,s;if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(e,t,i,o);if(e.getLineCount()===1&&e.getLineMaxColumn(1)===1)return t.getLineCount()===1&&t.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new yc(new wt(1,2),new wt(1,t.getLineCount()+1),[new sf(e.getFullModelRange(),t.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const a=JSON.stringify([e.uri.toString(),t.uri.toString()]),l=JSON.stringify([e.id,t.id,e.getAlternativeVersionId(),t.getAlternativeVersionId(),JSON.stringify(i)]),c=hp.diffCache.get(a);if(c&&c.context===l)return c.result;const d=Jo.create(),u=await this.editorWorkerService.computeDiff(e.uri,t.uri,i,this.diffAlgorithm),h=d.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:h,timedOut:(r=u==null?void 0:u.quitEarly)!==null&&r!==void 0?r:!0,detectedMoves:i.computeMoves?(s=u==null?void 0:u.moves.length)!==null&&s!==void 0?s:0:-1}),o.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!u)throw new Error("no diff result available");return hp.diffCache.size>10&&hp.diffCache.delete(hp.diffCache.keys().next().value),hp.diffCache.set(a,{result:u,context:l}),u}setOptions(e){var t;let i=!1;e.diffAlgorithm&&this.diffAlgorithm!==e.diffAlgorithm&&((t=this.diffAlgorithmOnDidChangeSubscription)===null||t===void 0||t.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=e.diffAlgorithm,typeof e.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=e.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),i=!0),i&&this.onDidChangeEventEmitter.fire()}};gE.diffCache=new Map;gE=hp=Fie([rF(1,Tl),rF(2,fr)],gE);var DRe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},ERe=function(n,e){return function(t,i){e(t,i,n)}};let aF=class extends z{setActiveMovedText(e){this._activeMovedText.set(e,void 0)}constructor(e,t,i){super(),this.model=e,this._options=t,this._diffProviderFactoryService=i,this._isDiffUpToDate=$t(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=$t(this,void 0),this.diff=this._diff,this._unchangedRegions=$t(this,void 0),this.unchangedRegions=nt(this,a=>{var l,c;return this._options.hideUnchangedRegions.read(a)?(c=(l=this._unchangedRegions.read(a))===null||l===void 0?void 0:l.regions)!==null&&c!==void 0?c:[]:(Ti(d=>{var u;for(const h of((u=this._unchangedRegions.get())===null||u===void 0?void 0:u.regions)||[])h.collapseAll(d)}),[])}),this.movedTextToCompare=$t(this,void 0),this._activeMovedText=$t(this,void 0),this._hoveredMovedText=$t(this,void 0),this.activeMovedText=nt(this,a=>{var l,c;return(c=(l=this.movedTextToCompare.read(a))!==null&&l!==void 0?l:this._hoveredMovedText.read(a))!==null&&c!==void 0?c:this._activeMovedText.read(a)}),this._cancellationTokenSource=new gn,this._diffProvider=nt(this,a=>{const l=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(a)}),c=Er("onDidChange",l.onDidChange);return{diffProvider:l,onChangeSignal:c}}),this._register(je(()=>this._cancellationTokenSource.cancel()));const o=$7("contentChangedSignal"),r=this._register(new mi(()=>o.trigger(void 0),200));this._register(Lt(a=>{const l=this._unchangedRegions.read(a);if(!l||l.regions.some(f=>f.isDragged.read(a)))return;const c=l.originalDecorationIds.map(f=>e.original.getDecorationRange(f)).map(f=>f?wt.fromRangeInclusive(f):void 0),d=l.modifiedDecorationIds.map(f=>e.modified.getDecorationRange(f)).map(f=>f?wt.fromRangeInclusive(f):void 0),u=l.regions.map((f,p)=>!c[p]||!d[p]?void 0:new bg(c[p].startLineNumber,d[p].startLineNumber,c[p].length,f.visibleLineCountTop.read(a),f.visibleLineCountBottom.read(a))).filter(xd),h=[];let g=!1;for(const f of D8(u,(p,b)=>p.getHiddenModifiedRange(a).endLineNumberExclusive===b.getHiddenModifiedRange(a).startLineNumber))if(f.length>1){g=!0;const p=f.reduce((v,_)=>v+_.lineCount,0),b=new bg(f[0].originalLineNumber,f[0].modifiedLineNumber,p,f[0].visibleLineCountTop.get(),f[f.length-1].visibleLineCountBottom.get());h.push(b)}else h.push(f[0]);if(g){const f=e.original.deltaDecorations(l.originalDecorationIds,h.map(b=>({range:b.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),p=e.modified.deltaDecorations(l.modifiedDecorationIds,h.map(b=>({range:b.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));Ti(b=>{this._unchangedRegions.set({regions:h,originalDecorationIds:f,modifiedDecorationIds:p},b)})}}));const s=(a,l,c)=>{const d=bg.fromDiffs(a.changes,e.original.getLineCount(),e.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(c),this._options.hideUnchangedRegionsContextLineCount.read(c));let u;const h=this._unchangedRegions.get();if(h){const b=h.originalDecorationIds.map(y=>e.original.getDecorationRange(y)).map(y=>y?wt.fromRangeInclusive(y):void 0),v=h.modifiedDecorationIds.map(y=>e.modified.getDecorationRange(y)).map(y=>y?wt.fromRangeInclusive(y):void 0);let C=aRe(h.regions.map((y,w)=>{if(!b[w]||!v[w])return;const S=b[w].length;return new bg(b[w].startLineNumber,v[w].startLineNumber,S,Math.min(y.visibleLineCountTop.get(),S),Math.min(y.visibleLineCountBottom.get(),S-y.visibleLineCountTop.get()))}).filter(xd),(y,w)=>!w||y.modifiedLineNumber>=w.modifiedLineNumber+w.lineCount&&y.originalLineNumber>=w.originalLineNumber+w.lineCount).map(y=>new is(y.getHiddenOriginalRange(c),y.getHiddenModifiedRange(c)));C=is.clip(C,wt.ofLength(1,e.original.getLineCount()),wt.ofLength(1,e.modified.getLineCount())),u=is.inverse(C,e.original.getLineCount(),e.modified.getLineCount())}const g=[];if(u)for(const b of d){const v=u.filter(_=>_.original.intersectsStrict(b.originalUnchangedRange)&&_.modified.intersectsStrict(b.modifiedUnchangedRange));g.push(...b.setVisibleRanges(v,l))}else g.push(...d);const f=e.original.deltaDecorations((h==null?void 0:h.originalDecorationIds)||[],g.map(b=>({range:b.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),p=e.modified.deltaDecorations((h==null?void 0:h.modifiedDecorationIds)||[],g.map(b=>({range:b.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:g,originalDecorationIds:f,modifiedDecorationIds:p},l)};this._register(e.modified.onDidChangeContent(a=>{if(this._diff.get()){const c=Hu.fromModelContentChanges(a.changes);this._lastDiff,e.original,e.modified}this._isDiffUpToDate.set(!1,void 0),r.schedule()})),this._register(e.original.onDidChangeContent(a=>{if(this._diff.get()){const c=Hu.fromModelContentChanges(a.changes);this._lastDiff,e.original,e.modified}this._isDiffUpToDate.set(!1,void 0),r.schedule()})),this._register(Pc(async(a,l)=>{var c,d;this._options.hideUnchangedRegionsMinimumLineCount.read(a),this._options.hideUnchangedRegionsContextLineCount.read(a),r.cancel(),o.read(a);const u=this._diffProvider.read(a);u.onChangeSignal.read(a),id(OJ,a),id(a4,a),this._isDiffUpToDate.set(!1,void 0);let h=[];l.add(e.original.onDidChangeContent(p=>{const b=Hu.fromModelContentChanges(p.changes);h=S2(h,b)}));let g=[];l.add(e.modified.onDidChangeContent(p=>{const b=Hu.fromModelContentChanges(p.changes);g=S2(g,b)}));let f=await u.diffProvider.computeDiff(e.original,e.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(a),maxComputationTimeMs:this._options.maxComputationTimeMs.read(a),computeMoves:this._options.showMoves.read(a)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||(f=TRe(f,e.original,e.modified),f=(c=(e.original,e.modified,void 0))!==null&&c!==void 0?c:f,f=(d=(e.original,e.modified,void 0))!==null&&d!==void 0?d:f,Ti(p=>{s(f,p),this._lastDiff=f;const b=Z7.fromDiffResult(f);this._diff.set(b,p),this._isDiffUpToDate.set(!0,p);const v=this.movedTextToCompare.get();this.movedTextToCompare.set(v?this._lastDiff.moves.find(_=>_.lineRangeMapping.modified.intersect(v.lineRangeMapping.modified)):void 0,p)}))}))}ensureModifiedLineIsVisible(e,t,i){var o,r;if(((o=this.diff.get())===null||o===void 0?void 0:o.mappings.length)===0)return;const s=((r=this._unchangedRegions.get())===null||r===void 0?void 0:r.regions)||[];for(const a of s)if(a.getHiddenModifiedRange(void 0).contains(e)){a.showModifiedLine(e,t,i);return}}ensureOriginalLineIsVisible(e,t,i){var o,r;if(((o=this.diff.get())===null||o===void 0?void 0:o.mappings.length)===0)return;const s=((r=this._unchangedRegions.get())===null||r===void 0?void 0:r.regions)||[];for(const a of s)if(a.getHiddenOriginalRange(void 0).contains(e)){a.showOriginalLine(e,t,i);return}}async waitForDiff(){await JNe(this.isDiffUpToDate,e=>e)}serializeState(){const e=this._unchangedRegions.get();return{collapsedRegions:e==null?void 0:e.regions.map(t=>({range:t.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(e){var t;const i=(t=e.collapsedRegions)===null||t===void 0?void 0:t.map(r=>wt.deserialize(r.range)),o=this._unchangedRegions.get();!o||!i||Ti(r=>{for(const s of o.regions)for(const a of i)if(s.modifiedUnchangedRange.intersect(a)){s.setHiddenModifiedRange(a,r);break}})}};aF=DRe([ERe(2,Bie)],aF);function TRe(n,e,t){return{changes:n.changes.map(i=>new yc(i.original,i.modified,i.innerChanges?i.innerChanges.map(o=>IRe(o,e,t)):void 0)),moves:n.moves,identical:n.identical,quitEarly:n.quitEarly}}function IRe(n,e,t){let i=n.originalRange,o=n.modifiedRange;return(i.endColumn!==1||o.endColumn!==1)&&i.endColumn===e.getLineMaxColumn(i.endLineNumber)&&o.endColumn===t.getLineMaxColumn(o.endLineNumber)&&i.endLineNumber<e.getLineCount()&&o.endLineNumber<t.getLineCount()&&(i=i.setEndPosition(i.endLineNumber+1,1),o=o.setEndPosition(o.endLineNumber+1,1)),new sf(i,o)}class Z7{static fromDiffResult(e){return new Z7(e.changes.map(t=>new Wie(t)),e.moves||[],e.identical,e.quitEarly)}constructor(e,t,i,o){this.mappings=e,this.movedTexts=t,this.identical=i,this.quitEarly=o}}class Wie{constructor(e){this.lineRangeMapping=e}}class bg{static fromDiffs(e,t,i,o,r){const s=yc.inverse(e,t,i),a=[];for(const l of s){let c=l.original.startLineNumber,d=l.modified.startLineNumber,u=l.original.length;const h=c===1&&d===1,g=c+u===t+1&&d+u===i+1;(h||g)&&u>=r+o?(h&&!g&&(u-=r),g&&!h&&(c+=r,d+=r,u-=r),a.push(new bg(c,d,u,0,0))):u>=r*2+o&&(c+=r,d+=r,u-=r*2,a.push(new bg(c,d,u,0,0)))}return a}get originalUnchangedRange(){return wt.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return wt.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(e,t,i,o,r){this.originalLineNumber=e,this.modifiedLineNumber=t,this.lineCount=i,this._visibleLineCountTop=$t(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=$t(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=nt(this,l=>this.visibleLineCountTop.read(l)+this.visibleLineCountBottom.read(l)===this.lineCount&&!this.isDragged.read(l)),this.isDragged=$t(this,void 0);const s=Math.max(Math.min(o,this.lineCount),0),a=Math.max(Math.min(r,this.lineCount-o),0);Pz(o===s),Pz(r===a),this._visibleLineCountTop.set(s,void 0),this._visibleLineCountBottom.set(a,void 0)}setVisibleRanges(e,t){const i=[],o=new al(e.map(l=>l.modified)).subtractFrom(this.modifiedUnchangedRange);let r=this.originalLineNumber,s=this.modifiedLineNumber;const a=this.modifiedLineNumber+this.lineCount;if(o.ranges.length===0)this.showAll(t),i.push(this);else{let l=0;for(const c of o.ranges){const d=l===o.ranges.length-1;l++;const u=(d?a:c.endLineNumberExclusive)-s,h=new bg(r,s,u,0,0);h.setHiddenModifiedRange(c,t),i.push(h),r=h.originalUnchangedRange.endLineNumberExclusive,s=h.modifiedUnchangedRange.endLineNumberExclusive}}return i}shouldHideControls(e){return this._shouldHideControls.read(e)}getHiddenOriginalRange(e){return wt.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}getHiddenModifiedRange(e){return wt.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}setHiddenModifiedRange(e,t){const i=e.startLineNumber-this.modifiedLineNumber,o=this.modifiedLineNumber+this.lineCount-e.endLineNumberExclusive;this.setState(i,o,t)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(e=10,t){const i=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+e,i),t)}showMoreBelow(e=10,t){const i=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+e,i),t)}showAll(e){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),e)}showModifiedLine(e,t,i){const o=e+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),r=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-e;t===0&&o<r||t===1?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+o,i):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+r,i)}showOriginalLine(e,t,i){const o=e-this.originalLineNumber,r=this.originalLineNumber+this.lineCount-e;t===0&&o<r||t===1?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+r-o,this.getMaxVisibleLineCountTop()),i):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+o-r,this.getMaxVisibleLineCountBottom()),i)}collapseAll(e){this._visibleLineCountTop.set(0,e),this._visibleLineCountBottom.set(0,e)}setState(e,t,i){e=Math.max(Math.min(e,this.lineCount),0),t=Math.max(Math.min(t,this.lineCount-e),0),this._visibleLineCountTop.set(e,i),this._visibleLineCountBottom.set(t,i)}}class NRe extends z{get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}constructor(e,t,i,o,r,s,a,l,c){super(),this._getViewZoneId=e,this._marginDomNode=t,this._modifiedEditor=i,this._diff=o,this._editor=r,this._viewLineCounts=s,this._originalTextModel=a,this._contextMenuService=l,this._clipboardService=c,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=Ze.asClassName(pe.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const d=this._modifiedEditor.getOption(67);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${d}px`,this._diffActions.style.lineHeight=`${d}px`,this._marginDomNode.appendChild(this._diffActions);let u=0;const h=i.getOption(127)&&!bc,g=(f,p)=>{var b;this._contextMenuService.showContextMenu({domForShadowRoot:h&&(b=i.getDomNode())!==null&&b!==void 0?b:void 0,getAnchor:()=>({x:f,y:p}),getActions:()=>{const v=[],_=o.modified.isEmpty;return v.push(new Ss("diff.clipboard.copyDeletedContent",_?o.original.length>1?m("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):m("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):o.original.length>1?m("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):m("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,async()=>{const y=this._originalTextModel.getValueInRange(o.original.toExclusiveRange());await this._clipboardService.writeText(y)})),o.original.length>1&&v.push(new Ss("diff.clipboard.copyDeletedLineContent",_?m("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",o.original.startLineNumber+u):m("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",o.original.startLineNumber+u),void 0,!0,async()=>{let y=this._originalTextModel.getLineContent(o.original.startLineNumber+u);y===""&&(y=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),await this._clipboardService.writeText(y)})),i.getOption(91)||v.push(new Ss("diff.inline.revertChange",m("diff.inline.revertChange.label","Revert this change"),void 0,!0,async()=>{this._editor.revert(this._diff)})),v},autoSelectFirstItem:!0})};this._register(fn(this._diffActions,"mousedown",f=>{if(!f.leftButton)return;const{top:p,height:b}=In(this._diffActions),v=Math.floor(d/3);f.preventDefault(),g(f.posx,p+b+v)})),this._register(i.onMouseMove(f=>{(f.target.type===8||f.target.type===5)&&f.target.detail.viewZoneId===this._getViewZoneId()?(u=this._updateLightBulbPosition(this._marginDomNode,f.event.browserEvent.y,d),this.visibility=!0):this.visibility=!1})),this._register(i.onMouseDown(f=>{f.event.leftButton&&(f.target.type===8||f.target.type===5)&&f.target.detail.viewZoneId===this._getViewZoneId()&&(f.event.preventDefault(),u=this._updateLightBulbPosition(this._marginDomNode,f.event.browserEvent.y,d),g(f.event.posx,f.event.posy+d))}))}_updateLightBulbPosition(e,t,i){const{top:o}=In(e),r=t-o,s=Math.floor(r/i),a=s*i;if(this._diffActions.style.top=`${a}px`,this._viewLineCounts){let l=0;for(let c=0;c<this._viewLineCounts.length;c++)if(l+=this._viewLineCounts[c],s<l)return c}return s}}const vK=yh("diffEditorWidget",{createHTML:n=>n});function RRe(n,e,t,i){zo(i,e.fontInfo);const o=t.length>0,r=new _0(1e4);let s=0,a=0;const l=[];for(let h=0;h<n.lineTokens.length;h++){const g=h+1,f=n.lineTokens[h],p=n.lineBreakData[h],b=Rr.filter(t,g,1,Number.MAX_SAFE_INTEGER);if(p){let v=0;for(const _ of p.breakOffsets){const C=f.sliceAndInflate(v,_,0);s=Math.max(s,bK(a,C,Rr.extractWrapped(b,v,_),o,n.mightContainNonBasicASCII,n.mightContainRTL,e,r)),a++,v=_}l.push(p.breakOffsets.length)}else l.push(1),s=Math.max(s,bK(a,f,b,o,n.mightContainNonBasicASCII,n.mightContainRTL,e,r)),a++}s+=e.scrollBeyondLastColumn;const c=r.build(),d=vK?vK.createHTML(c):c;i.innerHTML=d;const u=s*e.typicalHalfwidthCharacterWidth;return{heightInLines:a,minWidthInPx:u,viewLineCounts:l}}class MRe{constructor(e,t,i,o){this.lineTokens=e,this.lineBreakData=t,this.mightContainNonBasicASCII=i,this.mightContainRTL=o}}class Y7{static fromEditor(e){var t;const i=e.getOptions(),o=i.get(50),r=i.get(144);return new Y7(((t=e.getModel())===null||t===void 0?void 0:t.getOptions().tabSize)||0,o,i.get(33),o.typicalHalfwidthCharacterWidth,i.get(104),i.get(67),r.decorationsWidth,i.get(117),i.get(99),i.get(94),i.get(51))}constructor(e,t,i,o,r,s,a,l,c,d,u){this.tabSize=e,this.fontInfo=t,this.disableMonospaceOptimizations=i,this.typicalHalfwidthCharacterWidth=o,this.scrollBeyondLastColumn=r,this.lineHeight=s,this.lineDecorationsWidth=a,this.stopRenderingLineAfter=l,this.renderWhitespace=c,this.renderControlCharacters=d,this.fontLigatures=u}}function bK(n,e,t,i,o,r,s,a){a.appendString('<div class="view-line'),i||a.appendString(" char-delete"),a.appendString('" style="top:'),a.appendString(String(n*s.lineHeight)),a.appendString('px;width:1000000px;">');const l=e.getLineContent(),c=ca.isBasicASCII(l,o),d=ca.containsRTL(l,c,r),u=LS(new Pf(s.fontInfo.isMonospace&&!s.disableMonospaceOptimizations,s.fontInfo.canUseHalfwidthRightwardsArrow,l,!1,c,d,0,e,t,s.tabSize,0,s.fontInfo.spaceWidth,s.fontInfo.middotWidth,s.fontInfo.wsmiddotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==Zs.OFF,null),a);return a.appendString("</div>"),u.characterMapping.getHorizontalOffset(u.characterMapping.length)}var ARe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},_K=function(n,e){return function(t,i){e(t,i,n)}};let lF=class extends z{constructor(e,t,i,o,r,s,a,l,c,d){super(),this._targetWindow=e,this._editors=t,this._diffModel=i,this._options=o,this._diffEditorWidget=r,this._canIgnoreViewZoneUpdateEvent=s,this._origViewZonesToIgnore=a,this._modViewZonesToIgnore=l,this._clipboardService=c,this._contextMenuService=d,this._originalTopPadding=$t(this,0),this._originalScrollOffset=$t(this,0),this._originalScrollOffsetAnimated=lK(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=$t(this,0),this._modifiedScrollOffset=$t(this,0),this._modifiedScrollOffsetAnimated=lK(this._targetWindow,this._modifiedScrollOffset,this._store);const u=$t("invalidateAlignmentsState",0),h=this._register(new mi(()=>{u.set(u.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(C=>{this._canIgnoreViewZoneUpdateEvent()||h.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(C=>{this._canIgnoreViewZoneUpdateEvent()||h.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(C=>{(C.hasChanged(145)||C.hasChanged(67))&&h.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(C=>{(C.hasChanged(145)||C.hasChanged(67))&&h.schedule()}));const g=this._diffModel.map(C=>C?Pi(C.model.original.onDidChangeTokens,()=>C.model.original.tokenization.backgroundTokenizationState===2):void 0).map((C,y)=>C==null?void 0:C.read(y)),f=nt(C=>{const y=this._diffModel.read(C),w=y==null?void 0:y.diff.read(C);if(!y||!w)return null;u.read(C);const x=this._options.renderSideBySide.read(C);return CK(this._editors.original,this._editors.modified,w.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,x)}),p=nt(C=>{var y;const w=(y=this._diffModel.read(C))===null||y===void 0?void 0:y.movedTextToCompare.read(C);if(!w)return null;u.read(C);const S=w.changes.map(x=>new Wie(x));return CK(this._editors.original,this._editors.modified,S,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function b(){const C=document.createElement("div");return C.className="diagonal-fill",C}const v=this._register(new oe);this.viewZones=E0(this,(C,y)=>{var w,S,x,L,E,O,P,A;v.clear();const F=f.read(C)||[],K=[],te=[],ye=this._modifiedTopPadding.read(C);ye>0&&te.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:ye,showInHiddenAreas:!0,suppressMouseDown:!0});const be=this._originalTopPadding.read(C);be>0&&K.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:be,showInHiddenAreas:!0,suppressMouseDown:!0});const ae=this._options.renderSideBySide.read(C),Q=ae||(w=this._editors.modified._getViewModel())===null||w===void 0?void 0:w.createLineBreaksComputer();if(Q){const $e=this._editors.original.getModel();for(const Me of F)if(Me.diff)for(let ni=Me.originalRange.startLineNumber;ni<Me.originalRange.endLineNumberExclusive;ni++){if(ni>$e.getLineCount())return{orig:K,mod:te};Q==null||Q.addRequest($e.getLineContent(ni),null,null)}}const _e=(S=Q==null?void 0:Q.finalize())!==null&&S!==void 0?S:[];let Ie=0;const se=this._editors.modified.getOption(67),Y=(x=this._diffModel.read(C))===null||x===void 0?void 0:x.movedTextToCompare.read(C),Ne=(E=(L=this._editors.original.getModel())===null||L===void 0?void 0:L.mightContainNonBasicASCII())!==null&&E!==void 0?E:!1,tt=(P=(O=this._editors.original.getModel())===null||O===void 0?void 0:O.mightContainRTL())!==null&&P!==void 0?P:!1,ne=Y7.fromEditor(this._editors.modified);for(const $e of F)if($e.diff&&!ae){if(!$e.originalRange.isEmpty){g.read(C);const ni=document.createElement("div");ni.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const kt=this._editors.original.getModel();if($e.originalRange.endLineNumberExclusive-1>kt.getLineCount())return{orig:K,mod:te};const Te=new MRe($e.originalRange.mapToLineArray(Kt=>kt.tokenization.getLineTokens(Kt)),$e.originalRange.mapToLineArray(Kt=>_e[Ie++]),Ne,tt),at=[];for(const Kt of $e.diff.innerChanges||[])at.push(new xC(Kt.originalRange.delta(-($e.diff.original.startLineNumber-1)),nF.className,0));const ai=RRe(Te,ne,at,ni),Wi=document.createElement("div");if(Wi.className="inline-deleted-margin-view-zone",zo(Wi,ne.fontInfo),this._options.renderIndicators.read(C))for(let Kt=0;Kt<ai.heightInLines;Kt++){const Yt=document.createElement("div");Yt.className=`delete-sign ${Ze.asClassName(Oie)}`,Yt.setAttribute("style",`position:absolute;top:${Kt*se}px;width:${ne.lineDecorationsWidth}px;height:${se}px;right:0;`),Wi.appendChild(Yt)}let Ft;v.add(new NRe(()=>ag(Ft),Wi,this._editors.modified,$e.diff,this._diffEditorWidget,ai.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let Kt=0;Kt<ai.viewLineCounts.length;Kt++){const Yt=ai.viewLineCounts[Kt];Yt>1&&K.push({afterLineNumber:$e.originalRange.startLineNumber+Kt,domNode:b(),heightInPx:(Yt-1)*se,showInHiddenAreas:!0,suppressMouseDown:!0})}te.push({afterLineNumber:$e.modifiedRange.startLineNumber-1,domNode:ni,heightInPx:ai.heightInLines*se,minWidthInPx:ai.minWidthInPx,marginDomNode:Wi,setZoneId(Kt){Ft=Kt},showInHiddenAreas:!0,suppressMouseDown:!0})}const Me=document.createElement("div");Me.className="gutter-delete",K.push({afterLineNumber:$e.originalRange.endLineNumberExclusive-1,domNode:b(),heightInPx:$e.modifiedHeightInPx,marginDomNode:Me,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const Me=$e.modifiedHeightInPx-$e.originalHeightInPx;if(Me>0){if(Y!=null&&Y.lineRangeMapping.original.delta(-1).deltaLength(2).contains($e.originalRange.endLineNumberExclusive-1))continue;K.push({afterLineNumber:$e.originalRange.endLineNumberExclusive-1,domNode:b(),heightInPx:Me,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let ni=function(){const Te=document.createElement("div");return Te.className="arrow-revert-change "+Ze.asClassName(pe.arrowRight),y.add(j(Te,"mousedown",at=>at.stopPropagation())),y.add(j(Te,"click",at=>{at.stopPropagation(),r.revert($e.diff)})),ue("div",{},Te)};if(Y!=null&&Y.lineRangeMapping.modified.delta(-1).deltaLength(2).contains($e.modifiedRange.endLineNumberExclusive-1))continue;let kt;$e.diff&&$e.diff.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(C)&&(kt=ni()),te.push({afterLineNumber:$e.modifiedRange.endLineNumberExclusive-1,domNode:b(),heightInPx:-Me,marginDomNode:kt,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const $e of(A=p.read(C))!==null&&A!==void 0?A:[]){if(!(Y!=null&&Y.lineRangeMapping.original.intersect($e.originalRange))||!(Y!=null&&Y.lineRangeMapping.modified.intersect($e.modifiedRange)))continue;const Me=$e.modifiedHeightInPx-$e.originalHeightInPx;Me>0?K.push({afterLineNumber:$e.originalRange.endLineNumberExclusive-1,domNode:b(),heightInPx:Me,showInHiddenAreas:!0,suppressMouseDown:!0}):te.push({afterLineNumber:$e.modifiedRange.endLineNumberExclusive-1,domNode:b(),heightInPx:-Me,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:K,mod:te}});let _=!1;this._register(this._editors.original.onDidScrollChange(C=>{C.scrollLeftChanged&&!_&&(_=!0,this._editors.modified.setScrollLeft(C.scrollLeft),_=!1)})),this._register(this._editors.modified.onDidScrollChange(C=>{C.scrollLeftChanged&&!_&&(_=!0,this._editors.original.setScrollLeft(C.scrollLeft),_=!1)})),this._originalScrollTop=Pi(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=Pi(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register(Lt(C=>{const y=this._originalScrollTop.read(C)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(C))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(C));y!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(y,1)})),this._register(Lt(C=>{const y=this._modifiedScrollTop.read(C)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(C))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(C));y!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(y,1)})),this._register(Lt(C=>{var y;const w=(y=this._diffModel.read(C))===null||y===void 0?void 0:y.movedTextToCompare.read(C);let S=0;if(w){const x=this._editors.original.getTopForLineNumber(w.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();S=this._editors.modified.getTopForLineNumber(w.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-x}S>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(S,void 0)):S<0?(this._modifiedTopPadding.set(-S,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-S,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+S,void 0,!0)}))}};lF=ARe([_K(8,kh),_K(9,Ps)],lF);function CK(n,e,t,i,o,r){const s=new dh(yK(n,i)),a=new dh(yK(e,o)),l=n.getOption(67),c=e.getOption(67),d=[];let u=0,h=0;function g(f,p){for(;;){let b=s.peek(),v=a.peek();if(b&&b.lineNumber>=f&&(b=void 0),v&&v.lineNumber>=p&&(v=void 0),!b&&!v)break;const _=b?b.lineNumber-u:Number.MAX_VALUE,C=v?v.lineNumber-h:Number.MAX_VALUE;_<C?(s.dequeue(),v={lineNumber:b.lineNumber-u+h,heightInPx:0}):_>C?(a.dequeue(),b={lineNumber:v.lineNumber-h+u,heightInPx:0}):(s.dequeue(),a.dequeue()),d.push({originalRange:wt.ofLength(b.lineNumber,1),modifiedRange:wt.ofLength(v.lineNumber,1),originalHeightInPx:l+b.heightInPx,modifiedHeightInPx:c+v.heightInPx,diff:void 0})}}for(const f of t){let C=function(y,w){var S,x,L,E;if(y<_||w<v)return;if(b)b=!1;else if(y===_||w===v)return;const O=new wt(_,y),P=new wt(v,w);if(O.isEmpty&&P.isEmpty)return;const A=(x=(S=s.takeWhile(K=>K.lineNumber<y))===null||S===void 0?void 0:S.reduce((K,te)=>K+te.heightInPx,0))!==null&&x!==void 0?x:0,F=(E=(L=a.takeWhile(K=>K.lineNumber<w))===null||L===void 0?void 0:L.reduce((K,te)=>K+te.heightInPx,0))!==null&&E!==void 0?E:0;d.push({originalRange:O,modifiedRange:P,originalHeightInPx:O.length*l+A,modifiedHeightInPx:P.length*c+F,diff:f.lineRangeMapping}),_=y,v=w};const p=f.lineRangeMapping;g(p.original.startLineNumber,p.modified.startLineNumber);let b=!0,v=p.modified.startLineNumber,_=p.original.startLineNumber;if(r)for(const y of p.innerChanges||[]){y.originalRange.startColumn>1&&y.modifiedRange.startColumn>1&&C(y.originalRange.startLineNumber,y.modifiedRange.startLineNumber);const w=n.getModel(),S=y.originalRange.endLineNumber<=w.getLineCount()?w.getLineMaxColumn(y.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;y.originalRange.endColumn<S&&C(y.originalRange.endLineNumber,y.modifiedRange.endLineNumber)}C(p.original.endLineNumberExclusive,p.modified.endLineNumberExclusive),u=p.original.endLineNumberExclusive,h=p.modified.endLineNumberExclusive}return g(Number.MAX_VALUE,Number.MAX_VALUE),d}function yK(n,e){const t=[],i=[],o=n.getOption(145).wrappingColumn!==-1,r=n._getViewModel().coordinatesConverter,s=n.getOption(67);if(o)for(let l=1;l<=n.getModel().getLineCount();l++){const c=r.getModelLineViewLineCount(l);c>1&&i.push({lineNumber:l,heightInPx:s*(c-1)})}for(const l of n.getWhitespaces()){if(e.has(l.id))continue;const c=l.afterLineNumber===0?0:r.convertViewPositionToModelPosition(new W(l.afterLineNumber,1)).lineNumber;t.push({lineNumber:c,heightInPx:l.height})}return tRe(t,i,l=>l.lineNumber,(l,c)=>({lineNumber:l.lineNumber,heightInPx:l.heightInPx+c.heightInPx}))}var PRe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},ORe=function(n,e){return function(t,i){e(t,i,n)}},Qa;let xm=Qa=class extends z{constructor(e,t,i,o,r,s,a){super(),this._editors=e,this._rootElement=t,this._diffModel=i,this._rootWidth=o,this._rootHeight=r,this._modifiedEditorLayoutInfo=s,this._themeService=a,this.width=Qa.ENTIRE_DIFF_OVERVIEW_WIDTH;const l=Pi(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),c=nt(h=>{const g=l.read(h),f=g.getColor(xCe)||(g.getColor(wCe)||p4).transparent(2),p=g.getColor(kCe)||(g.getColor(SCe)||m4).transparent(2);return{insertColor:f,removeColor:p}}),d=ii(document.createElement("div"));d.setClassName("diffViewport"),d.setPosition("absolute");const u=pi("div.diffOverview",{style:{position:"absolute",top:"0px",width:Qa.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register(Sk(u,d.domNode)),this._register(fn(u,ge.POINTER_DOWN,h=>{this._editors.modified.delegateVerticalScrollbarPointerDown(h)})),this._register(j(u,ge.MOUSE_WHEEL,h=>{this._editors.modified.delegateScrollFromMouseWheelEvent(h)},{passive:!1})),this._register(Sk(this._rootElement,u)),this._register(Pc((h,g)=>{const f=this._diffModel.read(h),p=this._editors.original.createOverviewRuler("original diffOverviewRuler");p&&(g.add(p),g.add(Sk(u,p.getDomNode())));const b=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(b&&(g.add(b),g.add(Sk(u,b.getDomNode()))),!p||!b)return;const v=Er("viewZoneChanged",this._editors.original.onDidChangeViewZones),_=Er("viewZoneChanged",this._editors.modified.onDidChangeViewZones),C=Er("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),y=Er("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);g.add(Lt(w=>{var S;v.read(w),_.read(w),C.read(w),y.read(w);const x=c.read(w),L=(S=f==null?void 0:f.diff.read(w))===null||S===void 0?void 0:S.mappings;function E(A,F,K){const te=K._getViewModel();return te?A.filter(ye=>ye.length>0).map(ye=>{const be=te.coordinatesConverter.convertModelPositionToViewPosition(new W(ye.startLineNumber,1)),ae=te.coordinatesConverter.convertModelPositionToViewPosition(new W(ye.endLineNumberExclusive,1)),Q=ae.lineNumber-be.lineNumber;return new Ree(be.lineNumber,ae.lineNumber,Q,F.toString())}):[]}const O=E((L||[]).map(A=>A.lineRangeMapping.original),x.removeColor,this._editors.original),P=E((L||[]).map(A=>A.lineRangeMapping.modified),x.insertColor,this._editors.modified);p==null||p.setZones(O),b==null||b.setZones(P)})),g.add(Lt(w=>{const S=this._rootHeight.read(w),x=this._rootWidth.read(w),L=this._modifiedEditorLayoutInfo.read(w);if(L){const E=Qa.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Qa.ONE_OVERVIEW_WIDTH;p.setLayout({top:0,height:S,right:E+Qa.ONE_OVERVIEW_WIDTH,width:Qa.ONE_OVERVIEW_WIDTH}),b.setLayout({top:0,height:S,right:0,width:Qa.ONE_OVERVIEW_WIDTH});const O=this._editors.modifiedScrollTop.read(w),P=this._editors.modifiedScrollHeight.read(w),A=this._editors.modified.getOption(103),F=new B_(A.verticalHasArrows?A.arrowSize:0,A.verticalScrollbarSize,0,L.height,P,O);d.setTop(F.getSliderPosition()),d.setHeight(F.getSliderSize())}else d.setTop(0),d.setHeight(0);u.style.height=S+"px",u.style.left=x-Qa.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",d.setWidth(Qa.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};xm.ONE_OVERVIEW_WIDTH=15;xm.ENTIRE_DIFF_OVERVIEW_WIDTH=Qa.ONE_OVERVIEW_WIDTH*2;xm=Qa=PRe([ORe(6,ao)],xm);class JI extends z{constructor(){super(...arguments),this._id=++JI.idCounter,this._onDidDispose=this._register(new B),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(e){return this._targetEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._targetEditor.getPosition()}setPosition(e,t="api"){this._targetEditor.setPosition(e,t)}revealLine(e,t=0){this._targetEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._targetEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._targetEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._targetEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._targetEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._targetEditor.revealPositionNearTop(e,t)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(e,t="api"){this._targetEditor.setSelection(e,t)}setSelections(e,t="api"){this._targetEditor.setSelections(e,t)}revealLines(e,t,i=0){this._targetEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._targetEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._targetEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,o=!0){this._targetEditor.revealRange(e,t,i,o)}revealRangeInCenter(e,t=0){this._targetEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._targetEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._targetEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(e,t,i){this._targetEditor.trigger(e,t,i)}createDecorationsCollection(e){return this._targetEditor.createDecorationsCollection(e)}changeDecorations(e){return this._targetEditor.changeDecorations(e)}}JI.idCounter=0;var FRe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},wK=function(n,e){return function(t,i){e(t,i,n)}};let cF=class extends z{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor(e,t,i,o,r,s,a){super(),this.originalEditorElement=e,this.modifiedEditorElement=t,this._options=i,this._createInnerEditor=r,this._instantiationService=s,this._keybindingService=a,this._onDidContentSizeChange=this._register(new B),this.original=this._register(this._createLeftHandSideEditor(i.editorOptions.get(),o.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(i.editorOptions.get(),o.modifiedEditor||{})),this.modifiedModel=Pi(this.modified.onDidChangeModel,()=>this.modified.getModel()),this.modifiedScrollTop=Pi(this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=Pi(this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedSelections=Pi(this.modified.onDidChangeCursorSelection,()=>{var l;return(l=this.modified.getSelections())!==null&&l!==void 0?l:[]}),this.modifiedCursor=i_({owner:this,equalityComparer:W.equals},l=>{var c,d;return(d=(c=this.modifiedSelections.read(l)[0])===null||c===void 0?void 0:c.getPosition())!==null&&d!==void 0?d:new W(1,1)}),this.originalCursor=Pi(this.original.onDidChangeCursorPosition,()=>{var l;return(l=this.original.getPosition())!==null&&l!==void 0?l:new W(1,1)}),this._register(qS({createEmptyChangeSummary:()=>({}),handleChange:(l,c)=>(l.didChange(i.editorOptions)&&Object.assign(c,l.change.changedOptions),!0)},(l,c)=>{i.editorOptions.read(l),this._options.renderSideBySide.read(l),this.modified.updateOptions(this._adjustOptionsForRightHandSide(l,c)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(l,c))}))}_createLeftHandSideEditor(e,t){const i=this._adjustOptionsForLeftHandSide(void 0,e),o=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,i,t);return o.setContextValue("isInDiffLeftEditor",!0),o}_createRightHandSideEditor(e,t){const i=this._adjustOptionsForRightHandSide(void 0,e),o=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,i,t);return o.setContextValue("isInDiffRightEditor",!0),o}_constructInnerEditor(e,t,i,o){const r=this._createInnerEditor(e,t,i,o);return this._register(r.onDidContentSizeChange(s=>{const a=this.original.getContentWidth()+this.modified.getContentWidth()+xm.ENTIRE_DIFF_OVERVIEW_WIDTH,l=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:l,contentWidth:a,contentHeightChanged:s.contentHeightChanged,contentWidthChanged:s.contentWidthChanged})})),r}_adjustOptionsForLeftHandSide(e,t){const i=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide.get()?(i.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},i.wordWrapOverride1=this._options.diffWordWrap.get()):(i.wordWrapOverride1="off",i.wordWrapOverride2="off",i.stickyScroll={enabled:!1},i.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),i.glyphMargin=this._options.renderSideBySide.get(),t.originalAriaLabel&&(i.ariaLabel=t.originalAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.readOnly=!this._options.originalEditable.get(),i.dropIntoEditor={enabled:!i.readOnly},i.extraEditorClassName="original-in-monaco-diff-editor",i}_adjustOptionsForRightHandSide(e,t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.wordWrapOverride1=this._options.diffWordWrap.get(),i.revealHorizontalRightPadding=Tc.revealHorizontalRightPadding.defaultValue+xm.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",i}_adjustOptionsForSubEditor(e){const t={...e,dimension:{height:0,width:0}};return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar={...t.scrollbar||{}},t.folding=!1,t.codeLens=this._options.diffCodeLens.get(),t.fixedOverflowWidgets=!0,t.minimap={...t.minimap||{}},t.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?t.stickyScroll={enabled:!1}:t.stickyScroll=this._options.editorOptions.get().stickyScroll,t}_updateAriaLabel(e){var t;e||(e="");const i=m("diff-aria-navigation-tip"," use {0} to open the accessibility help.",(t=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||t===void 0?void 0:t.getAriaLabel());return this._options.accessibilityVerbose.get()?e+i:e?e.replaceAll(i,""):""}};cF=FRe([wK(5,Ge),wK(6,di)],cF);class BRe{get editorOptions(){return this._options}constructor(e){this._diffEditorWidth=$t(this,0),this.couldShowInlineViewBecauseOfSize=nt(this,i=>this._options.read(i).renderSideBySide&&this._diffEditorWidth.read(i)<=this._options.read(i).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=nt(this,i=>this._options.read(i).renderOverviewRuler),this.renderSideBySide=nt(this,i=>this._options.read(i).renderSideBySide&&!(this._options.read(i).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(i))),this.readOnly=nt(this,i=>this._options.read(i).readOnly),this.shouldRenderRevertArrows=nt(this,i=>!(!this._options.read(i).renderMarginRevertIcon||!this.renderSideBySide.read(i)||this.readOnly.read(i))),this.renderIndicators=nt(this,i=>this._options.read(i).renderIndicators),this.enableSplitViewResizing=nt(this,i=>this._options.read(i).enableSplitViewResizing),this.splitViewDefaultRatio=nt(this,i=>this._options.read(i).splitViewDefaultRatio),this.ignoreTrimWhitespace=nt(this,i=>this._options.read(i).ignoreTrimWhitespace),this.maxComputationTimeMs=nt(this,i=>this._options.read(i).maxComputationTime),this.showMoves=nt(this,i=>this._options.read(i).experimental.showMoves&&this.renderSideBySide.read(i)),this.isInEmbeddedEditor=nt(this,i=>this._options.read(i).isInEmbeddedEditor),this.diffWordWrap=nt(this,i=>this._options.read(i).diffWordWrap),this.originalEditable=nt(this,i=>this._options.read(i).originalEditable),this.diffCodeLens=nt(this,i=>this._options.read(i).diffCodeLens),this.accessibilityVerbose=nt(this,i=>this._options.read(i).accessibilityVerbose),this.diffAlgorithm=nt(this,i=>this._options.read(i).diffAlgorithm),this.showEmptyDecorations=nt(this,i=>this._options.read(i).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=nt(this,i=>this._options.read(i).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=nt(this,i=>this._options.read(i).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=nt(this,i=>this._options.read(i).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=nt(this,i=>this._options.read(i).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=nt(this,i=>this._options.read(i).hideUnchangedRegions.minimumLineCount);const t={...e,...SK(e,or)};this._options=$t(this,t)}updateOptions(e){const t=SK(e,this._options.get()),i={...this._options.get(),...e,...t};this._options.set(i,void 0,{changedOptions:e})}setWidth(e){this._diffEditorWidth.set(e,void 0)}}function SK(n,e){var t,i,o,r,s,a,l,c;return{enableSplitViewResizing:Be(n.enableSplitViewResizing,e.enableSplitViewResizing),splitViewDefaultRatio:fpe(n.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:Be(n.renderSideBySide,e.renderSideBySide),renderMarginRevertIcon:Be(n.renderMarginRevertIcon,e.renderMarginRevertIcon),maxComputationTime:ap(n.maxComputationTime,e.maxComputationTime,0,1073741824),maxFileSize:ap(n.maxFileSize,e.maxFileSize,0,1073741824),ignoreTrimWhitespace:Be(n.ignoreTrimWhitespace,e.ignoreTrimWhitespace),renderIndicators:Be(n.renderIndicators,e.renderIndicators),originalEditable:Be(n.originalEditable,e.originalEditable),diffCodeLens:Be(n.diffCodeLens,e.diffCodeLens),renderOverviewRuler:Be(n.renderOverviewRuler,e.renderOverviewRuler),diffWordWrap:dn(n.diffWordWrap,e.diffWordWrap,["off","on","inherit"]),diffAlgorithm:dn(n.diffAlgorithm,e.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:Be(n.accessibilityVerbose,e.accessibilityVerbose),experimental:{showMoves:Be((t=n.experimental)===null||t===void 0?void 0:t.showMoves,e.experimental.showMoves),showEmptyDecorations:Be((i=n.experimental)===null||i===void 0?void 0:i.showEmptyDecorations,e.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:Be((r=(o=n.hideUnchangedRegions)===null||o===void 0?void 0:o.enabled)!==null&&r!==void 0?r:(s=n.experimental)===null||s===void 0?void 0:s.collapseUnchangedRegions,e.hideUnchangedRegions.enabled),contextLineCount:ap((a=n.hideUnchangedRegions)===null||a===void 0?void 0:a.contextLineCount,e.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:ap((l=n.hideUnchangedRegions)===null||l===void 0?void 0:l.minimumLineCount,e.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:ap((c=n.hideUnchangedRegions)===null||c===void 0?void 0:c.revealLineCount,e.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:Be(n.isInEmbeddedEditor,e.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:Be(n.onlyShowAccessibleDiffViewer,e.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:ap(n.renderSideBySideInlineBreakpoint,e.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:Be(n.useInlineViewWhenSpaceIsLimited,e.useInlineViewWhenSpaceIsLimited)}}const dA=[];class WRe extends z{constructor(e,t,i,o){super(),this._editors=e,this._diffModel=t,this._options=i,this._widget=o,this._selectedDiffs=nt(this,r=>{const s=this._diffModel.read(r),a=s==null?void 0:s.diff.read(r);if(!a)return dA;const l=this._editors.modifiedSelections.read(r);if(l.every(h=>h.isEmpty()))return dA;const c=new al(l.map(h=>wt.fromRangeInclusive(h))),u=a.mappings.filter(h=>h.lineRangeMapping.innerChanges&&c.intersects(h.lineRangeMapping.modified)).map(h=>({mapping:h,rangeMappings:h.lineRangeMapping.innerChanges.filter(g=>l.some(f=>D.areIntersecting(g.modifiedRange,f)))}));return u.length===0||u.every(h=>h.rangeMappings.length===0)?dA:u}),this._register(Pc((r,s)=>{if(!this._options.shouldRenderRevertArrows.read(r))return;const a=this._diffModel.read(r),l=a==null?void 0:a.diff.read(r);if(!a||!l||a.movedTextToCompare.read(r))return;const c=[],d=this._selectedDiffs.read(r),u=new Set(d.map(h=>h.mapping));if(d.length>0){const h=this._editors.modifiedSelections.read(r),g=s.add(new Ew(h[h.length-1].positionLineNumber,this._widget,d.flatMap(f=>f.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(g),c.push(g)}for(const h of l.mappings)if(!u.has(h)&&!h.lineRangeMapping.modified.isEmpty&&h.lineRangeMapping.innerChanges){const g=s.add(new Ew(h.lineRangeMapping.modified.startLineNumber,this._widget,h.lineRangeMapping.innerChanges,!1));this._editors.modified.addGlyphMarginWidget(g),c.push(g)}s.add(je(()=>{for(const h of c)this._editors.modified.removeGlyphMarginWidget(h)}))}))}}class Ew extends z{getId(){return this._id}constructor(e,t,i,o){super(),this._lineNumber=e,this._widget=t,this._diffs=i,this._revertSelection=o,this._id=`revertButton${Ew.counter++}`,this._domNode=pi("div.revertButton",{title:this._revertSelection?m("revertSelectedChanges","Revert Selected Changes"):m("revertChange","Revert Change")},[aw(pe.arrowRight)]).root,this._register(j(this._domNode,ge.MOUSE_DOWN,r=>{r.button!==2&&(r.stopPropagation(),r.preventDefault())})),this._register(j(this._domNode,ge.MOUSE_UP,r=>{r.stopPropagation(),r.preventDefault()})),this._register(j(this._domNode,ge.CLICK,r=>{this._widget.revertRangeMappings(this._diffs),r.stopPropagation(),r.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:Ad.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}Ew.counter=0;var VRe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},y1=function(n,e){return function(t,i){e(t,i,n)}};let gf=class extends JI{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor(e,t,i,o,r,s,a,l){var c;super(),this._domElement=e,this._parentContextKeyService=o,this._parentInstantiationService=r,this._accessibilitySignalService=a,this._editorProgressService=l,this.elements=pi("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[pi("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[ue("span",{},"No Changes")]),pi("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),pi("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),pi("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=$t(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=me.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new PS([Xe,this._contextKeyService])),this._boundarySashes=$t(this,void 0),this._accessibleDiffViewerShouldBeVisible=$t(this,!1),this._accessibleDiffViewerVisible=nt(this,y=>this._options.onlyShowAccessibleDiffViewer.read(y)?!0:this._accessibleDiffViewerShouldBeVisible.read(y)),this._movedBlocksLinesPart=$t(this,void 0),this._layoutInfo=nt(this,y=>{var w,S,x,L,E;const O=this._rootSizeObserver.width.read(y),P=this._rootSizeObserver.height.read(y),A=(w=this._sash.read(y))===null||w===void 0?void 0:w.sashLeft.read(y),F=A??Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),K=O-F-((x=(S=this._overviewRulerPart.read(y))===null||S===void 0?void 0:S.width)!==null&&x!==void 0?x:0),te=(E=(L=this._movedBlocksLinesPart.read(y))===null||L===void 0?void 0:L.width.read(y))!==null&&E!==void 0?E:0,ye=F-te;return this.elements.original.style.width=ye+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=K+"px",this.elements.modified.style.left=F+"px",this._editors.original.layout({width:ye,height:P},!0),this._editors.modified.layout({width:K,height:P},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((y,w)=>y==null?void 0:y.diff.read(w)),this.onDidUpdateDiff=me.fromObservableLight(this._diffValue),s.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register(je(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new Aie(this.elements.root,t.dimension)),this._rootSizeObserver.setAutomaticLayout((c=t.automaticLayout)!==null&&c!==void 0?c:!1),this._options=new BRe(t),this._register(Lt(y=>{this._options.setWidth(this._rootSizeObserver.width.read(y))})),this._contextKeyService.createKey(I.isEmbeddedDiffEditor.key,!1),this._register(xk(I.isEmbeddedDiffEditor,this._contextKeyService,y=>this._options.isInEmbeddedEditor.read(y))),this._register(xk(I.comparingMovedCode,this._contextKeyService,y=>{var w;return!!(!((w=this._diffModel.read(y))===null||w===void 0)&&w.movedTextToCompare.read(y))})),this._register(xk(I.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,y=>this._options.couldShowInlineViewBecauseOfSize.read(y))),this._register(xk(I.hasChanges,this._contextKeyService,y=>{var w,S,x;return((x=(S=(w=this._diffModel.read(y))===null||w===void 0?void 0:w.diff.read(y))===null||S===void 0?void 0:S.mappings.length)!==null&&x!==void 0?x:0)>0})),this._editors=this._register(this._instantiationService.createInstance(cF,this.elements.original,this.elements.modified,this._options,i,(y,w,S,x)=>this._createInnerEditor(y,w,S,x))),this._overviewRulerPart=$h(this,y=>this._options.renderOverviewRuler.read(y)?this._instantiationService.createInstance(id(xm,y),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(w=>w.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store),this._sash=$h(this,y=>{const w=this._options.renderSideBySide.read(y);return this.elements.root.classList.toggle("side-by-side",w),w?new xRe(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((S,x)=>{var L,E;return S-((E=(L=this._overviewRulerPart.read(x))===null||L===void 0?void 0:L.width)!==null&&E!==void 0?E:0)})},this._boundarySashes):void 0}).recomputeInitiallyAndOnChange(this._store);const d=$h(this,y=>this._instantiationService.createInstance(id(Dw,y),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);$h(this,y=>this._instantiationService.createInstance(id(SRe,y),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const u=new Set,h=new Set;let g=!1;const f=$h(this,y=>this._instantiationService.createInstance(id(lF,y),qe(this._domElement),this._editors,this._diffModel,this._options,this,()=>g||d.get().isUpdatingHiddenAreas,u,h)).recomputeInitiallyAndOnChange(this._store),p=nt(this,y=>{const w=f.read(y).viewZones.read(y).orig,S=d.read(y).viewZones.read(y).origViewZones;return w.concat(S)}),b=nt(this,y=>{const w=f.read(y).viewZones.read(y).mod,S=d.read(y).viewZones.read(y).modViewZones;return w.concat(S)});this._register(hE(this._editors.original,p,y=>{g=y},u));let v;this._register(hE(this._editors.modified,b,y=>{g=y,g?v=Dc.capture(this._editors.modified):(v==null||v.restore(this._editors.modified),v=void 0)},h)),this._accessibleDiffViewer=$h(this,y=>this._instantiationService.createInstance(id(vg,y),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(w,S)=>this._accessibleDiffViewerShouldBeVisible.set(w,S),this._options.onlyShowAccessibleDiffViewer.map(w=>!w),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((w,S)=>{var x;return(x=w==null?void 0:w.diff.read(S))===null||x===void 0?void 0:x.mappings.map(L=>L.lineRangeMapping)}),new vRe(this._editors))).recomputeInitiallyAndOnChange(this._store);const _=this._accessibleDiffViewerVisible.map(y=>y?"hidden":"visible");this._register(zg(this.elements.modified,{visibility:_})),this._register(zg(this.elements.original,{visibility:_})),this._createDiffEditorContributions(),s.addDiffEditor(this),this._register(GS(this._layoutInfo)),$h(this,y=>new(id(Ug,y))(this.elements.root,this._diffModel,this._layoutInfo.map(w=>w.originalEditor),this._layoutInfo.map(w=>w.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,y=>{this._movedBlocksLinesPart.set(y,void 0)}),this._register(zg(this.elements.overlay,{width:this._layoutInfo.map((y,w)=>y.originalEditor.width+(this._options.renderSideBySide.read(w)?0:y.modifiedEditor.width)),visibility:nt(y=>{var w,S;return this._options.hideUnchangedRegions.read(y)&&((S=(w=this._diffModel.read(y))===null||w===void 0?void 0:w.diff.read(y))===null||S===void 0?void 0:S.mappings.length)===0?"visible":"hidden"})})),this._register(me.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,y=>{var w,S;if((y==null?void 0:y.reason)===3){const x=(S=(w=this._diffModel.get())===null||w===void 0?void 0:w.diff.get())===null||S===void 0?void 0:S.mappings.find(L=>L.lineRangeMapping.modified.contains(y.position.lineNumber));x!=null&&x.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(vt.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):x!=null&&x.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(vt.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):x&&this._accessibilitySignalService.playSignal(vt.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}));const C=this._diffModel.map(this,(y,w)=>{if(y)return y.diff.read(w)===void 0&&!y.isDiffUpToDate.read(w)});this._register(Pc((y,w)=>{if(C.read(y)===!0){const S=this._editorProgressService.show(!0,1e3);w.add(je(()=>S.done()))}})),this._register(je(()=>{var y;this._shouldDisposeDiffModel&&((y=this._diffModel.get())===null||y===void 0||y.dispose())})),this._register(new WRe(this._editors,this._diffModel,this._options,this))}_createInnerEditor(e,t,i,o){return e.createInstance(V_,t,i,o)}_createDiffEditorContributions(){const e=Fb.getDiffEditorContributions();for(const t of e)try{this._register(this._instantiationService.createInstance(t.ctor,this))}catch(i){st(i)}}get _targetEditor(){return this._editors.modified}getEditorType(){return kS.IDiffEditor}layout(e){this._rootSizeObserver.observe(e)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var e;const t=this._editors.original.saveViewState(),i=this._editors.modified.saveViewState();return{original:t,modified:i,modelState:(e=this._diffModel.get())===null||e===void 0?void 0:e.serializeState()}}restoreViewState(e){var t;if(e&&e.original&&e.modified){const i=e;this._editors.original.restoreViewState(i.original),this._editors.modified.restoreViewState(i.modified),i.modelState&&((t=this._diffModel.get())===null||t===void 0||t.restoreSerializedState(i.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel(e){return this._instantiationService.createInstance(aF,e,this._options)}getModel(){var e,t;return(t=(e=this._diffModel.get())===null||e===void 0?void 0:e.model)!==null&&t!==void 0?t:null}setModel(e,t){!e&&this._diffModel.get()&&this._accessibleDiffViewer.get().close();const i=e?"model"in e?{model:e,shouldDispose:!1}:{model:this.createViewModel(e),shouldDispose:!0}:void 0;this._diffModel.get()!==(i==null?void 0:i.model)&&kw(t,o=>{var r;Pi.batchEventsGlobally(o,()=>{this._editors.original.setModel(i?i.model.model.original:null),this._editors.modified.setModel(i?i.model.model.modified:null)});const s=this._diffModel.get(),a=this._shouldDisposeDiffModel;this._shouldDisposeDiffModel=(r=i==null?void 0:i.shouldDispose)!==null&&r!==void 0?r:!1,this._diffModel.set(i==null?void 0:i.model,o),a&&(s==null||s.dispose())})}updateOptions(e){this._options.updateOptions(e)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var e;const t=(e=this._diffModel.get())===null||e===void 0?void 0:e.diff.get();return t?HRe(t):null}revert(e){if(e.innerChanges){this.revertRangeMappings(e.innerChanges);return}const t=this._diffModel.get();!t||!t.isDiffUpToDate.get()||this._editors.modified.executeEdits("diffEditor",[{range:e.modified.toExclusiveRange(),text:t.model.original.getValueInRange(e.original.toExclusiveRange())}])}revertRangeMappings(e){const t=this._diffModel.get();if(!t||!t.isDiffUpToDate.get())return;const i=e.map(o=>({range:o.modifiedRange,text:t.model.original.getValueInRange(o.originalRange)}));this._editors.modified.executeEdits("diffEditor",i)}_goTo(e){this._editors.modified.setPosition(new W(e.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(e.lineRangeMapping.modified.toExclusiveRange())}goToDiff(e){var t,i,o,r;const s=(i=(t=this._diffModel.get())===null||t===void 0?void 0:t.diff.get())===null||i===void 0?void 0:i.mappings;if(!s||s.length===0)return;const a=this._editors.modified.getPosition().lineNumber;let l;e==="next"?l=(o=s.find(c=>c.lineRangeMapping.modified.startLineNumber>a))!==null&&o!==void 0?o:s[0]:l=(r=Fy(s,c=>c.lineRangeMapping.modified.startLineNumber<a))!==null&&r!==void 0?r:s[s.length-1],this._goTo(l),l.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(vt.diffLineDeleted,{source:"diffEditor.goToDiff"}):l.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(vt.diffLineInserted,{source:"diffEditor.goToDiff"}):l&&this._accessibilitySignalService.playSignal(vt.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const e=this._diffModel.get();e&&this.waitForDiff().then(()=>{var t;const i=(t=e.diff.get())===null||t===void 0?void 0:t.mappings;!i||i.length===0||this._goTo(i[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){const e=this._diffModel.get();e&&await e.waitForDiff()}mapToOtherSide(){var e,t;const i=this._editors.modified.hasWidgetFocus(),o=i?this._editors.modified:this._editors.original,r=i?this._editors.original:this._editors.modified;let s;const a=o.getSelection();if(a){const l=(t=(e=this._diffModel.get())===null||e===void 0?void 0:e.diff.get())===null||t===void 0?void 0:t.mappings.map(c=>i?c.lineRangeMapping.flip():c.lineRangeMapping);if(l){const c=cK(a.getStartPosition(),l),d=cK(a.getEndPosition(),l);s=D.plusRange(c,d)}}return{destination:r,destinationSelection:s}}switchSide(){const{destination:e,destinationSelection:t}=this.mapToOtherSide();e.focus(),t&&e.setSelection(t)}exitCompareMove(){const e=this._diffModel.get();e&&e.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var e;const t=(e=this._diffModel.get())===null||e===void 0?void 0:e.unchangedRegions.get();t&&Ti(i=>{for(const o of t)o.collapseAll(i)})}showAllUnchangedRegions(){var e;const t=(e=this._diffModel.get())===null||e===void 0?void 0:e.unchangedRegions.get();t&&Ti(i=>{for(const o of t)o.showAll(i)})}};gf=VRe([y1(3,Xe),y1(4,Ge),y1(5,qt),y1(6,Vf),y1(7,Ff)],gf);function HRe(n){return n.mappings.map(e=>{const t=e.lineRangeMapping;let i,o,r,s,a=t.innerChanges;return t.original.isEmpty?(i=t.original.startLineNumber-1,o=0,a=void 0):(i=t.original.startLineNumber,o=t.original.endLineNumberExclusive-1),t.modified.isEmpty?(r=t.modified.startLineNumber-1,s=0,a=void 0):(r=t.modified.startLineNumber,s=t.modified.endLineNumberExclusive-1),{originalStartLineNumber:i,originalEndLineNumber:o,modifiedStartLineNumber:r,modifiedEndLineNumber:s,charChanges:a==null?void 0:a.map(l=>({originalStartLineNumber:l.originalRange.startLineNumber,originalStartColumn:l.originalRange.startColumn,originalEndLineNumber:l.originalRange.endLineNumber,originalEndColumn:l.originalRange.endColumn,modifiedStartLineNumber:l.modifiedRange.startLineNumber,modifiedStartColumn:l.modifiedRange.startColumn,modifiedEndLineNumber:l.modifiedRange.endLineNumber,modifiedEndColumn:l.modifiedRange.endColumn}))}})}var X7=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Vi=function(n,e){return function(t,i){e(t,i,n)}};let zRe=0,xK=!1;function URe(n){if(!n){if(xK)return;xK=!0}E1e(n||gi.document.body)}let fE=class extends V_{constructor(e,t,i,o,r,s,a,l,c,d,u,h){const g={...t};g.ariaLabel=g.ariaLabel||W2.editorViewAccessibleLabel,g.ariaLabel=g.ariaLabel+";"+W2.accessibilityHelpMessage,super(e,g,{},i,o,r,s,l,c,d,u,h),a instanceof G_?this._standaloneKeybindingService=a:this._standaloneKeybindingService=null,URe(g.ariaContainerElement),nEe((f,p)=>i.createInstance(M2,f,p,{}))}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const o="DYNAMIC_"+ ++zRe,r=ee.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(o,e,t,r),o}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if(typeof e.id!="string"||typeof e.label!="string"||typeof e.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),z.None;const t=e.id,i=e.label,o=ee.and(ee.equals("editorId",this.getId()),ee.deserialize(e.precondition)),r=e.keybindings,s=ee.and(o,ee.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,c=(g,...f)=>Promise.resolve(e.run(this,...f)),d=new oe,u=this.getId()+":"+t;if(d.add(Pt.registerCommand(u,c)),a){const g={command:{id:u,title:i},when:o,group:a,order:l};d.add(Io.appendMenuItem(T.EditorContext,g))}if(Array.isArray(r))for(const g of r)d.add(this._standaloneKeybindingService.addDynamicKeybinding(u,g,c,s));const h=new Aee(u,i,i,void 0,o,(...g)=>Promise.resolve(e.run(this,...g)),this._contextKeyService);return this._actions.set(t,h),d.add(je(()=>{this._actions.delete(t)})),d}_triggerCommand(e,t){if(this._codeEditorService instanceof T2)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};fE=X7([Vi(2,Ge),Vi(3,qt),Vi(4,tn),Vi(5,Xe),Vi(6,di),Vi(7,ao),Vi(8,Nn),Vi(9,Dl),Vi(10,Di),Vi(11,Re)],fE);let dF=class extends fE{constructor(e,t,i,o,r,s,a,l,c,d,u,h,g,f,p){const b={...t};cE(d,b,!1);const v=l.registerEditorContainer(e);typeof b.theme=="string"&&l.setTheme(b.theme),typeof b.autoDetectHighContrast<"u"&&l.setAutoDetectHighContrast(!!b.autoDetectHighContrast);const _=b.model;delete b.model,super(e,b,i,o,r,s,a,l,c,u,f,p),this._configurationService=d,this._standaloneThemeService=l,this._register(v);let C;if(typeof _>"u"){const y=g.getLanguageIdByMimeType(b.language)||b.language||oa;C=Vie(h,g,b.value||"",y,void 0),this._ownsModel=!0}else C=_,this._ownsModel=!1;if(this._attachModel(C),C){const y={oldModelUrl:null,newModelUrl:C.uri};this._onDidChangeModel.fire(y)}}dispose(){super.dispose()}updateOptions(e){cE(this._configurationService,e,!1),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};dF=X7([Vi(2,Ge),Vi(3,qt),Vi(4,tn),Vi(5,Xe),Vi(6,di),Vi(7,ma),Vi(8,Nn),Vi(9,yt),Vi(10,Dl),Vi(11,Yi),Vi(12,Bi),Vi(13,Di),Vi(14,Re)],dF);let uF=class extends gf{constructor(e,t,i,o,r,s,a,l,c,d,u,h){const g={...t};cE(l,g,!0);const f=s.registerEditorContainer(e);typeof g.theme=="string"&&s.setTheme(g.theme),typeof g.autoDetectHighContrast<"u"&&s.setAutoDetectHighContrast(!!g.autoDetectHighContrast),super(e,g,{},o,i,r,h,d),this._configurationService=l,this._standaloneThemeService=s,this._register(f)}dispose(){super.dispose()}updateOptions(e){cE(this._configurationService,e,!0),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(fE,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};uF=X7([Vi(2,Ge),Vi(3,Xe),Vi(4,qt),Vi(5,ma),Vi(6,Nn),Vi(7,yt),Vi(8,Ps),Vi(9,Ff),Vi(10,kh),Vi(11,Vf)],uF);function Vie(n,e,t,i,o){if(t=t||"",!i){const r=t.indexOf(`
`);let s=t;return r!==-1&&(s=t.substring(0,r)),kK(n,t,e.createByFilepathOrFirstLine(o||null,s),o)}return kK(n,t,e.createById(i),o)}function kK(n,e,t,i){return n.createModel(e,t,i)}class $Re extends z{constructor(e,t,i={orientation:0}){var o;super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new fme),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new oe),i.hoverDelegate=(o=i.hoverDelegate)!==null&&o!==void 0?o:this._register(wh("element",!0)),this.options=i,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new Tw(()=>{var r;return(r=this.toggleMenuActionViewItem)===null||r===void 0?void 0:r.show()},i.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",e.appendChild(this.element),this.actionBar=this._register(new Wa(this.element,{orientation:i.orientation,ariaLabel:i.ariaLabel,actionRunner:i.actionRunner,allowContextMenu:i.allowContextMenu,highlightToggledItems:i.highlightToggledItems,hoverDelegate:i.hoverDelegate,actionViewItemProvider:(r,s)=>{var a;if(r.id===Tw.ID)return this.toggleMenuActionViewItem=new z2(r,r.menuActions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:Ze.asClassNameArray((a=i.moreIcon)!==null&&a!==void 0?a:pe.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(i.actionViewItemProvider){const l=i.actionViewItemProvider(r,s);if(l)return l}if(r instanceof k_){const l=new z2(r,r.actions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:r.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return l.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(l),this.disposables.add(this._onDidChangeDropdownVisibility.add(l.onDidChangeVisibility)),l}}}))}set actionRunner(e){this.actionBar.actionRunner=e}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(e){return this.actionBar.getAction(e)}setActions(e,t){this.clear();const i=e?e.slice(0):[];this.hasSecondaryActions=!!(t&&t.length>0),this.hasSecondaryActions&&t&&(this.toggleMenuAction.menuActions=t.slice(0),i.push(this.toggleMenuAction)),i.forEach(o=>{this.actionBar.push(o,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(o)})})}getKeybindingLabel(e){var t,i,o;const r=this.lookupKeybindings?(i=(t=this.options).getKeyBinding)===null||i===void 0?void 0:i.call(t,e):void 0;return(o=r==null?void 0:r.getLabel())!==null&&o!==void 0?o:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}class Tw extends Ss{constructor(e,t){t=t||m("moreActions","More Actions..."),super(Tw.ID,t,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=e}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(e){this._menuActions=e}}Tw.ID="toolbar.toggle.more";var Hie=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},hd=function(n,e){return function(t,i){e(t,i,n)}};let Iw=class extends $Re{constructor(e,t,i,o,r,s,a){super(e,r,{getKeyBinding:c=>{var d;return(d=s.lookupKeybinding(c.id))!==null&&d!==void 0?d:void 0},...t,allowContextMenu:!0,skipTelemetry:typeof(t==null?void 0:t.telemetrySource)=="string"}),this._options=t,this._menuService=i,this._contextKeyService=o,this._contextMenuService=r,this._sessionDisposables=this._store.add(new oe);const l=t==null?void 0:t.telemetrySource;l&&this._store.add(this.actionBar.onDidRun(c=>a.publicLog2("workbenchActionExecuted",{id:c.action.id,from:l})))}setActions(e,t=[],i){var o,r,s;this._sessionDisposables.clear();const a=e.slice(),l=t.slice(),c=[];let d=0;const u=[];let h=!1;if(((o=this._options)===null||o===void 0?void 0:o.hiddenItemStrategy)!==-1)for(let g=0;g<a.length;g++){const f=a[g];!(f instanceof aa)&&!(f instanceof Py)||f.hideActions&&(c.push(f.hideActions.toggle),f.hideActions.toggle.checked&&d++,f.hideActions.isHidden&&(h=!0,a[g]=void 0,((r=this._options)===null||r===void 0?void 0:r.hiddenItemStrategy)!==0&&(u[g]=f)))}if(((s=this._options)===null||s===void 0?void 0:s.overflowBehavior)!==void 0){const g=JEe(new Set(this._options.overflowBehavior.exempted),Mt.map(a,b=>b==null?void 0:b.id)),f=this._options.overflowBehavior.maxItems-g.size;let p=0;for(let b=0;b<a.length;b++){const v=a[b];v&&(p++,!g.has(v.id)&&p>=f&&(a[b]=void 0,u[b]=v))}}tz(a),tz(u),super.setActions(a,Kn.join(u,l)),c.length>0&&this._sessionDisposables.add(j(this.getElement(),"contextmenu",g=>{var f,p,b,v,_;const C=new dl(qe(this.getElement()),g),y=this.getItemAction(C.target);if(!y)return;C.preventDefault(),C.stopPropagation();let w=!1;if(d===1&&((f=this._options)===null||f===void 0?void 0:f.hiddenItemStrategy)===0){w=!0;for(let L=0;L<c.length;L++)if(c[L].checked){c[L]=Ob({id:y.id,label:y.label,checked:!0,enabled:!1,run(){}});break}}let S;if(!w&&(y instanceof aa||y instanceof Py)){if(!y.hideActions)return;S=y.hideActions.hide}else S=Ob({id:"label",label:m("hide","Hide"),enabled:!1,run(){}});const x=Kn.join([S],c);!((p=this._options)===null||p===void 0)&&p.resetMenu&&!i&&(i=[this._options.resetMenu]),h&&i&&(x.push(new Kn),x.push(Ob({id:"resetThisMenu",label:m("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(i)}))),this._contextMenuService.showContextMenu({getAnchor:()=>C,getActions:()=>x,menuId:(b=this._options)===null||b===void 0?void 0:b.contextMenu,menuActionOptions:{renderShortTitle:!0,...(v=this._options)===null||v===void 0?void 0:v.menuOptions},skipTelemetry:typeof((_=this._options)===null||_===void 0?void 0:_.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};Iw=Hie([hd(2,$a),hd(3,Xe),hd(4,Ps),hd(5,di),hd(6,fr)],Iw);let hF=class extends Iw{constructor(e,t,i,o,r,s,a,l){super(e,{resetMenu:t,...i},o,r,s,a,l),this._onDidChangeMenuItems=this._store.add(new B);const c=this._store.add(o.createMenu(t,r,{emitEventsForSubmenuChanges:!0})),d=()=>{var u,h,g;const f=[],p=[];AI(c,i==null?void 0:i.menuOptions,{primary:f,secondary:p},(u=i==null?void 0:i.toolbarOptions)===null||u===void 0?void 0:u.primaryGroup,(h=i==null?void 0:i.toolbarOptions)===null||h===void 0?void 0:h.shouldInlineSubmenu,(g=i==null?void 0:i.toolbarOptions)===null||g===void 0?void 0:g.useSeparatorsInPrimaryActions),e.classList.toggle("has-no-actions",f.length===0&&p.length===0),super.setActions(f,p)};this._store.add(c.onDidChange(()=>{d(),this._onDidChangeMenuItems.fire(this)})),d()}setActions(){throw new Hi("This toolbar is populated from a menu.")}};hF=Hie([hd(3,$a),hd(4,Xe),hd(5,Ps),hd(6,di),hd(7,fr)],hF);class jRe extends mm{constructor(e){super(),this._getContext=e}runAction(e,t){return super.runAction(e,this._getContext())}}var KRe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},qRe=function(n,e){return function(t,i){e(t,i,n)}};class GRe{constructor(e,t){this.viewModel=e,this.deltaScrollVertical=t}getId(){return this.viewModel}}let pE=class extends z{constructor(e,t,i,o){super(),this._container=e,this._overflowWidgetsDomNode=t,this._workbenchUIElementFactory=i,this._instantiationService=o,this._viewModel=$t(this,void 0),this._collapsed=nt(this,s=>{var a;return(a=this._viewModel.read(s))===null||a===void 0?void 0:a.collapsed.read(s)}),this._editorContentHeight=$t(this,500),this.contentHeight=nt(this,s=>(this._collapsed.read(s)?0:this._editorContentHeight.read(s))+this._outerEditorHeight),this._modifiedContentWidth=$t(this,0),this._modifiedWidth=$t(this,0),this._originalContentWidth=$t(this,0),this._originalWidth=$t(this,0),this.maxScroll=nt(this,s=>{const a=this._modifiedContentWidth.read(s)-this._modifiedWidth.read(s),l=this._originalContentWidth.read(s)-this._originalWidth.read(s);return a>l?{maxScroll:a,width:this._modifiedWidth.read(s)}:{maxScroll:l,width:this._originalWidth.read(s)}}),this._elements=pi("div.multiDiffEntry",[pi("div.header@header",[pi("div.header-content",[pi("div.collapse-button@collapseButton"),pi("div.file-path",[pi("div.title.modified.show-file-icons@primaryPath",[]),pi("div.status.deleted@status",["R"]),pi("div.title.original.show-file-icons@secondaryPath",[])]),pi("div.actions@actions")])]),pi("div.editorParent",[pi("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(gf,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=LK(this.editor.getModifiedEditor()),this.isOriginalFocused=LK(this.editor.getOriginalEditor()),this.isFocused=nt(this,s=>this.isModifedFocused.read(s)||this.isOriginalFocused.read(s)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=new oe,this._headerHeight=48,this._lastScrollTop=-1,this._isSettingScrollTop=!1;const r=new rE(this._elements.collapseButton,{});this._register(Lt(s=>{r.element.className="",r.icon=this._collapsed.read(s)?pe.chevronRight:pe.chevronDown})),this._register(r.onDidClick(()=>{var s;(s=this._viewModel.get())===null||s===void 0||s.collapsed.set(!this._collapsed.get(),void 0)})),this._register(Lt(s=>{this._elements.editor.style.display=this._collapsed.read(s)?"none":"block"})),this._register(this.editor.getModifiedEditor().onDidLayoutChange(s=>{const a=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(a,void 0)})),this._register(this.editor.getOriginalEditor().onDidLayoutChange(s=>{const a=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(a,void 0)})),this._register(this.editor.onDidContentSizeChange(s=>{KL(a=>{this._editorContentHeight.set(s.contentHeight,a),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),a),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),a)})})),this._register(this.editor.getOriginalEditor().onDidScrollChange(s=>{if(this._isSettingScrollTop||!s.scrollTopChanged||!this._data)return;const a=s.scrollTop-this._lastScrollTop;this._data.deltaScrollVertical(a)})),this._register(Lt(s=>{const a=this.isFocused.read(s);this._elements.root.classList.toggle("focused",a)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=this._headerHeight,this._register(this._instantiationService.createInstance(hF,this._elements.actions,T.MultiDiffEditorFileToolbar,{actionRunner:this._register(new jRe(()=>{var s;return(s=this._viewModel.get())===null||s===void 0?void 0:s.modifiedUri})),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:s=>s.startsWith("navigation")},actionViewItemProvider:(s,a)=>Ute(o,s,a)}))}setScrollLeft(e){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(e):this.editor.getOriginalEditor().setScrollLeft(e)}setData(e){this._data=e;function t(o){return{...o,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}const i=e.viewModel.entry.value;i.onOptionsDidChange&&this._dataStore.add(i.onOptionsDidChange(()=>{var o;this.editor.updateOptions(t((o=i.options)!==null&&o!==void 0?o:{}))})),KL(o=>{var r,s,a,l;(r=this._resourceLabel)===null||r===void 0||r.setUri((s=e.viewModel.modifiedUri)!==null&&s!==void 0?s:e.viewModel.originalUri,{strikethrough:e.viewModel.modifiedUri===void 0});let c=!1,d=!1,u=!1,h="";e.viewModel.modifiedUri&&e.viewModel.originalUri&&e.viewModel.modifiedUri.path!==e.viewModel.originalUri.path?(h="R",c=!0):e.viewModel.modifiedUri?e.viewModel.originalUri||(h="A",u=!0):(h="D",d=!0),this._elements.status.classList.toggle("renamed",c),this._elements.status.classList.toggle("deleted",d),this._elements.status.classList.toggle("added",u),this._elements.status.innerText=h,(a=this._resourceLabel2)===null||a===void 0||a.setUri(c?e.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set(e.viewModel,o),this.editor.setModel(e.viewModel.diffEditorViewModel,o),this.editor.updateOptions(t((l=i.options)!==null&&l!==void 0?l:{}))})}render(e,t,i,o){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${e.start}px`,this._elements.root.style.height=`${e.length}px`,this._elements.root.style.width=`${t}px`,this._elements.root.style.position="absolute";const r=e.length-this._headerHeight,s=Math.max(0,Math.min(o.start-e.start,r));this._elements.header.style.transform=`translateY(${s}px)`,KL(a=>{this.editor.layout({width:t-2*8-2*1,height:e.length-this._outerEditorHeight})});try{this._isSettingScrollTop=!0,this._lastScrollTop=i,this.editor.getOriginalEditor().setScrollTop(i)}finally{this._isSettingScrollTop=!1}this._elements.header.classList.toggle("shadow",s>0||i>0),this._elements.header.classList.toggle("collapsed",s===r)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};pE=KRe([qRe(3,Ge)],pE);function LK(n){return Pi(e=>{const t=new oe;return t.add(n.onDidFocusEditorWidget(()=>e(!0))),t.add(n.onDidBlurEditorWidget(()=>e(!1))),t},()=>n.hasWidgetFocus())}class ZRe{constructor(e){this._create=e,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(e){var t;let i;if(this._unused.size===0)i=this._create(e),this._itemData.set(i,e);else{const o=[...this._unused.values()];i=(t=o.find(r=>this._itemData.get(r).getId()===e.getId()))!==null&&t!==void 0?t:o[0],this._unused.delete(i),this._itemData.set(i,e),i.setData(e)}return this._used.add(i),{object:i,dispose:()=>{this._used.delete(i),this._unused.size>5?i.dispose():this._unused.add(i)}}}dispose(){for(const e of this._used)e.dispose();for(const e of this._unused)e.dispose();this._used.clear(),this._unused.clear()}}var YRe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},DK=function(n,e){return function(t,i){e(t,i,n)}};let gF=class extends z{constructor(e,t,i,o,r,s){super(),this._element=e,this._dimension=t,this._viewModel=i,this._workbenchUIElementFactory=o,this._parentContextKeyService=r,this._parentInstantiationService=s,this._elements=pi("div.monaco-component.multiDiffEditor",[pi("div@content",{style:{overflow:"hidden"}}),pi("div.monaco-editor@overflowWidgetsDomNode",{})]),this._sizeObserver=this._register(new Aie(this._element,void 0)),this._objectPool=this._register(new ZRe(l=>{const c=this._instantiationService.createInstance(pE,this._elements.content,this._elements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return c.setData(l),c})),this._scrollable=this._register(new w0({forceIntegerValues:!1,scheduleAtNextAnimationFrame:l=>Ds(qe(this._element),l),smoothScrollDuration:100})),this._scrollableElement=this._register(new gI(this._elements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this.scrollTop=Pi(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=Pi(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItems=E0(this,(l,c)=>{const d=this._viewModel.read(l);return d?d.items.read(l).map(h=>{var g;const f=c.add(new XRe(h,this._objectPool,this.scrollLeft,b=>{this._scrollableElement.setScrollPosition({scrollTop:this._scrollableElement.getScrollPosition().scrollTop+b})})),p=(g=this._lastDocStates)===null||g===void 0?void 0:g[f.getKey()];return p&&Ti(b=>{f.setViewState(p,b)}),f}):[]}),this._spaceBetweenPx=0,this._totalHeight=this._viewItems.map(this,(l,c)=>l.reduce((d,u)=>d+u.contentHeight.read(c)+this._spaceBetweenPx,0)),this.activeDiffItem=nt(this,l=>this._viewItems.read(l).find(c=>{var d;return(d=c.template.read(l))===null||d===void 0?void 0:d.isFocused.read(l)})),this.lastActiveDiffItem=XNe((l,c)=>{var d;return(d=this.activeDiffItem.read(l))!==null&&d!==void 0?d:c}),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._parentInstantiationService.createChild(new PS([Xe,this._contextKeyService])),this._lastDocStates={},this._contextKeyService.createKey(I.inMultiDiffEditor.key,!0),this._register(Pc((l,c)=>{const d=this._viewModel.read(l);if(d&&d.contextKeys)for(const[u,h]of Object.entries(d.contextKeys)){const g=this._contextKeyService.createKey(u,void 0);g.set(h),c.add(je(()=>g.reset()))}}));const a=this._parentContextKeyService.createKey(I.multiDiffEditorAllCollapsed.key,!1);this._register(Lt(l=>{const c=this._viewModel.read(l);if(c){const d=c.items.read(l).every(u=>u.collapsed.read(l));a.set(d)}})),this._register(Lt(l=>{const c=this.lastActiveDiffItem.read(l);Ti(d=>{var u;(u=this._viewModel.read(l))===null||u===void 0||u.activeDiffItem.set(c==null?void 0:c.viewModel,d)})})),this._register(Lt(l=>{const c=this._dimension.read(l);this._sizeObserver.observe(c)})),this._elements.content.style.position="relative",this._register(Lt(l=>{const c=this._sizeObserver.height.read(l);this._elements.root.style.height=`${c}px`;const d=this._totalHeight.read(l);this._elements.content.style.height=`${d}px`;const u=this._sizeObserver.width.read(l);let h=u;const g=this._viewItems.read(l),f=g6(g,p=>p.maxScroll.read(l).maxScroll);if(f){const p=f.maxScroll.read(l);h=u+p.maxScroll}this._scrollableElement.setScrollDimensions({width:u,height:c,scrollHeight:d,scrollWidth:h})})),e.replaceChildren(this._scrollableElement.getDomNode()),this._register(je(()=>{e.replaceChildren()})),this._register(this._register(Lt(l=>{KL(c=>{this.render(l)})})))}render(e){const t=this.scrollTop.read(e);let i=0,o=0,r=0;const s=this._sizeObserver.height.read(e),a=St.ofStartAndLength(t,s),l=this._sizeObserver.width.read(e);for(const c of this._viewItems.read(e)){const d=c.contentHeight.read(e),u=Math.min(d,s),h=St.ofStartAndLength(o,u),g=St.ofStartAndLength(r,d);if(g.isBefore(a))i-=d-u,c.hide();else if(g.isAfter(a))c.hide();else{const f=Math.max(0,Math.min(a.start-g.start,d-u));i-=f;const p=St.ofStartAndLength(t+i,s);c.render(h,f,l,p)}o+=u+this._spaceBetweenPx,r+=d+this._spaceBetweenPx}this._elements.content.style.transform=`translateY(${-(t+i)}px)`}};gF=YRe([DK(4,Xe),DK(5,Ge)],gF);class XRe extends z{constructor(e,t,i,o){super(),this.viewModel=e,this._objectPool=t,this._scrollLeft=i,this._deltaScrollVertical=o,this._templateRef=this._register(Lw(this,void 0)),this.contentHeight=nt(this,r=>{var s,a,l;return(l=(a=(s=this._templateRef.read(r))===null||s===void 0?void 0:s.object.contentHeight)===null||a===void 0?void 0:a.read(r))!==null&&l!==void 0?l:this.viewModel.lastTemplateData.read(r).contentHeight}),this.maxScroll=nt(this,r=>{var s,a;return(a=(s=this._templateRef.read(r))===null||s===void 0?void 0:s.object.maxScroll.read(r))!==null&&a!==void 0?a:{maxScroll:0,scrollWidth:0}}),this.template=nt(this,r=>{var s;return(s=this._templateRef.read(r))===null||s===void 0?void 0:s.object}),this._isHidden=$t(this,!1),this._register(Lt(r=>{var s;const a=this._scrollLeft.read(r);(s=this._templateRef.read(r))===null||s===void 0||s.object.setScrollLeft(a)})),this._register(Lt(r=>{const s=this._templateRef.read(r);!s||!this._isHidden.read(r)||s.object.isFocused.read(r)||this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){var e;return`VirtualViewItem(${(e=this.viewModel.entry.value.modified)===null||e===void 0?void 0:e.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(e,t){var i;this.viewModel.collapsed.set(e.collapsed,t),this._updateTemplateData(t);const o=this.viewModel.lastTemplateData.get(),r=(i=e.selections)===null||i===void 0?void 0:i.map(Pe.liftSelection);this.viewModel.lastTemplateData.set({...o,selections:r},t);const s=this._templateRef.get();s&&r&&s.object.editor.setSelections(r)}_updateTemplateData(e){var t;const i=this._templateRef.get();i&&this.viewModel.lastTemplateData.set({contentHeight:i.object.contentHeight.get(),selections:(t=i.object.editor.getSelections())!==null&&t!==void 0?t:void 0},e)}_clear(){const e=this._templateRef.get();e&&Ti(t=>{this._updateTemplateData(t),e.object.hide(),this._templateRef.set(void 0,t)})}hide(){this._isHidden.set(!0,void 0)}render(e,t,i,o){this._isHidden.set(!1,void 0);let r=this._templateRef.get();if(!r){r=this._objectPool.getUnusedObj(new GRe(this.viewModel,this._deltaScrollVertical)),this._templateRef.set(r,void 0);const s=this.viewModel.lastTemplateData.get().selections;s&&r.object.editor.setSelections(s)}r.object.render(e,i,t,o)}}N("multiDiffEditor.headerBackground",{dark:"#262626",light:"tab.inactiveBackground",hcDark:"tab.inactiveBackground",hcLight:"tab.inactiveBackground"},m("multiDiffEditor.headerBackground","The background color of the diff editor's header"));N("multiDiffEditor.background",{dark:"editorBackground",light:"editorBackground",hcDark:"editorBackground",hcLight:"editorBackground"},m("multiDiffEditor.background","The background color of the multi file diff editor"));N("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},m("multiDiffEditor.border","The border color of the multi file diff editor"));var QRe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},JRe=function(n,e){return function(t,i){e(t,i,n)}};let fF=class extends z{constructor(e,t,i){super(),this._element=e,this._workbenchUIElementFactory=t,this._instantiationService=i,this._dimension=$t(this,void 0),this._viewModel=$t(this,void 0),this._widgetImpl=E0(this,(o,r)=>(id(pE,o),r.add(this._instantiationService.createInstance(id(gF,o),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register(GS(this._widgetImpl))}};fF=QRe([JRe(2,Ge)],fF);function eMe(n,e,t){return Ye.initialize(t||{}).createInstance(dF,n,e)}function tMe(n){return Ye.get(qt).onCodeEditorAdd(t=>{n(t)})}function iMe(n){return Ye.get(qt).onDiffEditorAdd(t=>{n(t)})}function nMe(){return Ye.get(qt).listCodeEditors()}function oMe(){return Ye.get(qt).listDiffEditors()}function rMe(n,e,t){return Ye.initialize(t||{}).createInstance(uF,n,e)}function sMe(n,e){const t=Ye.initialize(e||{});return new fF(n,{},t)}function aMe(n){if(typeof n.id!="string"||typeof n.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return Pt.registerCommand(n.id,n.run)}function lMe(n){if(typeof n.id!="string"||typeof n.label!="string"||typeof n.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const e=ee.deserialize(n.precondition),t=(o,...r)=>_o.runEditorCommand(o,r,e,(s,a,l)=>Promise.resolve(n.run(a,...l))),i=new oe;if(i.add(Pt.registerCommand(n.id,t)),n.contextMenuGroupId){const o={command:{id:n.id,title:n.label},when:e,group:n.contextMenuGroupId,order:n.contextMenuOrder||0};i.add(Io.appendMenuItem(T.EditorContext,o))}if(Array.isArray(n.keybindings)){const o=Ye.get(di);if(!(o instanceof G_))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const r=ee.and(e,ee.deserialize(n.keybindingContext));i.add(o.addDynamicKeybindings(n.keybindings.map(s=>({keybinding:s,command:n.id,when:r}))))}}return i}function cMe(n){return zie([n])}function zie(n){const e=Ye.get(di);return e instanceof G_?e.addDynamicKeybindings(n.map(t=>({keybinding:t.keybinding,command:t.command,commandArgs:t.commandArgs,when:ee.deserialize(t.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),z.None)}function dMe(n,e,t){const i=Ye.get(Bi),o=i.getLanguageIdByMimeType(e)||e;return Vie(Ye.get(Yi),i,n,o,t)}function uMe(n,e){const t=Ye.get(Bi),i=t.getLanguageIdByMimeType(e)||e||oa;n.setLanguage(t.createById(i))}function hMe(n,e,t){n&&Ye.get(Xd).changeOne(e,n.uri,t)}function gMe(n){Ye.get(Xd).changeAll(n,[])}function fMe(n){return Ye.get(Xd).read(n)}function pMe(n){return Ye.get(Xd).onMarkerChanged(n)}function mMe(n){return Ye.get(Yi).getModel(n)}function vMe(){return Ye.get(Yi).getModels()}function bMe(n){return Ye.get(Yi).onModelAdded(n)}function _Me(n){return Ye.get(Yi).onModelRemoved(n)}function CMe(n){return Ye.get(Yi).onModelLanguageChanged(t=>{n({model:t.model,oldLanguage:t.oldLanguageId})})}function yMe(n){return i1e(Ye.get(Yi),Ye.get(Di),n)}function wMe(n,e){const t=Ye.get(Bi),i=Ye.get(ma);return y6.colorizeElement(i,t,n,e).then(()=>{i.registerEditorContainer(n)})}function SMe(n,e,t){const i=Ye.get(Bi);return Ye.get(ma).registerEditorContainer(gi.document.body),y6.colorize(i,n,e,t)}function xMe(n,e,t=4){return Ye.get(ma).registerEditorContainer(gi.document.body),y6.colorizeModelLine(n,e,t)}function kMe(n){const e=rn.get(n);return e||{getInitialState:()=>N_,tokenize:(t,i,o)=>b6(n,o)}}function LMe(n,e){rn.getOrCreate(e);const t=kMe(e),i=qd(n),o=[];let r=t.getInitialState();for(let s=0,a=i.length;s<a;s++){const l=i[s],c=t.tokenize(l,!0,r);o[s]=c.tokens,r=c.endState}return o}function DMe(n,e){Ye.get(ma).defineTheme(n,e)}function EMe(n){Ye.get(ma).setTheme(n)}function TMe(){Z5.clearAllFontInfos()}function IMe(n,e){return Pt.registerCommand({id:n,handler:e})}function NMe(n){return Ye.get(gs).registerOpener({async open(t){return typeof t=="string"&&(t=Ke.parse(t)),n.open(t)}})}function RMe(n){return Ye.get(qt).registerCodeEditorOpenHandler(async(t,i,o)=>{var r;if(!i)return null;const s=(r=t.options)===null||r===void 0?void 0:r.selection;let a;return s&&typeof s.endLineNumber=="number"&&typeof s.endColumn=="number"?a=s:s&&(a={lineNumber:s.startLineNumber,column:s.startColumn}),await n.openCodeEditor(i,t.resource,a)?i:null})}function MMe(){return{create:eMe,getEditors:nMe,getDiffEditors:oMe,onDidCreateEditor:tMe,onDidCreateDiffEditor:iMe,createDiffEditor:rMe,addCommand:aMe,addEditorAction:lMe,addKeybindingRule:cMe,addKeybindingRules:zie,createModel:dMe,setModelLanguage:uMe,setModelMarkers:hMe,getModelMarkers:fMe,removeAllMarkers:gMe,onDidChangeMarkers:pMe,getModels:vMe,getModel:mMe,onDidCreateModel:bMe,onWillDisposeModel:_Me,onDidChangeModelLanguage:CMe,createWebWorker:yMe,colorizeElement:wMe,colorize:SMe,colorizeModelLine:xMe,tokenize:LMe,defineTheme:DMe,setTheme:EMe,remeasureFonts:TMe,registerCommand:IMe,registerLinkOpener:NMe,registerEditorOpener:RMe,AccessibilitySupport:XO,ContentWidgetPositionPreference:n5,CursorChangeReason:o5,DefaultEndOfLine:r5,EditorAutoIndentStrategy:a5,EditorOption:l5,EndOfLinePreference:c5,EndOfLineSequence:d5,MinimapPosition:C5,MouseTargetType:y5,OverlayWidgetPositionPreference:S5,OverviewRulerLane:x5,GlyphMarginLane:u5,RenderLineNumbersType:L5,RenderMinimap:D5,ScrollbarVisibility:T5,ScrollType:E5,TextEditorCursorBlinkingStyle:P5,TextEditorCursorStyle:O5,TrackedRangeStickiness:F5,WrappingIndent:B5,InjectedTextCursorStops:g5,PositionAffinity:k5,ShowLightbulbIconMode:N5,ConfigurationChangedEvent:dQ,BareFontInfo:Kp,FontInfo:G5,TextModelResolvedOptions:LL,FindMatch:Oy,ApplyUpdateResult:CC,EditorZoom:wa,createMultiFileDiffEditor:sMe,EditorType:kS,EditorOptions:Tc}}function AMe(n,e){if(!e||!Array.isArray(e))return!1;for(const t of e)if(!n(t))return!1;return!0}function kk(n,e){return typeof n=="boolean"?n:e}function EK(n,e){return typeof n=="string"?n:e}function PMe(n){const e={};for(const t of n)e[t]=!0;return e}function TK(n,e=!1){e&&(n=n.map(function(i){return i.toLowerCase()}));const t=PMe(n);return e?function(i){return t[i.toLowerCase()]!==void 0&&t.hasOwnProperty(i.toLowerCase())}:function(i){return t[i]!==void 0&&t.hasOwnProperty(i)}}function pF(n,e){e=e.replace(/@@/g,"");let t=0,i;do i=!1,e=e.replace(/@(\w+)/g,function(r,s){i=!0;let a="";if(typeof n[s]=="string")a=n[s];else if(n[s]&&n[s]instanceof RegExp)a=n[s].source;else throw n[s]===void 0?Ai(n,"language definition does not contain attribute '"+s+"', used at: "+e):Ai(n,"attribute reference '"+s+"' must be a string, used at: "+e);return Av(a)?"":"(?:"+a+")"}),t++;while(i&&t<5);e=e.replace(/\x01/g,"@");const o=(n.ignoreCase?"i":"")+(n.unicode?"u":"");return new RegExp(e,o)}function OMe(n,e,t,i){if(i<0)return n;if(i<e.length)return e[i];if(i>=100){i=i-100;const o=t.split(".");if(o.unshift(t),i<o.length)return o[i]}return null}function FMe(n,e,t,i){let o=-1,r=t,s=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(o=parseInt(s[3]),s[2]&&(o=o+100)),r=s[4]);let a="~",l=r;!r||r.length===0?(a="!=",l=""):/^\w*$/.test(l)?a="==":(s=r.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(a=s[1],l=s[2]));let c;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(l)){const d=TK(l.split("|"),n.ignoreCase);c=function(u){return a==="~"?d(u):!d(u)}}else if(a==="@"||a==="!@"){const d=n[l];if(!d)throw Ai(n,"the @ match target '"+l+"' is not defined, in rule: "+e);if(!AMe(function(h){return typeof h=="string"},d))throw Ai(n,"the @ match target '"+l+"' must be an array of strings, in rule: "+e);const u=TK(d,n.ignoreCase);c=function(h){return a==="@"?u(h):!u(h)}}else if(a==="~"||a==="!~")if(l.indexOf("$")<0){const d=pF(n,"^"+l+"$");c=function(u){return a==="~"?d.test(u):!d.test(u)}}else c=function(d,u,h,g){return pF(n,"^"+Jh(n,l,u,h,g)+"$").test(d)};else if(l.indexOf("$")<0){const d=Og(n,l);c=function(u){return a==="=="?u===d:u!==d}}else{const d=Og(n,l);c=function(u,h,g,f,p){const b=Jh(n,d,h,g,f);return a==="=="?u===b:u!==b}}return o===-1?{name:t,value:i,test:function(d,u,h,g){return c(d,d,u,h,g)}}:{name:t,value:i,test:function(d,u,h,g){const f=OMe(d,u,h,o);return c(f||"",d,u,h,g)}}}function mF(n,e,t){if(t){if(typeof t=="string")return t;if(t.token||t.token===""){if(typeof t.token!="string")throw Ai(n,"a 'token' attribute must be of type string, in rule: "+e);{const i={token:t.token};if(t.token.indexOf("$")>=0&&(i.tokenSubst=!0),typeof t.bracket=="string")if(t.bracket==="@open")i.bracket=1;else if(t.bracket==="@close")i.bracket=-1;else throw Ai(n,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(t.next){if(typeof t.next!="string")throw Ai(n,"the next state must be a string value in rule: "+e);{let o=t.next;if(!/^(@pop|@push|@popall)$/.test(o)&&(o[0]==="@"&&(o=o.substr(1)),o.indexOf("$")<0&&!y1e(n,Jh(n,o,"",[],""))))throw Ai(n,"the next state '"+t.next+"' is not defined in rule: "+e);i.next=o}}return typeof t.goBack=="number"&&(i.goBack=t.goBack),typeof t.switchTo=="string"&&(i.switchTo=t.switchTo),typeof t.log=="string"&&(i.log=t.log),typeof t.nextEmbedded=="string"&&(i.nextEmbedded=t.nextEmbedded,n.usesEmbedded=!0),i}}else if(Array.isArray(t)){const i=[];for(let o=0,r=t.length;o<r;o++)i[o]=mF(n,e,t[o]);return{group:i}}else if(t.cases){const i=[];for(const r in t.cases)if(t.cases.hasOwnProperty(r)){const s=mF(n,e,t.cases[r]);r==="@default"||r==="@"||r===""?i.push({test:void 0,value:s,name:r}):r==="@eos"?i.push({test:function(a,l,c,d){return d},value:s,name:r}):i.push(FMe(n,e,r,s))}const o=n.defaultToken;return{test:function(r,s,a,l){for(const c of i)if(!c.test||c.test(r,s,a,l))return c.value;return o}}}else throw Ai(n,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}class BMe{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if(typeof t=="string")i=t;else if(t instanceof RegExp)i=t.source;else throw Ai(e,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=i.length>0&&i[0]==="^",this.name=this.name+": "+i,this.regex=pF(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=mF(e,this.name,t)}}function Uie(n,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");const t={};t.languageId=n,t.includeLF=kk(e.includeLF,!1),t.noThrow=!1,t.maxStack=100,t.start=typeof e.start=="string"?e.start:null,t.ignoreCase=kk(e.ignoreCase,!1),t.unicode=kk(e.unicode,!1),t.tokenPostfix=EK(e.tokenPostfix,"."+t.languageId),t.defaultToken=EK(e.defaultToken,"source"),t.usesEmbedded=!1;const i=e;i.languageId=n,i.includeLF=t.includeLF,i.ignoreCase=t.ignoreCase,i.unicode=t.unicode,i.noThrow=t.noThrow,i.usesEmbedded=t.usesEmbedded,i.stateNames=e.tokenizer,i.defaultToken=t.defaultToken;function o(s,a,l){for(const c of l){let d=c.include;if(d){if(typeof d!="string")throw Ai(t,"an 'include' attribute must be a string at: "+s);if(d[0]==="@"&&(d=d.substr(1)),!e.tokenizer[d])throw Ai(t,"include target '"+d+"' is not defined at: "+s);o(s+"."+d,a,e.tokenizer[d])}else{const u=new BMe(s);if(Array.isArray(c)&&c.length>=1&&c.length<=3)if(u.setRegex(i,c[0]),c.length>=3)if(typeof c[1]=="string")u.setAction(i,{token:c[1],next:c[2]});else if(typeof c[1]=="object"){const h=c[1];h.next=c[2],u.setAction(i,h)}else throw Ai(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+s);else u.setAction(i,c[1]);else{if(!c.regex)throw Ai(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+s);c.name&&typeof c.name=="string"&&(u.name=c.name),c.matchOnlyAtStart&&(u.matchOnlyAtLineStart=kk(c.matchOnlyAtLineStart,!1)),u.setRegex(i,c.regex),u.setAction(i,c.action)}a.push(u)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw Ai(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(const s in e.tokenizer)if(e.tokenizer.hasOwnProperty(s)){t.start||(t.start=s);const a=e.tokenizer[s];t.tokenizer[s]=new Array,o("tokenizer."+s,t.tokenizer[s],a)}if(t.usesEmbedded=i.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw Ai(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const r=[];for(const s of e.brackets){let a=s;if(a&&Array.isArray(a)&&a.length===3&&(a={token:a[2],open:a[0],close:a[1]}),a.open===a.close)throw Ai(t,"open and close brackets in a 'brackets' attribute must be different: "+a.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof a.open=="string"&&typeof a.token=="string"&&typeof a.close=="string")r.push({token:a.token+t.tokenPostfix,open:Og(t,a.open),close:Og(t,a.close)});else throw Ai(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return t.brackets=r,t.noThrow=!0,t}function WMe(n){E_.registerLanguage(n)}function VMe(){let n=[];return n=n.concat(E_.getLanguages()),n}function HMe(n){return Ye.get(Bi).languageIdCodec.encodeLanguageId(n)}function zMe(n,e){return Ye.withServices(()=>{const i=Ye.get(Bi).onDidRequestRichLanguageFeatures(o=>{o===n&&(i.dispose(),e())});return i})}function UMe(n,e){return Ye.withServices(()=>{const i=Ye.get(Bi).onDidRequestBasicLanguageFeatures(o=>{o===n&&(i.dispose(),e())});return i})}function $Me(n,e){if(!Ye.get(Bi).isRegisteredLanguageId(n))throw new Error(`Cannot set configuration for unknown language ${n}`);return Ye.get(Di).register(n,e,100)}class jMe{constructor(e,t){this._languageId=e,this._actual=t}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){if(typeof this._actual.tokenize=="function")return Nw.adaptTokenize(this._languageId,this._actual,e,i);throw new Error("Not supported!")}tokenizeEncoded(e,t,i){const o=this._actual.tokenizeEncoded(e,i);return new FT(o.tokens,o.endState)}}class Nw{constructor(e,t,i,o){this._languageId=e,this._actual=t,this._languageService=i,this._standaloneThemeService=o}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t){const i=[];let o=0;for(let r=0,s=e.length;r<s;r++){const a=e[r];let l=a.startIndex;r===0?l=0:l<o&&(l=o),i[r]=new Dy(l,a.scopes,t),o=l}return i}static adaptTokenize(e,t,i,o){const r=t.tokenize(i,o),s=Nw._toClassicTokens(r.tokens,e);let a;return r.endState.equals(o)?a=o:a=r.endState,new z8(s,a)}tokenize(e,t,i){return Nw.adaptTokenize(this._languageId,this._actual,e,i)}_toBinaryTokens(e,t){const i=e.encodeLanguageId(this._languageId),o=this._standaloneThemeService.getColorTheme().tokenTheme,r=[];let s=0,a=0;for(let c=0,d=t.length;c<d;c++){const u=t[c],h=o.match(i,u.scopes)|1024;if(s>0&&r[s-1]===h)continue;let g=u.startIndex;c===0?g=0:g<a&&(g=a),r[s++]=g,r[s++]=h,a=g}const l=new Uint32Array(s);for(let c=0;c<s;c++)l[c]=r[c];return l}tokenizeEncoded(e,t,i){const o=this._actual.tokenize(e,i),r=this._toBinaryTokens(this._languageService.languageIdCodec,o.tokens);let s;return o.endState.equals(i)?s=i:s=o.endState,new FT(r,s)}}function KMe(n){return typeof n.getInitialState=="function"}function qMe(n){return"tokenizeEncoded"in n}function $ie(n){return n&&typeof n.then=="function"}function GMe(n){const e=Ye.get(ma);if(n){const t=[null];for(let i=1,o=n.length;i<o;i++)t[i]=U.fromHex(n[i]);e.setColorMapOverride(t)}else e.setColorMapOverride(null)}function jie(n,e){return qMe(e)?new jMe(n,e):new Nw(n,e,Ye.get(Bi),Ye.get(ma))}function Q7(n,e){const t=new Hme(async()=>{const i=await Promise.resolve(e.create());return i?KMe(i)?jie(n,i):new Uy(Ye.get(Bi),Ye.get(ma),n,Uie(n,i),Ye.get(yt)):null});return rn.registerFactory(n,t)}function ZMe(n,e){if(!Ye.get(Bi).isRegisteredLanguageId(n))throw new Error(`Cannot set tokens provider for unknown language ${n}`);return $ie(e)?Q7(n,{create:()=>e}):rn.register(n,jie(n,e))}function YMe(n,e){const t=i=>new Uy(Ye.get(Bi),Ye.get(ma),n,Uie(n,i),Ye.get(yt));return $ie(e)?Q7(n,{create:()=>e}):rn.register(n,t(e))}function XMe(n,e){return Ye.get(Re).referenceProvider.register(n,e)}function QMe(n,e){return Ye.get(Re).renameProvider.register(n,e)}function JMe(n,e){return Ye.get(Re).newSymbolNamesProvider.register(n,e)}function eAe(n,e){return Ye.get(Re).signatureHelpProvider.register(n,e)}function tAe(n,e){return Ye.get(Re).hoverProvider.register(n,{provideHover:(i,o,r)=>{const s=i.getWordAtPosition(o);return Promise.resolve(e.provideHover(i,o,r)).then(a=>{if(a)return!a.range&&s&&(a.range=new D(o.lineNumber,s.startColumn,o.lineNumber,s.endColumn)),a.range||(a.range=new D(o.lineNumber,o.column,o.lineNumber,o.column)),a})}})}function iAe(n,e){return Ye.get(Re).documentSymbolProvider.register(n,e)}function nAe(n,e){return Ye.get(Re).documentHighlightProvider.register(n,e)}function oAe(n,e){return Ye.get(Re).linkedEditingRangeProvider.register(n,e)}function rAe(n,e){return Ye.get(Re).definitionProvider.register(n,e)}function sAe(n,e){return Ye.get(Re).implementationProvider.register(n,e)}function aAe(n,e){return Ye.get(Re).typeDefinitionProvider.register(n,e)}function lAe(n,e){return Ye.get(Re).codeLensProvider.register(n,e)}function cAe(n,e,t){return Ye.get(Re).codeActionProvider.register(n,{providedCodeActionKinds:t==null?void 0:t.providedCodeActionKinds,documentation:t==null?void 0:t.documentation,provideCodeActions:(o,r,s,a)=>{const c=Ye.get(Xd).read({resource:o.uri}).filter(d=>D.areIntersectingOrTouching(d,r));return e.provideCodeActions(o,r,{markers:c,only:s.only,trigger:s.trigger},a)},resolveCodeAction:e.resolveCodeAction})}function dAe(n,e){return Ye.get(Re).documentFormattingEditProvider.register(n,e)}function uAe(n,e){return Ye.get(Re).documentRangeFormattingEditProvider.register(n,e)}function hAe(n,e){return Ye.get(Re).onTypeFormattingEditProvider.register(n,e)}function gAe(n,e){return Ye.get(Re).linkProvider.register(n,e)}function fAe(n,e){return Ye.get(Re).completionProvider.register(n,e)}function pAe(n,e){return Ye.get(Re).colorProvider.register(n,e)}function mAe(n,e){return Ye.get(Re).foldingRangeProvider.register(n,e)}function vAe(n,e){return Ye.get(Re).declarationProvider.register(n,e)}function bAe(n,e){return Ye.get(Re).selectionRangeProvider.register(n,e)}function _Ae(n,e){return Ye.get(Re).documentSemanticTokensProvider.register(n,e)}function CAe(n,e){return Ye.get(Re).documentRangeSemanticTokensProvider.register(n,e)}function yAe(n,e){return Ye.get(Re).inlineCompletionsProvider.register(n,e)}function wAe(n,e){return Ye.get(Re).inlineEditProvider.register(n,e)}function SAe(n,e){return Ye.get(Re).inlayHintsProvider.register(n,e)}function xAe(){return{register:WMe,getLanguages:VMe,onLanguage:zMe,onLanguageEncountered:UMe,getEncodedLanguageId:HMe,setLanguageConfiguration:$Me,setColorMap:GMe,registerTokensProviderFactory:Q7,setTokensProvider:ZMe,setMonarchTokensProvider:YMe,registerReferenceProvider:XMe,registerRenameProvider:QMe,registerNewSymbolNameProvider:JMe,registerCompletionItemProvider:fAe,registerSignatureHelpProvider:eAe,registerHoverProvider:tAe,registerDocumentSymbolProvider:iAe,registerDocumentHighlightProvider:nAe,registerLinkedEditingRangeProvider:oAe,registerDefinitionProvider:rAe,registerImplementationProvider:sAe,registerTypeDefinitionProvider:aAe,registerCodeLensProvider:lAe,registerCodeActionProvider:cAe,registerDocumentFormattingEditProvider:dAe,registerDocumentRangeFormattingEditProvider:uAe,registerOnTypeFormattingEditProvider:hAe,registerLinkProvider:gAe,registerColorProvider:pAe,registerFoldingRangeProvider:mAe,registerDeclarationProvider:vAe,registerSelectionRangeProvider:bAe,registerDocumentSemanticTokensProvider:_Ae,registerDocumentRangeSemanticTokensProvider:CAe,registerInlineCompletionsProvider:yAe,registerInlineEditProvider:wAe,registerInlayHintsProvider:SAe,DocumentHighlightKind:s5,CompletionItemKind:e5,CompletionItemTag:t5,CompletionItemInsertTextRule:JO,SymbolKind:M5,SymbolTag:A5,IndentAction:h5,CompletionTriggerKind:i5,SignatureHelpTriggerKind:R5,InlayHintKind:f5,InlineCompletionTriggerKind:p5,InlineEditTriggerKind:m5,CodeActionTriggerType:QO,NewSymbolNameTag:w5,FoldingRangeKind:Nr,SelectedSuggestionInfo:kQ}}const J7=Et("IEditorCancelService"),Kie=new we("cancellableOperation",!1,m("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Ot(J7,class{constructor(){this._tokens=new WeakMap}add(n,e){let t=this._tokens.get(n);t||(t=n.invokeWithinContext(o=>{const r=Kie.bindTo(o.get(Xe)),s=new Ir;return{key:r,tokens:s}}),this._tokens.set(n,t));let i;return t.key.set(!0),i=t.tokens.push(e),()=>{i&&(i(),t.key.set(!t.tokens.isEmpty()),i=void 0)}}cancel(n){const e=this._tokens.get(n);if(!e)return;const t=e.tokens.pop();t&&(t.cancel(),e.key.set(!e.tokens.isEmpty()))}},1);class kAe extends gn{constructor(e,t){super(t),this.editor=e,this._unregister=e.invokeWithinContext(i=>i.get(J7).add(e,this))}dispose(){this._unregister(),super.dispose()}}ve(new class extends _o{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:Kie})}runEditorCommand(n,e){n.get(J7).cancel(e)}});let qie=class vF{constructor(e,t){if(this.flags=t,this.flags&1){const i=e.getModel();this.modelVersionId=i?um("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=e.getPosition():this.position=null,this.flags&2?this.selection=e.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof vF))return!1;const t=e;return!(this.modelVersionId!==t.modelVersionId||this.scrollLeft!==t.scrollLeft||this.scrollTop!==t.scrollTop||!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position)||!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))}validate(e){return this._equals(new vF(e,this.flags))}};class ff extends kAe{constructor(e,t,i,o){super(e,o),this._listener=new oe,t&4&&this._listener.add(e.onDidChangeCursorPosition(r=>{(!i||!D.containsPosition(i,r.position))&&this.cancel()})),t&2&&this._listener.add(e.onDidChangeCursorSelection(r=>{(!i||!D.containsRange(i,r.selection))&&this.cancel()})),t&8&&this._listener.add(e.onDidScrollChange(r=>this.cancel())),t&1&&(this._listener.add(e.onDidChangeModel(r=>this.cancel())),this._listener.add(e.onDidChangeModelContent(r=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class eW extends gn{constructor(e,t){super(t),this._listener=e.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}function zd(n){return n&&typeof n.getEditorType=="function"?n.getEditorType()===kS.ICodeEditor:!1}function tW(n){return n&&typeof n.getEditorType=="function"?n.getEditorType()===kS.IDiffEditor:!1}function LAe(n){return!!n&&typeof n=="object"&&typeof n.onDidChangeActiveEditor=="function"}function Gie(n){return zd(n)?n:tW(n)?n.getModifiedEditor():LAe(n)&&zd(n.activeCodeEditor)?n.activeCodeEditor:null}class X_{static _handleEolEdits(e,t){let i;const o=[];for(const r of t)typeof r.eol=="number"&&(i=r.eol),r.range&&typeof r.text=="string"&&o.push(r);return typeof i=="number"&&e.hasModel()&&e.getModel().pushEOL(i),o}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const i=e.getModel(),o=i.validateRange(t.range);return i.getFullModelRange().equalsRange(o)}static execute(e,t,i){i&&e.pushUndoStop();const o=Dc.capture(e),r=X_._handleEolEdits(e,t);r.length===1&&X_._isFullModelReplaceEdit(e,r[0])?e.executeEdits("formatEditsCommand",r.map(s=>zi.replace(D.lift(s.range),s.text))):e.executeEdits("formatEditsCommand",r.map(s=>zi.replaceMove(D.lift(s.range),s.text))),i&&e.pushUndoStop(),o.restoreRelativeVerticalPositionOfCursor(e)}}class IK{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}}class DAe{constructor(e){if(this._set=new Set,e)for(const t of e)this.add(t)}add(e){this._set.add(IK.toKey(e))}has(e){return this._set.has(IK.toKey(e))}}function Zie(n,e,t){const i=[],o=new DAe,r=n.ordered(t);for(const a of r)i.push(a),a.extensionId&&o.add(a.extensionId);const s=e.ordered(t);for(const a of s){if(a.extensionId){if(o.has(a.extensionId))continue;o.add(a.extensionId)}i.push({displayName:a.displayName,extensionId:a.extensionId,provideDocumentFormattingEdits(l,c,d){return a.provideDocumentRangeFormattingEdits(l,l.getFullModelRange(),c,d)}})}return i}class km{static setFormatterSelector(e){return{dispose:km._selectors.unshift(e)}}static async select(e,t,i,o){if(e.length===0)return;const r=Mt.first(km._selectors);if(r)return await r(e,t,i,o)}}km._selectors=new Ir;async function Yie(n,e,t,i,o,r,s){const a=n.get(Ge),{documentRangeFormattingEditProvider:l}=n.get(Re),c=zd(e)?e.getModel():e,d=l.ordered(c),u=await km.select(d,c,i,2);u&&(o.report(u),await a.invokeFunction(EAe,u,e,t,r,s))}async function EAe(n,e,t,i,o,r){var s,a;const l=n.get(Tl),c=n.get(zr),d=n.get(Vf);let u,h;zd(t)?(u=t.getModel(),h=new ff(t,5,void 0,o)):(u=t,h=new eW(t,o));const g=[];let f=0;for(const C of T8(i).sort(D.compareRangesUsingStarts))f>0&&D.areIntersectingOrTouching(g[f-1],C)?g[f-1]=D.fromPositions(g[f-1].getStartPosition(),C.getEndPosition()):f=g.push(C);const p=async C=>{var y,w;c.trace("[format][provideDocumentRangeFormattingEdits] (request)",(y=e.extensionId)===null||y===void 0?void 0:y.value,C);const S=await e.provideDocumentRangeFormattingEdits(u,C,u.getFormattingOptions(),h.token)||[];return c.trace("[format][provideDocumentRangeFormattingEdits] (response)",(w=e.extensionId)===null||w===void 0?void 0:w.value,S),S},b=(C,y)=>{if(!C.length||!y.length)return!1;const w=C.reduce((S,x)=>D.plusRange(S,x.range),C[0].range);if(!y.some(S=>D.intersectRanges(w,S.range)))return!1;for(const S of C)for(const x of y)if(D.intersectRanges(S.range,x.range))return!0;return!1},v=[],_=[];try{if(typeof e.provideDocumentRangesFormattingEdits=="function"){c.trace("[format][provideDocumentRangeFormattingEdits] (request)",(s=e.extensionId)===null||s===void 0?void 0:s.value,g);const C=await e.provideDocumentRangesFormattingEdits(u,g,u.getFormattingOptions(),h.token)||[];c.trace("[format][provideDocumentRangeFormattingEdits] (response)",(a=e.extensionId)===null||a===void 0?void 0:a.value,C),_.push(C)}else{for(const C of g){if(h.token.isCancellationRequested)return!0;_.push(await p(C))}for(let C=0;C<g.length;++C)for(let y=C+1;y<g.length;++y){if(h.token.isCancellationRequested)return!0;if(b(_[C],_[y])){const w=D.plusRange(g[C],g[y]),S=await p(w);g.splice(y,1),g.splice(C,1),g.push(w),_.splice(y,1),_.splice(C,1),_.push(S),C=0,y=0}}}for(const C of _){if(h.token.isCancellationRequested)return!0;const y=await l.computeMoreMinimalEdits(u.uri,C);y&&v.push(...y)}}finally{h.dispose()}if(v.length===0)return!1;if(zd(t))X_.execute(t,v,!0),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1);else{const[{range:C}]=v,y=new Pe(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn);u.pushEditOperations([y],v.map(w=>({text:w.text,range:D.lift(w.range),forceMoveMarkers:!0})),w=>{for(const{range:S}of w)if(D.areIntersectingOrTouching(S,y))return[new Pe(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn)];return null})}return d.playSignal(vt.format,{userGesture:r}),!0}async function TAe(n,e,t,i,o,r){const s=n.get(Ge),a=n.get(Re),l=zd(e)?e.getModel():e,c=Zie(a.documentFormattingEditProvider,a.documentRangeFormattingEditProvider,l),d=await km.select(c,l,t,1);d&&(i.report(d),await s.invokeFunction(IAe,d,e,t,o,r))}async function IAe(n,e,t,i,o,r){const s=n.get(Tl),a=n.get(Vf);let l,c;zd(t)?(l=t.getModel(),c=new ff(t,5,void 0,o)):(l=t,c=new eW(t,o));let d;try{const u=await e.provideDocumentFormattingEdits(l,l.getFormattingOptions(),c.token);if(d=await s.computeMoreMinimalEdits(l.uri,u),c.token.isCancellationRequested)return!0}finally{c.dispose()}if(!d||d.length===0)return!1;if(zd(t))X_.execute(t,d,i!==2),i!==2&&t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1);else{const[{range:u}]=d,h=new Pe(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn);l.pushEditOperations([h],d.map(g=>({text:g.text,range:D.lift(g.range),forceMoveMarkers:!0})),g=>{for(const{range:f}of g)if(D.areIntersectingOrTouching(f,h))return[new Pe(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn)];return null})}return a.playSignal(vt.format,{userGesture:r}),!0}async function NAe(n,e,t,i,o,r){const s=e.documentRangeFormattingEditProvider.ordered(t);for(const a of s){const l=await Promise.resolve(a.provideDocumentRangeFormattingEdits(t,i,o,r)).catch(Bn);if(Yo(l))return await n.computeMoreMinimalEdits(t.uri,l)}}async function RAe(n,e,t,i,o){const r=Zie(e.documentFormattingEditProvider,e.documentRangeFormattingEditProvider,t);for(const s of r){const a=await Promise.resolve(s.provideDocumentFormattingEdits(t,i,o)).catch(Bn);if(Yo(a))return await n.computeMoreMinimalEdits(t.uri,a)}}function Xie(n,e,t,i,o,r,s){const a=e.onTypeFormattingEditProvider.ordered(t);return a.length===0||a[0].autoFormatTriggerCharacters.indexOf(o)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(t,i,o,r,s)).catch(Bn).then(l=>n.computeMoreMinimalEdits(t.uri,l))}Pt.registerCommand("_executeFormatRangeProvider",async function(n,...e){const[t,i,o]=e;Jt(Ke.isUri(t)),Jt(D.isIRange(i));const r=n.get(us),s=n.get(Tl),a=n.get(Re),l=await r.createModelReference(t);try{return NAe(s,a,l.object.textEditorModel,D.lift(i),o,Dt.None)}finally{l.dispose()}});Pt.registerCommand("_executeFormatDocumentProvider",async function(n,...e){const[t,i]=e;Jt(Ke.isUri(t));const o=n.get(us),r=n.get(Tl),s=n.get(Re),a=await o.createModelReference(t);try{return RAe(r,s,a.object.textEditorModel,i,Dt.None)}finally{a.dispose()}});Pt.registerCommand("_executeFormatOnTypeProvider",async function(n,...e){const[t,i,o,r]=e;Jt(Ke.isUri(t)),Jt(W.isIPosition(i)),Jt(typeof o=="string");const s=n.get(us),a=n.get(Tl),l=n.get(Re),c=await s.createModelReference(t);try{return Xie(a,l,c.object.textEditorModel,W.lift(i),o,r,Dt.None)}finally{c.dispose()}});Tc.wrappingIndent.defaultValue=0;Tc.glyphMargin.defaultValue=!1;Tc.autoIndent.defaultValue=3;Tc.overviewRulerLanes.defaultValue=2;km.setFormatterSelector((n,e,t)=>Promise.resolve(n[0]));const $r=LQ();$r.editor=MMe();$r.languages=xAe();const MAe=$r.CancellationTokenSource,Qie=$r.Emitter,AAe=$r.KeyCode,PAe=$r.KeyMod,OAe=$r.Position,FAe=$r.Range,BAe=$r.Selection,WAe=$r.SelectionDirection,VAe=$r.MarkerSeverity,HAe=$r.MarkerTag,zAe=$r.Uri,UAe=$r.Token,Jie=$r.editor,T0=$r.languages,uA=globalThis.MonacoEnvironment;(uA!=null&&uA.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=$r);typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});const eN=Object.freeze(Object.defineProperty({__proto__:null,CancellationTokenSource:MAe,Emitter:Qie,KeyCode:AAe,KeyMod:PAe,MarkerSeverity:VAe,MarkerTag:HAe,Position:OAe,Range:FAe,Selection:BAe,SelectionDirection:WAe,Token:UAe,Uri:zAe,editor:Jie,languages:T0},Symbol.toStringTag,{value:"Module"})),$Ae="modulepreload",jAe=function(n){return"/"+n},NK={},Ve=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){const r=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.all(t.map(l=>{if(l=jAe(l),l in NK)return;NK[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!i)for(let g=r.length-1;g>=0;g--){const f=r[g];if(f.href===l&&(!c||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":$Ae,c||(h.as="script",h.crossOrigin=""),h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((g,f)=>{h.addEventListener("load",g),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}return o.then(()=>e()).catch(r=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=r,window.dispatchEvent(s),!s.defaultPrevented)throw r})};/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.47.0(69991d66135e4a1fc1cf0b1ac4ad25d429866a0d)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var KAe=Object.defineProperty,qAe=Object.getOwnPropertyDescriptor,GAe=Object.getOwnPropertyNames,ZAe=Object.prototype.hasOwnProperty,RK=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of GAe(e))!ZAe.call(n,o)&&o!==t&&KAe(n,o,{get:()=>e[o],enumerable:!(i=qAe(e,o))||i.enumerable});return n},YAe=(n,e,t)=>(RK(n,e,"default"),t&&RK(t,e,"default")),eC={};YAe(eC,eN);var ene={},hA={},XAe=class tne{static getOrCreate(e){return hA[e]||(hA[e]=new tne(e)),hA[e]}constructor(e){this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((t,i)=>{this._lazyLoadPromiseResolve=t,this._lazyLoadPromiseReject=i})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,ene[this._languageId].loader().then(e=>this._lazyLoadPromiseResolve(e),e=>this._lazyLoadPromiseReject(e))),this._lazyLoadPromise}};function Ue(n){const e=n.id;ene[e]=n,eC.languages.register(n);const t=XAe.getOrCreate(e);eC.languages.registerTokensProviderFactory(e,{create:async()=>(await t.load()).language}),eC.languages.onLanguageEncountered(e,async()=>{const i=await t.load();eC.languages.setLanguageConfiguration(e,i.conf)})}Ue({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>Ve(()=>import("./abap-D8nrxEjS.js"),__vite__mapDeps([]))});Ue({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>Ve(()=>import("./apex-BrXDlLUW.js"),__vite__mapDeps([]))});Ue({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>Ve(()=>import("./azcli-CElzELwZ.js"),__vite__mapDeps([]))});Ue({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>Ve(()=>import("./bat-CUsyEhik.js"),__vite__mapDeps([]))});Ue({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>Ve(()=>import("./bicep-BtxyJn6H.js"),__vite__mapDeps([]))});Ue({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>Ve(()=>import("./cameligo-ClBCoF8h.js"),__vite__mapDeps([]))});Ue({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>Ve(()=>import("./clojure-B9TqLHAk.js"),__vite__mapDeps([]))});Ue({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>Ve(()=>import("./coffee-DYsfeylR.js"),__vite__mapDeps([]))});Ue({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>Ve(()=>import("./cpp-VVGvvgir.js"),__vite__mapDeps([]))});Ue({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>Ve(()=>import("./cpp-VVGvvgir.js"),__vite__mapDeps([]))});Ue({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>Ve(()=>import("./csharp-Z6z2stHy.js"),__vite__mapDeps([]))});Ue({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>Ve(()=>import("./csp-DgZoLDI1.js"),__vite__mapDeps([]))});Ue({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>Ve(()=>import("./css-KqQ96-gC.js"),__vite__mapDeps([]))});Ue({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>Ve(()=>import("./cypher-CYoSlgTu.js"),__vite__mapDeps([]))});Ue({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>Ve(()=>import("./dart-BGDl7St1.js"),__vite__mapDeps([]))});Ue({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>Ve(()=>import("./dockerfile-CuCtxA7T.js"),__vite__mapDeps([]))});Ue({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>Ve(()=>import("./ecl-BCTFAUpS.js"),__vite__mapDeps([]))});Ue({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>Ve(()=>import("./elixir-C7hRTYZ9.js"),__vite__mapDeps([]))});Ue({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>Ve(()=>import("./flow9-Bi_qi707.js"),__vite__mapDeps([]))});Ue({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>Ve(()=>import("./fsharp-CxaaEKKi.js"),__vite__mapDeps([]))});Ue({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>Ve(()=>import("./freemarker2-C8dNMQ6e.js"),__vite__mapDeps([])).then(n=>n.TagAutoInterpolationDollar)});Ue({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>Ve(()=>import("./freemarker2-C8dNMQ6e.js"),__vite__mapDeps([])).then(n=>n.TagAngleInterpolationDollar)});Ue({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>Ve(()=>import("./freemarker2-C8dNMQ6e.js"),__vite__mapDeps([])).then(n=>n.TagBracketInterpolationDollar)});Ue({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>Ve(()=>import("./freemarker2-C8dNMQ6e.js"),__vite__mapDeps([])).then(n=>n.TagAngleInterpolationBracket)});Ue({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>Ve(()=>import("./freemarker2-C8dNMQ6e.js"),__vite__mapDeps([])).then(n=>n.TagBracketInterpolationBracket)});Ue({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>Ve(()=>import("./freemarker2-C8dNMQ6e.js"),__vite__mapDeps([])).then(n=>n.TagAutoInterpolationDollar)});Ue({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>Ve(()=>import("./freemarker2-C8dNMQ6e.js"),__vite__mapDeps([])).then(n=>n.TagAutoInterpolationBracket)});Ue({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>Ve(()=>import("./go-DUImKuGY.js"),__vite__mapDeps([]))});Ue({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>Ve(()=>import("./graphql-D5sGVkLV.js"),__vite__mapDeps([]))});Ue({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>Ve(()=>import("./handlebars-CQ9KptBk.js"),__vite__mapDeps([]))});Ue({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>Ve(()=>import("./hcl-zD_CCkZ1.js"),__vite__mapDeps([]))});Ue({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>Ve(()=>import("./html-BC1m7xm0.js"),__vite__mapDeps([]))});Ue({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>Ve(()=>import("./ini-8kKHd4ZL.js"),__vite__mapDeps([]))});Ue({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>Ve(()=>import("./java-De1axCfe.js"),__vite__mapDeps([]))});Ue({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>Ve(()=>import("./javascript-Bs5rG7tp.js"),__vite__mapDeps([0,1]))});Ue({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>Ve(()=>import("./julia-D3ApGBxz.js"),__vite__mapDeps([]))});Ue({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>Ve(()=>import("./kotlin-GbSrCElU.js"),__vite__mapDeps([]))});Ue({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>Ve(()=>import("./less-DNUaDNdz.js"),__vite__mapDeps([]))});Ue({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>Ve(()=>import("./lexon-Bg9QKxBu.js"),__vite__mapDeps([]))});Ue({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>Ve(()=>import("./lua-Crkvc3mc.js"),__vite__mapDeps([]))});Ue({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>Ve(()=>import("./liquid-BI45UbPI.js"),__vite__mapDeps([]))});Ue({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>Ve(()=>import("./m3-DsrzVyM1.js"),__vite__mapDeps([]))});Ue({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>Ve(()=>import("./markdown-CY5IOZuu.js"),__vite__mapDeps([]))});Ue({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>Ve(()=>import("./mdx-Bb4dZyLq.js"),__vite__mapDeps([]))});Ue({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>Ve(()=>import("./mips-BE8RsGBA.js"),__vite__mapDeps([]))});Ue({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>Ve(()=>import("./msdax-N5ajIiFQ.js"),__vite__mapDeps([]))});Ue({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>Ve(()=>import("./mysql-DRxbB97D.js"),__vite__mapDeps([]))});Ue({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>Ve(()=>import("./objective-c-BHUZy23s.js"),__vite__mapDeps([]))});Ue({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>Ve(()=>import("./pascal-BemVzBTY.js"),__vite__mapDeps([]))});Ue({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>Ve(()=>import("./pascaligo-BACCcnx_.js"),__vite__mapDeps([]))});Ue({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>Ve(()=>import("./perl-CuU66Ptk.js"),__vite__mapDeps([]))});Ue({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>Ve(()=>import("./pgsql-CQ6TMH2r.js"),__vite__mapDeps([]))});Ue({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>Ve(()=>import("./php-BvyzZa65.js"),__vite__mapDeps([]))});Ue({id:"pla",extensions:[".pla"],loader:()=>Ve(()=>import("./pla-DrIuu9u1.js"),__vite__mapDeps([]))});Ue({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>Ve(()=>import("./postiats-BR_hrfni.js"),__vite__mapDeps([]))});Ue({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>Ve(()=>import("./powerquery-CKDUeRmd.js"),__vite__mapDeps([]))});Ue({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>Ve(()=>import("./powershell-Dsa4rhA_.js"),__vite__mapDeps([]))});Ue({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>Ve(()=>import("./protobuf-CGsvhooB.js"),__vite__mapDeps([]))});Ue({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>Ve(()=>import("./pug-D2p3uOX2.js"),__vite__mapDeps([]))});Ue({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>Ve(()=>import("./python-BMG7YrHo.js"),__vite__mapDeps([]))});Ue({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>Ve(()=>import("./qsharp-B7F3HtPF.js"),__vite__mapDeps([]))});Ue({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>Ve(()=>import("./r-3aLoi2fs.js"),__vite__mapDeps([]))});Ue({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>Ve(()=>import("./razor-YZLXTWKz.js"),__vite__mapDeps([]))});Ue({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>Ve(()=>import("./redis-jqFeRM5s.js"),__vite__mapDeps([]))});Ue({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>Ve(()=>import("./redshift-BriwQgXR.js"),__vite__mapDeps([]))});Ue({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>Ve(()=>import("./restructuredtext-hbBFZ0w9.js"),__vite__mapDeps([]))});Ue({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>Ve(()=>import("./ruby-ByThyB2Q.js"),__vite__mapDeps([]))});Ue({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>Ve(()=>import("./rust-DIEZMp5R.js"),__vite__mapDeps([]))});Ue({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>Ve(()=>import("./sb-C6Gjjw_x.js"),__vite__mapDeps([]))});Ue({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>Ve(()=>import("./scala-DZNw3jJB.js"),__vite__mapDeps([]))});Ue({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>Ve(()=>import("./scheme-55eqh71t.js"),__vite__mapDeps([]))});Ue({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>Ve(()=>import("./scss-D-OVkc4F.js"),__vite__mapDeps([]))});Ue({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>Ve(()=>import("./shell-DSpi8_qN.js"),__vite__mapDeps([]))});Ue({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>Ve(()=>import("./solidity-BHddiNFS.js"),__vite__mapDeps([]))});Ue({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>Ve(()=>import("./sophia-D6taVZFb.js"),__vite__mapDeps([]))});Ue({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>Ve(()=>import("./sparql-LA0C7mUc.js"),__vite__mapDeps([]))});Ue({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>Ve(()=>import("./sql-C3-3IcFM.js"),__vite__mapDeps([]))});Ue({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>Ve(()=>import("./st-C4g7059C.js"),__vite__mapDeps([]))});Ue({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>Ve(()=>import("./swift-DNI1vH3h.js"),__vite__mapDeps([]))});Ue({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>Ve(()=>import("./systemverilog-DL_FVbcQ.js"),__vite__mapDeps([]))});Ue({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>Ve(()=>import("./systemverilog-DL_FVbcQ.js"),__vite__mapDeps([]))});Ue({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>Ve(()=>import("./tcl-DVJXmIwd.js"),__vite__mapDeps([]))});Ue({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>Ve(()=>import("./twig-BVWDLtw5.js"),__vite__mapDeps([]))});Ue({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>Ve(()=>import("./typescript-DpXz2DG8.js"),__vite__mapDeps([]))});Ue({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>Ve(()=>import("./vb-Btz91-7U.js"),__vite__mapDeps([]))});Ue({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>Ve(()=>import("./wgsl-D8V_buCG.js"),__vite__mapDeps([]))});Ue({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>Ve(()=>import("./xml-BG7HgBrn.js"),__vite__mapDeps([]))});Ue({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>Ve(()=>import("./yaml-BSrHiPhu.js"),__vite__mapDeps([]))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.47.0(69991d66135e4a1fc1cf0b1ac4ad25d429866a0d)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var QAe=Object.defineProperty,JAe=Object.getOwnPropertyDescriptor,ePe=Object.getOwnPropertyNames,tPe=Object.prototype.hasOwnProperty,MK=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ePe(e))!tPe.call(n,o)&&o!==t&&QAe(n,o,{get:()=>e[o],enumerable:!(i=JAe(e,o))||i.enumerable});return n},iPe=(n,e,t)=>(MK(n,e,"default"),t&&MK(t,e,"default")),I0={};iPe(I0,eN);var iW=class{constructor(e,t,i){this._onDidChange=new I0.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(e){this.setOptions(e)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},nW={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},oW={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},ine=new iW("css",nW,oW),nne=new iW("scss",nW,oW),one=new iW("less",nW,oW);I0.languages.css={cssDefaults:ine,lessDefaults:one,scssDefaults:nne};function rW(){return Ve(()=>import("./cssMode-B7pOHkG-.js"),__vite__mapDeps([]))}I0.languages.onLanguage("less",()=>{rW().then(n=>n.setupMode(one))});I0.languages.onLanguage("scss",()=>{rW().then(n=>n.setupMode(nne))});I0.languages.onLanguage("css",()=>{rW().then(n=>n.setupMode(ine))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.47.0(69991d66135e4a1fc1cf0b1ac4ad25d429866a0d)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var nPe=Object.defineProperty,oPe=Object.getOwnPropertyDescriptor,rPe=Object.getOwnPropertyNames,sPe=Object.prototype.hasOwnProperty,AK=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of rPe(e))!sPe.call(n,o)&&o!==t&&nPe(n,o,{get:()=>e[o],enumerable:!(i=oPe(e,o))||i.enumerable});return n},aPe=(n,e,t)=>(AK(n,e,"default"),t&&AK(t,e,"default")),tN={};aPe(tN,eN);var lPe=class{constructor(e,t,i){this._onDidChange=new tN.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},cPe={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},iN={format:cPe,suggest:{},data:{useDefaultDataProvider:!0}};function nN(n){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:n===UC,documentFormattingEdits:n===UC,documentRangeFormattingEdits:n===UC}}var UC="html",PK="handlebars",OK="razor",rne=oN(UC,iN,nN(UC)),dPe=rne.defaults,sne=oN(PK,iN,nN(PK)),uPe=sne.defaults,ane=oN(OK,iN,nN(OK)),hPe=ane.defaults;tN.languages.html={htmlDefaults:dPe,razorDefaults:hPe,handlebarDefaults:uPe,htmlLanguageService:rne,handlebarLanguageService:sne,razorLanguageService:ane,registerHTMLLanguageService:oN};function gPe(){return Ve(()=>import("./htmlMode-D0W5h-ym.js"),__vite__mapDeps([]))}function oN(n,e=iN,t=nN(n)){const i=new lPe(n,e,t);let o;const r=tN.languages.onLanguage(n,async()=>{o=(await gPe()).setupMode(i)});return{defaults:i,dispose(){r.dispose(),o==null||o.dispose(),o=void 0}}}var fPe=class{constructor(e,t,i){this._onDidChange=new Qie,this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},pPe={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},mPe={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},lne=new fPe("json",pPe,mPe),vPe=()=>cne().then(n=>n.getWorker());T0.json={jsonDefaults:lne,getWorker:vPe};function cne(){return Ve(()=>import("./jsonMode-B1Kz_zqX.js"),__vite__mapDeps([]))}T0.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});T0.onLanguage("json",()=>{cne().then(n=>n.setupMode(lne))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.47.0(69991d66135e4a1fc1cf0b1ac4ad25d429866a0d)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var bPe=Object.defineProperty,_Pe=Object.getOwnPropertyDescriptor,CPe=Object.getOwnPropertyNames,yPe=Object.prototype.hasOwnProperty,FK=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of CPe(e))!yPe.call(n,o)&&o!==t&&bPe(n,o,{get:()=>e[o],enumerable:!(i=_Pe(e,o))||i.enumerable});return n},wPe=(n,e,t)=>(FK(n,e,"default"),t&&FK(t,e,"default")),SPe="5.0.2",Q_={};wPe(Q_,eN);var dne=(n=>(n[n.None=0]="None",n[n.CommonJS=1]="CommonJS",n[n.AMD=2]="AMD",n[n.UMD=3]="UMD",n[n.System=4]="System",n[n.ES2015=5]="ES2015",n[n.ESNext=99]="ESNext",n))(dne||{}),une=(n=>(n[n.None=0]="None",n[n.Preserve=1]="Preserve",n[n.React=2]="React",n[n.ReactNative=3]="ReactNative",n[n.ReactJSX=4]="ReactJSX",n[n.ReactJSXDev=5]="ReactJSXDev",n))(une||{}),hne=(n=>(n[n.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",n[n.LineFeed=1]="LineFeed",n))(hne||{}),gne=(n=>(n[n.ES3=0]="ES3",n[n.ES5=1]="ES5",n[n.ES2015=2]="ES2015",n[n.ES2016=3]="ES2016",n[n.ES2017=4]="ES2017",n[n.ES2018=5]="ES2018",n[n.ES2019=6]="ES2019",n[n.ES2020=7]="ES2020",n[n.ESNext=99]="ESNext",n[n.JSON=100]="JSON",n[n.Latest=99]="Latest",n))(gne||{}),fne=(n=>(n[n.Classic=1]="Classic",n[n.NodeJs=2]="NodeJs",n))(fne||{}),pne=class{constructor(n,e,t,i,o){this._onDidChange=new Q_.Emitter,this._onDidExtraLibsChange=new Q_.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(n),this.setDiagnosticsOptions(e),this.setWorkerOptions(t),this.setInlayHintsOptions(i),this.setModeConfiguration(o),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(n,e){let t;if(typeof e>"u"?t=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:t=e,this._extraLibs[t]&&this._extraLibs[t].content===n)return{dispose:()=>{}};let i=1;return this._removedExtraLibs[t]&&(i=this._removedExtraLibs[t]+1),this._extraLibs[t]&&(i=this._extraLibs[t].version+1),this._extraLibs[t]={content:n,version:i},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let o=this._extraLibs[t];o&&o.version===i&&(delete this._extraLibs[t],this._removedExtraLibs[t]=i,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(n){for(const e in this._extraLibs)this._removedExtraLibs[e]=this._extraLibs[e].version;if(this._extraLibs=Object.create(null),n&&n.length>0)for(const e of n){const t=e.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,i=e.content;let o=1;this._removedExtraLibs[t]&&(o=this._removedExtraLibs[t]+1),this._extraLibs[t]={content:i,version:o}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(n){this._compilerOptions=n||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(n){this._workerOptions=n||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(n){this._inlayHintsOptions=n||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(n){}setEagerModelSync(n){this._eagerModelSync=n}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(void 0)}},xPe=SPe,mne={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},vne=new pne({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},mne),bne=new pne({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},mne),kPe=()=>rN().then(n=>n.getTypeScriptWorker()),LPe=()=>rN().then(n=>n.getJavaScriptWorker());Q_.languages.typescript={ModuleKind:dne,JsxEmit:une,NewLineKind:hne,ScriptTarget:gne,ModuleResolutionKind:fne,typescriptVersion:xPe,typescriptDefaults:vne,javascriptDefaults:bne,getTypeScriptWorker:kPe,getJavaScriptWorker:LPe};function rN(){return Ve(()=>import("./tsMode-BOVD3txT.js"),__vite__mapDeps([]))}Q_.languages.onLanguage("typescript",()=>rN().then(n=>n.setupTypeScript(vne)));Q_.languages.onLanguage("javascript",()=>rN().then(n=>n.setupJavaScript(bne)));class DPe extends hs{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:Ut("toggleCollapseUnchangedRegions","Toggle Collapse Unchanged Regions"),icon:pe.map,toggled:ee.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:ee.has("isInDiffEditor"),menu:{when:ee.has("isInDiffEditor"),id:T.EditorTitle,order:22,group:"navigation"}})}run(e,...t){const i=e.get(yt),o=!i.getValue("diffEditor.hideUnchangedRegions.enabled");i.updateValue("diffEditor.hideUnchangedRegions.enabled",o)}}Li(DPe);class _ne extends hs{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:Ut("toggleShowMovedCodeBlocks","Toggle Show Moved Code Blocks"),precondition:ee.has("isInDiffEditor")})}run(e,...t){const i=e.get(yt),o=!i.getValue("diffEditor.experimental.showMoves");i.updateValue("diffEditor.experimental.showMoves",o)}}Li(_ne);class Cne extends hs{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:Ut("toggleUseInlineViewWhenSpaceIsLimited","Toggle Use Inline View When Space Is Limited"),precondition:ee.has("isInDiffEditor")})}run(e,...t){const i=e.get(yt),o=!i.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");i.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",o)}}Li(Cne);Io.appendMenuItem(T.EditorTitle,{command:{id:new Cne().desc.id,title:m("useInlineViewWhenSpaceIsLimited","Use Inline View When Space Is Limited"),toggled:ee.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:ee.has("isInDiffEditor")},order:11,group:"1_diff",when:ee.and(I.diffEditorRenderSideBySideInlineBreakpointReached,ee.has("isInDiffEditor"))});Io.appendMenuItem(T.EditorTitle,{command:{id:new _ne().desc.id,title:m("showMoves","Show Moved Code Blocks"),icon:pe.move,toggled:v0.create("config.diffEditor.experimental.showMoves",!0),precondition:ee.has("isInDiffEditor")},order:10,group:"1_diff",when:ee.has("isInDiffEditor")});const sN=Ut("diffEditor","Diff Editor");class EPe extends Nc{constructor(){super({id:"diffEditor.switchSide",title:Ut("switchSide","Switch Side"),icon:pe.arrowSwap,precondition:ee.has("isInDiffEditor"),f1:!0,category:sN})}runEditorCommand(e,t,i){const o=R0(e);if(o instanceof gf){if(i&&i.dryRun)return{destinationSelection:o.mapToOtherSide().destinationSelection};o.switchSide()}}}Li(EPe);class TPe extends Nc{constructor(){super({id:"diffEditor.exitCompareMove",title:Ut("exitCompareMove","Exit Compare Move"),icon:pe.close,precondition:I.comparingMovedCode,f1:!1,category:sN,keybinding:{weight:1e4,primary:9}})}runEditorCommand(e,t,...i){const o=R0(e);o instanceof gf&&o.exitCompareMove()}}Li(TPe);class IPe extends Nc{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:Ut("collapseAllUnchangedRegions","Collapse All Unchanged Regions"),icon:pe.fold,precondition:ee.has("isInDiffEditor"),f1:!0,category:sN})}runEditorCommand(e,t,...i){const o=R0(e);o instanceof gf&&o.collapseAllUnchangedRegions()}}Li(IPe);class NPe extends Nc{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:Ut("showAllUnchangedRegions","Show All Unchanged Regions"),icon:pe.unfold,precondition:ee.has("isInDiffEditor"),f1:!0,category:sN})}runEditorCommand(e,t,...i){const o=R0(e);o instanceof gf&&o.showAllUnchangedRegions()}}Li(NPe);const yne=Ut("accessibleDiffViewer","Accessible Diff Viewer");class N0 extends hs{constructor(){super({id:N0.id,title:Ut("editor.action.accessibleDiffViewer.next","Go to Next Difference"),category:yne,precondition:ee.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(e){const t=R0(e);t==null||t.accessibleDiffViewerNext()}}N0.id="editor.action.accessibleDiffViewer.next";Io.appendMenuItem(T.EditorTitle,{command:{id:N0.id,title:m("Open Accessible Diff Viewer","Open Accessible Diff Viewer"),precondition:ee.has("isInDiffEditor")},order:10,group:"2_diff",when:ee.and(I.accessibleDiffViewerVisible.negate(),ee.has("isInDiffEditor"))});class ZS extends hs{constructor(){super({id:ZS.id,title:Ut("editor.action.accessibleDiffViewer.prev","Go to Previous Difference"),category:yne,precondition:ee.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(e){const t=R0(e);t==null||t.accessibleDiffViewerPrev()}}ZS.id="editor.action.accessibleDiffViewer.prev";function R0(n){const t=n.get(qt).listDiffEditors(),i=Vo();if(i)for(const o of t){const r=o.getContainerDomNode();if(RPe(r,i))return o}return null}function RPe(n,e){let t=e;for(;t;){if(t===n)return!0;t=t.parentElement}return!1}Pt.registerCommandAlias("editor.action.diffReview.next",N0.id);Li(N0);Pt.registerCommandAlias("editor.action.diffReview.prev",ZS.id);Li(ZS);var MPe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},APe=function(n,e){return function(t,i){e(t,i,n)}},bF;const aN=new we("selectionAnchorSet",!1);let fh=bF=class{static get(e){return e.getContribution(bF.ID)}constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=aN.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition();this.editor.changeDecorations(t=>{this.decorationId&&t.removeDecoration(this.decorationId),this.decorationId=t.addDecoration(Pe.fromPositions(e,e),{description:"selection-anchor",stickiness:1,hoverMessage:new Go().appendText(m("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),Es(m("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(Pe.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const e=this.decorationId;this.editor.changeDecorations(t=>{t.removeDecoration(e),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};fh.ID="editor.contrib.selectionAnchorController";fh=bF=MPe([APe(1,Xe)],fh);class PPe extends Le{constructor(){super({id:"editor.action.setSelectionAnchor",label:m("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2080),weight:100}})}async run(e,t){var i;(i=fh.get(t))===null||i===void 0||i.setSelectionAnchor()}}class OPe extends Le{constructor(){super({id:"editor.action.goToSelectionAnchor",label:m("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:aN})}async run(e,t){var i;(i=fh.get(t))===null||i===void 0||i.goToSelectionAnchor()}}class FPe extends Le{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:m("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:aN,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2089),weight:100}})}async run(e,t){var i;(i=fh.get(t))===null||i===void 0||i.selectFromAnchorToCursor()}}class BPe extends Le{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:m("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:aN,kbOpts:{kbExpr:I.editorTextFocus,primary:9,weight:100}})}async run(e,t){var i;(i=fh.get(t))===null||i===void 0||i.cancelSelectionAnchor()}}Gt(fh.ID,fh,4);de(PPe);de(OPe);de(FPe);de(BPe);const WPe=N("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},m("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class VPe extends Le{constructor(){super({id:"editor.action.jumpToBracket",label:m("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:I.editorTextFocus,primary:3165,weight:100}})}run(e,t){var i;(i=bl.get(t))===null||i===void 0||i.jumpToBracket()}}class HPe extends Le{constructor(){super({id:"editor.action.selectToBracket",label:m("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,metadata:{description:Ut("smartSelect.selectToBracketDescription","Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){var o;let r=!0;i&&i.selectBrackets===!1&&(r=!1),(o=bl.get(t))===null||o===void 0||o.selectToBracket(r)}}class zPe extends Le{constructor(){super({id:"editor.action.removeBrackets",label:m("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:I.editorTextFocus,primary:2561,weight:100}})}run(e,t){var i;(i=bl.get(t))===null||i===void 0||i.removeBrackets(this.id)}}class UPe{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}}class bl extends z{static get(e){return e.getContribution(bl.ID)}constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new mi(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(72),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(t=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(t=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(72)&&(this._matchBrackets=this._editor.getOption(72),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map(i=>{const o=i.getStartPosition(),r=e.bracketPairs.matchBracket(o);let s=null;if(r)r[0].containsPosition(o)&&!r[1].containsPosition(o)?s=r[1].getStartPosition():r[1].containsPosition(o)&&(s=r[0].getStartPosition());else{const a=e.bracketPairs.findEnclosingBrackets(o);if(a)s=a[1].getStartPosition();else{const l=e.bracketPairs.findNextBracket(o);l&&l.range&&(s=l.range.getStartPosition())}}return s?new Pe(s.lineNumber,s.column,s.lineNumber,s.column):new Pe(o.lineNumber,o.column,o.lineNumber,o.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=[];this._editor.getSelections().forEach(o=>{const r=o.getStartPosition();let s=t.bracketPairs.matchBracket(r);if(!s&&(s=t.bracketPairs.findEnclosingBrackets(r),!s)){const c=t.bracketPairs.findNextBracket(r);c&&c.range&&(s=t.bracketPairs.matchBracket(c.range.getStartPosition()))}let a=null,l=null;if(s){s.sort(D.compareRangesUsingStarts);const[c,d]=s;if(a=e?c.getStartPosition():c.getEndPosition(),l=e?d.getEndPosition():d.getStartPosition(),d.containsPosition(r)){const u=a;a=l,l=u}}a&&l&&i.push(new Pe(a.lineNumber,a.column,l.lineNumber,l.column))}),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}removeBrackets(e){if(!this._editor.hasModel())return;const t=this._editor.getModel();this._editor.getSelections().forEach(i=>{const o=i.getPosition();let r=t.bracketPairs.matchBracket(o);r||(r=t.bracketPairs.findEnclosingBrackets(o)),r&&(this._editor.pushUndoStop(),this._editor.executeEdits(e,[{range:r[0],text:""},{range:r[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const e=[];let t=0;for(const i of this._lastBracketsData){const o=i.brackets;o&&(e[t++]={range:o[0],options:i.options},e[t++]={range:o[1],options:i.options})}this._decorations.set(e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const e=this._editor.getSelections();if(e.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const t=this._editor.getModel(),i=t.getVersionId();let o=[];this._lastVersionId===i&&(o=this._lastBracketsData);const r=[];let s=0;for(let u=0,h=e.length;u<h;u++){const g=e[u];g.isEmpty()&&(r[s++]=g.getStartPosition())}r.length>1&&r.sort(W.compare);const a=[];let l=0,c=0;const d=o.length;for(let u=0,h=r.length;u<h;u++){const g=r[u];for(;c<d&&o[c].position.isBefore(g);)c++;if(c<d&&o[c].position.equals(g))a[l++]=o[c];else{let f=t.bracketPairs.matchBracket(g,20),p=bl._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!f&&this._matchBrackets==="always"&&(f=t.bracketPairs.findEnclosingBrackets(g,20),p=bl._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),a[l++]=new UPe(g,f,p)}}this._lastBracketsData=a,this._lastVersionId=i}}bl.ID="editor.contrib.bracketMatchingController";bl._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=dt.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:sn(WPe),position:la.Center}});bl._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=dt.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"});Gt(bl.ID,bl,1);de(HPe);de(VPe);de(zPe);Io.appendMenuItem(T.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:m({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class $Pe{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const i=this._selection.startLineNumber,o=this._selection.startColumn,r=this._selection.endColumn;if(!(this._isMovingLeft&&o===1)&&!(!this._isMovingLeft&&r===e.getLineMaxColumn(i)))if(this._isMovingLeft){const s=new D(i,o-1,i,o),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new D(i,r,i,r),a)}else{const s=new D(i,r,i,r+1),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new D(i,o,i,o),a)}}computeCursorState(e,t){return this._isMovingLeft?new Pe(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new Pe(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class wne extends Le{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;const i=[],o=t.getSelections();for(const r of o)i.push(new $Pe(r,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class jPe extends wne{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:m("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:I.writable})}}class KPe extends wne{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:m("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:I.writable})}}de(jPe);de(KPe);class qPe extends Le{constructor(){super({id:"editor.action.transposeLetters",label:m("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:I.writable,kbOpts:{kbExpr:I.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;const i=t.getModel(),o=[],r=t.getSelections();for(const s of r){if(!s.isEmpty())continue;const a=s.startLineNumber,l=s.startColumn,c=i.getLineMaxColumn(a);if(a===1&&(l===1||l===2&&c===2))continue;const d=l===c?s.getPosition():oi.rightPosition(i,s.getPosition().lineNumber,s.getPosition().column),u=oi.leftPosition(i,d),h=oi.leftPosition(i,u),g=i.getValueInRange(D.fromPositions(h,u)),f=i.getValueInRange(D.fromPositions(u,d)),p=D.fromPositions(h,d);o.push(new Ao(p,f+g))}o.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop())}}de(qPe);const lN=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let n;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?n=crypto.getRandomValues.bind(crypto):n=function(i){for(let o=0;o<i.length;o++)i[o]=Math.floor(Math.random()*256);return i};const e=new Uint8Array(16),t=[];for(let i=0;i<256;i++)t.push(i.toString(16).padStart(2,"0"));return function(){n(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let o=0,r="";return r+=t[e[o++]],r+=t[e[o++]],r+=t[e[o++]],r+=t[e[o++]],r+="-",r+=t[e[o++]],r+=t[e[o++]],r+="-",r+=t[e[o++]],r+=t[e[o++]],r+="-",r+=t[e[o++]],r+=t[e[o++]],r+="-",r+=t[e[o++]],r+=t[e[o++]],r+=t[e[o++]],r+=t[e[o++]],r+=t[e[o++]],r+=t[e[o++]],r}}();function sW(n){return{asString:async()=>n,asFile:()=>{},value:typeof n=="string"?n:void 0}}function GPe(n,e,t){const i={id:lN(),name:n,uri:e,data:t};return{asString:async()=>"",asFile:()=>i,value:void 0}}class Sne{constructor(){this._entries=new Map}get size(){let e=0;for(const t of this._entries)e++;return e}has(e){return this._entries.has(this.toKey(e))}matches(e){const t=[...this._entries.keys()];return Mt.some(this,([i,o])=>o.asFile())&&t.push("files"),kne(mE(e),t)}get(e){var t;return(t=this._entries.get(this.toKey(e)))===null||t===void 0?void 0:t[0]}append(e,t){const i=this._entries.get(e);i?i.push(t):this._entries.set(this.toKey(e),[t])}replace(e,t){this._entries.set(this.toKey(e),[t])}delete(e){this._entries.delete(this.toKey(e))}*[Symbol.iterator](){for(const[e,t]of this._entries)for(const i of t)yield[e,i]}toKey(e){return mE(e)}}function mE(n){return n.toLowerCase()}function xne(n,e){return kne(mE(n),e.map(mE))}function kne(n,e){if(n==="*/*")return e.length>0;if(e.includes(n))return!0;const t=n.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!t)return!1;const[i,o,r]=t;return r==="*"?e.some(s=>s.startsWith(o+"/")):!1}const cN=Object.freeze({create:n=>ch(n.map(e=>e.toString())).join(`\r
`),split:n=>n.split(`\r
`),parse:n=>cN.split(n).filter(e=>!e.startsWith("#"))}),BK={EDITORS:"CodeEditors",FILES:"CodeFiles"};class ZPe{}const YPe={DragAndDropContribution:"workbench.contributions.dragAndDrop"};nn.add(YPe.DragAndDropContribution,new ZPe);class Rw{constructor(){}static getInstance(){return Rw.INSTANCE}hasData(e){return e&&e===this.proto}getData(e){if(this.hasData(e))return this.data}}Rw.INSTANCE=new Rw;function Lne(n){const e=new Sne;for(const t of n.items){const i=t.type;if(t.kind==="string"){const o=new Promise(r=>t.getAsString(r));e.append(i,sW(o))}else if(t.kind==="file"){const o=t.getAsFile();o&&e.append(i,XPe(o))}}return e}function XPe(n){const e=n.path?Ke.parse(n.path):void 0;return GPe(n.name,e,async()=>new Uint8Array(await n.arrayBuffer()))}const QPe=Object.freeze([BK.EDITORS,BK.FILES,gw.RESOURCES,gw.INTERNAL_URI_LIST]);function Dne(n,e=!1){const t=Lne(n),i=t.get(gw.INTERNAL_URI_LIST);if(i)t.replace(un.uriList,i);else if(e||!t.has(un.uriList)){const o=[];for(const r of n.items){const s=r.getAsFile();if(s){const a=s.path;try{a?o.push(Ke.file(a).toString()):o.push(Ke.parse(s.name,!0).toString())}catch{}}}o.length&&t.replace(un.uriList,sW(cN.create(o)))}for(const o of QPe)t.delete(o);return t}class el{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const e=this.pos;let t=0,i=this.value.charCodeAt(e),o;if(o=el._table[i],typeof o=="number")return this.pos+=1,{type:o,pos:e,len:1};if(el.isDigitCharacter(i)){o=8;do t+=1,i=this.value.charCodeAt(e+t);while(el.isDigitCharacter(i));return this.pos+=t,{type:o,pos:e,len:t}}if(el.isVariableCharacter(i)){o=9;do i=this.value.charCodeAt(e+ ++t);while(el.isVariableCharacter(i)||el.isDigitCharacter(i));return this.pos+=t,{type:o,pos:e,len:t}}o=10;do t+=1,i=this.value.charCodeAt(e+t);while(!isNaN(i)&&typeof el._table[i]>"u"&&!el.isDigitCharacter(i)&&!el.isVariableCharacter(i));return this.pos+=t,{type:o,pos:e,len:t}}}el._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class M0{constructor(){this._children=[]}appendChild(e){return e instanceof Lr&&this._children[this._children.length-1]instanceof Lr?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:i}=e,o=i.children.indexOf(e),r=i.children.slice(0);r.splice(o,1,...t),i._children=r,function s(a,l){for(const c of a)c.parent=l,s(c.children,c)}(t,i)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof YS)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class Lr extends M0{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new Lr(this.value)}}class Ene extends M0{}class ya extends Ene{static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}constructor(e){super(),this.index=e}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof A0?this._children[0]:void 0}clone(){const e=new ya(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}class A0 extends M0{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof Lr&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const e=new A0;return this.options.forEach(e.appendChild,e),e}}class aW extends M0{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let i=!1,o=e.replace(this.regexp,function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(r=>r instanceof $l&&!!r.elseValue)&&(o=this._replace([])),o}_replace(e){let t="";for(const i of this._children)if(i instanceof $l){let o=e[i.index]||"";o=i.resolve(o),t+=o}else t+=i.toString();return t}toString(){return""}clone(){const e=new aW;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}}class $l extends M0{constructor(e,t,i,o){super(),this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=o}resolve(e){return this.shorthandName==="upcase"?e?e.toLocaleUpperCase():"":this.shorthandName==="downcase"?e?e.toLocaleLowerCase():"":this.shorthandName==="capitalize"?e?e[0].toLocaleUpperCase()+e.substr(1):"":this.shorthandName==="pascalcase"?e?this._toPascalCase(e):"":this.shorthandName==="camelcase"?e?this._toCamelCase(e):"":e&&typeof this.ifValue=="string"?this.ifValue:!e&&typeof this.elseValue=="string"?this.elseValue:e||""}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(i=>i.charAt(0).toUpperCase()+i.substr(1)).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((i,o)=>o===0?i.charAt(0).toLowerCase()+i.substr(1):i.charAt(0).toUpperCase()+i.substr(1)).join(""):e}clone(){return new $l(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class Mw extends Ene{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),t!==void 0?(this._children=[new Lr(t)],!0):!1}clone(){const e=new Mw(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}function WK(n,e){const t=[...n];for(;t.length>0;){const i=t.shift();if(!e(i))break;t.unshift(...i.children)}}class YS extends M0{get placeholderInfo(){if(!this._placeholders){const e=[];let t;this.walk(function(i){return i instanceof ya&&(e.push(i),t=!t||t.index<i.index?i:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk(o=>o===e?(i=!0,!1):(t+=o.len(),!0)),i?t:-1}fullLen(e){let t=0;return WK([e],i=>(t+=i.len(),!0)),t}enclosingPlaceholders(e){const t=[];let{parent:i}=e;for(;i;)i instanceof ya&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof Mw&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){const e=new YS;return this._children=this.children.map(t=>t.clone()),e}walk(e){WK(this.children,e)}}class Lm{constructor(){this._scanner=new el,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){const o=new YS;return this.parseFragment(e,o),this.ensureFinalTabstop(o,i??!1,t??!1),o}parseFragment(e,t){const i=t.children.length;for(this._scanner.text(e),this._token=this._scanner.next();this._parse(t););const o=new Map,r=[];t.walk(l=>(l instanceof ya&&(l.isFinalTabstop?o.set(0,void 0):!o.has(l.index)&&l.children.length>0?o.set(l.index,l.children):r.push(l)),!0));const s=(l,c)=>{const d=o.get(l.index);if(!d)return;const u=new ya(l.index);u.transform=l.transform;for(const h of d){const g=h.clone();u.appendChild(g),g instanceof ya&&o.has(g.index)&&!c.has(g.index)&&(c.add(g.index),s(g,c),c.delete(g.index))}t.replace(l,[u])},a=new Set;for(const l of r)s(l,a);return t.children.slice(i)}ensureFinalTabstop(e,t,i){(t||i&&e.placeholders.length>0)&&(e.placeholders.find(r=>r.index===0)||e.appendChild(new ya(0)))}_accept(e,t){if(e===void 0||this._token.type===e){const i=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),i}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){const o=this._scanner.next();if(o.type!==0&&o.type!==4&&o.type!==5)return!1}this._token=this._scanner.next()}const i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new Lr(t)),!0):!1}_parseTabstopOrVariableName(e){let t;const i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new ya(Number(t)):new Mw(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);const r=new ya(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new Lr("${"+t+":")),r.children.forEach(e.appendChild,e),!0}else if(r.index>0&&this._accept(7)){const s=new A0;for(;;){if(this._parseChoiceElement(s)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(s),this._accept(4)))return e.appendChild(r),!0}return this._backTo(i),!1}}else return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(i)}_parseChoiceElement(e){const t=this._token,i=[];for(;!(this._token.type===2||this._token.type===7);){let o;if((o=this._accept(5,!0))?o=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||o:o=this._accept(void 0,!0),!o)return this._backTo(t),!1;i.push(o)}return i.length===0?(this._backTo(t),!1):(e.appendChild(new Lr(i.join(""))),!0)}_parseComplexVariable(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);const r=new Mw(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new Lr("${"+t+":")),r.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(i)}_parseTransform(e){const t=new aW;let i="",o="";for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(6,!0)||r,i+=r;continue}if(this._token.type!==14){i+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(5,!0)||this._accept(6,!0)||r,t.appendChild(new Lr(r));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){o+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(i,o)}catch{return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);const o=this._accept(8,!0);if(o)if(i){if(this._accept(4))return e.appendChild(new $l(Number(o))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new $l(Number(o))),!0;else return this._backTo(t),!1;if(this._accept(6)){const r=this._accept(9,!0);return!r||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new $l(Number(o),r)),!0)}else if(this._accept(11)){const r=this._until(4);if(r)return e.appendChild(new $l(Number(o),void 0,r,void 0)),!0}else if(this._accept(12)){const r=this._until(4);if(r)return e.appendChild(new $l(Number(o),void 0,void 0,r)),!0}else if(this._accept(13)){const r=this._until(1);if(r){const s=this._until(4);if(s)return e.appendChild(new $l(Number(o),void 0,r,s)),!0}}else{const r=this._until(4);if(r)return e.appendChild(new $l(Number(o),void 0,void 0,r)),!0}return this._backTo(t),!1}_parseAnything(e){return this._token.type!==14?(e.appendChild(new Lr(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}function Tne(n,e,t){var i,o,r,s;return(typeof t.insertText=="string"?t.insertText==="":t.insertText.snippet==="")?{edits:(o=(i=t.additionalEdit)===null||i===void 0?void 0:i.edits)!==null&&o!==void 0?o:[]}:{edits:[...e.map(a=>new Wg(n,{range:a,text:typeof t.insertText=="string"?Lm.escape(t.insertText)+"$0":t.insertText.snippet,insertAsSnippet:!0})),...(s=(r=t.additionalEdit)===null||r===void 0?void 0:r.edits)!==null&&s!==void 0?s:[]]}}function Ine(n){var e;function t(a,l){return"providerId"in a&&a.providerId===l.providerId||"mimeType"in a&&a.mimeType===l.handledMimeType}const i=new Map;for(const a of n)for(const l of(e=a.yieldTo)!==null&&e!==void 0?e:[])for(const c of n)if(c!==a&&t(l,c)){let d=i.get(a);d||(d=[],i.set(a,d)),d.push(c)}if(!i.size)return Array.from(n);const o=new Set,r=[];function s(a){if(!a.length)return[];const l=a[0];if(r.includes(l))return console.warn(`Yield to cycle detected for ${l.providerId}`),a;if(o.has(l))return s(a.slice(1));let c=[];const d=i.get(l);return d&&(r.push(l),c=s(d),r.pop()),o.add(l),[...c,l,...s(a.slice(1))]}return s(Array.from(n))}var JPe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},eOe=function(n,e){return function(t,i){e(t,i,n)}};const tOe=dt.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:AQ,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class dN extends z{constructor(e,t,i,o,r){super(),this.typeId=e,this.editor=t,this.range=i,this.delegate=r,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(o),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(e){this.domNode=ue(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=e;const t=ue("span.icon");this.domNode.append(t),t.classList.add(...Ze.asClassNameArray(pe.loading),"codicon-modifier-spin");const i=()=>{const o=this.editor.getOption(67);this.domNode.style.height=`${o}px`,this.domNode.style.width=`${Math.ceil(.8*o)}px`};i(),this._register(this.editor.onDidChangeConfiguration(o=>{(o.hasChanged(52)||o.hasChanged(67))&&i()})),this._register(j(this.domNode,ge.CLICK,o=>{this.delegate.cancel()}))}getId(){return dN.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}dN.baseId="editor.widget.inlineProgressWidget";let vE=class extends z{constructor(e,t,i){super(),this.id=e,this._editor=t,this._instantiationService=i,this._showDelay=500,this._showPromise=this._register(new bo),this._currentWidget=new bo,this._operationIdPool=0,this._currentDecorations=t.createDecorationsCollection()}async showWhile(e,t,i){const o=this._operationIdPool++;this._currentOperation=o,this.clear(),this._showPromise.value=nf(()=>{const r=D.fromPositions(e);this._currentDecorations.set([{range:r,options:tOe}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(dN,this.id,this._editor,r,t,i))},this._showDelay);try{return await i}finally{this._currentOperation===o&&(this.clear(),this._currentOperation=void 0)}}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};vE=JPe([eOe(2,Ge)],vE);var Nne=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},$C=function(n,e){return function(t,i){e(t,i,n)}},_F;let bE=_F=class extends z{constructor(e,t,i,o,r,s,a,l,c,d){super(),this.typeId=e,this.editor=t,this.showCommand=o,this.range=r,this.edits=s,this.onSelectNewEdit=a,this._contextMenuService=l,this._keybindingService=d,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=i.bindTo(c),this.visibleContext.set(!0),this._register(je(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register(je(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(u=>{r.containsPosition(u.position)||this.dispose()})),this._register(me.runAndSubscribe(d.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var e;const t=(e=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||e===void 0?void 0:e.getLabel();this.button.element.title=this.showCommand.label+(t?` (${t})`:"")}create(){this.domNode=ue(".post-edit-widget"),this.button=this._register(new rE(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(j(this.domNode,ge.CLICK,()=>this.showSelector()))}getId(){return _F.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const e=In(this.button.element);return{x:e.left+e.width,y:e.top+e.height}},getActions:()=>this.edits.allEdits.map((e,t)=>Ob({id:"",label:e.label,checked:t===this.edits.activeEditIndex,run:()=>{if(t!==this.edits.activeEditIndex)return this.onSelectNewEdit(t)}}))})}};bE.baseId="editor.widget.postEditWidget";bE=_F=Nne([$C(7,Ps),$C(8,Xe),$C(9,di)],bE);let _E=class extends z{constructor(e,t,i,o,r,s){super(),this._id=e,this._editor=t,this._visibleContext=i,this._showCommand=o,this._instantiationService=r,this._bulkEditService=s,this._currentWidget=this._register(new bo),this._register(me.any(t.onDidChangeModel,t.onDidChangeModelContent)(()=>this.clear()))}async applyEditAndShowIfNeeded(e,t,i,o){const r=this._editor.getModel();if(!r||!e.length)return;const s=t.allEdits[t.activeEditIndex];if(!s)return;const a=Tne(r.uri,e,s),l=e[0],c=r.deltaDecorations([],[{range:l,options:{description:"paste-line-suffix",stickiness:0}}]);let d,u;try{d=await this._bulkEditService.apply(a,{editor:this._editor,token:o}),u=r.getDecorationRange(c[0])}finally{r.deltaDecorations(c,[])}i&&d.isApplied&&t.allEdits.length>1&&this.show(u??l,t,async h=>{const g=this._editor.getModel();g&&(await g.undo(),this.applyEditAndShowIfNeeded(e,{activeEditIndex:h,allEdits:t.allEdits},i,o))})}show(e,t,i){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(bE,this._id,this._editor,this._visibleContext,this._showCommand,e,t,i))}clear(){this._currentWidget.clear()}tryShowSelector(){var e;(e=this._currentWidget.value)===null||e===void 0||e.showSelector()}};_E=Nne([$C(4,Ge),$C(5,BS)],_E);var iOe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},VK=function(n,e){return function(t,i){e(t,i,n)}},qL;let Or=qL=class{static get(e){return e.getContribution(qL.ID)}constructor(e,t,i){this._openerService=i,this._messageWidget=new bo,this._messageListeners=new oe,this._mouseOverMessage=!1,this._editor=e,this._visible=qL.MESSAGE_VISIBLE.bindTo(t)}dispose(){var e;(e=this._message)===null||e===void 0||e.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){Es(Ed(e)?e.value:e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=Ed(e)?DI(e,{actionHandler:{callback:o=>{this.closeMessage(),m7(this._openerService,o,Ed(e)?e.isTrusted:void 0)},disposables:this._messageListeners}}):void 0,this._messageWidget.value=new HK(this._editor,t,typeof e=="string"?e:this._message.element),this._messageListeners.add(me.debounce(this._editor.onDidBlurEditorText,(o,r)=>r,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&To(Vo(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(j(this._messageWidget.value.getDomNode(),ge.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(j(this._messageWidget.value.getDomNode(),ge.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let i;this._messageListeners.add(this._editor.onMouseMove(o=>{o.target.position&&(i?i.containsPosition(o.target.position)||this.closeMessage():i=new D(t.lineNumber-3,1,o.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(HK.fadeOut(this._messageWidget.value))}};Or.ID="editor.contrib.messageController";Or.MESSAGE_VISIBLE=new we("messageVisible",!1,m("messageVisible","Whether the editor is currently showing an inline message"));Or=qL=iOe([VK(1,Xe),VK(2,gs)],Or);const nOe=_o.bindToContribution(Or.get);ve(new nOe({id:"leaveEditorMessage",precondition:Or.MESSAGE_VISIBLE,handler:n=>n.closeMessage(),kbOpts:{weight:130,primary:9}}));let HK=class{static fadeOut(e){const t=()=>{e.dispose(),clearTimeout(i),e.getDomNode().removeEventListener("animationend",t)},i=setTimeout(t,110);return e.getDomNode().addEventListener("animationend",t),e.getDomNode().classList.add("fadeOut"),{dispose:t}}constructor(e,{lineNumber:t,column:i},o){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const r=document.createElement("div");r.classList.add("anchor","top"),this._domNode.appendChild(r);const s=document.createElement("div");typeof o=="string"?(s.classList.add("message"),s.textContent=o):(o.classList.add("message"),s.appendChild(o)),this._domNode.appendChild(s);const a=document.createElement("div");a.classList.add("anchor","below"),this._domNode.appendChild(a),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(e){this._domNode.classList.toggle("below",e===2)}};Gt(Or.ID,Or,4);var oOe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},yv=function(n,e){return function(t,i){e(t,i,n)}},CF;const Rne="editor.changePasteType",Mne=new we("pasteWidgetVisible",!1,m("pasteWidgetVisible","Whether the paste widget is showing")),gA="application/vnd.code.copyMetadata";let ph=CF=class extends z{static get(e){return e.getContribution(CF.ID)}constructor(e,t,i,o,r,s,a){super(),this._bulkEditService=i,this._clipboardService=o,this._languageFeaturesService=r,this._quickInputService=s,this._progressService=a,this._editor=e;const l=e.getContainerDomNode();this._register(j(l,"copy",c=>this.handleCopy(c))),this._register(j(l,"cut",c=>this.handleCopy(c))),this._register(j(l,"paste",c=>this.handlePaste(c),!0)),this._pasteProgressManager=this._register(new vE("pasteIntoEditor",e,t)),this._postPasteWidgetManager=this._register(t.createInstance(_E,"pasteIntoEditor",e,Mne,{id:Rne,label:m("postPasteWidgetTitle","Show paste options...")}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(e){this._editor.focus();try{this._pasteAsActionContext={preferredId:e},m0().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}isPasteAsEnabled(){return this._editor.getOption(85).enabled&&!this._editor.getOption(91)}async finishedPaste(){await this._currentPasteOperation}handleCopy(e){var t,i;if(!this._editor.hasTextFocus()||(Nf&&this._clipboardService.writeResources([]),!e.clipboardData||!this.isPasteAsEnabled()))return;const o=this._editor.getModel(),r=this._editor.getSelections();if(!o||!(r!=null&&r.length))return;const s=this._editor.getOption(37);let a=r;const l=r.length===1&&r[0].isEmpty();if(l){if(!s)return;a=[new D(a[0].startLineNumber,1,a[0].startLineNumber,1+o.getLineLength(a[0].startLineNumber))]}const c=(t=this._editor._getViewModel())===null||t===void 0?void 0:t.getPlainTextToCopy(r,s,Qo),u={multicursorText:Array.isArray(c)?c:null,pasteOnNewLine:l,mode:null},h=this._languageFeaturesService.documentPasteEditProvider.ordered(o).filter(v=>!!v.prepareDocumentPaste);if(!h.length){this.setCopyMetadata(e.clipboardData,{defaultPastePayload:u});return}const g=Lne(e.clipboardData),f=h.flatMap(v=>{var _;return(_=v.copyMimeTypes)!==null&&_!==void 0?_:[]}),p=lN();this.setCopyMetadata(e.clipboardData,{id:p,providerCopyMimeTypes:f,defaultPastePayload:u});const b=ro(async v=>{const _=vc(await Promise.all(h.map(async C=>{try{return await C.prepareDocumentPaste(o,a,g,v)}catch(y){console.error(y);return}})));_.reverse();for(const C of _)for(const[y,w]of C)g.replace(y,w);return g});(i=this._currentCopyOperation)===null||i===void 0||i.dataTransferPromise.cancel(),this._currentCopyOperation={handle:p,dataTransferPromise:b}}async handlePaste(e){var t,i,o,r,s;if(!e.clipboardData||!this._editor.hasTextFocus())return;(t=Or.get(this._editor))===null||t===void 0||t.closeMessage(),(i=this._currentPasteOperation)===null||i===void 0||i.cancel(),this._currentPasteOperation=void 0;const a=this._editor.getModel(),l=this._editor.getSelections();if(!(l!=null&&l.length)||!a||!this.isPasteAsEnabled()&&!this._pasteAsActionContext)return;const c=this.fetchCopyMetadata(e),d=Dne(e.clipboardData);d.delete(gA);const u=[...e.clipboardData.types,...(o=c==null?void 0:c.providerCopyMimeTypes)!==null&&o!==void 0?o:[],un.uriList],h=this._languageFeaturesService.documentPasteEditProvider.ordered(a).filter(g=>{var f,p;return!((f=this._pasteAsActionContext)===null||f===void 0)&&f.preferredId&&this._pasteAsActionContext.preferredId!==g.id?!1:(p=g.pasteMimeTypes)===null||p===void 0?void 0:p.some(b=>xne(b,u))});if(!h.length){!((r=this._pasteAsActionContext)===null||r===void 0)&&r.preferredId&&this.showPasteAsNoEditMessage(l,(s=this._pasteAsActionContext)===null||s===void 0?void 0:s.preferredId);return}e.preventDefault(),e.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,h,l,d,c,{trigger:"explicit",only:this._pasteAsActionContext.preferredId}):this.doPasteInline(h,l,d,c,{trigger:"implicit"})}showPasteAsNoEditMessage(e,t){var i;(i=Or.get(this._editor))===null||i===void 0||i.showMessage(m("pasteAsError","No paste edits for '{0}' found",t),e[0].getStartPosition())}doPasteInline(e,t,i,o,r){const s=ro(async a=>{const l=this._editor;if(!l.hasModel())return;const c=l.getModel(),d=new ff(l,3,void 0,a);try{if(await this.mergeInDataFromCopy(i,o,d.token),d.token.isCancellationRequested)return;const u=e.filter(g=>zK(g,i));if(!u.length||u.length===1&&u[0].id==="text"){await this.applyDefaultPasteHandler(i,o,d.token);return}const h=await this.getPasteEdits(u,i,c,t,r,d.token);if(d.token.isCancellationRequested)return;if(h.length===1&&h[0].providerId==="text"){await this.applyDefaultPasteHandler(i,o,d.token);return}if(h.length){const g=l.getOption(85).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(t,{activeEditIndex:0,allEdits:h},g,d.token)}await this.applyDefaultPasteHandler(i,o,d.token)}finally{d.dispose(),this._currentPasteOperation===s&&(this._currentPasteOperation=void 0)}});this._pasteProgressManager.showWhile(t[0].getEndPosition(),m("pasteIntoEditorProgress","Running paste handlers. Click to cancel"),s),this._currentPasteOperation=s}showPasteAsPick(e,t,i,o,r,s){const a=ro(async l=>{const c=this._editor;if(!c.hasModel())return;const d=c.getModel(),u=new ff(c,3,void 0,l);try{if(await this.mergeInDataFromCopy(o,r,u.token),u.token.isCancellationRequested)return;let h=t.filter(b=>zK(b,o));e&&(h=h.filter(b=>b.id===e));const g=await this.getPasteEdits(h,o,d,i,s,u.token);if(u.token.isCancellationRequested)return;if(!g.length){s.only&&this.showPasteAsNoEditMessage(i,s.only);return}let f;if(e)f=g.at(0);else{const b=await this._quickInputService.pick(g.map(v=>({label:v.label,description:v.providerId,detail:v.detail,edit:v})),{placeHolder:m("pasteAsPickerPlaceholder","Select Paste Action")});f=b==null?void 0:b.edit}if(!f)return;const p=Tne(d.uri,i,f);await this._bulkEditService.apply(p,{editor:this._editor})}finally{u.dispose(),this._currentPasteOperation===a&&(this._currentPasteOperation=void 0)}});this._progressService.withProgress({location:10,title:m("pasteAsProgress","Running paste handlers")},()=>a)}setCopyMetadata(e,t){e.setData(gA,JSON.stringify(t))}fetchCopyMetadata(e){var t;if(!e.clipboardData)return;const i=e.clipboardData.getData(gA);if(i)try{return JSON.parse(i)}catch{return}const[o,r]=_4.getTextData(e.clipboardData);if(r)return{defaultPastePayload:{mode:r.mode,multicursorText:(t=r.multicursorText)!==null&&t!==void 0?t:null,pasteOnNewLine:!!r.isFromEmptySelection}}}async mergeInDataFromCopy(e,t,i){var o;if(t!=null&&t.id&&((o=this._currentCopyOperation)===null||o===void 0?void 0:o.handle)===t.id){const r=await this._currentCopyOperation.dataTransferPromise;if(i.isCancellationRequested)return;for(const[s,a]of r)e.replace(s,a)}if(!e.has(un.uriList)){const r=await this._clipboardService.readResources();if(i.isCancellationRequested)return;r.length&&e.append(un.uriList,sW(cN.create(r)))}}async getPasteEdits(e,t,i,o,r,s){const a=await yS(Promise.all(e.map(async c=>{var d;try{const u=await((d=c.provideDocumentPasteEdits)===null||d===void 0?void 0:d.call(c,i,o,t,r,s));if(u)return{...u,providerId:c.id}}catch(u){console.error(u)}})),s),l=vc(a??[]);return Ine(l)}async applyDefaultPasteHandler(e,t,i){var o,r,s;const a=(o=e.get(un.text))!==null&&o!==void 0?o:e.get("text");if(!a)return;const l=await a.asString();if(i.isCancellationRequested)return;const c={text:l,pasteOnNewLine:(r=t==null?void 0:t.defaultPastePayload.pasteOnNewLine)!==null&&r!==void 0?r:!1,multicursorText:(s=t==null?void 0:t.defaultPastePayload.multicursorText)!==null&&s!==void 0?s:null,mode:null};this._editor.trigger("keyboard","paste",c)}};ph.ID="editor.contrib.copyPasteActionController";ph=CF=oOe([yv(1,Ge),yv(2,BS),yv(3,kh),yv(4,Re),yv(5,Ac),yv(6,Ite)],ph);function zK(n,e){var t;return!!(!((t=n.pasteMimeTypes)===null||t===void 0)&&t.some(i=>e.matches(i)))}const Dm="9_cutcopypaste",rOe=dc||document.queryCommandSupported("cut"),Ane=dc||document.queryCommandSupported("copy"),sOe=typeof navigator.clipboard>"u"||Oa?document.queryCommandSupported("paste"):!0;function lW(n){return n.register(),n}const aOe=rOe?lW(new b0({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:dc?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:T.MenubarEditMenu,group:"2_ccp",title:m({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:T.EditorContext,group:Dm,title:m("actions.clipboard.cutLabel","Cut"),when:I.writable,order:1},{menuId:T.CommandPalette,group:"",title:m("actions.clipboard.cutLabel","Cut"),order:1},{menuId:T.SimpleEditorContext,group:Dm,title:m("actions.clipboard.cutLabel","Cut"),when:I.writable,order:1}]})):void 0,lOe=Ane?lW(new b0({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:dc?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:T.MenubarEditMenu,group:"2_ccp",title:m({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:T.EditorContext,group:Dm,title:m("actions.clipboard.copyLabel","Copy"),order:2},{menuId:T.CommandPalette,group:"",title:m("actions.clipboard.copyLabel","Copy"),order:1},{menuId:T.SimpleEditorContext,group:Dm,title:m("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;Io.appendMenuItem(T.MenubarEditMenu,{submenu:T.MenubarCopy,title:Ut("copy as","Copy As"),group:"2_ccp",order:3});Io.appendMenuItem(T.EditorContext,{submenu:T.EditorContextCopy,title:Ut("copy as","Copy As"),group:Dm,order:3});Io.appendMenuItem(T.EditorContext,{submenu:T.EditorContextShare,title:Ut("share","Share"),group:"11_share",order:-1,when:ee.and(ee.notEquals("resourceScheme","output"),I.editorTextFocus)});Io.appendMenuItem(T.EditorTitleContext,{submenu:T.EditorTitleContextShare,title:Ut("share","Share"),group:"11_share",order:-1});Io.appendMenuItem(T.ExplorerContext,{submenu:T.ExplorerContextShare,title:Ut("share","Share"),group:"11_share",order:-1});const fA=sOe?lW(new b0({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:dc?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:T.MenubarEditMenu,group:"2_ccp",title:m({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:T.EditorContext,group:Dm,title:m("actions.clipboard.pasteLabel","Paste"),when:I.writable,order:4},{menuId:T.CommandPalette,group:"",title:m("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:T.SimpleEditorContext,group:Dm,title:m("actions.clipboard.pasteLabel","Paste"),when:I.writable,order:4}]})):void 0;class cOe extends Le{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:m("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:I.textInputFocus,primary:0,weight:100}})}run(e,t){!t.hasModel()||!t.getOption(37)&&t.getSelection().isEmpty()||(v4.forceCopyWithSyntaxHighlighting=!0,t.focus(),t.getContainerDomNode().ownerDocument.execCommand("copy"),v4.forceCopyWithSyntaxHighlighting=!1)}}function Pne(n,e){n&&(n.addImplementation(1e4,"code-editor",(t,i)=>{const o=t.get(qt).getFocusedCodeEditor();if(o&&o.hasTextFocus()){const r=o.getOption(37),s=o.getSelection();return s&&s.isEmpty()&&!r||o.getContainerDomNode().ownerDocument.execCommand(e),!0}return!1}),n.addImplementation(0,"generic-dom",(t,i)=>(m0().execCommand(e),!0)))}Pne(aOe,"cut");Pne(lOe,"copy");fA&&(fA.addImplementation(1e4,"code-editor",(n,e)=>{var t,i;const o=n.get(qt),r=n.get(kh),s=o.getFocusedCodeEditor();return s&&s.hasTextFocus()?s.getContainerDomNode().ownerDocument.execCommand("paste")?(i=(t=ph.get(s))===null||t===void 0?void 0:t.finishedPaste())!==null&&i!==void 0?i:Promise.resolve():Nf?(async()=>{const l=await r.readText();if(l!==""){const c=Yy.INSTANCE.get(l);let d=!1,u=null,h=null;c&&(d=s.getOption(37)&&!!c.isFromEmptySelection,u=typeof c.multicursorText<"u"?c.multicursorText:null,h=c.mode),s.trigger("keyboard","paste",{text:l,pasteOnNewLine:d,multicursorText:u,mode:h})}})():!0:!1}),fA.addImplementation(0,"generic-dom",(n,e)=>(m0().execCommand("paste"),!0)));Ane&&de(cOe);class et{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+et.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new et(this.value+et.sep+e)}}et.sep=".";et.None=new et("@@none@@");et.Empty=new et("");et.QuickFix=new et("quickfix");et.Refactor=new et("refactor");et.RefactorExtract=et.Refactor.append("extract");et.RefactorInline=et.Refactor.append("inline");et.RefactorMove=et.Refactor.append("move");et.RefactorRewrite=et.Refactor.append("rewrite");et.Notebook=new et("notebook");et.Source=new et("source");et.SourceOrganizeImports=et.Source.append("organizeImports");et.SourceFixAll=et.Source.append("fixAll");et.SurroundWith=et.Refactor.append("surround");var Ts;(function(n){n.Refactor="refactor",n.RefactorPreview="refactor preview",n.Lightbulb="lightbulb",n.Default="other (default)",n.SourceAction="source action",n.QuickFix="quick fix action",n.FixAll="fix all",n.OrganizeImports="organize imports",n.AutoFix="auto fix",n.QuickFixHover="quick fix hover window",n.OnSave="save participants",n.ProblemsView="problems view"})(Ts||(Ts={}));function dOe(n,e){return!(n.include&&!n.include.intersects(e)||n.excludes&&n.excludes.some(t=>One(e,t,n.include))||!n.includeSourceActions&&et.Source.contains(e))}function uOe(n,e){const t=e.kind?new et(e.kind):void 0;return!(n.include&&(!t||!n.include.contains(t))||n.excludes&&t&&n.excludes.some(i=>One(t,i,n.include))||!n.includeSourceActions&&t&&et.Source.contains(t)||n.onlyIncludePreferredActions&&!e.isPreferred)}function One(n,e,t){return!(!e.contains(n)||t&&e.contains(t))}class gd{static fromUser(e,t){return!e||typeof e!="object"?new gd(t.kind,t.apply,!1):new gd(gd.getKindFromUser(e,t.kind),gd.getApplyFromUser(e,t.apply),gd.getPreferredUser(e))}static getApplyFromUser(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return typeof e.kind=="string"?new et(e.kind):t}static getPreferredUser(e){return typeof e.preferred=="boolean"?e.preferred:!1}constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}}class hOe{constructor(e,t,i){this.action=e,this.provider=t,this.highlightRange=i}async resolve(e){var t;if(!((t=this.provider)===null||t===void 0)&&t.resolveCodeAction&&!this.action.edit){let i;try{i=await this.provider.resolveCodeAction(this.action,e)}catch(o){Bn(o)}i&&(this.action.edit=i.edit)}return this}}const Fne="editor.action.codeAction",cW="editor.action.quickFix",Bne="editor.action.autoFix",Wne="editor.action.refactor",Vne="editor.action.sourceAction",dW="editor.action.organizeImports",uW="editor.action.fixAll";class jC extends z{static codeActionsPreferredComparator(e,t){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:0}static codeActionsComparator({action:e},{action:t}){return e.isAI&&!t.isAI?1:!e.isAI&&t.isAI?-1:Yo(e.diagnostics)?Yo(t.diagnostics)?jC.codeActionsPreferredComparator(e,t):-1:Yo(t.diagnostics)?1:jC.codeActionsPreferredComparator(e,t)}constructor(e,t,i){super(),this.documentation=t,this._register(i),this.allActions=[...e].sort(jC.codeActionsComparator),this.validActions=this.allActions.filter(({action:o})=>!o.disabled)}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&et.QuickFix.contains(new et(e.kind))&&!!e.isPreferred)}get hasAIFix(){return this.validActions.some(({action:e})=>!!e.isAI)}get allAIFixes(){return this.validActions.every(({action:e})=>!!e.isAI)}}const UK={actions:[],documentation:void 0};async function KC(n,e,t,i,o,r){var s;const a=i.filter||{},l={...a,excludes:[...a.excludes||[],et.Notebook]},c={only:(s=a.include)===null||s===void 0?void 0:s.value,trigger:i.type},d=new eW(e,r),u=i.type===2,h=gOe(n,e,u?l:a),g=new oe,f=h.map(async b=>{try{o.report(b);const v=await b.provideCodeActions(e,t,c,d.token);if(v&&g.add(v),d.token.isCancellationRequested)return UK;const _=((v==null?void 0:v.actions)||[]).filter(y=>y&&uOe(a,y)),C=pOe(b,_,a.include);return{actions:_.map(y=>new hOe(y,b)),documentation:C}}catch(v){if(Ic(v))throw v;return Bn(v),UK}}),p=n.onDidChange(()=>{const b=n.all(e);en(b,h)||d.cancel()});try{const b=await Promise.all(f),v=b.map(C=>C.actions).flat(),_=[...vc(b.map(C=>C.documentation)),...fOe(n,e,i,v)];return new jC(v,_,g)}finally{p.dispose(),d.dispose()}}function gOe(n,e,t){return n.all(e).filter(i=>i.providedCodeActionKinds?i.providedCodeActionKinds.some(o=>dOe(t,new et(o))):!0)}function*fOe(n,e,t,i){var o,r,s;if(e&&i.length)for(const a of n.all(e))a._getAdditionalMenuItems&&(yield*(o=a._getAdditionalMenuItems)===null||o===void 0?void 0:o.call(a,{trigger:t.type,only:(s=(r=t.filter)===null||r===void 0?void 0:r.include)===null||s===void 0?void 0:s.value},i.map(l=>l.action)))}function pOe(n,e,t){if(!n.documentation)return;const i=n.documentation.map(o=>({kind:new et(o.kind),command:o.command}));if(t){let o;for(const r of i)r.kind.contains(t)&&(o?o.kind.contains(r.kind)&&(o=r):o=r);if(o)return o==null?void 0:o.command}for(const o of e)if(o.kind){for(const r of i)if(r.kind.contains(new et(o.kind)))return r.command}}var n_;(function(n){n.OnSave="onSave",n.FromProblemsView="fromProblemsView",n.FromCodeActions="fromCodeActions",n.FromAILightbulb="fromAILightbulb"})(n_||(n_={}));async function mOe(n,e,t,i,o=Dt.None){var r;const s=n.get(BS),a=n.get(tn),l=n.get(fr),c=n.get(Nn);if(l.publicLog2("codeAction.applyCodeAction",{codeActionTitle:e.action.title,codeActionKind:e.action.kind,codeActionIsPreferred:!!e.action.isPreferred,reason:t}),await e.resolve(o),!o.isCancellationRequested&&!(!((r=e.action.edit)===null||r===void 0)&&r.edits.length&&!(await s.apply(e.action.edit,{editor:i==null?void 0:i.editor,label:e.action.title,quotableLabel:e.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:t!==n_.OnSave,showPreview:i==null?void 0:i.preview})).isApplied)&&e.action.command)try{await a.executeCommand(e.action.command.id,...e.action.command.arguments||[])}catch(d){const u=vOe(d);c.error(typeof u=="string"?u:m("applyCodeActionFailed","An unknown error occurred while applying the code action"))}}function vOe(n){return typeof n=="string"?n:n instanceof Error&&typeof n.message=="string"?n.message:void 0}Pt.registerCommand("_executeCodeActionProvider",async function(n,e,t,i,o){if(!(e instanceof Ke))throw Ra();const{codeActionProvider:r}=n.get(Re),s=n.get(Yi).getModel(e);if(!s)throw Ra();const a=Pe.isISelection(t)?Pe.liftSelection(t):D.isIRange(t)?s.validateRange(t):void 0;if(!a)throw Ra();const l=typeof i=="string"?new et(i):void 0,c=await KC(r,s,a,{type:1,triggerAction:Ts.Default,filter:{includeSourceActions:!0,include:l}},Yu.None,Dt.None),d=[],u=Math.min(c.validActions.length,typeof o=="number"?o:0);for(let h=0;h<u;h++)d.push(c.validActions[h].resolve(Dt.None));try{return await Promise.all(d),c.validActions.map(h=>h.action)}finally{setTimeout(()=>c.dispose(),100)}});var bOe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},_Oe=function(n,e){return function(t,i){e(t,i,n)}},yF;let CE=yF=class{constructor(e){this.keybindingService=e}getResolver(){const e=new Kd(()=>this.keybindingService.getKeybindings().filter(t=>yF.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let i=t.commandArgs;return t.command===dW?i={kind:et.SourceOrganizeImports.value}:t.command===uW&&(i={kind:et.SourceFixAll.value}),{resolvedKeybinding:t.resolvedKeybinding,...gd.fromUser(i,{kind:et.None,apply:"never"})}}));return t=>{if(t.kind){const i=this.bestKeybindingForCodeAction(t,e.value);return i==null?void 0:i.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const i=new et(e.kind);return t.filter(o=>o.kind.contains(i)).filter(o=>o.preferred?e.isPreferred:!0).reduceRight((o,r)=>o?o.kind.contains(r.kind)?r:o:r,void 0)}};CE.codeActionCommands=[Wne,Fne,Vne,dW,uW];CE=yF=bOe([_Oe(0,di)],CE);N("symbolIcon.arrayForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.booleanForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},m("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.colorForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.constantForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},m("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},m("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},m("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},m("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},m("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.fileForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.folderForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},m("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},m("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.keyForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.keywordForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},m("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.moduleForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.namespaceForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.nullForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.numberForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.objectForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.operatorForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.packageForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.propertyForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.referenceForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.snippetForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.stringForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.structForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.textForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.typeParameterForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.unitForeground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},m("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},m("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));const Hne=Object.freeze({kind:et.Empty,title:m("codeAction.widget.id.more","More Actions...")}),COe=Object.freeze([{kind:et.QuickFix,title:m("codeAction.widget.id.quickfix","Quick Fix")},{kind:et.RefactorExtract,title:m("codeAction.widget.id.extract","Extract"),icon:pe.wrench},{kind:et.RefactorInline,title:m("codeAction.widget.id.inline","Inline"),icon:pe.wrench},{kind:et.RefactorRewrite,title:m("codeAction.widget.id.convert","Rewrite"),icon:pe.wrench},{kind:et.RefactorMove,title:m("codeAction.widget.id.move","Move"),icon:pe.wrench},{kind:et.SurroundWith,title:m("codeAction.widget.id.surround","Surround With"),icon:pe.surroundWith},{kind:et.Source,title:m("codeAction.widget.id.source","Source Action"),icon:pe.symbolFile},Hne]);function yOe(n,e,t){if(!e)return n.map(r=>{var s;return{kind:"action",item:r,group:Hne,disabled:!!r.action.disabled,label:r.action.disabled||r.action.title,canPreview:!!(!((s=r.action.edit)===null||s===void 0)&&s.edits.length)}});const i=COe.map(r=>({group:r,actions:[]}));for(const r of n){const s=r.action.kind?new et(r.action.kind):et.None;for(const a of i)if(a.group.kind.contains(s)){a.actions.push(r);break}}const o=[];for(const r of i)if(r.actions.length){o.push({kind:"header",group:r.group});for(const s of r.actions){const a=r.group;o.push({kind:"action",item:s,group:s.action.isAI?{title:a.title,kind:a.kind,icon:pe.sparkle}:a,label:s.action.title,disabled:!!s.action.disabled,keybinding:t(s.action)})}}return o}var wOe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},$K=function(n,e){return function(t,i){e(t,i,n)}},wF,Sb;(function(n){n.Hidden={type:0};class e{constructor(i,o,r,s){this.actions=i,this.trigger=o,this.editorPosition=r,this.widgetPosition=s,this.type=1}}n.Showing=e})(Sb||(Sb={}));let Em=wF=class extends z{constructor(e,t,i){super(),this._editor=e,this._keybindingService=t,this._onClick=this._register(new B),this.onClick=this._onClick.event,this._state=Sb.Hidden,this._iconClasses=[],this._domNode=ue("div.lightBulbWidget"),this._register(Si.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(o=>{const r=this._editor.getModel();(this.state.type!==1||!r||this.state.editorPosition.lineNumber>=r.getLineCount())&&this.hide()})),this._register(nbe(this._domNode,o=>{if(this.state.type!==1)return;this._editor.focus(),o.preventDefault();const{top:r,height:s}=In(this._domNode),a=this._editor.getOption(67);let l=Math.floor(a/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(l+=a),this._onClick.fire({x:o.posx,y:r+s+l,actions:this.state.actions,trigger:this.state.trigger})})),this._register(j(this._domNode,"mouseenter",o=>{(o.buttons&1)===1&&this.hide()})),this._register(me.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{var o,r,s,a;this._preferredKbLabel=(r=(o=this._keybindingService.lookupKeybinding(Bne))===null||o===void 0?void 0:o.getLabel())!==null&&r!==void 0?r:void 0,this._quickFixKbLabel=(a=(s=this._keybindingService.lookupKeybinding(cW))===null||s===void 0?void 0:s.getLabel())!==null&&a!==void 0?a:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(e,t,i){if(e.validActions.length<=0)return this.hide();if(!this._editor.getOptions().get(65).enabled)return this.hide();const r=this._editor.getModel();if(!r)return this.hide();const{lineNumber:s,column:a}=r.validatePosition(i),l=r.getOptions().tabSize,c=this._editor.getOptions().get(50),d=r.getLineContent(s),u=bI(d,l),h=c.spaceWidth*u>22,g=b=>b>2&&this._editor.getTopForLineNumber(b)===this._editor.getTopForLineNumber(b-1);let f=s,p=1;if(!h){if(s>1&&!g(s-1))f-=1;else if(s<r.getLineCount()&&!g(s+1))f+=1;else if(a*c.spaceWidth<22)return this.hide();p=/^\S\s*$/.test(r.getLineContent(f))?2:1}this.state=new Sb.Showing(e,t,i,{position:{lineNumber:f,column:p},preference:wF._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==Sb.Hidden&&(this.state=Sb.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;let e,t=!1;this.state.actions.allAIFixes?(e=pe.sparkleFilled,this.state.actions.validActions.length===1&&(t=!0)):this.state.actions.hasAutoFix?this.state.actions.hasAIFix?e=pe.lightbulbSparkleAutofix:e=pe.lightbulbAutofix:this.state.actions.hasAIFix?e=pe.lightbulbSparkle:e=pe.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,t),this._iconClasses=Ze.asClassNameArray(e),this._domNode.classList.add(...this._iconClasses)}_updateLightbulbTitle(e,t){this.state.type===1&&(t?this.title=m("codeActionAutoRun","Run: {0}",this.state.actions.validActions[0].action.title):e&&this._preferredKbLabel?this.title=m("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel):!e&&this._quickFixKbLabel?this.title=m("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):e||(this.title=m("codeAction","Show Code Actions")))}set title(e){this._domNode.title=e}};Em.ID="editor.contrib.lightbulbWidget";Em._posPref=[0];Em=wF=wOe([$K(1,di),$K(2,tn)],Em);var zne=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},SF=function(n,e){return function(t,i){e(t,i,n)}};const Une="acceptSelectedCodeAction",$ne="previewSelectedCodeAction";class SOe{get templateId(){return"header"}renderTemplate(e){e.classList.add("group-header");const t=document.createElement("span");return e.append(t),{container:e,text:t}}renderElement(e,t,i){var o,r;i.text.textContent=(r=(o=e.group)===null||o===void 0?void 0:o.title)!==null&&r!==void 0?r:""}disposeTemplate(e){}}let xF=class{get templateId(){return"action"}constructor(e,t){this._supportsPreview=e,this._keybindingService=t}renderTemplate(e){e.classList.add(this.templateId);const t=document.createElement("div");t.className="icon",e.append(t);const i=document.createElement("span");i.className="title",e.append(i);const o=new D0(e,Cs);return{container:e,icon:t,text:i,keybinding:o}}renderElement(e,t,i){var o,r,s;if(!((o=e.group)===null||o===void 0)&&o.icon?(i.icon.className=Ze.asClassName(e.group.icon),e.group.icon.color&&(i.icon.style.color=ke(e.group.icon.color.id))):(i.icon.className=Ze.asClassName(pe.lightBulb),i.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!e.item||!e.label)return;i.text.textContent=jne(e.label),i.keybinding.set(e.keybinding),bbe(!!e.keybinding,i.keybinding.element);const a=(r=this._keybindingService.lookupKeybinding(Une))===null||r===void 0?void 0:r.getLabel(),l=(s=this._keybindingService.lookupKeybinding($ne))===null||s===void 0?void 0:s.getLabel();i.container.classList.toggle("option-disabled",e.disabled),e.disabled?i.container.title=e.label:a&&l?this._supportsPreview&&e.canPreview?i.container.title=m({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to apply, Shift+F2 to preview"']},"{0} to apply, {1} to preview",a,l):i.container.title=m({key:"label",comment:['placeholder is a keybinding, e.g "F2 to apply"']},"{0} to apply",a):i.container.title=""}disposeTemplate(e){}};xF=zne([SF(1,di)],xF);class xOe extends UIEvent{constructor(){super("acceptSelectedAction")}}class jK extends UIEvent{constructor(){super("previewSelectedAction")}}function kOe(n){if(n.kind==="action")return n.label}let kF=class extends z{constructor(e,t,i,o,r,s){super(),this._delegate=o,this._contextViewService=r,this._keybindingService=s,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new gn),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const a={getHeight:l=>l.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:l=>l.kind};this._list=this._register(new pa(e,this.domNode,a,[new xF(t,this._keybindingService),new SOe],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:kOe},accessibilityProvider:{getAriaLabel:l=>{if(l.kind==="action"){let c=l.label?jne(l==null?void 0:l.label):"";return l.disabled&&(c=m({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",c,l.disabled)),c}return null},getWidgetAriaLabel:()=>m({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:l=>l.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(Wf),this._register(this._list.onMouseClick(l=>this.onListClick(l))),this._register(this._list.onMouseOver(l=>this.onListHover(l))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(l=>this.onListSelection(l))),this._allMenuItems=i,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(e){return!e.disabled&&e.kind==="action"}hide(e){this._delegate.onHide(e),this.cts.cancel(),this._contextViewService.hideContextView()}layout(e){const t=this._allMenuItems.filter(l=>l.kind==="header").length,o=this._allMenuItems.length*this._actionLineHeight+t*this._headerLineHeight-t*this._actionLineHeight;this._list.layout(o);let r=e;if(this._allMenuItems.length>=50)r=380;else{const l=this._allMenuItems.map((c,d)=>{const u=this.domNode.ownerDocument.getElementById(this._list.getElementID(d));if(u){u.style.width="auto";const h=u.getBoundingClientRect().width;return u.style.width="",h}return 0});r=Math.max(...l,e)}const a=Math.min(o,this.domNode.ownerDocument.body.clientHeight*.7);return this._list.layout(a,r),this.domNode.style.height=`${a}px`,this._list.domFocus(),r}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(e){const t=this._list.getFocus();if(t.length===0)return;const i=t[0],o=this._list.element(i);if(!this.focusCondition(o))return;const r=e?new jK:new xOe;this._list.setSelection([i],r)}onListSelection(e){if(!e.elements.length)return;const t=e.elements[0];t.item&&this.focusCondition(t)?this._delegate.onSelect(t.item,e.browserEvent instanceof jK):this._list.setSelection([])}onFocus(){var e,t;const i=this._list.getFocus();if(i.length===0)return;const o=i[0],r=this._list.element(o);(t=(e=this._delegate).onFocus)===null||t===void 0||t.call(e,r.item)}async onListHover(e){const t=e.element;if(t&&t.item&&this.focusCondition(t)){if(this._delegate.onHover&&!t.disabled&&t.kind==="action"){const i=await this._delegate.onHover(t.item,this.cts.token);t.canPreview=i?i.canPreview:void 0}e.index&&this._list.splice(e.index,1,[t])}this._list.setFocus(typeof e.index=="number"?[e.index]:[])}onListClick(e){e.element&&this.focusCondition(e.element)&&this._list.setFocus([])}};kF=zne([SF(4,Yd),SF(5,di)],kF);function jne(n){return n.replace(/\r\n|\r|\n/g," ")}var LOe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},pA=function(n,e){return function(t,i){e(t,i,n)}};N("actionBar.toggledBackground",{dark:Np,light:Np,hcDark:Np,hcLight:Np},m("actionBar.toggledBackground","Background color for toggled action items in action bar."));const Tm={Visible:new we("codeActionMenuVisible",!1,m("codeActionMenuVisible","Whether the action widget list is visible"))},iv=Et("actionWidgetService");let Im=class extends z{get isVisible(){return Tm.Visible.getValue(this._contextKeyService)||!1}constructor(e,t,i){super(),this._contextViewService=e,this._contextKeyService=t,this._instantiationService=i,this._list=this._register(new bo)}show(e,t,i,o,r,s,a){const l=Tm.Visible.bindTo(this._contextKeyService),c=this._instantiationService.createInstance(kF,e,t,i,o);this._contextViewService.showContextView({getAnchor:()=>r,render:d=>(l.set(!0),this._renderWidget(d,c,a??[])),onHide:d=>{l.reset(),this._onWidgetClosed(d)}},s,!1)}acceptSelected(e){var t;(t=this._list.value)===null||t===void 0||t.acceptSelected(e)}focusPrevious(){var e,t;(t=(e=this._list)===null||e===void 0?void 0:e.value)===null||t===void 0||t.focusPrevious()}focusNext(){var e,t;(t=(e=this._list)===null||e===void 0?void 0:e.value)===null||t===void 0||t.focusNext()}hide(){var e;(e=this._list.value)===null||e===void 0||e.hide(),this._list.clear()}_renderWidget(e,t,i){var o;const r=document.createElement("div");if(r.classList.add("action-widget"),e.appendChild(r),this._list.value=t,this._list.value)r.appendChild(this._list.value.domNode);else throw new Error("List has no value");const s=new oe,a=document.createElement("div"),l=e.appendChild(a);l.classList.add("context-view-block"),s.add(j(l,ge.MOUSE_DOWN,f=>f.stopPropagation()));const c=document.createElement("div"),d=e.appendChild(c);d.classList.add("context-view-pointerBlock"),s.add(j(d,ge.POINTER_MOVE,()=>d.remove())),s.add(j(d,ge.MOUSE_DOWN,()=>d.remove()));let u=0;if(i.length){const f=this._createActionBar(".action-widget-action-bar",i);f&&(r.appendChild(f.getContainer().parentElement),s.add(f),u=f.getContainer().offsetWidth)}const h=(o=this._list.value)===null||o===void 0?void 0:o.layout(u);r.style.width=`${h}px`;const g=s.add(Cc(e));return s.add(g.onDidBlur(()=>this.hide())),s}_createActionBar(e,t){if(!t.length)return;const i=ue(e),o=new Wa(i);return o.push(t,{icon:!1,label:!0}),o}_onWidgetClosed(e){var t;(t=this._list.value)===null||t===void 0||t.hide(e)}};Im=LOe([pA(0,Yd),pA(1,Xe),pA(2,Ge)],Im);Ot(iv,Im,1);const XS=1100;Li(class extends hs{constructor(){super({id:"hideCodeActionWidget",title:Ut("hideCodeActionWidget.title","Hide action widget"),precondition:Tm.Visible,keybinding:{weight:XS,primary:9,secondary:[1033]}})}run(n){n.get(iv).hide()}});Li(class extends hs{constructor(){super({id:"selectPrevCodeAction",title:Ut("selectPrevCodeAction.title","Select previous action"),precondition:Tm.Visible,keybinding:{weight:XS,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(n){const e=n.get(iv);e instanceof Im&&e.focusPrevious()}});Li(class extends hs{constructor(){super({id:"selectNextCodeAction",title:Ut("selectNextCodeAction.title","Select next action"),precondition:Tm.Visible,keybinding:{weight:XS,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(n){const e=n.get(iv);e instanceof Im&&e.focusNext()}});Li(class extends hs{constructor(){super({id:Une,title:Ut("acceptSelected.title","Accept selected action"),precondition:Tm.Visible,keybinding:{weight:XS,primary:3,secondary:[2137]}})}run(n){const e=n.get(iv);e instanceof Im&&e.acceptSelected()}});Li(class extends hs{constructor(){super({id:$ne,title:Ut("previewSelected.title","Preview selected action"),precondition:Tm.Visible,keybinding:{weight:XS,primary:2051}})}run(n){const e=n.get(iv);e instanceof Im&&e.acceptSelected(!0)}});const Kne=new we("supportedCodeAction",""),KK="_typescript.applyFixAllCodeAction";class DOe extends z{constructor(e,t,i,o=250){super(),this._editor=e,this._markerService=t,this._signalChange=i,this._delay=o,this._autoTriggerTimer=this._register(new Ll),this._register(this._markerService.onMarkerChanged(r=>this._onMarkerChanges(r))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);this._signalChange(t?{trigger:e,selection:t}:void 0)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some(i=>H6(i,t.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:Ts.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getSelection();if(e.type===1)return t;const i=this._editor.getOption(65).enabled;if(i!==nl.Off){{if(i===nl.On)return t;if(i===nl.OnCode){if(!t.isEmpty())return t;const r=this._editor.getModel(),{lineNumber:s,column:a}=t.getPosition(),l=r.getLineContent(s);if(l.length===0)return;if(a===1){if(/\s/.test(l[0]))return}else if(a===r.getLineMaxColumn(s)){if(/\s/.test(l[l.length-1]))return}else if(/\s/.test(l[a-2])&&/\s/.test(l[a-1]))return}}return t}}}var Sp;(function(n){n.Empty={type:0};class e{constructor(i,o,r){this.trigger=i,this.position=o,this._cancellablePromise=r,this.type=1,this.actions=r.catch(s=>{if(Ic(s))return qne;throw s})}cancel(){this._cancellablePromise.cancel()}}n.Triggered=e})(Sp||(Sp={}));const qne=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class EOe extends z{constructor(e,t,i,o,r,s){super(),this._editor=e,this._registry=t,this._markerService=i,this._progressService=r,this._configurationService=s,this._codeActionOracle=this._register(new bo),this._state=Sp.Empty,this._onDidChangeState=this._register(new B),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=Kne.bindTo(o),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._register(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(65)&&this._update()})),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(Sp.Empty,!0))}_settingEnabledNearbyQuickfixes(){var e;const t=(e=this._editor)===null||e===void 0?void 0:e.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:t==null?void 0:t.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(Sp.Empty);const e=this._editor.getModel();if(e&&this._registry.has(e)&&!this._editor.getOption(91)){const t=this._registry.all(e).flatMap(i=>{var o;return(o=i.providedCodeActionKinds)!==null&&o!==void 0?o:[]});this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new DOe(this._editor,this._markerService,i=>{var o;if(!i){this.setState(Sp.Empty);return}const r=i.selection.getStartPosition(),s=ro(async a=>{var l,c,d,u,h,g,f,p,b,v;if(this._settingEnabledNearbyQuickfixes()&&i.trigger.type===1&&(i.trigger.triggerAction===Ts.QuickFix||!((c=(l=i.trigger.filter)===null||l===void 0?void 0:l.include)===null||c===void 0)&&c.contains(et.QuickFix))){const _=await KC(this._registry,e,i.selection,i.trigger,Yu.None,a),C=[..._.allActions];if(a.isCancellationRequested)return qne;const y=(d=_.validActions)===null||d===void 0?void 0:d.some(S=>S.action.kind?et.QuickFix.contains(new et(S.action.kind)):!1),w=this._markerService.read({resource:e.uri});if(y){for(const S of _.validActions)!((h=(u=S.action.command)===null||u===void 0?void 0:u.arguments)===null||h===void 0)&&h.some(x=>typeof x=="string"&&x.includes(KK))&&(S.action.diagnostics=[...w.filter(x=>x.relatedInformation)]);return{validActions:_.validActions,allActions:C,documentation:_.documentation,hasAutoFix:_.hasAutoFix,hasAIFix:_.hasAIFix,allAIFixes:_.allAIFixes,dispose:()=>{_.dispose()}}}else if(!y&&w.length>0){const S=i.selection.getPosition();let x=S,L=Number.MAX_VALUE;const E=[..._.validActions];for(const P of w){const A=P.endColumn,F=P.endLineNumber,K=P.startLineNumber;if(F===S.lineNumber||K===S.lineNumber){x=new W(F,A);const te={type:i.trigger.type,triggerAction:i.trigger.triggerAction,filter:{include:!((g=i.trigger.filter)===null||g===void 0)&&g.include?(f=i.trigger.filter)===null||f===void 0?void 0:f.include:et.QuickFix},autoApply:i.trigger.autoApply,context:{notAvailableMessage:((p=i.trigger.context)===null||p===void 0?void 0:p.notAvailableMessage)||"",position:x}},ye=new Pe(x.lineNumber,x.column,x.lineNumber,x.column),be=await KC(this._registry,e,ye,te,Yu.None,a);if(be.validActions.length!==0){for(const ae of be.validActions)!((v=(b=ae.action.command)===null||b===void 0?void 0:b.arguments)===null||v===void 0)&&v.some(Q=>typeof Q=="string"&&Q.includes(KK))&&(ae.action.diagnostics=[...w.filter(Q=>Q.relatedInformation)]);_.allActions.length===0&&C.push(...be.allActions),Math.abs(S.column-A)<L?E.unshift(...be.validActions):E.push(...be.validActions)}L=Math.abs(S.column-A)}}const O=E.filter((P,A,F)=>F.findIndex(K=>K.action.title===P.action.title)===A);return O.sort((P,A)=>P.action.isPreferred&&!A.action.isPreferred?-1:!P.action.isPreferred&&A.action.isPreferred||P.action.isAI&&!A.action.isAI?1:!P.action.isAI&&A.action.isAI?-1:0),{validActions:O,allActions:C,documentation:_.documentation,hasAutoFix:_.hasAutoFix,hasAIFix:_.hasAIFix,allAIFixes:_.allAIFixes,dispose:()=>{_.dispose()}}}}return KC(this._registry,e,i.selection,i.trigger,Yu.None,a)});i.trigger.type===1&&((o=this._progressService)===null||o===void 0||o.showWhile(s,250)),this.setState(new Sp.Triggered(i.trigger,r,s))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:Ts.Default})}else this._supportedCodeActions.reset()}trigger(e){var t;(t=this._codeActionOracle.value)===null||t===void 0||t.trigger(e)}setState(e,t){e!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=e,!t&&!this._disposed&&this._onDidChangeState.fire(e))}}var TOe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},nu=function(n,e){return function(t,i){e(t,i,n)}},Fv;const IOe="quickfix-edit-highlight";let pf=Fv=class extends z{static get(e){return e.getContribution(Fv.ID)}constructor(e,t,i,o,r,s,a,l,c,d){super(),this._commandService=a,this._configurationService=l,this._actionWidgetService=c,this._instantiationService=d,this._activeCodeActions=this._register(new bo),this._showDisabled=!1,this._disposed=!1,this._editor=e,this._model=this._register(new EOe(this._editor,r.codeActionProvider,t,i,s,l)),this._register(this._model.onDidChangeState(u=>this.update(u))),this._lightBulbWidget=new Kd(()=>{const u=this._editor.getContribution(Em.ID);return u&&this._register(u.onClick(h=>this.showCodeActionsFromLightbulb(h.actions,h))),u}),this._resolver=o.createInstance(CE),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}async showCodeActionsFromLightbulb(e,t){if(e.allAIFixes&&e.validActions.length===1){const i=e.validActions[0],o=i.action.command;o&&o.id==="inlineChat.start"&&o.arguments&&o.arguments.length>=1&&(o.arguments[0]={...o.arguments[0],autoSend:!1}),await this._applyCodeAction(i,!1,!1,n_.FromAILightbulb);return}await this.showCodeActionList(e,t,{includeDisabledActions:!1,fromLightbulb:!0})}showCodeActions(e,t,i){return this.showCodeActionList(t,i,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(e,t,i,o){var r;if(!this._editor.hasModel())return;(r=Or.get(this._editor))===null||r===void 0||r.closeMessage();const s=this._editor.getPosition();this._trigger({type:1,triggerAction:t,filter:i,autoApply:o,context:{notAvailableMessage:e,position:s}})}_trigger(e){return this._model.trigger(e)}async _applyCodeAction(e,t,i,o){try{await this._instantiationService.invokeFunction(mOe,e,o,{preview:i,editor:this._editor})}finally{t&&this._trigger({type:2,triggerAction:Ts.QuickFix,filter:{}})}}async update(e){var t,i,o,r,s,a,l;if(e.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let c;try{c=await e.actions}catch(d){st(d);return}if(!this._disposed)if((i=this._lightBulbWidget.value)===null||i===void 0||i.update(c,e.trigger,e.position),e.trigger.type===1){if(!((o=e.trigger.filter)===null||o===void 0)&&o.include){const u=this.tryGetValidActionToApply(e.trigger,c);if(u){try{(r=this._lightBulbWidget.value)===null||r===void 0||r.hide(),await this._applyCodeAction(u,!1,!1,n_.FromCodeActions)}finally{c.dispose()}return}if(e.trigger.context){const h=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,c);if(h&&h.action.disabled){(s=Or.get(this._editor))===null||s===void 0||s.showMessage(h.action.disabled,e.trigger.context.position),c.dispose();return}}}const d=!!(!((a=e.trigger.filter)===null||a===void 0)&&a.include);if(e.trigger.context&&(!c.allActions.length||!d&&!c.validActions.length)){(l=Or.get(this._editor))===null||l===void 0||l.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=c,c.dispose();return}this._activeCodeActions.value=c,this.showCodeActionList(c,this.toCoords(e.position),{includeDisabledActions:d,fromLightbulb:!1})}else this._actionWidgetService.isVisible?c.dispose():this._activeCodeActions.value=c}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length&&(e.autoApply==="first"&&t.validActions.length===0||e.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:i})=>i.disabled)}tryGetValidActionToApply(e,t){if(t.validActions.length&&(e.autoApply==="first"&&t.validActions.length>0||e.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}async showCodeActionList(e,t,i){const o=this._editor.createDecorationsCollection(),r=this._editor.getDomNode();if(!r)return;const s=i.includeDisabledActions&&(this._showDisabled||e.validActions.length===0)?e.allActions:e.validActions;if(!s.length)return;const a=W.isIPosition(t)?this.toCoords(t):t,l={onSelect:async(c,d)=>{this._applyCodeAction(c,!0,!!d,n_.FromCodeActions),this._actionWidgetService.hide(),o.clear()},onHide:()=>{var c;(c=this._editor)===null||c===void 0||c.focus(),o.clear()},onHover:async(c,d)=>{var u;if(!d.isCancellationRequested)return{canPreview:!!(!((u=c.action.edit)===null||u===void 0)&&u.edits.length)}},onFocus:c=>{var d,u;if(c&&c.action){const h=c.action.ranges,g=c.action.diagnostics;if(o.clear(),h&&h.length>0){const f=g&&(g==null?void 0:g.length)>1?g.map(p=>({range:p,options:Fv.DECORATION})):h.map(p=>({range:p,options:Fv.DECORATION}));o.set(f)}else if(g&&g.length>0){const f=g.map(b=>({range:b,options:Fv.DECORATION}));o.set(f);const p=g[0];if(p.startLineNumber&&p.startColumn){const b=(u=(d=this._editor.getModel())===null||d===void 0?void 0:d.getWordAtPosition({lineNumber:p.startLineNumber,column:p.startColumn}))===null||u===void 0?void 0:u.word;Pd(m("editingNewSelection","Context: {0} at line {1} and column {2}.",b,p.startLineNumber,p.startColumn))}}}else o.clear()}};this._actionWidgetService.show("codeActionWidget",!0,yOe(s,this._shouldShowHeaders(),this._resolver.getResolver()),l,a,r,this._getActionBarActions(e,t,i))}toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),i=In(this._editor.getDomNode()),o=i.left+t.left,r=i.top+t.top+t.height;return{x:o,y:r}}_shouldShowHeaders(){var e;const t=(e=this._editor)===null||e===void 0?void 0:e.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:t==null?void 0:t.uri})}_getActionBarActions(e,t,i){if(i.fromLightbulb)return[];const o=e.documentation.map(r=>{var s;return{id:r.id,label:r.title,tooltip:(s=r.tooltip)!==null&&s!==void 0?s:"",class:void 0,enabled:!0,run:()=>{var a;return this._commandService.executeCommand(r.id,...(a=r.arguments)!==null&&a!==void 0?a:[])}}});return i.includeDisabledActions&&e.validActions.length>0&&e.allActions.length!==e.validActions.length&&o.push(this._showDisabled?{id:"hideMoreActions",label:m("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(e,t,i))}:{id:"showMoreActions",label:m("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(e,t,i))}),o}};pf.ID="editor.contrib.codeActionController";pf.DECORATION=dt.register({description:"quickfix-highlight",className:IOe});pf=Fv=TOe([nu(1,Xd),nu(2,Xe),nu(3,Ge),nu(4,Re),nu(5,Ff),nu(6,tn),nu(7,yt),nu(8,iv),nu(9,Ge)],pf);ja((n,e)=>{((o,r)=>{r&&e.addRule(`.monaco-editor ${o} { background-color: ${r}; }`)})(".quickfix-edit-highlight",n.getColor(Ou));const i=n.getColor(hg);i&&e.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${fc(n.type)?"dotted":"solid"} ${i}; box-sizing: border-box; }`)});function QS(n){return ee.regex(Kne.keys()[0],new RegExp("(\\s|^)"+ra(n.value)+"\\b"))}const hW={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:m("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:m("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[m("args.schema.apply.first","Always apply the first returned code action."),m("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),m("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:m("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function nv(n,e,t,i,o=Ts.Default){if(n.hasModel()){const r=pf.get(n);r==null||r.manualTriggerAtCurrentPosition(e,o,t,i)}}class NOe extends Le{constructor(){super({id:cW,label:m("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:ee.and(I.writable,I.hasCodeActionsProvider),kbOpts:{kbExpr:I.textInputFocus,primary:2137,weight:100}})}run(e,t){return nv(t,m("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,Ts.QuickFix)}}class ROe extends _o{constructor(){super({id:Fne,precondition:ee.and(I.writable,I.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:hW}]}})}runEditorCommand(e,t,i){const o=gd.fromUser(i,{kind:et.Empty,apply:"ifSingle"});return nv(t,typeof(i==null?void 0:i.kind)=="string"?o.preferred?m("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):m("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):o.preferred?m("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):m("editor.action.codeAction.noneMessage","No code actions available"),{include:o.kind,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}}class MOe extends Le{constructor(){super({id:Wne,label:m("refactor.label","Refactor..."),alias:"Refactor...",precondition:ee.and(I.writable,I.hasCodeActionsProvider),kbOpts:{kbExpr:I.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:ee.and(I.writable,QS(et.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:hW}]}})}run(e,t,i){const o=gd.fromUser(i,{kind:et.Refactor,apply:"never"});return nv(t,typeof(i==null?void 0:i.kind)=="string"?o.preferred?m("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):m("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):o.preferred?m("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):m("editor.action.refactor.noneMessage","No refactorings available"),{include:et.Refactor.contains(o.kind)?o.kind:et.None,onlyIncludePreferredActions:o.preferred},o.apply,Ts.Refactor)}}class AOe extends Le{constructor(){super({id:Vne,label:m("source.label","Source Action..."),alias:"Source Action...",precondition:ee.and(I.writable,I.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:ee.and(I.writable,QS(et.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:hW}]}})}run(e,t,i){const o=gd.fromUser(i,{kind:et.Source,apply:"never"});return nv(t,typeof(i==null?void 0:i.kind)=="string"?o.preferred?m("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):m("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):o.preferred?m("editor.action.source.noneMessage.preferred","No preferred source actions available"):m("editor.action.source.noneMessage","No source actions available"),{include:et.Source.contains(o.kind)?o.kind:et.None,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply,Ts.SourceAction)}}class POe extends Le{constructor(){super({id:dW,label:m("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:ee.and(I.writable,QS(et.SourceOrganizeImports)),kbOpts:{kbExpr:I.textInputFocus,primary:1581,weight:100}})}run(e,t){return nv(t,m("editor.action.organize.noneMessage","No organize imports action available"),{include:et.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",Ts.OrganizeImports)}}class OOe extends Le{constructor(){super({id:uW,label:m("fixAll.label","Fix All"),alias:"Fix All",precondition:ee.and(I.writable,QS(et.SourceFixAll))})}run(e,t){return nv(t,m("fixAll.noneMessage","No fix all action available"),{include:et.SourceFixAll,includeSourceActions:!0},"ifSingle",Ts.FixAll)}}class FOe extends Le{constructor(){super({id:Bne,label:m("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:ee.and(I.writable,QS(et.QuickFix)),kbOpts:{kbExpr:I.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(e,t){return nv(t,m("editor.action.autoFix.noneMessage","No auto fixes available"),{include:et.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",Ts.AutoFix)}}Gt(pf.ID,pf,3);Gt(Em.ID,Em,4);de(NOe);de(MOe);de(AOe);de(POe);de(FOe);de(OOe);ve(new ROe);nn.as(Rc.Configuration).registerConfiguration({...EI,properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:m("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}});nn.as(Rc.Configuration).registerConfiguration({...EI,properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:m("includeNearbyQuickFixes","Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}});class LF{constructor(){this.lenses=[],this._disposables=new oe}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(const i of e.lenses)this.lenses.push({symbol:i,provider:t})}}async function Gne(n,e,t){const i=n.ordered(e),o=new Map,r=new LF,s=i.map(async(a,l)=>{o.set(a,l);try{const c=await Promise.resolve(a.provideCodeLenses(e,t));c&&r.add(c,a)}catch(c){Bn(c)}});return await Promise.all(s),r.lenses=r.lenses.sort((a,l)=>a.symbol.range.startLineNumber<l.symbol.range.startLineNumber?-1:a.symbol.range.startLineNumber>l.symbol.range.startLineNumber?1:o.get(a.provider)<o.get(l.provider)?-1:o.get(a.provider)>o.get(l.provider)?1:a.symbol.range.startColumn<l.symbol.range.startColumn?-1:a.symbol.range.startColumn>l.symbol.range.startColumn?1:0),r}Pt.registerCommand("_executeCodeLensProvider",function(n,...e){let[t,i]=e;Jt(Ke.isUri(t)),Jt(typeof i=="number"||!i);const{codeLensProvider:o}=n.get(Re),r=n.get(Yi).getModel(t);if(!r)throw Ra();const s=[],a=new oe;return Gne(o,r,Dt.None).then(l=>{a.add(l);const c=[];for(const d of l.lenses)i==null||d.symbol.command?s.push(d.symbol):i-- >0&&d.provider.resolveCodeLens&&c.push(Promise.resolve(d.provider.resolveCodeLens(r,d.symbol,Dt.None)).then(u=>s.push(u||d.symbol)));return Promise.all(c)}).then(()=>s).finally(()=>{setTimeout(()=>a.dispose(),100)})});var BOe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},WOe=function(n,e){return function(t,i){e(t,i,n)}};const Zne=Et("ICodeLensCache");class qK{constructor(e,t){this.lineCount=e,this.data=t}}let DF=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new Af(20,.75);const t="codelens/cache";F1(gi,()=>e.remove(t,1));const i="codelens/cache2",o=e.get(i,1,"{}");this._deserialize(o),me.once(e.onWillSaveState)(r=>{r.reason===fw.SHUTDOWN&&e.store(i,this._serialize(),1,1)})}put(e,t){const i=t.lenses.map(s=>{var a;return{range:s.symbol.range,command:s.symbol.command&&{id:"",title:(a=s.symbol.command)===null||a===void 0?void 0:a.title}}}),o=new LF;o.add({lenses:i,dispose:()=>{}},this._fakeProvider);const r=new qK(e.getLineCount(),o);this._cache.set(e.uri.toString(),r)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,i]of this._cache){const o=new Set;for(const r of i.data.lenses)o.add(r.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...o.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const i in t){const o=t[i],r=[];for(const a of o.lines)r.push({range:new D(a,1,a,11)});const s=new LF;s.add({lenses:r,dispose(){}},this._fakeProvider),this._cache.set(i,new qK(o.lineCount,s))}}catch{}}};DF=BOe([WOe(0,El)],DF);Ot(Zne,DF,1);class VOe{constructor(e,t,i){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class Aw{constructor(e,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${Aw._idPool++}`,this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(e,t){this._commands.clear();const i=[];let o=!1;for(let r=0;r<e.length;r++){const s=e[r];if(s&&(o=!0,s.command)){const a=Bg(s.command.title.trim());if(s.command.id){const l=`c${Aw._idPool++}`;i.push(ue("a",{id:l,title:s.command.tooltip,role:"button"},...a)),this._commands.set(l,s.command)}else i.push(ue("span",{title:s.command.tooltip},...a));r+1<e.length&&i.push(ue("span",void 0,"|"))}}o?(Ho(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):Ho(this._domNode,ue("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}Aw._idPool=0;class mA{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){const t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,o=t.length;i<o;i++)this._addDecorationsCallbacks[i](t[i])}}const GK=dt.register({collapseOnReplaceEdit:!0,description:"codelens"});class ZK{constructor(e,t,i,o,r,s){this._isDisposed=!1,this._editor=t,this._data=e,this._decorationIds=[];let a;const l=[];this._data.forEach((c,d)=>{c.symbol.command&&l.push(c.symbol),i.addDecoration({range:c.symbol.range,options:GK},u=>this._decorationIds[d]=u),a?a=D.plusRange(a,c.symbol.range):a=D.lift(c.symbol.range)}),this._viewZone=new VOe(a.startLineNumber-1,r,s),this._viewZoneId=o.addZone(this._viewZone),l.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(l,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new Aw(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t==null||t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const i=this._editor.getModel().getDecorationRange(e),o=this._data[t].symbol;return!!(i&&D.isEmpty(o.range)===i.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((i,o)=>{t.addDecoration({range:i.symbol.range,options:GK},r=>this._decorationIds[o]=r)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const i=e[t];if(i){const{symbol:o}=this._data[t];o.command=i.command||o.command}}}getCommand(e){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var HOe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},w1=function(n,e){return function(t,i){e(t,i,n)}};let J_=class{constructor(e,t,i,o,r,s){this._editor=e,this._languageFeaturesService=t,this._commandService=o,this._notificationService=r,this._codeLensCache=s,this._disposables=new oe,this._localToDispose=new oe,this._lenses=[],this._oldCodeLensModels=new oe,this._provideCodeLensDebounce=i.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new mi(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(a=>{(a.hasChanged(50)||a.hasChanged(19)||a.hasChanged(18))&&this._updateLensStyle(),a.hasChanged(17)&&this._onModelChange()})),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(e=this._currentCodeLensModel)===null||e===void 0||e.dispose()}_getLayoutInfo(){const e=Math.max(1.3,this._editor.getOption(67)/this._editor.getOption(52));let t=this._editor.getOption(19);return(!t||t<5)&&(t=this._editor.getOption(52)*.9|0),{fontSize:t,codeLensHeight:t*e|0}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(18),o=this._editor.getOption(50),{style:r}=this._editor.getContainerDomNode();r.setProperty("--vscode-editorCodeLens-lineHeight",`${e}px`),r.setProperty("--vscode-editorCodeLens-fontSize",`${t}px`),r.setProperty("--vscode-editorCodeLens-fontFeatureSettings",o.fontFeatureSettings),i&&(r.setProperty("--vscode-editorCodeLens-fontFamily",i),r.setProperty("--vscode-editorCodeLens-fontFamilyDefault",os.fontFamily)),this._editor.changeViewZones(s=>{for(const a of this._lenses)a.updateHeight(e,s)})}_localDispose(){var e,t,i;(e=this._getCodeLensModelPromise)===null||e===void 0||e.cancel(),this._getCodeLensModelPromise=void 0,(t=this._resolveCodeLensesPromise)===null||t===void 0||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(i=this._currentCodeLensModel)===null||i===void 0||i.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e||!this._editor.getOption(17)||e.isTooLargeForTokenization())return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e)){t&&nf(()=>{const o=this._codeLensCache.get(e);t===o&&(this._codeLensCache.delete(e),this._onModelChange())},30*1e3,this._localToDispose);return}for(const o of this._languageFeaturesService.codeLensProvider.all(e))if(typeof o.onDidChange=="function"){const r=o.onDidChange(()=>i.schedule());this._localToDispose.add(r)}const i=new mi(()=>{var o;const r=Date.now();(o=this._getCodeLensModelPromise)===null||o===void 0||o.cancel(),this._getCodeLensModelPromise=ro(s=>Gne(this._languageFeaturesService.codeLensProvider,e,s)),this._getCodeLensModelPromise.then(s=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=s,this._codeLensCache.put(e,s);const a=this._provideCodeLensDebounce.update(e,Date.now()-r);i.delay=a,this._renderCodeLensSymbols(s),this._resolveCodeLensesInViewportSoon()},st)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(i),this._localToDispose.add(je(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var o;this._editor.changeDecorations(r=>{this._editor.changeViewZones(s=>{const a=[];let l=-1;this._lenses.forEach(d=>{!d.isValid()||l===d.getLineNumber()?a.push(d):(d.update(s),l=d.getLineNumber())});const c=new mA;a.forEach(d=>{d.dispose(c,s),this._lenses.splice(this._lenses.indexOf(d),1)}),c.commit(r)})}),i.schedule(),this._resolveCodeLensesScheduler.cancel(),(o=this._resolveCodeLensesPromise)===null||o===void 0||o.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{i.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{i.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(o=>{o.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(je(()=>{if(this._editor.getModel()){const o=Dc.capture(this._editor);this._editor.changeDecorations(r=>{this._editor.changeViewZones(s=>{this._disposeAllLenses(r,s)})}),o.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(o=>{if(o.target.type!==9)return;let r=o.target.element;if((r==null?void 0:r.tagName)==="SPAN"&&(r=r.parentElement),(r==null?void 0:r.tagName)==="A")for(const s of this._lenses){const a=s.getCommand(r);if(a){this._commandService.executeCommand(a.id,...a.arguments||[]).catch(l=>this._notificationService.error(l));break}}})),i.schedule()}_disposeAllLenses(e,t){const i=new mA;for(const o of this._lenses)o.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;const t=this._editor.getModel().getLineCount(),i=[];let o;for(const a of e.lenses){const l=a.symbol.range.startLineNumber;l<1||l>t||(o&&o[o.length-1].symbol.range.startLineNumber===l?o.push(a):(o=[a],i.push(o)))}if(!i.length&&!this._lenses.length)return;const r=Dc.capture(this._editor),s=this._getLayoutInfo();this._editor.changeDecorations(a=>{this._editor.changeViewZones(l=>{const c=new mA;let d=0,u=0;for(;u<i.length&&d<this._lenses.length;){const h=i[u][0].symbol.range.startLineNumber,g=this._lenses[d].getLineNumber();g<h?(this._lenses[d].dispose(c,l),this._lenses.splice(d,1)):g===h?(this._lenses[d].updateCodeLensSymbols(i[u],c),u++,d++):(this._lenses.splice(d,0,new ZK(i[u],this._editor,c,l,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),d++,u++)}for(;d<this._lenses.length;)this._lenses[d].dispose(c,l),this._lenses.splice(d,1);for(;u<i.length;)this._lenses.push(new ZK(i[u],this._editor,c,l,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),u++;c.commit(a)})}),r.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;(e=this._resolveCodeLensesPromise)===null||e===void 0||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const i=[],o=[];if(this._lenses.forEach(a=>{const l=a.computeIfNecessary(t);l&&(i.push(l),o.push(a))}),i.length===0)return;const r=Date.now(),s=ro(a=>{const l=i.map((c,d)=>{const u=new Array(c.length),h=c.map((g,f)=>!g.symbol.command&&typeof g.provider.resolveCodeLens=="function"?Promise.resolve(g.provider.resolveCodeLens(t,g.symbol,a)).then(p=>{u[f]=p},Bn):(u[f]=g.symbol,Promise.resolve(void 0)));return Promise.all(h).then(()=>{!a.isCancellationRequested&&!o[d].isDisposed()&&o[d].updateCommands(u)})});return Promise.all(l)});this._resolveCodeLensesPromise=s,this._resolveCodeLensesPromise.then(()=>{const a=this._resolveCodeLensesDebounce.update(t,Date.now()-r);this._resolveCodeLensesScheduler.delay=a,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),s===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},a=>{st(a),s===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}async getModel(){var e;return await this._getCodeLensModelPromise,await this._resolveCodeLensesPromise,!((e=this._currentCodeLensModel)===null||e===void 0)&&e.isDisposed?void 0:this._currentCodeLensModel}};J_.ID="css.editor.codeLens";J_=HOe([w1(1,Re),w1(2,Ka),w1(3,tn),w1(4,Nn),w1(5,Zne)],J_);Gt(J_.ID,J_,1);de(class extends Le{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:I.hasCodeLensProvider,label:m("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}async run(e,t){if(!t.hasModel())return;const i=e.get(Ac),o=e.get(tn),r=e.get(Nn),s=t.getSelection().positionLineNumber,a=t.getContribution(J_.ID);if(!a)return;const l=await a.getModel();if(!l)return;const c=[];for(const h of l.lenses)h.symbol.command&&h.symbol.range.startLineNumber===s&&c.push({label:h.symbol.command.title,command:h.symbol.command});if(c.length===0)return;const d=await i.pick(c,{canPickMany:!1,placeHolder:m("placeHolder","Select a command")});if(!d)return;let u=d.command;if(l.isDisposed){const h=await a.getModel(),g=h==null?void 0:h.lenses.find(f=>{var p;return f.symbol.range.startLineNumber===s&&((p=f.symbol.command)===null||p===void 0?void 0:p.title)===u.title});if(!g||!g.symbol.command)return;u=g.symbol.command}try{await o.executeCommand(u.id,...u.arguments||[])}catch(h){r.error(h)}}});var zOe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},vA=function(n,e){return function(t,i){e(t,i,n)}};class gW{constructor(e,t){this._editorWorkerClient=new v6(e,!1,"editorWorkerService",t)}async provideDocumentColors(e,t){return this._editorWorkerClient.computeDefaultDocumentColors(e.uri)}provideColorPresentations(e,t,i){const o=t.range,r=t.color,s=r.alpha,a=new U(new Bt(Math.round(255*r.red),Math.round(255*r.green),Math.round(255*r.blue),s)),l=s?U.Format.CSS.formatRGB(a):U.Format.CSS.formatRGBA(a),c=s?U.Format.CSS.formatHSL(a):U.Format.CSS.formatHSLA(a),d=s?U.Format.CSS.formatHex(a):U.Format.CSS.formatHexA(a),u=[];return u.push({label:l,textEdit:{range:o,text:l}}),u.push({label:c,textEdit:{range:o,text:c}}),u.push({label:d,textEdit:{range:o,text:d}}),u}}let EF=class extends z{constructor(e,t,i){super(),this._register(i.colorProvider.register("*",new gW(e,t)))}};EF=zOe([vA(0,Yi),vA(1,Di),vA(2,Re)],EF);jS(EF);async function Yne(n,e,t,i=!0){return fW(new UOe,n,e,t,i)}function Xne(n,e,t,i){return Promise.resolve(t.provideColorPresentations(n,e,i))}class UOe{constructor(){}async compute(e,t,i,o){const r=await e.provideDocumentColors(t,i);if(Array.isArray(r))for(const s of r)o.push({colorInfo:s,provider:e});return Array.isArray(r)}}class $Oe{constructor(){}async compute(e,t,i,o){const r=await e.provideDocumentColors(t,i);if(Array.isArray(r))for(const s of r)o.push({range:s.range,color:[s.color.red,s.color.green,s.color.blue,s.color.alpha]});return Array.isArray(r)}}class jOe{constructor(e){this.colorInfo=e}async compute(e,t,i,o){const r=await e.provideColorPresentations(t,this.colorInfo,Dt.None);return Array.isArray(r)&&o.push(...r),Array.isArray(r)}}async function fW(n,e,t,i,o){let r=!1,s;const a=[],l=e.ordered(t);for(let c=l.length-1;c>=0;c--){const d=l[c];if(d instanceof gW)s=d;else try{await n.compute(d,t,i,a)&&(r=!0)}catch(u){Bn(u)}}return r?a:s&&o?(await n.compute(s,t,i,a),a):[]}function Qne(n,e){const{colorProvider:t}=n.get(Re),i=n.get(Yi).getModel(e);if(!i)throw Ra();const o=n.get(yt).getValue("editor.defaultColorDecorators",{resource:e});return{model:i,colorProviderRegistry:t,isDefaultColorDecoratorsEnabled:o}}Pt.registerCommand("_executeDocumentColorProvider",function(n,...e){const[t]=e;if(!(t instanceof Ke))throw Ra();const{model:i,colorProviderRegistry:o,isDefaultColorDecoratorsEnabled:r}=Qne(n,t);return fW(new $Oe,o,i,Dt.None,r)});Pt.registerCommand("_executeColorPresentationProvider",function(n,...e){const[t,i]=e,{uri:o,range:r}=i;if(!(o instanceof Ke)||!Array.isArray(t)||t.length!==4||!D.isIRange(r))throw Ra();const{model:s,colorProviderRegistry:a,isDefaultColorDecoratorsEnabled:l}=Qne(n,o),[c,d,u,h]=t;return fW(new jOe({range:r,color:{red:c,green:d,blue:u,alpha:h}}),a,s,Dt.None,l)});var KOe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},bA=function(n,e){return function(t,i){e(t,i,n)}},TF;const Jne=Object.create({});let mf=TF=class extends z{constructor(e,t,i,o){super(),this._editor=e,this._configurationService=t,this._languageFeaturesService=i,this._localToDispose=this._register(new oe),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new ES(this._editor),this._decoratorLimitReporter=new qOe,this._colorDecorationClassRefs=this._register(new oe),this._debounceInformation=o.for(i.colorProvider,"Document Colors",{min:TF.RECOMPUTE_TIME}),this._register(e.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(e.onDidChangeModelLanguage(()=>this.updateColors())),this._register(i.colorProvider.onDidChange(()=>this.updateColors())),this._register(e.onDidChangeConfiguration(r=>{const s=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(146);const a=s!==this._isColorDecoratorsEnabled||r.hasChanged(21),l=r.hasChanged(146);(a||l)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(146),this.updateColors()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),i=this._configurationService.getValue(t);if(i&&typeof i=="object"){const o=i.colorDecorators;if(o&&o.enable!==void 0&&!o.enable)return o.enable}return this._editor.getOption(20)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const e=this._editor.getModel();!e||!this._languageFeaturesService.colorProvider.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new Ll,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(e)))})),this.beginCompute())}async beginCompute(){this._computePromise=ro(async e=>{const t=this._editor.getModel();if(!t)return[];const i=new Jo(!1),o=await Yne(this._languageFeaturesService.colorProvider,t,e,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(t,i.elapsed()),o});try{const e=await this._computePromise;this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null}catch(e){st(e)}}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map(i=>({range:{startLineNumber:i.colorInfo.range.startLineNumber,startColumn:i.colorInfo.range.startColumn,endLineNumber:i.colorInfo.range.endLineNumber,endColumn:i.colorInfo.range.endColumn},options:dt.EMPTY}));this._editor.changeDecorations(i=>{this._decorationsIds=i.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((o,r)=>this._colorDatas.set(o,e[r]))})}updateColorDecorators(e){this._colorDecorationClassRefs.clear();const t=[],i=this._editor.getOption(21);for(let r=0;r<e.length&&t.length<i;r++){const{red:s,green:a,blue:l,alpha:c}=e[r].colorInfo.color,d=new Bt(Math.round(s*255),Math.round(a*255),Math.round(l*255),c),u=`rgba(${d.r}, ${d.g}, ${d.b}, ${d.a})`,h=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:u}));t.push({range:{startLineNumber:e[r].colorInfo.range.startLineNumber,startColumn:e[r].colorInfo.range.startColumn,endLineNumber:e[r].colorInfo.range.endLineNumber,endColumn:e[r].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:AQ,inlineClassName:`${h.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:Jne}}})}const o=i<e.length?i:!1;this._decoratorLimitReporter.update(e.length,o),this._colorDecoratorIds.set(t)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(e){const t=this._editor.getModel();if(!t)return null;const i=t.getDecorationsInRange(D.fromPositions(e,e)).filter(o=>this._colorDatas.has(o.id));return i.length===0?null:this._colorDatas.get(i[0].id)}isColorDecoration(e){return this._colorDecoratorIds.has(e)}};mf.ID="editor.contrib.colorDetector";mf.RECOMPUTE_TIME=1e3;mf=TF=KOe([bA(1,yt),bA(2,Re),bA(3,Ka)],mf);class qOe{constructor(){this._onDidChange=new B,this._computed=0,this._limited=!1}update(e,t){(e!==this._computed||t!==this._limited)&&(this._computed=e,this._limited=t,this._onDidChange.fire())}}Gt(mf.ID,mf,1);class GOe{get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new B,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new B,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new B,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){let i=-1;for(let o=0;o<this.colorPresentations.length;o++)if(t.toLowerCase()===this.colorPresentations[o].label){i=o;break}if(i===-1){const o=t.split("(")[0].toLowerCase();for(let r=0;r<this.colorPresentations.length;r++)if(this.colorPresentations[r].label.toLowerCase().startsWith(o)){i=r;break}}i!==-1&&i!==this.presentationIndex&&(this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}const Xs=ue;class ZOe extends z{constructor(e,t,i,o=!1){super(),this.model=t,this.showingStandaloneColorPicker=o,this._closeButton=null,this._domNode=Xs(".colorpicker-header"),ie(e,this._domNode),this._pickedColorNode=ie(this._domNode,Xs(".picked-color")),ie(this._pickedColorNode,Xs("span.codicon.codicon-color-mode")),this._pickedColorPresentation=ie(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const r=m("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",r),this._originalColorNode=ie(this._domNode,Xs(".original-color")),this._originalColorNode.style.backgroundColor=U.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(h2)||U.white,this._register(i.onDidColorThemeChange(s=>{this.backgroundColor=s.getColor(h2)||U.white})),this._register(j(this._pickedColorNode,ge.CLICK,()=>this.model.selectNextColorPresentation())),this._register(j(this._originalColorNode,ge.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=U.Format.CSS.format(t.color)||"",this._pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new YOe(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(e){this._pickedColorNode.style.backgroundColor=U.Format.CSS.format(e)||"",this._pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}class YOe extends z{constructor(e){super(),this._onClicked=this._register(new B),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),ie(e,this._button);const t=document.createElement("div");t.classList.add("close-button-inner-div"),ie(this._button,t),ie(t,Xs(".button"+Ze.asCSSSelector(xn("color-picker-close",pe.close,m("closeIcon","Icon to close the color picker"))))).classList.add("close-icon"),this._register(j(this._button,ge.CLICK,()=>{this._onClicked.fire()}))}}class XOe extends z{constructor(e,t,i,o=!1){super(),this.model=t,this.pixelRatio=i,this._insertButton=null,this._domNode=Xs(".colorpicker-body"),ie(e,this._domNode),this._saturationBox=new QOe(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new JOe(this._domNode,this.model,o),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new e5e(this._domNode,this.model,o),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),o&&(this._insertButton=this._register(new t5e(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const i=this.model.color.hsva;this.model.color=new U(new fd(i.h,e,t,i.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new U(new fd(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,i=(1-e)*360;this.model.color=new U(new fd(i===360?0:i,t.s,t.v,t.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}class QOe extends z{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new B,this.onColorFlushed=this._onColorFlushed.event,this._domNode=Xs(".saturation-wrap"),ie(e,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",ie(this._domNode,this._canvas),this.selection=Xs(".saturation-selection"),ie(this._domNode,this.selection),this.layout(),this._register(j(this._domNode,ge.POINTER_DOWN,o=>this.onPointerDown(o))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;this.monitor=this._register(new y0);const t=In(this._domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.pointerId,e.buttons,o=>this.onDidChangePosition(o.pageX-t.left,o.pageY-t.top),()=>null);const i=j(e.target.ownerDocument,ge.POINTER_UP,()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){const i=Math.max(0,Math.min(1,e/this.width)),o=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,o),this._onDidChange.fire({s:i,v:o})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new U(new fd(e.h,1,1,1)),i=this._canvas.getContext("2d"),o=i.createLinearGradient(0,0,this._canvas.width,0);o.addColorStop(0,"rgba(255, 255, 255, 1)"),o.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),o.addColorStop(1,"rgba(255, 255, 255, 0)");const r=i.createLinearGradient(0,0,0,this._canvas.height);r.addColorStop(0,"rgba(0, 0, 0, 0)"),r.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this._canvas.width,this._canvas.height),i.fillStyle=U.Format.CSS.format(t),i.fill(),i.fillStyle=o,i.fill(),i.fillStyle=r,i.fill()}paintSelection(e,t){this.selection.style.left=`${e*this.width}px`,this.selection.style.top=`${this.height-t*this.height}px`}onDidChangeColor(e){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const t=e.hsva;this.paintSelection(t.s,t.v)}}class eoe extends z{constructor(e,t,i=!1){super(),this.model=t,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new B,this.onColorFlushed=this._onColorFlushed.event,i?(this.domNode=ie(e,Xs(".standalone-strip")),this.overlay=ie(this.domNode,Xs(".standalone-overlay"))):(this.domNode=ie(e,Xs(".strip")),this.overlay=ie(this.domNode,Xs(".overlay"))),this.slider=ie(this.domNode,Xs(".slider")),this.slider.style.top="0px",this._register(j(this.domNode,ge.POINTER_DOWN,o=>this.onPointerDown(o))),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onDidChangeColor(e){const t=this.getValue(e);this.updateSliderPosition(t)}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._register(new y0),i=In(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.pointerId,e.buttons,r=>this.onDidChangeTop(r.pageY-i.top),()=>null);const o=j(e.target.ownerDocument,ge.POINTER_UP,()=>{this._onColorFlushed.fire(),o.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=`${(1-e)*this.height}px`}}class JOe extends eoe{constructor(e,t,i=!1){super(e,t,i),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){super.onDidChangeColor(e);const{r:t,g:i,b:o}=e.rgba,r=new U(new Bt(t,i,o,1)),s=new U(new Bt(t,i,o,0));this.overlay.style.background=`linear-gradient(to bottom, ${r} 0%, ${s} 100%)`}getValue(e){return e.hsva.a}}class e5e extends eoe{constructor(e,t,i=!1){super(e,t,i),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class t5e extends z{constructor(e){super(),this._onClicked=this._register(new B),this.onClicked=this._onClicked.event,this._button=ie(e,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._register(j(this._button,ge.CLICK,()=>{this._onClicked.fire()}))}get button(){return this._button}}class i5e extends fa{constructor(e,t,i,o,r=!1){super(),this.model=t,this.pixelRatio=i,this._register(My.getInstance(qe(e)).onDidChange(()=>this.layout()));const s=Xs(".colorpicker-widget");e.appendChild(s),this.header=this._register(new ZOe(s,this.model,o,r)),this.body=this._register(new XOe(s,this.model,this.pixelRatio,r))}layout(){this.body.layout()}}var toe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},ioe=function(n,e){return function(t,i){e(t,i,n)}};class n5e{constructor(e,t,i,o){this.owner=e,this.range=t,this.model=i,this.provider=o,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let yE=class{constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=2}computeSync(e,t){return[]}computeAsync(e,t,i){return Pn.fromPromise(this._computeAsync(e,t,i))}async _computeAsync(e,t,i){if(!this._editor.hasModel())return[];const o=mf.get(this._editor);if(!o)return[];for(const r of t){if(!o.isColorDecoration(r))continue;const s=o.getColorData(r.range.getStartPosition());if(s)return[await noe(this,this._editor.getModel(),s.colorInfo,s.provider)]}return[]}renderHoverParts(e,t){return ooe(this,this._editor,this._themeService,t,e)}};yE=toe([ioe(1,ao)],yE);class o5e{constructor(e,t,i,o){this.owner=e,this.range=t,this.model=i,this.provider=o}}let Pw=class{constructor(e,t){this._editor=e,this._themeService=t,this._color=null}async createColorHover(e,t,i){if(!this._editor.hasModel()||!mf.get(this._editor))return null;const r=await Yne(i,this._editor.getModel(),Dt.None);let s=null,a=null;for(const u of r){const h=u.colorInfo;D.containsRange(h.range,e.range)&&(s=h,a=u.provider)}const l=s??e,c=a??t,d=!!s;return{colorHover:await noe(this,this._editor.getModel(),l,c),foundInEditor:d}}async updateEditorModel(e){if(!this._editor.hasModel())return;const t=e.model;let i=new D(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn);this._color&&(await GL(this._editor.getModel(),t,this._color,i,e),i=roe(this._editor,i,t))}renderHoverParts(e,t){return ooe(this,this._editor,this._themeService,t,e)}set color(e){this._color=e}get color(){return this._color}};Pw=toe([ioe(1,ao)],Pw);async function noe(n,e,t,i){const o=e.getValueInRange(t.range),{red:r,green:s,blue:a,alpha:l}=t.color,c=new Bt(Math.round(r*255),Math.round(s*255),Math.round(a*255),l),d=new U(c),u=await Xne(e,t,i,Dt.None),h=new GOe(d,[],0);return h.colorPresentations=u||[],h.guessColorPresentation(d,o),n instanceof yE?new n5e(n,D.lift(t.range),h,i):new o5e(n,D.lift(t.range),h,i)}function ooe(n,e,t,i,o){if(i.length===0||!e.hasModel())return z.None;if(o.setMinimumDimensions){const h=e.getOption(67)+8;o.setMinimumDimensions(new Zt(302,h))}const r=new oe,s=i[0],a=e.getModel(),l=s.model,c=r.add(new i5e(o.fragment,l,e.getOption(142),t,n instanceof Pw));o.setColorPicker(c);let d=!1,u=new D(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn);if(n instanceof Pw){const h=i[0].model.color;n.color=h,GL(a,l,h,u,s),r.add(l.onColorFlushed(g=>{n.color=g}))}else r.add(l.onColorFlushed(async h=>{await GL(a,l,h,u,s),d=!0,u=roe(e,u,l)}));return r.add(l.onDidChangeColor(h=>{GL(a,l,h,u,s)})),r.add(e.onDidChangeModelContent(h=>{d?d=!1:(o.hide(),e.focus())})),r}function roe(n,e,t){var i,o;const r=[],s=(i=t.presentation.textEdit)!==null&&i!==void 0?i:{range:e,text:t.presentation.label,forceMoveMarkers:!1};r.push(s),t.presentation.additionalTextEdits&&r.push(...t.presentation.additionalTextEdits);const a=D.lift(s.range),l=n.getModel()._setTrackedRange(null,a,3);return n.executeEdits("colorpicker",r),n.pushUndoStop(),(o=n.getModel()._getTrackedRange(l))!==null&&o!==void 0?o:a}async function GL(n,e,t,i,o){const r=await Xne(n,{range:i,color:{red:t.rgba.r/255,green:t.rgba.g/255,blue:t.rgba.b/255,alpha:t.rgba.a}},o.provider,Dt.None);e.colorPresentations=r||[]}function IF(n,e){return!!n[e]}class _A{constructor(e,t){this.target=e.target,this.isLeftClick=e.event.leftButton,this.isMiddleClick=e.event.middleButton,this.isRightClick=e.event.rightButton,this.hasTriggerModifier=IF(e.event,t.triggerModifier),this.hasSideBySideModifier=IF(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class YK{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=IF(e,t.triggerModifier)}}class Lk{constructor(e,t,i,o){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=o}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function XK(n){return n==="altKey"?Rt?new Lk(57,"metaKey",6,"altKey"):new Lk(5,"ctrlKey",6,"altKey"):Rt?new Lk(6,"altKey",57,"metaKey"):new Lk(6,"altKey",5,"ctrlKey")}class uN extends z{constructor(e,t){var i;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new B),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new B),this.onExecute=this._onExecute.event,this._onCancel=this._register(new B),this.onCancel=this._onCancel.event,this._editor=e,this._extractLineNumberFromMouseEvent=(i=t==null?void 0:t.extractLineNumberFromMouseEvent)!==null&&i!==void 0?i:o=>o.target.position?o.target.position.lineNumber:0,this._opts=XK(this._editor.getOption(78)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(o=>{if(o.hasChanged(78)){const r=XK(this._editor.getOption(78));if(this._opts.equals(r))return;this._opts=r,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(o=>this._onEditorMouseMove(new _A(o,this._opts)))),this._register(this._editor.onMouseDown(o=>this._onEditorMouseDown(new _A(o,this._opts)))),this._register(this._editor.onMouseUp(o=>this._onEditorMouseUp(new _A(o,this._opts)))),this._register(this._editor.onKeyDown(o=>this._onEditorKeyDown(new YK(o,this._opts)))),this._register(this._editor.onKeyUp(o=>this._onEditorKeyUp(new YK(o,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(o=>this._onDidChangeCursorSelection(o))),this._register(this._editor.onDidChangeModel(o=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(o=>{(o.scrollTopChanged||o.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(e)}_onEditorMouseUp(e){const t=this._extractLineNumberFromMouseEvent(e);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var r5e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},ou=function(n,e){return function(t,i){e(t,i,n)}};let vf=class extends V_{constructor(e,t,i,o,r,s,a,l,c,d,u,h,g){super(e,{...o.getRawOptions(),overflowWidgetsDomNode:o.getOverflowWidgetsDomNode()},i,r,s,a,l,c,d,u,h,g),this._parentEditor=o,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(o.onDidChangeConfiguration(f=>this._onParentConfigurationChanged(f)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){PT(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};vf=r5e([ou(4,Ge),ou(5,qt),ou(6,tn),ou(7,Xe),ou(8,ao),ou(9,Nn),ou(10,Dl),ou(11,Di),ou(12,Re)],vf);const QK=new U(new Bt(0,122,204)),s5e={showArrow:!0,showFrame:!0,className:"",frameColor:QK,arrowColor:QK,keepEditorSelection:!1},a5e="vs.editor.contrib.zoneWidget";class l5e{constructor(e,t,i,o,r,s,a,l){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=o,this.showInHiddenAreas=a,this.ordinal=l,this._onDomNodeTop=r,this._onComputedHeight=s}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class c5e{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class hN{constructor(e){this._editor=e,this._ruleName=hN._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),q5(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){q5(this._ruleName),t2(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations.set([{range:D.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}hN._IdGenerator=new f7(".arrow-decoration-");class d5e{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new oe,this.container=null,this._isShowing=!1,this.editor=e,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=gu(t),PT(this.options,s5e,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(i=>{const o=this._getWidth(i);this.domNode.style.width=o+"px",this.domNode.style.left=this._getLeft(i)+"px",this._onWidth(o)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new hN(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){const e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){var t;if(this.domNode.style.height=`${e}px`,this.container){const i=e-this._decoratingElementsHeight();this.container.style.height=`${i}px`;const o=this.editor.getLayoutInfo();this._doLayout(i,this._getWidth(o))}(t=this._resizeSash)===null||t===void 0||t.layout()}get position(){const e=this._positionMarkerId.getRange(0);if(e)return e.getStartPosition()}show(e,t){const i=D.isIRange(e)?D.lift(e):D.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId.set([{range:i,options:dt.EMPTY}])}hide(){var e;this._viewZone&&(this.editor.changeViewZones(t=>{this._viewZone&&t.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(e=this._arrow)===null||e===void 0||e.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const e=this.editor.getOption(67);let t=0;if(this.options.showArrow){const i=Math.round(e/3);t+=2*i}if(this.options.showFrame){const i=Math.round(e/9);t+=2*i}return t}_showImpl(e,t){const i=e.getStartPosition(),o=this.editor.getLayoutInfo(),r=this._getWidth(o);this.domNode.style.width=`${r}px`,this.domNode.style.left=this._getLeft(o)+"px";const s=document.createElement("div");s.style.overflow="hidden";const a=this.editor.getOption(67);if(!this.options.allowUnlimitedHeight){const h=Math.max(12,this.editor.getLayoutInfo().height/a*.8);t=Math.min(t,h)}let l=0,c=0;if(this._arrow&&this.options.showArrow&&(l=Math.round(a/3),this._arrow.height=l,this._arrow.show(i)),this.options.showFrame&&(c=Math.round(a/9)),this.editor.changeViewZones(h=>{this._viewZone&&h.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new l5e(s,i.lineNumber,i.column,t,g=>this._onViewZoneTop(g),g=>this._onViewZoneHeight(g),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=h.addZone(this._viewZone),this._overlayWidget=new c5e(a5e+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const h=this.options.frameWidth?this.options.frameWidth:c;this.container.style.borderTopWidth=h+"px",this.container.style.borderBottomWidth=h+"px"}const d=t*a-this._decoratingElementsHeight();this.container&&(this.container.style.top=l+"px",this.container.style.height=d+"px",this.container.style.overflow="hidden"),this._doLayout(d,r),this.options.keepEditorSelection||this.editor.setSelection(e);const u=this.editor.getModel();if(u){const h=u.validateRange(new D(e.startLineNumber,1,e.endLineNumber+1,1));this.revealRange(h,h.startLineNumber===u.getLineCount())}}revealRange(e,t){t?this.editor.revealLineNearTop(e.endLineNumber,0):this.editor.revealRange(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new jo(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let e;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){const i=(t.currentY-e.startY)/this.editor.getOption(67),o=i<0?Math.ceil(i):Math.floor(i),r=e.heightInLines+o;r>5&&r<35&&this._relayout(r)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}var soe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},aoe=function(n,e){return function(t,i){e(t,i,n)}};const loe=Et("IPeekViewService");Ot(loe,class{constructor(){this._widgets=new Map}addExclusiveWidget(n,e){const t=this._widgets.get(n);t&&(t.listener.dispose(),t.widget.dispose());const i=()=>{const o=this._widgets.get(n);o&&o.widget===e&&(o.listener.dispose(),this._widgets.delete(n))};this._widgets.set(n,{widget:e,listener:e.onDidClose(i)})}},1);var cs;(function(n){n.inPeekEditor=new we("inReferenceSearchEditor",!0,m("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),n.notInPeekEditor=n.inPeekEditor.toNegated()})(cs||(cs={}));let Ow=class{constructor(e,t){e instanceof vf&&cs.inPeekEditor.bindTo(t)}dispose(){}};Ow.ID="editor.contrib.referenceController";Ow=soe([aoe(1,Xe)],Ow);Gt(Ow.ID,Ow,0);function u5e(n){const e=n.get(qt).getFocusedCodeEditor();return e instanceof vf?e.getParentEditor():e}const h5e={headerBackgroundColor:U.white,primaryHeadingColor:U.fromHex("#333333"),secondaryHeadingColor:U.fromHex("#6c6c6cb3")};let wE=class extends d5e{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new B,this.onDidClose=this._onDidClose.event,PT(this.options,h5e,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){const t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();const e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=ue(".head"),this._bodyElement=ue(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){this._titleElement=ue(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),fn(this._titleElement,"click",r=>this._onTitleClick(r))),ie(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=ue("span.filename"),this._secondaryHeading=ue("span.dirname"),this._metaHeading=ue("span.meta"),ie(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const i=ue(".peekview-actions");ie(this._headElement,i);const o=this._getActionBarOptions();this._actionbarWidget=new Wa(i,o),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new Ss("peekview.close",m("label.close","Close"),Ze.asClassName(pe.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:Ute.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:Xo(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,bs(this._metaHeading)):xr(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0){this.dispose();return}const i=Math.ceil(this.editor.getOption(67)*1.2),o=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(o,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};wE=soe([aoe(2,Ge)],wE);const g5e=N("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:U.black,hcLight:U.white},m("peekViewTitleBackground","Background color of the peek view title area.")),coe=N("peekViewTitleLabel.foreground",{dark:U.white,light:U.black,hcDark:U.white,hcLight:hl},m("peekViewTitleForeground","Color of the peek view title.")),doe=N("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},m("peekViewTitleInfoForeground","Color of the peek view title info.")),f5e=N("peekView.border",{dark:ns,light:ns,hcDark:Nt,hcLight:Nt},m("peekViewBorder","Color of the peek view borders and arrow.")),p5e=N("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:U.black,hcLight:U.white},m("peekViewResultsBackground","Background color of the peek view result list."));N("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:U.white,hcLight:hl},m("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list."));N("peekViewResult.fileForeground",{dark:U.white,light:"#1E1E1E",hcDark:U.white,hcLight:hl},m("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list."));N("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},m("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list."));N("peekViewResult.selectionForeground",{dark:U.white,light:"#6C6C6C",hcDark:U.white,hcLight:hl},m("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list."));const _g=N("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:U.black,hcLight:U.white},m("peekViewEditorBackground","Background color of the peek view editor."));N("peekViewEditorGutter.background",{dark:_g,light:_g,hcDark:_g,hcLight:_g},m("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor."));N("peekViewEditorStickyScroll.background",{dark:_g,light:_g,hcDark:_g,hcLight:_g},m("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor."));N("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},m("peekViewResultsMatchHighlight","Match highlight color in the peek view result list."));N("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},m("peekViewEditorMatchHighlight","Match highlight color in the peek view editor."));N("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Oi,hcLight:Oi},m("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));class bf{constructor(e,t,i,o){this.isProviderFirst=e,this.parent=t,this.link=i,this._rangeCallback=o,this.id=Q4.nextId()}get uri(){return this.link.uri}get range(){var e,t;return(t=(e=this._range)!==null&&e!==void 0?e:this.link.targetSelectionRange)!==null&&t!==void 0?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=(e=this.parent.getPreview(this))===null||e===void 0?void 0:e.preview(this.range);return t?m({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",t.value,Ba(this.uri),this.range.startLineNumber,this.range.startColumn):m("aria.oneReference","in {0} on line {1} at column {2}",Ba(this.uri),this.range.startLineNumber,this.range.startColumn)}}class m5e{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const i=this._modelReference.object.textEditorModel;if(!i)return;const{startLineNumber:o,startColumn:r,endLineNumber:s,endColumn:a}=e,l=i.getWordUntilPosition({lineNumber:o,column:r-t}),c=new D(o,l.startColumn,o,r),d=new D(s,a,s,1073741824),u=i.getValueInRange(c).replace(/^\s+/,""),h=i.getValueInRange(e),g=i.getValueInRange(d).replace(/\s+$/,"");return{value:u+h+g,highlight:{start:u.length,end:u.length+h.length}}}}class Fw{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new Cn}dispose(){si(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return e===1?m("aria.fileReferences.1","1 symbol in {0}, full path {1}",Ba(this.uri),this.uri.fsPath):m("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Ba(this.uri),this.uri.fsPath)}async resolve(e){if(this._previews.size!==0)return this;for(const t of this.children)if(!this._previews.has(t.uri))try{const i=await e.createModelReference(t.uri);this._previews.set(t.uri,new m5e(i))}catch(i){st(i)}return this}}class ks{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new B,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[i]=e;e.sort(ks._compareReferences);let o;for(const r of e)if((!o||!Fi.isEqual(o.uri,r.uri,!0))&&(o=new Fw(this,r.uri),this.groups.push(o)),o.children.length===0||ks._compareReferences(r,o.children[o.children.length-1])!==0){const s=new bf(i===r,o,r,a=>this._onDidChangeReferenceRange.fire(a));this.references.push(s),o.children.push(s)}}dispose(){si(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new ks(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?m("aria.result.0","No results found"):this.references.length===1?m("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?m("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):m("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){const{parent:i}=e;let o=i.children.indexOf(e);const r=i.children.length,s=i.parent.groups.length;return s===1||t&&o+1<r||!t&&o>0?(t?o=(o+1)%r:o=(o+r-1)%r,i.children[o]):(o=i.parent.groups.indexOf(i),t?(o=(o+1)%s,i.parent.groups[o].children[0]):(o=(o+s-1)%s,i.parent.groups[o].children[i.parent.groups[o].children.length-1]))}nearestReference(e,t){const i=this.references.map((o,r)=>({idx:r,prefixLen:Jg(o.uri.toString(),e.toString()),offsetDist:Math.abs(o.range.startLineNumber-t.lineNumber)*100+Math.abs(o.range.startColumn-t.column)})).sort((o,r)=>o.prefixLen>r.prefixLen?-1:o.prefixLen<r.prefixLen?1:o.offsetDist<r.offsetDist?-1:o.offsetDist>r.offsetDist?1:0)[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(const i of this.references)if(i.uri.toString()===e.toString()&&D.containsPosition(i.range,t))return i}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return Fi.compare(e.uri,t.uri)||D.compareRangesUsingStarts(e.range,t.range)}}var gN=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},fN=function(n,e){return function(t,i){e(t,i,n)}},NF;let RF=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof ks||e instanceof Fw}getChildren(e){if(e instanceof ks)return e.groups;if(e instanceof Fw)return e.resolve(this._resolverService).then(t=>t.children);throw new Error("bad tree")}};RF=gN([fN(0,us)],RF);class v5e{getHeight(){return 23}getTemplateId(e){return e instanceof Fw?Bw.id:JS.id}}let MF=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof bf){const i=(t=e.parent.getPreview(e))===null||t===void 0?void 0:t.preview(e.range);if(i)return i.value}return Ba(e.uri)}};MF=gN([fN(0,di)],MF);class b5e{getId(e){return e instanceof bf?e.id:e.uri}}let AF=class extends z{constructor(e,t){super(),this._labelService=t;const i=document.createElement("div");i.classList.add("reference-file"),this.file=this._register(new oE(i,{supportHighlights:!0})),this.badge=new P3(ie(i,ue(".count")),{},Hte),e.appendChild(i)}set(e,t){const i=CI(e.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(e.uri),this._labelService.getUriLabel(i,{relative:!0}),{title:this._labelService.getUriLabel(e.uri),matches:t});const o=e.children.length;this.badge.setCount(o),o>1?this.badge.setTitleFormat(m("referencesCount","{0} references",o)):this.badge.setTitleFormat(m("referenceCount","{0} reference",o))}};AF=gN([fN(1,z_)],AF);let Bw=NF=class{constructor(e){this._instantiationService=e,this.templateId=NF.id}renderTemplate(e){return this._instantiationService.createInstance(AF,e)}renderElement(e,t,i){i.set(e.element,FS(e.filterData))}disposeTemplate(e){e.dispose()}};Bw.id="FileReferencesRenderer";Bw=NF=gN([fN(0,Ge)],Bw);class _5e{constructor(e){this.label=new Hg(e)}set(e,t){var i;const o=(i=e.parent.getPreview(e))===null||i===void 0?void 0:i.preview(e.range);if(!o||!o.value)this.label.set(`${Ba(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`);else{const{value:r,highlight:s}=o;t&&!pc.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(r,FS(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(r,[s]))}}}class JS{constructor(){this.templateId=JS.id}renderTemplate(e){return new _5e(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}}JS.id="OneReferenceRenderer";class C5e{getWidgetAriaLabel(){return m("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var y5e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},ru=function(n,e){return function(t,i){e(t,i,n)}};class pN{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new oe,this._callOnModelChange=new oe,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e){for(const t of this._model.references)if(t.uri.toString()===e.uri.toString()){this._addDecorations(t.parent);return}}}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const t=[],i=[];for(let o=0,r=e.children.length;o<r;o++){const s=e.children[o];this._decorationIgnoreSet.has(s.id)||s.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:s.range,options:pN.DecorationOptions}),i.push(o))}this._editor.changeDecorations(o=>{const r=o.deltaDecorations([],t);for(let s=0;s<r.length;s++)this._decorations.set(r[s],e.children[i[s]])})}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(const[i,o]of this._decorations){const r=t.getDecorationRange(i);if(!r)continue;let s=!1;if(!D.equalsRange(r,o.range)){if(D.spansMultipleLines(r))s=!0;else{const a=o.range.endColumn-o.range.startColumn,l=r.endColumn-r.startColumn;a!==l&&(s=!0)}s?(this._decorationIgnoreSet.add(o.id),e.push(i)):o.range=r}}for(let i=0,o=e.length;i<o;i++)this._decorations.delete(e[i]);this._editor.removeDecorations(e)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}pN.DecorationOptions=dt.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class w5e{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{const o=JSON.parse(e);t=o.ratio,i=o.heightInLines}catch{}return{ratio:t||.7,heightInLines:i||18}}}class S5e extends T3{}let PF=class extends wE{constructor(e,t,i,o,r,s,a,l,c,d,u,h){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},s),this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=r,this._instantiationService=s,this._peekViewService=a,this._uriLabel=l,this._undoRedoService=c,this._keybindingService=d,this._languageService=u,this._languageConfigurationService=h,this._disposeOnNewModel=new oe,this._callOnDispose=new oe,this._onDidSelectReference=new B,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new Zt(0,0),this._applyTheme(o.getColorTheme()),this._callOnDispose.add(o.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),si(this._preview),si(this._previewNotAvailableMessage),si(this._tree),si(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(f5e)||U.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(g5e)||U.transparent,primaryHeadingColor:e.getColor(coe),secondaryHeadingColor:e.getColor(doe)})}show(e){super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=ie(e,ue("div.messages")),xr(this._messageContainer),this._splitView=new Kte(e,{orientation:1}),this._previewContainer=ie(e,ue("div.preview.inline"));const t={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(vf,this._previewContainer,t,{},this.editor),xr(this._previewContainer),this._previewNotAvailableMessage=new Fd(m("missingPreviewMessage","no preview available"),oa,Fd.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=ie(e,ue("div.ref-tree.inline"));const i={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new C5e,keyboardNavigationLabelProvider:this._instantiationService.createInstance(MF),identityProvider:new b5e,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:p5e}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(fn(this._treeContainer,"keydown",r=>{r.equals(9)&&(this._keybindingService.dispatchEvent(r,r.target),r.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(S5e,"ReferencesWidget",this._treeContainer,new v5e,[this._instantiationService.createInstance(Bw),this._instantiationService.createInstance(JS)],this._instantiationService.createInstance(RF),i),this._splitView.addView({onDidChange:me.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:r=>{this._preview.layout({height:this._dim.height,width:r})}},Q2.Distribute),this._splitView.addView({onDidChange:me.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:r=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${r}px`,this._tree.layout(this._dim.height,r)}},Q2.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const o=(r,s)=>{r instanceof bf&&(s==="show"&&this._revealReference(r,!1),this._onDidSelectReference.fire({element:r,kind:s,source:"tree"}))};this._tree.onDidOpen(r=>{r.sideBySide?o(r.element,"side"):r.editorOptions.pinned?o(r.element,"goto"):o(r.element,"show")}),xr(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new Zt(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{this._model&&(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=m("noResults","No results"),bs(this._messageContainer),Promise.resolve(void 0)):(xr(this._messageContainer),this._decorationsManager=new pN(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{const{event:t,target:i}=e;if(t.detail!==2)return;const o=this._getFocusedReference();o&&this._onDidSelectReference.fire({element:{uri:o.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),bs(this._treeContainer),bs(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();if(e instanceof bf)return e;if(e instanceof Fw&&e.children.length>0)return e.children[0]}async revealReference(e){await this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})}async _revealReference(e,t){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==ft.inMemory?this.setTitle(Txe(e.uri),this._uriLabel.getUriLabel(CI(e.uri))):this.setTitle(m("peekView.alternateTitle","References"));const i=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent?this._tree.reveal(e):(t&&this._tree.reveal(e.parent),await this._tree.expand(e.parent),this._tree.reveal(e));const o=await i;if(!this._model){o.dispose();return}si(this._previewModelReference);const r=o.object;if(r){const s=this._preview.getModel()===r.textEditorModel?0:1,a=D.lift(e.range).collapseToStart();this._previewModelReference=o,this._preview.setModel(r.textEditorModel),this._preview.setSelection(a),this._preview.revealRangeInCenter(a,s)}else this._preview.setModel(this._previewNotAvailableMessage),o.dispose()}};PF=y5e([ru(3,ao),ru(4,us),ru(5,Ge),ru(6,loe),ru(7,z_),ru(8,yI),ru(9,di),ru(10,Bi),ru(11,Di)],PF);var x5e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},wv=function(n,e){return function(t,i){e(t,i,n)}},ZL;const ov=new we("referenceSearchVisible",!1,m("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let _f=ZL=class{static get(e){return e.getContribution(ZL.ID)}constructor(e,t,i,o,r,s,a,l){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=o,this._notificationService=r,this._instantiationService=s,this._storageService=a,this._configurationService=l,this._disposables=new oe,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ov.bindTo(i)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),(e=this._widget)===null||e===void 0||e.dispose(),(t=this._model)===null||t===void 0||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let o;if(this._widget&&(o=this._widget.position),this.closeWidget(),o&&e.containsPosition(o))return;this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const r="peekViewLayout",s=w5e.fromJSON(this._storageService.get(r,0,"{}"));this._widget=this._instantiationService.createInstance(PF,this._editor,this._defaultTreeKeyboardSupport,s),this._widget.setTitle(m("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(r,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(l=>{const{element:c,kind:d}=l;if(c)switch(d){case"open":(l.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(c,!1,!1);break;case"side":this.openReference(c,!0,!1);break;case"goto":i?this._gotoReference(c,!0):this.openReference(c,!1,!0);break}}));const a=++this._requestIdPool;t.then(l=>{var c;if(a!==this._requestIdPool||!this._widget){l.dispose();return}return(c=this._model)===null||c===void 0||c.dispose(),this._model=l,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(m("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const d=this._editor.getModel().uri,u=new W(e.startLineNumber,e.startColumn),h=this._model.nearestReference(d,u);if(h)return this._widget.setSelection(h).then(()=>{this._widget&&this._editor.getOption(87)==="editor"&&this._widget.focusOnPreviewEditor()})}})},l=>{this._notificationService.error(l)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}async goToNextOrPreviousReference(e){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;const o=this._model.nextOrPreviousReference(i,e),r=this._editor.hasTextFocus(),s=this._widget.isPreviewEditorFocused();await this._widget.setSelection(o),await this._gotoReference(o,!1),r?this._editor.focus():this._widget&&s&&this._widget.focusOnPreviewEditor()}async revealReference(e){!this._editor.hasModel()||!this._model||!this._widget||await this._widget.revealReference(e)}closeWidget(e=!0){var t,i;(t=this._widget)===null||t===void 0||t.dispose(),(i=this._model)===null||i===void 0||i.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e,t){var i;(i=this._widget)===null||i===void 0||i.hide(),this._ignoreModelChangeEvent=!0;const o=D.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:o,selectionSource:"code.jump",pinned:t}},this._editor).then(r=>{var s;if(this._ignoreModelChangeEvent=!1,!r||!this._widget){this.closeWidget();return}if(this._editor===r)this._widget.show(o),this._widget.focusOnReferenceTree();else{const a=ZL.get(r),l=this._model.clone();this.closeWidget(),r.focus(),a==null||a.toggleWidget(o,ro(c=>Promise.resolve(l)),(s=this._peekMode)!==null&&s!==void 0?s:!1)}},r=>{this._ignoreModelChangeEvent=!1,st(r)})}openReference(e,t,i){t||this.closeWidget();const{uri:o,range:r}=e;this._editorService.openCodeEditor({resource:o,options:{selection:r,selectionSource:"code.jump",pinned:i}},this._editor,t)}};_f.ID="editor.contrib.referencesController";_f=ZL=x5e([wv(2,Xe),wv(3,qt),wv(4,Nn),wv(5,Ge),wv(6,El),wv(7,yt)],_f);function rv(n,e){const t=u5e(n);if(!t)return;const i=_f.get(t);i&&e(i)}ls.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:qn(2089,60),when:ee.or(ov,cs.inPeekEditor),handler(n){rv(n,e=>{e.changeFocusBetweenPreviewAndReferences()})}});ls.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:ee.or(ov,cs.inPeekEditor),handler(n){rv(n,e=>{e.goToNextOrPreviousReference(!0)})}});ls.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:ee.or(ov,cs.inPeekEditor),handler(n){rv(n,e=>{e.goToNextOrPreviousReference(!1)})}});Pt.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");Pt.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");Pt.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");Pt.registerCommand("closeReferenceSearch",n=>rv(n,e=>e.closeWidget()));ls.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:ee.and(cs.inPeekEditor,ee.not("config.editor.stablePeek"))});ls.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:ee.and(ov,ee.not("config.editor.stablePeek"),ee.or(I.editorTextFocus,rIe.negate()))});ls.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:ee.and(ov,cie,A7.negate(),P7.negate()),handler(n){var e;const i=(e=n.get(Ga).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof bf&&rv(n,o=>o.revealReference(i[0]))}});ls.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:ee.and(ov,cie,A7.negate(),P7.negate()),handler(n){var e;const i=(e=n.get(Ga).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof bf&&rv(n,o=>o.openReference(i[0],!0,!0))}});Pt.registerCommand("openReference",n=>{var e;const i=(e=n.get(Ga).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof bf&&rv(n,o=>o.openReference(i[0],!1,!0))});var uoe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},tC=function(n,e){return function(t,i){e(t,i,n)}};const pW=new we("hasSymbols",!1,m("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),mN=Et("ISymbolNavigationService");let OF=class{constructor(e,t,i,o){this._editorService=t,this._notificationService=i,this._keybindingService=o,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=pW.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),(e=this._currentState)===null||e===void 0||e.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const i=new FF(this._editorService),o=i.onDidChange(r=>{if(this._ignoreEditorChange)return;const s=this._editorService.getActiveCodeEditor();if(!s)return;const a=s.getModel(),l=s.getPosition();if(!a||!l)return;let c=!1,d=!1;for(const u of t.references)if(H6(u.uri,a.uri))c=!0,d=d||D.containsPosition(u.range,l);else if(c)break;(!c||!d)&&this.reset()});this._currentState=vl(i,o)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:D.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var e;(e=this._currentMessage)===null||e===void 0||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),i=t?m("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):m("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(i)}};OF=uoe([tC(0,Xe),tC(1,qt),tC(2,Nn),tC(3,di)],OF);Ot(mN,OF,1);ve(new class extends _o{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:pW,kbOpts:{weight:100,primary:70}})}runEditorCommand(n,e){return n.get(mN).revealNext(e)}});ls.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:pW,primary:9,handler(n){n.get(mN).reset()}});let FF=class{constructor(e){this._listener=new Map,this._disposables=new oe,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),si(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,vl(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;(t=this._listener.get(e))===null||t===void 0||t.dispose(),this._listener.delete(e)}};FF=uoe([tC(0,qt)],FF);async function ex(n,e,t,i){const r=t.ordered(n).map(a=>Promise.resolve(i(a,n,e)).then(void 0,l=>{Bn(l)})),s=await Promise.all(r);return vc(s.flat())}function vN(n,e,t,i){return ex(e,t,n,(o,r,s)=>o.provideDefinition(r,s,i))}function hoe(n,e,t,i){return ex(e,t,n,(o,r,s)=>o.provideDeclaration(r,s,i))}function goe(n,e,t,i){return ex(e,t,n,(o,r,s)=>o.provideImplementation(r,s,i))}function foe(n,e,t,i){return ex(e,t,n,(o,r,s)=>o.provideTypeDefinition(r,s,i))}function bN(n,e,t,i,o){return ex(e,t,n,async(r,s,a)=>{const l=await r.provideReferences(s,a,{includeDeclaration:!0},o);if(!i||!l||l.length!==2)return l;const c=await r.provideReferences(s,a,{includeDeclaration:!1},o);return c&&c.length===1?c:l})}async function tx(n){const e=await n(),t=new ks(e,""),i=t.references.map(o=>o.link);return t.dispose(),i}Zd("_executeDefinitionProvider",(n,e,t)=>{const i=n.get(Re),o=vN(i.definitionProvider,e,t,Dt.None);return tx(()=>o)});Zd("_executeTypeDefinitionProvider",(n,e,t)=>{const i=n.get(Re),o=foe(i.typeDefinitionProvider,e,t,Dt.None);return tx(()=>o)});Zd("_executeDeclarationProvider",(n,e,t)=>{const i=n.get(Re),o=hoe(i.declarationProvider,e,t,Dt.None);return tx(()=>o)});Zd("_executeReferenceProvider",(n,e,t)=>{const i=n.get(Re),o=bN(i.referenceProvider,e,t,!1,Dt.None);return tx(()=>o)});Zd("_executeImplementationProvider",(n,e,t)=>{const i=n.get(Re),o=goe(i.implementationProvider,e,t,Dt.None);return tx(()=>o)});var S1,x1,k1,Dk,Ek,Tk,Ik,Nk;Io.appendMenuItem(T.EditorContext,{submenu:T.EditorContextPeek,title:m("peek.submenu","Peek"),group:"navigation",order:100});class e0{static is(e){return!e||typeof e!="object"?!1:!!(e instanceof e0||W.isIPosition(e.position)&&e.model)}constructor(e,t){this.model=e,this.position=t}}class cr extends Nc{static all(){return cr._allSymbolNavigationCommands.values()}static _patchConfig(e){const t={...e,f1:!0};if(t.menu)for(const i of Mt.wrap(t.menu))(i.id===T.EditorContext||i.id===T.EditorContextPeek)&&(i.when=ee.and(e.precondition,i.when));return t}constructor(e,t){super(cr._patchConfig(t)),this.configuration=e,cr._allSymbolNavigationCommands.set(t.id,this)}runEditorCommand(e,t,i,o){if(!t.hasModel())return Promise.resolve(void 0);const r=e.get(Nn),s=e.get(qt),a=e.get(Ff),l=e.get(mN),c=e.get(Re),d=e.get(Ge),u=t.getModel(),h=t.getPosition(),g=e0.is(i)?i:new e0(u,h),f=new ff(t,5),p=yS(this._getLocationModel(c,g.model,g.position,f.token),f.token).then(async b=>{var v;if(!b||f.token.isCancellationRequested)return;Es(b.ariaMessage);let _;if(b.referenceAt(u.uri,h)){const y=this._getAlternativeCommand(t);!cr._activeAlternativeCommands.has(y)&&cr._allSymbolNavigationCommands.has(y)&&(_=cr._allSymbolNavigationCommands.get(y))}const C=b.references.length;if(C===0){if(!this.configuration.muteMessage){const y=u.getWordAtPosition(h);(v=Or.get(t))===null||v===void 0||v.showMessage(this._getNoResultFoundMessage(y),h)}}else if(C===1&&_)cr._activeAlternativeCommands.add(this.desc.id),d.invokeFunction(y=>_.runEditorCommand(y,t,i,o).finally(()=>{cr._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(s,l,t,b,o)},b=>{r.error(b)}).finally(()=>{f.dispose()});return a.showWhile(p,250),p}async _onResult(e,t,i,o,r){const s=this._getGoToPreference(i);if(!(i instanceof vf)&&(this.configuration.openInPeek||s==="peek"&&o.references.length>1))this._openInPeek(i,o,r);else{const a=o.firstReference(),l=o.references.length>1&&s==="gotoAndPeek",c=await this._openReference(i,e,a,this.configuration.openToSide,!l);l&&c?this._openInPeek(c,o,r):o.dispose(),s==="goto"&&t.put(a)}}async _openReference(e,t,i,o,r){let s;if(Bme(i)&&(s=i.targetSelectionRange),s||(s=i.range),!s)return;const a=await t.openCodeEditor({resource:i.uri,options:{selection:D.collapseToStart(s),selectionRevealType:3,selectionSource:"code.jump"}},e,o);if(a){if(r){const l=a.getModel(),c=a.createDecorationsCollection([{range:s,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{a.getModel()===l&&c.clear()},350)}return a}}_openInPeek(e,t,i){const o=_f.get(e);o&&e.hasModel()?o.toggleWidget(i??e.getSelection(),ro(r=>Promise.resolve(t)),this.configuration.openInPeek):t.dispose()}}cr._allSymbolNavigationCommands=new Map;cr._activeAlternativeCommands=new Set;class ix extends cr{async _getLocationModel(e,t,i,o){return new ks(await vN(e.definitionProvider,t,i,o),m("def.title","Definitions"))}_getNoResultFoundMessage(e){return e&&e.word?m("noResultWord","No definition found for '{0}'",e.word):m("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(58).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(58).multipleDefinitions}}Li((S1=class extends ix{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:S1.id,title:{...Ut("actions.goToDecl.label","Go to Definition"),mnemonicTitle:m({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:I.hasDefinitionProvider,keybinding:[{when:I.editorTextFocus,primary:70,weight:100},{when:ee.and(I.editorTextFocus,rie),primary:2118,weight:100}],menu:[{id:T.EditorContext,group:"navigation",order:1.1},{id:T.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),Pt.registerCommandAlias("editor.action.goToDeclaration",S1.id)}},S1.id="editor.action.revealDefinition",S1));Li((x1=class extends ix{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:x1.id,title:Ut("actions.goToDeclToSide.label","Open Definition to the Side"),precondition:ee.and(I.hasDefinitionProvider,I.isInEmbeddedEditor.toNegated()),keybinding:[{when:I.editorTextFocus,primary:qn(2089,70),weight:100},{when:ee.and(I.editorTextFocus,rie),primary:qn(2089,2118),weight:100}]}),Pt.registerCommandAlias("editor.action.openDeclarationToTheSide",x1.id)}},x1.id="editor.action.revealDefinitionAside",x1));Li((k1=class extends ix{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:k1.id,title:Ut("actions.previewDecl.label","Peek Definition"),precondition:ee.and(I.hasDefinitionProvider,cs.notInPeekEditor,I.isInEmbeddedEditor.toNegated()),keybinding:{when:I.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:T.EditorContextPeek,group:"peek",order:2}}),Pt.registerCommandAlias("editor.action.previewDeclaration",k1.id)}},k1.id="editor.action.peekDefinition",k1));class poe extends cr{async _getLocationModel(e,t,i,o){return new ks(await hoe(e.declarationProvider,t,i,o),m("decl.title","Declarations"))}_getNoResultFoundMessage(e){return e&&e.word?m("decl.noResultWord","No declaration found for '{0}'",e.word):m("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(58).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(58).multipleDeclarations}}Li((Dk=class extends poe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Dk.id,title:{...Ut("actions.goToDeclaration.label","Go to Declaration"),mnemonicTitle:m({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:ee.and(I.hasDeclarationProvider,I.isInEmbeddedEditor.toNegated()),menu:[{id:T.EditorContext,group:"navigation",order:1.3},{id:T.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(e){return e&&e.word?m("decl.noResultWord","No declaration found for '{0}'",e.word):m("decl.generic.noResults","No declaration found")}},Dk.id="editor.action.revealDeclaration",Dk));Li(class extends poe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:Ut("actions.peekDecl.label","Peek Declaration"),precondition:ee.and(I.hasDeclarationProvider,cs.notInPeekEditor,I.isInEmbeddedEditor.toNegated()),menu:{id:T.EditorContextPeek,group:"peek",order:3}})}});class moe extends cr{async _getLocationModel(e,t,i,o){return new ks(await foe(e.typeDefinitionProvider,t,i,o),m("typedef.title","Type Definitions"))}_getNoResultFoundMessage(e){return e&&e.word?m("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):m("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(58).multipleTypeDefinitions}}Li((Ek=class extends moe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Ek.ID,title:{...Ut("actions.goToTypeDefinition.label","Go to Type Definition"),mnemonicTitle:m({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:I.hasTypeDefinitionProvider,keybinding:{when:I.editorTextFocus,primary:0,weight:100},menu:[{id:T.EditorContext,group:"navigation",order:1.4},{id:T.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},Ek.ID="editor.action.goToTypeDefinition",Ek));Li((Tk=class extends moe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Tk.ID,title:Ut("actions.peekTypeDefinition.label","Peek Type Definition"),precondition:ee.and(I.hasTypeDefinitionProvider,cs.notInPeekEditor,I.isInEmbeddedEditor.toNegated()),menu:{id:T.EditorContextPeek,group:"peek",order:4}})}},Tk.ID="editor.action.peekTypeDefinition",Tk));class voe extends cr{async _getLocationModel(e,t,i,o){return new ks(await goe(e.implementationProvider,t,i,o),m("impl.title","Implementations"))}_getNoResultFoundMessage(e){return e&&e.word?m("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):m("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(58).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(58).multipleImplementations}}Li((Ik=class extends voe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Ik.ID,title:{...Ut("actions.goToImplementation.label","Go to Implementations"),mnemonicTitle:m({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:I.hasImplementationProvider,keybinding:{when:I.editorTextFocus,primary:2118,weight:100},menu:[{id:T.EditorContext,group:"navigation",order:1.45},{id:T.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},Ik.ID="editor.action.goToImplementation",Ik));Li((Nk=class extends voe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Nk.ID,title:Ut("actions.peekImplementation.label","Peek Implementations"),precondition:ee.and(I.hasImplementationProvider,cs.notInPeekEditor,I.isInEmbeddedEditor.toNegated()),keybinding:{when:I.editorTextFocus,primary:3142,weight:100},menu:{id:T.EditorContextPeek,group:"peek",order:5}})}},Nk.ID="editor.action.peekImplementation",Nk));class boe extends cr{_getNoResultFoundMessage(e){return e?m("references.no","No references found for '{0}'",e.word):m("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(58).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(58).multipleReferences}}Li(class extends boe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{...Ut("goToReferences.label","Go to References"),mnemonicTitle:m({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:ee.and(I.hasReferenceProvider,cs.notInPeekEditor,I.isInEmbeddedEditor.toNegated()),keybinding:{when:I.editorTextFocus,primary:1094,weight:100},menu:[{id:T.EditorContext,group:"navigation",order:1.45},{id:T.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}async _getLocationModel(e,t,i,o){return new ks(await bN(e.referenceProvider,t,i,!0,o),m("ref.title","References"))}});Li(class extends boe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:Ut("references.action.label","Peek References"),precondition:ee.and(I.hasReferenceProvider,cs.notInPeekEditor,I.isInEmbeddedEditor.toNegated()),menu:{id:T.EditorContextPeek,group:"peek",order:6}})}async _getLocationModel(e,t,i,o){return new ks(await bN(e.referenceProvider,t,i,!1,o),m("ref.title","References"))}});class k5e extends cr{constructor(e,t,i){super(e,{id:"editor.action.goToLocation",title:Ut("label.generic","Go to Any Symbol"),precondition:ee.and(cs.notInPeekEditor,I.isInEmbeddedEditor.toNegated())}),this._references=t,this._gotoMultipleBehaviour=i}async _getLocationModel(e,t,i,o){return new ks(this._references,m("generic.title","Locations"))}_getNoResultFoundMessage(e){return e&&m("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return(t=this._gotoMultipleBehaviour)!==null&&t!==void 0?t:e.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}Pt.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Ke},{name:"position",description:"The position at which to start",constraint:W.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:async(n,e,t,i,o,r,s)=>{Jt(Ke.isUri(e)),Jt(W.isIPosition(t)),Jt(Array.isArray(i)),Jt(typeof o>"u"||typeof o=="string"),Jt(typeof s>"u"||typeof s=="boolean");const a=n.get(qt),l=await a.openCodeEditor({resource:e},a.getFocusedCodeEditor());if(zd(l))return l.setPosition(t),l.revealPositionInCenterIfOutsideViewport(t,0),l.invokeWithinContext(c=>{const d=new class extends k5e{_getNoResultFoundMessage(u){return r||super._getNoResultFoundMessage(u)}}({muteMessage:!r,openInPeek:!!s,openToSide:!1},i,o);c.get(Ge).invokeFunction(d.run.bind(d),l)})}});Pt.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Ke},{name:"position",description:"The position at which to start",constraint:W.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"}]},handler:async(n,e,t,i,o)=>{n.get(tn).executeCommand("editor.action.goToLocations",e,t,i,o,void 0,!0)}});Pt.registerCommand({id:"editor.action.findReferences",handler:(n,e,t)=>{Jt(Ke.isUri(e)),Jt(W.isIPosition(t));const i=n.get(Re),o=n.get(qt);return o.openCodeEditor({resource:e},o.getFocusedCodeEditor()).then(r=>{if(!zd(r)||!r.hasModel())return;const s=_f.get(r);if(!s)return;const a=ro(c=>bN(i.referenceProvider,r.getModel(),W.lift(t),!1,c).then(d=>new ks(d,m("ref.title","References")))),l=new D(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(s.toggleWidget(l,a,!1))})}});Pt.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");var L5e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},CA=function(n,e){return function(t,i){e(t,i,n)}},iC;let Nm=iC=class{constructor(e,t,i,o){this.textModelResolverService=t,this.languageService=i,this.languageFeaturesService=o,this.toUnhook=new oe,this.toUnhookForKeyboard=new oe,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();const r=new uN(e);this.toUnhook.add(r),this.toUnhook.add(r.onMouseMoveOrRelevantKeyDown(([s,a])=>{this.startFindDefinitionFromMouse(s,a??void 0)})),this.toUnhook.add(r.onExecute(s=>{this.isEnabled(s)&&this.gotoDefinition(s.target.position,s.hasSideBySideModifier).catch(a=>{st(a)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(r.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(iC.ID)}async startFindDefinitionFromCursor(e){await this.startFindDefinition(e),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(t=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))}startFindDefinitionFromMouse(e,t){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const i=e.target.position;this.startFindDefinition(i)}async startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();const i=e?(t=this.editor.getModel())===null||t===void 0?void 0:t.getWordAtPosition(e):null;if(!i){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return;this.currentWordAtPosition=i;const o=new qie(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=ro(a=>this.findDefinition(e,a));let r;try{r=await this.previousPromise}catch(a){st(a);return}if(!r||!r.length||!o.validate(this.editor)){this.removeLinkDecorations();return}const s=r[0].originSelectionRange?D.lift(r[0].originSelectionRange):new D(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);if(r.length>1){let a=s;for(const{originSelectionRange:l}of r)l&&(a=D.plusRange(a,l));this.addDecoration(a,new Go().appendText(m("multipleResults","Click to show {0} definitions.",r.length)))}else{const a=r[0];if(!a.uri)return;this.textModelResolverService.createModelReference(a.uri).then(l=>{if(!l.object||!l.object.textEditorModel){l.dispose();return}const{object:{textEditorModel:c}}=l,{startLineNumber:d}=a.range;if(d<1||d>c.getLineCount()){l.dispose();return}const u=this.getPreviewValue(c,d,a),h=this.languageService.guessLanguageIdByFilepathOrFirstLine(c.uri);this.addDecoration(s,u?new Go().appendCodeblock(h||"",u):void 0),l.dispose()})}}getPreviewValue(e,t,i){let o=i.range;return o.endLineNumber-o.startLineNumber>=iC.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,o)}stripIndentationFromPreviewRange(e,t,i){let r=e.getLineFirstNonWhitespaceColumn(t);for(let a=t+1;a<i.endLineNumber;a++){const l=e.getLineFirstNonWhitespaceColumn(a);r=Math.min(r,l)}return e.getValueInRange(i).replace(new RegExp(`^\\s{${r-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){const i=e.getLineFirstNonWhitespaceColumn(t),o=Math.min(e.getLineCount(),t+iC.MAX_SOURCE_PREVIEW_LINES);let r=t+1;for(;r<o;r++){const s=e.getLineFirstNonWhitespaceColumn(r);if(i===s)break}return new D(t,1,r+1,1)}addDecoration(e,t){const i={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations.set([i])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,t){var i;return this.editor.hasModel()&&e.isLeftClick&&e.isNoneOrSingleMouseDown&&e.target.type===6&&!(((i=e.target.detail.injectedText)===null||i===void 0?void 0:i.options)instanceof uf)&&(e.hasTriggerModifier||(t?t.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){const i=this.editor.getModel();return i?vN(this.languageFeaturesService.definitionProvider,i,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(i=>{const o=!t&&this.editor.getOption(88)&&!this.isInPeekEditor(i);return new ix({openToSide:t,openInPeek:o,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(i)})}isInPeekEditor(e){const t=e.get(Xe);return cs.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};Nm.ID="editor.contrib.gotodefinitionatposition";Nm.MAX_SOURCE_PREVIEW_LINES=8;Nm=iC=L5e([CA(1,us),CA(2,Bi),CA(3,Re)],Nm);Gt(Nm.ID,Nm,2);let D5e=class{constructor(e,t,i){this.value=e,this.isComplete=t,this.hasLoadingMessage=i}};class _oe extends z{constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new B),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new mi(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new mi(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new mi(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=xve(e=>this._computer.computeAsync(e)),(async()=>{try{for await(const e of this._asyncIterable)e&&(this._result.push(e),this._fireResult());this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(e){st(e)}})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const e=this._state===0,t=this._state===4;this._onResult.fire(new D5e(this._result.slice(0),e,t))}start(e){if(e===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}class yA{constructor(e,t,i,o){this.priority=e,this.range=t,this.initialMousePosX=i,this.initialMousePosY=o,this.type=1}equals(e){return e.type===1&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return e.type===1&&t.lineNumber===this.range.startLineNumber}}class Jp{constructor(e,t,i,o,r,s){this.priority=e,this.owner=t,this.range=i,this.initialMousePosX=o,this.initialMousePosY=r,this.supportsMarkerHover=s,this.type=2}equals(e){return e.type===2&&this.owner===e.owner}canAdoptVisibleHover(e,t){return e.type===2&&this.owner===e.owner}}const zf=new class{constructor(){this._participants=[]}register(e){this._participants.push(e)}getAll(){return this._participants}};class mW{constructor(){this._onDidWillResize=new B,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new B,this.onDidResize=this._onDidResize.event,this._sashListener=new oe,this._size=new Zt(0,0),this._minSize=new Zt(0,0),this._maxSize=new Zt(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new jo(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new jo(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new jo(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:Y2.North}),this._southSash=new jo(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:Y2.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,i=0;this._sashListener.add(me.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{e===void 0&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)})),this._sashListener.add(me.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{e!==void 0&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(o=>{e&&(i=o.currentX-o.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(o=>{e&&(i=-(o.currentX-o.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(o=>{e&&(t=-(o.currentY-o.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(o=>{e&&(t=o.currentY-o.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(me.any(this._eastSash.onDidReset,this._westSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(me.any(this._northSash.onDidReset,this._southSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,o){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=o?3:0}layout(e=this.size.height,t=this.size.width){const{height:i,width:o}=this._minSize,{height:r,width:s}=this._maxSize;e=Math.max(i,Math.min(r,e)),t=Math.max(o,Math.min(s,t));const a=new Zt(t,e);Zt.equals(a,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=a,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}const E5e=30,T5e=24;class I5e extends z{constructor(e,t=new Zt(10,10)){super(),this._editor=e,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new mW),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=Zt.lift(t),this._resizableNode.layout(t.height,t.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(i=>{this._resize(new Zt(i.dimension.width,i.dimension.height)),i.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var e;return!((e=this._contentPosition)===null||e===void 0)&&e.position?W.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(e){const t=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(e);return!t||!i?void 0:In(t).top+i.top-E5e}_availableVerticalSpaceBelow(e){const t=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(e);if(!t||!i)return;const o=In(t),r=gh(t.ownerDocument.body),s=o.top+i.top+i.height;return r.height-s-T5e}_findPositionPreference(e,t){var i,o;const r=Math.min((i=this._availableVerticalSpaceBelow(t))!==null&&i!==void 0?i:1/0,e),s=Math.min((o=this._availableVerticalSpaceAbove(t))!==null&&o!==void 0?o:1/0,e),a=Math.min(Math.max(s,r),e),l=Math.min(e,a);let c;return this._editor.getOption(60).above?c=l<=s?1:2:c=l<=r?2:1,c===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),c}_resize(e){this._resizableNode.layout(e.height,e.width)}}var vW=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Wp=function(n,e){return function(t,i){e(t,i,n)}},YL,Gc;const JK=ue;let SE=YL=class extends z{constructor(e,t,i){super(),this._editor=e,this._instantiationService=t,this._keybindingService=i,this._currentResult=null,this._widget=this._register(this._instantiationService.createInstance($g,this._editor)),this._participants=[];for(const o of zf.getAll())this._participants.push(this._instantiationService.createInstance(o,this._editor));this._participants.sort((o,r)=>o.hoverOrdinal-r.hoverOrdinal),this._computer=new kE(this._editor,this._participants),this._hoverOperation=this._register(new _oe(this._editor,this._computer)),this._register(this._hoverOperation.onResult(o=>{if(!this._computer.anchor)return;const r=o.hasLoadingMessage?this._addLoadingMessage(o.value):o.value;this._withResult(new Coe(this._computer.anchor,r,o.isComplete))})),this._register(fn(this._widget.getDomNode(),"keydown",o=>{o.equals(9)&&this.hide()})),this._register(rn.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}_startShowingOrUpdateHover(e,t,i,o,r){return!this._widget.position||!this._currentResult?e?(this._startHoverOperationIfNecessary(e,t,i,o,!1),!0):!1:this._editor.getOption(60).sticky&&r&&this._widget.isMouseGettingCloser(r.event.posx,r.event.posy)?(e&&this._startHoverOperationIfNecessary(e,t,i,o,!0),!0):e?e&&this._currentResult.anchor.equals(e)?!0:e.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(e)),this._startHoverOperationIfNecessary(e,t,i,o,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(e,t,i,o,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(e,t,i,o,r){this._computer.anchor&&this._computer.anchor.equals(e)||(this._hoverOperation.cancel(),this._computer.anchor=e,this._computer.shouldFocus=o,this._computer.source=i,this._computer.insistOnKeepingHoverVisible=r,this._hoverOperation.start(t))}_setCurrentResult(e){this._currentResult!==e&&(e&&e.messages.length===0&&(e=null),this._currentResult=e,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}_addLoadingMessage(e){if(this._computer.anchor){for(const t of this._participants)if(t.createLoadingMessage){const i=t.createLoadingMessage(this._computer.anchor);if(i)return e.slice(0).concat([i])}}return e}_withResult(e){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!e.isComplete||this._computer.insistOnKeepingHoverVisible&&e.messages.length===0)||this._setCurrentResult(e)}_renderMessages(e,t){const{showAtPosition:i,showAtSecondaryPosition:o,highlightRange:r}=YL.computeHoverRanges(this._editor,e.range,t),s=new oe,a=s.add(new xE(this._keybindingService)),l=document.createDocumentFragment();let c=null;const d={fragment:l,statusBar:a,setColorPicker:h=>c=h,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:h=>this._widget.setMinimumDimensions(h),hide:()=>this.hide()};for(const h of this._participants){const g=t.filter(f=>f.owner===h);g.length>0&&s.add(h.renderHoverParts(d,g))}const u=t.some(h=>h.isBeforeContent);if(a.hasContent&&l.appendChild(a.hoverElement),l.hasChildNodes()){if(r){const h=this._editor.createDecorationsCollection();h.set([{range:r,options:YL._DECORATION_OPTIONS}]),s.add(je(()=>{h.clear()}))}this._widget.showAt(l,new R5e(e.initialMousePosX,e.initialMousePosY,c,i,o,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,u,s))}else s.dispose()}static computeHoverRanges(e,t,i){let o=1;if(e.hasModel()){const u=e._getViewModel(),h=u.coordinatesConverter,g=h.convertModelRangeToViewRange(t),f=new W(g.startLineNumber,u.getLineMinColumn(g.startLineNumber));o=h.convertViewPositionToModelPosition(f).column}const r=t.startLineNumber;let s=t.startColumn,a=i[0].range,l=null;for(const u of i)a=D.plusRange(a,u.range),u.range.startLineNumber===r&&u.range.endLineNumber===r&&(s=Math.max(Math.min(s,u.range.startColumn),o)),u.forceShowAtRange&&(l=u.range);const c=l?l.getStartPosition():new W(r,t.startColumn),d=l?l.getStartPosition():new W(r,s);return{showAtPosition:c,showAtSecondaryPosition:d,highlightRange:a}}showsOrWillShow(e){if(this._widget.isResizing)return!0;const t=[];for(const o of this._participants)if(o.suggestHoverAnchor){const r=o.suggestHoverAnchor(e);r&&t.push(r)}const i=e.target;if(i.type===6&&t.push(new yA(0,i.range,e.event.posx,e.event.posy)),i.type===7){const o=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!i.detail.isAfterLines&&typeof i.detail.horizontalDistanceToText=="number"&&i.detail.horizontalDistanceToText<o&&t.push(new yA(0,i.range,e.event.posx,e.event.posy))}return t.length===0?this._startShowingOrUpdateHover(null,0,0,!1,e):(t.sort((o,r)=>r.priority-o.priority),this._startShowingOrUpdateHover(t[0],0,0,!1,e))}startShowingAtRange(e,t,i,o){this._startShowingOrUpdateHover(new yA(0,e,void 0,void 0),t,i,o,null)}containsNode(e){return e?this._widget.getDomNode().contains(e):!1}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}get widget(){return this._widget}};SE._DECORATION_OPTIONS=dt.register({description:"content-hover-highlight",className:"hoverHighlight"});SE=YL=vW([Wp(1,Ge),Wp(2,di)],SE);class Coe{constructor(e,t,i){this.anchor=e,this.messages=t,this.isComplete=i}filter(e){const t=this.messages.filter(i=>i.isValidForHoverAnchor(e));return t.length===this.messages.length?this:new N5e(this,this.anchor,t,this.isComplete)}}class N5e extends Coe{constructor(e,t,i,o){super(t,i,o),this.original=e}filter(e){return this.original.filter(e)}}class R5e{constructor(e,t,i,o,r,s,a,l,c,d){this.initialMousePosX=e,this.initialMousePosY=t,this.colorPicker=i,this.showAtPosition=o,this.showAtSecondaryPosition=r,this.preferAbove=s,this.stoleFocus=a,this.source=l,this.isBeforeContent=c,this.disposables=d,this.closestMouseDistance=void 0}}const eq=30,wA=10,M5e=6;let $g=Gc=class extends I5e{get isColorPickerVisible(){var e;return!!(!((e=this._visibleData)===null||e===void 0)&&e.colorPicker)}get isVisibleFromKeyboard(){var e;return((e=this._visibleData)===null||e===void 0?void 0:e.source)===1}get isVisible(){var e;return(e=this._hoverVisibleKey.get())!==null&&e!==void 0?e:!1}get isFocused(){var e;return(e=this._hoverFocusedKey.get())!==null&&e!==void 0?e:!1}constructor(e,t,i,o,r){const s=e.getOption(67)+8,a=150,l=new Zt(a,s);super(e,l),this._configurationService=i,this._accessibilityService=o,this._keybindingService=r,this._hover=this._register(new r7),this._minimumSize=l,this._hoverVisibleKey=I.hoverVisible.bindTo(t),this._hoverFocusedKey=I.hoverFocused.bindTo(t),ie(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(50)&&this._updateFont()}));const c=this._register(Cc(this._resizableNode.domNode));this._register(c.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(c.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._editor.addContentWidget(this)}dispose(){var e;super.dispose(),(e=this._visibleData)===null||e===void 0||e.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return Gc.ID}static _applyDimensions(e,t,i){const o=typeof t=="number"?`${t}px`:t,r=typeof i=="number"?`${i}px`:i;e.style.width=o,e.style.height=r}_setContentsDomNodeDimensions(e,t){const i=this._hover.contentsDomNode;return Gc._applyDimensions(i,e,t)}_setContainerDomNodeDimensions(e,t){const i=this._hover.containerDomNode;return Gc._applyDimensions(i,e,t)}_setHoverWidgetDimensions(e,t){this._setContentsDomNodeDimensions(e,t),this._setContainerDomNodeDimensions(e,t),this._layoutContentWidget()}static _applyMaxDimensions(e,t,i){const o=typeof t=="number"?`${t}px`:t,r=typeof i=="number"?`${i}px`:i;e.style.maxWidth=o,e.style.maxHeight=r}_setHoverWidgetMaxDimensions(e,t){Gc._applyMaxDimensions(this._hover.contentsDomNode,e,t),Gc._applyMaxDimensions(this._hover.containerDomNode,e,t),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof e=="number"?`${e}px`:e),this._layoutContentWidget()}_hasHorizontalScrollbar(){const e=this._hover.scrollbar.getScrollDimensions();return e.scrollWidth>e.width}_adjustContentsBottomPadding(){const e=this._hover.contentsDomNode,t=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;e.style.paddingBottom!==t&&(e.style.paddingBottom=t)}_setAdjustedHoverWidgetDimensions(e){this._setHoverWidgetMaxDimensions("none","none");const t=e.width,i=e.height;this._setHoverWidgetDimensions(t,i),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(t,i-wA))}_updateResizableNodeMaxDimensions(){var e,t;const i=(e=this._findMaximumRenderingWidth())!==null&&e!==void 0?e:1/0,o=(t=this._findMaximumRenderingHeight())!==null&&t!==void 0?t:1/0;this._resizableNode.maxSize=new Zt(i,o),this._setHoverWidgetMaxDimensions(i,o)}_resize(e){var t,i;Gc._lastDimensions=new Zt(e.width,e.height),this._setAdjustedHoverWidgetDimensions(e),this._resizableNode.layout(e.height,e.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(i=(t=this._visibleData)===null||t===void 0?void 0:t.colorPicker)===null||i===void 0||i.layout()}_findAvailableSpaceVertically(){var e;const t=(e=this._visibleData)===null||e===void 0?void 0:e.showAtPosition;if(t)return this._positionPreference===1?this._availableVerticalSpaceAbove(t):this._availableVerticalSpaceBelow(t)}_findMaximumRenderingHeight(){const e=this._findAvailableSpaceVertically();if(!e)return;let t=M5e;return Array.from(this._hover.contentsDomNode.children).forEach(i=>{t+=i.clientHeight}),this._hasHorizontalScrollbar()&&(t+=wA),Math.min(e,t)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const e=Array.from(this._hover.contentsDomNode.children).some(t=>t.scrollWidth>t.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),e}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const e=this._isHoverTextOverflowing(),t=typeof this._contentWidth>"u"?0:this._contentWidth-2;return e||this._hover.containerDomNode.clientWidth<t?gh(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(e,t){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX>"u"||typeof this._visibleData.initialMousePosY>"u")return this._visibleData.initialMousePosX=e,this._visibleData.initialMousePosY=t,!1;const i=In(this.getDomNode());typeof this._visibleData.closestMouseDistance>"u"&&(this._visibleData.closestMouseDistance=tq(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,i.left,i.top,i.width,i.height));const o=tq(e,t,i.left,i.top,i.width,i.height);return o>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,o),!0)}_setHoverData(e){var t;(t=this._visibleData)===null||t===void 0||t.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!e),this._hover.containerDomNode.classList.toggle("hidden",!e)}_updateFont(){const{fontSize:e,lineHeight:t}=this._editor.getOption(50),i=this._hover.contentsDomNode;i.style.fontSize=`${e}px`,i.style.lineHeight=`${t/e}`,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(r=>this._editor.applyFontInfo(r))}_updateContent(e){const t=this._hover.contentsDomNode;t.style.paddingBottom="",t.textContent="",t.appendChild(e)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const e=Math.max(this._editor.getLayoutInfo().height/4,250,Gc._lastDimensions.height),t=Math.max(this._editor.getLayoutInfo().width*.66,500,Gc._lastDimensions.width);this._setHoverWidgetMaxDimensions(t,e)}_render(e,t){this._setHoverData(t),this._updateFont(),this._updateContent(e),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var e;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(e=this._positionPreference)!==null&&e!==void 0?e:1]}:null}showAt(e,t){var i,o,r,s;if(!this._editor||!this._editor.hasModel())return;this._render(e,t);const a=Iu(this._hover.containerDomNode),l=t.showAtPosition;this._positionPreference=(i=this._findPositionPreference(a,l))!==null&&i!==void 0?i:1,this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),(o=t.colorPicker)===null||o===void 0||o.layout();const d=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&mte(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(s=(r=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||r===void 0?void 0:r.getAriaLabel())!==null&&s!==void 0?s:"");d&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+d)}hide(){if(!this._visibleData)return;const e=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new Zt(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),e&&this._editor.focus()}_removeConstraintsRenderNormally(){const e=this._editor.getLayoutInfo();this._resizableNode.layout(e.height,e.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(e){var t;const i=this._hover.containerDomNode,o=this._hover.contentsDomNode,r=(t=this._findMaximumRenderingHeight())!==null&&t!==void 0?t:1/0;this._setContainerDomNodeDimensions(yr(i),Math.min(r,e)),this._setContentsDomNodeDimensions(yr(o),Math.min(r,e-wA))}setMinimumDimensions(e){this._minimumSize=new Zt(Math.max(this._minimumSize.width,e.width),Math.max(this._minimumSize.height,e.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const e=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new Zt(e,this._minimumSize.height)}onContentsChanged(){var e;this._removeConstraintsRenderNormally();const t=this._hover.containerDomNode;let i=Iu(t),o=yr(t);if(this._resizableNode.layout(i,o),this._setHoverWidgetDimensions(o,i),i=Iu(t),o=yr(t),this._contentWidth=o,this._updateMinimumWidth(),this._resizableNode.layout(i,o),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(i)),!((e=this._visibleData)===null||e===void 0)&&e.showAtPosition){const r=Iu(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(r,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:e-t.lineHeight})}scrollDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:e+t.lineHeight})}scrollLeft(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e-eq})}scrollRight(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e+eq})}pageUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e-t})}pageDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e+t})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};$g.ID="editor.contrib.resizableContentHoverWidget";$g._lastDimensions=new Zt(0,0);$g=Gc=vW([Wp(1,Xe),Wp(2,yt),Wp(3,Dl),Wp(4,di)],$g);let xE=class extends z{get hasContent(){return this._hasContent}constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=JK("div.hover-row.status-bar"),this.actionsElement=ie(this.hoverElement,JK("div.actions"))}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;return this._hasContent=!0,this._register(xI.render(this.actionsElement,e,i))}append(e){const t=ie(this.actionsElement,e);return this._hasContent=!0,t}};xE=vW([Wp(0,di)],xE);class kE{get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}get source(){return this._source}set source(e){this._source=e}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(e){this._insistOnKeepingHoverVisible=e}constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(e,t){if(t.type!==1&&!t.supportsMarkerHover)return[];const i=e.getModel(),o=t.range.startLineNumber;if(o>i.getLineCount())return[];const r=i.getLineMaxColumn(o);return e.getLineDecorations(o).filter(s=>{if(s.options.isWholeLine)return!0;const a=s.range.startLineNumber===o?s.range.startColumn:1,l=s.range.endLineNumber===o?s.range.endColumn:r;if(s.options.showIfCollapsed){if(a>t.range.startColumn+1||t.range.endColumn-1>l)return!1}else if(a>t.range.startColumn||t.range.endColumn>l)return!1;return!0})}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return Pn.EMPTY;const i=kE._getLineDecorations(this._editor,t);return Pn.merge(this._participants.map(o=>o.computeAsync?o.computeAsync(t,i,e):Pn.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=kE._getLineDecorations(this._editor,this._anchor);let t=[];for(const i of this._participants)t=t.concat(i.computeSync(this._anchor,e));return vc(t)}}function tq(n,e,t,i,o,r){const s=t+o/2,a=i+r/2,l=Math.max(Math.abs(n-s)-o/2,0),c=Math.max(Math.abs(e-a)-r/2,0);return Math.sqrt(l*l+c*c)}const iq=ue;class o_ extends z{constructor(e,t,i){super(),this._renderDisposeables=this._register(new oe),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new r7),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Bd({editor:this._editor},t,i)),this._computer=new A5e(this._editor),this._hoverOperation=this._register(new _oe(this._editor,this._computer)),this._register(this._hoverOperation.onResult(o=>{this._withResult(o.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(50)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return o_.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(e,t){this._computer.lineNumber===e&&this._computer.lane===t||(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._computer.lane=t,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const i=document.createDocumentFragment();for(const o of t){const r=iq("div.hover-row.markdown-hover"),s=ie(r,iq("div.hover-contents")),a=this._renderDisposeables.add(this._markdownRenderer.render(o.value));s.appendChild(a.element),i.appendChild(r)}this._updateContents(i),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),o=this._editor.getScrollTop(),r=this._editor.getOption(67),s=this._hover.containerDomNode.clientHeight,a=i-o-(s-r)/2,l=t.glyphMarginLeft+t.glyphMarginWidth+(this._computer.lane==="lineNo"?t.lineNumbersWidth:0);this._hover.containerDomNode.style.left=`${l}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(a),0)}px`}}o_.ID="editor.contrib.modesGlyphHoverWidget";class A5e{get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}get lane(){return this._laneOrLine}set lane(e){this._laneOrLine=e}constructor(e){this._editor=e,this._lineNumber=-1,this._laneOrLine=Ad.Center}computeSync(){var e,t;const i=a=>({value:a}),o=this._editor.getLineDecorations(this._lineNumber),r=[],s=this._laneOrLine==="lineNo";if(!o)return r;for(const a of o){const l=(t=(e=a.options.glyphMargin)===null||e===void 0?void 0:e.position)!==null&&t!==void 0?t:Ad.Center;if(!s&&l!==this._laneOrLine)continue;const c=s?a.options.lineNumberHoverMessage:a.options.glyphMarginHoverMessage;!c||H_(c)||r.push(...T8(c).map(i))}return r}}class P5e{constructor(e,t,i){this.provider=e,this.hover=t,this.ordinal=i}}async function O5e(n,e,t,i,o){try{const r=await Promise.resolve(n.provideHover(t,i,o));if(r&&B5e(r))return new P5e(n,r,e)}catch(r){Bn(r)}}function bW(n,e,t,i){const r=n.ordered(e).map((s,a)=>O5e(s,a,e,t,i));return Pn.fromPromises(r).coalesce()}function F5e(n,e,t,i){return bW(n,e,t,i).map(o=>o.hover).toPromise()}Zd("_executeHoverProvider",(n,e,t)=>{const i=n.get(Re);return F5e(i.hoverProvider,e,t,Dt.None)});function B5e(n){const e=typeof n.range<"u",t=typeof n.contents<"u"&&n.contents&&n.contents.length>0;return e&&t}var W5e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Rk=function(n,e){return function(t,i){e(t,i,n)}};const nq=ue;class ec{constructor(e,t,i,o,r){this.owner=e,this.range=t,this.contents=i,this.isBeforeContent=o,this.ordinal=r}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let LE=class{constructor(e,t,i,o,r){this._editor=e,this._languageService=t,this._openerService=i,this._configurationService=o,this._languageFeaturesService=r,this.hoverOrdinal=3}createLoadingMessage(e){return new ec(this,e.range,[new Go().appendText(m("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),o=e.range.startLineNumber,r=i.getLineMaxColumn(o),s=[];let a=1e3;const l=i.getLineLength(o),c=i.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),d=this._editor.getOption(117),u=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:c});let h=!1;d>=0&&l>d&&e.range.startColumn>=d&&(h=!0,s.push(new ec(this,e.range,[{value:m("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,a++))),!h&&typeof u=="number"&&l>=u&&s.push(new ec(this,e.range,[{value:m("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,a++));let g=!1;for(const f of t){const p=f.range.startLineNumber===o?f.range.startColumn:1,b=f.range.endLineNumber===o?f.range.endColumn:r,v=f.options.hoverMessage;if(!v||H_(v))continue;f.options.beforeContentClassName&&(g=!0);const _=new D(e.range.startLineNumber,p,e.range.startLineNumber,b);s.push(new ec(this,_,T8(v),g,a++))}return s}computeAsync(e,t,i){if(!this._editor.hasModel()||e.type!==1)return Pn.EMPTY;const o=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(o))return Pn.EMPTY;const r=new W(e.range.startLineNumber,e.range.startColumn);return bW(this._languageFeaturesService.hoverProvider,o,r,i).filter(s=>!H_(s.hover.contents)).map(s=>{const a=s.hover.range?D.lift(s.hover.range):e.range;return new ec(this,a,s.hover.contents,!1,s.ordinal)})}renderHoverParts(e,t){return yoe(e,t,this._editor,this._languageService,this._openerService)}};LE=W5e([Rk(1,Bi),Rk(2,gs),Rk(3,yt),Rk(4,Re)],LE);function yoe(n,e,t,i,o){e.sort((s,a)=>s.ordinal-a.ordinal);const r=new oe;for(const s of e)for(const a of s.contents){if(H_(a))continue;const l=nq("div.hover-row.markdown-hover"),c=ie(l,nq("div.hover-contents")),d=r.add(new Bd({editor:t},i,o));r.add(d.onDidRenderAsync(()=>{c.className="hover-contents code-hover-contents",n.onContentsChanged()}));const u=r.add(d.render(a));c.appendChild(u.element),n.fragment.appendChild(l)}return r}var woe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},DE=function(n,e){return function(t,i){e(t,i,n)}};class oq{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}}let BF=class{constructor(e,t,i){this._markerService=t,this._configService=i,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._dispoables=new oe,this._markers=[],this._nextIdx=-1,Ke.isUri(e)?this._resourceFilter=a=>a.toString()===e.toString():e&&(this._resourceFilter=e);const o=this._configService.getValue("problems.sortOrder"),r=(a,l)=>{let c=Iy(a.resource.toString(),l.resource.toString());return c===0&&(o==="position"?c=D.compareRangesUsingStarts(a,l)||ln.compare(a.severity,l.severity):c=ln.compare(a.severity,l.severity)||D.compareRangesUsingStarts(a,l)),c},s=()=>{this._markers=this._markerService.read({resource:Ke.isUri(e)?e:void 0,severities:ln.Error|ln.Warning|ln.Info}),typeof e=="function"&&(this._markers=this._markers.filter(a=>this._resourceFilter(a.resource))),this._markers.sort(r)};s(),this._dispoables.add(t.onMarkerChanged(a=>{(!this._resourceFilter||a.some(l=>this._resourceFilter(l)))&&(s(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e?!0:!this._resourceFilter||!e?!1:this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new oq(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let o=!1,r=this._markers.findIndex(s=>s.resource.toString()===e.uri.toString());r<0&&(r=Sy(this._markers,{resource:e.uri},(s,a)=>Iy(s.resource.toString(),a.resource.toString())),r<0&&(r=~r));for(let s=r;s<this._markers.length;s++){let a=D.lift(this._markers[s]);if(a.isEmpty()){const l=e.getWordAtPosition(a.getStartPosition());l&&(a=new D(a.startLineNumber,l.startColumn,a.startLineNumber,l.endColumn))}if(t&&(a.containsPosition(t)||t.isBeforeOrEqual(a.getStartPosition()))){this._nextIdx=s,o=!0;break}if(this._markers[s].resource.toString()!==e.uri.toString())break}o||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(this._markers.length===0)return!1;const o=this._nextIdx;return this._nextIdx===-1?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),o!==this._nextIdx}find(e,t){let i=this._markers.findIndex(o=>o.resource.toString()===e.toString());if(!(i<0)){for(;i<this._markers.length;i++)if(D.containsPosition(this._markers[i],t))return new oq(this._markers[i],i+1,this._markers.length)}}};BF=woe([DE(1,Xd),DE(2,yt)],BF);const Soe=Et("IMarkerNavigationService");let WF=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new Ir}getMarkerList(e){for(const t of this._provider){const i=t.getMarkerList(e);if(i)return i}return new BF(e,this._markerService,this._configService)}};WF=woe([DE(0,Xd),DE(1,yt)],WF);Ot(Soe,WF,1);var VF;(function(n){function e(t){switch(t){case _n.Ignore:return"severity-ignore "+Ze.asClassName(pe.info);case _n.Info:return Ze.asClassName(pe.info);case _n.Warning:return Ze.asClassName(pe.warning);case _n.Error:return Ze.asClassName(pe.error);default:return""}}n.className=e})(VF||(VF={}));var V5e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Sv=function(n,e){return function(t,i){e(t,i,n)}},HF;class H5e{constructor(e,t,i,o,r){this._openerService=o,this._labelService=r,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new oe,this._editor=t;const s=document.createElement("div");s.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),s.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),s.appendChild(this._relatedBlock),this._disposables.add(fn(this._relatedBlock,"click",a=>{a.preventDefault();const l=this._relatedDiagnostics.get(a.target);l&&i(l)})),this._scrollable=new dee(s,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(a=>{s.style.left=`-${a.scrollLeft}px`,s.style.top=`-${a.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){si(this._disposables)}update(e){const{source:t,message:i,relatedInformation:o,code:r}=e;let s=((t==null?void 0:t.length)||0)+2;r&&(typeof r=="string"?s+=r.length:s+=r.value.length);const a=qd(i);this._lines=a.length,this._longestLineLength=0;for(const h of a)this._longestLineLength=Math.max(h.length+s,this._longestLineLength);Xo(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let l=this._messageBlock;for(const h of a)l=document.createElement("div"),l.innerText=h,h===""&&(l.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(l);if(t||r){const h=document.createElement("span");if(h.classList.add("details"),l.appendChild(h),t){const g=document.createElement("span");g.innerText=t,g.classList.add("source"),h.appendChild(g)}if(r)if(typeof r=="string"){const g=document.createElement("span");g.innerText=`(${r})`,g.classList.add("code"),h.appendChild(g)}else{this._codeLink=ue("a.code-link"),this._codeLink.setAttribute("href",`${r.target.toString()}`),this._codeLink.onclick=f=>{this._openerService.open(r.target,{allowCommands:!0}),f.preventDefault(),f.stopPropagation()};const g=ie(this._codeLink,ue("span"));g.innerText=r.value,h.appendChild(this._codeLink)}}if(Xo(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Yo(o)){const h=this._relatedBlock.appendChild(document.createElement("div"));h.style.paddingTop=`${Math.floor(this._editor.getOption(67)*.66)}px`,this._lines+=1;for(const g of o){const f=document.createElement("div"),p=document.createElement("a");p.classList.add("filename"),p.innerText=`${this._labelService.getUriBasenameLabel(g.resource)}(${g.startLineNumber}, ${g.startColumn}): `,p.title=this._labelService.getUriLabel(g.resource),this._relatedDiagnostics.set(p,g);const b=document.createElement("span");b.innerText=g.message,f.appendChild(p),f.appendChild(b),this._lines+=1,h.appendChild(f)}}const c=this._editor.getOption(50),d=Math.ceil(c.typicalFullwidthCharacterWidth*this._longestLineLength*.75),u=c.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:d,scrollHeight:u})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case ln.Error:t=m("Error","Error");break;case ln.Warning:t=m("Warning","Warning");break;case ln.Info:t=m("Info","Info");break;case ln.Hint:t=m("Hint","Hint");break}let i=m("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const o=this._editor.getModel();return o&&e.startLineNumber<=o.getLineCount()&&e.startLineNumber>=1&&(i=`${o.getLineContent(e.startLineNumber)}, ${i}`),i}}let t0=HF=class extends wE{constructor(e,t,i,o,r,s,a){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},r),this._themeService=t,this._openerService=i,this._menuService=o,this._contextKeyService=s,this._labelService=a,this._callOnDispose=new oe,this._onDidSelectRelatedInformation=new B,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=ln.Warning,this._backgroundColor=U.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(j5e);let t=zF,i=z5e;this._severity===ln.Warning?(t=XL,i=U5e):this._severity===ln.Info&&(t=UF,i=$5e);const o=e.getColor(t),r=e.getColor(i);this.style({arrowColor:o,frameColor:o,headerBackgroundColor:r,primaryHeadingColor:e.getColor(coe),secondaryHeadingColor:e.getColor(doe)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(o=>this.editor.focus()));const t=[],i=this._menuService.createMenu(HF.TitleMenu,this._contextKeyService);AI(i,void 0,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0}),i.dispose()}_fillTitleIcon(e){this._icon=ie(e,ue(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new H5e(this._container,this.editor,t=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());const o=D.lift(e),r=this.editor.getPosition(),s=r&&o.containsPosition(r)?r:o.getStartPosition();super.show(s,this.computeRequiredHeight());const a=this.editor.getModel();if(a){const l=i>1?m("problems","{0} of {1} problems",t,i):m("change","{0} of {1} problem",t,i);this.setTitle(Ba(a.uri),l)}this._icon.className=`codicon ${VF.className(ln.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(s,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};t0.TitleMenu=new T("gotoErrorTitleMenu");t0=HF=V5e([Sv(1,ao),Sv(2,gs),Sv(3,$a),Sv(4,Ge),Sv(5,Xe),Sv(6,z_)],t0);const rq=qy(vd,sCe),sq=qy(dr,jy),aq=qy(ns,Ky),zF=N("editorMarkerNavigationError.background",{dark:rq,light:rq,hcDark:Nt,hcLight:Nt},m("editorMarkerNavigationError","Editor marker navigation widget error color.")),z5e=N("editorMarkerNavigationError.headerBackground",{dark:He(zF,.1),light:He(zF,.1),hcDark:null,hcLight:null},m("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),XL=N("editorMarkerNavigationWarning.background",{dark:sq,light:sq,hcDark:Nt,hcLight:Nt},m("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),U5e=N("editorMarkerNavigationWarning.headerBackground",{dark:He(XL,.1),light:He(XL,.1),hcDark:"#0C141F",hcLight:He(XL,.2)},m("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),UF=N("editorMarkerNavigationInfo.background",{dark:aq,light:aq,hcDark:Nt,hcLight:Nt},m("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),$5e=N("editorMarkerNavigationInfo.headerBackground",{dark:He(UF,.1),light:He(UF,.1),hcDark:null,hcLight:null},m("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),j5e=N("editorMarkerNavigation.background",{dark:no,light:no,hcDark:no,hcLight:no},m("editorMarkerNavigationBackground","Editor marker navigation widget background."));var K5e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Mk=function(n,e){return function(t,i){e(t,i,n)}},nC;let Cf=nC=class{static get(e){return e.getContribution(nC.ID)}constructor(e,t,i,o,r){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=o,this._instantiationService=r,this._sessionDispoables=new oe,this._editor=e,this._widgetVisible=xoe.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(t0,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(i=>{var o,r,s;(!(!((o=this._model)===null||o===void 0)&&o.selected)||!D.containsPosition((r=this._model)===null||r===void 0?void 0:r.selected.marker,i.position))&&((s=this._model)===null||s===void 0||s.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const i=this._model.find(this._editor.getModel().uri,this._widget.position);i?this._widget.updateMarker(i.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(i=>{this._editorService.openCodeEditor({resource:i.resource,options:{pinned:!0,revealIfOpened:!0,selection:D.lift(i).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new W(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}async nagivate(e,t){var i,o;if(this._editor.hasModel()){const r=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(r.move(e,this._editor.getModel(),this._editor.getPosition()),!r.selected)return;if(r.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const s=await this._editorService.openCodeEditor({resource:r.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:r.selected.marker}},this._editor);s&&((i=nC.get(s))===null||i===void 0||i.close(),(o=nC.get(s))===null||o===void 0||o.nagivate(e,t))}else this._widget.showAtMarker(r.selected.marker,r.selected.index,r.selected.total)}}};Cf.ID="editor.contrib.markerController";Cf=nC=K5e([Mk(1,Soe),Mk(2,Xe),Mk(3,qt),Mk(4,Ge)],Cf);class _N extends Le{constructor(e,t,i){super(i),this._next=e,this._multiFile=t}async run(e,t){var i;t.hasModel()&&((i=Cf.get(t))===null||i===void 0||i.nagivate(this._next,this._multiFile))}}class jg extends _N{constructor(){super(!0,!1,{id:jg.ID,label:jg.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.focus,primary:578,weight:100},menuOpts:{menuId:t0.TitleMenu,title:jg.LABEL,icon:xn("marker-navigation-next",pe.arrowDown,m("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}jg.ID="editor.action.marker.next";jg.LABEL=m("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class em extends _N{constructor(){super(!1,!1,{id:em.ID,label:em.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.focus,primary:1602,weight:100},menuOpts:{menuId:t0.TitleMenu,title:em.LABEL,icon:xn("marker-navigation-previous",pe.arrowUp,m("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}em.ID="editor.action.marker.prev";em.LABEL=m("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class q5e extends _N{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:m("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.focus,primary:66,weight:100},menuOpts:{menuId:T.MenubarGoMenu,title:m({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class G5e extends _N{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:m("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.focus,primary:1090,weight:100},menuOpts:{menuId:T.MenubarGoMenu,title:m({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}Gt(Cf.ID,Cf,4);de(jg);de(em);de(q5e);de(G5e);const xoe=new we("markersNavigationVisible",!1),Z5e=_o.bindToContribution(Cf.get);ve(new Z5e({id:"closeMarkersNavigation",precondition:xoe,handler:n=>n.close(),kbOpts:{weight:150,kbExpr:I.focus,primary:9,secondary:[1033]}}));var Y5e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},SA=function(n,e){return function(t,i){e(t,i,n)}};const Za=ue;class X5e{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const lq={type:1,filter:{include:et.QuickFix},triggerAction:Ts.QuickFixHover};let $F=class{constructor(e,t,i,o){this._editor=e,this._markerDecorationsService=t,this._openerService=i,this._languageFeaturesService=o,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1&&!e.supportsMarkerHover)return[];const i=this._editor.getModel(),o=e.range.startLineNumber,r=i.getLineMaxColumn(o),s=[];for(const a of t){const l=a.range.startLineNumber===o?a.range.startColumn:1,c=a.range.endLineNumber===o?a.range.endColumn:r,d=this._markerDecorationsService.getMarker(i.uri,a);if(!d)continue;const u=new D(e.range.startLineNumber,l,e.range.startLineNumber,c);s.push(new X5e(this,u,d))}return s}renderHoverParts(e,t){if(!t.length)return z.None;const i=new oe;t.forEach(r=>e.fragment.appendChild(this.renderMarkerHover(r,i)));const o=t.length===1?t[0]:t.sort((r,s)=>ln.compare(r.marker.severity,s.marker.severity))[0];return this.renderMarkerStatusbar(e,o,i),i}renderMarkerHover(e,t){const i=Za("div.hover-row"),o=ie(i,Za("div.marker.hover-contents")),{source:r,message:s,code:a,relatedInformation:l}=e.marker;this._editor.applyFontInfo(o);const c=ie(o,Za("span"));if(c.style.whiteSpace="pre-wrap",c.innerText=s,r||a)if(a&&typeof a!="string"){const d=Za("span");if(r){const f=ie(d,Za("span"));f.innerText=r}const u=ie(d,Za("a.code-link"));u.setAttribute("href",a.target.toString()),t.add(j(u,"click",f=>{this._openerService.open(a.target,{allowCommands:!0}),f.preventDefault(),f.stopPropagation()}));const h=ie(u,Za("span"));h.innerText=a.value;const g=ie(o,d);g.style.opacity="0.6",g.style.paddingLeft="6px"}else{const d=ie(o,Za("span"));d.style.opacity="0.6",d.style.paddingLeft="6px",d.innerText=r&&a?`${r}(${a})`:r||`(${a})`}if(Yo(l))for(const{message:d,resource:u,startLineNumber:h,startColumn:g}of l){const f=ie(o,Za("div"));f.style.marginTop="8px";const p=ie(f,Za("a"));p.innerText=`${Ba(u)}(${h}, ${g}): `,p.style.cursor="pointer",t.add(j(p,"click",v=>{v.stopPropagation(),v.preventDefault(),this._openerService&&this._openerService.open(u,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:h,startColumn:g}}}).catch(st)}));const b=ie(f,Za("span"));b.innerText=d,this._editor.applyFontInfo(b)}return i}renderMarkerStatusbar(e,t,i){if(t.marker.severity===ln.Error||t.marker.severity===ln.Warning||t.marker.severity===ln.Info){const o=Cf.get(this._editor);o&&e.statusBar.addAction({label:m("view problem","View Problem"),commandId:jg.ID,run:()=>{e.hide(),o.showAtMarker(t.marker),this._editor.focus()}})}if(!this._editor.getOption(91)){const o=e.statusBar.append(Za("div"));this.recentMarkerCodeActionsInfo&&(G2.makeKey(this.recentMarkerCodeActionsInfo.marker)===G2.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(o.textContent=m("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const r=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?z.None:nf(()=>o.textContent=m("checkingForQuickFixes","Checking for quick fixes..."),200,i);o.textContent||(o.textContent="");const s=this.getCodeActions(t.marker);i.add(je(()=>s.cancel())),s.then(a=>{if(r.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:a.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){a.dispose(),o.textContent=m("noQuickFixes","No quick fixes available");return}o.style.display="none";let l=!1;i.add(je(()=>{l||a.dispose()})),e.statusBar.addAction({label:m("quick fixes","Quick Fix..."),commandId:cW,run:c=>{l=!0;const d=pf.get(this._editor),u=In(c);e.hide(),d==null||d.showCodeActions(lq,a,{x:u.left,y:u.top,width:u.width,height:u.height})}})},st)}}getCodeActions(e){return ro(t=>KC(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new D(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),lq,Yu.None,t))}};$F=Y5e([SA(1,w6),SA(2,gs),SA(3,Re)],$F);const koe="editor.action.inlineSuggest.commit",Loe="editor.action.inlineSuggest.showPrevious",Doe="editor.action.inlineSuggest.showNext";var _W=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},tc=function(n,e){return function(t,i){e(t,i,n)}},QL;let jF=class extends z{constructor(e,t,i){super(),this.editor=e,this.model=t,this.instantiationService=i,this.alwaysShowToolbar=Pi(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=nt(this,o=>{var r,s,a;const l=(r=this.model.read(o))===null||r===void 0?void 0:r.primaryGhostText.read(o);if(!this.alwaysShowToolbar.read(o)||!l||l.parts.length===0)return this.sessionPosition=void 0,null;const c=l.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==l.lineNumber&&(this.sessionPosition=void 0);const d=new W(l.lineNumber,Math.min(c,(a=(s=this.sessionPosition)===null||s===void 0?void 0:s.column)!==null&&a!==void 0?a:Number.MAX_SAFE_INTEGER));return this.sessionPosition=d,d}),this._register(Pc((o,r)=>{const s=this.model.read(o);if(!s||!this.alwaysShowToolbar.read(o))return;const a=r.add(this.instantiationService.createInstance(yf,this.editor,!0,this.position,s.selectedInlineCompletionIndex,s.inlineCompletionsCount,s.selectedInlineCompletion.map(l=>{var c;return(c=l==null?void 0:l.inlineCompletion.source.inlineCompletions.commands)!==null&&c!==void 0?c:[]})));e.addContentWidget(a),r.add(je(()=>e.removeContentWidget(a))),r.add(Lt(l=>{this.position.read(l)&&s.lastTriggerKind.read(l)!==qu.Explicit&&s.triggerExplicitly()}))}))}};jF=_W([tc(2,Ge)],jF);const Q5e=xn("inline-suggestion-hints-next",pe.chevronRight,m("parameterHintsNextIcon","Icon for show next parameter hint.")),J5e=xn("inline-suggestion-hints-previous",pe.chevronLeft,m("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let yf=QL=class extends z{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(e,t,i){const o=new Ss(e,t,i,!0,()=>this._commandService.executeCommand(e)),r=this.keybindingService.lookupKeybinding(e,this._contextKeyService);let s=t;return r&&(s=m({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",t,r.getLabel())),o.tooltip=s,o}constructor(e,t,i,o,r,s,a,l,c,d,u){super(),this.editor=e,this.withBorder=t,this._position=i,this._currentSuggestionIdx=o,this._suggestionCount=r,this._extraCommands=s,this._commandService=a,this.keybindingService=c,this._contextKeyService=d,this._menuService=u,this.id=`InlineSuggestionHintsContentWidget${QL.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=pi("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[pi("div@toolBar")]),this.previousAction=this.createCommandAction(Loe,m("previous","Previous"),Ze.asClassName(J5e)),this.availableSuggestionCountAction=new Ss("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(Doe,m("next","Next"),Ze.asClassName(Q5e)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(T.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new mi(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new mi(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[],this.toolBar=this._register(l.createInstance(KF,this.nodes.toolBar,T.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:h=>h.startsWith("primary")},actionViewItemProvider:(h,g)=>{if(h instanceof aa)return l.createInstance(t4e,h,void 0);if(h===this.availableSuggestionCountAction){const f=new e4e(void 0,h,{label:!0,icon:!1});return f.setClass("availableSuggestionCount"),f}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(h=>{QL._dropDownVisible=h})),this._register(Lt(h=>{this._position.read(h),this.editor.layoutContentWidget(this)})),this._register(Lt(h=>{const g=this._suggestionCount.read(h),f=this._currentSuggestionIdx.read(h);g!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${f+1}/${g}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),g!==void 0&&g>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register(Lt(h=>{const g=this._extraCommands.read(h);if(en(this.lastCommands,g))return;this.lastCommands=g;const f=g.map(p=>({class:void 0,id:p.id,enabled:!0,tooltip:p.tooltip||"",label:p.title,run:b=>this._commandService.executeCommand(p.id)}));for(const[p,b]of this.inlineCompletionsActionsMenus.getActions())for(const v of b)v instanceof aa&&f.push(v);f.length>0&&f.unshift(new Kn),this.toolBar.setAdditionalSecondaryActions(f)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};yf._dropDownVisible=!1;yf.id=0;yf=QL=_W([tc(6,tn),tc(7,Ge),tc(8,di),tc(9,Xe),tc(10,$a)],yf);class e4e extends j_{constructor(){super(...arguments),this._className=void 0}setClass(e){this._className=e}render(e){super.render(e),this._className&&e.classList.add(this._className)}updateTooltip(){}}let t4e=class extends hf{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();if(this.label){const t=pi("div.keybinding").root;new D0(t,Cs,{disableTitle:!0,...pie}).set(e),this.label.textContent=this._action.label,this.label.appendChild(t),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}updateTooltip(){}},KF=class extends Iw{constructor(e,t,i,o,r,s,a,l){super(e,{resetMenu:t,...i},o,r,s,a,l),this.menuId=t,this.options2=i,this.menuService=o,this.contextKeyService=r,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var e,t,i,o,r,s,a;const l=[],c=[];AI(this.menu,(e=this.options2)===null||e===void 0?void 0:e.menuOptions,{primary:l,secondary:c},(i=(t=this.options2)===null||t===void 0?void 0:t.toolbarOptions)===null||i===void 0?void 0:i.primaryGroup,(r=(o=this.options2)===null||o===void 0?void 0:o.toolbarOptions)===null||r===void 0?void 0:r.shouldInlineSubmenu,(a=(s=this.options2)===null||s===void 0?void 0:s.toolbarOptions)===null||a===void 0?void 0:a.useSeparatorsInPrimaryActions),c.push(...this.additionalActions),l.unshift(...this.prependedPrimaryActions),this.setActions(l,c)}setPrependedPrimaryActions(e){en(this.prependedPrimaryActions,e,(t,i)=>t===i)||(this.prependedPrimaryActions=e,this.updateToolbar())}setAdditionalSecondaryActions(e){en(this.additionalActions,e,(t,i)=>t===i)||(this.additionalActions=e,this.updateToolbar())}};KF=_W([tc(3,$a),tc(4,Xe),tc(5,Ps),tc(6,di),tc(7,fr)],KF);var i4e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Ak=function(n,e){return function(t,i){e(t,i,n)}},qF;const n4e=!1;let ds=qF=class extends z{constructor(e,t,i,o,r){super(),this._editor=e,this._instantiationService=t,this._openerService=i,this._languageService=o,this._keybindingService=r,this._listenersStore=new oe,this._hoverState={mouseDown:!1,contentHoverFocused:!1,activatedByDecoratorClick:!1},this._reactToEditorMouseMoveRunner=this._register(new mi(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}static get(e){return e.getContribution(qF.ID)}_hookListeners(){const e=this._editor.getOption(60);this._hoverSettings={enabled:e.enabled,sticky:e.sticky,hidingDelay:e.delay},e.enabled?(this._listenersStore.add(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(t=>this._onEditorMouseMove(t))),this._listenersStore.add(this._editor.onKeyDown(t=>this._onKeyDown(t)))):(this._listenersStore.add(this._editor.onMouseMove(t=>this._onEditorMouseMove(t))),this._listenersStore.add(this._editor.onKeyDown(t=>this._onKeyDown(t)))),this._listenersStore.add(this._editor.onMouseLeave(t=>this._onEditorMouseLeave(t))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(t=>this._onEditorScrollChanged(t)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){var t;this._hoverState.mouseDown=!0;const i=e.target;if(i.type===9&&i.detail===$g.ID){this._hoverState.contentHoverFocused=!0;return}i.type===12&&i.detail===o_.ID||(i.type!==12&&(this._hoverState.contentHoverFocused=!1),!(!((t=this._contentWidget)===null||t===void 0)&&t.widget.isResizing)&&this._hideWidgets())}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(e){var t,i;this._cancelScheduler();const o=e.event.browserEvent.relatedTarget;!((t=this._contentWidget)===null||t===void 0)&&t.widget.isResizing||!((i=this._contentWidget)===null||i===void 0)&&i.containsNode(o)||this._hideWidgets()}_isMouseOverWidget(e){var t,i,o,r,s;const a=e.target,l=this._hoverSettings.sticky;return!!(l&&a.type===9&&a.detail===$g.ID||l&&(!((t=this._contentWidget)===null||t===void 0)&&t.containsNode((i=e.event.browserEvent.view)===null||i===void 0?void 0:i.document.activeElement))&&!(!((r=(o=e.event.browserEvent.view)===null||o===void 0?void 0:o.getSelection())===null||r===void 0)&&r.isCollapsed)||!l&&a.type===9&&a.detail===$g.ID&&(!((s=this._contentWidget)===null||s===void 0)&&s.isColorPickerVisible)||l&&a.type===12&&a.detail===o_.ID)}_onEditorMouseMove(e){var t,i,o,r;if(this._mouseMoveEvent=e,!((t=this._contentWidget)===null||t===void 0)&&t.isFocused||!((i=this._contentWidget)===null||i===void 0)&&i.isResizing||this._hoverState.mouseDown&&this._hoverState.contentHoverFocused)return;const s=this._hoverSettings.sticky;if(s&&(!((o=this._contentWidget)===null||o===void 0)&&o.isVisibleFromKeyboard))return;if(this._isMouseOverWidget(e)){this._reactToEditorMouseMoveRunner.cancel();return}const l=this._hoverSettings.hidingDelay;if(!((r=this._contentWidget)===null||r===void 0)&&r.isVisible&&s&&l>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(l);return}this._reactToEditorMouseMove(e)}_reactToEditorMouseMove(e){var t,i,o,r;if(!e)return;const s=e.target,a=(t=s.element)===null||t===void 0?void 0:t.classList.contains("colorpicker-color-decoration"),l=this._editor.getOption(147),c=this._hoverSettings.enabled,d=this._hoverState.activatedByDecoratorClick;if(a&&(l==="click"&&!d||l==="hover"&&!c&&!n4e||l==="clickAndHover"&&!c&&!d)||!a&&!c&&!d){this._hideWidgets();return}if(this._getOrCreateContentWidget().showsOrWillShow(e)){(i=this._glyphWidget)===null||i===void 0||i.hide();return}if(s.type===2&&s.position&&s.detail.glyphMarginLane){(o=this._contentWidget)===null||o===void 0||o.hide(),this._getOrCreateGlyphWidget().startShowingAt(s.position.lineNumber,s.detail.glyphMarginLane);return}if(s.type===3&&s.position){(r=this._contentWidget)===null||r===void 0||r.hide(),this._getOrCreateGlyphWidget().startShowingAt(s.position.lineNumber,"lineNo");return}this._hideWidgets()}_onKeyDown(e){var t;if(!this._editor.hasModel())return;const i=this._keybindingService.softDispatch(e,this._editor.getDomNode()),o=i.kind===1||i.kind===2&&i.commandId==="editor.action.showHover"&&((t=this._contentWidget)===null||t===void 0?void 0:t.isVisible);e.keyCode===5||e.keyCode===6||e.keyCode===57||e.keyCode===4||o||this._hideWidgets()}_hideWidgets(){var e,t,i;this._hoverState.mouseDown&&this._hoverState.contentHoverFocused&&(!((e=this._contentWidget)===null||e===void 0)&&e.isColorPickerVisible)||yf.dropDownVisible||(this._hoverState.activatedByDecoratorClick=!1,this._hoverState.contentHoverFocused=!1,(t=this._glyphWidget)===null||t===void 0||t.hide(),(i=this._contentWidget)===null||i===void 0||i.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(SE,this._editor)),this._contentWidget}_getOrCreateGlyphWidget(){return this._glyphWidget||(this._glyphWidget=new o_(this._editor,this._languageService,this._openerService)),this._glyphWidget}showContentHover(e,t,i,o,r=!1){this._hoverState.activatedByDecoratorClick=r,this._getOrCreateContentWidget().startShowingAtRange(e,t,i,o)}focus(){var e;(e=this._contentWidget)===null||e===void 0||e.focus()}scrollUp(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollUp()}scrollDown(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollDown()}scrollLeft(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollLeft()}scrollRight(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollRight()}pageUp(){var e;(e=this._contentWidget)===null||e===void 0||e.pageUp()}pageDown(){var e;(e=this._contentWidget)===null||e===void 0||e.pageDown()}goToTop(){var e;(e=this._contentWidget)===null||e===void 0||e.goToTop()}goToBottom(){var e;(e=this._contentWidget)===null||e===void 0||e.goToBottom()}get isColorPickerVisible(){var e;return(e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible}get isHoverVisible(){var e;return(e=this._contentWidget)===null||e===void 0?void 0:e.isVisible}dispose(){var e,t;super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),(e=this._glyphWidget)===null||e===void 0||e.dispose(),(t=this._contentWidget)===null||t===void 0||t.dispose()}};ds.ID="editor.contrib.hover";ds=qF=i4e([Ak(1,Ge),Ak(2,gs),Ak(3,Bi),Ak(4,di)],ds);var Fl;(function(n){n.NoAutoFocus="noAutoFocus",n.FocusIfVisible="focusIfVisible",n.AutoFocusImmediately="autoFocusImmediately"})(Fl||(Fl={}));class o4e extends Le{constructor(){super({id:"editor.action.showHover",label:m({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse."]},"Show or Focus Hover"),metadata:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[Fl.NoAutoFocus,Fl.FocusIfVisible,Fl.AutoFocusImmediately],enumDescriptions:[m("showOrFocusHover.focus.noAutoFocus","The hover will not automatically take focus."),m("showOrFocusHover.focus.focusIfVisible","The hover will take focus only if it is already visible."),m("showOrFocusHover.focus.autoFocusImmediately","The hover will automatically take focus when it appears.")],default:Fl.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2087),weight:100}})}run(e,t,i){if(!t.hasModel())return;const o=ds.get(t);if(!o)return;const r=i==null?void 0:i.focus;let s=Fl.FocusIfVisible;Object.values(Fl).includes(r)?s=r:typeof r=="boolean"&&r&&(s=Fl.AutoFocusImmediately);const a=c=>{const d=t.getPosition(),u=new D(d.lineNumber,d.column,d.lineNumber,d.column);o.showContentHover(u,1,1,c)},l=t.getOption(2)===2;o.isHoverVisible?s!==Fl.NoAutoFocus?o.focus():a(l):a(l||s===Fl.AutoFocusImmediately)}}class r4e extends Le{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:m({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){const i=ds.get(t);if(!i)return;const o=t.getPosition();if(!o)return;const r=new D(o.lineNumber,o.column,o.lineNumber,o.column),s=Nm.get(t);if(!s)return;s.startFindDefinitionFromCursor(o).then(()=>{i.showContentHover(r,1,1,!0)})}}class s4e extends Le{constructor(){super({id:"editor.action.scrollUpHover",label:m({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:I.hoverFocused,kbOpts:{kbExpr:I.hoverFocused,primary:16,weight:100}})}run(e,t){const i=ds.get(t);i&&i.scrollUp()}}class a4e extends Le{constructor(){super({id:"editor.action.scrollDownHover",label:m({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:I.hoverFocused,kbOpts:{kbExpr:I.hoverFocused,primary:18,weight:100}})}run(e,t){const i=ds.get(t);i&&i.scrollDown()}}class l4e extends Le{constructor(){super({id:"editor.action.scrollLeftHover",label:m({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:I.hoverFocused,kbOpts:{kbExpr:I.hoverFocused,primary:15,weight:100}})}run(e,t){const i=ds.get(t);i&&i.scrollLeft()}}class c4e extends Le{constructor(){super({id:"editor.action.scrollRightHover",label:m({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:I.hoverFocused,kbOpts:{kbExpr:I.hoverFocused,primary:17,weight:100}})}run(e,t){const i=ds.get(t);i&&i.scrollRight()}}class d4e extends Le{constructor(){super({id:"editor.action.pageUpHover",label:m({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:I.hoverFocused,kbOpts:{kbExpr:I.hoverFocused,primary:11,secondary:[528],weight:100}})}run(e,t){const i=ds.get(t);i&&i.pageUp()}}class u4e extends Le{constructor(){super({id:"editor.action.pageDownHover",label:m({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:I.hoverFocused,kbOpts:{kbExpr:I.hoverFocused,primary:12,secondary:[530],weight:100}})}run(e,t){const i=ds.get(t);i&&i.pageDown()}}class h4e extends Le{constructor(){super({id:"editor.action.goToTopHover",label:m({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:I.hoverFocused,kbOpts:{kbExpr:I.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(e,t){const i=ds.get(t);i&&i.goToTop()}}class g4e extends Le{constructor(){super({id:"editor.action.goToBottomHover",label:m({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:I.hoverFocused,kbOpts:{kbExpr:I.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(e,t){const i=ds.get(t);i&&i.goToBottom()}}Gt(ds.ID,ds,2);de(o4e);de(r4e);de(s4e);de(a4e);de(l4e);de(c4e);de(d4e);de(u4e);de(h4e);de(g4e);zf.register(LE);zf.register($F);ja((n,e)=>{const t=n.getColor(JJ);t&&(e.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${t.transparent(.5)}; }`))});class GF extends z{constructor(e){super(),this._editor=e,this._register(e.onMouseDown(t=>this.onMouseDown(t)))}dispose(){super.dispose()}onMouseDown(e){const t=this._editor.getOption(147);if(t!=="click"&&t!=="clickAndHover")return;const i=e.target;if(i.type!==6||!i.detail.injectedText||i.detail.injectedText.options.attachedData!==Jne||!i.range)return;const o=this._editor.getContribution(ds.ID);if(o&&!o.isColorPickerVisible){const r=new D(i.range.startLineNumber,i.range.startColumn+1,i.range.endLineNumber,i.range.endColumn+1);o.showContentHover(r,1,0,!1,!0)}}}GF.ID="editor.contrib.colorContribution";Gt(GF.ID,GF,2);zf.register(yE);var Eoe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Yl=function(n,e){return function(t,i){e(t,i,n)}},ZF,YF;let wf=ZF=class extends z{constructor(e,t,i,o,r,s,a){super(),this._editor=e,this._modelService=i,this._keybindingService=o,this._instantiationService=r,this._languageFeatureService=s,this._languageConfigurationService=a,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=I.standaloneColorPickerVisible.bindTo(t),this._standaloneColorPickerFocused=I.standaloneColorPickerFocused.bindTo(t)}showOrFocus(){var e;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(e=this._standaloneColorPickerWidget)===null||e===void 0||e.focus():this._standaloneColorPickerWidget=new EE(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var e;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(e=this._standaloneColorPickerWidget)===null||e===void 0||e.hide(),this._editor.focus()}insertColor(){var e;(e=this._standaloneColorPickerWidget)===null||e===void 0||e.updateEditor(),this.hide()}static get(e){return e.getContribution(ZF.ID)}};wf.ID="editor.contrib.standaloneColorPickerController";wf=ZF=Eoe([Yl(1,Xe),Yl(2,Yi),Yl(3,di),Yl(4,Ge),Yl(5,Re),Yl(6,Di)],wf);Gt(wf.ID,wf,1);const cq=8,f4e=22;let EE=YF=class extends z{constructor(e,t,i,o,r,s,a,l){var c;super(),this._editor=e,this._standaloneColorPickerVisible=t,this._standaloneColorPickerFocused=i,this._modelService=r,this._keybindingService=s,this._languageFeaturesService=a,this._languageConfigurationService=l,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new B),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=o.createInstance(Pw,this._editor),this._position=(c=this._editor._getViewModel())===null||c===void 0?void 0:c.getPrimaryCursorState().modelState.position;const d=this._editor.getSelection(),u=d?{startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:d.endLineNumber,endColumn:d.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},h=this._register(Cc(this._body));this._register(h.onDidBlur(g=>{this.hide()})),this._register(h.onDidFocus(g=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(g=>{var f;const p=(f=g.target.element)===null||f===void 0?void 0:f.classList;p&&p.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(g=>{this._render(g.value,g.foundInEditor)})),this._start(u),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return YF.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const e=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:e?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}async _start(e){const t=await this._computeAsync(e);t&&this._onResult.fire(new p4e(t.result,t.foundInEditor))}async _computeAsync(e){if(!this._editor.hasModel())return null;const t={range:e,color:{red:0,green:0,blue:0,alpha:1}},i=await this._standaloneColorPickerParticipant.createColorHover(t,new gW(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return i?{result:i.colorHover,foundInEditor:i.foundInEditor}:null}_render(e,t){const i=document.createDocumentFragment(),o=this._register(new xE(this._keybindingService));let r;const s={fragment:i,statusBar:o,setColorPicker:p=>r=p,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=e,this._register(this._standaloneColorPickerParticipant.renderHoverParts(s,[e])),r===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(i),r.layout();const a=r.body,l=a.saturationBox.domNode.clientWidth,c=a.domNode.clientWidth-l-f4e-cq,d=r.body.enterButton;d==null||d.onClicked(()=>{this.updateEditor(),this.hide()});const u=r.header,h=u.pickedColorNode;h.style.width=l+cq+"px";const g=u.originalColorNode;g.style.width=c+"px";const f=r.header.closeButton;f==null||f.onClicked(()=>{this.hide()}),t&&(d&&(d.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(e.range)),this._editor.layoutContentWidget(this)}};EE.ID="editor.contrib.standaloneColorPickerWidget";EE=YF=Eoe([Yl(3,Ge),Yl(4,Yi),Yl(5,di),Yl(6,Re),Yl(7,Di)],EE);class p4e{constructor(e,t){this.value=e,this.foundInEditor=t}}class m4e extends Nc{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{...Ut("showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker"),mnemonicTitle:m({key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker")},precondition:void 0,menu:[{id:T.CommandPalette}]})}runEditorCommand(e,t){var i;(i=wf.get(t))===null||i===void 0||i.showOrFocus()}}class v4e extends Le{constructor(){super({id:"editor.action.hideColorPicker",label:m({key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:I.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(e,t){var i;(i=wf.get(t))===null||i===void 0||i.hide()}}class b4e extends Le{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:m({key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:I.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(e,t){var i;(i=wf.get(t))===null||i===void 0||i.insertColor()}}de(v4e);de(b4e);Li(m4e);class Cg{constructor(e,t,i){this.languageConfigurationService=i,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;const o=t.length,r=e.length;if(i+o>r)return!1;for(let s=0;s<o;s++){const a=e.charCodeAt(i+s),l=t.charCodeAt(s);if(a!==l&&!(a>=65&&a<=90&&a+32===l)&&!(l>=65&&l<=90&&l+32===a))return!1}return!0}_createOperationsForBlockComment(e,t,i,o,r,s){const a=e.startLineNumber,l=e.startColumn,c=e.endLineNumber,d=e.endColumn,u=r.getLineContent(a),h=r.getLineContent(c);let g=u.lastIndexOf(t,l-1+t.length),f=h.indexOf(i,d-1-i.length);if(g!==-1&&f!==-1)if(a===c)u.substring(g+t.length,f).indexOf(i)>=0&&(g=-1,f=-1);else{const b=u.substring(g+t.length),v=h.substring(0,f);(b.indexOf(i)>=0||v.indexOf(i)>=0)&&(g=-1,f=-1)}let p;g!==-1&&f!==-1?(o&&g+t.length<u.length&&u.charCodeAt(g+t.length)===32&&(t=t+" "),o&&f>0&&h.charCodeAt(f-1)===32&&(i=" "+i,f-=1),p=Cg._createRemoveBlockCommentOperations(new D(a,g+t.length+1,c,f+1),t,i)):(p=Cg._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=p.length===1?i:null);for(const b of p)s.addTrackedEditOperation(b.range,b.text)}static _createRemoveBlockCommentOperations(e,t,i){const o=[];return D.isEmpty(e)?o.push(zi.delete(new D(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(o.push(zi.delete(new D(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),o.push(zi.delete(new D(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),o}static _createAddBlockCommentOperations(e,t,i,o){const r=[];return D.isEmpty(e)?r.push(zi.replace(new D(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(r.push(zi.insert(new W(e.startLineNumber,e.startColumn),t+(o?" ":""))),r.push(zi.insert(new W(e.endLineNumber,e.endColumn),(o?" ":"")+i))),r}getEditOperations(e,t){const i=this._selection.startLineNumber,o=this._selection.startColumn;e.tokenization.tokenizeIfCheap(i);const r=e.getLanguageIdAtPosition(i,o),s=this.languageConfigurationService.getLanguageConfiguration(r).comments;!s||!s.blockCommentStartToken||!s.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,s.blockCommentStartToken,s.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const i=t.getInverseEditOperations();if(i.length===2){const o=i[0],r=i[1];return new Pe(o.range.endLineNumber,o.range.endColumn,r.range.startLineNumber,r.range.startColumn)}else{const o=i[0].range,r=this._usedEndToken?-this._usedEndToken.length-1:0;return new Pe(o.endLineNumber,o.endColumn+r,o.endLineNumber,o.endColumn+r)}}}class uu{constructor(e,t,i,o,r,s,a){this.languageConfigurationService=e,this._selection=t,this._tabSize=i,this._type=o,this._insertSpace=r,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=s,this._ignoreFirstLine=a||!1}static _gatherPreflightCommentStrings(e,t,i,o){e.tokenization.tokenizeIfCheap(t);const r=e.getLanguageIdAtPosition(t,1),s=o.getLanguageConfiguration(r).comments,a=s?s.lineCommentToken:null;if(!a)return null;const l=[];for(let c=0,d=i-t+1;c<d;c++)l[c]={ignore:!1,commentStr:a,commentStrOffset:0,commentStrLength:a.length};return l}static _analyzeLines(e,t,i,o,r,s,a,l){let c=!0,d;e===0?d=!0:e===1?d=!1:d=!0;for(let u=0,h=o.length;u<h;u++){const g=o[u],f=r+u;if(f===r&&a){g.ignore=!0;continue}const p=i.getLineContent(f),b=hr(p);if(b===-1){g.ignore=s,g.commentStrOffset=p.length;continue}if(c=!1,g.ignore=!1,g.commentStrOffset=b,d&&!Cg._haystackHasNeedleAtOffset(p,g.commentStr,b)&&(e===0?d=!1:e===1||(g.ignore=!0)),d&&t){const v=b+g.commentStrLength;v<p.length&&p.charCodeAt(v)===32&&(g.commentStrLength+=1)}}if(e===0&&c){d=!1;for(let u=0,h=o.length;u<h;u++)o[u].ignore=!1}return{supported:!0,shouldRemoveComments:d,lines:o}}static _gatherPreflightData(e,t,i,o,r,s,a,l){const c=uu._gatherPreflightCommentStrings(i,o,r,l);return c===null?{supported:!1}:uu._analyzeLines(e,t,i,c,o,s,a,l)}_executeLineComments(e,t,i,o){let r;i.shouldRemoveComments?r=uu._createRemoveLineCommentsOperations(i.lines,o.startLineNumber):(uu._normalizeInsertionPoint(e,i.lines,o.startLineNumber,this._tabSize),r=this._createAddLineCommentsOperations(i.lines,o.startLineNumber));const s=new W(o.positionLineNumber,o.positionColumn);for(let a=0,l=r.length;a<l;a++)t.addEditOperation(r[a].range,r[a].text),D.isEmpty(r[a].range)&&D.getStartPosition(r[a].range).equals(s)&&e.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(r[a].text||"").length);this._selectionId=t.trackSelection(o)}_attemptRemoveBlockComment(e,t,i,o){let r=t.startLineNumber,s=t.endLineNumber;const a=o.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn);let l=e.getLineContent(r).lastIndexOf(i,a-1),c=e.getLineContent(s).indexOf(o,t.endColumn-1-i.length);return l!==-1&&c===-1&&(c=e.getLineContent(r).indexOf(o,l+i.length),s=r),l===-1&&c!==-1&&(l=e.getLineContent(s).lastIndexOf(i,c),r=s),t.isEmpty()&&(l===-1||c===-1)&&(l=e.getLineContent(r).indexOf(i),l!==-1&&(c=e.getLineContent(r).indexOf(o,l+i.length))),l!==-1&&e.getLineContent(r).charCodeAt(l+i.length)===32&&(i+=" "),c!==-1&&e.getLineContent(s).charCodeAt(c-1)===32&&(o=" "+o,c-=1),l!==-1&&c!==-1?Cg._createRemoveBlockCommentOperations(new D(r,l+i.length+1,s,c+1),i,o):null}_executeBlockComment(e,t,i){e.tokenization.tokenizeIfCheap(i.startLineNumber);const o=e.getLanguageIdAtPosition(i.startLineNumber,1),r=this.languageConfigurationService.getLanguageConfiguration(o).comments;if(!r||!r.blockCommentStartToken||!r.blockCommentEndToken)return;const s=r.blockCommentStartToken,a=r.blockCommentEndToken;let l=this._attemptRemoveBlockComment(e,i,s,a);if(!l){if(i.isEmpty()){const c=e.getLineContent(i.startLineNumber);let d=hr(c);d===-1&&(d=c.length),l=Cg._createAddBlockCommentOperations(new D(i.startLineNumber,d+1,i.startLineNumber,c.length+1),s,a,this._insertSpace)}else l=Cg._createAddBlockCommentOperations(new D(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),s,a,this._insertSpace);l.length===1&&(this._deltaColumn=s.length+1)}this._selectionId=t.trackSelection(i);for(const c of l)t.addEditOperation(c.range,c.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new D(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":`
`),this._selectionId=t.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const o=uu._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return o.supported?this._executeLineComments(e,t,o,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new Pe(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){const i=[];for(let o=0,r=e.length;o<r;o++){const s=e[o];s.ignore||i.push(zi.delete(new D(t+o,s.commentStrOffset+1,t+o,s.commentStrOffset+s.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){const i=[],o=this._insertSpace?" ":"";for(let r=0,s=e.length;r<s;r++){const a=e[r];a.ignore||i.push(zi.insert(new W(t+r,a.commentStrOffset+1),a.commentStr+o))}return i}static nextVisibleColumn(e,t,i,o){return i?e+(t-e%t):e+o}static _normalizeInsertionPoint(e,t,i,o){let r=1073741824,s,a;for(let l=0,c=t.length;l<c;l++){if(t[l].ignore)continue;const d=e.getLineContent(i+l);let u=0;for(let h=0,g=t[l].commentStrOffset;u<r&&h<g;h++)u=uu.nextVisibleColumn(u,o,d.charCodeAt(h)===9,1);u<r&&(r=u)}r=Math.floor(r/o)*o;for(let l=0,c=t.length;l<c;l++){if(t[l].ignore)continue;const d=e.getLineContent(i+l);let u=0;for(s=0,a=t[l].commentStrOffset;u<r&&s<a;s++)u=uu.nextVisibleColumn(u,o,d.charCodeAt(s)===9,1);u>r?t[l].commentStrOffset=s-1:t[l].commentStrOffset=s}}}class CW extends Le{constructor(e,t){super(t),this._type=e}run(e,t){const i=e.get(Di);if(!t.hasModel())return;const o=t.getModel(),r=[],s=o.getOptions(),a=t.getOption(23),l=t.getSelections().map((d,u)=>({selection:d,index:u,ignoreFirstLine:!1}));l.sort((d,u)=>D.compareRangesUsingStarts(d.selection,u.selection));let c=l[0];for(let d=1;d<l.length;d++){const u=l[d];c.selection.endLineNumber===u.selection.startLineNumber&&(c.index<u.index?u.ignoreFirstLine=!0:(c.ignoreFirstLine=!0,c=u))}for(const d of l)r.push(new uu(i,d.selection,s.tabSize,this._type,a.insertSpace,a.ignoreEmptyLines,d.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class _4e extends CW{constructor(){super(0,{id:"editor.action.commentLine",label:m("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:T.MenubarEditMenu,group:"5_insert",title:m({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class C4e extends CW{constructor(){super(1,{id:"editor.action.addCommentLine",label:m("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2081),weight:100}})}}class y4e extends CW{constructor(){super(2,{id:"editor.action.removeCommentLine",label:m("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2099),weight:100}})}}class w4e extends Le{constructor(){super({id:"editor.action.blockComment",label:m("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:T.MenubarEditMenu,group:"5_insert",title:m({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){const i=e.get(Di);if(!t.hasModel())return;const o=t.getOption(23),r=[],s=t.getSelections();for(const a of s)r.push(new Cg(a,o.insertSpace,i));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}de(_4e);de(C4e);de(y4e);de(w4e);var S4e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},np=function(n,e){return function(t,i){e(t,i,n)}},XF;let i0=XF=class{static get(e){return e.getContribution(XF.ID)}constructor(e,t,i,o,r,s,a,l){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=o,this._keybindingService=r,this._menuService=s,this._configurationService=a,this._workspaceContextService=l,this._toDispose=new oe,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(c=>this._onContextMenu(c))),this._toDispose.add(this._editor.onMouseWheel(c=>{if(this._contextMenuIsBeingShownCount>0){const d=this._contextViewService.getContextViewElement(),u=c.srcElement;u.shadowRoot&&pm(d)===u.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(c=>{this._editor.getOption(24)&&c.keyCode===58&&(c.preventDefault(),c.stopPropagation(),this.showContextMenu())}))}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type===12||e.target.type===6&&e.target.detail.injectedText)return;if(e.event.preventDefault(),e.event.stopPropagation(),e.target.type===11)return this._showScrollbarContextMenu(e.event);if(e.target.type!==6&&e.target.type!==7&&e.target.type!==1)return;if(this._editor.focus(),e.target.position){let i=!1;for(const o of this._editor.getSelections())if(o.containsPosition(e.target.position)){i=!0;break}i||this._editor.setPosition(e.target.position)}let t=null;e.target.type!==1&&(t=e.event),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?T.SimpleEditorContext:T.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const i=[],o=this._menuService.createMenu(t,this._contextKeyService),r=o.getActions({arg:e.uri});o.dispose();for(const s of r){const[,a]=s;let l=0;for(const c of a)if(c instanceof Py){const d=this._getMenuActions(e,c.item.submenu);d.length>0&&(i.push(new k_(c.id,c.label,d)),l++)}else i.push(c),l++;l&&i.push(new Kn)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const i=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let o=t;if(!o){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const s=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),a=In(this._editor.getDomNode()),l=a.left+s.left,c=a.top+s.top+s.height;o={x:l,y:c}}const r=this._editor.getOption(127)&&!bc;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:r?this._editor.getDomNode():void 0,getAnchor:()=>o,getActions:()=>e,getActionViewItem:s=>{const a=this._keybindingFor(s);if(a)return new j_(s,s,{label:!0,keybinding:a.getLabel(),isMenu:!0});const l=s;return typeof l.getActionViewItem=="function"?l.getActionViewItem():new j_(s,s,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:s=>this._keybindingFor(s),onHide:s=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:i})}})}_showScrollbarContextMenu(e){if(!this._editor.hasModel()||z2e(this._workspaceContextService.getWorkspace()))return;const t=this._editor.getOption(73);let i=0;const o=c=>({id:`menu-action-${++i}`,label:c.label,tooltip:"",class:void 0,enabled:typeof c.enabled>"u"?!0:c.enabled,checked:c.checked,run:c.run}),r=(c,d)=>new k_(`menu-action-${++i}`,c,d,void 0),s=(c,d,u,h,g)=>{if(!d)return o({label:c,enabled:d,run:()=>{}});const f=b=>()=>{this._configurationService.updateValue(u,b)},p=[];for(const b of g)p.push(o({label:b.label,checked:h===b.value,run:f(b.value)}));return r(c,p)},a=[];a.push(o({label:m("context.minimap.minimap","Minimap"),checked:t.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!t.enabled)}})),a.push(new Kn),a.push(o({label:m("context.minimap.renderCharacters","Render Characters"),enabled:t.enabled,checked:t.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!t.renderCharacters)}})),a.push(s(m("context.minimap.size","Vertical size"),t.enabled,"editor.minimap.size",t.size,[{label:m("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:m("context.minimap.size.fill","Fill"),value:"fill"},{label:m("context.minimap.size.fit","Fit"),value:"fit"}])),a.push(s(m("context.minimap.slider","Slider"),t.enabled,"editor.minimap.showSlider",t.showSlider,[{label:m("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:m("context.minimap.slider.always","Always"),value:"always"}]));const l=this._editor.getOption(127)&&!bc;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>e,getActions:()=>a,onHide:c=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};i0.ID="editor.contrib.contextmenu";i0=XF=S4e([np(1,Ps),np(2,Yd),np(3,Xe),np(4,di),np(5,$a),np(6,yt),np(7,Cm)],i0);class x4e extends Le{constructor(){super({id:"editor.action.showContextMenu",label:m("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:I.textInputFocus,primary:1092,weight:100}})}run(e,t){var i;(i=i0.get(t))===null||i===void 0||i.showContextMenu()}}Gt(i0.ID,i0,2);de(x4e);class xA{constructor(e){this.selections=e}equals(e){const t=this.selections.length,i=e.selections.length;if(t!==i)return!1;for(let o=0;o<t;o++)if(!this.selections[o].equalsSelection(e.selections[o]))return!1;return!0}}class kA{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}}class Rm extends z{static get(e){return e.getContribution(Rm.ID)}constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const i=new xA(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new kA(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new kA(new xA(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new kA(new xA(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}Rm.ID="editor.contrib.cursorUndoRedoController";class k4e extends Le{constructor(){super({id:"cursorUndo",label:m("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:I.textInputFocus,primary:2099,weight:100}})}run(e,t,i){var o;(o=Rm.get(t))===null||o===void 0||o.cursorUndo()}}class L4e extends Le{constructor(){super({id:"cursorRedo",label:m("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){var o;(o=Rm.get(t))===null||o===void 0||o.cursorRedo()}}Gt(Rm.ID,Rm,0);de(k4e);de(L4e);class D4e{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){const i=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new D(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new Pe(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new Pe(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new Pe(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new Pe(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new Pe(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(e,t){return this.targetSelection}}function xv(n){return Rt?n.altKey:n.ctrlKey}class Xu extends z{constructor(e){super(),this._editor=e,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!this._editor.getOption(35)||this._editor.getOption(22)||(xv(e)&&(this._modifierPressed=!0),this._mouseDown&&xv(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!this._editor.getOption(35)||this._editor.getOption(22)||(xv(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===Xu.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){const t=e.target;if(this._dragSelection===null){const o=(this._editor.getSelections()||[]).filter(r=>t.position&&r.containsPosition(t.position));if(o.length===1)this._dragSelection=o[0];else return}xv(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){const t=new W(e.target.position.lineNumber,e.target.position.column);if(this._dragSelection===null){let i=null;if(e.event.shiftKey){const o=this._editor.getSelection();if(o){const{selectionStartLineNumber:r,selectionStartColumn:s}=o;i=[new Pe(r,s,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map(o=>o.containsPosition(t)?new Pe(t.lineNumber,t.column,t.lineNumber,t.column):o);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(xv(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(Xu.ID,new D4e(this._dragSelection,t,xv(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){this._dndDecorationIds.set([{range:new D(e.lineNumber,e.column,e.lineNumber,e.column),options:Xu._DECORATION_OPTIONS}]),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(e){return e.type===6||e.type===7}_hitMargin(e){return e.type===2||e.type===3||e.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}Xu.ID="editor.contrib.dragAndDrop";Xu.TRIGGER_KEY_VALUE=Rt?6:5;Xu._DECORATION_OPTIONS=dt.register({description:"dnd-target",className:"dnd-target"});Gt(Xu.ID,Xu,2);var yW=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Ww=function(n,e){return function(t,i){e(t,i,n)}};const CN=m("builtIn","Built-in");class wW{async provideDocumentPasteEdits(e,t,i,o,r){const s=await this.getEdit(i,r);return s?{insertText:s.insertText,label:s.label,detail:s.detail,handledMimeType:s.handledMimeType,yieldTo:s.yieldTo}:void 0}async provideDocumentOnDropEdits(e,t,i,o){const r=await this.getEdit(i,o);return r?{insertText:r.insertText,label:r.label,handledMimeType:r.handledMimeType,yieldTo:r.yieldTo}:void 0}}class Toe extends wW{constructor(){super(...arguments),this.id="text",this.dropMimeTypes=[un.text],this.pasteMimeTypes=[un.text]}async getEdit(e,t){const i=e.get(un.text);if(!i||e.has(un.uriList))return;const o=await i.asString();return{handledMimeType:un.text,label:m("text.label","Insert Plain Text"),detail:CN,insertText:o}}}class Ioe extends wW{constructor(){super(...arguments),this.id="uri",this.dropMimeTypes=[un.uriList],this.pasteMimeTypes=[un.uriList]}async getEdit(e,t){const i=await Noe(e);if(!i.length||t.isCancellationRequested)return;let o=0;const r=i.map(({uri:a,originalText:l})=>a.scheme===ft.file?a.fsPath:(o++,l)).join(" ");let s;return o>0?s=i.length>1?m("defaultDropProvider.uriList.uris","Insert Uris"):m("defaultDropProvider.uriList.uri","Insert Uri"):s=i.length>1?m("defaultDropProvider.uriList.paths","Insert Paths"):m("defaultDropProvider.uriList.path","Insert Path"),{handledMimeType:un.uriList,insertText:r,label:s,detail:CN}}}let TE=class extends wW{constructor(e){super(),this._workspaceContextService=e,this.id="relativePath",this.dropMimeTypes=[un.uriList],this.pasteMimeTypes=[un.uriList]}async getEdit(e,t){const i=await Noe(e);if(!i.length||t.isCancellationRequested)return;const o=vc(i.map(({uri:r})=>{const s=this._workspaceContextService.getWorkspaceFolder(r);return s?Mxe(s.uri,r):void 0}));if(o.length)return{handledMimeType:un.uriList,insertText:o.join(" "),label:i.length>1?m("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):m("defaultDropProvider.uriList.relativePath","Insert Relative Path"),detail:CN}}};TE=yW([Ww(0,Cm)],TE);class E4e{constructor(){this.id="html",this.pasteMimeTypes=["text/html"],this._yieldTo=[{mimeType:un.text}]}async provideDocumentPasteEdits(e,t,i,o,r){if(o.trigger!=="explicit"&&o.only!==this.id)return;const s=i.get("text/html"),a=await(s==null?void 0:s.asString());if(!(!a||r.isCancellationRequested))return{insertText:a,yieldTo:this._yieldTo,label:m("pasteHtmlLabel","Insert HTML"),detail:CN}}}async function Noe(n){const e=n.get(un.uriList);if(!e)return[];const t=await e.asString(),i=[];for(const o of cN.parse(t))try{i.push({uri:Ke.parse(o),originalText:o})}catch{}return i}let QF=class extends z{constructor(e,t){super(),this._register(e.documentOnDropEditProvider.register("*",new Toe)),this._register(e.documentOnDropEditProvider.register("*",new Ioe)),this._register(e.documentOnDropEditProvider.register("*",new TE(t)))}};QF=yW([Ww(0,Re),Ww(1,Cm)],QF);let JF=class extends z{constructor(e,t){super(),this._register(e.documentPasteEditProvider.register("*",new Toe)),this._register(e.documentPasteEditProvider.register("*",new Ioe)),this._register(e.documentPasteEditProvider.register("*",new TE(t))),this._register(e.documentPasteEditProvider.register("*",new E4e))}};JF=yW([Ww(0,Re),Ww(1,Cm)],JF);Gt(ph.ID,ph,0);jS(JF);ve(new class extends _o{constructor(){super({id:Rne,precondition:Mne,kbOpts:{weight:100,primary:2137}})}runEditorCommand(n,e,t){var i;return(i=ph.get(e))===null||i===void 0?void 0:i.changePasteType()}});de(class extends Le{constructor(){super({id:"editor.action.pasteAs",label:m("pasteAs","Paste As..."),alias:"Paste As...",precondition:I.writable,metadata:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:m("pasteAs.id","The id of the paste edit to try applying. If not provided, the editor will show a picker.")}}}}]}})}run(n,e,t){var i;const o=typeof(t==null?void 0:t.id)=="string"?t.id:void 0;return(i=ph.get(e))===null||i===void 0?void 0:i.pasteAs(o)}});de(class extends Le{constructor(){super({id:"editor.action.pasteAsText",label:m("pasteAsText","Paste as Text"),alias:"Paste as Text",precondition:I.writable})}run(n,e,t){var i;return(i=ph.get(e))===null||i===void 0?void 0:i.pasteAs("text")}});class T4e{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(e){if(e&&this._dragOperations.has(e)){const t=this._dragOperations.get(e);return this._dragOperations.delete(e),t}}}class dq{constructor(e){this.identifier=e}}const Roe=Et("treeViewsDndService");Ot(Roe,T4e,1);var I4e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Pk=function(n,e){return function(t,i){e(t,i,n)}},eB;const Moe="editor.experimental.dropIntoEditor.defaultProvider",Aoe="editor.changeDropType",Poe=new we("dropWidgetVisible",!1,m("dropWidgetVisible","Whether the drop widget is showing"));let n0=eB=class extends z{static get(e){return e.getContribution(eB.ID)}constructor(e,t,i,o,r){super(),this._configService=i,this._languageFeaturesService=o,this._treeViewsDragAndDropService=r,this.treeItemsTransfer=Rw.getInstance(),this._dropProgressManager=this._register(t.createInstance(vE,"dropIntoEditor",e)),this._postDropWidgetManager=this._register(t.createInstance(_E,"dropIntoEditor",e,Poe,{id:Aoe,label:m("postDropWidgetTitle","Show drop options...")})),this._register(e.onDropIntoEditor(s=>this.onDropIntoEditor(e,s.position,s.event)))}changeDropType(){this._postDropWidgetManager.tryShowSelector()}async onDropIntoEditor(e,t,i){var o;if(!i.dataTransfer||!e.hasModel())return;(o=this._currentOperation)===null||o===void 0||o.cancel(),e.focus(),e.setPosition(t);const r=ro(async s=>{const a=new ff(e,1,void 0,s);try{const l=await this.extractDataTransferData(i);if(l.size===0||a.token.isCancellationRequested)return;const c=e.getModel();if(!c)return;const d=this._languageFeaturesService.documentOnDropEditProvider.ordered(c).filter(h=>h.dropMimeTypes?h.dropMimeTypes.some(g=>l.matches(g)):!0),u=await this.getDropEdits(d,c,t,l,a);if(a.token.isCancellationRequested)return;if(u.length){const h=this.getInitialActiveEditIndex(c,u),g=e.getOption(36).showDropSelector==="afterDrop";await this._postDropWidgetManager.applyEditAndShowIfNeeded([D.fromPositions(t)],{activeEditIndex:h,allEdits:u},g,s)}}finally{a.dispose(),this._currentOperation===r&&(this._currentOperation=void 0)}});this._dropProgressManager.showWhile(t,m("dropIntoEditorProgress","Running drop handlers. Click to cancel"),r),this._currentOperation=r}async getDropEdits(e,t,i,o,r){const s=await yS(Promise.all(e.map(async l=>{try{const c=await l.provideDocumentOnDropEdits(t,i,o,r.token);if(c)return{...c,providerId:l.id}}catch(c){console.error(c)}})),r.token),a=vc(s??[]);return Ine(a)}getInitialActiveEditIndex(e,t){const i=this._configService.getValue(Moe,{resource:e.uri});for(const[o,r]of Object.entries(i)){const s=t.findIndex(a=>r===a.providerId&&a.handledMimeType&&xne(o,[a.handledMimeType]));if(s>=0)return s}return 0}async extractDataTransferData(e){if(!e.dataTransfer)return new Sne;const t=Dne(e.dataTransfer);if(this.treeItemsTransfer.hasData(dq.prototype)){const i=this.treeItemsTransfer.getData(dq.prototype);if(Array.isArray(i))for(const o of i){const r=await this._treeViewsDragAndDropService.removeDragOperationTransfer(o.identifier);if(r)for(const[s,a]of r)t.replace(s,a)}}return t}};n0.ID="editor.contrib.dropIntoEditorController";n0=eB=I4e([Pk(1,Ge),Pk(2,yt),Pk(3,Re),Pk(4,Roe)],n0);Gt(n0.ID,n0,2);ve(new class extends _o{constructor(){super({id:Aoe,precondition:Poe,kbOpts:{weight:100,primary:2137}})}runEditorCommand(n,e,t){var i;(i=n0.get(e))===null||i===void 0||i.changeDropType()}});jS(QF);nn.as(Rc.Configuration).registerConfiguration({...EI,properties:{[Moe]:{type:"object",scope:5,description:m("defaultProviderDescription","Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}}}});class sr{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getDecorationRangeAt(e){const t=e<this._decorations.length?this._decorations[e]:null;return t?this._editor.getModel().getDecorationRange(t):null}getCurrentMatchesPosition(e){const t=this._editor.getModel().getDecorationsInRange(e);for(const i of t){const o=i.options;if(o===sr._FIND_MATCH_DECORATION||o===sr._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let o=0,r=this._decorations.length;o<r;o++){const s=this._editor.getModel().getDecorationRange(this._decorations[o]);if(e.equalsRange(s)){t=this._decorations[o],i=o+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(o=>{if(this._highlightedDecorationId!==null&&(o.changeDecorationOptions(this._highlightedDecorationId,sr._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),t!==null&&(this._highlightedDecorationId=t,o.changeDecorationOptions(this._highlightedDecorationId,sr._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(o.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),t!==null){let r=this._editor.getModel().getDecorationRange(t);if(r.startLineNumber!==r.endLineNumber&&r.endColumn===1){const s=r.endLineNumber-1,a=this._editor.getModel().getLineMaxColumn(s);r=new D(r.startLineNumber,r.startColumn,s,a)}this._rangeHighlightDecorationId=o.addDecoration(r,sr._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let o=sr._FIND_MATCH_DECORATION;const r=[];if(e.length>1e3){o=sr._FIND_MATCH_NO_OVERVIEW_DECORATION;const a=this._editor.getModel().getLineCount(),c=this._editor.getLayoutInfo().height/a,d=Math.max(2,Math.ceil(3/c));let u=e[0].range.startLineNumber,h=e[0].range.endLineNumber;for(let g=1,f=e.length;g<f;g++){const p=e[g].range;h+d>=p.startLineNumber?p.endLineNumber>h&&(h=p.endLineNumber):(r.push({range:new D(u,1,h,1),options:sr._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),u=p.startLineNumber,h=p.endLineNumber)}r.push({range:new D(u,1,h,1),options:sr._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const s=new Array(e.length);for(let a=0,l=e.length;a<l;a++)s[a]={range:e[a].range,options:o};this._decorations=i.deltaDecorations(this._decorations,s),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,r),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(a=>i.removeDecoration(a)),this._findScopeDecorationIds=[]),t!=null&&t.length&&(this._findScopeDecorationIds=t.map(a=>i.addDecoration(a,sr._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(this._decorations.length===0)return null;for(let t=this._decorations.length-1;t>=0;t--){const i=this._decorations[t],o=this._editor.getModel().getDecorationRange(i);if(!(!o||o.endLineNumber>e.lineNumber)){if(o.endLineNumber<e.lineNumber)return o;if(!(o.endColumn>e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(this._decorations.length===0)return null;for(let t=0,i=this._decorations.length;t<i;t++){const o=this._decorations[t],r=this._editor.getModel().getDecorationRange(o);if(!(!r||r.startLineNumber<e.lineNumber)){if(r.startLineNumber>e.lineNumber)return r;if(!(r.startColumn<e.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}sr._CURRENT_FIND_MATCH_DECORATION=dt.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:sn(D6),position:la.Center},minimap:{color:sn(pb),position:xs.Inline}});sr._FIND_MATCH_DECORATION=dt.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:sn(D6),position:la.Center},minimap:{color:sn(pb),position:xs.Inline}});sr._FIND_MATCH_NO_OVERVIEW_DECORATION=dt.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0});sr._FIND_MATCH_ONLY_OVERVIEW_DECORATION=dt.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:sn(D6),position:la.Center}});sr._RANGE_HIGHLIGHT_DECORATION=dt.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0});sr._FIND_SCOPE_DECORATION=dt.register({description:"find-scope",className:"findScope",isWholeLine:!0});class N4e{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){const i=[];for(let s=0;s<this._ranges.length;s++)i.push({range:this._ranges[s],text:this._replaceStrings[s]});i.sort((s,a)=>D.compareRangesUsingStarts(s.range,a.range));const o=[];let r=i[0];for(let s=1;s<i.length;s++)r.range.endLineNumber===i[s].range.startLineNumber&&r.range.endColumn===i[s].range.startColumn?(r.range=r.range.plusRange(i[s].range),r.text=r.text+i[s].text):(o.push(r),r=i[s]);o.push(r);for(const s of o)t.addEditOperation(s.range,s.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function Ooe(n,e){if(n&&n[0]!==""){const t=uq(n,e,"-"),i=uq(n,e,"_");return t&&!i?hq(n,e,"-"):!t&&i?hq(n,e,"_"):n[0].toUpperCase()===n[0]?e.toUpperCase():n[0].toLowerCase()===n[0]?e.toLowerCase():nve(n[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):n[0][0].toUpperCase()!==n[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}else return e}function uq(n,e,t){return n[0].indexOf(t)!==-1&&e.indexOf(t)!==-1&&n[0].split(t).length===e.split(t).length}function hq(n,e,t){const i=e.split(t),o=n[0].split(t);let r="";return i.forEach((s,a)=>{r+=Ooe([o[a]],s)+t}),r.slice(0,-1)}class gq{constructor(e){this.staticValue=e,this.kind=0}}class R4e{constructor(e){this.pieces=e,this.kind=1}}class o0{static fromStaticValue(e){return new o0([tm.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(e){!e||e.length===0?this._state=new gq(""):e.length===1&&e[0].staticValue!==null?this._state=new gq(e[0].staticValue):this._state=new R4e(e)}buildReplaceString(e,t){if(this._state.kind===0)return t?Ooe(e,this._state.staticValue):this._state.staticValue;let i="";for(let o=0,r=this._state.pieces.length;o<r;o++){const s=this._state.pieces[o];if(s.staticValue!==null){i+=s.staticValue;continue}let a=o0._substitute(s.matchIndex,e);if(s.caseOps!==null&&s.caseOps.length>0){const l=[],c=s.caseOps.length;let d=0;for(let u=0,h=a.length;u<h;u++){if(d>=c){l.push(a.slice(u));break}switch(s.caseOps[d]){case"U":l.push(a[u].toUpperCase());break;case"u":l.push(a[u].toUpperCase()),d++;break;case"L":l.push(a[u].toLowerCase());break;case"l":l.push(a[u].toLowerCase()),d++;break;default:l.push(a[u])}}a=l.join("")}i+=a}return i}static _substitute(e,t){if(t===null)return"";if(e===0)return t[0];let i="";for(;e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class tm{static staticValue(e){return new tm(e,-1,null)}static caseOps(e,t){return new tm(null,e,t)}constructor(e,t,i){this.staticValue=e,this.matchIndex=t,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}}class M4e{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){e.length!==0&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=tm.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=tm.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=tm.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new o0(this._result)}}function A4e(n){if(!n||n.length===0)return new o0(null);const e=[],t=new M4e(n);for(let i=0,o=n.length;i<o;i++){const r=n.charCodeAt(i);if(r===92){if(i++,i>=o)break;const s=n.charCodeAt(i);switch(s){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic(`
`,i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(i-1),t.emitStatic("",i+1),e.push(String.fromCharCode(s));break}continue}if(r===36){if(i++,i>=o)break;const s=n.charCodeAt(i);if(s===36){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(s===48||s===38){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1,e),e.length=0;continue}if(49<=s&&s<=57){let a=s-48;if(i+1<o){const l=n.charCodeAt(i+1);if(48<=l&&l<=57){i++,a=a*10+(l-48),t.emitUnchanged(i-2),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}t.emitUnchanged(i-1),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}}return t.finalize()}const Lh=new we("findWidgetVisible",!1);Lh.toNegated();const yN=new we("findInputFocussed",!1),SW=new we("replaceInputFocussed",!1),Ok={primary:545,mac:{primary:2593}},Fk={primary:565,mac:{primary:2613}},Bk={primary:560,mac:{primary:2608}},Wk={primary:554,mac:{primary:2602}},Vk={primary:558,mac:{primary:2606}},Ei={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},yg=19999,P4e=240;class qC{constructor(e,t){this._toDispose=new oe,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new Ll,this._decorations=new sr(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new mi(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(i=>{(i.reason===3||i.reason===5||i.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(i=>{this._ignoreModelContentChanged||(i.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(i=>this._onStateChanged(i))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,si(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},P4e)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;typeof t<"u"?t!==null&&(Array.isArray(t)?i=t:i=[t]):i=this._decorations.getFindScopes(),i!==null&&(i=i.map(a=>{if(a.startLineNumber!==a.endLineNumber){let l=a.endLineNumber;return a.endColumn===1&&(l=l-1),new D(a.startLineNumber,1,l,this._editor.getModel().getLineMaxColumn(l))}return a}));const o=this._findMatches(i,!1,yg);this._decorations.set(o,i);const r=this._editor.getSelection();let s=this._decorations.getCurrentMatchesPosition(r);if(s===0&&o.length>0){const a=Wy(o.map(l=>l.range),l=>D.compareRangesUsingStarts(l,r)>=0);s=a>0?a-1+1:s}this._state.changeMatchInfo(s,this._decorations.getCount(),void 0),e&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){const t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:o}=e;const r=this._editor.getModel();return t||o===1?(i===1?i=r.getLineCount():i--,o=r.getLineMaxColumn(i)):o--,new W(i,o)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const d=this._decorations.matchAfterPosition(e);d&&this._setCurrentFindMatch(d);return}if(this._decorations.getCount()<yg){let d=this._decorations.matchBeforePosition(e);d&&d.isEmpty()&&d.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),d=this._decorations.matchBeforePosition(e)),d&&this._setCurrentFindMatch(d);return}if(this._cannotFind())return;const i=this._decorations.getFindScope(),o=qC._getSearchRange(this._editor.getModel(),i);o.getEndPosition().isBefore(e)&&(e=o.getEndPosition()),e.isBefore(o.getStartPosition())&&(e=o.getEndPosition());const{lineNumber:r,column:s}=e,a=this._editor.getModel();let l=new W(r,s),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(130):null,!1);if(c&&c.range.isEmpty()&&c.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(130):null,!1)),!!c){if(!t&&!o.containsRange(c.range))return this._moveToPrevMatch(c.range.getStartPosition(),!0);this._setCurrentFindMatch(c.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:o}=e;const r=this._editor.getModel();return t||o===r.getLineMaxColumn(i)?(i===r.getLineCount()?i=1:i++,o=1):o++,new W(i,o)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const i=this._decorations.matchBeforePosition(e);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<yg){let i=this._decorations.matchAfterPosition(e);i&&i.isEmpty()&&i.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),i=this._decorations.matchAfterPosition(e)),i&&this._setCurrentFindMatch(i);return}const t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,o=!1){if(this._cannotFind())return null;const r=this._decorations.getFindScope(),s=qC._getSearchRange(this._editor.getModel(),r);s.getEndPosition().isBefore(e)&&(e=s.getStartPosition()),e.isBefore(s.getStartPosition())&&(e=s.getStartPosition());const{lineNumber:a,column:l}=e,c=this._editor.getModel();let d=new W(a,l),u=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(130):null,t);return i&&u&&u.range.isEmpty()&&u.range.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),u=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(130):null,t)),u?!o&&!s.containsRange(u.range)?this._getNextMatch(u.range.getEndPosition(),t,i,!0):u:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(e){const t=this._decorations.getDecorationRangeAt(e);t&&this._setCurrentFindMatch(t)}moveToMatch(e){this._moveToMatch(e)}_getReplacePattern(){return this._state.isRegex?A4e(this._state.replaceString):o0.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){const o=e.buildReplaceString(i.matches,this._state.preserveCase),r=new Ao(t,o);this._executeEditorCommand("replace",r),this._decorations.setStartPosition(new W(t.startLineNumber,t.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){const o=(e||[null]).map(r=>qC._getSearchRange(this._editor.getModel(),r));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(130):null,t,i)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=yg?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const t=new cp(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(130):null).parseSearchRequest();if(!t)return;let i=t.regex;if(!i.multiline){let u="mu";i.ignoreCase&&(u+="i"),i.global&&(u+="g"),i=new RegExp(i.source,u)}const o=this._editor.getModel(),r=o.getValue(1),s=o.getFullModelRange(),a=this._getReplacePattern();let l;const c=this._state.preserveCase;a.hasReplacementPatterns||c?l=r.replace(i,function(){return a.buildReplaceString(arguments,c)}):l=r.replace(i,a.buildReplaceString(null,c));const d=new A6(s,l,this._editor.getSelection());this._executeEditorCommand("replaceAll",d)}_regularReplaceAll(e){const t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[];for(let s=0,a=i.length;s<a;s++)o[s]=t.buildReplaceString(i[s].matches,this._state.preserveCase);const r=new N4e(this._editor.getSelection(),i.map(s=>s.range),o);this._executeEditorCommand("replaceAll",r)}selectAllMatches(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();let i=this._findMatches(e,!1,1073741824).map(r=>new Pe(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn));const o=this._editor.getSelection();for(let r=0,s=i.length;r<s;r++)if(i[r].equalsRange(o)){i=[o].concat(i.slice(0,r)).concat(i.slice(r+1));break}this._editor.setSelections(i)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}class wN extends fa{constructor(e,t,i){super(),this._hideSoon=this._register(new mi(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const o={inputActiveOptionBorder:ke(x6),inputActiveOptionForeground:ke(k6),inputActiveOptionBackground:ke(Np)};this.caseSensitive=this._register(new qte({appendTitle:this._keybindingLabelFor(Ei.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,...o})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new Gte({appendTitle:this._keybindingLabelFor(Ei.ToggleWholeWordCommand),isChecked:this._state.wholeWord,...o})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new Zte({appendTitle:this._keybindingLabelFor(Ei.ToggleRegexCommand),isChecked:this._state.isRegex,...o})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(r=>{let s=!1;r.isRegex&&(this.regex.checked=this._state.isRegex,s=!0),r.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,s=!0),r.matchCase&&(this.caseSensitive.checked=this._state.matchCase,s=!0),!this._state.isRevealed&&s&&this._revealTemporarily()})),this._register(j(this._domNode,ge.MOUSE_LEAVE,r=>this._onMouseLeave())),this._register(j(this._domNode,"mouseover",r=>this._onMouseOver()))}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return wN.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}wN.ID="editor.contrib.findOptionsWidget";function Hk(n,e){return n===1?!0:n===2?!1:e}class O4e extends z{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Hk(this._isRegexOverride,this._isRegex)}get wholeWord(){return Hk(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Hk(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Hk(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new B),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(e,t,i){const o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let r=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,o.matchesPosition=!0,r=!0),this._matchesCount!==t&&(this._matchesCount=t,o.matchesCount=!0,r=!0),typeof i<"u"&&(D.equalsRange(this._currentMatch,i)||(this._currentMatch=i,o.currentMatch=!0,r=!0)),r&&this._onFindReplaceStateChange.fire(o)}change(e,t,i=!0){var o;const r={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let s=!1;const a=this.isRegex,l=this.wholeWord,c=this.matchCase,d=this.preserveCase;typeof e.searchString<"u"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,r.searchString=!0,s=!0),typeof e.replaceString<"u"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,r.replaceString=!0,s=!0),typeof e.isRevealed<"u"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,r.isRevealed=!0,s=!0),typeof e.isReplaceRevealed<"u"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,r.isReplaceRevealed=!0,s=!0),typeof e.isRegex<"u"&&(this._isRegex=e.isRegex),typeof e.wholeWord<"u"&&(this._wholeWord=e.wholeWord),typeof e.matchCase<"u"&&(this._matchCase=e.matchCase),typeof e.preserveCase<"u"&&(this._preserveCase=e.preserveCase),typeof e.searchScope<"u"&&(!((o=e.searchScope)===null||o===void 0)&&o.every(u=>{var h;return(h=this._searchScope)===null||h===void 0?void 0:h.some(g=>!D.equalsRange(g,u))})||(this._searchScope=e.searchScope,r.searchScope=!0,s=!0)),typeof e.loop<"u"&&this._loop!==e.loop&&(this._loop=e.loop,r.loop=!0,s=!0),typeof e.isSearching<"u"&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,r.isSearching=!0,s=!0),typeof e.filters<"u"&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,r.filters=!0,s=!0),this._isRegexOverride=typeof e.isRegexOverride<"u"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride<"u"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride<"u"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride<"u"?e.preserveCaseOverride:0,a!==this.isRegex&&(s=!0,r.isRegex=!0),l!==this.wholeWord&&(s=!0,r.wholeWord=!0),c!==this.matchCase&&(s=!0,r.matchCase=!0),d!==this.preserveCase&&(s=!0,r.preserveCase=!0),s&&this._onFindReplaceStateChange.fire(r)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=yg}}const F4e=m("defaultLabel","input"),B4e=m("label.preserveCaseToggle","Preserve Case");class W4e extends L0{constructor(e){super({icon:pe.preserveCase,title:B4e+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class V4e extends fa{constructor(e,t,i,o){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new B),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new B),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new B),this._onInput=this._register(new B),this._onKeyUp=this._register(new B),this._onPreserveCaseKeyDown=this._register(new B),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=o.placeholder||"",this.validation=o.validation,this.label=o.label||F4e;const r=o.appendPreserveCaseLabel||"",s=o.history||[],a=!!o.flexibleHeight,l=!!o.flexibleWidth,c=o.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Yte(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:s,showHistoryHint:o.showHistoryHint,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:c,inputBoxStyles:o.inputBoxStyles})),this.preserveCase=this._register(new W4e({appendTitle:r,isChecked:!1,...o.toggleStyles})),this._register(this.preserveCase.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(h=>{this._onPreserveCaseKeyDown.fire(h)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const d=[this.preserveCase.domNode];this.onkeydown(this.domNode,h=>{if(h.equals(15)||h.equals(17)||h.equals(9)){const g=d.indexOf(this.domNode.ownerDocument.activeElement);if(g>=0){let f=-1;h.equals(17)?f=(g+1)%d.length:h.equals(15)&&(g===0?f=d.length-1:f=g-1),h.equals(9)?(d[g].blur(),this.inputBox.focus()):f>=0&&d[f].focus(),_t.stop(h,!0)}}});const u=document.createElement("div");u.className="controls",u.style.display=this._showOptionButtons?"block":"none",u.appendChild(this.preserveCase.domNode),this.domNode.appendChild(u),e==null||e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,h=>this._onKeyDown.fire(h)),this.onkeyup(this.inputBox.inputElement,h=>this._onKeyUp.fire(h)),this.oninput(this.inputBox.inputElement,h=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,h=>this._onMouseDown.fire(h))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){var e;(e=this.inputBox)===null||e===void 0||e.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var Foe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Boe=function(n,e){return function(t,i){e(t,i,n)}};const xW=new we("suggestWidgetVisible",!1,m("suggestWidgetVisible","Whether suggestion are visible")),kW="historyNavigationWidgetFocus",Woe="historyNavigationForwardsEnabled",Voe="historyNavigationBackwardsEnabled";let Qu;const zk=[];function Hoe(n,e){if(zk.includes(e))throw new Error("Cannot register the same widget multiple times");zk.push(e);const t=new oe,i=new we(kW,!1).bindTo(n),o=new we(Woe,!0).bindTo(n),r=new we(Voe,!0).bindTo(n),s=()=>{i.set(!0),Qu=e},a=()=>{i.set(!1),Qu===e&&(Qu=void 0)};return wS(e.element)&&s(),t.add(e.onDidFocus(()=>s())),t.add(e.onDidBlur(()=>a())),t.add(je(()=>{zk.splice(zk.indexOf(e),1),a()})),{historyNavigationForwardsEnablement:o,historyNavigationBackwardsEnablement:r,dispose(){t.dispose()}}}let tB=class extends Xte{constructor(e,t,i,o){super(e,t,i);const r=this._register(o.createScoped(this.inputBox.element));this._register(Hoe(r,this.inputBox))}};tB=Foe([Boe(3,Xe)],tB);let iB=class extends V4e{constructor(e,t,i,o,r=!1){super(e,t,r,i);const s=this._register(o.createScoped(this.inputBox.element));this._register(Hoe(s,this.inputBox))}};iB=Foe([Boe(3,Xe)],iB);ls.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:ee.and(ee.has(kW),ee.equals(Voe,!0),ee.not("isComposing"),xW.isEqualTo(!1)),primary:16,secondary:[528],handler:n=>{Qu==null||Qu.showPreviousValue()}});ls.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:ee.and(ee.has(kW),ee.equals(Woe,!0),ee.not("isComposing"),xW.isEqualTo(!1)),primary:18,secondary:[530],handler:n=>{Qu==null||Qu.showNextValue()}});function fq(n){var e,t;return((e=n.lookupKeybinding("history.showPrevious"))===null||e===void 0?void 0:e.getElectronAccelerator())==="Up"&&((t=n.lookupKeybinding("history.showNext"))===null||t===void 0?void 0:t.getElectronAccelerator())==="Down"}const H4e=xn("find-selection",pe.selection,m("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),pq=xn("find-collapsed",pe.chevronRight,m("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),mq=xn("find-expanded",pe.chevronDown,m("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),z4e=xn("find-replace",pe.replace,m("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),U4e=xn("find-replace-all",pe.replaceAll,m("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),$4e=xn("find-previous-match",pe.arrowUp,m("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),j4e=xn("find-next-match",pe.arrowDown,m("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),K4e=m("label.findDialog","Find / Replace"),q4e=m("label.find","Find"),G4e=m("placeholder.find","Find"),Z4e=m("label.previousMatchButton","Previous Match"),Y4e=m("label.nextMatchButton","Next Match"),X4e=m("label.toggleSelectionFind","Find in Selection"),Q4e=m("label.closeButton","Close"),J4e=m("label.replace","Replace"),e3e=m("placeholder.replace","Replace"),t3e=m("label.replaceButton","Replace"),i3e=m("label.replaceAllButton","Replace All"),n3e=m("label.toggleReplaceButton","Toggle Replace"),o3e=m("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",yg),r3e=m("label.matchesLocation","{0} of {1}"),vq=m("label.noResults","No results"),Uc=419,s3e=275,a3e=s3e-54;let L1=69;const l3e=33,bq="ctrlEnterReplaceAll.windows.donotask",_q=Rt?256:2048;class LA{constructor(e){this.afterLineNumber=e,this.heightInPx=l3e,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function Cq(n,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionStart>0){n.stopPropagation();return}}function yq(n,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionEnd<t.value.length){n.stopPropagation();return}}class SN extends fa{constructor(e,t,i,o,r,s,a,l,c){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=o,this._keybindingService=r,this._contextKeyService=s,this._storageService=l,this._notificationService=c,this._ctrlEnterReplaceAllWarningPrompted=!!l.getBoolean(bq,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new Sl(500),this._register(je(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(d=>this._onStateChanged(d))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(d=>{if(d.hasChanged(91)&&(this._codeEditor.getOption(91)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),d.hasChanged(144)&&this._tryUpdateWidgetWidth(),d.hasChanged(2)&&this.updateAccessibilitySupport(),d.hasChanged(41)){const u=this._codeEditor.getOption(41).loop;this._state.change({loop:u},!1);const h=this._codeEditor.getOption(41).addExtraSpaceOnTop;h&&!this._viewZone&&(this._viewZone=new LA(0),this._showViewZone()),!h&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(async()=>{if(this._isVisible){const d=await this._controller.getGlobalBufferTerm();d&&d!==this._state.searchString&&(this._state.change({searchString:d},!1),this._findInput.select())}})),this._findInputFocused=yN.bindTo(s),this._findFocusTracker=this._register(Cc(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=SW.bindTo(s),this._replaceFocusTracker=this._register(Cc(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new LA(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(d=>{if(d.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return SN.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(91)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=yr(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){const t=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,st)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=L1+"px",this._state.matchesCount>=yg?this._matchesCount.title=o3e:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let e;if(this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=yg&&(t+="+");let i=String(this._state.matchesPosition);i==="0"&&(i="?"),e=um(r3e,i,t)}else e=vq;this._matchesCount.appendChild(document.createTextNode(e)),Es(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),L1=Math.max(L1,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===vq)return i===""?m("ariaSearchNoResultEmpty","{0} found",e):m("ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){const o=m("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),r=this._codeEditor.getModel();return r&&t.startLineNumber<=r.getLineCount()&&t.startLineNumber>=1?`${r.getLineContent(t.startLineNumber)}, ${o}`:o}return m("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){const e=this._codeEditor.getSelection(),t=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const i=!this._codeEditor.getOption(91);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const i=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=i;break}}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&e){const i=this._codeEditor.getDomNode();if(i){const o=In(i),r=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),s=o.left+(r?r.left:0),a=r?r.top:0;if(this._viewZone&&a<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const l=XQ(this._domNode).left;s>l&&(t=!1);const c=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());o.left+(c?c.left:0)>l&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const i=this._viewZone;this._viewZoneId!==void 0||!i||this._codeEditor.changeViewZones(o=>{i.heightInPx=this._getHeight(),this._viewZoneId=o.addZone(i),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+i.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new LA(0));const i=this._viewZone;this._codeEditor.changeViewZones(o=>{if(this._viewZoneId!==void 0){const r=this._getHeight();if(r===i.heightInPx)return;const s=r-i.heightInPx;i.heightInPx=r,o.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+s);return}else{let r=this._getHeight();if(r-=this._codeEditor.getOption(84).top,r<=0)return;i.heightInPx=r,this._viewZoneId=o.addZone(i),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+r)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const i=e.width,o=e.minimap.minimapWidth;let r=!1,s=!1,a=!1;if(this._resized&&yr(this._domNode)>Uc){this._domNode.style.maxWidth=`${i-28-o-15}px`,this._replaceInput.width=yr(this._findInput.domNode);return}if(Uc+28+o>=i&&(s=!0),Uc+28+o-L1>=i&&(a=!0),Uc+28+o-L1>=i+50&&(r=!0),this._domNode.classList.toggle("collapsed-find-widget",r),this._domNode.classList.toggle("narrow-find-widget",a),this._domNode.classList.toggle("reduced-find-widget",s),!a&&!r&&(this._domNode.style.maxWidth=`${i-28-o-15}px`),this._findInput.layout({collapsedFindWidget:r,narrowFindWidget:a,reducedFindWidget:s}),this._resized){const l=this._findInput.inputBox.element.clientWidth;l>0&&(this._replaceInput.width=l)}else this._isReplaceVisible&&(this._replaceInput.width=yr(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const e=this._codeEditor.getSelections();e.map(t=>{t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));const i=this._state.currentMatch;return t.startLineNumber!==t.endLineNumber&&!D.equalsRange(t,i)?t:null}).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(_q|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return Cq(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return yq(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(_q|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{Qo&&dc&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(m("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(bq,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return Cq(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return yq(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new tB(null,this._contextViewProvider,{width:a3e,label:q4e,placeholder:G4e,appendCaseSensitiveLabel:this._keybindingLabelFor(Ei.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Ei.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Ei.ToggleRegexCommand),validation:l=>{if(l.length===0||!this._findInput.getRegex())return null;try{return new RegExp(l,"gu"),null}catch(c){return{content:c.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>fq(this._keybindingService),inputBoxStyles:$2,toggleStyles:U2},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(l=>this._onFindInputKeyDown(l))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(l=>{l.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),l.preventDefault())})),this._register(this._findInput.onRegexKeyDown(l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),l.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(l=>{this._tryUpdateHeight()&&this._showViewZone()})),Br&&this._register(this._findInput.onMouseDown(l=>this._onFindInputMouseDown(l))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new kv({label:Z4e+this._keybindingLabelFor(Ei.PreviousMatchFindAction),icon:$4e,onTrigger:()=>{ag(this._codeEditor.getAction(Ei.PreviousMatchFindAction)).run().then(void 0,st)}})),this._nextBtn=this._register(new kv({label:Y4e+this._keybindingLabelFor(Ei.NextMatchFindAction),icon:j4e,onTrigger:()=>{ag(this._codeEditor.getAction(Ei.NextMatchFindAction)).run().then(void 0,st)}}));const i=document.createElement("div");i.className="find-part",i.appendChild(this._findInput.domNode);const o=document.createElement("div");o.className="find-actions",i.appendChild(o),o.appendChild(this._matchesCount),o.appendChild(this._prevBtn.domNode),o.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new L0({icon:H4e,title:X4e+this._keybindingLabelFor(Ei.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:ke(Np),inputActiveOptionBorder:ke(x6),inputActiveOptionForeground:ke(k6)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let l=this._codeEditor.getSelections();l=l.map(c=>(c.endColumn===1&&c.endLineNumber>c.startLineNumber&&(c=c.setEndPosition(c.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(c.endLineNumber-1))),c.isEmpty()?null:c)).filter(c=>!!c),l.length&&this._state.change({searchScope:l},!0)}}else this._state.change({searchScope:null},!0)})),o.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new kv({label:Q4e+this._keybindingLabelFor(Ei.CloseFindWidgetCommand),icon:Sie,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),l.preventDefault())}})),this._replaceInput=this._register(new iB(null,void 0,{label:J4e,placeholder:e3e,appendPreserveCaseLabel:this._keybindingLabelFor(Ei.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>fq(this._keybindingService),inputBoxStyles:$2,toggleStyles:U2},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(l=>this._onReplaceInputKeyDown(l))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(l=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(l=>{l.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),l.preventDefault())})),this._replaceBtn=this._register(new kv({label:t3e+this._keybindingLabelFor(Ei.ReplaceOneAction),icon:z4e,onTrigger:()=>{this._controller.replace()},onKeyDown:l=>{l.equals(1026)&&(this._closeBtn.focus(),l.preventDefault())}})),this._replaceAllBtn=this._register(new kv({label:i3e+this._keybindingLabelFor(Ei.ReplaceAllAction),icon:U4e,onTrigger:()=>{this._controller.replaceAll()}}));const r=document.createElement("div");r.className="replace-part",r.appendChild(this._replaceInput.domNode);const s=document.createElement("div");s.className="replace-actions",r.appendChild(s),s.appendChild(this._replaceBtn.domNode),s.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new kv({label:n3e,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=yr(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=K4e,this._domNode.role="dialog",this._domNode.style.width=`${Uc}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(r),this._resizeSash=this._register(new jo(this._domNode,this,{orientation:0,size:2})),this._resized=!1;let a=Uc;this._register(this._resizeSash.onDidStart(()=>{a=yr(this._domNode)})),this._register(this._resizeSash.onDidChange(l=>{this._resized=!0;const c=a+l.startX-l.currentX;if(c<Uc)return;const d=parseFloat(UT(this._domNode).maxWidth)||0;c>d||(this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=yr(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const l=yr(this._domNode);if(l<Uc)return;let c=Uc;if(!this._resized||l===Uc){const d=this._codeEditor.getLayoutInfo();c=d.width-28-d.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=yr(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}}SN.ID="editor.contrib.findWidget";class kv extends fa{constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+Ze.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,i=>{this._opts.onTrigger(),i.preventDefault()}),this.onkeydown(this._domNode,i=>{var o,r;if(i.equals(10)||i.equals(3)){this._opts.onTrigger(),i.preventDefault();return}(r=(o=this._opts).onKeyDown)===null||r===void 0||r.call(o,i)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...Ze.asClassNameArray(pq)),this._domNode.classList.add(...Ze.asClassNameArray(mq))):(this._domNode.classList.remove(...Ze.asClassNameArray(mq)),this._domNode.classList.add(...Ze.asClassNameArray(pq)))}}ja((n,e)=>{const t=n.getColor(hg);t&&e.addRule(`.monaco-editor .findMatch { border: 1px ${fc(n.type)?"dotted":"solid"} ${t}; box-sizing: border-box; }`);const i=n.getColor(mCe);i&&e.addRule(`.monaco-editor .findScope { border: 1px ${fc(n.type)?"dashed":"solid"} ${i}; }`);const o=n.getColor(Nt);o&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${o}; }`)});var zoe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},jl=function(n,e){return function(t,i){e(t,i,n)}},nB;const c3e=524288;function oB(n,e="single",t=!1){if(!n.hasModel())return null;const i=n.getSelection();if(e==="single"&&i.startLineNumber===i.endLineNumber||e==="multiple"){if(i.isEmpty()){const o=n.getConfiguredWordAtPosition(i.getStartPosition());if(o&&t===!1)return o.word}else if(n.getModel().getValueLengthInRange(i)<c3e)return n.getModel().getValueInRange(i)}return null}let Vr=nB=class extends z{get editor(){return this._editor}static get(e){return e.getContribution(nB.ID)}constructor(e,t,i,o,r){super(),this._editor=e,this._findWidgetVisible=Lh.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=o,this._notificationService=r,this._updateHistoryDelayer=new Sl(500),this._state=this._register(new O4e),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(s=>this._onStateChanged(s))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const s=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),s&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!yN.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e=e.map(t=>(t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=ra(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}async _start(e,t){if(this.disposeModel(),!this._editor.hasModel())return;const i={...t,isRevealed:!0};if(e.seedSearchStringFromSelection==="single"){const o=oB(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);o&&(this._state.isRegex?i.searchString=ra(o):i.searchString=o)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){const o=oB(this._editor,e.seedSearchStringFromSelection);o&&(i.searchString=o)}if(!i.searchString&&e.seedSearchStringFromGlobalClipboard){const o=await this.getGlobalBufferTerm();if(!this._editor.hasModel())return;o&&(i.searchString=o)}if(e.forceRevealReplace||i.isReplaceRevealed?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){const o=this._editor.getSelections();o.some(r=>!r.isEmpty())&&(i.searchScope=o)}i.loop=e.loop,this._state.change(i,!1),this._model||(this._model=new qC(this._editor,this._state))}start(e,t){return this._start(e,t)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(e){return this._model?(this._model.moveToMatch(e),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){var e;return this._model?!((e=this._editor.getModel())===null||e===void 0)&&e.isTooLargeForHeapOperation()?(this._notificationService.warn(m("too.large.for.replaceall","The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}async getGlobalBufferTerm(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}setGlobalBufferTerm(e){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};Vr.ID="editor.contrib.findController";Vr=nB=zoe([jl(1,Xe),jl(2,El),jl(3,kh),jl(4,Nn)],Vr);let rB=class extends Vr{constructor(e,t,i,o,r,s,a,l){super(e,i,a,l,s),this._contextViewService=t,this._keybindingService=o,this._themeService=r,this._widget=null,this._findOptionsWidget=null}async _start(e,t){this._widget||this._createFindWidget();const i=this._editor.getSelection();let o=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":o=!0;break;case"never":o=!1;break;case"multiline":{o=!!i&&i.startLineNumber!==i.endLineNumber;break}}e.updateSearchScope=e.updateSearchScope||o,await super._start(e,t),this._widget&&(e.shouldFocus===2?this._widget.focusReplaceInput():e.shouldFocus===1&&this._widget.focusFindInput())}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new SN(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new wN(this._editor,this._state,this._keybindingService))}};rB=zoe([jl(1,Yd),jl(2,Xe),jl(3,di),jl(4,ao),jl(5,Nn),jl(6,El),jl(7,kh)],rB);const d3e=pJ(new fJ({id:Ei.StartFindAction,label:m("startFindAction","Find"),alias:"Find",precondition:ee.or(I.focus,ee.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:T.MenubarEditMenu,group:"3_find",title:m({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));d3e.addImplementation(0,(n,e,t)=>{const i=Vr.get(e);return i?i.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop}):!1});const u3e={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]};class h3e extends Le{constructor(){super({id:Ei.StartFindWithArgs,label:m("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:u3e})}async run(e,t,i){const o=Vr.get(t);if(o){const r=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:i.replaceString!==void 0,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};await o.start({forceRevealReplace:!1,seedSearchStringFromSelection:o.getState().searchString.length===0&&t.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(i==null?void 0:i.findInSelection)||!1,loop:t.getOption(41).loop},r),o.setGlobalBufferTerm(o.getState().searchString)}}}class g3e extends Le{constructor(){super({id:Ei.StartFindWithSelection,label:m("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}async run(e,t){const i=Vr.get(t);i&&(await i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),i.setGlobalBufferTerm(i.getState().searchString))}}class Uoe extends Le{async run(e,t){const i=Vr.get(t);i&&!this._run(i)&&(await i.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getState().searchString.length===0&&t.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),this._run(i))}}class f3e extends Uoe{constructor(){super({id:Ei.NextMatchFindAction,label:m("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:I.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:ee.and(I.focus,yN),primary:3,weight:100}]})}_run(e){return e.moveToNextMatch()?(e.editor.pushUndoStop(),!0):!1}}class p3e extends Uoe{constructor(){super({id:Ei.PreviousMatchFindAction,label:m("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:I.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:ee.and(I.focus,yN),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}class m3e extends Le{constructor(){super({id:Ei.GoToMatchFindAction,label:m("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:Lh}),this._highlightDecorations=[]}run(e,t,i){const o=Vr.get(t);if(!o)return;const r=o.getState().matchesCount;if(r<1){e.get(Nn).notify({severity:wI.Warning,message:m("findMatchAction.noResults","No matches. Try searching for something else.")});return}const a=e.get(Ac).createInputBox();a.placeholder=m("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",r);const l=d=>{const u=parseInt(d);if(isNaN(u))return;const h=o.getState().matchesCount;if(u>0&&u<=h)return u-1;if(u<0&&u>=-h)return h+u},c=d=>{const u=l(d);if(typeof u=="number"){a.validationMessage=void 0,o.goToMatch(u);const h=o.getState().currentMatch;h&&this.addDecorations(t,h)}else a.validationMessage=m("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",o.getState().matchesCount),this.clearDecorations(t)};a.onDidChangeValue(d=>{c(d)}),a.onDidAccept(()=>{const d=l(a.value);typeof d=="number"?(o.goToMatch(d),a.hide()):a.validationMessage=m("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",o.getState().matchesCount)}),a.onDidHide(()=>{this.clearDecorations(t),a.dispose()}),a.show()}clearDecorations(e){e.changeDecorations(t=>{this._highlightDecorations=t.deltaDecorations(this._highlightDecorations,[])})}addDecorations(e,t){e.changeDecorations(i=>{this._highlightDecorations=i.deltaDecorations(this._highlightDecorations,[{range:t,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:sn(pee),position:la.Full}}}])})}}class $oe extends Le{async run(e,t){const i=Vr.get(t);if(!i)return;const o=oB(t,"single",!1);o&&i.setSearchString(o),this._run(i)||(await i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),this._run(i))}}class v3e extends $oe{constructor(){super({id:Ei.NextSelectionMatchFindAction,label:m("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:I.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}class b3e extends $oe{constructor(){super({id:Ei.PreviousSelectionMatchFindAction,label:m("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:I.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}}const _3e=pJ(new fJ({id:Ei.StartFindReplaceAction,label:m("startReplace","Replace"),alias:"Replace",precondition:ee.or(I.focus,ee.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:T.MenubarEditMenu,group:"3_find",title:m({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));_3e.addImplementation(0,(n,e,t)=>{if(!e.hasModel()||e.getOption(91))return!1;const i=Vr.get(e);if(!i)return!1;const o=e.getSelection(),r=i.isFindInputFocused(),s=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&e.getOption(41).seedSearchStringFromSelection!=="never"&&!r,a=r||s?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:s?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop})});Gt(Vr.ID,rB,0);de(h3e);de(g3e);de(f3e);de(p3e);de(m3e);de(v3e);de(b3e);const Oc=_o.bindToContribution(Vr.get);ve(new Oc({id:Ei.CloseFindWidgetCommand,precondition:Lh,handler:n=>n.closeFindWidget(),kbOpts:{weight:105,kbExpr:ee.and(I.focus,ee.not("isComposing")),primary:9,secondary:[1033]}}));ve(new Oc({id:Ei.ToggleCaseSensitiveCommand,precondition:void 0,handler:n=>n.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:I.focus,primary:Ok.primary,mac:Ok.mac,win:Ok.win,linux:Ok.linux}}));ve(new Oc({id:Ei.ToggleWholeWordCommand,precondition:void 0,handler:n=>n.toggleWholeWords(),kbOpts:{weight:105,kbExpr:I.focus,primary:Fk.primary,mac:Fk.mac,win:Fk.win,linux:Fk.linux}}));ve(new Oc({id:Ei.ToggleRegexCommand,precondition:void 0,handler:n=>n.toggleRegex(),kbOpts:{weight:105,kbExpr:I.focus,primary:Bk.primary,mac:Bk.mac,win:Bk.win,linux:Bk.linux}}));ve(new Oc({id:Ei.ToggleSearchScopeCommand,precondition:void 0,handler:n=>n.toggleSearchScope(),kbOpts:{weight:105,kbExpr:I.focus,primary:Wk.primary,mac:Wk.mac,win:Wk.win,linux:Wk.linux}}));ve(new Oc({id:Ei.TogglePreserveCaseCommand,precondition:void 0,handler:n=>n.togglePreserveCase(),kbOpts:{weight:105,kbExpr:I.focus,primary:Vk.primary,mac:Vk.mac,win:Vk.win,linux:Vk.linux}}));ve(new Oc({id:Ei.ReplaceOneAction,precondition:Lh,handler:n=>n.replace(),kbOpts:{weight:105,kbExpr:I.focus,primary:3094}}));ve(new Oc({id:Ei.ReplaceOneAction,precondition:Lh,handler:n=>n.replace(),kbOpts:{weight:105,kbExpr:ee.and(I.focus,SW),primary:3}}));ve(new Oc({id:Ei.ReplaceAllAction,precondition:Lh,handler:n=>n.replaceAll(),kbOpts:{weight:105,kbExpr:I.focus,primary:2563}}));ve(new Oc({id:Ei.ReplaceAllAction,precondition:Lh,handler:n=>n.replaceAll(),kbOpts:{weight:105,kbExpr:ee.and(I.focus,SW),primary:void 0,mac:{primary:2051}}}));ve(new Oc({id:Ei.SelectAllMatchesAction,precondition:Lh,handler:n=>n.selectAllMatches(),kbOpts:{weight:105,kbExpr:I.focus,primary:515}}));const C3e={0:" ",1:"u",2:"r"},wq=65535,Kl=16777215,Sq=4278190080;class DA{constructor(e){const t=Math.ceil(e/32);this._states=new Uint32Array(t)}get(e){const t=e/32|0,i=e%32;return(this._states[t]&1<<i)!==0}set(e,t){const i=e/32|0,o=e%32,r=this._states[i];t?this._states[i]=r|1<<o:this._states[i]=r&~(1<<o)}}class qs{constructor(e,t,i){if(e.length!==t.length||e.length>wq)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new DA(e.length),this._userDefinedStates=new DA(e.length),this._recoveredStates=new DA(e.length),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const e=[],t=(i,o)=>{const r=e[e.length-1];return this.getStartLineNumber(r)<=i&&this.getEndLineNumber(r)>=o};for(let i=0,o=this._startIndexes.length;i<o;i++){const r=this._startIndexes[i],s=this._endIndexes[i];if(r>Kl||s>Kl)throw new Error("startLineNumber or endLineNumber must not exceed "+Kl);for(;e.length>0&&!t(r,s);)e.pop();const a=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=r+((a&255)<<24),this._endIndexes[i]=s+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&Kl}getEndLineNumber(e){return this._endIndexes[e]&Kl}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return this._collapseStates.get(e)}setCollapsed(e,t){this._collapseStates.set(e,t)}isUserDefined(e){return this._userDefinedStates.get(e)}setUserDefined(e,t){return this._userDefinedStates.set(e,t)}isRecovered(e){return this._recoveredStates.get(e)}setRecovered(e,t){return this._recoveredStates.set(e,t)}getSource(e){return this.isUserDefined(e)?1:this.isRecovered(e)?2:0}setSource(e,t){t===1?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):t===2?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let o=0;o<this._types.length;o++)this._types[o]===e&&(this.setCollapsed(o,t),i=!0);return i}toRegion(e){return new y3e(this,e)}getParentIndex(e){this.ensureParentIndices();const t=((this._startIndexes[e]&Sq)>>>24)+((this._endIndexes[e]&Sq)>>>16);return t===wq?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(i===0)return-1;for(;t<i;){const o=Math.floor((t+i)/2);e<this.getStartLineNumber(o)?i=o:t=o+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){const e=[];for(let t=0;t<this.length;t++)e[t]=`[${C3e[this.getSource(t)]}${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}toFoldRange(e){return{startLineNumber:this._startIndexes[e]&Kl,endLineNumber:this._endIndexes[e]&Kl,type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}static fromFoldRanges(e){const t=e.length,i=new Uint32Array(t),o=new Uint32Array(t);let r=[],s=!1;for(let l=0;l<t;l++){const c=e[l];i[l]=c.startLineNumber,o[l]=c.endLineNumber,r.push(c.type),c.type&&(s=!0)}s||(r=void 0);const a=new qs(i,o,r);for(let l=0;l<t;l++)e[l].isCollapsed&&a.setCollapsed(l,!0),a.setSource(l,e[l].source);return a}static sanitizeAndMerge(e,t,i){i=i??Number.MAX_VALUE;const o=(p,b)=>Array.isArray(p)?v=>v<b?p[v]:void 0:v=>v<b?p.toFoldRange(v):void 0,r=o(e,e.length),s=o(t,t.length);let a=0,l=0,c=r(0),d=s(0);const u=[];let h,g=0;const f=[];for(;c||d;){let p;if(d&&(!c||c.startLineNumber>=d.startLineNumber))c&&c.startLineNumber===d.startLineNumber?(d.source===1?p=d:(p=c,p.isCollapsed=d.isCollapsed&&c.endLineNumber===d.endLineNumber,p.source=0),c=r(++a)):(p=d,d.isCollapsed&&d.source===0&&(p.source=2)),d=s(++l);else{let b=l,v=d;for(;;){if(!v||v.startLineNumber>c.endLineNumber){p=c;break}if(v.source===1&&v.endLineNumber>c.endLineNumber)break;v=s(++b)}c=r(++a)}if(p){for(;h&&h.endLineNumber<p.startLineNumber;)h=u.pop();p.endLineNumber>p.startLineNumber&&p.startLineNumber>g&&p.endLineNumber<=i&&(!h||h.endLineNumber>=p.endLineNumber)&&(f.push(p),g=p.startLineNumber,h&&u.push(h),h=p)}}return f}}class y3e{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class w3e{get regions(){return this._regions}get textModel(){return this._textModel}constructor(e,t){this._updateEventEmitter=new B,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new qs(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(e){if(!e.length)return;e=e.sort((i,o)=>i.regionIndex-o.regionIndex);const t={};this._decorationProvider.changeDecorations(i=>{let o=0,r=-1,s=-1;const a=l=>{for(;o<l;){const c=this._regions.getEndLineNumber(o),d=this._regions.isCollapsed(o);if(c<=r){const u=this.regions.getSource(o)!==0;i.changeDecorationOptions(this._editorDecorationIds[o],this._decorationProvider.getDecorationOption(d,c<=s,u))}d&&c>s&&(s=c),o++}};for(const l of e){const c=l.regionIndex,d=this._editorDecorationIds[c];if(d&&!t[d]){t[d]=!0,a(c);const u=!this._regions.isCollapsed(c);this._regions.setCollapsed(c,u),r=Math.max(r,this._regions.getEndLineNumber(c))}}a(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}removeManualRanges(e){const t=new Array,i=o=>{for(const r of e)if(!(r.startLineNumber>o.endLineNumber||o.startLineNumber>r.endLineNumber))return!0;return!1};for(let o=0;o<this._regions.length;o++){const r=this._regions.toFoldRange(o);(r.source===0||!i(r))&&t.push(r)}this.updatePost(qs.fromFoldRanges(t))}update(e,t=[]){const i=this._currentFoldedOrManualRanges(t),o=qs.sanitizeAndMerge(e,i,this._textModel.getLineCount());this.updatePost(qs.fromFoldRanges(o))}updatePost(e){const t=[];let i=-1;for(let o=0,r=e.length;o<r;o++){const s=e.getStartLineNumber(o),a=e.getEndLineNumber(o),l=e.isCollapsed(o),c=e.getSource(o)!==0,d={startLineNumber:s,startColumn:this._textModel.getLineMaxColumn(s),endLineNumber:a,endColumn:this._textModel.getLineMaxColumn(a)+1};t.push({range:d,options:this._decorationProvider.getDecorationOption(l,a<=i,c)}),l&&a>i&&(i=a)}this._decorationProvider.changeDecorations(o=>this._editorDecorationIds=o.deltaDecorations(this._editorDecorationIds,t)),this._regions=e,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(e=[]){const t=(o,r)=>{for(const s of e)if(o<s&&s<=r)return!0;return!1},i=[];for(let o=0,r=this._regions.length;o<r;o++){let s=this.regions.isCollapsed(o);const a=this.regions.getSource(o);if(s||a!==0){const l=this._regions.toFoldRange(o),c=this._textModel.getDecorationRange(this._editorDecorationIds[o]);c&&(s&&t(c.startLineNumber,c.endLineNumber)&&(s=!1),i.push({startLineNumber:c.startLineNumber,endLineNumber:c.endLineNumber,type:l.type,isCollapsed:s,source:a}))}}return i}getMemento(){const e=this._currentFoldedOrManualRanges(),t=[],i=this._textModel.getLineCount();for(let o=0,r=e.length;o<r;o++){const s=e[o];if(s.startLineNumber>=s.endLineNumber||s.startLineNumber<1||s.endLineNumber>i)continue;const a=this._getLinesChecksum(s.startLineNumber+1,s.endLineNumber);t.push({startLineNumber:s.startLineNumber,endLineNumber:s.endLineNumber,isCollapsed:s.isCollapsed,source:s.source,checksum:a})}return t.length>0?t:void 0}applyMemento(e){var t,i;if(!Array.isArray(e))return;const o=[],r=this._textModel.getLineCount();for(const a of e){if(a.startLineNumber>=a.endLineNumber||a.startLineNumber<1||a.endLineNumber>r)continue;const l=this._getLinesChecksum(a.startLineNumber+1,a.endLineNumber);(!a.checksum||l===a.checksum)&&o.push({startLineNumber:a.startLineNumber,endLineNumber:a.endLineNumber,type:void 0,isCollapsed:(t=a.isCollapsed)!==null&&t!==void 0?t:!0,source:(i=a.source)!==null&&i!==void 0?i:0})}const s=qs.sanitizeAndMerge(this._regions,o,r);this.updatePost(qs.fromFoldRanges(s))}_getLinesChecksum(e,t){return WT(this._textModel.getLineContent(e)+this._textModel.getLineContent(t))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(e,t){const i=[];if(this._regions){let o=this._regions.findRange(e),r=1;for(;o>=0;){const s=this._regions.toRegion(o);(!t||t(s,r))&&i.push(s),r++,o=s.parentIndex}}return i}getRegionAtLine(e){if(this._regions){const t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){const i=[],o=e?e.regionIndex+1:0,r=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2){const s=[];for(let a=o,l=this._regions.length;a<l;a++){const c=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<r){for(;s.length>0&&!c.containedBy(s[s.length-1]);)s.pop();s.push(c),t(c,s.length)&&i.push(c)}else break}}else for(let s=o,a=this._regions.length;s<a;s++){const l=this._regions.toRegion(s);if(this._regions.getStartLineNumber(s)<r)(!t||t(l))&&i.push(l);else break}return i}}function joe(n,e,t){const i=[];for(const o of t){const r=n.getRegionAtLine(o);if(r){const s=!r.isCollapsed;if(i.push(r),e>1){const a=n.getRegionsInside(r,(l,c)=>l.isCollapsed!==s&&c<e);i.push(...a)}}}n.toggleCollapseState(i)}function P0(n,e,t=Number.MAX_VALUE,i){const o=[];if(i&&i.length>0)for(const r of i){const s=n.getRegionAtLine(r);if(s&&(s.isCollapsed!==e&&o.push(s),t>1)){const a=n.getRegionsInside(s,(l,c)=>l.isCollapsed!==e&&c<t);o.push(...a)}}else{const r=n.getRegionsInside(null,(s,a)=>s.isCollapsed!==e&&a<t);o.push(...r)}n.toggleCollapseState(o)}function Koe(n,e,t,i){const o=[];for(const r of i){const s=n.getAllRegionsAtLine(r,(a,l)=>a.isCollapsed!==e&&l<=t);o.push(...s)}n.toggleCollapseState(o)}function S3e(n,e,t){const i=[];for(const o of t){const r=n.getAllRegionsAtLine(o,s=>s.isCollapsed!==e);r.length>0&&i.push(r[0])}n.toggleCollapseState(i)}function x3e(n,e,t,i){const o=(s,a)=>a===e&&s.isCollapsed!==t&&!i.some(l=>s.containsLine(l)),r=n.getRegionsInside(null,o);n.toggleCollapseState(r)}function qoe(n,e,t){const i=[];for(const s of t){const a=n.getAllRegionsAtLine(s,void 0);a.length>0&&i.push(a[0])}const o=s=>i.every(a=>!a.containedBy(s)&&!s.containedBy(a))&&s.isCollapsed!==e,r=n.getRegionsInside(null,o);n.toggleCollapseState(r)}function LW(n,e,t){const i=n.textModel,o=n.regions,r=[];for(let s=o.length-1;s>=0;s--)if(t!==o.isCollapsed(s)){const a=o.getStartLineNumber(s);e.test(i.getLineContent(a))&&r.push(o.toRegion(s))}n.toggleCollapseState(r)}function DW(n,e,t){const i=n.regions,o=[];for(let r=i.length-1;r>=0;r--)t!==i.isCollapsed(r)&&e===i.getType(r)&&o.push(i.toRegion(r));n.toggleCollapseState(o)}function k3e(n,e){let t=null;const i=e.getRegionAtLine(n);if(i!==null&&(t=i.startLineNumber,n===t)){const o=i.parentIndex;o!==-1?t=e.regions.getStartLineNumber(o):t=null}return t}function L3e(n,e){let t=e.getRegionAtLine(n);if(t!==null&&t.startLineNumber===n){if(n!==t.startLineNumber)return t.startLineNumber;{const i=t.parentIndex;let o=0;for(i!==-1&&(o=e.regions.getStartLineNumber(t.parentIndex));t!==null;)if(t.regionIndex>0){if(t=e.regions.toRegion(t.regionIndex-1),t.startLineNumber<=o)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}}else if(e.regions.length>0)for(t=e.regions.toRegion(e.regions.length-1);t!==null;){if(t.startLineNumber<n)return t.startLineNumber;t.regionIndex>0?t=e.regions.toRegion(t.regionIndex-1):t=null}return null}function D3e(n,e){let t=e.getRegionAtLine(n);if(t!==null&&t.startLineNumber===n){const i=t.parentIndex;let o=0;if(i!==-1)o=e.regions.getEndLineNumber(t.parentIndex);else{if(e.regions.length===0)return null;o=e.regions.getEndLineNumber(e.regions.length-1)}for(;t!==null;)if(t.regionIndex<e.regions.length){if(t=e.regions.toRegion(t.regionIndex+1),t.startLineNumber>=o)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}else if(e.regions.length>0)for(t=e.regions.toRegion(0);t!==null;){if(t.startLineNumber>n)return t.startLineNumber;t.regionIndex<e.regions.length?t=e.regions.toRegion(t.regionIndex+1):t=null}return null}class E3e{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(e){this._updateEventEmitter=new B,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||lf(t.text)[0]!==0))}updateHiddenRanges(){let e=!1;const t=[];let i=0,o=0,r=Number.MAX_VALUE,s=-1;const a=this._foldingModel.regions;for(;i<a.length;i++){if(!a.isCollapsed(i))continue;const l=a.getStartLineNumber(i)+1,c=a.getEndLineNumber(i);r<=l&&c<=s||(!e&&o<this._hiddenRanges.length&&this._hiddenRanges[o].startLineNumber===l&&this._hiddenRanges[o].endLineNumber===c?(t.push(this._hiddenRanges[o]),o++):(e=!0,t.push(new D(l,1,c,1))),r=l,s=c)}(this._hasLineChanges||e||o<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return xq(this._hiddenRanges,e)!==null}adjustSelections(e){let t=!1;const i=this._foldingModel.textModel;let o=null;const r=s=>((!o||!T3e(s,o))&&(o=xq(this._hiddenRanges,s)),o?o.startLineNumber-1:null);for(let s=0,a=e.length;s<a;s++){let l=e[s];const c=r(l.startLineNumber);c&&(l=l.setStartPosition(c,i.getLineMaxColumn(c)),t=!0);const d=r(l.endLineNumber);d&&(l=l.setEndPosition(d,i.getLineMaxColumn(d)),t=!0),e[s]=l}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function T3e(n,e){return n>=e.startLineNumber&&n<=e.endLineNumber}function xq(n,e){const t=Wy(n,i=>e<i.startLineNumber)-1;return t>=0&&n[t].endLineNumber>=e?n[t]:null}const I3e=5e3,N3e="indent";class EW{constructor(e,t,i){this.editorModel=e,this.languageConfigurationService=t,this.foldingRangesLimit=i,this.id=N3e}dispose(){}compute(e){const t=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=t&&!!t.offSide,o=t&&t.markers;return Promise.resolve(A3e(this.editorModel,i,o,this.foldingRangesLimit))}}let R3e=class{constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>Kl||t>Kl)return;const o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){const t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),o=new Uint32Array(this._length);for(let r=this._length-1,s=0;r>=0;r--,s++)i[s]=this._startIndexes[r],o[s]=this._endIndexes[r];return new qs(i,o)}else{this._foldingRangesLimit.update(this._length,t);let i=0,o=this._indentOccurrences.length;for(let l=0;l<this._indentOccurrences.length;l++){const c=this._indentOccurrences[l];if(c){if(c+i>t){o=l;break}i+=c}}const r=e.getOptions().tabSize,s=new Uint32Array(t),a=new Uint32Array(t);for(let l=this._length-1,c=0;l>=0;l--){const d=this._startIndexes[l],u=e.getLineContent(d),h=bI(u,r);(h<o||h===o&&i++<t)&&(s[c]=d,a[c]=this._endIndexes[l],c++)}return new qs(s,a)}}};const M3e={limit:I3e,update:()=>{}};function A3e(n,e,t,i=M3e){const o=n.getOptions().tabSize,r=new R3e(i);let s;t&&(s=new RegExp(`(${t.start.source})|(?:${t.end.source})`));const a=[],l=n.getLineCount()+1;a.push({indent:-1,endAbove:l,line:l});for(let c=n.getLineCount();c>0;c--){const d=n.getLineContent(c),u=bI(d,o);let h=a[a.length-1];if(u===-1){e&&(h.endAbove=c);continue}let g;if(s&&(g=d.match(s)))if(g[1]){let f=a.length-1;for(;f>0&&a[f].indent!==-2;)f--;if(f>0){a.length=f+1,h=a[f],r.insertFirst(c,h.line,u),h.line=c,h.indent=u,h.endAbove=c;continue}}else{a.push({indent:-2,endAbove:c,line:c});continue}if(h.indent>u){do a.pop(),h=a[a.length-1];while(h.indent>u);const f=h.endAbove-1;f-c>=1&&r.insertFirst(c,f,u)}h.indent===u?h.endAbove=c:a.push({indent:u,endAbove:c,line:c})}return r.toIndentRanges(n)}const P3e=N("editor.foldBackground",{light:He(ug,.3),dark:He(ug,.3),hcDark:null,hcLight:null},m("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);N("editorGutter.foldingControlForeground",{dark:pd,light:pd,hcDark:pd,hcLight:pd},m("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));const xN=xn("folding-expanded",pe.chevronDown,m("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),kN=xn("folding-collapsed",pe.chevronRight,m("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),Goe=xn("folding-manual-collapsed",kN,m("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),Zoe=xn("folding-manual-expanded",xN,m("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),TW={color:sn(P3e),position:xs.Inline},O0=m("linesCollapsed","Click to expand the range."),LN=m("linesExpanded","Click to collapse the range.");class An{constructor(e){this.editor=e,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(e,t,i){return t?An.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?e?this.showFoldingHighlights?An.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:An.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:An.NO_CONTROLS_EXPANDED_RANGE_DECORATION:e?i?this.showFoldingHighlights?An.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:An.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?An.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:An.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?i?An.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:An.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i?An.MANUALLY_EXPANDED_VISUAL_DECORATION:An.EXPANDED_VISUAL_DECORATION}changeDecorations(e){return this.editor.changeDecorations(e)}removeDecorations(e){this.editor.removeDecorations(e)}}An.COLLAPSED_VISUAL_DECORATION=dt.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:O0,firstLineDecorationClassName:Ze.asClassName(kN)});An.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=dt.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:TW,isWholeLine:!0,linesDecorationsTooltip:O0,firstLineDecorationClassName:Ze.asClassName(kN)});An.MANUALLY_COLLAPSED_VISUAL_DECORATION=dt.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:O0,firstLineDecorationClassName:Ze.asClassName(Goe)});An.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=dt.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:TW,isWholeLine:!0,linesDecorationsTooltip:O0,firstLineDecorationClassName:Ze.asClassName(Goe)});An.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=dt.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:O0});An.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=dt.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:TW,isWholeLine:!0,linesDecorationsTooltip:O0});An.EXPANDED_VISUAL_DECORATION=dt.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Ze.asClassName(xN),linesDecorationsTooltip:LN});An.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=dt.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Ze.asClassName(xN),linesDecorationsTooltip:LN});An.MANUALLY_EXPANDED_VISUAL_DECORATION=dt.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Ze.asClassName(Zoe),linesDecorationsTooltip:LN});An.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=dt.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:Ze.asClassName(Zoe),linesDecorationsTooltip:LN});An.NO_CONTROLS_EXPANDED_RANGE_DECORATION=dt.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0});An.HIDDEN_RANGE_DECORATION=dt.register({description:"folding-hidden-range-decoration",stickiness:1});const O3e={},F3e="syntax";class IW{constructor(e,t,i,o,r){this.editorModel=e,this.providers=t,this.handleFoldingRangesChange=i,this.foldingRangesLimit=o,this.fallbackRangeProvider=r,this.id=F3e,this.disposables=new oe,r&&this.disposables.add(r);for(const s of t)typeof s.onDidChange=="function"&&this.disposables.add(s.onDidChange(i))}compute(e){return B3e(this.providers,this.editorModel,e).then(t=>{var i,o;return t?V3e(t,this.foldingRangesLimit):(o=(i=this.fallbackRangeProvider)===null||i===void 0?void 0:i.compute(e))!==null&&o!==void 0?o:null})}dispose(){this.disposables.dispose()}}function B3e(n,e,t){let i=null;const o=n.map((r,s)=>Promise.resolve(r.provideFoldingRanges(e,O3e,t)).then(a=>{if(!t.isCancellationRequested&&Array.isArray(a)){Array.isArray(i)||(i=[]);const l=e.getLineCount();for(const c of a)c.start>0&&c.end>c.start&&c.end<=l&&i.push({start:c.start,end:c.end,rank:s,kind:c.kind})}},Bn));return Promise.all(o).then(r=>i)}class W3e{constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,o){if(e>Kl||t>Kl)return;const r=this._length;this._startIndexes[r]=e,this._endIndexes[r]=t,this._nestingLevels[r]=o,this._types[r]=i,this._length++,o<30&&(this._nestingLevelCounts[o]=(this._nestingLevelCounts[o]||0)+1)}toIndentRanges(){const e=this._foldingRangesLimit.limit;if(this._length<=e){this._foldingRangesLimit.update(this._length,!1);const t=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let o=0;o<this._length;o++)t[o]=this._startIndexes[o],i[o]=this._endIndexes[o];return new qs(t,i,this._types)}else{this._foldingRangesLimit.update(this._length,e);let t=0,i=this._nestingLevelCounts.length;for(let a=0;a<this._nestingLevelCounts.length;a++){const l=this._nestingLevelCounts[a];if(l){if(l+t>e){i=a;break}t+=l}}const o=new Uint32Array(e),r=new Uint32Array(e),s=[];for(let a=0,l=0;a<this._length;a++){const c=this._nestingLevels[a];(c<i||c===i&&t++<e)&&(o[l]=this._startIndexes[a],r[l]=this._endIndexes[a],s[l]=this._types[a],l++)}return new qs(o,r,s)}}}function V3e(n,e){const t=n.sort((s,a)=>{let l=s.start-a.start;return l===0&&(l=s.rank-a.rank),l}),i=new W3e(e);let o;const r=[];for(const s of t)if(!o)o=s,i.add(s.start,s.end,s.kind&&s.kind.value,r.length);else if(s.start>o.start)if(s.end<=o.end)r.push(o),o=s,i.add(s.start,s.end,s.kind&&s.kind.value,r.length);else{if(s.start>o.end){do o=r.pop();while(o&&s.start>o.end);o&&r.push(o),o=s}i.add(s.start,s.end,s.kind&&s.kind.value,r.length)}return i.toIndentRanges()}var H3e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},D1=function(n,e){return function(t,i){e(t,i,n)}},Bv;const tr=new we("foldingEnabled",!1);let Ud=Bv=class extends z{static get(e){return e.getContribution(Bv.ID)}static getFoldingRangeProviders(e,t){var i,o;const r=e.foldingRangeProvider.ordered(t);return(o=(i=Bv._foldingRangeSelector)===null||i===void 0?void 0:i.call(Bv,r,t))!==null&&o!==void 0?o:r}constructor(e,t,i,o,r,s){super(),this.contextKeyService=t,this.languageConfigurationService=i,this.languageFeaturesService=s,this.localToDispose=this._register(new oe),this.editor=e,this._foldingLimitReporter=new Yoe(e);const a=this.editor.getOptions();this._isEnabled=a.get(43),this._useFoldingProviders=a.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=a.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=a.get(46),this.updateDebounceInfo=r.for(s.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new An(e),this.foldingDecorationProvider.showFoldingControls=a.get(110),this.foldingDecorationProvider.showFoldingHighlights=a.get(45),this.foldingEnabled=tr.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(l=>{if(l.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),l.hasChanged(47)&&this.onModelChanged(),l.hasChanged(110)||l.hasChanged(45)){const c=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=c.get(110),this.foldingDecorationProvider.showFoldingHighlights=c.get(45),this.triggerFoldingModelChanged()}l.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),l.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),l.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){const t=this.foldingModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){const t=this.editor.getModel();if(!(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel)&&e&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new w3e(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new E3e(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(t=>this.onHiddenRangesChanges(t))),this.updateScheduler=new Sl(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new mi(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(t=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(t=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp(t=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{var t,i;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(t=this.updateScheduler)===null||t===void 0||t.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(i=this.rangeProvider)===null||i===void 0||i.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var e;(e=this.rangeProvider)===null||e===void 0||e.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;const t=new EW(e,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=t,this._useFoldingProviders&&this.foldingModel){const i=Bv.getFoldingRangeProviders(this.languageFeaturesService,e);i.length>0&&(this.rangeProvider=new IW(e,i,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,t))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;(t=this.hiddenRangeModel)===null||t===void 0||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const e=this.foldingModel;if(!e)return null;const t=new Jo,i=this.getRangeProvider(e.textModel),o=this.foldingRegionPromise=ro(r=>i.compute(r));return o.then(r=>{if(r&&o===this.foldingRegionPromise){let s;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const d=r.setCollapsedAllOfType(Nr.Imports.value,!0);d&&(s=Dc.capture(this.editor),this._currentModelHasFoldedImports=d)}const a=this.editor.getSelections(),l=a?a.map(d=>d.startLineNumber):[];e.update(r,l),s==null||s.restore(this.editor);const c=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=c)}return e})}).then(void 0,e=>(st(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){const t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();e&&e.then(t=>{if(t){const i=this.editor.getSelections();if(i&&i.length>0){const o=[];for(const r of i){const s=r.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(s)&&o.push(...t.getAllRegionsAtLine(s,a=>a.isCollapsed&&s>a.startLineNumber))}o.length&&(t.toggleCollapseState(o),this.reveal(i[0].getPosition()))}}}).then(void 0,st)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let i=!1;switch(e.target.type){case 4:{const o=e.target.detail,r=e.target.element.offsetLeft;if(o.offsetX-r<4)return;i=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const o=this.editor.getModel();if(o&&t.startColumn===o.getLineMaxColumn(t.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){const t=this.foldingModel;if(!t||!this.mouseDownInfo||!e.target)return;const i=this.mouseDownInfo.lineNumber,o=this.mouseDownInfo.iconClicked,r=e.target.range;if(!r||r.startLineNumber!==i)return;if(o){if(e.target.type!==4)return}else{const a=this.editor.getModel();if(!a||r.startColumn!==a.getLineMaxColumn(i))return}const s=t.getRegionAtLine(i);if(s&&s.startLineNumber===i){const a=s.isCollapsed;if(o||a){const l=e.event.altKey;let c=[];if(l){const d=h=>!h.containedBy(s)&&!s.containedBy(h),u=t.getRegionsInside(null,d);for(const h of u)h.isCollapsed&&c.push(h);c.length===0&&(c=u)}else{const d=e.event.middleButton||e.event.shiftKey;if(d)for(const u of t.getRegionsInside(s))u.isCollapsed===a&&c.push(u);(a||!d||c.length===0)&&c.push(s)}t.toggleCollapseState(c),this.reveal({lineNumber:i,column:1})}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};Ud.ID="editor.contrib.folding";Ud=Bv=H3e([D1(1,Xe),D1(2,Di),D1(3,Nn),D1(4,Ka),D1(5,Re)],Ud);class Yoe{constructor(e){this.editor=e,this._onDidChange=new B,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(e,t){(e!==this._computed||t!==this._limited)&&(this._computed=e,this._limited=t,this._onDidChange.fire())}}class pr extends Le{runEditorCommand(e,t,i){const o=e.get(Di),r=Ud.get(t);if(!r)return;const s=r.getFoldingModel();if(s)return this.reportTelemetry(e,t),s.then(a=>{if(a){this.invoke(r,a,t,i,o);const l=t.getSelection();l&&r.reveal(l.getStartPosition())}})}getSelectedLines(e){const t=e.getSelections();return t?t.map(i=>i.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(i=>i+1):this.getSelectedLines(t)}run(e,t){}}function Xoe(n){if(!_s(n)){if(!Tr(n))return!1;const e=n;if(!_s(e.levels)&&!Xg(e.levels)||!_s(e.direction)&&!Pr(e.direction)||!_s(e.selectionLines)&&(!Array.isArray(e.selectionLines)||!e.selectionLines.every(Xg)))return!1}return!0}class z3e extends pr{constructor(){super({id:"editor.unfold",label:m("unfoldAction.label","Unfold"),alias:"Unfold",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:Xoe,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,o){const r=o&&o.levels||1,s=this.getLineNumbers(o,i);o&&o.direction==="up"?Koe(t,!1,r,s):P0(t,!1,r,s)}}class U3e extends pr{constructor(){super({id:"editor.unfoldRecursively",label:m("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2142),weight:100}})}invoke(e,t,i,o){P0(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}}class $3e extends pr{constructor(){super({id:"editor.fold",label:m("foldAction.label","Fold"),alias:"Fold",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:Xoe,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,o){const r=this.getLineNumbers(o,i),s=o&&o.levels,a=o&&o.direction;typeof s!="number"&&typeof a!="string"?S3e(t,!0,r):a==="up"?Koe(t,!0,s||1,r):P0(t,!0,s||1,r)}}class j3e extends pr{constructor(){super({id:"editor.toggleFold",label:m("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2090),weight:100}})}invoke(e,t,i){const o=this.getSelectedLines(i);joe(t,1,o)}}class K3e extends pr{constructor(){super({id:"editor.foldRecursively",label:m("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2140),weight:100}})}invoke(e,t,i){const o=this.getSelectedLines(i);P0(t,!0,Number.MAX_VALUE,o)}}class q3e extends pr{constructor(){super({id:"editor.foldAllBlockComments",label:m("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2138),weight:100}})}invoke(e,t,i,o,r){if(t.regions.hasTypes())DW(t,Nr.Comment.value,!0);else{const s=i.getModel();if(!s)return;const a=r.getLanguageConfiguration(s.getLanguageId()).comments;if(a&&a.blockCommentStartToken){const l=new RegExp("^\\s*"+ra(a.blockCommentStartToken));LW(t,l,!0)}}}}class G3e extends pr{constructor(){super({id:"editor.foldAllMarkerRegions",label:m("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2077),weight:100}})}invoke(e,t,i,o,r){if(t.regions.hasTypes())DW(t,Nr.Region.value,!0);else{const s=i.getModel();if(!s)return;const a=r.getLanguageConfiguration(s.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){const l=new RegExp(a.markers.start);LW(t,l,!0)}}}}class Z3e extends pr{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:m("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2078),weight:100}})}invoke(e,t,i,o,r){if(t.regions.hasTypes())DW(t,Nr.Region.value,!1);else{const s=i.getModel();if(!s)return;const a=r.getLanguageConfiguration(s.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){const l=new RegExp(a.markers.start);LW(t,l,!1)}}}}class Y3e extends pr{constructor(){super({id:"editor.foldAllExcept",label:m("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2136),weight:100}})}invoke(e,t,i){const o=this.getSelectedLines(i);qoe(t,!0,o)}}class X3e extends pr{constructor(){super({id:"editor.unfoldAllExcept",label:m("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2134),weight:100}})}invoke(e,t,i){const o=this.getSelectedLines(i);qoe(t,!1,o)}}class Q3e extends pr{constructor(){super({id:"editor.foldAll",label:m("foldAllAction.label","Fold All"),alias:"Fold All",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2069),weight:100}})}invoke(e,t,i){P0(t,!0)}}class J3e extends pr{constructor(){super({id:"editor.unfoldAll",label:m("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2088),weight:100}})}invoke(e,t,i){P0(t,!1)}}class Mm extends pr{getFoldingLevel(){return parseInt(this.id.substr(Mm.ID_PREFIX.length))}invoke(e,t,i){x3e(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}}Mm.ID_PREFIX="editor.foldLevel";Mm.ID=n=>Mm.ID_PREFIX+n;class eFe extends pr{constructor(){super({id:"editor.gotoParentFold",label:m("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,weight:100}})}invoke(e,t,i){const o=this.getSelectedLines(i);if(o.length>0){const r=k3e(o[0],t);r!==null&&i.setSelection({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1})}}}class tFe extends pr{constructor(){super({id:"editor.gotoPreviousFold",label:m("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,weight:100}})}invoke(e,t,i){const o=this.getSelectedLines(i);if(o.length>0){const r=L3e(o[0],t);r!==null&&i.setSelection({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1})}}}class iFe extends pr{constructor(){super({id:"editor.gotoNextFold",label:m("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,weight:100}})}invoke(e,t,i){const o=this.getSelectedLines(i);if(o.length>0){const r=D3e(o[0],t);r!==null&&i.setSelection({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1})}}}class nFe extends pr{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:m("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2135),weight:100}})}invoke(e,t,i){var o;const r=[],s=i.getSelections();if(s){for(const a of s){let l=a.endLineNumber;a.endColumn===1&&--l,l>a.startLineNumber&&(r.push({startLineNumber:a.startLineNumber,endLineNumber:l,type:void 0,isCollapsed:!0,source:1}),i.setSelection({startLineNumber:a.startLineNumber,startColumn:1,endLineNumber:a.startLineNumber,endColumn:1}))}if(r.length>0){r.sort((l,c)=>l.startLineNumber-c.startLineNumber);const a=qs.sanitizeAndMerge(t.regions,r,(o=i.getModel())===null||o===void 0?void 0:o.getLineCount());t.updatePost(qs.fromFoldRanges(a))}}}}class oFe extends pr{constructor(){super({id:"editor.removeManualFoldingRanges",label:m("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2137),weight:100}})}invoke(e,t,i){const o=i.getSelections();if(o){const r=[];for(const s of o){const{startLineNumber:a,endLineNumber:l}=s;r.push(l>=a?{startLineNumber:a,endLineNumber:l}:{endLineNumber:l,startLineNumber:a})}t.removeManualRanges(r),e.triggerFoldingModelChanged()}}}Gt(Ud.ID,Ud,0);de(z3e);de(U3e);de($3e);de(K3e);de(Q3e);de(J3e);de(q3e);de(G3e);de(Z3e);de(Y3e);de(X3e);de(j3e);de(eFe);de(tFe);de(iFe);de(nFe);de(oFe);for(let n=1;n<=7;n++)e_e(new Mm({id:Mm.ID(n),label:m("foldLevelAction.label","Fold Level {0}",n),alias:`Fold Level ${n}`,precondition:tr,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2048|21+n),weight:100}}));Pt.registerCommand("_executeFoldingRangeProvider",async function(n,...e){const[t]=e;if(!(t instanceof Ke))throw Ra();const i=n.get(Re),o=n.get(Yi).getModel(t);if(!o)throw Ra();const r=n.get(yt);if(!r.getValue("editor.folding",{resource:t}))return[];const s=n.get(Di),a=r.getValue("editor.foldingStrategy",{resource:t}),l={get limit(){return r.getValue("editor.foldingMaximumRegions",{resource:t})},update:(g,f)=>{}},c=new EW(o,s,l);let d=c;if(a!=="indentation"){const g=Ud.getFoldingRangeProviders(i,o);g.length&&(d=new IW(o,g,()=>{},l,c))}const u=await d.compute(Dt.None),h=[];try{if(u)for(let g=0;g<u.length;g++){const f=u.getType(g);h.push({start:u.getStartLineNumber(g),end:u.getEndLineNumber(g),kind:f?Nr.fromValue(f):void 0})}return h}finally{d.dispose()}});class rFe extends Le{constructor(){super({id:"editor.action.fontZoomIn",label:m("EditorFontZoomIn.label","Increase Editor Font Size"),alias:"Increase Editor Font Size",precondition:void 0})}run(e,t){wa.setZoomLevel(wa.getZoomLevel()+1)}}class sFe extends Le{constructor(){super({id:"editor.action.fontZoomOut",label:m("EditorFontZoomOut.label","Decrease Editor Font Size"),alias:"Decrease Editor Font Size",precondition:void 0})}run(e,t){wa.setZoomLevel(wa.getZoomLevel()-1)}}class aFe extends Le{constructor(){super({id:"editor.action.fontZoomReset",label:m("EditorFontZoomReset.label","Reset Editor Font Size"),alias:"Reset Editor Font Size",precondition:void 0})}run(e,t){wa.setZoomLevel(0)}}de(rFe);de(sFe);de(aFe);var Qoe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},GC=function(n,e){return function(t,i){e(t,i,n)}};let Vw=class{constructor(e,t,i,o){this._editor=e,this._languageFeaturesService=t,this._workerService=i,this._accessibilitySignalService=o,this._disposables=new oe,this._sessionDisposables=new oe,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(r=>{r.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;const i=new s2;for(const o of t.autoFormatTriggerCharacters)i.add(o.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(o=>{const r=o.charCodeAt(o.length-1);i.has(r)&&this._trigger(String.fromCharCode(r))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),i=this._editor.getPosition(),o=new gn,r=this._editor.onDidChangeModelContent(s=>{if(s.isFlush){o.cancel(),r.dispose();return}for(let a=0,l=s.changes.length;a<l;a++)if(s.changes[a].range.endLineNumber<=i.lineNumber){o.cancel(),r.dispose();return}});Xie(this._workerService,this._languageFeaturesService,t,i,e,t.getFormattingOptions(),o.token).then(s=>{o.token.isCancellationRequested||Yo(s)&&(this._accessibilitySignalService.playSignal(vt.format,{userGesture:!1}),X_.execute(this._editor,s,!0))}).finally(()=>{r.dispose()})}};Vw.ID="editor.contrib.autoFormat";Vw=Qoe([GC(1,Re),GC(2,Tl),GC(3,Vf)],Vw);let Hw=class{constructor(e,t,i){this.editor=e,this._languageFeaturesService=t,this._instantiationService=i,this._callOnDispose=new oe,this._callOnModel=new oe,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e)))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(Yie,this.editor,e,2,Yu.None,Dt.None,!1).catch(st))}};Hw.ID="editor.contrib.formatOnPaste";Hw=Qoe([GC(1,Re),GC(2,Ge)],Hw);class lFe extends Le{constructor(){super({id:"editor.action.formatDocument",label:m("formatDocument.label","Format Document"),alias:"Format Document",precondition:ee.and(I.notInCompositeEditor,I.writable,I.hasDocumentFormattingProvider),kbOpts:{kbExpr:I.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}async run(e,t){if(t.hasModel()){const i=e.get(Ge);await e.get(Ff).showWhile(i.invokeFunction(TAe,t,1,Yu.None,Dt.None,!0),250)}}}class cFe extends Le{constructor(){super({id:"editor.action.formatSelection",label:m("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:ee.and(I.writable,I.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2084),weight:100},contextMenuOpts:{when:I.hasNonEmptySelection,group:"1_modification",order:1.31}})}async run(e,t){if(!t.hasModel())return;const i=e.get(Ge),o=t.getModel(),r=t.getSelections().map(a=>a.isEmpty()?new D(a.startLineNumber,1,a.startLineNumber,o.getLineMaxColumn(a.startLineNumber)):a);await e.get(Ff).showWhile(i.invokeFunction(Yie,t,r,1,Yu.None,Dt.None,!0),250)}}Gt(Vw.ID,Vw,2);Gt(Hw.ID,Hw,2);de(lFe);de(cFe);Pt.registerCommand("editor.action.format",async n=>{const e=n.get(qt).getFocusedCodeEditor();if(!e||!e.hasModel())return;const t=n.get(tn);e.getSelection().isEmpty()?await t.executeCommand("editor.action.formatDocument"):await t.executeCommand("editor.action.formatSelection")});var dFe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},EA=function(n,e){return function(t,i){e(t,i,n)}};class xb{remove(){var e;(e=this.parent)===null||e===void 0||e.children.delete(this.id)}static findId(e,t){let i;typeof e=="string"?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,t.children.get(i)!==void 0&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let o=i;for(let r=0;t.children.get(o)!==void 0;r++)o=`${i}_${r}`;return o}static empty(e){return e.children.size===0}}class sB extends xb{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}}class Joe extends xb{constructor(e,t,i,o){super(),this.id=e,this.parent=t,this.label=i,this.order=o,this.children=new Map}}class vu extends xb{static create(e,t,i){const o=new gn(i),r=new vu(t.uri),s=e.ordered(t),a=s.map((c,d)=>{var u;const h=xb.findId(`provider_${d}`,r),g=new Joe(h,r,(u=c.displayName)!==null&&u!==void 0?u:"Unknown Outline Provider",d);return Promise.resolve(c.provideDocumentSymbols(t,o.token)).then(f=>{for(const p of f||[])vu._makeOutlineElement(p,g);return g},f=>(Bn(f),g)).then(f=>{xb.empty(f)?f.remove():r._groups.set(h,f)})}),l=e.onDidChange(()=>{const c=e.ordered(t);en(c,s)||o.cancel()});return Promise.all(a).then(()=>o.token.isCancellationRequested&&!i.isCancellationRequested?vu.create(e,t,i):r._compact()).finally(()=>{o.dispose(),l.dispose(),o.dispose()})}static _makeOutlineElement(e,t){const i=xb.findId(e,t),o=new sB(i,t,e);if(e.children)for(const r of e.children)vu._makeOutlineElement(r,o);t.children.set(o.id,o)}constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let e=0;for(const[t,i]of this._groups)i.children.size===0?this._groups.delete(t):e+=1;if(e!==1)this.children=this._groups;else{const t=Mt.first(this._groups.values());for(const[,i]of t.children)i.parent=this,this.children.set(i.id,i)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof sB?e.push(t.symbol):e.push(...Mt.map(t.children.values(),i=>i.symbol));return e.sort((t,i)=>D.compareRangesUsingStarts(t.range,i.range))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return vu._flattenDocumentSymbols(t,e,""),t.sort((i,o)=>W.compare(D.getStartPosition(i.range),D.getStartPosition(o.range))||W.compare(D.getEndPosition(o.range),D.getEndPosition(i.range)))}static _flattenDocumentSymbols(e,t,i){for(const o of t)e.push({kind:o.kind,tags:o.tags,name:o.name,detail:o.detail,containerName:o.containerName||i,range:o.range,selectionRange:o.selectionRange,children:void 0}),o.children&&vu._flattenDocumentSymbols(e,o.children,o.name)}}const nx=Et("IOutlineModelService");let aB=class{constructor(e,t,i){this._languageFeaturesService=e,this._disposables=new oe,this._cache=new Af(10,.7),this._debounceInformation=t.for(e.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(i.onModelRemoved(o=>{this._cache.delete(o.id)}))}dispose(){this._disposables.dispose()}async getOrCreate(e,t){const i=this._languageFeaturesService.documentSymbolProvider,o=i.ordered(e);let r=this._cache.get(e.id);if(!r||r.versionId!==e.getVersionId()||!en(r.provider,o)){const a=new gn;r={versionId:e.getVersionId(),provider:o,promiseCnt:0,source:a,promise:vu.create(i,e,a.token),model:void 0},this._cache.set(e.id,r);const l=Date.now();r.promise.then(c=>{r.model=c,this._debounceInformation.update(e,Date.now()-l)}).catch(c=>{this._cache.delete(e.id)})}if(r.model)return r.model;r.promiseCnt+=1;const s=t.onCancellationRequested(()=>{--r.promiseCnt===0&&(r.source.cancel(),this._cache.delete(e.id))});try{return await r.promise}finally{s.dispose()}}};aB=dFe([EA(0,Re),EA(1,Ka),EA(2,Yi)],aB);Ot(nx,aB,1);Pt.registerCommand("_executeDocumentSymbolProvider",async function(n,...e){const[t]=e;Jt(Ke.isUri(t));const i=n.get(nx),r=await n.get(us).createModelReference(t);try{return(await i.getOrCreate(r.object.textEditorModel,Dt.None)).getTopLevelSymbols()}finally{r.dispose()}});class vo extends z{constructor(e,t){super(),this.contextKeyService=e,this.model=t,this.inlineCompletionVisible=vo.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=vo.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=vo.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=vo.suppressSuggestions.bindTo(this.contextKeyService),this._register(Lt(i=>{const o=this.model.read(i),r=o==null?void 0:o.state.read(i),s=!!(r!=null&&r.inlineCompletion)&&(r==null?void 0:r.primaryGhostText)!==void 0&&!(r!=null&&r.primaryGhostText.isEmpty());this.inlineCompletionVisible.set(s),r!=null&&r.primaryGhostText&&(r!=null&&r.inlineCompletion)&&this.suppressSuggestions.set(r.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register(Lt(i=>{const o=this.model.read(i);let r=!1,s=!0;const a=o==null?void 0:o.primaryGhostText.read(i);if(o!=null&&o.selectedSuggestItem&&a&&a.parts.length>0){const{column:l,lines:c}=a.parts[0],d=c[0],u=o.textModel.getLineIndentColumn(a.lineNumber);if(l<=u){let g=hr(d);g===-1&&(g=d.length-1),r=g>0;const f=o.textModel.getOptions().tabSize;s=Zn.visibleColumnFromColumn(d,g+1,f)<f}}this.inlineCompletionSuggestsIndentation.set(r),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(s)}))}}vo.inlineSuggestionVisible=new we("inlineSuggestionVisible",!1,m("inlineSuggestionVisible","Whether an inline suggestion is visible"));vo.inlineSuggestionHasIndentation=new we("inlineSuggestionHasIndentation",!1,m("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"));vo.inlineSuggestionHasIndentationLessThanTabSize=new we("inlineSuggestionHasIndentationLessThanTabSize",!0,m("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));vo.suppressSuggestions=new we("inlineSuggestionSuppressSuggestions",void 0,m("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"));function uFe(n,e){const t=new hFe(n),i=e.map(o=>{const r=D.lift(o.range);return{startOffset:t.getOffset(r.getStartPosition()),endOffset:t.getOffset(r.getEndPosition()),text:o.text}});i.sort((o,r)=>r.startOffset-o.startOffset);for(const o of i)n=n.substring(0,o.startOffset)+o.text+n.substring(o.endOffset);return n}class hFe{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)e.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}const gFe=[];function fFe(){return gFe}class ere{constructor(e,t){if(this.startColumn=e,this.endColumnExclusive=t,e>t)throw new Hi(`startColumn ${e} cannot be after endColumnExclusive ${t}`)}toRange(e){return new D(e,this.startColumn,e,this.endColumnExclusive)}equals(e){return this.startColumn===e.startColumn&&this.endColumnExclusive===e.endColumnExclusive}}function tre(n,e){const t=new oe,i=n.createDecorationsCollection();return t.add(YI({debugName:()=>`Apply decorations from ${e.debugName}`},o=>{const r=e.read(o);i.set(r)})),t.add({dispose:()=>{i.clear()}}),t}function DN(n,e){return new W(n.lineNumber+e.lineNumber-1,e.lineNumber===1?n.column+e.column-1:e.column)}function kq(n,e){return new W(n.lineNumber-e.lineNumber+1,n.lineNumber-e.lineNumber===0?n.column-e.column+1:n.column)}function NW(n){let e=1,t=1;for(const i of n)i===`
`?(e++,t=1):t++;return new W(e,t)}function pFe(n){var e;const t=[];let i=0,o=0,r=0;for(const s of n){const a=(e=s.text)!==null&&e!==void 0?e:"",l=NW(a),c=W.lift({lineNumber:s.range.startLineNumber+o,column:s.range.startColumn+(s.range.startLineNumber===i?r:0)}),d=DN(c,l);t.push(D.fromPositions(c,d)),o+=l.lineNumber-s.range.endLineNumber+s.range.startLineNumber-1,r=d.column-s.range.endColumn,i=s.range.endLineNumber}return t}class IE{constructor(e){this._indexMap=e}static createSortPermutation(e,t){const i=Array.from(e.keys()).sort((o,r)=>t(e[o],e[r]));return new IE(i)}apply(e){return e.map((t,i)=>e[this._indexMap[i]])}inverse(){const e=this._indexMap.slice();for(let t=0;t<this._indexMap.length;t++)e[this._indexMap[t]]=t;return new IE(e)}}class zw{constructor(e,t){this.lineNumber=e,this.parts=t}equals(e){return this.lineNumber===e.lineNumber&&this.parts.length===e.parts.length&&this.parts.every((t,i)=>t.equals(e.parts[i]))}renderForScreenReader(e){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],i=e.substr(0,t.column-1);return uFe(i,this.parts.map(r=>({range:{startLineNumber:1,endLineNumber:1,startColumn:r.column,endColumn:r.column},text:r.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(e=>e.lines.length===0)}get lineCount(){return 1+this.parts.reduce((e,t)=>e+t.lines.length-1,0)}}class NE{constructor(e,t,i){this.column=e,this.text=t,this.preview=i,this.lines=qd(this.text)}equals(e){return this.column===e.column&&this.lines.length===e.lines.length&&this.lines.every((t,i)=>t===e.lines[i])}}class lB{constructor(e,t,i,o=0){this.lineNumber=e,this.columnRange=t,this.text=i,this.additionalReservedLineCount=o,this.parts=[new NE(this.columnRange.endColumnExclusive,this.text,!1)],this.newLines=qd(this.text)}renderForScreenReader(e){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(e=>e.lines.length===0)}equals(e){return this.lineNumber===e.lineNumber&&this.columnRange.equals(e.columnRange)&&this.newLines.length===e.newLines.length&&this.newLines.every((t,i)=>t===e.newLines[i])&&this.additionalReservedLineCount===e.additionalReservedLineCount}}function Lq(n,e){return en(n,e,ire)}function ire(n,e){return n===e?!0:!n||!e?!1:n instanceof zw&&e instanceof zw||n instanceof lB&&e instanceof lB?n.equals(e):!1}var mFe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},vFe=function(n,e){return function(t,i){e(t,i,n)}};const Dq="ghost-text";let cB=class extends z{constructor(e,t,i){super(),this.editor=e,this.model=t,this.languageService=i,this.isDisposed=$t(this,!1),this.currentTextModel=Pi(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=nt(this,o=>{if(this.isDisposed.read(o))return;const r=this.currentTextModel.read(o);if(r!==this.model.targetTextModel.read(o))return;const s=this.model.ghostText.read(o);if(!s)return;const a=s instanceof lB?s.columnRange:void 0,l=[],c=[];function d(p,b){if(c.length>0){const v=c[c.length-1];b&&v.decorations.push(new Rr(v.content.length+1,v.content.length+1+p[0].length,b,0)),v.content+=p[0],p=p.slice(1)}for(const v of p)c.push({content:v,decorations:b?[new Rr(1,v.length+1,b,0)]:[]})}const u=r.getLineContent(s.lineNumber);let h,g=0;for(const p of s.parts){let b=p.lines;h===void 0?(l.push({column:p.column,text:b[0],preview:p.preview}),b=b.slice(1)):d([u.substring(g,p.column-1)],void 0),b.length>0&&(d(b,Dq),h===void 0&&p.column<=u.length&&(h=p.column)),g=p.column-1}h!==void 0&&d([u.substring(g)],void 0);const f=h!==void 0?new ere(h,u.length+1):void 0;return{replacedRange:a,inlineTexts:l,additionalLines:c,hiddenRange:f,lineNumber:s.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(o),targetTextModel:r}}),this.decorations=nt(this,o=>{const r=this.uiState.read(o);if(!r)return[];const s=[];r.replacedRange&&s.push({range:r.replacedRange.toRange(r.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),r.hiddenRange&&s.push({range:r.hiddenRange.toRange(r.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const a of r.inlineTexts)s.push({range:D.fromPositions(new W(r.lineNumber,a.column)),options:{description:Dq,after:{content:a.text,inlineClassName:a.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:ul.Left},showIfCollapsed:!0}});return s}),this.additionalLinesWidget=this._register(new nre(this.editor,this.languageService.languageIdCodec,nt(o=>{const r=this.uiState.read(o);return r?{lineNumber:r.lineNumber,additionalLines:r.additionalLines,minReservedLineCount:r.additionalReservedLineCount,targetTextModel:r.targetTextModel}:void 0}))),this._register(je(()=>{this.isDisposed.set(!0,void 0)})),this._register(tre(this.editor,this.decorations))}ownsViewZone(e){return this.additionalLinesWidget.viewZoneId===e}};cB=mFe([vFe(2,Bi)],cB);class nre extends z{get viewZoneId(){return this._viewZoneId}constructor(e,t,i){super(),this.editor=e,this.languageIdCodec=t,this.lines=i,this._viewZoneId=void 0,this.editorOptionsChanged=Er("editorOptionChanged",me.filter(this.editor.onDidChangeConfiguration,o=>o.hasChanged(33)||o.hasChanged(117)||o.hasChanged(99)||o.hasChanged(94)||o.hasChanged(51)||o.hasChanged(50)||o.hasChanged(67))),this._register(Lt(o=>{const r=this.lines.read(o);this.editorOptionsChanged.read(o),r?this.updateLines(r.lineNumber,r.additionalLines,r.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,i){const o=this.editor.getModel();if(!o)return;const{tabSize:r}=o.getOptions();this.editor.changeViewZones(s=>{this._viewZoneId&&(s.removeZone(this._viewZoneId),this._viewZoneId=void 0);const a=Math.max(t.length,i);if(a>0){const l=document.createElement("div");bFe(l,r,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=s.addZone({afterLineNumber:e,heightInLines:a,domNode:l,afterColumnAffinity:1})}})}}function bFe(n,e,t,i,o){const r=i.get(33),s=i.get(117),a="none",l=i.get(94),c=i.get(51),d=i.get(50),u=i.get(67),h=new _0(1e4);h.appendString('<div class="suggest-preview-text">');for(let p=0,b=t.length;p<b;p++){const v=t[p],_=v.content;h.appendString('<div class="view-line'),h.appendString('" style="top:'),h.appendString(String(p*u)),h.appendString('px;width:1000000px;">');const C=_S(_),y=x_(_),w=io.createEmpty(_,o);LS(new Pf(d.isMonospace&&!r,d.canUseHalfwidthRightwardsArrow,_,!1,C,y,0,w,v.decorations,e,0,d.spaceWidth,d.middotWidth,d.wsmiddotWidth,s,a,l,c!==Zs.OFF,null),h),h.appendString("</div>")}h.appendString("</div>"),zo(n,d);const g=h.build(),f=Eq?Eq.createHTML(g):g;n.innerHTML=f}const Eq=yh("editorGhostText",{createHTML:n=>n});function _Fe(n,e){const t=new Oee,i=new Bee(t,c=>e.getLanguageConfiguration(c)),o=new Fee(new CFe([n]),i),r=D4(o,[],void 0,!0);let s="";const a=n.getLineContent();function l(c,d){if(c.kind===2)if(l(c.openingBracket,d),d=an(d,c.openingBracket.length),c.child&&(l(c.child,d),d=an(d,c.child.length)),c.closingBracket)l(c.closingBracket,d),d=an(d,c.closingBracket.length);else{const h=i.getSingleLanguageBracketTokens(c.openingBracket.languageId).findClosingTokenText(c.openingBracket.bracketIds);s+=h}else if(c.kind!==3){if(c.kind===0||c.kind===1)s+=a.substring(d,an(d,c.length));else if(c.kind===4)for(const u of c.children)l(u,d),d=an(d,u.length)}}return l(r,Mr),s}class CFe{constructor(e){this.lines=e,this.tokenization={getLineTokens:t=>this.lines[t-1]}}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}}async function yFe(n,e,t,i,o=Dt.None,r){const s=xFe(e,t),a=n.all(t),l=new f6;for(const v of a)v.groupId&&l.add(v.groupId,v);function c(v){if(!v.yieldsToGroupIds)return[];const _=[];for(const C of v.yieldsToGroupIds||[]){const y=l.get(C);for(const w of y)_.push(w)}return _}const d=new Map,u=new Set;function h(v,_){if(_=[..._,v],u.has(v))return _;u.add(v);try{const C=c(v);for(const y of C){const w=h(y,_);if(w)return w}}finally{u.delete(v)}}function g(v){const _=d.get(v);if(_)return _;const C=h(v,[]);C&&Bn(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${C.map(w=>w.toString?w.toString():""+w).join(" -> ")}`));const y=new BT;return d.set(v,y.p),(async()=>{if(!C){const w=c(v);for(const S of w){const x=await g(S);if(x&&x.items.length>0)return}}try{return await v.provideInlineCompletions(t,e,i,o)}catch(w){Bn(w);return}})().then(w=>y.complete(w),w=>y.error(w)),y.p}const f=await Promise.all(a.map(async v=>({provider:v,completions:await g(v)}))),p=new Map,b=[];for(const v of f){const _=v.completions;if(!_)continue;const C=new SFe(_,v.provider);b.push(C);for(const y of _.items){const w=RE.from(y,C,s,t,r);p.set(w.hash(),w)}}return new wFe(Array.from(p.values()),new Set(p.keys()),b)}class wFe{constructor(e,t,i){this.completions=e,this.hashs=t,this.providerResults=i}has(e){return this.hashs.has(e.hash())}dispose(){for(const e of this.providerResults)e.removeRef()}}class SFe{constructor(e,t){this.inlineCompletions=e,this.provider=t,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}class RE{static from(e,t,i,o,r){let s,a,l=e.range?D.lift(e.range):i;if(typeof e.insertText=="string"){if(s=e.insertText,r&&e.completeBracketPairs){s=Tq(s,l.getStartPosition(),o,r);const c=s.length-e.insertText.length;c!==0&&(l=new D(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+c))}a=void 0}else if("snippet"in e.insertText){const c=e.insertText.snippet.length;if(r&&e.completeBracketPairs){e.insertText.snippet=Tq(e.insertText.snippet,l.getStartPosition(),o,r);const u=e.insertText.snippet.length-c;u!==0&&(l=new D(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+u))}const d=new Lm().parse(e.insertText.snippet);d.children.length===1&&d.children[0]instanceof Lr?(s=d.children[0].value,a=void 0):(s=d.toString(),a={snippet:e.insertText.snippet,range:l})}else JT(e.insertText);return new RE(s,e.command,l,s,a,e.additionalTextEdits||fFe(),e,t)}constructor(e,t,i,o,r,s,a,l){this.filterText=e,this.command=t,this.range=i,this.insertText=o,this.snippetInfo=r,this.additionalTextEdits=s,this.sourceInlineCompletion=a,this.source=l,e=e.replace(/\r\n|\r/g,`
`),o=e.replace(/\r\n|\r/g,`
`)}withRange(e){return new RE(this.filterText,this.command,e,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}function xFe(n,e){const t=e.getWordAtPosition(n),i=e.getLineMaxColumn(n.lineNumber);return t?new D(n.lineNumber,t.startColumn,n.lineNumber,i):D.fromPositions(n,n.with(void 0,i))}function Tq(n,e,t,i){const r=t.getLineContent(e.lineNumber).substring(0,e.column-1)+n,s=t.tokenization.tokenizeLineWithEdit(e,r.length-(e.column-1),n),a=s==null?void 0:s.sliceAndInflate(e.column-1,r.length,0);return a?_Fe(a,i):n}class Sf{constructor(e,t){this.range=e,this.text=t}removeCommonPrefix(e,t){const i=t?this.range.intersectRanges(t):this.range;if(!i)return this;const o=e.getValueInRange(i,1),r=Jg(o,this.text),s=DN(this.range.getStartPosition(),NW(o.substring(0,r))),a=this.text.substring(r),l=D.fromPositions(s,this.range.getEndPosition());return new Sf(l,a)}augments(e){return this.text.startsWith(e.text)&&kFe(this.range,e.range)}computeGhostText(e,t,i,o=0){let r=this.removeCommonPrefix(e);if(r.range.endLineNumber!==r.range.startLineNumber)return;const s=e.getLineContent(r.range.startLineNumber),a=wi(s).length;if(r.range.startColumn-1<=a){const f=wi(r.text).length,p=s.substring(r.range.startColumn-1,a),[b,v]=[r.range.getStartPosition(),r.range.getEndPosition()],_=b.column+p.length<=v.column?b.delta(0,p.length):v,C=D.fromPositions(_,v),y=r.text.startsWith(p)?r.text.substring(p.length):r.text.substring(f);r=new Sf(C,y)}const c=e.getValueInRange(r.range),d=LFe(c,r.text);if(!d)return;const u=r.range.startLineNumber,h=new Array;if(t==="prefix"){const f=d.filter(p=>p.originalLength===0);if(f.length>1||f.length===1&&f[0].originalStart!==c.length)return}const g=r.text.length-o;for(const f of d){const p=r.range.startColumn+f.originalStart+f.originalLength;if(t==="subwordSmart"&&i&&i.lineNumber===r.range.startLineNumber&&p<i.column||f.originalLength>0)return;if(f.modifiedLength===0)continue;const b=f.modifiedStart+f.modifiedLength,v=Math.max(f.modifiedStart,Math.min(b,g)),_=r.text.substring(f.modifiedStart,v),C=r.text.substring(v,Math.max(f.modifiedStart,b));_.length>0&&h.push(new NE(p,_,!1)),C.length>0&&h.push(new NE(p,C,!0))}return new zw(u,h)}}function kFe(n,e){return e.getStartPosition().equals(n.getStartPosition())&&e.getEndPosition().isBeforeOrEqual(n.getEndPosition())}let $c;function LFe(n,e){if(($c==null?void 0:$c.originalValue)===n&&($c==null?void 0:$c.newValue)===e)return $c==null?void 0:$c.changes;{let t=Nq(n,e,!0);if(t){const i=Iq(t);if(i>0){const o=Nq(n,e,!1);o&&Iq(o)<i&&(t=o)}}return $c={originalValue:n,newValue:e,changes:t},t}}function Iq(n){let e=0;for(const t of n)e+=t.originalLength;return e}function Nq(n,e,t){if(n.length>5e3||e.length>5e3)return;function i(c){let d=0;for(let u=0,h=c.length;u<h;u++){const g=c.charCodeAt(u);g>d&&(d=g)}return d}const o=Math.max(i(n),i(e));function r(c){if(c<0)throw new Error("unexpected");return o+c+1}function s(c){let d=0,u=0;const h=new Int32Array(c.length);for(let g=0,f=c.length;g<f;g++)if(t&&c[g]==="("){const p=u*100+d;h[g]=r(2*p),d++}else if(t&&c[g]===")"){d=Math.max(d-1,0);const p=u*100+d;h[g]=r(2*p+1),d===0&&u++}else h[g]=c.charCodeAt(g);return h}const a=s(n),l=s(e);return new sd({getElements:()=>a},{getElements:()=>l}).ComputeDiff(!1).changes}var DFe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Rq=function(n,e){return function(t,i){e(t,i,n)}};let dB=class extends z{constructor(e,t,i,o,r){super(),this.textModel=e,this.versionId=t,this._debounceValue=i,this.languageFeaturesService=o,this.languageConfigurationService=r,this._updateOperation=this._register(new bo),this.inlineCompletions=Lw("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=Lw("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(e,t,i){var o,r;const s=new TFe(e,t,this.textModel.getVersionId()),a=t.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((o=this._updateOperation.value)===null||o===void 0)&&o.request.satisfies(s))return this._updateOperation.value.promise;if(!((r=a.get())===null||r===void 0)&&r.request.satisfies(s))return Promise.resolve(!0);const l=!!this._updateOperation.value;this._updateOperation.clear();const c=new gn,d=(async()=>{if((l||t.triggerKind===qu.Automatic)&&await EFe(this._debounceValue.get(this.textModel),c.token),c.token.isCancellationRequested||this.textModel.getVersionId()!==s.versionId)return!1;const g=new Date,f=await yFe(this.languageFeaturesService.inlineCompletionsProvider,e,this.textModel,t,c.token,this.languageConfigurationService);if(c.token.isCancellationRequested||this.textModel.getVersionId()!==s.versionId)return!1;const p=new Date;this._debounceValue.update(this.textModel,p.getTime()-g.getTime());const b=new RFe(f,s,this.textModel,this.versionId);if(i){const v=i.toInlineCompletion(void 0);i.canBeReused(this.textModel,e)&&!f.has(v)&&b.prepend(i.inlineCompletion,v.range,!0)}return this._updateOperation.clear(),Ti(v=>{a.set(b,v)}),!0})(),u=new NFe(s,c,d);return this._updateOperation.value=u,d}clear(e){this._updateOperation.clear(),this.inlineCompletions.set(void 0,e),this.suggestWidgetInlineCompletions.set(void 0,e)}clearSuggestWidgetInlineCompletions(e){var t;!((t=this._updateOperation.value)===null||t===void 0)&&t.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,e)}cancelUpdate(){this._updateOperation.clear()}};dB=DFe([Rq(3,Re),Rq(4,Di)],dB);function EFe(n,e){return new Promise(t=>{let i;const o=setTimeout(()=>{i&&i.dispose(),t()},n);e&&(i=e.onCancellationRequested(()=>{clearTimeout(o),i&&i.dispose(),t()}))})}class TFe{constructor(e,t,i){this.position=e,this.context=t,this.versionId=i}satisfies(e){return this.position.equals(e.position)&&IFe(this.context.selectedSuggestionInfo,e.context.selectedSuggestionInfo,(t,i)=>t.equals(i))&&(e.context.triggerKind===qu.Automatic||this.context.triggerKind===qu.Explicit)&&this.versionId===e.versionId}}function IFe(n,e,t){return!n||!e?n===e:t(n,e)}class NFe{constructor(e,t,i){this.request=e,this.cancellationTokenSource=t,this.promise=i}dispose(){this.cancellationTokenSource.cancel()}}class RFe{get inlineCompletions(){return this._inlineCompletions}constructor(e,t,i,o){this.inlineCompletionProviderResult=e,this.request=t,this.textModel=i,this.versionId=o,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=nt(this,s=>{this.versionId.read(s);let a=!1;for(const l of this._inlineCompletions)a=a||l._updateRange(this.textModel);return a&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const r=i.deltaDecorations([],e.completions.map(s=>({range:s.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=e.completions.map((s,a)=>new Mq(s,r[a],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this.textModel.isDisposed()||this.textModel.deltaDecorations(this._inlineCompletions.map(e=>e.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const e of this._prependedInlineCompletionItems)e.source.removeRef()}}prepend(e,t,i){i&&e.source.addRef();const o=this.textModel.deltaDecorations([],[{range:t,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new Mq(e,o,this._rangeVersionId,t)),this._prependedInlineCompletionItems.push(e)}}class Mq{get forwardStable(){var e;return(e=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&e!==void 0?e:!1}constructor(e,t,i,o){this.inlineCompletion=e,this.decorationId=t,this.rangeVersion=i,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=o??e.range}toInlineCompletion(e){return this.inlineCompletion.withRange(this._getUpdatedRange(e))}toSingleTextEdit(e){return new Sf(this._getUpdatedRange(e),this.inlineCompletion.insertText)}isVisible(e,t,i){const o=this._toFilterTextReplacement(i).removeCommonPrefix(e);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(i).getStartPosition())||t.lineNumber!==o.range.startLineNumber)return!1;const r=e.getValueInRange(o.range,1),s=o.text,a=Math.max(0,t.column-o.range.startColumn);let l=s.substring(0,a),c=s.substring(a),d=r.substring(0,a),u=r.substring(a);const h=e.getLineIndentColumn(o.range.startLineNumber);return o.range.startColumn<=h&&(d=d.trimStart(),d.length===0&&(u=u.trimStart()),l=l.trimStart(),l.length===0&&(c=c.trimStart())),l.startsWith(d)&&!!Cte(u,c)}canBeReused(e,t){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(t)&&this.isVisible(e,t,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(e){return new Sf(this._getUpdatedRange(e),this.inlineCompletion.filterText)}_isSmallerThanOriginal(e){return Aq(this._getUpdatedRange(e)).isBefore(Aq(this.inlineCompletion.range))}_getUpdatedRange(e){return this.rangeVersion.read(e),this._updatedRange}_updateRange(e){const t=e.getDecorationRange(this.decorationId);return t?this._updatedRange.equalsRange(t)?!1:(this._updatedRange=t,!0):(this._isValid=!1,!0)}}function Aq(n){return n.startLineNumber===n.endLineNumber?new W(1,1+n.endColumn-n.startColumn):new W(1+n.endLineNumber-n.startLineNumber,n.endColumn)}const pt={Visible:xW,HasFocusedSuggestion:new we("suggestWidgetHasFocusedSuggestion",!1,m("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new we("suggestWidgetDetailsVisible",!1,m("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new we("suggestWidgetMultipleSuggestions",!1,m("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new we("suggestionMakesTextEdit",!0,m("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new we("acceptSuggestionOnEnter",!0,m("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new we("suggestionHasInsertAndReplaceRange",!1,m("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new we("suggestionInsertMode",void 0,{type:"string",description:m("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new we("suggestionCanResolve",!1,m("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},Kg=new T("suggestWidgetStatusBar");class MFe{constructor(e,t,i,o){var r;this.position=e,this.completion=t,this.container=i,this.provider=o,this.isInvalid=!1,this.score=pc.Default,this.distance=0,this.textLabel=typeof t.label=="string"?t.label:(r=t.label)===null||r===void 0?void 0:r.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),this.extensionId=t.extensionId,D.isIRange(t.range)?(this.editStart=new W(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new W(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new W(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||D.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new W(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new W(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new W(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||D.spansMultipleLines(t.range.insert)||D.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),typeof o.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}async resolve(e){if(!this._resolveCache){const t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),i=new Jo(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(o=>{Object.assign(this.completion,o),this._resolveDuration=i.elapsed()},o=>{Ic(o)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{t.dispose()})}return this._resolveCache}}class Uw{constructor(e=2,t=new Set,i=new Set,o=new Map,r=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i,this.providerItemsToReuse=o,this.showDeprecated=r}}Uw.default=new Uw;let AFe;function PFe(){return AFe}class OFe{constructor(e,t,i,o){this.items=e,this.needsClipboard=t,this.durations=i,this.disposable=o}}async function RW(n,e,t,i=Uw.default,o={triggerKind:0},r=Dt.None){const s=new Jo;t=t.clone();const a=e.getWordAtPosition(t),l=a?new D(t.lineNumber,a.startColumn,t.lineNumber,a.endColumn):D.fromPositions(t),c={replace:l,insert:l.setEndPosition(t.lineNumber,t.column)},d=[],u=new oe,h=[];let g=!1;const f=(b,v,_)=>{var C,y,w;let S=!1;if(!v)return S;for(const x of v.suggestions)if(!i.kindFilter.has(x.kind)){if(!i.showDeprecated&&(!((C=x==null?void 0:x.tags)===null||C===void 0)&&C.includes(1)))continue;x.range||(x.range=c),x.sortText||(x.sortText=typeof x.label=="string"?x.label:x.label.label),!g&&x.insertTextRules&&x.insertTextRules&4&&(g=Lm.guessNeedsClipboard(x.insertText)),d.push(new MFe(t,x,v,b)),S=!0}return O8(v)&&u.add(v),h.push({providerName:(y=b._debugDisplayName)!==null&&y!==void 0?y:"unknown_provider",elapsedProvider:(w=v.duration)!==null&&w!==void 0?w:-1,elapsedOverall:_.elapsed()}),S},p=(async()=>{})();for(const b of n.orderedGroups(e)){let v=!1;if(await Promise.all(b.map(async _=>{if(i.providerItemsToReuse.has(_)){const C=i.providerItemsToReuse.get(_);C.forEach(y=>d.push(y)),v=v||C.length>0;return}if(!(i.providerFilter.size>0&&!i.providerFilter.has(_)))try{const C=new Jo,y=await _.provideCompletionItems(e,t,o,r);v=f(_,y,C)||v}catch(C){Bn(C)}})),v||r.isCancellationRequested)break}return await p,r.isCancellationRequested?(u.dispose(),Promise.reject(new Rf)):new OFe(d.sort(WFe(i.snippetSortOrder)),g,{entries:h,elapsed:s.elapsed()},u)}function MW(n,e){if(n.sortTextLow&&e.sortTextLow){if(n.sortTextLow<e.sortTextLow)return-1;if(n.sortTextLow>e.sortTextLow)return 1}return n.textLabel<e.textLabel?-1:n.textLabel>e.textLabel?1:n.completion.kind-e.completion.kind}function FFe(n,e){if(n.completion.kind!==e.completion.kind){if(n.completion.kind===27)return-1;if(e.completion.kind===27)return 1}return MW(n,e)}function BFe(n,e){if(n.completion.kind!==e.completion.kind){if(n.completion.kind===27)return 1;if(e.completion.kind===27)return-1}return MW(n,e)}const EN=new Map;EN.set(0,FFe);EN.set(2,BFe);EN.set(1,MW);function WFe(n){return EN.get(n)}Pt.registerCommand("_executeCompletionItemProvider",async(n,...e)=>{const[t,i,o,r]=e;Jt(Ke.isUri(t)),Jt(W.isIPosition(i)),Jt(typeof o=="string"||!o),Jt(typeof r=="number"||!r);const{completionProvider:s}=n.get(Re),a=await n.get(us).createModelReference(t);try{const l={incomplete:!1,suggestions:[]},c=[],d=a.object.textEditorModel.validatePosition(i),u=await RW(s,a.object.textEditorModel,d,void 0,{triggerCharacter:o??void 0,triggerKind:o?1:0});for(const h of u.items)c.length<(r??0)&&c.push(h.resolve(Dt.None)),l.incomplete=l.incomplete||h.container.incomplete,l.suggestions.push(h.completion);try{return await Promise.all(c),l}finally{setTimeout(()=>u.disposable.dispose(),100)}}finally{a.dispose()}});function VFe(n,e){var t;(t=n.getContribution("editor.contrib.suggestController"))===null||t===void 0||t.triggerSuggest(new Set().add(e),void 0,!0)}class kb{static isAllOff(e){return e.other==="off"&&e.comments==="off"&&e.strings==="off"}static isAllOn(e){return e.other==="on"&&e.comments==="on"&&e.strings==="on"}static valueFor(e,t){switch(t){case 1:return e.comments;case 2:return e.strings;default:return e.other}}}function Pq(n,e=Qo){return Dxe(n,e)?n.charAt(0).toUpperCase()+n.slice(1):n}var HFe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},zFe=function(n,e){return function(t,i){e(t,i,n)}};class Oq{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){const i=t.resolve(e);if(i!==void 0)return i}}}class Fq{constructor(e,t,i,o){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=o}resolve(e){const{name:t}=e;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){let i=this._model.getValueInRange(this._selection)||void 0,o=this._selection.startLineNumber!==this._selection.endLineNumber;if(!i&&this._overtypingCapturer){const r=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);r&&(i=r.value,o=r.multiline)}if(i&&o&&e.snippet){const r=this._model.getLineContent(this._selection.startLineNumber),s=wi(r,0,this._selection.startColumn-1);let a=s;e.snippet.walk(c=>c===e?!1:(c instanceof Lr&&(a=wi(qd(c.value).pop())),!0));const l=Jg(a,s);i=i.replace(/(\r\n|\r|\n)(.*)/g,(c,d,u)=>`${d}${a.substr(l)}${u}`)}return i}else{if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){const i=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return i&&i.word||void 0}else{if(t==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(t==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(t==="CURSOR_INDEX")return String(this._selectionIdx);if(t==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}class Bq{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if(t==="TM_FILENAME")return Mg(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){const i=Mg(this._model.uri.fsPath),o=i.lastIndexOf(".");return o<=0?i:i.slice(0,o)}else{if(t==="TM_DIRECTORY")return CQ(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(CI(this._model.uri));if(t==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(t==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class Wq{constructor(e,t,i,o){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=o}resolve(e){if(e.name!=="CLIPBOARD")return;const t=this._readClipboardText();if(t){if(this._spread){const i=t.split(/\r\n|\n|\r/).filter(o=>!DQ(o));if(i.length===this._selectionCount)return i[this._selectionIdx]}return t}}}let ME=class{constructor(e,t,i){this._model=e,this._selection=t,this._languageConfigurationService=i}resolve(e){const{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),o=this._languageConfigurationService.getLanguageConfiguration(i).comments;if(o){if(t==="LINE_COMMENT")return o.lineCommentToken||void 0;if(t==="BLOCK_COMMENT_START")return o.blockCommentStartToken||void 0;if(t==="BLOCK_COMMENT_END")return o.blockCommentEndToken||void 0}}};ME=HFe([zFe(2,Di)],ME);class rc{constructor(){this._date=new Date}resolve(e){const{name:t}=e;if(t==="CURRENT_YEAR")return String(this._date.getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(t==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(t==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(t==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(t==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(t==="CURRENT_DAY_NAME")return rc.dayNames[this._date.getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return rc.dayNamesShort[this._date.getDay()];if(t==="CURRENT_MONTH_NAME")return rc.monthNames[this._date.getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return rc.monthNamesShort[this._date.getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(t==="CURRENT_TIMEZONE_OFFSET"){const i=this._date.getTimezoneOffset(),o=i>0?"-":"+",r=Math.trunc(Math.abs(i/60)),s=r<10?"0"+r:r,a=Math.abs(i)-r*60,l=a<10?"0"+a:a;return o+s+":"+l}}}rc.dayNames=[m("Sunday","Sunday"),m("Monday","Monday"),m("Tuesday","Tuesday"),m("Wednesday","Wednesday"),m("Thursday","Thursday"),m("Friday","Friday"),m("Saturday","Saturday")];rc.dayNamesShort=[m("SundayShort","Sun"),m("MondayShort","Mon"),m("TuesdayShort","Tue"),m("WednesdayShort","Wed"),m("ThursdayShort","Thu"),m("FridayShort","Fri"),m("SaturdayShort","Sat")];rc.monthNames=[m("January","January"),m("February","February"),m("March","March"),m("April","April"),m("May","May"),m("June","June"),m("July","July"),m("August","August"),m("September","September"),m("October","October"),m("November","November"),m("December","December")];rc.monthNamesShort=[m("JanuaryShort","Jan"),m("FebruaryShort","Feb"),m("MarchShort","Mar"),m("AprilShort","Apr"),m("MayShort","May"),m("JuneShort","Jun"),m("JulyShort","Jul"),m("AugustShort","Aug"),m("SeptemberShort","Sep"),m("OctoberShort","Oct"),m("NovemberShort","Nov"),m("DecemberShort","Dec")];class Vq{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=W2e(this._workspaceService.getWorkspace());if(!O2e(t)){if(e.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(t);if(e.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(t)}}_resolveWorkspaceName(e){if(s3(e))return Mg(e.uri.path);let t=Mg(e.configPath.path);return t.endsWith(a3)&&(t=t.substr(0,t.length-a3.length-1)),t}_resoveWorkspacePath(e){if(s3(e))return Pq(e.uri.fsPath);const t=Mg(e.configPath.path);let i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?Pq(i):"/"}}class Hq{resolve(e){const{name:t}=e;if(t==="RANDOM")return Math.random().toString().slice(-6);if(t==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(t==="UUID")return lN()}}var UFe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},$Fe=function(n,e){return function(t,i){e(t,i,n)}},Ol;class _a{constructor(e,t,i){this._editor=e,this._snippet=t,this._snippetLineLeadingWhitespace=i,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=ez(t.placeholders,ya.compareByIndex),this._placeholderGroupsIdx=-1}initialize(e){this._offset=e.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations(t=>{for(const i of this._snippet.placeholders){const o=this._snippet.offset(i),r=this._snippet.fullLen(i),s=D.fromPositions(e.getPositionAt(this._offset+o),e.getPositionAt(this._offset+o+r)),a=i.isFinalTabstop?_a._decor.inactiveFinal:_a._decor.inactive,l=t.addDecoration(s,a);this._placeholderDecorations.set(i,l)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const o=[];for(const r of this._placeholderGroups[this._placeholderGroupsIdx])if(r.transform){const s=this._placeholderDecorations.get(r),a=this._editor.getModel().getDecorationRange(s),l=this._editor.getModel().getValueInRange(a),c=r.transform.resolve(l).split(/\r\n|\r|\n/);for(let d=1;d<c.length;d++)c[d]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+c[d]);o.push(zi.replace(a,c.join(this._editor.getModel().getEOL())))}o.length>0&&this._editor.executeEdits("snippet.placeholderTransform",o)}let t=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const i=this._editor.getModel().changeDecorations(o=>{const r=new Set,s=[];for(const a of this._placeholderGroups[this._placeholderGroupsIdx]){const l=this._placeholderDecorations.get(a),c=this._editor.getModel().getDecorationRange(l);s.push(new Pe(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(a),o.changeDecorationOptions(l,a.isFinalTabstop?_a._decor.activeFinal:_a._decor.active),r.add(a);for(const d of this._snippet.enclosingPlaceholders(a)){const u=this._placeholderDecorations.get(d);o.changeDecorationOptions(u,d.isFinalTabstop?_a._decor.activeFinal:_a._decor.active),r.add(d)}}for(const[a,l]of this._placeholderDecorations)r.has(a)||o.changeDecorationOptions(l,a.isFinalTabstop?_a._decor.inactiveFinal:_a._decor.inactive);return s});return t?this.move(e):i??[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof ya){const i=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[e]=this._snippet.placeholders;if(e.isFinalTabstop&&this._snippet.rightMostDescendant===e)return!0}return!1}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let i;for(const o of t){if(o.isFinalTabstop)break;i||(i=[],e.set(o.index,i));const r=this._placeholderDecorations.get(o),s=this._editor.getModel().getDecorationRange(r);if(!s){e.delete(o.index);break}i.push(s)}}return e}get activeChoice(){if(!this._placeholderDecorations)return;const e=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(e!=null&&e.choice))return;const t=this._placeholderDecorations.get(e);if(!t)return;const i=this._editor.getModel().getDecorationRange(t);if(i)return{range:i,choice:e.choice}}get hasChoice(){let e=!1;return this._snippet.walk(t=>(e=t instanceof A0,!e)),e}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(i=>{for(const o of this._placeholderGroups[this._placeholderGroupsIdx]){const r=e.shift();console.assert(r._offset!==-1),console.assert(!r._placeholderDecorations);const s=r._snippet.placeholderInfo.last.index;for(const l of r._snippet.placeholderInfo.all)l.isFinalTabstop?l.index=o.index+(s+1)/this._nestingLevel:l.index=o.index+l.index/this._nestingLevel;this._snippet.replace(o,r._snippet.children);const a=this._placeholderDecorations.get(o);i.removeDecoration(a),this._placeholderDecorations.delete(o);for(const l of r._snippet.placeholders){const c=r._snippet.offset(l),d=r._snippet.fullLen(l),u=D.fromPositions(t.getPositionAt(r._offset+c),t.getPositionAt(r._offset+c+d)),h=i.addDecoration(u,_a._decor.inactive);this._placeholderDecorations.set(l,h)}}this._placeholderGroups=ez(this._snippet.placeholders,ya.compareByIndex)})}}_a._decor={active:dt.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:dt.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:dt.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:dt.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const zq={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let AE=Ol=class{static adjustWhitespace(e,t,i,o,r){const s=e.getLineContent(t.lineNumber),a=wi(s,0,t.column-1);let l;return o.walk(c=>{if(!(c instanceof Lr)||c.parent instanceof A0||r&&!r.has(c))return!0;const d=c.value.split(/\r\n|\r|\n/);if(i){const h=o.offset(c);if(h===0)d[0]=e.normalizeIndentation(d[0]);else{l=l??o.toString();const g=l.charCodeAt(h-1);(g===10||g===13)&&(d[0]=e.normalizeIndentation(a+d[0]))}for(let g=1;g<d.length;g++)d[g]=e.normalizeIndentation(a+d[g])}const u=d.join(e.getEOL());return u!==c.value&&(c.parent.replace(c,[new Lr(u)]),l=void 0),!0}),a}static adjustSelection(e,t,i,o){if(i!==0||o!==0){const{positionLineNumber:r,positionColumn:s}=t,a=s-i,l=s+o,c=e.validateRange({startLineNumber:r,startColumn:a,endLineNumber:r,endColumn:l});t=Pe.createWithDirection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn,t.getDirection())}return t}static createEditsAndSnippetsFromSelections(e,t,i,o,r,s,a,l,c){const d=[],u=[];if(!e.hasModel())return{edits:d,snippets:u};const h=e.getModel(),g=e.invokeWithinContext(y=>y.get(Cm)),f=e.invokeWithinContext(y=>new Bq(y.get(z_),h)),p=()=>a,b=h.getValueInRange(Ol.adjustSelection(h,e.getSelection(),i,0)),v=h.getValueInRange(Ol.adjustSelection(h,e.getSelection(),0,o)),_=h.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),C=e.getSelections().map((y,w)=>({selection:y,idx:w})).sort((y,w)=>D.compareRangesUsingStarts(y.selection,w.selection));for(const{selection:y,idx:w}of C){let S=Ol.adjustSelection(h,y,i,0),x=Ol.adjustSelection(h,y,0,o);b!==h.getValueInRange(S)&&(S=y),v!==h.getValueInRange(x)&&(x=y);const L=y.setStartPosition(S.startLineNumber,S.startColumn).setEndPosition(x.endLineNumber,x.endColumn),E=new Lm().parse(t,!0,r),O=L.getStartPosition(),P=Ol.adjustWhitespace(h,O,s||w>0&&_!==h.getLineFirstNonWhitespaceColumn(y.positionLineNumber),E);E.resolveVariables(new Oq([f,new Wq(p,w,C.length,e.getOption(79)==="spread"),new Fq(h,y,w,l),new ME(h,y,c),new rc,new Vq(g),new Hq])),d[w]=zi.replace(L,E.toString()),d[w].identifier={major:w,minor:0},d[w]._isTracked=!0,u[w]=new _a(e,E,P)}return{edits:d,snippets:u}}static createEditsAndSnippetsFromEdits(e,t,i,o,r,s,a){if(!e.hasModel()||t.length===0)return{edits:[],snippets:[]};const l=[],c=e.getModel(),d=new Lm,u=new YS,h=new Oq([e.invokeWithinContext(f=>new Bq(f.get(z_),c)),new Wq(()=>r,0,e.getSelections().length,e.getOption(79)==="spread"),new Fq(c,e.getSelection(),0,s),new ME(c,e.getSelection(),a),new rc,new Vq(e.invokeWithinContext(f=>f.get(Cm))),new Hq]);t=t.sort((f,p)=>D.compareRangesUsingStarts(f.range,p.range));let g=0;for(let f=0;f<t.length;f++){const{range:p,template:b}=t[f];if(f>0){const w=t[f-1].range,S=D.fromPositions(w.getEndPosition(),p.getStartPosition()),x=new Lr(c.getValueInRange(S));u.appendChild(x),g+=x.value.length}const v=d.parseFragment(b,u);Ol.adjustWhitespace(c,p.getStartPosition(),!0,u,new Set(v)),u.resolveVariables(h);const _=u.toString(),C=_.slice(g);g=_.length;const y=zi.replace(p,C);y.identifier={major:f,minor:0},y._isTracked=!0,l.push(y)}return d.ensureFinalTabstop(u,i,!0),{edits:l,snippets:[new _a(e,u,"")]}}constructor(e,t,i=zq,o){this._editor=e,this._template=t,this._options=i,this._languageConfigurationService=o,this._templateMerges=[],this._snippets=[]}dispose(){si(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=typeof this._template=="string"?Ol.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):Ol.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=t,this._editor.executeEdits("snippet",e,i=>{const o=i.filter(r=>!!r.identifier);for(let r=0;r<t.length;r++)t[r].initialize(o[r].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):o.map(r=>Pe.fromPositions(r.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=zq){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:i,snippets:o}=Ol.createEditsAndSnippetsFromSelections(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",i,r=>{const s=r.filter(l=>!!l.identifier);for(let l=0;l<o.length;l++)o[l].initialize(s[l].textChange);const a=o[0].isTrivialSnippet;if(!a){for(const l of this._snippets)l.merge(o);console.assert(o.length===0)}return this._snippets[0].hasPlaceholder&&!a?this._move(void 0):s.map(l=>Pe.fromPositions(l.range.getEndPosition()))})}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const i of this._snippets){const o=i.move(e);t.push(...o)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;const t=new Map;for(const i of this._snippets){const o=i.computePossibleSelections();if(t.size===0)for(const[r,s]of o){s.sort(D.compareRangesUsingStarts);for(const a of e)if(s[0].containsRange(a)){t.set(r,[]);break}}if(t.size===0)return!1;t.forEach((r,s)=>{r.push(...o.get(s))})}e.sort(D.compareRangesUsingStarts);for(const[i,o]of t){if(o.length!==e.length){t.delete(i);continue}o.sort(D.compareRangesUsingStarts);for(let r=0;r<o.length;r++)if(!o[r].containsRange(e[r])){t.delete(i);continue}}return t.size>0}};AE=Ol=UFe([$Fe(3,Di)],AE);var jFe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Uk=function(n,e){return function(t,i){e(t,i,n)}},Wv;const Uq={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let No=Wv=class{static get(e){return e.getContribution(Wv.ID)}constructor(e,t,i,o,r){this._editor=e,this._logService=t,this._languageFeaturesService=i,this._languageConfigurationService=r,this._snippetListener=new oe,this._modelVersionId=-1,this._inSnippet=Wv.InSnippetMode.bindTo(o),this._hasNextTabstop=Wv.HasNextTabstop.bindTo(o),this._hasPrevTabstop=Wv.HasPrevTabstop.bindTo(o)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(e=this._session)===null||e===void 0||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,typeof t>"u"?Uq:{...Uq,...t})}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){var i;if(this._editor.hasModel()){if(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof e!="string"&&this.cancel(),this._session?(Jt(typeof e=="string"),this._session.merge(e,t)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new AE(this._editor,e,t,this._languageConfigurationService),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),!((i=this._session)===null||i===void 0)&&i.hasChoice){const o={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(d,u)=>{if(!this._session||d!==this._editor.getModel()||!W.equals(this._editor.getPosition(),u))return;const{activeChoice:h}=this._session;if(!h||h.choice.options.length===0)return;const g=d.getValueInRange(h.range),f=!!h.choice.options.find(b=>b.value===g),p=[];for(let b=0;b<h.choice.options.length;b++){const v=h.choice.options[b];p.push({kind:13,label:v.value,insertText:v.value,sortText:"a".repeat(b+1),range:h.range,filterText:f?`${g}_${v.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:m("next","Go to next placeholder...")}})}return{suggestions:p}}},r=this._editor.getModel();let s,a=!1;const l=()=>{s==null||s.dispose(),a=!1},c=()=>{a||(s=this._languageFeaturesService.completionProvider.register({language:r.getLanguageId(),pattern:r.uri.fsPath,scheme:r.uri.scheme,exclusive:!0},o),this._snippetListener.add(s),a=!0)};this._choiceCompletions={provider:o,enable:c,disable:l}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(o=>o.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var e;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:t}=this._session;if(!t||!this._choiceCompletions){(e=this._choiceCompletions)===null||e===void 0||e.disable(),this._currentChoice=void 0;return}this._currentChoice!==t.choice&&(this._currentChoice=t.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{VFe(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(t=this._session)===null||t===void 0||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){var e;(e=this._session)===null||e===void 0||e.prev(),this._updateState()}next(){var e;(e=this._session)===null||e===void 0||e.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};No.ID="snippetController2";No.InSnippetMode=new we("inSnippetMode",!1,m("inSnippetMode","Whether the editor in current in snippet mode"));No.HasNextTabstop=new we("hasNextTabstop",!1,m("hasNextTabstop","Whether there is a next tab stop when in snippet mode"));No.HasPrevTabstop=new we("hasPrevTabstop",!1,m("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));No=Wv=jFe([Uk(1,zr),Uk(2,Re),Uk(3,Xe),Uk(4,Di)],No);Gt(No.ID,No,4);const TN=_o.bindToContribution(No.get);ve(new TN({id:"jumpToNextSnippetPlaceholder",precondition:ee.and(No.InSnippetMode,No.HasNextTabstop),handler:n=>n.next(),kbOpts:{weight:130,kbExpr:I.editorTextFocus,primary:2}}));ve(new TN({id:"jumpToPrevSnippetPlaceholder",precondition:ee.and(No.InSnippetMode,No.HasPrevTabstop),handler:n=>n.prev(),kbOpts:{weight:130,kbExpr:I.editorTextFocus,primary:1026}}));ve(new TN({id:"leaveSnippet",precondition:No.InSnippetMode,handler:n=>n.cancel(!0),kbOpts:{weight:130,kbExpr:I.editorTextFocus,primary:9,secondary:[1033]}}));ve(new TN({id:"acceptSnippet",precondition:No.InSnippetMode,handler:n=>n.finish()}));var KFe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},TA=function(n,e){return function(t,i){e(t,i,n)}},zs;(function(n){n[n.Undo=0]="Undo",n[n.Redo=1]="Redo",n[n.AcceptWord=2]="AcceptWord",n[n.Other=3]="Other"})(zs||(zs={}));let uB=class extends z{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(e,t,i,o,r,s,a,l,c,d,u,h){super(),this.textModel=e,this.selectedSuggestItem=t,this.textModelVersionId=i,this._positions=o,this._debounceValue=r,this._suggestPreviewEnabled=s,this._suggestPreviewMode=a,this._inlineSuggestMode=l,this._enabled=c,this._instantiationService=d,this._commandService=u,this._languageConfigurationService=h,this._source=this._register(this._instantiationService.createInstance(dB,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=$t(this,!1),this._forceUpdateSignal=$7("forceUpdate"),this._selectedInlineCompletionId=$t(this,void 0),this._primaryPosition=nt(this,f=>{var p;return(p=this._positions.read(f)[0])!==null&&p!==void 0?p:new W(1,1)}),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([zs.Redo,zs.Undo,zs.AcceptWord]),this._fetchInlineCompletions=qNe({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:qu.Automatic}),handleChange:(f,p)=>(f.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(f.change)?p.preserveCurrentCompletion=!0:f.didChange(this._forceUpdateSignal)&&(p.inlineCompletionTriggerKind=f.change),!0)},(f,p)=>{if(this._forceUpdateSignal.read(f),!(this._enabled.read(f)&&this.selectedSuggestItem.read(f)||this._isActive.read(f))){this._source.cancelUpdate();return}this.textModelVersionId.read(f);const v=this.selectedInlineCompletion.get(),_=p.preserveCurrentCompletion||v!=null&&v.forwardStable?v:void 0,C=this._source.suggestWidgetInlineCompletions.get(),y=this.selectedSuggestItem.read(f);if(C&&!y){const x=this._source.inlineCompletions.get();Ti(L=>{(!x||C.request.versionId>x.request.versionId)&&this._source.inlineCompletions.set(C.clone(),L),this._source.clearSuggestWidgetInlineCompletions(L)})}const w=this._primaryPosition.read(f),S={triggerKind:p.inlineCompletionTriggerKind,selectedSuggestionInfo:y==null?void 0:y.toSelectedSuggestionInfo()};return this._source.fetch(w,S,_)}),this._filteredInlineCompletionItems=nt(this,f=>{const p=this._source.inlineCompletions.read(f);if(!p)return[];const b=this._primaryPosition.read(f);return p.inlineCompletions.filter(_=>_.isVisible(this.textModel,b,f))}),this.selectedInlineCompletionIndex=nt(this,f=>{const p=this._selectedInlineCompletionId.read(f),b=this._filteredInlineCompletionItems.read(f),v=this._selectedInlineCompletionId===void 0?-1:b.findIndex(_=>_.semanticId===p);return v===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):v}),this.selectedInlineCompletion=nt(this,f=>{const p=this._filteredInlineCompletionItems.read(f),b=this.selectedInlineCompletionIndex.read(f);return p[b]}),this.lastTriggerKind=this._source.inlineCompletions.map(this,f=>f==null?void 0:f.request.context.triggerKind),this.inlineCompletionsCount=nt(this,f=>{if(this.lastTriggerKind.read(f)===qu.Explicit)return this._filteredInlineCompletionItems.read(f).length}),this.state=i_({owner:this,equalityComparer:(f,p)=>!f||!p?f===p:Lq(f.ghostTexts,p.ghostTexts)&&f.inlineCompletion===p.inlineCompletion&&f.suggestItem===p.suggestItem},f=>{var p,b;const v=this.textModel,_=this.selectedSuggestItem.read(f);if(_){const C=_.toSingleTextEdit().removeCommonPrefix(v),y=this._computeAugmentation(C,f);if(!this._suggestPreviewEnabled.read(f)&&!y)return;const S=(p=y==null?void 0:y.edit)!==null&&p!==void 0?p:C,x=y?y.edit.text.length-C.text.length:0,L=this._suggestPreviewMode.read(f),E=this._positions.read(f),O=[S,...IA(this.textModel,E,S)],P=O.map((F,K)=>F.computeGhostText(v,L,E[K],x)).filter(xd),A=(b=P[0])!==null&&b!==void 0?b:new zw(S.range.endLineNumber,[]);return{edits:O,primaryGhostText:A,ghostTexts:P,inlineCompletion:y==null?void 0:y.completion,suggestItem:_}}else{if(!this._isActive.read(f))return;const C=this.selectedInlineCompletion.read(f);if(!C)return;const y=C.toSingleTextEdit(f),w=this._inlineSuggestMode.read(f),S=this._positions.read(f),x=[y,...IA(this.textModel,S,y)],L=x.map((E,O)=>E.computeGhostText(v,w,S[O],0)).filter(xd);return L[0]?{edits:x,primaryGhostText:L[0],ghostTexts:L,inlineCompletion:C,suggestItem:void 0}:void 0}}),this.ghostTexts=i_({owner:this,equalityComparer:Lq},f=>{const p=this.state.read(f);if(p)return p.ghostTexts}),this.primaryGhostText=i_({owner:this,equalityComparer:ire},f=>{const p=this.state.read(f);if(p)return p==null?void 0:p.primaryGhostText}),this._register(GS(this._fetchInlineCompletions));let g;this._register(Lt(f=>{var p,b;const v=this.state.read(f),_=v==null?void 0:v.inlineCompletion;if((_==null?void 0:_.semanticId)!==(g==null?void 0:g.semanticId)&&(g=_,_)){const C=_.inlineCompletion,y=C.source;(b=(p=y.provider).handleItemDidShow)===null||b===void 0||b.call(p,y.inlineCompletions,C.sourceInlineCompletion,C.insertText)}}))}async trigger(e){this._isActive.set(!0,e),await this._fetchInlineCompletions.get()}async triggerExplicitly(e){kw(e,t=>{this._isActive.set(!0,t),this._forceUpdateSignal.trigger(t,qu.Explicit)}),await this._fetchInlineCompletions.get()}stop(e){kw(e,t=>{this._isActive.set(!1,t),this._source.clear(t)})}_computeAugmentation(e,t){const i=this.textModel,o=this._source.suggestWidgetInlineCompletions.read(t),r=o?o.inlineCompletions:[this.selectedInlineCompletion.read(t)].filter(xd);return C0e(r,a=>{let l=a.toSingleTextEdit(t);return l=l.removeCommonPrefix(i,D.fromPositions(l.range.getStartPosition(),e.range.getEndPosition())),l.augments(e)?{completion:a,edit:l}:void 0})}async _deltaSelectedInlineCompletionIndex(e){await this.triggerExplicitly();const t=this._filteredInlineCompletionItems.get()||[];if(t.length>0){const i=(this.selectedInlineCompletionIndex.get()+e+t.length)%t.length;this._selectedInlineCompletionId.set(t[i].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)}async next(){await this._deltaSelectedInlineCompletionIndex(1)}async previous(){await this._deltaSelectedInlineCompletionIndex(-1)}async accept(e){var t;if(e.getModel()!==this.textModel)throw new Hi;const i=this.state.get();if(!i||i.primaryGhostText.isEmpty()||!i.inlineCompletion)return;const o=i.inlineCompletion.toInlineCompletion(void 0);if(e.pushUndoStop(),o.snippetInfo)e.executeEdits("inlineSuggestion.accept",[zi.replaceMove(o.range,""),...o.additionalTextEdits]),e.setPosition(o.snippetInfo.range.getStartPosition(),"inlineCompletionAccept"),(t=No.get(e))===null||t===void 0||t.insert(o.snippetInfo.snippet,{undoStopBefore:!1});else{const r=i.edits,s=$q(r).map(a=>Pe.fromPositions(a));e.executeEdits("inlineSuggestion.accept",[...r.map(a=>zi.replaceMove(a.range,a.text)),...o.additionalTextEdits]),e.setSelections(s,"inlineCompletionAccept")}o.command&&o.source.addRef(),Ti(r=>{this._source.clear(r),this._isActive.set(!1,r)}),o.command&&(await this._commandService.executeCommand(o.command.id,...o.command.arguments||[]).then(void 0,Bn),o.source.removeRef())}async acceptNextWord(e){await this._acceptNext(e,(t,i)=>{const o=this.textModel.getLanguageIdAtPosition(t.lineNumber,t.column),r=this._languageConfigurationService.getLanguageConfiguration(o),s=new RegExp(r.wordDefinition.source,r.wordDefinition.flags.replace("g","")),a=i.match(s);let l=0;a&&a.index!==void 0?a.index===0?l=a[0].length:l=a.index:l=i.length;const d=/\s+/g.exec(i);return d&&d.index!==void 0&&d.index+d[0].length<l&&(l=d.index+d[0].length),l})}async acceptNextLine(e){await this._acceptNext(e,(t,i)=>{const o=i.match(/\n/);return o&&o.index!==void 0?o.index+1:i.length})}async _acceptNext(e,t){if(e.getModel()!==this.textModel)throw new Hi;const i=this.state.get();if(!i||i.primaryGhostText.isEmpty()||!i.inlineCompletion)return;const o=i.primaryGhostText,r=i.inlineCompletion.toInlineCompletion(void 0);if(r.snippetInfo||r.filterText!==r.insertText){await this.accept(e);return}const s=o.parts[0],a=new W(o.lineNumber,s.column),l=s.text,c=t(a,l);if(c===l.length&&o.parts.length===1){this.accept(e);return}const d=l.substring(0,c),u=this._positions.get(),h=u[0];r.source.addRef();try{this._isAcceptingPartially=!0;try{e.pushUndoStop();const g=D.fromPositions(h,a),f=e.getModel().getValueInRange(g)+d,p=new Sf(g,f),b=[p,...IA(this.textModel,u,p)],v=$q(b).map(_=>Pe.fromPositions(_));e.executeEdits("inlineSuggestion.accept",b.map(_=>zi.replaceMove(_.range,_.text))),e.setSelections(v,"inlineCompletionPartialAccept")}finally{this._isAcceptingPartially=!1}if(r.source.provider.handlePartialAccept){const g=D.fromPositions(r.range.getStartPosition(),DN(a,NW(d))),f=e.getModel().getValueInRange(g,1);r.source.provider.handlePartialAccept(r.source.inlineCompletions,r.sourceInlineCompletion,f.length)}}finally{r.source.removeRef()}}handleSuggestAccepted(e){var t,i;const o=e.toSingleTextEdit().removeCommonPrefix(this.textModel),r=this._computeAugmentation(o,void 0);if(!r)return;const s=r.completion.inlineCompletion;(i=(t=s.source.provider).handlePartialAccept)===null||i===void 0||i.call(t,s.source.inlineCompletions,s.sourceInlineCompletion,o.text.length)}};uB=KFe([TA(9,Ge),TA(10,tn),TA(11,Di)],uB);function IA(n,e,t){if(e.length===1)return[];const i=e[0],o=e.slice(1),r=t.range.getStartPosition(),s=t.range.getEndPosition(),a=n.getValueInRange(D.fromPositions(i,s)),l=kq(i,r);if(l.lineNumber<1)return st(new Hi(`positionWithinTextEdit line number should be bigger than 0.
			Invalid subtraction between ${i.toString()} and ${r.toString()}`)),[];const c=qFe(t.text,l);return o.map(d=>{const u=DN(kq(d,r),s),h=n.getValueInRange(D.fromPositions(d,u)),g=Jg(a,h),f=D.fromPositions(d,d.delta(0,g));return new Sf(f,c)})}function qFe(n,e){let t="";const i=Xme(n);for(let o=e.lineNumber-1;o<i.length;o++)t+=i[o].substring(o===e.lineNumber-1?e.column-1:0);return t}function $q(n){const e=IE.createSortPermutation(n,(o,r)=>D.compareRangesUsingStarts(o.range,r.range)),t=pFe(e.apply(n));return e.inverse().apply(t).map(o=>o.getEndPosition())}var GFe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},jq=function(n,e){return function(t,i){e(t,i,n)}},oC;class AW{constructor(e){this.name=e}select(e,t,i){if(i.length===0)return 0;const o=i[0].score[0];for(let r=0;r<i.length;r++){const{score:s,completion:a}=i[r];if(s[0]!==o)break;if(a.preselect)return r}return 0}}class ore extends AW{constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}}class ZFe extends AW{constructor(){super("recentlyUsed"),this._cache=new Af(300,.66),this._seq=0}memorize(e,t,i){const o=`${e.getLanguageId()}/${i.textLabel}`;this._cache.set(o,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(i.length===0)return 0;const o=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(o))return super.select(e,t,i);const r=i[0].score[0];let s=-1,a=-1,l=-1;for(let c=0;c<i.length&&i[c].score[0]===r;c++){const d=`${e.getLanguageId()}/${i[c].textLabel}`,u=this._cache.peek(d);if(u&&u.touch>l&&u.type===i[c].completion.kind&&u.insertText===i[c].completion.insertText&&(l=u.touch,a=c),i[c].completion.preselect&&s===-1)return s=c}return a!==-1?a:s!==-1?s:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();const t=0;for(const[i,o]of e)o.touch=t,o.type=typeof o.type=="number"?o.type:Ey.fromString(o.type),this._cache.set(i,o);this._seq=this._cache.size}}class YFe extends AW{constructor(){super("recentlyUsedByPrefix"),this._trie=Xb.forStrings(),this._seq=0}memorize(e,t,i){const{word:o}=e.getWordUntilPosition(t),r=`${e.getLanguageId()}/${o}`;this._trie.set(r,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){const{word:o}=e.getWordUntilPosition(t);if(!o)return super.select(e,t,i);const r=`${e.getLanguageId()}/${o}`;let s=this._trie.get(r);if(s||(s=this._trie.findSubstr(r)),s)for(let a=0;a<i.length;a++){const{kind:l,insertText:c}=i[a].completion;if(l===s.type&&c===s.insertText)return a}return super.select(e,t,i)}toJSON(){const e=[];return this._trie.forEach((t,i)=>e.push([i,t])),e.sort((t,i)=>-(t[1].touch-i[1].touch)).forEach((t,i)=>t[1].touch=i),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,i]of e)i.type=typeof i.type=="number"?i.type:Ey.fromString(i.type),this._trie.set(t,i)}}}let $w=oC=class{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new oe,this._persistSoon=new mi(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(i=>{i.reason===fw.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(e,t){var i;const o=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if(((i=this._strategy)===null||i===void 0?void 0:i.name)!==o){this._saveState();const r=oC._strategyCtors.get(o)||ore;this._strategy=new r;try{const a=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,l=this._storageService.get(`${oC._storagePrefix}/${o}`,a);l&&this._strategy.fromJSON(JSON.parse(l))}catch{}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${oC._storagePrefix}/${this._strategy.name}`,i,t,1)}}};$w._strategyCtors=new Map([["recentlyUsedByPrefix",YFe],["recentlyUsed",ZFe],["first",ore]]);$w._storagePrefix="suggest/memories";$w=oC=GFe([jq(0,El),jq(1,yt)],$w);const IN=Et("ISuggestMemories");Ot(IN,$w,1);var XFe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},QFe=function(n,e){return function(t,i){e(t,i,n)}},hB;let jw=hB=class{constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=hB.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration(i=>i.hasChanged(123)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),(e=this._selectionListener)===null||e===void 0||e.dispose(),this._ckAtEnd.reset()}_update(){const e=this._editor.getOption(123)==="on";if(this._enabled!==e)if(this._enabled=e,this._enabled){const t=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const i=this._editor.getModel(),o=this._editor.getSelection(),r=i.getWordAtPosition(o.getStartPosition());if(!r){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(r.endColumn===o.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};jw.AtEnd=new we("atEndOfWord",!1);jw=hB=XFe([QFe(1,Xe)],jw);var JFe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},eBe=function(n,e){return function(t,i){e(t,i,n)}},rC;let Am=rC=class{constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=rC.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),(e=this._listener)===null||e===void 0||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},i){if(e.items.length===0){this.reset();return}if(rC._moveIndex(!0,e,t)===t){this.reset();return}this._acceptNext=i,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(e,t,i){let o=i;for(let r=t.items.length;r>0&&(o=(o+t.items.length+(e?1:-1))%t.items.length,!(o===i||!t.items[o].completion.additionalTextEdits));r--);return o}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(this._model)try{this._ignore=!0,this._index=rC._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};Am.OtherSuggestions=new we("hasOtherSuggestions",!1);Am=rC=JFe([eBe(1,Xe)],Am);class tBe{constructor(e,t,i,o){this._disposables=new oe,this._disposables.add(i.onDidSuggest(r=>{r.completionModel.items.length===0&&this.reset()})),this._disposables.add(i.onDidCancel(r=>{this.reset()})),this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(r=>{if(this._active&&!t.isFrozen()&&i.state!==0){const s=r.charCodeAt(r.length-1);this._active.acceptCharacters.has(s)&&e.getOption(0)&&o(this._active.item)}}))}_onItem(e){if(!e||!Yo(e.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===e.item)return;const t=new s2;for(const i of e.item.completion.commitCharacters)i.length>0&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}class Us{async provideSelectionRanges(e,t){const i=[];for(const o of t){const r=[];i.push(r);const s=new Map;await new Promise(a=>Us._bracketsRightYield(a,0,e,o,s)),await new Promise(a=>Us._bracketsLeftYield(a,0,e,o,s,r))}return i}static _bracketsRightYield(e,t,i,o,r){const s=new Map,a=Date.now();for(;;){if(t>=Us._maxRounds){e();break}if(!o){e();break}const l=i.bracketPairs.findNextBracket(o);if(!l){e();break}if(Date.now()-a>Us._maxDuration){setTimeout(()=>Us._bracketsRightYield(e,t+1,i,o,r));break}if(l.bracketInfo.isOpeningBracket){const d=l.bracketInfo.bracketText,u=s.has(d)?s.get(d):0;s.set(d,u+1)}else{const d=l.bracketInfo.getOpeningBrackets()[0].bracketText;let u=s.has(d)?s.get(d):0;if(u-=1,s.set(d,Math.max(0,u)),u<0){let h=r.get(d);h||(h=new Ir,r.set(d,h)),h.push(l.range)}}o=l.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,o,r,s){const a=new Map,l=Date.now();for(;;){if(t>=Us._maxRounds&&r.size===0){e();break}if(!o){e();break}const c=i.bracketPairs.findPrevBracket(o);if(!c){e();break}if(Date.now()-l>Us._maxDuration){setTimeout(()=>Us._bracketsLeftYield(e,t+1,i,o,r,s));break}if(c.bracketInfo.isOpeningBracket){const u=c.bracketInfo.bracketText;let h=a.has(u)?a.get(u):0;if(h-=1,a.set(u,Math.max(0,h)),h<0){const g=r.get(u);if(g){const f=g.shift();g.size===0&&r.delete(u);const p=D.fromPositions(c.range.getEndPosition(),f.getStartPosition()),b=D.fromPositions(c.range.getStartPosition(),f.getEndPosition());s.push({range:p}),s.push({range:b}),Us._addBracketLeading(i,b,s)}}}else{const u=c.bracketInfo.getOpeningBrackets()[0].bracketText,h=a.has(u)?a.get(u):0;a.set(u,h+1)}o=c.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;const o=t.startLineNumber,r=e.getLineFirstNonWhitespaceColumn(o);r!==0&&r!==t.startColumn&&(i.push({range:D.fromPositions(new W(o,r),t.getEndPosition())}),i.push({range:D.fromPositions(new W(o,1),t.getEndPosition())}));const s=o-1;if(s>0){const a=e.getLineFirstNonWhitespaceColumn(s);a===t.startColumn&&a!==e.getLineLastNonWhitespaceColumn(s)&&(i.push({range:D.fromPositions(new W(s,a),t.getEndPosition())}),i.push({range:D.fromPositions(new W(s,1),t.getEndPosition())}))}}}Us._maxDuration=30;Us._maxRounds=2;class Xl{static async create(e,t){if(!t.getOption(118).localityBonus||!t.hasModel())return Xl.None;const i=t.getModel(),o=t.getPosition();if(!e.canComputeWordRanges(i.uri))return Xl.None;const[r]=await new Us().provideSelectionRanges(i,[o]);if(r.length===0)return Xl.None;const s=await e.computeWordRanges(i.uri,r[0].range);if(!s)return Xl.None;const a=i.getWordUntilPosition(o);return delete s[a.word],new class extends Xl{distance(l,c){if(!o.equals(t.getPosition()))return 0;if(c.kind===17)return 2<<20;const d=typeof c.label=="string"?c.label:c.label.label,u=s[d];if(ZX(u))return 2<<20;const h=Sy(u,D.fromPositions(l),D.compareRangesUsingStarts),g=h>=0?u[h]:u[Math.max(0,~h-1)];let f=r.length;for(const p of r){if(!D.containsRange(p.range,g))break;f-=1}return f}}}}Xl.None=new class extends Xl{distance(){return 0}};let Kq=class{constructor(e,t){this.leadingLineContent=e,this.characterCountDelta=t}};class og{constructor(e,t,i,o,r,s,a=LI.default,l=void 0){this.clipboardText=l,this._snippetCompareFn=og._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=o,this._options=r,this._refilterKind=1,this._lineContext=i,this._fuzzyScoreOptions=a,s==="top"?this._snippetCompareFn=og._compareCompletionItemsSnippetsUp:s==="bottom"&&(this._snippetCompareFn=og._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const e=new Set;for(const[t,i]of this.getItemsByProvider())i.length>0&&i[0].container.incomplete&&e.add(t);return e}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext;let o="",r="";const s=this._refilterKind===1?this._items:this._filteredItems,a=[],l=!this._options.filterGraceful||s.length>2e3?_m:NDe;for(let c=0;c<s.length;c++){const d=s[c];if(d.isInvalid)continue;const u=this._itemsByProvider.get(d.provider);u?u.push(d):this._itemsByProvider.set(d.provider,[d]);const h=d.position.column-d.editStart.column,g=h+i-(d.position.column-this._column);if(o.length!==g&&(o=g===0?"":t.slice(-g),r=o.toLowerCase()),d.word=o,g===0)d.score=pc.Default;else{let f=0;for(;f<h;){const p=o.charCodeAt(f);if(p===32||p===9)f+=1;else break}if(f>=g)d.score=pc.Default;else if(typeof d.completion.filterText=="string"){const p=l(o,r,f,d.completion.filterText,d.filterTextLow,0,this._fuzzyScoreOptions);if(!p)continue;W5(d.completion.filterText,d.textLabel)===0?d.score=p:(d.score=DDe(o,r,f,d.textLabel,d.labelLow,0),d.score[0]=p[0])}else{const p=l(o,r,f,d.textLabel,d.labelLow,0,this._fuzzyScoreOptions);if(!p)continue;d.score=p}}d.idx=c,d.distance=this._wordDistance.distance(d.position,d.completion),a.push(d),e.push(d.textLabel.length)}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?VO(e.length-.85,e,(c,d)=>c-d):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return og._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return og._compareCompletionItems(e,t)}}var iBe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Rh=function(n,e){return function(t,i){e(t,i,n)}},gB;class op{static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),i=e.getPosition();t.tokenization.tokenizeIfCheap(i.lineNumber);const o=t.getWordAtPosition(i);return!(!o||o.endColumn!==i.column&&o.startColumn+1!==i.column||!isNaN(Number(o.word)))}constructor(e,t,i){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.triggerOptions=i}}function nBe(n,e,t){if(!e.getContextKeyValue(vo.inlineSuggestionVisible.key))return!0;const i=e.getContextKeyValue(vo.suppressSuggestions.key);return i!==void 0?!i:!n.getOption(62).suppressSuggestions}function oBe(n,e,t){if(!e.getContextKeyValue("inlineSuggestionVisible"))return!0;const i=e.getContextKeyValue(vo.suppressSuggestions.key);return i!==void 0?!i:!n.getOption(62).suppressSuggestions}let PE=gB=class{constructor(e,t,i,o,r,s,a,l,c){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._telemetryService=o,this._logService=r,this._contextKeyService=s,this._configurationService=a,this._languageFeaturesService=l,this._envService=c,this._toDispose=new oe,this._triggerCharacterListener=new oe,this._triggerQuickSuggest=new Ll,this._triggerState=void 0,this._completionDisposables=new oe,this._onDidCancel=new B,this._onDidTrigger=new B,this._onDidSuggest=new B,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Pe(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let d=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{d=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{d=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(u=>{d||this._onCursorChange(u)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!d&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){si(this._triggerCharacterListener),si([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(91)||!this._editor.hasModel()||!this._editor.getOption(121))return;const e=new Map;for(const i of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const o of i.triggerCharacters||[]){let r=e.get(o);r||(r=new Set,r.add(PFe()),e.set(o,r)),r.add(i)}const t=i=>{var o;if(!oBe(this._editor,this._contextKeyService,this._configurationService)||op.shouldAutoTrigger(this._editor))return;if(!i){const a=this._editor.getPosition();i=this._editor.getModel().getLineContent(a.lineNumber).substr(0,a.column-1)}let r="";hm(i.charCodeAt(i.length-1))?to(i.charCodeAt(i.length-2))&&(r=i.substr(i.length-2)):r=i.charAt(i.length-1);const s=e.get(r);if(s){const a=new Map;if(this._completionModel)for(const[l,c]of this._completionModel.getItemsByProvider())s.has(l)||a.set(l,c);this.trigger({auto:!0,triggerKind:1,triggerCharacter:r,retrigger:!!this._completionModel,clipboardText:(o=this._completionModel)===null||o===void 0?void 0:o.clipboardText,completionOptions:{providerFilter:s,providerItemsToReuse:a}})}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>t()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(e=!1){var t;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(t=this._requestToken)===null||t===void 0||t.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&e.reason===0?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&e.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var e;kb.isAllOff(this._editor.getOption(89))||this._editor.getOption(118).snippetsPreventQuickSuggestions&&(!((e=No.get(this._editor))===null||e===void 0)&&e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!op.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const t=this._editor.getModel(),i=this._editor.getPosition(),o=this._editor.getOption(89);if(!kb.isAllOff(o)){if(!kb.isAllOn(o)){t.tokenization.tokenizeIfCheap(i.lineNumber);const r=t.tokenization.getLineTokens(i.lineNumber),s=r.getStandardTokenType(r.findTokenIndexAtOffset(Math.max(i.column-1-1,0)));if(kb.valueFor(o,s)!=="on")return}nBe(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(t)&&this.trigger({auto:!0})}},this._editor.getOption(90)))}_refilterCompletionItems(){Jt(this._editor.hasModel()),Jt(this._triggerState!==void 0);const e=this._editor.getModel(),t=this._editor.getPosition(),i=new op(e,t,{...this._triggerState,refilter:!0});this._onNewContext(i)}trigger(e){var t,i,o,r,s,a;if(!this._editor.hasModel())return;const l=this._editor.getModel(),c=new op(l,this._editor.getPosition(),e);this.cancel(e.retrigger),this._triggerState=e,this._onDidTrigger.fire({auto:e.auto,shy:(t=e.shy)!==null&&t!==void 0?t:!1,position:this._editor.getPosition()}),this._context=c;let d={triggerKind:(i=e.triggerKind)!==null&&i!==void 0?i:0};e.triggerCharacter&&(d={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new gn;const u=this._editor.getOption(112);let h=1;switch(u){case"top":h=0;break;case"bottom":h=2;break}const{itemKind:g,showDeprecated:f}=gB.createSuggestFilter(this._editor),p=new Uw(h,(r=(o=e.completionOptions)===null||o===void 0?void 0:o.kindFilter)!==null&&r!==void 0?r:g,(s=e.completionOptions)===null||s===void 0?void 0:s.providerFilter,(a=e.completionOptions)===null||a===void 0?void 0:a.providerItemsToReuse,f),b=Xl.create(this._editorWorkerService,this._editor),v=RW(this._languageFeaturesService.completionProvider,l,this._editor.getPosition(),p,d,this._requestToken.token);Promise.all([v,b]).then(async([_,C])=>{var y;if((y=this._requestToken)===null||y===void 0||y.dispose(),!this._editor.hasModel())return;let w=e==null?void 0:e.clipboardText;if(!w&&_.needsClipboard&&(w=await this._clipboardService.readText()),this._triggerState===void 0)return;const S=this._editor.getModel(),x=new op(S,this._editor.getPosition(),e),L={...LI.default,firstMatchCanBeWeak:!this._editor.getOption(118).matchOnWordStartOnly};if(this._completionModel=new og(_.items,this._context.column,{leadingLineContent:x.leadingLineContent,characterCountDelta:x.column-this._context.column},C,this._editor.getOption(118),this._editor.getOption(112),L,w),this._completionDisposables.add(_.disposable),this._onNewContext(x),this._reportDurationsTelemetry(_.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const E of _.items)E.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${E.provider._debugDisplayName}`,E.completion)}).catch(st)}_reportDurationsTelemetry(e){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static createSuggestFilter(e){const t=new Set;e.getOption(112)==="none"&&t.add(27);const o=e.getOption(118);return o.showMethods||t.add(0),o.showFunctions||t.add(1),o.showConstructors||t.add(2),o.showFields||t.add(3),o.showVariables||t.add(4),o.showClasses||t.add(5),o.showStructs||t.add(6),o.showInterfaces||t.add(7),o.showModules||t.add(8),o.showProperties||t.add(9),o.showEvents||t.add(10),o.showOperators||t.add(11),o.showUnits||t.add(12),o.showValues||t.add(13),o.showConstants||t.add(14),o.showEnums||t.add(15),o.showEnumMembers||t.add(16),o.showKeywords||t.add(17),o.showWords||t.add(18),o.showColors||t.add(19),o.showFiles||t.add(20),o.showReferences||t.add(21),o.showColors||t.add(22),o.showFolders||t.add(23),o.showTypeParameters||t.add(24),o.showSnippets||t.add(27),o.showUsers||t.add(25),o.showIssues||t.add(26),{itemKind:t,showDeprecated:o.showDeprecated}}_onNewContext(e){if(this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if(wi(e.leadingLineContent)!==wi(this._context.leadingLineContent)){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){if(op.shouldAutoTrigger(this._editor)&&this._context){const i=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:i}})}return}if(e.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&e.leadingWord.word.length!==0){const t=new Map,i=new Set;for(const[o,r]of this._completionModel.getItemsByProvider())r.length>0&&r[0].container.incomplete?i.add(o):t.set(o,r);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:i,providerItemsToReuse:t}})}else{const t=this._completionModel.lineContext;let i=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){const o=op.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(o&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=t,i=this._completionModel.items.length>0,i&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:e.triggerOptions,isFrozen:i})}}}}};PE=gB=iBe([Rh(1,Tl),Rh(2,kh),Rh(3,fr),Rh(4,zr),Rh(5,Xe),Rh(6,yt),Rh(7,Re),Rh(8,t7)],PE);class NN{constructor(e,t){this._disposables=new oe,this._lastOvertyped=[],this._locked=!1,this._disposables.add(e.onWillType(()=>{if(this._locked||!e.hasModel())return;const i=e.getSelections(),o=i.length;let r=!1;for(let a=0;a<o;a++)if(!i[a].isEmpty()){r=!0;break}if(!r){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const s=e.getModel();for(let a=0;a<o;a++){const l=i[a];if(s.getValueLengthInRange(l)>NN._maxSelectionLength)return;this._lastOvertyped[a]={value:s.getValueInRange(l),multiline:l.startLineNumber!==l.endLineNumber}}})),this._disposables.add(t.onDidTrigger(i=>{this._locked=!0})),this._disposables.add(t.onDidCancel(i=>{this._locked=!1}))}getLastOvertypedInfo(e){if(e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}NN._maxSelectionLength=51200;var rBe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},NA=function(n,e){return function(t,i){e(t,i,n)}};let sBe=class rre extends hf{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=m({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,rre.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return(t=e.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"")}},fB=class{constructor(e,t,i,o,r){this._menuId=t,this._menuService=o,this._contextKeyService=r,this._menuDisposables=new oe,this.element=ie(e,ue(".suggest-status-bar"));const s=a=>a instanceof aa?i.createInstance(sBe,a,void 0):void 0;this._leftActions=new Wa(this.element,{actionViewItemProvider:s}),this._rightActions=new Wa(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(this._menuId,this._contextKeyService),t=()=>{const i=[],o=[];for(const[r,s]of e.getActions())r==="left"?i.push(...s):o.push(...s);this._leftActions.clear(),this._leftActions.push(i),this._rightActions.clear(),this._rightActions.push(o)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};fB=rBe([NA(2,Ge),NA(3,$a),NA(4,Xe)],fB);var aBe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},lBe=function(n,e){return function(t,i){e(t,i,n)}};function PW(n){return!!n&&!!(n.completion.documentation||n.completion.detail&&n.completion.detail!==n.completion.label)}let pB=class{constructor(e,t){this._editor=e,this._onDidClose=new B,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new B,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new oe,this._renderDisposeable=new oe,this._borderWidth=1,this._size=new Zt(330,0),this.domNode=ue(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(Bd,{editor:e}),this._body=ue(".body"),this._scrollbar=new IS(this._body,{alwaysConsumeMouseWheel:!0}),ie(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=ie(this._body,ue(".header")),this._close=ie(this._header,ue("span"+Ze.asCSSSelector(pe.close))),this._close.title=m("details.close","Close"),this._type=ie(this._header,ue("p.type")),this._docs=ie(this._body,ue("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(50),i=t.getMassagedFontFamily(),o=e.get(119)||t.fontSize,r=e.get(120)||t.lineHeight,s=t.fontWeight,a=`${o}px`,l=`${r}px`;this.domNode.style.fontSize=a,this.domNode.style.lineHeight=`${r/o}`,this.domNode.style.fontWeight=s,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=l,this._close.style.width=l}getLayoutInfo(){const e=this._editor.getOption(120)||this._editor.getOption(50).lineHeight,t=this._borderWidth,i=t*2;return{lineHeight:e,borderWidth:t,borderHeight:i,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=m("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(e,t){var i,o;this._renderDisposeable.clear();let{detail:r,documentation:s}=e.completion;if(t){let a="";a+=`score: ${e.score[0]}
`,a+=`prefix: ${(i=e.word)!==null&&i!==void 0?i:"(no prefix)"}
`,a+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}
`,a+=`distance: ${e.distance} (localityBonus-setting)
`,a+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}
`,a+=`commit_chars: ${(o=e.completion.commitCharacters)===null||o===void 0?void 0:o.join("")}
`,s=new Go().appendCodeblock("empty",a),r=`Provider: ${e.provider._debugDisplayName}`}if(!t&&!PW(e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),r){const a=r.length>1e5?`${r.substr(0,1e5)}`:r;this._type.textContent=a,this._type.title=a,bs(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(a))}else Xo(this._type),this._type.title="",xr(this._type),this.domNode.classList.add("no-type");if(Xo(this._docs),typeof s=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=s;else if(s){this._docs.classList.add("markdown-docs"),Xo(this._docs);const a=this._markdownRenderer.render(s);this._docs.appendChild(a.element),this._renderDisposeable.add(a),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=a=>{a.preventDefault(),a.stopPropagation()},this._close.onclick=a=>{a.preventDefault(),a.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout(e,t){const i=new Zt(e,t);Zt.equals(i,this._size)||(this._size=i,rbe(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};pB=aBe([lBe(1,Ge)],pB);class cBe{constructor(e,t){this.widget=e,this._editor=t,this.allowEditorOverflow=!0,this._disposables=new oe,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new mW,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let i,o,r=0,s=0;this._disposables.add(this._resizable.onDidWillResize(()=>{i=this._topLeft,o=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(a=>{if(i&&o){this.widget.layout(a.dimension.width,a.dimension.height);let l=!1;a.west&&(s=o.width-a.dimension.width,l=!0),a.north&&(r=o.height-a.dimension.height,l=!0),l&&this._applyTopLeft({top:i.top+r,left:i.left+s})}a.done&&(i=void 0,o=void 0,r=0,s=0,this._userSize=a.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var a;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(a=this._userSize)!==null&&a!==void 0?a:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){this._added||(this._editor.addOverlayWidget(this),this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var i;const o=e.getBoundingClientRect();this._anchorBox=o,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,(i=this._userSize)!==null&&i!==void 0?i:this.widget.size,t)}_placeAtAnchor(e,t,i){var o;const r=gh(this.getDomNode().ownerDocument.body),s=this.widget.getLayoutInfo(),a=new Zt(220,2*s.lineHeight),l=e.top,c=function(){const S=r.width-(e.left+e.width+s.borderWidth+s.horizontalPadding),x=-s.borderWidth+e.left+e.width,L=new Zt(S,r.height-e.top-s.borderHeight-s.verticalPadding),E=L.with(void 0,e.top+e.height-s.borderHeight-s.verticalPadding);return{top:l,left:x,fit:S-t.width,maxSizeTop:L,maxSizeBottom:E,minSize:a.with(Math.min(S,a.width))}}(),d=function(){const S=e.left-s.borderWidth-s.horizontalPadding,x=Math.max(s.horizontalPadding,e.left-t.width-s.borderWidth),L=new Zt(S,r.height-e.top-s.borderHeight-s.verticalPadding),E=L.with(void 0,e.top+e.height-s.borderHeight-s.verticalPadding);return{top:l,left:x,fit:S-t.width,maxSizeTop:L,maxSizeBottom:E,minSize:a.with(Math.min(S,a.width))}}(),u=function(){const S=e.left,x=-s.borderWidth+e.top+e.height,L=new Zt(e.width-s.borderHeight,r.height-e.top-e.height-s.verticalPadding);return{top:x,left:S,fit:L.height-t.height,maxSizeBottom:L,maxSizeTop:L,minSize:a.with(L.width)}}(),h=[c,d,u],g=(o=h.find(S=>S.fit>=0))!==null&&o!==void 0?o:h.sort((S,x)=>x.fit-S.fit)[0],f=e.top+e.height-s.borderHeight;let p,b=t.height;const v=Math.max(g.maxSizeTop.height,g.maxSizeBottom.height);b>v&&(b=v);let _;i?b<=g.maxSizeTop.height?(p=!0,_=g.maxSizeTop):(p=!1,_=g.maxSizeBottom):b<=g.maxSizeBottom.height?(p=!1,_=g.maxSizeBottom):(p=!0,_=g.maxSizeTop);let{top:C,left:y}=g;!p&&b>e.height&&(C=f-b);const w=this._editor.getDomNode();if(w){const S=w.getBoundingClientRect();C-=S.top,y-=S.left}this._applyTopLeft({left:y,top:C}),this._resizable.enableSashes(!p,g===c,p,g!==c),this._resizable.minSize=g.minSize,this._resizable.maxSize=_,this._resizable.layout(b,Math.min(_.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this._editor.layoutOverlayWidget(this)}}var _d;(function(n){n[n.FILE=0]="FILE",n[n.FOLDER=1]="FOLDER",n[n.ROOT_FOLDER=2]="ROOT_FOLDER"})(_d||(_d={}));const dBe=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function $k(n,e,t,i,o){if(o)return[`codicon-${o.id}`,"predefined-file-icon"];const r=i===_d.ROOT_FOLDER?["rootfolder-icon"]:i===_d.FOLDER?["folder-icon"]:["file-icon"];if(t){let s;if(t.scheme===ft.data)s=cf.parseMetaData(t).get(cf.META_DATA_LABEL);else{const a=t.path.match(dBe);a?(s=jk(a[2].toLowerCase()),a[1]&&r.push(`${jk(a[1].toLowerCase())}-name-dir-icon`)):s=jk(t.authority.toLowerCase())}if(i===_d.ROOT_FOLDER)r.push(`${s}-root-name-folder-icon`);else if(i===_d.FOLDER)r.push(`${s}-name-folder-icon`);else{if(s){if(r.push(`${s}-name-file-icon`),r.push("name-file-icon"),s.length<=255){const l=s.split(".");for(let c=1;c<l.length;c++)r.push(`${l.slice(c).join(".")}-ext-file-icon`)}r.push("ext-file-icon")}const a=uBe(n,e,t);a&&r.push(`${jk(a)}-lang-file-icon`)}}return r}function uBe(n,e,t){if(!t)return null;let i=null;if(t.scheme===ft.data){const r=cf.parseMetaData(t).get(cf.META_DATA_MIME);r&&(i=e.getLanguageIdByMimeType(r))}else{const o=n.getModel(t);o&&(i=o.getLanguageId())}return i&&i!==oa?i:e.guessLanguageIdByFilepathOrFirstLine(t)}function jk(n){return n.replace(/[\11\12\14\15\40]/g,"/")}var hBe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},RA=function(n,e){return function(t,i){e(t,i,n)}},Mh;function sre(n){return`suggest-aria-id:${n}`}const gBe=xn("suggest-more-info",pe.chevronRight,m("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),fBe=new(Mh=class{extract(e,t){if(e.textLabel.match(Mh._regexStrict))return t[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(Mh._regexStrict))return t[0]=e.completion.detail,!0;if(e.completion.documentation){const i=typeof e.completion.documentation=="string"?e.completion.documentation:e.completion.documentation.value,o=Mh._regexRelaxed.exec(i);if(o&&(o.index===0||o.index+o[0].length===i.length))return t[0]=o[0],!0}return!1}},Mh._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Mh._regexStrict=new RegExp(`^${Mh._regexRelaxed.source}$`,"i"),Mh);let mB=class{constructor(e,t,i,o){this._editor=e,this._modelService=t,this._languageService=i,this._themeService=o,this._onDidToggleDetails=new B,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=new oe,i=e;i.classList.add("show-file-icons");const o=ie(e,ue(".icon")),r=ie(o,ue("span.colorspan")),s=ie(e,ue(".contents")),a=ie(s,ue(".main")),l=ie(a,ue(".icon-label.codicon")),c=ie(a,ue("span.left")),d=ie(a,ue("span.right")),u=new oE(c,{supportHighlights:!0,supportIcons:!0});t.add(u);const h=ie(c,ue("span.signature-label")),g=ie(c,ue("span.qualifier-label")),f=ie(d,ue("span.details-label")),p=ie(d,ue("span.readMore"+Ze.asCSSSelector(gBe)));return p.title=m("readMore","Read More"),{root:i,left:c,right:d,icon:o,colorspan:r,iconLabel:u,iconContainer:l,parametersLabel:h,qualifierLabel:g,detailsLabel:f,readMore:p,disposables:t,configureFont:()=>{const v=this._editor.getOptions(),_=v.get(50),C=_.getMassagedFontFamily(),y=_.fontFeatureSettings,w=v.get(119)||_.fontSize,S=v.get(120)||_.lineHeight,x=_.fontWeight,L=_.letterSpacing,E=`${w}px`,O=`${S}px`,P=`${L}px`;i.style.fontSize=E,i.style.fontWeight=x,i.style.letterSpacing=P,a.style.fontFamily=C,a.style.fontFeatureSettings=y,a.style.lineHeight=O,o.style.height=O,o.style.width=O,p.style.height=O,p.style.width=O}}}renderElement(e,t,i){i.configureFont();const{completion:o}=e;i.root.id=sre(t),i.colorspan.style.backgroundColor="";const r={labelEscapeNewLines:!0,matches:FS(e.score)},s=[];if(o.kind===19&&fBe.extract(e,s))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=s[0];else if(o.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";const a=$k(this._modelService,this._languageService,Ke.from({scheme:"fake",path:e.textLabel}),_d.FILE),l=$k(this._modelService,this._languageService,Ke.from({scheme:"fake",path:o.detail}),_d.FILE);r.extraClasses=a.length>l.length?a:l}else o.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",r.extraClasses=[$k(this._modelService,this._languageService,Ke.from({scheme:"fake",path:e.textLabel}),_d.FOLDER),$k(this._modelService,this._languageService,Ke.from({scheme:"fake",path:o.detail}),_d.FOLDER)].flat()):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...Ze.asClassNameArray(Ey.toIcon(o.kind))));o.tags&&o.tags.indexOf(1)>=0&&(r.extraClasses=(r.extraClasses||[]).concat(["deprecated"]),r.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,r),typeof o.label=="string"?(i.parametersLabel.textContent="",i.detailsLabel.textContent=MA(o.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=MA(o.label.detail||""),i.detailsLabel.textContent=MA(o.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(118).showInlineDetails?bs(i.detailsLabel):xr(i.detailsLabel),PW(e)?(i.right.classList.add("can-expand-details"),bs(i.readMore),i.readMore.onmousedown=a=>{a.stopPropagation(),a.preventDefault()},i.readMore.onclick=a=>{a.stopPropagation(),a.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),xr(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};mB=hBe([RA(1,Yi),RA(2,Bi),RA(3,ao)],mB);function MA(n){return n.replace(/\r\n|\r|\n/g,"")}var pBe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Kk=function(n,e){return function(t,i){e(t,i,n)}},Vv;N("editorSuggestWidget.background",{dark:wn,light:wn,hcDark:wn,hcLight:wn},m("editorSuggestWidgetBackground","Background color of the suggest widget."));N("editorSuggestWidget.border",{dark:Pu,light:Pu,hcDark:Pu,hcLight:Pu},m("editorSuggestWidgetBorder","Border color of the suggest widget."));const qk=N("editorSuggestWidget.foreground",{dark:hl,light:hl,hcDark:hl,hcLight:hl},m("editorSuggestWidgetForeground","Foreground color of the suggest widget."));N("editorSuggestWidget.selectedForeground",{dark:Rp,light:Rp,hcDark:Rp,hcLight:Rp},m("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget."));N("editorSuggestWidget.selectedIconForeground",{dark:ub,light:ub,hcDark:ub,hcLight:ub},m("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const mBe=N("editorSuggestWidget.selectedBackground",{dark:Mp,light:Mp,hcDark:Mp,hcLight:Mp},m("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));N("editorSuggestWidget.highlightForeground",{dark:gl,light:gl,hcDark:gl,hcLight:gl},m("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget."));N("editorSuggestWidget.focusHighlightForeground",{dark:Ux,light:Ux,hcDark:Ux,hcLight:Ux},m("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));N("editorSuggestWidgetStatus.foreground",{dark:He(qk,.5),light:He(qk,.5),hcDark:He(qk,.5),hcLight:He(qk,.5)},m("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class vBe{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof vf}`}restore(){var e;const t=(e=this._service.get(this._key,0))!==null&&e!==void 0?e:"";try{const i=JSON.parse(t);if(Zt.is(i))return Zt.lift(i)}catch{}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let Kw=Vv=class{constructor(e,t,i,o,r){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._pendingLayout=new bo,this._pendingShowDetails=new bo,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new Ll,this._disposables=new oe,this._onDidSelect=new dm,this._onDidFocus=new dm,this._onDidHide=new B,this._onDidShow=new B,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new B,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new mW,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new bBe(this,e),this._persistedSize=new vBe(t,e);class s{constructor(g,f,p=!1,b=!1){this.persistedSize=g,this.currentSize=f,this.persistHeight=p,this.persistWidth=b}}let a;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),a=new s(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(h=>{var g,f,p,b;if(this._resize(h.dimension.width,h.dimension.height),a&&(a.persistHeight=a.persistHeight||!!h.north||!!h.south,a.persistWidth=a.persistWidth||!!h.east||!!h.west),!!h.done){if(a){const{itemHeight:v,defaultSize:_}=this.getLayoutInfo(),C=Math.round(v/2);let{width:y,height:w}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-w)<=C)&&(w=(f=(g=a.persistedSize)===null||g===void 0?void 0:g.height)!==null&&f!==void 0?f:_.height),(!a.persistWidth||Math.abs(a.currentSize.width-y)<=C)&&(y=(b=(p=a.persistedSize)===null||p===void 0?void 0:p.width)!==null&&b!==void 0?b:_.width),this._persistedSize.store(new Zt(y,w))}this._contentWidget.unlockPreference(),a=void 0}})),this._messageElement=ie(this.element.domNode,ue(".message")),this._listElement=ie(this.element.domNode,ue(".tree"));const l=this._disposables.add(r.createInstance(pB,this.editor));l.onDidClose(this.toggleDetails,this,this._disposables),this._details=new cBe(l,this.editor);const c=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(118).showIcons);c();const d=r.createInstance(mB,this.editor);this._disposables.add(d),this._disposables.add(d.onDidToggleDetails(()=>this.toggleDetails())),this._list=new pa("SuggestWidget",this._listElement,{getHeight:h=>this.getLayoutInfo().itemHeight,getTemplateId:h=>"suggestion"},[d],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>m("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:h=>{let g=h.textLabel;if(typeof h.completion.label!="string"){const{detail:v,description:_}=h.completion.label;v&&_?g=m("label.full","{0} {1}, {2}",g,v,_):v?g=m("label.detail","{0} {1}",g,v):_&&(g=m("label.desc","{0}, {1}",g,_))}if(!h.isResolved||!this._isDetailsVisible())return g;const{documentation:f,detail:p}=h.completion,b=um("{0}{1}",p||"",f?typeof f=="string"?f:f.value:"");return m("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",g,b)}}}),this._list.style(x0({listInactiveFocusBackground:mBe,listInactiveFocusOutline:Oi})),this._status=r.createInstance(fB,this.element.domNode,Kg);const u=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(118).showStatusBar);u(),this._disposables.add(o.onDidColorThemeChange(h=>this._onThemeChange(h))),this._onThemeChange(o.getColorTheme()),this._disposables.add(this._list.onMouseDown(h=>this._onListMouseDownOrTap(h))),this._disposables.add(this._list.onTap(h=>this._onListMouseDownOrTap(h))),this._disposables.add(this._list.onDidChangeSelection(h=>this._onListSelection(h))),this._disposables.add(this._list.onDidChangeFocus(h=>this._onListFocus(h))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(h=>{h.hasChanged(118)&&(u(),c()),this._completionModel&&(h.hasChanged(50)||h.hasChanged(119)||h.hasChanged(120))&&this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=pt.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=pt.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=pt.MultipleSuggestions.bindTo(i),this._ctxSuggestWidgetHasFocusedSuggestion=pt.HasFocusedSuggestion.bindTo(i),this._disposables.add(fn(this._details.widget.domNode,"keydown",h=>{this._onDetailsKeydown.fire(h)})),this._disposables.add(this.editor.onMouseDown(h=>this._onEditorMouseDown(h)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(e){typeof e.element>"u"||typeof e.index>"u"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=fc(e.type)?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const i=e.elements[0],o=e.indexes[0];i!==this._focusedItem&&((t=this._currentSuggestionDetails)===null||t===void 0||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=i,this._list.reveal(o),this._currentSuggestionDetails=ro(async r=>{const s=nf(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),a=r.onCancellationRequested(()=>s.dispose());try{return await i.resolve(r)}finally{s.dispose(),a.dispose()}}),this._currentSuggestionDetails.then(()=>{o>=this._list.length||i!==this._list.element(o)||(this._ignoreFocusEvents=!0,this._list.splice(o,1,[i]),this._list.setFocus([o]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:sre(o)}))}).catch(st)),this._onDidFocus.fire({item:i,index:o,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:xr(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Vv.LOADING_MESSAGE,xr(this._listElement,this._status.element),bs(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,Pd(Vv.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Vv.NO_SUGGESTIONS_MESSAGE,xr(this._listElement,this._status.element),bs(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,Pd(Vv.NO_SUGGESTIONS_MESSAGE);break;case 3:xr(this._messageElement),bs(this._listElement,this._status.element),this._show();break;case 4:xr(this._messageElement),bs(this._listElement,this._status.element),this._show();break;case 5:xr(this._messageElement),bs(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=nf(()=>this._setState(1),t)))}showSuggestions(e,t,i,o,r){var s,a;if(this._contentWidget.setPosition(this.editor.getPosition()),(s=this._loadingTimeout)===null||s===void 0||s.dispose(),(a=this._currentSuggestionDetails)===null||a===void 0||a.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&this._state!==2&&this._state!==0){this._setState(4);return}const l=this._completionModel.items.length,c=l===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(l>1),c){this._setState(o?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),this._list.reveal(t,0),this._list.setFocus(r?[]:[t])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=JD(qe(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(PW(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._pendingShowDetails.value=JD(qe(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._details.widget.isEmpty?this._details.hide():(this._positionDetails(),this.element.domNode.classList.add("shows-details")),this.editor.focus()})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),i=Math.ceil(this.getLayoutInfo().itemHeight*4.3);t&&t.height<i&&this._persistedSize.store(t.with(void 0,i))}isFrozen(){return this._state===4}_afterRender(e){if(e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&!this._details.widget.isEmpty&&this._details.show(),this._positionDetails())}_layout(e){var t,i,o;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const r=gh(this.element.domNode.ownerDocument.body),s=this.getLayoutInfo();e||(e=s.defaultSize);let a=e.height,l=e.width;if(this._status.element.style.height=`${s.itemHeight}px`,this._state===2||this._state===1)a=s.itemHeight+s.borderHeight,l=s.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new Zt(l,a),this._contentWidget.setPreference(2);else{const c=r.width-s.borderHeight-2*s.horizontalPadding;l>c&&(l=c);const d=this._completionModel?this._completionModel.stats.pLabelLen*s.typicalHalfwidthCharacterWidth:l,u=s.statusBarHeight+this._list.contentHeight+s.borderHeight,h=s.itemHeight+s.statusBarHeight,g=In(this.editor.getDomNode()),f=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),p=g.top+f.top+f.height,b=Math.min(r.height-p-s.verticalPadding,u),v=g.top+f.top-s.verticalPadding,_=Math.min(v,u);let C=Math.min(Math.max(_,b)+s.borderHeight,u);a===((t=this._cappedHeight)===null||t===void 0?void 0:t.capped)&&(a=this._cappedHeight.wanted),a<h&&(a=h),a>C&&(a=C),a>b||this._forceRenderingAbove&&v>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),C=_):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),C=b),this.element.preferredSize=new Zt(d,s.defaultSize.height),this.element.maxSize=new Zt(c,C),this.element.minSize=new Zt(220,h),this._cappedHeight=a===u?{wanted:(o=(i=this._cappedHeight)===null||i===void 0?void 0:i.wanted)!==null&&o!==void 0?o:e.height,capped:a}:void 0}this._resize(l,a)}_resize(e,t){const{width:i,height:o}=this.element.maxSize;e=Math.min(i,e),t=Math.min(o,t);const{statusBarHeight:r}=this.getLayoutInfo();this._list.layout(t-r,e),this._listElement.style.height=`${t-r}px`,this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((e=this._contentWidget.getPosition())===null||e===void 0?void 0:e.preference[0])===2)}getLayoutInfo(){const e=this.editor.getOption(50),t=wr(this.editor.getOption(120)||e.lineHeight,8,1e3),i=!this.editor.getOption(118).showStatusBar||this._state===2||this._state===1?0:t,o=this._details.widget.borderWidth,r=2*o;return{itemHeight:t,statusBarHeight:i,borderWidth:o,borderHeight:r,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new Zt(430,i+12*t+r)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};Kw.LOADING_MESSAGE=m("suggestWidget.loading","Loading...");Kw.NO_SUGGESTIONS_MESSAGE=m("suggestWidget.noSuggestions","No suggestions.");Kw=Vv=pBe([Kk(1,El),Kk(2,Xe),Kk(3,ao),Kk(4,Ge)],Kw);class bBe{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:i,horizontalPadding:o}=this._widget.getLayoutInfo();return new Zt(t+2*i+o,e+2*i)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}var _Be=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Lv=function(n,e){return function(t,i){e(t,i,n)}},vB;class CBe{constructor(e,t){if(this._model=e,this._position=t,this._decorationOptions=dt.register({description:"suggest-line-suffix",stickiness:1}),e.getLineMaxColumn(t.lineNumber)!==t.column){const o=e.getOffsetAt(t),r=e.getPositionAt(o+1);e.changeDecorations(s=>{this._marker&&s.removeDecoration(this._marker),this._marker=s.addDecoration(D.fromPositions(t,r),this._decorationOptions)})}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.changeDecorations(e=>{e.removeDecoration(this._marker),this._marker=void 0})}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let pl=vB=class{static get(e){return e.getContribution(vB.ID)}constructor(e,t,i,o,r,s,a){this._memoryService=t,this._commandService=i,this._contextKeyService=o,this._instantiationService=r,this._logService=s,this._telemetryService=a,this._lineSuffix=new bo,this._toDispose=new oe,this._selectors=new yBe(u=>u.priority),this._onWillInsertSuggestItem=new B,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=e,this.model=r.createInstance(PE,this.editor),this._selectors.register({priority:0,select:(u,h,g)=>this._memoryService.select(u,h,g)});const l=pt.InsertMode.bindTo(o);l.set(e.getOption(118).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>l.set(e.getOption(118).insertMode))),this.widget=this._toDispose.add(new XR(qe(e.getDomNode()),()=>{const u=this._instantiationService.createInstance(Kw,this.editor);this._toDispose.add(u),this._toDispose.add(u.onDidSelect(b=>this._insertSuggestion(b,0),this));const h=new tBe(this.editor,u,this.model,b=>this._insertSuggestion(b,2));this._toDispose.add(h);const g=pt.MakesTextEdit.bindTo(this._contextKeyService),f=pt.HasInsertAndReplaceRange.bindTo(this._contextKeyService),p=pt.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(je(()=>{g.reset(),f.reset(),p.reset()})),this._toDispose.add(u.onDidFocus(({item:b})=>{const v=this.editor.getPosition(),_=b.editStart.column,C=v.column;let y=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!b.completion.additionalTextEdits&&!(b.completion.insertTextRules&4)&&C-_===b.completion.insertText.length&&(y=this.editor.getModel().getValueInRange({startLineNumber:v.lineNumber,startColumn:_,endLineNumber:v.lineNumber,endColumn:C})!==b.completion.insertText),g.set(y),f.set(!W.equals(b.editInsertEnd,b.editReplaceEnd)),p.set(!!b.provider.resolveCompletionItem||!!b.completion.documentation||b.completion.detail!==b.completion.label)})),this._toDispose.add(u.onDetailsKeyDown(b=>{if(b.toKeyCodeChord().equals(new hh(!0,!1,!1,!1,33))||Rt&&b.toKeyCodeChord().equals(new hh(!1,!1,!1,!0,33))){b.stopPropagation();return}b.toKeyCodeChord().isModifierKey()||this.editor.focus()})),u})),this._overtypingCapturer=this._toDispose.add(new XR(qe(e.getDomNode()),()=>this._toDispose.add(new NN(this.editor,this.model)))),this._alternatives=this._toDispose.add(new XR(qe(e.getDomNode()),()=>this._toDispose.add(new Am(this.editor,this._contextKeyService)))),this._toDispose.add(r.createInstance(jw,e)),this._toDispose.add(this.model.onDidTrigger(u=>{this.widget.value.showTriggered(u.auto,u.shy?250:50),this._lineSuffix.value=new CBe(this.editor.getModel(),u.position)})),this._toDispose.add(this.model.onDidSuggest(u=>{if(u.triggerOptions.shy)return;let h=-1;for(const f of this._selectors.itemsOrderedByPriorityDesc)if(h=f.select(this.editor.getModel(),this.editor.getPosition(),u.completionModel.items),h!==-1)break;if(h===-1&&(h=0),this.model.state===0)return;let g=!1;if(u.triggerOptions.auto){const f=this.editor.getOption(118);f.selectionMode==="never"||f.selectionMode==="always"?g=f.selectionMode==="never":f.selectionMode==="whenTriggerCharacter"?g=u.triggerOptions.triggerKind!==1:f.selectionMode==="whenQuickSuggestion"&&(g=u.triggerOptions.triggerKind===1&&!u.triggerOptions.refilter)}this.widget.value.showSuggestions(u.completionModel,h,u.isFrozen,u.triggerOptions.auto,g)})),this._toDispose.add(this.model.onDidCancel(u=>{u.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));const c=pt.AcceptSuggestionsOnEnter.bindTo(o),d=()=>{const u=this.editor.getOption(1);c.set(u==="on"||u==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>d())),d()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(e,t){if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const i=No.get(this.editor);if(!i)return;this._onWillInsertSuggestItem.fire({item:e.item});const o=this.editor.getModel(),r=o.getAlternativeVersionId(),{item:s}=e,a=[],l=new gn;t&1||this.editor.pushUndoStop();const c=this.getOverwriteInfo(s,!!(t&8));this._memoryService.memorize(o,this.editor.getPosition(),s);const d=s.isResolved;let u=-1,h=-1;if(Array.isArray(s.completion.additionalTextEdits)){this.model.cancel();const f=Dc.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",s.completion.additionalTextEdits.map(p=>{let b=D.lift(p.range);if(b.startLineNumber===s.position.lineNumber&&b.startColumn>s.position.column){const v=this.editor.getPosition().column-s.position.column,_=v,C=D.spansMultipleLines(b)?0:v;b=new D(b.startLineNumber,b.startColumn+_,b.endLineNumber,b.endColumn+C)}return zi.replaceMove(b,p.text)})),f.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!d){const f=new Jo;let p;const b=o.onDidChangeContent(y=>{if(y.isFlush){l.cancel(),b.dispose();return}for(const w of y.changes){const S=D.getEndPosition(w.range);(!p||W.isBefore(S,p))&&(p=S)}}),v=t;t|=2;let _=!1;const C=this.editor.onWillType(()=>{C.dispose(),_=!0,v&2||this.editor.pushUndoStop()});a.push(s.resolve(l.token).then(()=>{if(!s.completion.additionalTextEdits||l.token.isCancellationRequested)return;if(p&&s.completion.additionalTextEdits.some(w=>W.isBefore(p,D.getStartPosition(w.range))))return!1;_&&this.editor.pushUndoStop();const y=Dc.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",s.completion.additionalTextEdits.map(w=>zi.replaceMove(D.lift(w.range),w.text))),y.restoreRelativeVerticalPositionOfCursor(this.editor),(_||!(v&2))&&this.editor.pushUndoStop(),!0}).then(y=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",f.elapsed(),y),h=y===!0?1:y===!1?0:-2}).finally(()=>{b.dispose(),C.dispose()}))}let{insertText:g}=s.completion;if(s.completion.insertTextRules&4||(g=Lm.escape(g)),this.model.cancel(),i.insert(g,{overwriteBefore:c.overwriteBefore,overwriteAfter:c.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(s.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),t&2||this.editor.pushUndoStop(),s.completion.command)if(s.completion.command.id===ox.id)this.model.trigger({auto:!0,retrigger:!0});else{const f=new Jo;a.push(this._commandService.executeCommand(s.completion.command.id,...s.completion.command.arguments?[...s.completion.command.arguments]:[]).catch(p=>{s.completion.extensionId?Bn(p):st(p)}).finally(()=>{u=f.elapsed()}))}t&4&&this._alternatives.value.set(e,f=>{for(l.cancel();o.canUndo();){r!==o.getAlternativeVersionId()&&o.undo(),this._insertSuggestion(f,3|(t&8?8:0));break}}),this._alertCompletionItem(s),Promise.all(a).finally(()=>{this._reportSuggestionAcceptedTelemetry(s,o,d,u,h),this.model.clear(),l.dispose()})}_reportSuggestionAcceptedTelemetry(e,t,i,o,r){var s,a,l;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(a=(s=e.extensionId)===null||s===void 0?void 0:s.value)!==null&&a!==void 0?a:"unknown",providerId:(l=e.provider._debugDisplayName)!==null&&l!==void 0?l:"unknown",kind:e.completion.kind,basenameHash:WT(Ba(t.uri)).toString(16),languageId:t.getLanguageId(),fileExtension:Ixe(t.uri),resolveInfo:e.provider.resolveCompletionItem?i?1:0:-1,resolveDuration:e.resolveDuration,commandDuration:o,additionalEditsAsync:r})}getOverwriteInfo(e,t){Jt(this.editor.hasModel());let i=this.editor.getOption(118).insertMode==="replace";t&&(i=!i);const o=e.position.column-e.editStart.column,r=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,s=this.editor.getPosition().column-e.position.column,a=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:o+s,overwriteAfter:r+a}}_alertCompletionItem(e){if(Yo(e.completion.additionalTextEdits)){const t=m("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);Es(t)}}triggerSuggest(e,t,i){this.editor.hasModel()&&(this.model.trigger({auto:t??!1,completionOptions:{providerFilter:e,kindFilter:i?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},o=r=>{if(r.completion.insertTextRules&4||r.completion.additionalTextEdits)return!0;const s=this.editor.getPosition(),a=r.editStart.column,l=s.column;return l-a!==r.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:s.lineNumber,startColumn:a,endLineNumber:s.lineNumber,endColumn:l})!==r.completion.insertText};me.once(this.model.onDidTrigger)(r=>{const s=[];me.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{si(s),i()},void 0,s),this.model.onDidSuggest(({completionModel:a})=>{if(si(s),a.items.length===0){i();return}const l=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),a.items),c=a.items[l];if(!o(c)){i();return}this.editor.pushUndoStop(),this._insertSuggestion({index:l,item:c,model:a},7)},void 0,s)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const i=this.widget.value.getFocusedItem();let o=0;e&&(o|=4),t&&(o|=8),this._insertSuggestion(i,o)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};pl.ID="editor.contrib.suggestController";pl=vB=_Be([Lv(1,IN),Lv(2,tn),Lv(3,Xe),Lv(4,Ge),Lv(5,zr),Lv(6,fr)],pl);class yBe{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,i)=>this.prioritySelector(i)-this.prioritySelector(t)),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class ox extends Le{constructor(){super({id:ox.id,label:m("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:ee.and(I.writable,I.hasCompletionItemProvider,pt.Visible.toNegated()),kbOpts:{kbExpr:I.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t,i){const o=pl.get(t);if(!o)return;let r;i&&typeof i=="object"&&i.auto===!0&&(r=!0),o.triggerSuggest(void 0,r,void 0)}}ox.id="editor.action.triggerSuggest";Gt(pl.ID,pl,2);de(ox);const da=190,jr=_o.bindToContribution(pl.get);ve(new jr({id:"acceptSelectedSuggestion",precondition:ee.and(pt.Visible,pt.HasFocusedSuggestion),handler(n){n.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:ee.and(pt.Visible,I.textInputFocus),weight:da},{primary:3,kbExpr:ee.and(pt.Visible,I.textInputFocus,pt.AcceptSuggestionsOnEnter,pt.MakesTextEdit),weight:da}],menuOpts:[{menuId:Kg,title:m("accept.insert","Insert"),group:"left",order:1,when:pt.HasInsertAndReplaceRange.toNegated()},{menuId:Kg,title:m("accept.insert","Insert"),group:"left",order:1,when:ee.and(pt.HasInsertAndReplaceRange,pt.InsertMode.isEqualTo("insert"))},{menuId:Kg,title:m("accept.replace","Replace"),group:"left",order:1,when:ee.and(pt.HasInsertAndReplaceRange,pt.InsertMode.isEqualTo("replace"))}]}));ve(new jr({id:"acceptAlternativeSelectedSuggestion",precondition:ee.and(pt.Visible,I.textInputFocus,pt.HasFocusedSuggestion),kbOpts:{weight:da,kbExpr:I.textInputFocus,primary:1027,secondary:[1026]},handler(n){n.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Kg,group:"left",order:2,when:ee.and(pt.HasInsertAndReplaceRange,pt.InsertMode.isEqualTo("insert")),title:m("accept.replace","Replace")},{menuId:Kg,group:"left",order:2,when:ee.and(pt.HasInsertAndReplaceRange,pt.InsertMode.isEqualTo("replace")),title:m("accept.insert","Insert")}]}));Pt.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");ve(new jr({id:"hideSuggestWidget",precondition:pt.Visible,handler:n=>n.cancelSuggestWidget(),kbOpts:{weight:da,kbExpr:I.textInputFocus,primary:9,secondary:[1033]}}));ve(new jr({id:"selectNextSuggestion",precondition:ee.and(pt.Visible,ee.or(pt.MultipleSuggestions,pt.HasFocusedSuggestion.negate())),handler:n=>n.selectNextSuggestion(),kbOpts:{weight:da,kbExpr:I.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));ve(new jr({id:"selectNextPageSuggestion",precondition:ee.and(pt.Visible,ee.or(pt.MultipleSuggestions,pt.HasFocusedSuggestion.negate())),handler:n=>n.selectNextPageSuggestion(),kbOpts:{weight:da,kbExpr:I.textInputFocus,primary:12,secondary:[2060]}}));ve(new jr({id:"selectLastSuggestion",precondition:ee.and(pt.Visible,ee.or(pt.MultipleSuggestions,pt.HasFocusedSuggestion.negate())),handler:n=>n.selectLastSuggestion()}));ve(new jr({id:"selectPrevSuggestion",precondition:ee.and(pt.Visible,ee.or(pt.MultipleSuggestions,pt.HasFocusedSuggestion.negate())),handler:n=>n.selectPrevSuggestion(),kbOpts:{weight:da,kbExpr:I.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));ve(new jr({id:"selectPrevPageSuggestion",precondition:ee.and(pt.Visible,ee.or(pt.MultipleSuggestions,pt.HasFocusedSuggestion.negate())),handler:n=>n.selectPrevPageSuggestion(),kbOpts:{weight:da,kbExpr:I.textInputFocus,primary:11,secondary:[2059]}}));ve(new jr({id:"selectFirstSuggestion",precondition:ee.and(pt.Visible,ee.or(pt.MultipleSuggestions,pt.HasFocusedSuggestion.negate())),handler:n=>n.selectFirstSuggestion()}));ve(new jr({id:"focusSuggestion",precondition:ee.and(pt.Visible,pt.HasFocusedSuggestion.negate()),handler:n=>n.focusSuggestion(),kbOpts:{weight:da,kbExpr:I.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}}));ve(new jr({id:"focusAndAcceptSuggestion",precondition:ee.and(pt.Visible,pt.HasFocusedSuggestion.negate()),handler:n=>{n.focusSuggestion(),n.acceptSelectedSuggestion(!0,!1)}}));ve(new jr({id:"toggleSuggestionDetails",precondition:ee.and(pt.Visible,pt.HasFocusedSuggestion),handler:n=>n.toggleSuggestionDetails(),kbOpts:{weight:da,kbExpr:I.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Kg,group:"right",order:1,when:ee.and(pt.DetailsVisible,pt.CanResolve),title:m("detail.more","show less")},{menuId:Kg,group:"right",order:1,when:ee.and(pt.DetailsVisible.toNegated(),pt.CanResolve),title:m("detail.less","show more")}]}));ve(new jr({id:"toggleExplainMode",precondition:pt.Visible,handler:n=>n.toggleExplainMode(),kbOpts:{weight:100,primary:2138}}));ve(new jr({id:"toggleSuggestionFocus",precondition:pt.Visible,handler:n=>n.toggleSuggestionFocus(),kbOpts:{weight:da,kbExpr:I.textInputFocus,primary:2570,mac:{primary:778}}}));ve(new jr({id:"insertBestCompletion",precondition:ee.and(I.textInputFocus,ee.equals("config.editor.tabCompletion","on"),jw.AtEnd,pt.Visible.toNegated(),Am.OtherSuggestions.toNegated(),No.InSnippetMode.toNegated()),handler:(n,e)=>{n.triggerSuggestAndAcceptBest(Tr(e)?{fallback:"tab",...e}:{fallback:"tab"})},kbOpts:{weight:da,primary:2}}));ve(new jr({id:"insertNextSuggestion",precondition:ee.and(I.textInputFocus,ee.equals("config.editor.tabCompletion","on"),Am.OtherSuggestions,pt.Visible.toNegated(),No.InSnippetMode.toNegated()),handler:n=>n.acceptNextSuggestion(),kbOpts:{weight:da,kbExpr:I.textInputFocus,primary:2}}));ve(new jr({id:"insertPrevSuggestion",precondition:ee.and(I.textInputFocus,ee.equals("config.editor.tabCompletion","on"),Am.OtherSuggestions,pt.Visible.toNegated(),No.InSnippetMode.toNegated()),handler:n=>n.acceptPrevSuggestion(),kbOpts:{weight:da,kbExpr:I.textInputFocus,primary:1026}}));de(class extends Le{constructor(){super({id:"editor.action.resetSuggestSize",label:m("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(n,e){var t;(t=pl.get(e))===null||t===void 0||t.resetWidgetSize()}});class wBe extends z{get selectedItem(){return this._selectedItem}constructor(e,t,i,o){super(),this.editor=e,this.suggestControllerPreselector=t,this.checkModelVersion=i,this.onWillAccept=o,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=$t(this,void 0),this._register(e.onKeyDown(s=>{s.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(s=>{s.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const r=pl.get(this.editor);if(r){this._register(r.registerSelector({priority:100,select:(l,c,d)=>{var u;Ti(v=>this.checkModelVersion(v));const h=this.editor.getModel();if(!h)return-1;const g=(u=this.suggestControllerPreselector())===null||u===void 0?void 0:u.removeCommonPrefix(h);if(!g)return-1;const f=W.lift(c),p=d.map((v,_)=>{const y=ZC.fromSuggestion(r,h,f,v,this.isShiftKeyPressed).toSingleTextEdit().removeCommonPrefix(h),w=g.augments(y);return{index:_,valid:w,prefixLength:y.text.length,suggestItem:v}}).filter(v=>v&&v.valid&&v.prefixLength>0),b=g6(p,Na(v=>v.prefixLength,ju));return b?b.index:-1}}));let s=!1;const a=()=>{s||(s=!0,this._register(r.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(r.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(r.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(me.once(r.model.onDidTrigger)(l=>{a()})),this._register(r.onWillInsertSuggestItem(l=>{const c=this.editor.getPosition(),d=this.editor.getModel();if(!c||!d)return;const u=ZC.fromSuggestion(r,d,c,l.item,this.isShiftKeyPressed);this.onWillAccept(u)}))}this.update(this._isActive)}update(e){const t=this.getSuggestItemInfo();(this._isActive!==e||!SBe(this._currentSuggestItemInfo,t))&&(this._isActive=e,this._currentSuggestItemInfo=t,Ti(i=>{this.checkModelVersion(i),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,i)}))}getSuggestItemInfo(){const e=pl.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem(),i=this.editor.getPosition(),o=this.editor.getModel();if(!(!t||!i||!o))return ZC.fromSuggestion(e,o,i,t.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const e=pl.get(this.editor);e==null||e.stopForceRenderingAbove()}forceRenderingAbove(){const e=pl.get(this.editor);e==null||e.forceRenderingAbove()}}class ZC{static fromSuggestion(e,t,i,o,r){let{insertText:s}=o.completion,a=!1;if(o.completion.insertTextRules&4){const c=new Lm().parse(s);c.children.length<100&&AE.adjustWhitespace(t,i,!0,c),s=c.toString(),a=!0}const l=e.getOverwriteInfo(o,r);return new ZC(D.fromPositions(i.delta(0,-l.overwriteBefore),i.delta(0,Math.max(l.overwriteAfter,0))),s,o.completion.kind,a)}constructor(e,t,i,o){this.range=e,this.insertText=t,this.completionItemKind=i,this.isSnippetText=o}equals(e){return this.range.equalsRange(e.range)&&this.insertText===e.insertText&&this.completionItemKind===e.completionItemKind&&this.isSnippetText===e.isSnippetText}toSelectedSuggestionInfo(){return new kQ(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new Sf(this.range,this.insertText)}}function SBe(n,e){return n===e?!0:!n||!e?!1:n.equals(e)}var xBe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Ah=function(n,e){return function(t,i){e(t,i,n)}},bB;let ua=bB=class extends z{static get(e){return e.getContribution(bB.ID)}constructor(e,t,i,o,r,s,a,l,c){super(),this.editor=e,this._instantiationService=t,this._contextKeyService=i,this._configurationService=o,this._commandService=r,this._debounceService=s,this._languageFeaturesService=a,this._accessibilitySignalService=l,this._keybindingService=c,this.model=this._register(Lw("inlineCompletionModel",void 0)),this._textModelVersionId=$t(this,-1),this._positions=$t(this,[new W(1,1)]),this._suggestWidgetAdaptor=this._register(new wBe(this.editor,()=>{var g,f;return(f=(g=this.model.get())===null||g===void 0?void 0:g.selectedInlineCompletion.get())===null||f===void 0?void 0:f.toSingleTextEdit(void 0)},g=>this.updateObservables(g,zs.Other),g=>{Ti(f=>{var p;this.updateObservables(f,zs.Other),(p=this.model.get())===null||p===void 0||p.handleSuggestAccepted(g)})})),this._enabled=Pi(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._fontFamily=Pi(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).fontFamily),this._ghostTexts=nt(this,g=>{var f;const p=this.model.read(g);return(f=p==null?void 0:p.ghostTexts.read(g))!==null&&f!==void 0?f:[]}),this._stablizedGhostTexts=kBe(this._ghostTexts,this._store),this._ghostTextWidgets=QNe(this,this._stablizedGhostTexts,(g,f)=>f.add(this._instantiationService.createInstance(cB,this.editor,{ghostText:g,minReservedLineCount:Uu(0),targetTextModel:this.model.map(p=>p==null?void 0:p.textModel)}))).recomputeInitiallyAndOnChange(this._store),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._playAccessibilitySignal=$7(this),this._isReadonly=Pi(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(91)),this._textModel=Pi(this.editor.onDidChangeModel,()=>this.editor.getModel()),this._textModelIfWritable=nt(g=>this._isReadonly.read(g)?void 0:this._textModel.read(g)),this._register(new vo(this._contextKeyService,this.model)),this._register(Lt(g=>{const f=this._textModelIfWritable.read(g);Ti(p=>{if(this.model.set(void 0,p),this.updateObservables(p,zs.Other),f){const b=t.createInstance(uB,f,this._suggestWidgetAdaptor.selectedItem,this._textModelVersionId,this._positions,this._debounceValue,Pi(e.onDidChangeConfiguration,()=>e.getOption(118).preview),Pi(e.onDidChangeConfiguration,()=>e.getOption(118).previewMode),Pi(e.onDidChangeConfiguration,()=>e.getOption(62).mode),this._enabled);this.model.set(b,p)}})}));const d=this._register(tJ());this._register(Lt(g=>{const f=this._fontFamily.read(g);d.setStyle(f===""||f==="default"?"":`
.monaco-editor .ghost-text-decoration,
.monaco-editor .ghost-text-decoration-preview,
.monaco-editor .ghost-text {
	font-family: ${f};
}`)}));const u=g=>{var f;return g.isUndoing?zs.Undo:g.isRedoing?zs.Redo:!((f=this.model.get())===null||f===void 0)&&f.isAcceptingPartially?zs.AcceptWord:zs.Other};this._register(e.onDidChangeModelContent(g=>Ti(f=>this.updateObservables(f,u(g))))),this._register(e.onDidChangeCursorPosition(g=>Ti(f=>{var p;this.updateObservables(f,zs.Other),(g.reason===3||g.source==="api")&&((p=this.model.get())===null||p===void 0||p.stop(f))}))),this._register(e.onDidType(()=>Ti(g=>{var f;this.updateObservables(g,zs.Other),this._enabled.get()&&((f=this.model.get())===null||f===void 0||f.trigger(g))}))),this._register(this._commandService.onDidExecuteCommand(g=>{new Set([jb.Tab.id,jb.DeleteLeft.id,jb.DeleteRight.id,koe,"acceptSelectedSuggestion"]).has(g.commandId)&&e.hasTextFocus()&&this._enabled.get()&&Ti(p=>{var b;(b=this.model.get())===null||b===void 0||b.trigger(p)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||e.getOption(62).keepOnBlur||yf.dropDownVisible||Ti(g=>{var f;(f=this.model.get())===null||f===void 0||f.stop(g)})})),this._register(Lt(g=>{var f;const p=(f=this.model.read(g))===null||f===void 0?void 0:f.state.read(g);p!=null&&p.suggestItem?p.primaryGhostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register(je(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));let h;this._register(qS({handleChange:(g,f)=>(g.didChange(this._playAccessibilitySignal)&&(h=void 0),!0)},async g=>{this._playAccessibilitySignal.read(g);const f=this.model.read(g),p=f==null?void 0:f.state.read(g);if(!f||!p||!p.inlineCompletion){h=void 0;return}if(p.inlineCompletion.semanticId!==h){h=p.inlineCompletion.semanticId;const b=f.textModel.getLineContent(p.primaryGhostText.lineNumber);this._accessibilitySignalService.playSignal(vt.inlineSuggestion).then(()=>{this.editor.getOption(8)&&this.provideScreenReaderUpdate(p.primaryGhostText.renderForScreenReader(b))})}})),this._register(new jF(this.editor,this.model,this._instantiationService)),this._register(this._configurationService.onDidChangeConfiguration(g=>{g.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAccessibilitySignal(e){this._playAccessibilitySignal.trigger(e)}provideScreenReaderUpdate(e){const t=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),i=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let o;!t&&i&&this.editor.getOption(148)&&(o=m("showAccessibleViewHint","Inspect this in the accessible view ({0})",i.getAriaLabel())),Es(o?e+", "+o:e)}updateObservables(e,t){var i,o,r;const s=this.editor.getModel();this._textModelVersionId.set((i=s==null?void 0:s.getVersionId())!==null&&i!==void 0?i:-1,e,t),this._positions.set((r=(o=this.editor.getSelections())===null||o===void 0?void 0:o.map(a=>a.getPosition()))!==null&&r!==void 0?r:[new W(1,1)],e)}shouldShowHoverAt(e){var t;const i=(t=this.model.get())===null||t===void 0?void 0:t.primaryGhostText.get();return i?i.parts.some(o=>e.containsPosition(new W(i.lineNumber,o.column))):!1}shouldShowHoverAtViewZone(e){var t,i;return(i=(t=this._ghostTextWidgets.get()[0])===null||t===void 0?void 0:t.ownsViewZone(e))!==null&&i!==void 0?i:!1}};ua.ID="editor.contrib.inlineCompletionsController";ua=bB=xBe([Ah(1,Ge),Ah(2,Xe),Ah(3,yt),Ah(4,tn),Ah(5,Ka),Ah(6,Re),Ah(7,Vf),Ah(8,di)],ua);function kBe(n,e){const t=$t("result",[]),i=[];return e.add(Lt(o=>{const r=n.read(o);Ti(s=>{if(r.length!==i.length){i.length=r.length;for(let a=0;a<i.length;a++)i[a]||(i[a]=$t("item",r[a]));t.set([...i],s)}i.forEach((a,l)=>a.set(r[l],s))})})),t}class RN extends Le{constructor(){super({id:RN.ID,label:m("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:ee.and(I.writable,vo.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}async run(e,t){var i;const o=ua.get(t);(i=o==null?void 0:o.model.get())===null||i===void 0||i.next()}}RN.ID=Doe;class MN extends Le{constructor(){super({id:MN.ID,label:m("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:ee.and(I.writable,vo.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}async run(e,t){var i;const o=ua.get(t);(i=o==null?void 0:o.model.get())===null||i===void 0||i.previous()}}MN.ID=Loe;class LBe extends Le{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:m("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:I.writable})}async run(e,t){const i=ua.get(t);await KNe(async o=>{var r;await((r=i==null?void 0:i.model.get())===null||r===void 0?void 0:r.triggerExplicitly(o)),i==null||i.playAccessibilitySignal(o)})}}class DBe extends Le{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:m("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:ee.and(I.writable,vo.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:ee.and(I.writable,vo.inlineSuggestionVisible)},menuOpts:[{menuId:T.InlineSuggestionToolbar,title:m("acceptWord","Accept Word"),group:"primary",order:2}]})}async run(e,t){var i;const o=ua.get(t);await((i=o==null?void 0:o.model.get())===null||i===void 0?void 0:i.acceptNextWord(o.editor))}}class EBe extends Le{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:m("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:ee.and(I.writable,vo.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:T.InlineSuggestionToolbar,title:m("acceptLine","Accept Line"),group:"secondary",order:2}]})}async run(e,t){var i;const o=ua.get(t);await((i=o==null?void 0:o.model.get())===null||i===void 0?void 0:i.acceptNextLine(o.editor))}}class TBe extends Le{constructor(){super({id:koe,label:m("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:vo.inlineSuggestionVisible,menuOpts:[{menuId:T.InlineSuggestionToolbar,title:m("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:ee.and(vo.inlineSuggestionVisible,I.tabMovesFocus.toNegated(),vo.inlineSuggestionHasIndentationLessThanTabSize,pt.Visible.toNegated(),I.hoverFocused.toNegated())}})}async run(e,t){var i;const o=ua.get(t);o&&((i=o.model.get())===null||i===void 0||i.accept(o.editor),o.editor.focus())}}class AN extends Le{constructor(){super({id:AN.ID,label:m("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:vo.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}async run(e,t){const i=ua.get(t);Ti(o=>{var r;(r=i==null?void 0:i.model.get())===null||r===void 0||r.stop(o)})}}AN.ID="editor.action.inlineSuggest.hide";class PN extends hs{constructor(){super({id:PN.ID,title:m("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:T.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:ee.equals("config.editor.inlineSuggest.showToolbar","always")})}async run(e,t){const i=e.get(yt),r=i.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";i.updateValue("editor.inlineSuggest.showToolbar",r)}}PN.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";var IBe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},E1=function(n,e){return function(t,i){e(t,i,n)}};class NBe{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let _B=class{constructor(e,t,i,o,r,s){this._editor=e,this._languageService=t,this._openerService=i,this.accessibilityService=o,this._instantiationService=r,this._telemetryService=s,this.hoverOrdinal=4}suggestHoverAnchor(e){const t=ua.get(this._editor);if(!t)return null;const i=e.target;if(i.type===8){const o=i.detail;if(t.shouldShowHoverAtViewZone(o.viewZoneId))return new Jp(1e3,this,D.fromPositions(this._editor.getModel().validatePosition(o.positionBefore||o.position)),e.event.posx,e.event.posy,!1)}return i.type===7&&t.shouldShowHoverAt(i.range)?new Jp(1e3,this,i.range,e.event.posx,e.event.posy,!1):i.type===6&&i.detail.mightBeForeignElement&&t.shouldShowHoverAt(i.range)?new Jp(1e3,this,i.range,e.event.posx,e.event.posy,!1):null}computeSync(e,t){if(this._editor.getOption(62).showToolbar!=="onHover")return[];const i=ua.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new NBe(this,e.range,i)]:[]}renderHoverParts(e,t){const i=new oe,o=t[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&this.renderScreenReaderText(e,o,i);const r=o.controller.model.get(),s=this._instantiationService.createInstance(yf,this._editor,!1,Uu(null),r.selectedInlineCompletionIndex,r.inlineCompletionsCount,r.selectedInlineCompletion.map(a=>{var l;return(l=a==null?void 0:a.inlineCompletion.source.inlineCompletions.commands)!==null&&l!==void 0?l:[]}));return e.fragment.appendChild(s.getDomNode()),r.triggerExplicitly(),i.add(s),i}renderScreenReaderText(e,t,i){const o=ue,r=o("div.hover-row.markdown-hover"),s=ie(r,o("div.hover-contents",{"aria-live":"assertive"})),a=i.add(new Bd({editor:this._editor},this._languageService,this._openerService)),l=c=>{i.add(a.onDidRenderAsync(()=>{s.className="hover-contents code-hover-contents",e.onContentsChanged()}));const d=m("inlineSuggestionFollows","Suggestion:"),u=i.add(a.render(new Go().appendText(d).appendCodeblock("text",c)));s.replaceChildren(u.element)};i.add(Lt(c=>{var d;const u=(d=t.controller.model.read(c))===null||d===void 0?void 0:d.primaryGhostText.read(c);if(u){const h=this._editor.getModel().getLineContent(u.lineNumber);l(u.renderForScreenReader(h))}else Ho(s)})),e.fragment.appendChild(r)}};_B=IBe([E1(1,Bi),E1(2,gs),E1(3,Dl),E1(4,Ge),E1(5,fr)],_B);Gt(ua.ID,ua,3);de(LBe);de(RN);de(MN);de(DBe);de(EBe);de(TBe);de(AN);Li(PN);zf.register(_B);function ms(n,e){let t=0;for(let i=0;i<n.length;i++)n.charAt(i)==="	"?t+=e:t++;return t}function YC(n,e,t){n=n<0?0:n;let i="";if(!t){const o=Math.floor(n/e);n=n%e;for(let r=0;r<o;r++)i+="	"}for(let o=0;o<n;o++)i+=" ";return i}var RBe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},MBe=function(n,e){return function(t,i){e(t,i,n)}};function are(n,e,t,i,o){if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return[];const r=e.getLanguageConfiguration(n.getLanguageId()).indentationRules;if(!r)return[];for(i=Math.min(i,n.getLineCount());t<=i&&r.unIndentedLinePattern;){const b=n.getLineContent(t);if(!r.unIndentedLinePattern.test(b))break;t++}if(t>i-1)return[];const{tabSize:s,indentSize:a,insertSpaces:l}=n.getOptions(),c=(b,v)=>(v=v||1,xa.shiftIndent(b,b.length+v,s,a,l)),d=(b,v)=>(v=v||1,xa.unshiftIndent(b,b.length+v,s,a,l)),u=[];let h;const g=n.getLineContent(t);let f=g;if(o!=null){h=o;const b=wi(g);f=h+g.substring(b.length),r.decreaseIndentPattern&&r.decreaseIndentPattern.test(f)&&(h=d(h),f=h+g.substring(b.length)),g!==f&&u.push(zi.replaceMove(new Pe(t,1,t,b.length+1),m2(h,a,l)))}else h=wi(g);let p=h;r.increaseIndentPattern&&r.increaseIndentPattern.test(f)?(p=c(p),h=c(h)):r.indentNextLinePattern&&r.indentNextLinePattern.test(f)&&(p=c(p)),t++;for(let b=t;b<=i;b++){const v=n.getLineContent(b),_=wi(v),C=p+v.substring(_.length);r.decreaseIndentPattern&&r.decreaseIndentPattern.test(C)&&(p=d(p),h=d(h)),_!==p&&u.push(zi.replaceMove(new Pe(b,1,b,_.length+1),m2(p,a,l))),!(r.unIndentedLinePattern&&r.unIndentedLinePattern.test(v))&&(r.increaseIndentPattern&&r.increaseIndentPattern.test(C)?(h=c(h),p=h):r.indentNextLinePattern&&r.indentNextLinePattern.test(C)?p=c(p):p=h)}return u}class ON extends Le{constructor(){super({id:ON.ID,label:m("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:I.writable})}run(e,t){const i=t.getModel();if(!i)return;const o=i.getOptions(),r=t.getSelection();if(!r)return;const s=new FBe(r,o.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}ON.ID="editor.action.indentationToSpaces";class FN extends Le{constructor(){super({id:FN.ID,label:m("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:I.writable})}run(e,t){const i=t.getModel();if(!i)return;const o=i.getOptions(),r=t.getSelection();if(!r)return;const s=new BBe(r,o.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}FN.ID="editor.action.indentationToTabs";class OW extends Le{constructor(e,t,i){super(i),this.insertSpaces=e,this.displaySizeOnly=t}run(e,t){const i=e.get(Ac),o=e.get(Yi),r=t.getModel();if(!r)return;const s=o.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget),a=r.getOptions(),l=[1,2,3,4,5,6,7,8].map(d=>({id:d.toString(),label:d.toString(),description:d===s.tabSize&&d===a.tabSize?m("configuredTabSize","Configured Tab Size"):d===s.tabSize?m("defaultTabSize","Default Tab Size"):d===a.tabSize?m("currentTabSize","Current Tab Size"):void 0})),c=Math.min(r.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(l,{placeHolder:m({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:l[c]}).then(d=>{if(d&&r&&!r.isDisposed()){const u=parseInt(d.label,10);this.displaySizeOnly?r.updateOptions({tabSize:u}):r.updateOptions({tabSize:u,indentSize:u,insertSpaces:this.insertSpaces})}})},50)}}class BN extends OW{constructor(){super(!1,!1,{id:BN.ID,label:m("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}BN.ID="editor.action.indentUsingTabs";class WN extends OW{constructor(){super(!0,!1,{id:WN.ID,label:m("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}WN.ID="editor.action.indentUsingSpaces";class VN extends OW{constructor(){super(!0,!0,{id:VN.ID,label:m("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}}VN.ID="editor.action.changeTabDisplaySize";class HN extends Le{constructor(){super({id:HN.ID,label:m("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const i=e.get(Yi),o=t.getModel();if(!o)return;const r=i.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget);o.detectIndentation(r.insertSpaces,r.tabSize)}}HN.ID="editor.action.detectIndentation";class ABe extends Le{constructor(){super({id:"editor.action.reindentlines",label:m("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:I.writable})}run(e,t){const i=e.get(Di),o=t.getModel();if(!o)return;const r=are(o,i,1,o.getLineCount());r.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop())}}class PBe extends Le{constructor(){super({id:"editor.action.reindentselectedlines",label:m("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:I.writable})}run(e,t){const i=e.get(Di),o=t.getModel();if(!o)return;const r=t.getSelections();if(r===null)return;const s=[];for(const a of r){let l=a.startLineNumber,c=a.endLineNumber;if(l!==c&&a.endColumn===1&&c--,l===1){if(l===c)continue}else l--;const d=are(o,i,l,c);s.push(...d)}s.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop())}}class OBe{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(const i of e)i.range&&typeof i.text=="string"&&this._edits.push(i)}getEditOperations(e,t){for(const o of this._edits)t.addEditOperation(D.lift(o.range),o.text);let i=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}let qw=class{constructor(e,t){this.editor=e,this._languageConfigurationService=t,this.callOnDispose=new oe,this.callOnModel=new oe,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)}))}trigger(e){const t=this.editor.getSelections();if(t===null||t.length>1)return;const i=this.editor.getModel();if(!i||!i.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber))return;const o=this.editor.getOption(12),{tabSize:r,indentSize:s,insertSpaces:a}=i.getOptions(),l=[],c={shiftIndent:g=>xa.shiftIndent(g,g.length+1,r,s,a),unshiftIndent:g=>xa.unshiftIndent(g,g.length+1,r,s,a)};let d=e.startLineNumber;for(;d<=e.endLineNumber;){if(this.shouldIgnoreLine(i,d)){d++;continue}break}if(d>e.endLineNumber)return;let u=i.getLineContent(d);if(!/\S/.test(u.substring(0,e.startColumn-1))){const g=DC(o,i,i.getLanguageId(),d,c,this._languageConfigurationService);if(g!==null){const f=wi(u),p=ms(g,r),b=ms(f,r);if(p!==b){const v=YC(p,r,a);l.push({range:new D(d,1,d,f.length+1),text:v}),u=v+u.substr(f.length)}else{const v=See(i,d,this._languageConfigurationService);if(v===0||v===8)return}}}const h=d;for(;d<e.endLineNumber;){if(!/\S/.test(i.getLineContent(d+1))){d++;continue}break}if(d!==e.endLineNumber){const f=DC(o,{tokenization:{getLineTokens:p=>i.tokenization.getLineTokens(p),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(p,b)=>i.getLanguageIdAtPosition(p,b)},getLineContent:p=>p===h?u:i.getLineContent(p)},i.getLanguageId(),d+1,c,this._languageConfigurationService);if(f!==null){const p=ms(f,r),b=ms(wi(i.getLineContent(d+1)),r);if(p!==b){const v=p-b;for(let _=d+1;_<=e.endLineNumber;_++){const C=i.getLineContent(_),y=wi(C),S=ms(y,r)+v,x=YC(S,r,a);x!==y&&l.push({range:new D(_,1,_,y.length+1),text:x})}}}}if(l.length>0){this.editor.pushUndoStop();const g=new OBe(l,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",g),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.tokenization.forceTokenization(t);const i=e.getLineFirstNonWhitespaceColumn(t);if(i===0)return!0;const o=e.tokenization.getLineTokens(t);if(o.getCount()>0){const r=o.findTokenIndexAtOffset(i);if(r>=0&&o.getStandardTokenType(r)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};qw.ID="editor.contrib.autoIndentOnPaste";qw=RBe([MBe(1,Di)],qw);function lre(n,e,t,i){if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;let o="";for(let s=0;s<t;s++)o+=" ";const r=new RegExp(o,"gi");for(let s=1,a=n.getLineCount();s<=a;s++){let l=n.getLineFirstNonWhitespaceColumn(s);if(l===0&&(l=n.getLineMaxColumn(s)),l===1)continue;const c=new D(s,1,s,l),d=n.getValueInRange(c),u=i?d.replace(/\t/ig,o):d.replace(r,"	");e.addEditOperation(c,u)}}class FBe{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),lre(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class BBe{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),lre(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}Gt(qw.ID,qw,2);de(ON);de(FN);de(BN);de(WN);de(VN);de(HN);de(ABe);de(PBe);class cre{constructor(e,t){this.range=e,this.direction=t}}class FW{constructor(e,t,i){this.hint=e,this.anchor=t,this.provider=i,this._isResolved=!1}with(e){const t=new FW(this.hint,e.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}async resolve(e){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return await this._currentResolve,e.isCancellationRequested?void 0:this.resolve(e);this._isResolved||(this._currentResolve=this._doResolve(e).finally(()=>this._currentResolve=void 0)),await this._currentResolve}}async _doResolve(e){var t,i,o;try{const r=await Promise.resolve(this.provider.resolveInlayHint(this.hint,e));this.hint.tooltip=(t=r==null?void 0:r.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(i=r==null?void 0:r.label)!==null&&i!==void 0?i:this.hint.label,this.hint.textEdits=(o=r==null?void 0:r.textEdits)!==null&&o!==void 0?o:this.hint.textEdits,this._isResolved=!0}catch(r){Bn(r),this._isResolved=!1}}}class im{static async create(e,t,i,o){const r=[],s=e.ordered(t).reverse().map(a=>i.map(async l=>{try{const c=await a.provideInlayHints(t,l,o);(c!=null&&c.hints.length||a.onDidChangeInlayHints)&&r.push([c??im._emptyInlayHintList,a])}catch(c){Bn(c)}}));if(await Promise.all(s.flat()),o.isCancellationRequested||t.isDisposed())throw new Rf;return new im(i,r,t)}constructor(e,t,i){this._disposables=new oe,this.ranges=e,this.provider=new Set;const o=[];for(const[r,s]of t){this._disposables.add(r),this.provider.add(s);for(const a of r.hints){const l=i.validatePosition(a.position);let c="before";const d=im._getRangeAtPosition(i,l);let u;d.getStartPosition().isBefore(l)?(u=D.fromPositions(d.getStartPosition(),l),c="after"):(u=D.fromPositions(l,d.getEndPosition()),c="before"),o.push(new FW(a,new cre(u,c),s))}}this.items=o.sort((r,s)=>W.compare(r.hint.position,s.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(e,t){const i=t.lineNumber,o=e.getWordAtPosition(t);if(o)return new D(i,o.startColumn,i,o.endColumn);e.tokenization.tokenizeIfCheap(i);const r=e.tokenization.getLineTokens(i),s=t.column-1,a=r.findTokenIndexAtOffset(s);let l=r.getStartOffset(a),c=r.getEndOffset(a);return c-l===1&&(l===s&&a>1?(l=r.getStartOffset(a-1),c=r.getEndOffset(a-1)):c===s&&a<r.getCount()-1&&(l=r.getStartOffset(a+1),c=r.getEndOffset(a+1))),new D(i,l+1,i,c+1)}}im._emptyInlayHintList=Object.freeze({dispose(){},hints:[]});function WBe(n){return Ke.from({scheme:ft.command,path:n.id,query:n.arguments&&encodeURIComponent(JSON.stringify(n.arguments))}).toString()}async function VBe(n,e,t,i){var o;const r=n.get(us),s=n.get(Ps),a=n.get(tn),l=n.get(Ge),c=n.get(Nn);if(await i.item.resolve(Dt.None),!i.part.location)return;const d=i.part.location,u=[],h=new Set(Io.getMenuItems(T.EditorContext).map(f=>sb(f)?f.command.id:lN()));for(const f of cr.all())h.has(f.desc.id)&&u.push(new Ss(f.desc.id,aa.label(f.desc,{renderShortTitle:!0}),void 0,!0,async()=>{const p=await r.createModelReference(d.uri);try{const b=new e0(p.object.textEditorModel,D.getStartPosition(d.range)),v=i.item.anchor.range;await l.invokeFunction(f.runEditorCommand.bind(f),e,b,v)}finally{p.dispose()}}));if(i.part.command){const{command:f}=i.part;u.push(new Kn),u.push(new Ss(f.id,f.title,void 0,!0,async()=>{var p;try{await a.executeCommand(f.id,...(p=f.arguments)!==null&&p!==void 0?p:[])}catch(b){c.notify({severity:wI.Error,source:i.item.provider.displayName,message:b})}}))}const g=e.getOption(127);s.showContextMenu({domForShadowRoot:g&&(o=e.getDomNode())!==null&&o!==void 0?o:void 0,getAnchor:()=>{const f=In(t);return{x:f.left,y:f.top+f.height+8}},getActions:()=>u,onHide:()=>{e.focus()},autoSelectFirstItem:!0})}async function dre(n,e,t,i){const r=await n.get(us).createModelReference(i.uri);await t.invokeWithinContext(async s=>{const a=e.hasSideBySideModifier,l=s.get(Xe),c=cs.inPeekEditor.getValue(l),d=!a&&t.getOption(88)&&!c;return new ix({openToSide:a,openInPeek:d,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(s,new e0(r.object.textEditorModel,D.getStartPosition(i.range)),D.lift(i.range))}),r.dispose()}var HBe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Dv=function(n,e){return function(t,i){e(t,i,n)}},Hv;class OE{constructor(){this._entries=new Af(50)}get(e){const t=OE._key(e);return this._entries.get(t)}set(e,t){const i=OE._key(e);this._entries.set(i,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}const ure=Et("IInlayHintsCache");Ot(ure,OE,1);class CB{constructor(e,t){this.item=e,this.index=t}get part(){const e=this.item.hint.label;return typeof e=="string"?{label:e}:e[this.index]}}class zBe{constructor(e,t){this.part=e,this.hasTriggerModifier=t}}let xf=Hv=class{static get(e){var t;return(t=e.getContribution(Hv.ID))!==null&&t!==void 0?t:void 0}constructor(e,t,i,o,r,s,a){this._editor=e,this._languageFeaturesService=t,this._inlayHintsCache=o,this._commandService=r,this._notificationService=s,this._instaService=a,this._disposables=new oe,this._sessionDisposables=new oe,this._decorationsMetadata=new Map,this._ruleFactory=new ES(this._editor),this._activeRenderMode=0,this._debounceInfo=i.for(t.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(t.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(l=>{l.hasChanged(140)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const e=this._editor.getOption(140);if(e.enabled==="off")return;const t=this._editor.getModel();if(!t||!this._languageFeaturesService.inlayHintsProvider.has(t))return;if(e.enabled==="on")this._activeRenderMode=0;else{let a,l;e.enabled==="onUnlessPressed"?(a=0,l=1):(a=1,l=0),this._activeRenderMode=a,this._sessionDisposables.add(Nu.getInstance().event(c=>{if(!this._editor.hasModel())return;const d=c.altKey&&c.ctrlKey&&!(c.shiftKey||c.metaKey)?l:a;if(d!==this._activeRenderMode){this._activeRenderMode=d;const u=this._editor.getModel(),h=this._copyInlayHintsWithCurrentAnchor(u);this._updateHintsDecorators([u.getFullModelRange()],h),s.schedule(0)}}))}const i=this._inlayHintsCache.get(t);i&&this._updateHintsDecorators([t.getFullModelRange()],i),this._sessionDisposables.add(je(()=>{t.isDisposed()||this._cacheHintsForFastRestore(t)}));let o;const r=new Set,s=new mi(async()=>{const a=Date.now();o==null||o.dispose(!0),o=new gn;const l=t.onWillDispose(()=>o==null?void 0:o.cancel());try{const c=o.token,d=await im.create(this._languageFeaturesService.inlayHintsProvider,t,this._getHintsRanges(),c);if(s.delay=this._debounceInfo.update(t,Date.now()-a),c.isCancellationRequested){d.dispose();return}for(const u of d.provider)typeof u.onDidChangeInlayHints=="function"&&!r.has(u)&&(r.add(u),this._sessionDisposables.add(u.onDidChangeInlayHints(()=>{s.isScheduled()||s.schedule()})));this._sessionDisposables.add(d),this._updateHintsDecorators(d.ranges,d.items),this._cacheHintsForFastRestore(t)}catch(c){st(c)}finally{o.dispose(),l.dispose()}},this._debounceInfo.get(t));this._sessionDisposables.add(s),this._sessionDisposables.add(je(()=>o==null?void 0:o.dispose(!0))),s.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(a=>{(a.scrollTopChanged||!s.isScheduled())&&s.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(a=>{o==null||o.cancel();const l=Math.max(s.delay,1250);s.schedule(l)})),this._sessionDisposables.add(this._installDblClickGesture(()=>s.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const e=new oe,t=e.add(new uN(this._editor)),i=new oe;return e.add(i),e.add(t.onMouseMoveOrRelevantKeyDown(o=>{const[r]=o,s=this._getInlayHintLabelPart(r),a=this._editor.getModel();if(!s||!a){i.clear();return}const l=new gn;i.add(je(()=>l.dispose(!0))),s.item.resolve(l.token),this._activeInlayHintPart=s.part.command||s.part.location?new zBe(s,r.hasTriggerModifier):void 0;const c=a.validatePosition(s.item.hint.position).lineNumber,d=new D(c,1,c,a.getLineMaxColumn(c)),u=this._getInlineHintsForRange(d);this._updateHintsDecorators([d],u),i.add(je(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([d],u)}))})),e.add(t.onCancel(()=>i.clear())),e.add(t.onExecute(async o=>{const r=this._getInlayHintLabelPart(o);if(r){const s=r.part;s.location?this._instaService.invokeFunction(dre,o,this._editor,s.location):YO.is(s.command)&&await this._invokeCommand(s.command,r.item)}})),e}_getInlineHintsForRange(e){const t=new Set;for(const i of this._decorationsMetadata.values())e.containsRange(i.item.anchor.range)&&t.add(i.item);return Array.from(t)}_installDblClickGesture(e){return this._editor.onMouseUp(async t=>{if(t.event.detail!==2)return;const i=this._getInlayHintLabelPart(t);if(i&&(t.event.preventDefault(),await i.item.resolve(Dt.None),Yo(i.item.hint.textEdits))){const o=i.item.hint.textEdits.map(r=>zi.replace(D.lift(r.range),r.text));this._editor.executeEdits("inlayHint.default",o),e()}})}_installContextMenu(){return this._editor.onContextMenu(async e=>{if(!(e.event.target instanceof HTMLElement))return;const t=this._getInlayHintLabelPart(e);t&&await this._instaService.invokeFunction(VBe,this._editor,e.event.target,t)})}_getInlayHintLabelPart(e){var t;if(e.target.type!==6)return;const i=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;if(i instanceof uf&&(i==null?void 0:i.attachedData)instanceof CB)return i.attachedData}async _invokeCommand(e,t){var i;try{await this._commandService.executeCommand(e.id,...(i=e.arguments)!==null&&i!==void 0?i:[])}catch(o){this._notificationService.notify({severity:wI.Error,source:t.provider.displayName,message:o})}}_cacheHintsForFastRestore(e){const t=this._copyInlayHintsWithCurrentAnchor(e);this._inlayHintsCache.set(e,t)}_copyInlayHintsWithCurrentAnchor(e){const t=new Map;for(const[i,o]of this._decorationsMetadata){if(t.has(o.item))continue;const r=e.getDecorationRange(i);if(r){const s=new cre(r,o.item.anchor.direction),a=o.item.with({anchor:s});t.set(o.item,a)}}return Array.from(t.values())}_getHintsRanges(){const t=this._editor.getModel(),i=this._editor.getVisibleRangesPlusViewportAboveBelow(),o=[];for(const r of i.sort(D.compareRangesUsingStarts)){const s=t.validateRange(new D(r.startLineNumber-30,r.startColumn,r.endLineNumber+30,r.endColumn));o.length===0||!D.areIntersectingOrTouching(o[o.length-1],s)?o.push(s):o[o.length-1]=D.plusRange(o[o.length-1],s)}return o}_updateHintsDecorators(e,t){var i,o;const r=[],s=(b,v,_,C,y)=>{const w={content:_,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:v.className,cursorStops:C,attachedData:y};r.push({item:b,classNameRef:v,decoration:{range:b.anchor.range,options:{description:"InlayHint",showIfCollapsed:b.anchor.range.isEmpty(),collapseOnReplaceEdit:!b.anchor.range.isEmpty(),stickiness:0,[b.anchor.direction]:this._activeRenderMode===0?w:void 0}}})},a=(b,v)=>{const _=this._ruleFactory.createClassNameRef({width:`${l/3|0}px`,display:"inline-block"});s(b,_,"",v?ul.Right:ul.None)},{fontSize:l,fontFamily:c,padding:d,isUniform:u}=this._getLayoutInfo(),h="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(h,c);let g={line:0,totalLen:0};for(const b of t){if(g.line!==b.anchor.range.startLineNumber&&(g={line:b.anchor.range.startLineNumber,totalLen:0}),g.totalLen>Hv._MAX_LABEL_LEN)continue;b.hint.paddingLeft&&a(b,!1);const v=typeof b.hint.label=="string"?[{label:b.hint.label}]:b.hint.label;for(let _=0;_<v.length;_++){const C=v[_],y=_===0,w=_===v.length-1,S={fontSize:`${l}px`,fontFamily:`var(${h}), ${os.fontFamily}`,verticalAlign:u?"baseline":"middle",unicodeBidi:"isolate"};Yo(b.hint.textEdits)&&(S.cursor="default"),this._fillInColors(S,b.hint),(C.command||C.location)&&((i=this._activeInlayHintPart)===null||i===void 0?void 0:i.part.item)===b&&this._activeInlayHintPart.part.index===_&&(S.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(S.color=sn(vCe),S.cursor="pointer")),d&&(y&&w?(S.padding=`1px ${Math.max(1,l/4)|0}px`,S.borderRadius=`${l/4|0}px`):y?(S.padding=`1px 0 1px ${Math.max(1,l/4)|0}px`,S.borderRadius=`${l/4|0}px 0 0 ${l/4|0}px`):w?(S.padding=`1px ${Math.max(1,l/4)|0}px 1px 0`,S.borderRadius=`0 ${l/4|0}px ${l/4|0}px 0`):S.padding="1px 0 1px 0");let x=C.label;g.totalLen+=x.length;let L=!1;const E=g.totalLen-Hv._MAX_LABEL_LEN;if(E>0&&(x=x.slice(0,-E)+"",L=!0),s(b,this._ruleFactory.createClassNameRef(S),UBe(x),w&&!b.hint.paddingRight?ul.Right:ul.None,new CB(b,_)),L)break}if(b.hint.paddingRight&&a(b,!0),r.length>Hv._MAX_DECORATORS)break}const f=[];for(const[b,v]of this._decorationsMetadata){const _=(o=this._editor.getModel())===null||o===void 0?void 0:o.getDecorationRange(b);_&&e.some(C=>C.containsRange(_))&&(f.push(b),v.classNameRef.dispose(),this._decorationsMetadata.delete(b))}const p=Dc.capture(this._editor);this._editor.changeDecorations(b=>{const v=b.deltaDecorations(f,r.map(_=>_.decoration));for(let _=0;_<v.length;_++){const C=r[_];this._decorationsMetadata.set(v[_],C)}}),p.restore(this._editor)}_fillInColors(e,t){t.kind===KD.Parameter?(e.backgroundColor=sn(yCe),e.color=sn(CCe)):t.kind===KD.Type?(e.backgroundColor=sn(_Ce),e.color=sn(bCe)):(e.backgroundColor=sn(Bu),e.color=sn(Fu))}_getLayoutInfo(){const e=this._editor.getOption(140),t=e.padding,i=this._editor.getOption(52),o=this._editor.getOption(49);let r=e.fontSize;(!r||r<5||r>i)&&(r=i);const s=e.fontFamily||o;return{fontSize:r,fontFamily:s,padding:t,isUniform:!t&&s===o&&r===i}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};xf.ID="editor.contrib.InlayHints";xf._MAX_DECORATORS=1500;xf._MAX_LABEL_LEN=43;xf=Hv=HBe([Dv(1,Re),Dv(2,Ka),Dv(3,ure),Dv(4,tn),Dv(5,Nn),Dv(6,Ge)],xf);function UBe(n){return n.replace(/[ \t]/g,"")}Pt.registerCommand("_executeInlayHintProvider",async(n,...e)=>{const[t,i]=e;Jt(Ke.isUri(t)),Jt(D.isIRange(i));const{inlayHintsProvider:o}=n.get(Re),r=await n.get(us).createModelReference(t);try{const s=await im.create(o,r.object.textEditorModel,[D.lift(i)],Dt.None),a=s.items.map(l=>l.hint);return setTimeout(()=>s.dispose(),0),a}finally{r.dispose()}});var $Be=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},T1=function(n,e){return function(t,i){e(t,i,n)}};class qq extends Jp{constructor(e,t,i,o){super(10,t,e.item.anchor.range,i,o,!0),this.part=e}}let yB=class extends LE{constructor(e,t,i,o,r,s){super(e,t,i,o,s),this._resolverService=r,this.hoverOrdinal=6}suggestHoverAnchor(e){var t;if(!xf.get(this._editor)||e.target.type!==6)return null;const o=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;return o instanceof uf&&o.attachedData instanceof CB?new qq(o.attachedData,this,e.event.posx,e.event.posy):null}computeSync(){return[]}computeAsync(e,t,i){return e instanceof qq?new Pn(async o=>{const{part:r}=e;if(await r.item.resolve(i),i.isCancellationRequested)return;let s;typeof r.item.hint.tooltip=="string"?s=new Go().appendText(r.item.hint.tooltip):r.item.hint.tooltip&&(s=r.item.hint.tooltip),s&&o.emitOne(new ec(this,e.range,[s],!1,0)),Yo(r.item.hint.textEdits)&&o.emitOne(new ec(this,e.range,[new Go().appendText(m("hint.dbl","Double-click to insert"))],!1,10001));let a;if(typeof r.part.tooltip=="string"?a=new Go().appendText(r.part.tooltip):r.part.tooltip&&(a=r.part.tooltip),a&&o.emitOne(new ec(this,e.range,[a],!1,1)),r.part.location||r.part.command){let c;const u=this._editor.getOption(78)==="altKey"?Rt?m("links.navigate.kb.meta.mac","cmd + click"):m("links.navigate.kb.meta","ctrl + click"):Rt?m("links.navigate.kb.alt.mac","option + click"):m("links.navigate.kb.alt","alt + click");r.part.location&&r.part.command?c=new Go().appendText(m("hint.defAndCommand","Go to Definition ({0}), right click for more",u)):r.part.location?c=new Go().appendText(m("hint.def","Go to Definition ({0})",u)):r.part.command&&(c=new Go(`[${m("hint.cmd","Execute Command")}](${WBe(r.part.command)} "${r.part.command.title}") (${u})`,{isTrusted:!0})),c&&o.emitOne(new ec(this,e.range,[c],!1,1e4))}const l=await this._resolveInlayHintLabelPartHover(r,i);for await(const c of l)o.emitOne(c)}):Pn.EMPTY}async _resolveInlayHintLabelPartHover(e,t){if(!e.part.location)return Pn.EMPTY;const{uri:i,range:o}=e.part.location,r=await this._resolverService.createModelReference(i);try{const s=r.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(s)?bW(this._languageFeaturesService.hoverProvider,s,new W(o.startLineNumber,o.startColumn),t).filter(a=>!H_(a.hover.contents)).map(a=>new ec(this,e.item.anchor.range,a.hover.contents,!1,2+a.ordinal)):Pn.EMPTY}finally{r.dispose()}}};yB=$Be([T1(1,Bi),T1(2,gs),T1(3,yt),T1(4,us),T1(5,Re)],yB);Gt(xf.ID,xf,1);zf.register(yB);class jBe{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const o=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new Pe(o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn),o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn)):new Pe(o.endLineNumber,o.endColumn-this._text.length,o.endLineNumber,o.endColumn)}}var KBe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},qBe=function(n,e){return function(t,i){e(t,i,n)}},JL;let kf=JL=class{static get(e){return e.getContribution(JL.ID)}constructor(e,t){this.editor=e,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(e,t){var i;(i=this.currentRequest)===null||i===void 0||i.cancel();const o=this.editor.getSelection(),r=this.editor.getModel();if(!r||!o)return;let s=o;if(s.startLineNumber!==s.endLineNumber)return;const a=new qie(this.editor,5),l=r.uri;return this.editorWorkerService.canNavigateValueSet(l)?(this.currentRequest=ro(c=>this.editorWorkerService.navigateValueSet(l,s,t)),this.currentRequest.then(c=>{var d;if(!c||!c.range||!c.value||!a.validate(this.editor))return;const u=D.lift(c.range);let h=c.range;const g=c.value.length-(s.endColumn-s.startColumn);h={startLineNumber:h.startLineNumber,startColumn:h.startColumn,endLineNumber:h.endLineNumber,endColumn:h.startColumn+c.value.length},g>1&&(s=new Pe(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+g-1));const f=new jBe(u,s,c.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,f),this.editor.pushUndoStop(),this.decorations.set([{range:h,options:JL.DECORATION}]),(d=this.decorationRemover)===null||d===void 0||d.cancel(),this.decorationRemover=tf(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(st)}).catch(st)):Promise.resolve(void 0)}};kf.ID="editor.contrib.inPlaceReplaceController";kf.DECORATION=dt.register({description:"in-place-replace",className:"valueSetReplacement"});kf=JL=KBe([qBe(1,Tl)],kf);class GBe extends Le{constructor(){super({id:"editor.action.inPlaceReplace.up",label:m("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:3159,weight:100}})}run(e,t){const i=kf.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}class ZBe extends Le{constructor(){super({id:"editor.action.inPlaceReplace.down",label:m("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:3161,weight:100}})}run(e,t){const i=kf.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}Gt(kf.ID,kf,4);de(GBe);de(ZBe);class YBe extends Le{constructor(){super({id:"expandLineSelection",label:m("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:I.textInputFocus,primary:2090}})}run(e,t,i){if(i=i||{},!t.hasModel())return;const o=t._getViewModel();o.model.pushStackElement(),o.setCursorStates(i.source,3,wo.expandLineSelection(o,o.getCursorStates())),o.revealPrimaryCursor(i.source,!0)}}de(YBe);class XBe{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){const i=QBe(e,this._cursors);for(let o=0,r=i.length;o<r;o++){const s=i[o];t.addEditOperation(s.range,s.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}function QBe(n,e){e.sort((s,a)=>s.lineNumber===a.lineNumber?s.column-a.column:s.lineNumber-a.lineNumber);for(let s=e.length-2;s>=0;s--)e[s].lineNumber===e[s+1].lineNumber&&e.splice(s,1);const t=[];let i=0,o=0;const r=e.length;for(let s=1,a=n.getLineCount();s<=a;s++){const l=n.getLineContent(s),c=l.length+1;let d=0;if(o<r&&e[o].lineNumber===s&&(d=e[o].column,o++,d===c)||l.length===0)continue;const u=hc(l);let h=0;if(u===-1)h=1;else if(u!==l.length-1)h=u+2;else continue;h=Math.max(d,h),t[i++]=zi.delete(new D(s,h,s,c))}return t}class hre{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const o=[];for(let s=i.startLineNumber;s<=i.endLineNumber;s++)o.push(e.getLineContent(s));const r=o.join(`
`);r===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new D(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":`
`):this._isCopyingDown?t.addEditOperation(new D(i.startLineNumber,1,i.startLineNumber,1),r+`
`):t.addEditOperation(new D(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),`
`+r),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let o=i.startLineNumber,r=i.startColumn,s=i.endLineNumber,a=i.endColumn;this._startLineNumberDelta!==0&&(o=o+this._startLineNumberDelta,r=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,a=1),i=Pe.createWithDirection(o,r,s,a,this._selectionDirection)}return i}}var JBe=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},e9e=function(n,e){return function(t,i){e(t,i,n)}};let wB=class{constructor(e,t,i,o){this._languageConfigurationService=o,this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){const i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let o=this._selection;o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,e.getLineMaxColumn(o.endLineNumber-1)));const{tabSize:r,indentSize:s,insertSpaces:a}=e.getOptions(),l=this.buildIndentConverter(r,s,a),c={tokenization:{getLineTokens:d=>e.tokenization.getLineTokens(d),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(d,u)=>e.getLanguageIdAtPosition(d,u)},getLineContent:null};if(o.startLineNumber===o.endLineNumber&&e.getLineMaxColumn(o.startLineNumber)===1){const d=o.startLineNumber,u=this._isMovingDown?d+1:d-1;e.getLineMaxColumn(u)===1?t.addEditOperation(new D(1,1,1,1),null):(t.addEditOperation(new D(d,1,d,1),e.getLineContent(u)),t.addEditOperation(new D(u,1,u,e.getLineMaxColumn(u)),null)),o=new Pe(u,1,u,1)}else{let d,u;if(this._isMovingDown){d=o.endLineNumber+1,u=e.getLineContent(d),t.addEditOperation(new D(d-1,e.getLineMaxColumn(d-1),d,e.getLineMaxColumn(d)),null);let h=u;if(this.shouldAutoIndent(e,o)){const g=this.matchEnterRule(e,l,r,d,o.startLineNumber-1);if(g!==null){const p=wi(e.getLineContent(d)),b=g+ms(p,r);h=YC(b,r,a)+this.trimStart(u)}else{c.getLineContent=b=>b===o.startLineNumber?e.getLineContent(d):e.getLineContent(b);const p=DC(this._autoIndent,c,e.getLanguageIdAtPosition(d,1),o.startLineNumber,l,this._languageConfigurationService);if(p!==null){const b=wi(e.getLineContent(d)),v=ms(p,r),_=ms(b,r);v!==_&&(h=YC(v,r,a)+this.trimStart(u))}}t.addEditOperation(new D(o.startLineNumber,1,o.startLineNumber,1),h+`
`);const f=this.matchEnterRuleMovingDown(e,l,r,o.startLineNumber,d,h);if(f!==null)f!==0&&this.getIndentEditsOfMovingBlock(e,t,o,r,a,f);else{c.getLineContent=b=>b===o.startLineNumber?h:b>=o.startLineNumber+1&&b<=o.endLineNumber+1?e.getLineContent(b-1):e.getLineContent(b);const p=DC(this._autoIndent,c,e.getLanguageIdAtPosition(d,1),o.startLineNumber+1,l,this._languageConfigurationService);if(p!==null){const b=wi(e.getLineContent(o.startLineNumber)),v=ms(p,r),_=ms(b,r);if(v!==_){const C=v-_;this.getIndentEditsOfMovingBlock(e,t,o,r,a,C)}}}}else t.addEditOperation(new D(o.startLineNumber,1,o.startLineNumber,1),h+`
`)}else if(d=o.startLineNumber-1,u=e.getLineContent(d),t.addEditOperation(new D(d,1,d+1,1),null),t.addEditOperation(new D(o.endLineNumber,e.getLineMaxColumn(o.endLineNumber),o.endLineNumber,e.getLineMaxColumn(o.endLineNumber)),`
`+u),this.shouldAutoIndent(e,o)){c.getLineContent=g=>g===d?e.getLineContent(o.startLineNumber):e.getLineContent(g);const h=this.matchEnterRule(e,l,r,o.startLineNumber,o.startLineNumber-2);if(h!==null)h!==0&&this.getIndentEditsOfMovingBlock(e,t,o,r,a,h);else{const g=DC(this._autoIndent,c,e.getLanguageIdAtPosition(o.startLineNumber,1),d,l,this._languageConfigurationService);if(g!==null){const f=wi(e.getLineContent(o.startLineNumber)),p=ms(g,r),b=ms(f,r);if(p!==b){const v=p-b;this.getIndentEditsOfMovingBlock(e,t,o,r,a,v)}}}}}this._selectionId=t.trackSelection(o)}buildIndentConverter(e,t,i){return{shiftIndent:o=>xa.shiftIndent(o,o.length+1,e,t,i),unshiftIndent:o=>xa.unshiftIndent(o,o.length+1,e,t,i)}}parseEnterResult(e,t,i,o,r){if(r){let s=r.indentation;r.indentAction===On.None||r.indentAction===On.Indent?s=r.indentation+r.appendText:r.indentAction===On.IndentOutdent?s=r.indentation:r.indentAction===On.Outdent&&(s=t.unshiftIndent(r.indentation)+r.appendText);const a=e.getLineContent(o);if(this.trimStart(a).indexOf(this.trimStart(s))>=0){const l=wi(e.getLineContent(o));let c=wi(s);const d=See(e,o,this._languageConfigurationService);d!==null&&d&2&&(c=t.unshiftIndent(c));const u=ms(c,i),h=ms(l,i);return u-h}}return null}matchEnterRuleMovingDown(e,t,i,o,r,s){if(hc(s)>=0){const a=e.getLineMaxColumn(r),l=$b(this._autoIndent,e,new D(r,a,r,a),this._languageConfigurationService);return this.parseEnterResult(e,t,i,o,l)}else{let a=o-1;for(;a>=1;){const d=e.getLineContent(a);if(hc(d)>=0)break;a--}if(a<1||o>e.getLineCount())return null;const l=e.getLineMaxColumn(a),c=$b(this._autoIndent,e,new D(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(e,t,i,o,c)}}matchEnterRule(e,t,i,o,r,s){let a=r;for(;a>=1;){let d;if(a===r&&s!==void 0?d=s:d=e.getLineContent(a),hc(d)>=0)break;a--}if(a<1||o>e.getLineCount())return null;const l=e.getLineMaxColumn(a),c=$b(this._autoIndent,e,new D(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(e,t,i,o,c)}trimStart(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const i=e.getLanguageIdAtPosition(t.startLineNumber,1),o=e.getLanguageIdAtPosition(t.endLineNumber,1);return!(i!==o||this._languageConfigurationService.getLanguageConfiguration(i).indentRulesSupport===null)}getIndentEditsOfMovingBlock(e,t,i,o,r,s){for(let a=i.startLineNumber;a<=i.endLineNumber;a++){const l=e.getLineContent(a),c=wi(l),u=ms(c,o)+s,h=YC(u,o,r);h!==c&&(t.addEditOperation(new D(a,1,a,c.length+1),h),a===i.endLineNumber&&i.endColumn<=c.length+1&&h===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}};wB=JBe([e9e(3,Di)],wB);class qg{static getCollator(){return qg._COLLATOR||(qg._COLLATOR=new Intl.Collator),qg._COLLATOR}constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}getEditOperations(e,t){const i=t9e(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(e===null)return!1;const o=gre(e,t,i);if(!o)return!1;for(let r=0,s=o.before.length;r<s;r++)if(o.before[r]!==o.after[r])return!0;return!1}}qg._COLLATOR=null;function gre(n,e,t){const i=e.startLineNumber;let o=e.endLineNumber;if(e.endColumn===1&&o--,i>=o)return null;const r=[];for(let a=i;a<=o;a++)r.push(n.getLineContent(a));let s=r.slice(0);return s.sort(qg.getCollator().compare),t===!0&&(s=s.reverse()),{startLineNumber:i,endLineNumber:o,before:r,after:s}}function t9e(n,e,t){const i=gre(n,e,t);return i?zi.replace(new D(i.startLineNumber,1,i.endLineNumber,n.getLineMaxColumn(i.endLineNumber)),i.after.join(`
`)):null}class fre extends Le{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const i=t.getSelections().map((s,a)=>({selection:s,index:a,ignore:!1}));i.sort((s,a)=>D.compareRangesUsingStarts(s.selection,a.selection));let o=i[0];for(let s=1;s<i.length;s++){const a=i[s];o.selection.endLineNumber===a.selection.startLineNumber&&(o.index<a.index?a.ignore=!0:(o.ignore=!0,o=a))}const r=[];for(const s of i)r.push(new hre(s.selection,this.down,s.ignore));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class i9e extends fre{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:m("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:T.MenubarSelectionMenu,group:"2_line",title:m({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class n9e extends fre{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:m("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:T.MenubarSelectionMenu,group:"2_line",title:m({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class o9e extends Le{constructor(){super({id:"editor.action.duplicateSelection",label:m("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:I.writable,menuOpts:{menuId:T.MenubarSelectionMenu,group:"2_line",title:m({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;const o=[],r=t.getSelections(),s=t.getModel();for(const a of r)if(a.isEmpty())o.push(new hre(a,!0));else{const l=new Pe(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn);o.push(new Uwe(l,s.getValueInRange(a)))}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class pre extends Le{constructor(e,t){super(t),this.down=e}run(e,t){const i=e.get(Di),o=[],r=t.getSelections()||[],s=t.getOption(12);for(const a of r)o.push(new wB(a,this.down,s,i));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class r9e extends pre{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:m("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:T.MenubarSelectionMenu,group:"2_line",title:m({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class s9e extends pre{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:m("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:T.MenubarSelectionMenu,group:"2_line",title:m({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class mre extends Le{constructor(e,t){super(t),this.descending=e}run(e,t){const i=t.getSelections()||[];for(const r of i)if(!qg.canRun(t.getModel(),r,this.descending))return;const o=[];for(let r=0,s=i.length;r<s;r++)o[r]=new qg(i[r],this.descending);t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class a9e extends mre{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:m("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:I.writable})}}class l9e extends mre{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:m("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:I.writable})}}class c9e extends Le{constructor(){super({id:"editor.action.removeDuplicateLines",label:m("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:I.writable})}run(e,t){if(!t.hasModel())return;const i=t.getModel();if(i.getLineCount()===1&&i.getLineMaxColumn(1)===1)return;const o=[],r=[];let s=0;for(const a of t.getSelections()){const l=new Set,c=[];for(let g=a.startLineNumber;g<=a.endLineNumber;g++){const f=i.getLineContent(g);l.has(f)||(c.push(f),l.add(f))}const d=new Pe(a.startLineNumber,1,a.endLineNumber,i.getLineMaxColumn(a.endLineNumber)),u=a.startLineNumber-s,h=new Pe(u,1,u+c.length-1,c[c.length-1].length);o.push(zi.replace(d,c.join(`
`))),r.push(h),s+=a.endLineNumber-a.startLineNumber+1-c.length}t.pushUndoStop(),t.executeEdits(this.id,o,r),t.pushUndoStop()}}class zN extends Le{constructor(){super({id:zN.ID,label:m("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:qn(2089,2102),weight:100}})}run(e,t,i){let o=[];i.reason==="auto-save"&&(o=(t.getSelections()||[]).map(a=>new W(a.positionLineNumber,a.positionColumn)));const r=t.getSelection();if(r===null)return;const s=new XBe(r,o);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop()}}zN.ID="editor.action.trimTrailingWhitespace";class d9e extends Le{constructor(){super({id:"editor.action.deleteLines",label:m("lines.delete","Delete Line"),alias:"Delete Line",precondition:I.writable,kbOpts:{kbExpr:I.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;const i=this._getLinesToRemove(t),o=t.getModel();if(o.getLineCount()===1&&o.getLineMaxColumn(1)===1)return;let r=0;const s=[],a=[];for(let l=0,c=i.length;l<c;l++){const d=i[l];let u=d.startLineNumber,h=d.endLineNumber,g=1,f=o.getLineMaxColumn(h);h<o.getLineCount()?(h+=1,f=1):u>1&&(u-=1,g=o.getLineMaxColumn(u)),s.push(zi.replace(new Pe(u,g,h,f),"")),a.push(new Pe(u-r,d.positionColumn,u-r,d.positionColumn)),r+=d.endLineNumber-d.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,s,a),t.pushUndoStop()}_getLinesToRemove(e){const t=e.getSelections().map(r=>{let s=r.endLineNumber;return r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(s-=1),{startLineNumber:r.startLineNumber,selectionStartColumn:r.selectionStartColumn,endLineNumber:s,positionColumn:r.positionColumn}});t.sort((r,s)=>r.startLineNumber===s.startLineNumber?r.endLineNumber-s.endLineNumber:r.startLineNumber-s.startLineNumber);const i=[];let o=t[0];for(let r=1;r<t.length;r++)o.endLineNumber+1>=t[r].startLineNumber?o.endLineNumber=t[r].endLineNumber:(i.push(o),o=t[r]);return i.push(o),i}}class u9e extends Le{constructor(){super({id:"editor.action.indentLines",label:m("lines.indent","Indent Line"),alias:"Indent Line",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:2142,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,Ji.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class h9e extends Le{constructor(){super({id:"editor.action.outdentLines",label:m("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:2140,weight:100}})}run(e,t){jb.Outdent.runEditorCommand(e,t,null)}}class g9e extends Le{constructor(){super({id:"editor.action.insertLineBefore",label:m("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:3075,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,Ji.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}class f9e extends Le{constructor(){super({id:"editor.action.insertLineAfter",label:m("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:2051,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,Ji.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}class vre extends Le{run(e,t){if(!t.hasModel())return;const i=t.getSelection(),o=this._getRangesToDelete(t),r=[];for(let l=0,c=o.length-1;l<c;l++){const d=o[l],u=o[l+1];D.intersectRanges(d,u)===null?r.push(d):o[l+1]=D.plusRange(d,u)}r.push(o[o.length-1]);const s=this._getEndCursorState(i,r),a=r.map(l=>zi.replace(l,""));t.pushUndoStop(),t.executeEdits(this.id,a,s),t.pushUndoStop()}}class p9e extends vre{constructor(){super({id:"deleteAllLeft",label:m("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:I.writable,kbOpts:{kbExpr:I.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null;const o=[];let r=0;return t.forEach(s=>{let a;if(s.endColumn===1&&r>0){const l=s.startLineNumber-r;a=new Pe(l,s.startColumn,l,s.startColumn)}else a=new Pe(s.startLineNumber,s.startColumn,s.startLineNumber,s.startColumn);r+=s.endLineNumber-s.startLineNumber,s.intersectRanges(e)?i=a:o.push(a)}),i&&o.unshift(i),o}_getRangesToDelete(e){const t=e.getSelections();if(t===null)return[];let i=t;const o=e.getModel();return o===null?[]:(i.sort(D.compareRangesUsingStarts),i=i.map(r=>{if(r.isEmpty())if(r.startColumn===1){const s=Math.max(1,r.startLineNumber-1),a=r.startLineNumber===1?1:o.getLineLength(s)+1;return new D(s,a,r.startLineNumber,1)}else return new D(r.startLineNumber,1,r.startLineNumber,r.startColumn);else return new D(r.startLineNumber,1,r.endLineNumber,r.endColumn)}),i)}}class m9e extends vre{constructor(){super({id:"deleteAllRight",label:m("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:I.writable,kbOpts:{kbExpr:I.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null;const o=[];for(let r=0,s=t.length,a=0;r<s;r++){const l=t[r],c=new Pe(l.startLineNumber-a,l.startColumn,l.startLineNumber-a,l.startColumn);l.intersectRanges(e)?i=c:o.push(c)}return i&&o.unshift(i),o}_getRangesToDelete(e){const t=e.getModel();if(t===null)return[];const i=e.getSelections();if(i===null)return[];const o=i.map(r=>{if(r.isEmpty()){const s=t.getLineMaxColumn(r.startLineNumber);return r.startColumn===s?new D(r.startLineNumber,r.startColumn,r.startLineNumber+1,1):new D(r.startLineNumber,r.startColumn,r.startLineNumber,s)}return r});return o.sort(D.compareRangesUsingStarts),o}}class v9e extends Le{constructor(){super({id:"editor.action.joinLines",label:m("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:I.writable,kbOpts:{kbExpr:I.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){const i=t.getSelections();if(i===null)return;let o=t.getSelection();if(o===null)return;i.sort(D.compareRangesUsingStarts);const r=[],s=i.reduce((h,g)=>h.isEmpty()?h.endLineNumber===g.startLineNumber?(o.equalsSelection(h)&&(o=g),g):g.startLineNumber>h.endLineNumber+1?(r.push(h),g):new Pe(h.startLineNumber,h.startColumn,g.endLineNumber,g.endColumn):g.startLineNumber>h.endLineNumber?(r.push(h),g):new Pe(h.startLineNumber,h.startColumn,g.endLineNumber,g.endColumn));r.push(s);const a=t.getModel();if(a===null)return;const l=[],c=[];let d=o,u=0;for(let h=0,g=r.length;h<g;h++){const f=r[h],p=f.startLineNumber,b=1;let v=0,_,C;const y=a.getLineLength(f.endLineNumber)-f.endColumn;if(f.isEmpty()||f.startLineNumber===f.endLineNumber){const x=f.getStartPosition();x.lineNumber<a.getLineCount()?(_=p+1,C=a.getLineMaxColumn(_)):(_=x.lineNumber,C=a.getLineMaxColumn(x.lineNumber))}else _=f.endLineNumber,C=a.getLineMaxColumn(_);let w=a.getLineContent(p);for(let x=p+1;x<=_;x++){const L=a.getLineContent(x),E=a.getLineFirstNonWhitespaceColumn(x);if(E>=1){let O=!0;w===""&&(O=!1),O&&(w.charAt(w.length-1)===" "||w.charAt(w.length-1)==="	")&&(O=!1,w=w.replace(/[\s\uFEFF\xA0]+$/g," "));const P=L.substr(E-1);w+=(O?" ":"")+P,O?v=P.length+1:v=P.length}else v=0}const S=new D(p,b,_,C);if(!S.isEmpty()){let x;f.isEmpty()?(l.push(zi.replace(S,w)),x=new Pe(S.startLineNumber-u,w.length-v+1,p-u,w.length-v+1)):f.startLineNumber===f.endLineNumber?(l.push(zi.replace(S,w)),x=new Pe(f.startLineNumber-u,f.startColumn,f.endLineNumber-u,f.endColumn)):(l.push(zi.replace(S,w)),x=new Pe(f.startLineNumber-u,f.startColumn,f.startLineNumber-u,w.length-y)),D.intersectRanges(S,o)!==null?d=x:c.push(x)}u+=S.endLineNumber-S.startLineNumber}c.unshift(d),t.pushUndoStop(),t.executeEdits(this.id,l,c),t.pushUndoStop()}}class b9e extends Le{constructor(){super({id:"editor.action.transpose",label:m("editor.transpose","Transpose Characters around the Cursor"),alias:"Transpose Characters around the Cursor",precondition:I.writable})}run(e,t){const i=t.getSelections();if(i===null)return;const o=t.getModel();if(o===null)return;const r=[];for(let s=0,a=i.length;s<a;s++){const l=i[s];if(!l.isEmpty())continue;const c=l.getStartPosition(),d=o.getLineMaxColumn(c.lineNumber);if(c.column>=d){if(c.lineNumber===o.getLineCount())continue;const u=new D(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),h=o.getValueInRange(u).split("").reverse().join("");r.push(new Ao(new Pe(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),h))}else{const u=new D(c.lineNumber,Math.max(1,c.column-1),c.lineNumber,c.column+1),h=o.getValueInRange(u).split("").reverse().join("");r.push(new A6(u,h,new Pe(c.lineNumber,c.column+1,c.lineNumber,c.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class F0 extends Le{run(e,t){const i=t.getSelections();if(i===null)return;const o=t.getModel();if(o===null)return;const r=t.getOption(130),s=[];for(const a of i)if(a.isEmpty()){const l=a.getStartPosition(),c=t.getConfiguredWordAtPosition(l);if(!c)continue;const d=new D(l.lineNumber,c.startColumn,l.lineNumber,c.endColumn),u=o.getValueInRange(d);s.push(zi.replace(d,this._modifyText(u,r)))}else{const l=o.getValueInRange(a);s.push(zi.replace(a,this._modifyText(l,r)))}t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop()}}class _9e extends F0{constructor(){super({id:"editor.action.transformToUppercase",label:m("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:I.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class C9e extends F0{constructor(){super({id:"editor.action.transformToLowercase",label:m("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:I.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class sv{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class Gw extends F0{constructor(){super({id:"editor.action.transformToTitlecase",label:m("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:I.writable})}_modifyText(e,t){const i=Gw.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,o=>o.toLocaleUpperCase()):e}}Gw.titleBoundary=new sv("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Gg extends F0{constructor(){super({id:"editor.action.transformToSnakecase",label:m("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:I.writable})}_modifyText(e,t){const i=Gg.caseBoundary.get(),o=Gg.singleLetters.get();return!i||!o?e:e.replace(i,"$1_$2").replace(o,"$1_$2$3").toLocaleLowerCase()}}Gg.caseBoundary=new sv("(\\p{Ll})(\\p{Lu})","gmu");Gg.singleLetters=new sv("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class Zw extends F0{constructor(){super({id:"editor.action.transformToCamelcase",label:m("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:I.writable})}_modifyText(e,t){const i=Zw.wordBoundary.get();if(!i)return e;const o=e.split(i);return o.shift()+o.map(s=>s.substring(0,1).toLocaleUpperCase()+s.substring(1)).join("")}}Zw.wordBoundary=new sv("[_\\s-]","gm");class Ju extends F0{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(t=>t.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:m("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:I.writable})}_modifyText(e,t){const i=Ju.caseBoundary.get(),o=Ju.singleLetters.get(),r=Ju.underscoreBoundary.get();return!i||!o||!r?e:e.replace(r,"$1-$3").replace(i,"$1-$2").replace(o,"$1-$2").toLocaleLowerCase()}}Ju.caseBoundary=new sv("(\\p{Ll})(\\p{Lu})","gmu");Ju.singleLetters=new sv("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu");Ju.underscoreBoundary=new sv("(\\S)(_)(\\S)","gm");de(i9e);de(n9e);de(o9e);de(r9e);de(s9e);de(a9e);de(l9e);de(c9e);de(zN);de(d9e);de(u9e);de(h9e);de(g9e);de(f9e);de(p9e);de(m9e);de(v9e);de(b9e);de(_9e);de(C9e);Gg.caseBoundary.isSupported()&&Gg.singleLetters.isSupported()&&de(Gg);Zw.wordBoundary.isSupported()&&de(Zw);Gw.titleBoundary.isSupported()&&de(Gw);Ju.isSupported()&&de(Ju);var y9e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Gk=function(n,e){return function(t,i){e(t,i,n)}},eD;const bre=new we("LinkedEditingInputVisible",!1),w9e="linked-editing-decoration";let Lf=eD=class extends z{static get(e){return e.getContribution(eD.ID)}constructor(e,t,i,o,r){super(),this.languageConfigurationService=o,this._syncRangesToken=0,this._localToDispose=this._register(new oe),this._editor=e,this._providers=i.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=bre.bindTo(t),this._debounceInformation=r.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new oe),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(s=>{(s.hasChanged(70)||s.hasChanged(93))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(e){const t=this._editor.getModel(),i=t!==null&&(this._editor.getOption(70)||this._editor.getOption(93))&&this._providers.has(t);if(i===this._enabled&&!e||(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||t===null))return;this._localToDispose.add(me.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));const o=new Sl(this._debounceInformation.get(t)),r=()=>{var l;this._rangeUpdateTriggerPromise=o.trigger(()=>this.updateRanges(),(l=this._debounceDuration)!==null&&l!==void 0?l:this._debounceInformation.get(t))},s=new Sl(0),a=l=>{this._rangeSyncTriggerPromise=s.trigger(()=>this._syncRanges(l))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{r()})),this._localToDispose.add(this._editor.onDidChangeModelContent(l=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const c=this._currentDecorations.getRange(0);if(c&&l.changes.every(d=>c.intersectRanges(d.range))){a(this._syncRangesToken);return}}r()})),this._localToDispose.add({dispose:()=>{o.dispose(),s.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._syncRangesToken||this._currentDecorations.length===0)return;const t=this._editor.getModel(),i=this._currentDecorations.getRange(0);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();const o=t.getValueInRange(i);if(this._currentWordPattern){const s=o.match(this._currentWordPattern);if((s?s[0].length:0)!==o.length)return this.clearRanges()}const r=[];for(let s=1,a=this._currentDecorations.length;s<a;s++){const l=this._currentDecorations.getRange(s);if(l)if(l.startLineNumber!==l.endLineNumber)r.push({range:l,text:o});else{let c=t.getValueInRange(l),d=o,u=l.startColumn,h=l.endColumn;const g=Jg(c,d);u+=g,c=c.substr(g),d=d.substr(g);const f=ZD(c,d);h-=f,c=c.substr(0,c.length-f),d=d.substr(0,d.length-f),(u!==h||d.length!==0)&&r.push({range:new D(l.startLineNumber,u,l.endLineNumber,h),text:d})}}if(r.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const s=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",r),this._editor._getViewModel().setPrevEditOperationType(s)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}async updateRanges(e=!1){if(!this._editor.hasModel()){this.clearRanges();return}const t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1){this.clearRanges();return}const i=this._editor.getModel(),o=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===o){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const s=this._currentDecorations.getRange(0);if(s&&s.containsPosition(t))return}}this.clearRanges(),this._currentRequestPosition=t,this._currentRequestModelVersion=o;const r=this._currentRequestCts=new gn;try{const s=new Jo(!1),a=await _re(this._providers,i,t,r.token);if(this._debounceInformation.update(i,s.elapsed()),r!==this._currentRequestCts||(this._currentRequestCts=null,o!==i.getVersionId()))return;let l=[];a!=null&&a.ranges&&(l=a.ranges),this._currentWordPattern=(a==null?void 0:a.wordPattern)||this._languageWordPattern;let c=!1;for(let u=0,h=l.length;u<h;u++)if(D.containsPosition(l[u],t)){if(c=!0,u!==0){const g=l[u];l.splice(u,1),l.unshift(g)}break}if(!c){this.clearRanges();return}const d=l.map(u=>({range:u,options:eD.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(d),this._syncRangesToken++}catch(s){Ic(s)||st(s),(this._currentRequestCts===r||!this._currentRequestCts)&&this.clearRanges()}}};Lf.ID="editor.contrib.linkedEditing";Lf.DECORATION=dt.register({description:"linked-editing",stickiness:0,className:w9e});Lf=eD=y9e([Gk(1,Xe),Gk(2,Re),Gk(3,Di),Gk(4,Ka)],Lf);class S9e extends Le{constructor(){super({id:"editor.action.linkedEditing",label:m("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:ee.and(I.writable,I.hasRenameProvider),kbOpts:{kbExpr:I.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get(qt),[o,r]=Array.isArray(t)&&t||[void 0,void 0];return Ke.isUri(o)&&W.isIPosition(r)?i.openCodeEditor({resource:o},i.getActiveCodeEditor()).then(s=>{s&&(s.setPosition(r),s.invokeWithinContext(a=>(this.reportTelemetry(a,s),this.run(a,s))))},st):super.runCommand(e,t)}run(e,t){const i=Lf.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}}const x9e=_o.bindToContribution(Lf.get);ve(new x9e({id:"cancelLinkedEditingInput",precondition:bre,handler:n=>n.clearRanges(),kbOpts:{kbExpr:I.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));function _re(n,e,t,i){const o=n.ordered(e);return X8(o.map(r=>async()=>{try{return await r.provideLinkedEditingRanges(e,t,i)}catch(s){Bn(s);return}}),r=>!!r&&Yo(r==null?void 0:r.ranges))}N("editor.linkedEditingBackground",{dark:U.fromHex("#f00").transparent(.3),light:U.fromHex("#f00").transparent(.3),hcDark:U.fromHex("#f00").transparent(.3),hcLight:U.white},m("editorLinkedEditingBackground","Background color when the editor auto renames on type."));Zd("_executeLinkedEditingProvider",(n,e,t)=>{const{linkedEditingRangeProvider:i}=n.get(Re);return _re(i,e,t,Dt.None)});Gt(Lf.ID,Lf,1);de(S9e);let k9e=class{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}async resolve(e){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))}};class FE{constructor(e){this._disposables=new oe;let t=[];for(const[i,o]of e){const r=i.links.map(s=>new k9e(s,o));t=FE._union(t,r),O8(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){const i=[];let o,r,s,a;for(o=0,s=0,r=e.length,a=t.length;o<r&&s<a;){const l=e[o],c=t[s];if(D.areIntersectingOrTouching(l.range,c.range)){o++;continue}D.compareRangesUsingStarts(l.range,c.range)<0?(i.push(l),o++):(i.push(c),s++)}for(;o<r;o++)i.push(e[o]);for(;s<a;s++)i.push(t[s]);return i}}function Cre(n,e,t){const i=[],o=n.ordered(e).reverse().map((r,s)=>Promise.resolve(r.provideLinks(e,t)).then(a=>{a&&(i[s]=[a,r])},Bn));return Promise.all(o).then(()=>{const r=new FE(vc(i));return t.isCancellationRequested?(r.dispose(),new FE([])):r})}Pt.registerCommand("_executeLinkProvider",async(n,...e)=>{let[t,i]=e;Jt(t instanceof Ke),typeof i!="number"&&(i=0);const{linkProvider:o}=n.get(Re),r=n.get(Yi).getModel(t);if(!r)return[];const s=await Cre(o,r,Dt.None);if(!s)return[];for(let l=0;l<Math.min(i,s.links.length);l++)await s.links[l].resolve(Dt.None);const a=s.links.slice(0);return s.dispose(),a});var L9e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Zk=function(n,e){return function(t,i){e(t,i,n)}},SB;let r0=SB=class extends z{static get(e){return e.getContribution(SB.ID)}constructor(e,t,i,o,r){super(),this.editor=e,this.openerService=t,this.notificationService=i,this.languageFeaturesService=o,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=r.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new mi(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const s=this._register(new uN(e));this._register(s.onMouseMoveOrRelevantKeyDown(([a,l])=>{this._onEditorMouseMove(a,l)})),this._register(s.onExecute(a=>{this.onEditorMouseUp(a)})),this._register(s.onCancel(a=>{this.cleanUpActiveLinkDecoration()})),this._register(e.onDidChangeConfiguration(a=>{a.hasChanged(71)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(e.onDidChangeModelContent(a=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(e.onDidChangeModel(a=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(e.onDidChangeModelLanguage(a=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(a=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}async computeLinksNow(){if(!this.editor.hasModel()||!this.editor.getOption(71))return;const e=this.editor.getModel();if(!e.isTooLargeForSyncing()&&this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=ro(t=>Cre(this.providers,e,t));try{const t=new Jo(!1);if(this.activeLinksList=await this.computePromise,this.debounceInformation.update(e,t.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(t){st(t)}finally{this.computePromise=null}}}updateDecorations(e){const t=this.editor.getOption(78)==="altKey",i=[],o=Object.keys(this.currentOccurrences);for(const s of o){const a=this.currentOccurrences[s];i.push(a.decorationId)}const r=[];if(e)for(const s of e)r.push(r_.decoration(s,t));this.editor.changeDecorations(s=>{const a=s.deltaDecorations(i,r);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let l=0,c=a.length;l<c;l++){const d=new r_(e[l],a[l]);this.currentOccurrences[d.decorationId]=d}})}_onEditorMouseMove(e,t){const i=this.editor.getOption(78)==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const o=this.getLinkOccurrence(e.target.position);o&&this.editor.changeDecorations(r=>{o.activate(r,i),this.activeLinkDecorationId=o.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e=this.editor.getOption(78)==="altKey";if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(i=>{t.deactivate(i,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;const{link:o}=e;o.resolve(Dt.None).then(r=>{if(typeof r=="string"&&this.editor.hasModel()){const s=this.editor.getModel().uri;if(s.scheme===ft.file&&r.startsWith(`${ft.file}:`)){const a=Ke.parse(r);if(a.scheme===ft.file){const l=qc(a);let c=null;l.startsWith("/./")?c=`.${l.substr(1)}`:l.startsWith("//./")&&(c=`.${l.substr(2)}`),c&&(r=Nxe(s,c))}}}return this.openerService.open(r,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},r=>{const s=r instanceof Error?r.message:r;s==="invalid"?this.notificationService.warn(m("invalid.url","Failed to open this link because it is not well-formed: {0}",o.url.toString())):s==="missing"?this.notificationService.warn(m("missing.url","Failed to open this link because its target is missing.")):st(r)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const i of t){const o=this.currentOccurrences[i.id];if(o)return o}return null}isEnabled(e,t){return!!(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.computeLinks.cancel(),this.activeLinksList&&((e=this.activeLinksList)===null||e===void 0||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};r0.ID="editor.linkDetector";r0=SB=L9e([Zk(1,gs),Zk(2,Nn),Zk(3,Re),Zk(4,Ka)],r0);const Gq={general:dt.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:dt.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class r_{static decoration(e,t){return{range:e.range,options:r_._getOptions(e,t,!1)}}static _getOptions(e,t,i){const o={...i?Gq.active:Gq.general};return o.hoverMessage=D9e(e,t),o}constructor(e,t){this.link=e,this.decorationId=t}activate(e,t){e.changeDecorationOptions(this.decorationId,r_._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,r_._getOptions(this.link,t,!1))}}function D9e(n,e){const t=n.url&&/^command:/i.test(n.url.toString()),i=n.tooltip?n.tooltip:t?m("links.navigate.executeCmd","Execute command"):m("links.navigate.follow","Follow link"),o=e?Rt?m("links.navigate.kb.meta.mac","cmd + click"):m("links.navigate.kb.meta","ctrl + click"):Rt?m("links.navigate.kb.alt.mac","option + click"):m("links.navigate.kb.alt","alt + click");if(n.url){let r="";if(/^command:/i.test(n.url.toString())){const a=n.url.toString().match(/^command:([^?#]+)/);if(a){const l=a[1];r=m("tooltip.explanation","Execute command {0}",l)}}return new Go("",!0).appendLink(n.url.toString(!0).replace(/ /g,"%20"),i,r).appendMarkdown(` (${o})`)}else return new Go().appendText(`${i} (${o})`)}class E9e extends Le{constructor(){super({id:"editor.action.openLink",label:m("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){const i=r0.get(t);if(!i||!t.hasModel())return;const o=t.getSelections();for(const r of o){const s=i.getLinkOccurrence(r.getEndPosition());s&&i.openLinkOccurrence(s,!1)}}}Gt(r0.ID,r0,1);de(E9e);class xB extends z{constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown(t=>{const i=this._editor.getOption(117);i>=0&&t.target.type===6&&t.target.position.column>=i&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}xB.ID="editor.contrib.longLinesHelper";Gt(xB.ID,xB,2);const Yk=N("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},m("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);N("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},m("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0);N("editor.wordHighlightTextBackground",{light:Yk,dark:Yk,hcDark:Yk,hcLight:Yk},m("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const Xk=N("editor.wordHighlightBorder",{light:null,dark:null,hcDark:Oi,hcLight:Oi},m("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));N("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:Oi,hcLight:Oi},m("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable."));N("editor.wordHighlightTextBorder",{light:Xk,dark:Xk,hcDark:Xk,hcLight:Xk},m("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));const T9e=N("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},m("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),I9e=N("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},m("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),N9e=N("editorOverviewRuler.wordHighlightTextForeground",{dark:q1,light:q1,hcDark:q1,hcLight:q1},m("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),R9e=dt.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:sn(I9e),position:la.Center},minimap:{color:sn(dI),position:xs.Inline}}),M9e=dt.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:sn(N9e),position:la.Center},minimap:{color:sn(dI),position:xs.Inline}}),A9e=dt.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:sn(q1),position:la.Center},minimap:{color:sn(dI),position:xs.Inline}}),P9e=dt.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),O9e=dt.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:sn(T9e),position:la.Center},minimap:{color:sn(dI),position:xs.Inline}});function F9e(n){return n===Ty.Write?R9e:n===Ty.Text?M9e:O9e}function B9e(n){return n?P9e:A9e}ja((n,e)=>{const t=n.getColor(L6);t&&e.addRule(`.monaco-editor .selectionHighlight { background-color: ${t.transparent(.5)}; }`)});var W9e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},V9e=function(n,e){return function(t,i){e(t,i,n)}},kB;function Uf(n,e){const t=e.filter(i=>!n.find(o=>o.equals(i)));if(t.length>=1){const i=t.map(r=>`line ${r.viewState.position.lineNumber} column ${r.viewState.position.column}`).join(", "),o=t.length===1?m("cursorAdded","Cursor added: {0}",i):m("cursorsAdded","Cursors added: {0}",i);Pd(o)}}class H9e extends Le{constructor(){super({id:"editor.action.insertCursorAbove",label:m("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:I.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:T.MenubarSelectionMenu,group:"3_multi",title:m({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let o=!0;i&&i.logicalLine===!1&&(o=!1);const r=t._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();const s=r.getCursorStates();r.setCursorStates(i.source,3,wo.addCursorUp(r,s,o)),r.revealTopMostCursor(i.source),Uf(s,r.getCursorStates())}}class z9e extends Le{constructor(){super({id:"editor.action.insertCursorBelow",label:m("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:I.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:T.MenubarSelectionMenu,group:"3_multi",title:m({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let o=!0;i&&i.logicalLine===!1&&(o=!1);const r=t._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();const s=r.getCursorStates();r.setCursorStates(i.source,3,wo.addCursorDown(r,s,o)),r.revealBottomMostCursor(i.source),Uf(s,r.getCursorStates())}}class U9e extends Le{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:m("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:I.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:T.MenubarSelectionMenu,group:"3_multi",title:m({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let o=e.startLineNumber;o<e.endLineNumber;o++){const r=t.getLineMaxColumn(o);i.push(new Pe(o,r,o,r))}e.endColumn>1&&i.push(new Pe(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const i=t.getModel(),o=t.getSelections(),r=t._getViewModel(),s=r.getCursorStates(),a=[];o.forEach(l=>this.getCursorsForSelection(l,i,a)),a.length>0&&t.setSelections(a),Uf(s,r.getCursorStates())}}class $9e extends Le{constructor(){super({id:"editor.action.addCursorsToBottom",label:m("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),o=t.getModel().getLineCount(),r=[];for(let l=i[0].startLineNumber;l<=o;l++)r.push(new Pe(l,i[0].startColumn,l,i[0].endColumn));const s=t._getViewModel(),a=s.getCursorStates();r.length>0&&t.setSelections(r),Uf(a,s.getCursorStates())}}class j9e extends Le{constructor(){super({id:"editor.action.addCursorsToTop",label:m("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),o=[];for(let a=i[0].startLineNumber;a>=1;a--)o.push(new Pe(a,i[0].startColumn,a,i[0].endColumn));const r=t._getViewModel(),s=r.getCursorStates();o.length>0&&t.setSelections(o),Uf(s,r.getCursorStates())}}class Qk{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class Yw{static create(e,t){if(!e.hasModel())return null;const i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new Yw(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let o=!1,r,s;const a=e.getSelections();a.length===1&&a[0].isEmpty()?(o=!0,r=!0,s=!0):(r=i.wholeWord,s=i.matchCase);const l=e.getSelection();let c,d=null;if(l.isEmpty()){const u=e.getConfiguredWordAtPosition(l.getStartPosition());if(!u)return null;c=u.word,d=new Pe(l.startLineNumber,u.startColumn,l.startLineNumber,u.endColumn)}else c=e.getModel().getValueInRange(l).replace(/\r\n/g,`
`);return new Yw(e,t,o,c,r,s,d)}constructor(e,t,i,o,r,s,a){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=o,this.wholeWord=r,this.matchCase=s,this.currentMatch=a}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new Qk(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new Qk(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const o=this.currentMatch;return this.currentMatch=null,o}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(130):null,!1);return i?new Pe(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new Qk(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new Qk(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const o=this.currentMatch;return this.currentMatch=null,o}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(130):null,!1);return i?new Pe(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const t=this._editor.getModel();return e?t.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(130):null,!1,1073741824):t.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(130):null,!1,1073741824)}}class Pm extends z{static get(e){return e.getContribution(Pm.ID)}constructor(e){super(),this._sessionDispose=this._register(new oe),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=Yw.create(this._editor,e);if(!t)return;this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(o=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(o=>{(o.matchCase||o.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new Pe(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const o=e.getState().matchCase;if(!yre(this._editor.getModel(),t,o)){const s=this._editor.getModel(),a=[];for(let l=0,c=t.length;l<c;l++)a[l]=this._expandEmptyToWord(s,t[l]);this._editor.setSelections(a);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex){const o=this._editor.getModel();i.searchScope?t=o.findMatches(i.searchString,i.searchScope,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(130):null,!1,1073741824):t=o.findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(130):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll(i.searchScope)}if(t.length>0){const o=this._editor.getSelection();for(let r=0,s=t.length;r<s;r++){const a=t[r];if(a.range.intersectRanges(o)){t[r]=t[0],t[0]=a;break}}this._setSelections(t.map(r=>new Pe(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn)))}}}Pm.ID="editor.contrib.multiCursorController";class B0 extends Le{run(e,t){const i=Pm.get(t);if(!i)return;const o=t._getViewModel();if(o){const r=o.getCursorStates(),s=Vr.get(t);if(s)this._run(i,s);else{const a=e.get(Ge).createInstance(Vr,t);this._run(i,a),a.dispose()}Uf(r,o.getCursorStates())}}}class K9e extends B0{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:m("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:I.focus,primary:2082,weight:100},menuOpts:{menuId:T.MenubarSelectionMenu,group:"3_multi",title:m({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class q9e extends B0{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:m("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:T.MenubarSelectionMenu,group:"3_multi",title:m({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class G9e extends B0{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:m("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:I.focus,primary:qn(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class Z9e extends B0{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:m("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class Y9e extends B0{constructor(){super({id:"editor.action.selectHighlights",label:m("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:I.focus,primary:3114,weight:100},menuOpts:{menuId:T.MenubarSelectionMenu,group:"3_multi",title:m({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class X9e extends B0{constructor(){super({id:"editor.action.changeAll",label:m("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:ee.and(I.writable,I.editorTextFocus),kbOpts:{kbExpr:I.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class Q9e{constructor(e,t,i,o,r){this._model=e,this._searchText=t,this._matchCase=i,this._wordSeparators=o,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,r&&this._model===r._model&&this._searchText===r._searchText&&this._matchCase===r._matchCase&&this._wordSeparators===r._wordSeparators&&this._modelVersionId===r._modelVersionId&&(this._cachedFindMatches=r._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(D.compareRangesUsingStarts)),this._cachedFindMatches}}let Xw=kB=class extends z{constructor(e,t){super(),this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(108),this._decorations=e.createDecorationsCollection(),this.updateSoon=this._register(new mi(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(o=>{this._isEnabled=e.getOption(108)})),this._register(e.onDidChangeCursorSelection(o=>{this._isEnabled&&(o.selection.isEmpty()?o.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(o=>{this._setState(null)})),this._register(e.onDidChangeModelContent(o=>{this._isEnabled&&this.updateSoon.schedule()}));const i=Vr.get(e);i&&this._register(i.getState().onFindReplaceStateChange(o=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(kB._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,i){if(!t||!i.hasModel())return null;const o=i.getSelection();if(o.startLineNumber!==o.endLineNumber)return null;const r=Pm.get(i);if(!r)return null;const s=Vr.get(i);if(!s)return null;let a=r.getSession(s);if(!a){const d=i.getSelections();if(d.length>1){const h=s.getState().matchCase;if(!yre(i.getModel(),d,h))return null}a=Yw.create(i,s)}if(!a||a.currentMatch||/^[ \t]+$/.test(a.searchText)||a.searchText.length>200)return null;const l=s.getState(),c=l.matchCase;if(l.isRevealed){let d=l.searchString;c||(d=d.toLowerCase());let u=a.searchText;if(c||(u=u.toLowerCase()),d===u&&a.matchCase===l.matchCase&&a.wholeWord===l.wholeWord&&!l.isRegex)return null}return new Q9e(i.getModel(),a.searchText,a.matchCase,a.wholeWord?i.getOption(130):null,e)}_setState(e){if(this.state=e,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const i=this.state.findMatches(),o=this.editor.getSelections();o.sort(D.compareRangesUsingStarts);const r=[];for(let c=0,d=0,u=i.length,h=o.length;c<u;){const g=i[c];if(d>=h)r.push(g),c++;else{const f=D.compareRangesUsingStarts(g,o[d]);f<0?((o[d].isEmpty()||!D.areIntersecting(g,o[d]))&&r.push(g),c++):(f>0||c++,d++)}}const s=this.editor.getOption(81)!=="off",a=this._languageFeaturesService.documentHighlightProvider.has(t)&&s,l=r.map(c=>({range:c,options:B9e(a)}));this._decorations.set(l)}dispose(){this._setState(null),super.dispose()}};Xw.ID="editor.contrib.selectionHighlighter";Xw=kB=W9e([V9e(1,Re)],Xw);function yre(n,e,t){const i=Zq(n,e[0],!t);for(let o=1,r=e.length;o<r;o++){const s=e[o];if(s.isEmpty())return!1;const a=Zq(n,s,!t);if(i!==a)return!1}return!0}function Zq(n,e,t){const i=n.getValueInRange(e);return t?i.toLowerCase():i}class J9e extends Le{constructor(){super({id:"editor.action.focusNextCursor",label:m("mutlicursor.focusNextCursor","Focus Next Cursor"),metadata:{description:m("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const r=Array.from(o.getCursorStates()),s=r.shift();s&&(r.push(s),o.setCursorStates(i.source,3,r),o.revealPrimaryCursor(i.source,!0),Uf(r,o.getCursorStates()))}}class e8e extends Le{constructor(){super({id:"editor.action.focusPreviousCursor",label:m("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),metadata:{description:m("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const r=Array.from(o.getCursorStates()),s=r.pop();s&&(r.unshift(s),o.setCursorStates(i.source,3,r),o.revealPrimaryCursor(i.source,!0),Uf(r,o.getCursorStates()))}}Gt(Pm.ID,Pm,4);Gt(Xw.ID,Xw,1);de(H9e);de(z9e);de(U9e);de(K9e);de(q9e);de(G9e);de(Z9e);de(Y9e);de(X9e);de($9e);de(j9e);de(J9e);de(e8e);const t8e="editor.action.inlineEdit.accept",i8e="editor.action.inlineEdit.reject",n8e="editor.action.inlineEdit.jumpTo",o8e="editor.action.inlineEdit.jumpBack";var r8e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},s8e=function(n,e){return function(t,i){e(t,i,n)}};const AA="inline-edit";let LB=class extends z{constructor(e,t,i){super(),this.editor=e,this.model=t,this.languageService=i,this.isDisposed=$t(this,!1),this.currentTextModel=Pi(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=nt(this,o=>{var r;if(this.isDisposed.read(o))return;const s=this.currentTextModel.read(o);if(s!==this.model.targetTextModel.read(o))return;const a=this.model.ghostText.read(o);if(!a)return;let l=(r=this.model.range)===null||r===void 0?void 0:r.read(o);l&&l.startLineNumber===l.endLineNumber&&l.startColumn===l.endColumn&&(l=void 0);const c=(l?l.startLineNumber===l.endLineNumber:!0)&&a.parts.length===1&&a.parts[0].lines.length===1,d=a.parts.length===1&&a.parts[0].lines.every(C=>C.length===0),u=[],h=[];function g(C,y){if(h.length>0){const w=h[h.length-1];y&&w.decorations.push(new Rr(w.content.length+1,w.content.length+1+C[0].length,y,0)),w.content+=C[0],C=C.slice(1)}for(const w of C)h.push({content:w,decorations:y?[new Rr(1,w.length+1,y,0)]:[]})}const f=s.getLineContent(a.lineNumber);let p,b=0;if(!d){for(const C of a.parts){let y=C.lines;l&&!c&&(g(y,AA),y=[]),p===void 0?(u.push({column:C.column,text:y[0],preview:C.preview}),y=y.slice(1)):g([f.substring(b,C.column-1)],void 0),y.length>0&&(g(y,AA),p===void 0&&C.column<=f.length&&(p=C.column)),b=C.column-1}p!==void 0&&g([f.substring(b)],void 0)}const v=p!==void 0?new ere(p,f.length+1):void 0,_=c||!l?a.lineNumber:l.endLineNumber-1;return{inlineTexts:u,additionalLines:h,hiddenRange:v,lineNumber:_,additionalReservedLineCount:this.model.minReservedLineCount.read(o),targetTextModel:s,range:l,isSingleLine:c,isPureRemove:d,backgroundColoring:this.model.backgroundColoring.read(o)}}),this.decorations=nt(this,o=>{const r=this.uiState.read(o);if(!r)return[];const s=[];if(r.hiddenRange&&s.push({range:r.hiddenRange.toRange(r.lineNumber),options:{inlineClassName:"inline-edit-hidden",description:"inline-edit-hidden"}}),r.range){const a=[];if(r.isSingleLine)a.push(r.range);else if(r.isPureRemove){const c=r.range.endLineNumber-r.range.startLineNumber;for(let d=0;d<c;d++){const u=r.range.startLineNumber+d,h=r.targetTextModel.getLineFirstNonWhitespaceColumn(u),g=r.targetTextModel.getLineLastNonWhitespaceColumn(u),f=new D(u,h,u,g);a.push(f)}}else{const c=r.range.endLineNumber-r.range.startLineNumber;for(let d=0;d<=c;d++){const u=r.range.startLineNumber+d,h=r.targetTextModel.getLineFirstNonWhitespaceColumn(u),g=r.targetTextModel.getLineLastNonWhitespaceColumn(u),f=new D(u,h,u,g);a.push(f)}}const l=r.backgroundColoring?"inline-edit-remove backgroundColoring":"inline-edit-remove";for(const c of a)s.push({range:c,options:{inlineClassName:l,description:"inline-edit-remove"}})}for(const a of r.inlineTexts)s.push({range:D.fromPositions(new W(r.lineNumber,a.column)),options:{description:AA,after:{content:a.text,inlineClassName:a.preview?"inline-edit-decoration-preview":"inline-edit-decoration",cursorStops:ul.Left},showIfCollapsed:!0}});return s}),this.additionalLinesWidget=this._register(new nre(this.editor,this.languageService.languageIdCodec,nt(o=>{const r=this.uiState.read(o);return r&&!r.isPureRemove?{lineNumber:r.lineNumber,additionalLines:r.additionalLines,minReservedLineCount:r.additionalReservedLineCount,targetTextModel:r.targetTextModel}:void 0}))),this._register(je(()=>{this.isDisposed.set(!0,void 0)})),this._register(tre(this.editor,this.decorations))}ownsViewZone(e){return this.additionalLinesWidget.viewZoneId===e}};LB=r8e([s8e(2,Bi)],LB);var BW=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},xu=function(n,e){return function(t,i){e(t,i,n)}},tD;let DB=class extends z{constructor(e,t,i){super(),this.editor=e,this.model=t,this.instantiationService=i,this.alwaysShowToolbar=Pi(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).showToolbar==="always"),this.sessionPosition=void 0,this.position=nt(this,o=>{var r,s,a;const l=(r=this.model.read(o))===null||r===void 0?void 0:r.widget.model.ghostText.read(o);if(!this.alwaysShowToolbar.read(o)||!l||l.parts.length===0)return this.sessionPosition=void 0,null;const c=l.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==l.lineNumber&&(this.sessionPosition=void 0);const d=new W(l.lineNumber,Math.min(c,(a=(s=this.sessionPosition)===null||s===void 0?void 0:s.column)!==null&&a!==void 0?a:Number.MAX_SAFE_INTEGER));return this.sessionPosition=d,d}),this._register(Pc((o,r)=>{if(!this.model.read(o)||!this.alwaysShowToolbar.read(o))return;const a=r.add(this.instantiationService.createInstance(s0,this.editor,!0,this.position));e.addContentWidget(a),r.add(je(()=>e.removeContentWidget(a)))}))}};DB=BW([xu(2,Ge)],DB);let s0=tD=class extends z{constructor(e,t,i,o,r,s){super(),this.editor=e,this.withBorder=t,this._position=i,this._contextKeyService=r,this._menuService=s,this.id=`InlineEditHintsContentWidget${tD.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=pi("div.inlineEditHints",{className:this.withBorder?".withBorder":""},[pi("div@toolBar")]),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(T.InlineEditActions,this._contextKeyService)),this.toolBar=this._register(o.createInstance(EB,this.nodes.toolBar,this.editor,T.InlineEditToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:a=>a.startsWith("primary")},actionViewItemProvider:(a,l)=>{if(a instanceof aa)return o.createInstance(a8e,a,void 0)},telemetrySource:"InlineEditToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(a=>{tD._dropDownVisible=a})),this._register(Lt(a=>{this._position.read(a),this.editor.layoutContentWidget(this)})),this._register(Lt(a=>{const l=[];for(const[c,d]of this.inlineCompletionsActionsMenus.getActions())for(const u of d)u instanceof aa&&l.push(u);l.length>0&&l.unshift(new Kn),this.toolBar.setAdditionalSecondaryActions(l)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};s0._dropDownVisible=!1;s0.id=0;s0=tD=BW([xu(3,Ge),xu(4,Xe),xu(5,$a)],s0);class a8e extends hf{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();if(this.label){const t=pi("div.keybinding").root;new D0(t,Cs,{disableTitle:!0,...pie}).set(e),this.label.textContent=this._action.label,this.label.appendChild(t),this.label.classList.add("inlineEditStatusBarItemLabel")}}updateTooltip(){}}let EB=class extends Iw{constructor(e,t,i,o,r,s,a,l,c){super(e,{resetMenu:i,...o},r,s,a,l,c),this.editor=t,this.menuId=i,this.options2=o,this.menuService=r,this.contextKeyService=s,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this._store.add(this.editor.onDidChangeCursorPosition(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var e,t,i,o,r,s,a;const l=[],c=[];AI(this.menu,(e=this.options2)===null||e===void 0?void 0:e.menuOptions,{primary:l,secondary:c},(i=(t=this.options2)===null||t===void 0?void 0:t.toolbarOptions)===null||i===void 0?void 0:i.primaryGroup,(r=(o=this.options2)===null||o===void 0?void 0:o.toolbarOptions)===null||r===void 0?void 0:r.shouldInlineSubmenu,(a=(s=this.options2)===null||s===void 0?void 0:s.toolbarOptions)===null||a===void 0?void 0:a.useSeparatorsInPrimaryActions),c.push(...this.additionalActions),l.unshift(...this.prependedPrimaryActions),this.setActions(l,c)}setAdditionalSecondaryActions(e){en(this.additionalActions,e,(t,i)=>t===i)||(this.additionalActions=e,this.updateToolbar())}};EB=BW([xu(4,$a),xu(5,Xe),xu(6,Ps),xu(7,di),xu(8,fr)],EB);var l8e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},I1=function(n,e){return function(t,i){e(t,i,n)}},Vp;class c8e{constructor(e,t){this.widget=e,this.edit=t}dispose(){this.widget.dispose()}}let Xn=Vp=class extends z{static get(e){return e.getContribution(Vp.ID)}constructor(e,t,i,o,r,s){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.languageFeaturesService=o,this._commandService=r,this._configurationService=s,this._isVisibleContext=Vp.inlineEditVisibleContext.bindTo(this.contextKeyService),this._isCursorAtInlineEditContext=Vp.cursorAtInlineEditContext.bindTo(this.contextKeyService),this._currentEdit=this._register(Lw(this,void 0)),this._isAccepting=!1,this._enabled=Pi(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).enabled),this._fontFamily=Pi(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).fontFamily),this._backgroundColoring=Pi(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).backgroundColoring);const a=Er("InlineEditController.modelContentChangedSignal",e.onDidChangeModelContent);this._register(Lt(h=>{this._enabled.read(h)&&(a.read(h),this.getInlineEdit(e,!0))}));const l=Pi(e.onDidChangeCursorPosition,()=>e.getPosition());this._register(Lt(h=>{if(!this._enabled.read(h))return;const g=l.read(h);g&&this.checkCursorPosition(g)})),this._register(Lt(h=>{const g=this._currentEdit.read(h);if(this._isCursorAtInlineEditContext.set(!1),!g){this._isVisibleContext.set(!1);return}this._isVisibleContext.set(!0);const f=e.getPosition();f&&this.checkCursorPosition(f)}));const c=Er("InlineEditController.editorBlurSignal",e.onDidBlurEditorWidget);this._register(Lt(h=>{var g;this._enabled.read(h)&&(c.read(h),!(this._configurationService.getValue("editor.experimentalInlineEdit.keepOnBlur")||e.getOption(63).keepOnBlur)&&((g=this._currentRequestCts)===null||g===void 0||g.dispose(),this._currentRequestCts=void 0,this.clear(!1)))}));const d=Er("InlineEditController.editorFocusSignal",e.onDidFocusEditorText);this._register(Lt(h=>{this._enabled.read(h)&&(d.read(h),this.getInlineEdit(e,!0))}));const u=this._register(tJ());this._register(Lt(h=>{const g=this._fontFamily.read(h);u.setStyle(g===""||g==="default"?"":`
.monaco-editor .inline-edit-decoration,
.monaco-editor .inline-edit-decoration-preview,
.monaco-editor .inline-edit {
	font-family: ${g};
}`)})),this._register(new DB(this.editor,this._currentEdit,this.instantiationService))}checkCursorPosition(e){var t;if(!this._currentEdit){this._isCursorAtInlineEditContext.set(!1);return}const i=(t=this._currentEdit.get())===null||t===void 0?void 0:t.edit;if(!i){this._isCursorAtInlineEditContext.set(!1);return}this._isCursorAtInlineEditContext.set(D.containsPosition(i.range,e))}validateInlineEdit(e,t){var i,o;if(t.text.includes(`
`)&&t.range.startLineNumber!==t.range.endLineNumber&&t.range.startColumn!==t.range.endColumn){if(t.range.startColumn!==1)return!1;const s=t.range.endLineNumber,a=t.range.endColumn,l=(o=(i=e.getModel())===null||i===void 0?void 0:i.getLineLength(s))!==null&&o!==void 0?o:0;if(a!==l+1)return!1}return!0}async fetchInlineEdit(e,t){this._currentRequestCts&&this._currentRequestCts.dispose(!0);const i=e.getModel();if(!i)return;const o=i.getVersionId(),r=this.languageFeaturesService.inlineEditProvider.all(i);if(r.length===0)return;const s=r[0];this._currentRequestCts=new gn;const a=this._currentRequestCts.token,l=t?qD.Automatic:qD.Invoke;if(t&&await d8e(50,a),a.isCancellationRequested||i.isDisposed()||i.getVersionId()!==o)return;const d=await s.provideInlineEdit(i,{triggerKind:l},a);if(d&&!(a.isCancellationRequested||i.isDisposed()||i.getVersionId()!==o)&&this.validateInlineEdit(e,d))return d}async getInlineEdit(e,t){var i;this._isCursorAtInlineEditContext.set(!1),this.clear(),this._isAccepting=!1;const o=await this.fetchInlineEdit(e,t);if(!o)return;const r=o.range.endLineNumber,s=o.range.endColumn,a=new zw(r,[new NE(s,o.text,!1)]),l=this.instantiationService.createInstance(LB,this.editor,{ghostText:Uu(a),minReservedLineCount:Uu(0),targetTextModel:Uu((i=this.editor.getModel())!==null&&i!==void 0?i:void 0),range:Uu(o.range),backgroundColoring:this._backgroundColoring});this._currentEdit.set(new c8e(l,o),void 0)}async trigger(){await this.getInlineEdit(this.editor,!1)}async jumpBack(){this._jumpBackPosition&&(this.editor.setPosition(this._jumpBackPosition),this.editor.revealPositionInCenterIfOutsideViewport(this._jumpBackPosition))}accept(){var e;this._isAccepting=!0;const t=(e=this._currentEdit.get())===null||e===void 0?void 0:e.edit;if(!t)return;let i=t.text;t.text.startsWith(`
`)&&(i=t.text.substring(1)),this.editor.pushUndoStop(),this.editor.executeEdits("acceptCurrent",[zi.replace(D.lift(t.range),i)]),t.accepted&&this._commandService.executeCommand(t.accepted.id,...t.accepted.arguments||[]),this.freeEdit(t),this._currentEdit.set(void 0,void 0)}jumpToCurrent(){var e,t;this._jumpBackPosition=(e=this.editor.getSelection())===null||e===void 0?void 0:e.getStartPosition();const i=(t=this._currentEdit.get())===null||t===void 0?void 0:t.edit;if(!i)return;const o=W.lift({lineNumber:i.range.startLineNumber,column:i.range.startColumn});this.editor.setPosition(o),this.editor.revealPositionInCenterIfOutsideViewport(o)}clear(e=!0){var t;const i=(t=this._currentEdit.get())===null||t===void 0?void 0:t.edit;i&&(i!=null&&i.rejected)&&!this._isAccepting&&e&&this._commandService.executeCommand(i.rejected.id,...i.rejected.arguments||[]),i&&this.freeEdit(i),this._currentEdit.set(void 0,void 0)}freeEdit(e){const t=this.editor.getModel();if(!t)return;const i=this.languageFeaturesService.inlineEditProvider.all(t);i.length!==0&&i[0].freeInlineEdit(e)}shouldShowHoverAt(e){const t=this._currentEdit.get();if(!t)return!1;const i=t.edit,o=t.widget.model;if(D.containsPosition(i.range,e.getStartPosition())||D.containsPosition(i.range,e.getEndPosition()))return!0;const s=o.ghostText.get();return s?s.parts.some(a=>e.containsPosition(new W(s.lineNumber,a.column))):!1}shouldShowHoverAtViewZone(e){var t,i;return(i=(t=this._currentEdit.get())===null||t===void 0?void 0:t.widget.ownsViewZone(e))!==null&&i!==void 0?i:!1}};Xn.ID="editor.contrib.inlineEditController";Xn.inlineEditVisibleKey="inlineEditVisible";Xn.inlineEditVisibleContext=new we(Vp.inlineEditVisibleKey,!1);Xn.cursorAtInlineEditKey="cursorAtInlineEdit";Xn.cursorAtInlineEditContext=new we(Vp.cursorAtInlineEditKey,!1);Xn=Vp=l8e([I1(1,Ge),I1(2,Xe),I1(3,Re),I1(4,tn),I1(5,yt)],Xn);function d8e(n,e){return new Promise(t=>{let i;const o=setTimeout(()=>{i&&i.dispose(),t()},n);e&&(i=e.onCancellationRequested(()=>{clearTimeout(o),i&&i.dispose(),t()}))})}class u8e extends Le{constructor(){super({id:t8e,label:"Accept Inline Edit",alias:"Accept Inline Edit",precondition:ee.and(I.writable,Xn.inlineEditVisibleContext),kbOpts:[{weight:101,primary:2,kbExpr:ee.and(I.writable,Xn.inlineEditVisibleContext,Xn.cursorAtInlineEditContext)}],menuOpts:[{menuId:T.InlineEditToolbar,title:"Accept",group:"primary",order:1}]})}async run(e,t){const i=Xn.get(t);i==null||i.accept()}}class h8e extends Le{constructor(){const e=ee.and(I.writable,ee.not(Xn.inlineEditVisibleKey));super({id:"editor.action.inlineEdit.trigger",label:"Trigger Inline Edit",alias:"Trigger Inline Edit",precondition:e,kbOpts:{weight:101,primary:2646,kbExpr:e}})}async run(e,t){const i=Xn.get(t);i==null||i.trigger()}}class g8e extends Le{constructor(){const e=ee.and(I.writable,Xn.inlineEditVisibleContext,ee.not(Xn.cursorAtInlineEditKey));super({id:n8e,label:"Jump to Inline Edit",alias:"Jump to Inline Edit",precondition:e,kbOpts:{weight:101,primary:2646,kbExpr:e},menuOpts:[{menuId:T.InlineEditToolbar,title:"Jump To Edit",group:"primary",order:3,when:e}]})}async run(e,t){const i=Xn.get(t);i==null||i.jumpToCurrent()}}class f8e extends Le{constructor(){const e=ee.and(I.writable,Xn.cursorAtInlineEditContext);super({id:o8e,label:"Jump Back from Inline Edit",alias:"Jump Back from Inline Edit",precondition:e,kbOpts:{weight:110,primary:2646,kbExpr:e},menuOpts:[{menuId:T.InlineEditToolbar,title:"Jump Back",group:"primary",order:3,when:e}]})}async run(e,t){const i=Xn.get(t);i==null||i.jumpBack()}}class p8e extends Le{constructor(){const e=ee.and(I.writable,Xn.inlineEditVisibleContext);super({id:i8e,label:"Reject Inline Edit",alias:"Reject Inline Edit",precondition:e,kbOpts:{weight:100,primary:9,kbExpr:e},menuOpts:[{menuId:T.InlineEditToolbar,title:"Reject",group:"secondary",order:2}]})}async run(e,t){const i=Xn.get(t);i==null||i.clear()}}var m8e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Yq=function(n,e){return function(t,i){e(t,i,n)}};class v8e{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let TB=class{constructor(e,t,i){this._editor=e,this._instantiationService=t,this._telemetryService=i,this.hoverOrdinal=5}suggestHoverAnchor(e){const t=Xn.get(this._editor);if(!t)return null;const i=e.target;if(i.type===8){const o=i.detail;if(t.shouldShowHoverAtViewZone(o.viewZoneId)){const r=i.range;return new Jp(1e3,this,r,e.event.posx,e.event.posy,!1)}}return i.type===7&&t.shouldShowHoverAt(i.range)?new Jp(1e3,this,i.range,e.event.posx,e.event.posy,!1):i.type===6&&i.detail.mightBeForeignElement&&t.shouldShowHoverAt(i.range)?new Jp(1e3,this,i.range,e.event.posx,e.event.posy,!1):null}computeSync(e,t){if(this._editor.getOption(63).showToolbar!=="onHover")return[];const i=Xn.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new v8e(this,e.range,i)]:[]}renderHoverParts(e,t){const i=new oe;this._telemetryService.publicLog2("inlineEditHover.shown");const o=this._instantiationService.createInstance(s0,this._editor,!1,Uu(null));return e.fragment.appendChild(o.getDomNode()),i.add(o),i}};TB=m8e([Yq(1,Ge),Yq(2,fr)],TB);de(u8e);de(p8e);de(g8e);de(f8e);de(h8e);Gt(Xn.ID,Xn,3);zf.register(TB);const Om={Visible:new we("parameterHintsVisible",!1),MultipleSignatures:new we("parameterHintsMultipleSignatures",!1)};async function wre(n,e,t,i,o){const r=n.ordered(e);for(const s of r)try{const a=await s.provideSignatureHelp(e,t,o,i);if(a)return a}catch(a){Bn(a)}}Pt.registerCommand("_executeSignatureHelpProvider",async(n,...e)=>{const[t,i,o]=e;Jt(Ke.isUri(t)),Jt(W.isIPosition(i)),Jt(typeof o=="string"||!o);const r=n.get(Re),s=await n.get(us).createModelReference(t);try{const a=await wre(r.signatureHelpProvider,s.object.textEditorModel,W.lift(i),{triggerKind:kd.Invoke,isRetrigger:!1,triggerCharacter:o},Dt.None);return a?(setTimeout(()=>a.dispose(),0),a.value):void 0}finally{s.dispose()}});var Yh;(function(n){n.Default={type:0};class e{constructor(o,r){this.request=o,this.previouslyActiveHints=r,this.type=2}}n.Pending=e;class t{constructor(o){this.hints=o,this.type=1}}n.Active=t})(Yh||(Yh={}));class UN extends z{constructor(e,t,i=UN.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new B),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Yh.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new bo),this.triggerChars=new s2,this.retriggerChars=new s2,this.triggerId=0,this.editor=e,this.providers=t,this.throttledDelayer=new Sl(i),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(o=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(o=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(o=>this.onCursorChange(o))),this._register(this.editor.onDidChangeModelContent(o=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(o=>this.onDidType(o))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=Yh.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const i=this.editor.getModel();if(!i||!this.providers.has(i))return;const o=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(o),t).catch(st)}next(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e===e-1,o=this.editor.getOption(86).cycle;if((e<2||i)&&!o){this.cancel();return}this.updateActiveSignature(i&&o?0:t+1)}previous(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t===0,o=this.editor.getOption(86).cycle;if((e<2||i)&&!o){this.cancel();return}this.updateActiveSignature(i&&o?e-1:t-1)}updateActiveSignature(e){this.state.type===1&&(this.state=new Yh.Active({...this.state.hints,activeSignature:e}),this._onChangedHints.fire(this.state.hints))}async doTrigger(e){const t=this.state.type===1||this.state.type===2,i=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const o=this._pendingTriggers.reduce(b8e);this._pendingTriggers=[];const r={triggerKind:o.triggerKind,triggerCharacter:o.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const s=this.editor.getModel(),a=this.editor.getPosition();this.state=new Yh.Pending(ro(l=>wre(this.providers,s,a,r,l)),i);try{const l=await this.state.request;return e!==this.triggerId?(l==null||l.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l==null||l.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new Yh.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return e===this.triggerId&&(this.state=Yh.Default),st(l),!1}}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const e=this.editor.getModel();if(e)for(const t of this.providers.ordered(e)){for(const i of t.signatureHelpTriggerCharacters||[])if(i.length){const o=i.charCodeAt(0);this.triggerChars.add(o),this.retriggerChars.add(o)}for(const i of t.signatureHelpRetriggerCharacters||[])i.length&&this.retriggerChars.add(i.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:kd.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:kd.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:kd.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(86).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}UN.DEFAULT_DELAY=120;function b8e(n,e){switch(e.triggerKind){case kd.Invoke:return e;case kd.ContentChange:return n;case kd.TriggerCharacter:default:return e}}var _8e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},PA=function(n,e){return function(t,i){e(t,i,n)}},IB;const Bs=ue,C8e=xn("parameter-hints-next",pe.chevronDown,m("parameterHintsNextIcon","Icon for show next parameter hint.")),y8e=xn("parameter-hints-previous",pe.chevronUp,m("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let BE=IB=class extends z{constructor(e,t,i,o,r){super(),this.editor=e,this.model=t,this.renderDisposeables=this._register(new oe),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Bd({editor:e},r,o)),this.keyVisible=Om.Visible.bindTo(i),this.keyMultipleSignatures=Om.MultipleSignatures.bindTo(i)}createParameterHintDOMNodes(){const e=Bs(".editor-widget.parameter-hints-widget"),t=ie(e,Bs(".phwrapper"));t.tabIndex=-1;const i=ie(t,Bs(".controls")),o=ie(i,Bs(".button"+Ze.asCSSSelector(y8e))),r=ie(i,Bs(".overloads")),s=ie(i,Bs(".button"+Ze.asCSSSelector(C8e)));this._register(j(o,"click",h=>{_t.stop(h),this.previous()})),this._register(j(s,"click",h=>{_t.stop(h),this.next()}));const a=Bs(".body"),l=new IS(a,{alwaysConsumeMouseWheel:!0});this._register(l),t.appendChild(l.getDomNode());const c=ie(a,Bs(".signature")),d=ie(a,Bs(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:c,overloads:r,docs:d,scrollbar:l},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(h=>{this.visible&&this.editor.layoutContentWidget(this)}));const u=()=>{if(!this.domNodes)return;const h=this.editor.getOption(50);this.domNodes.element.style.fontSize=`${h.fontSize}px`,this.domNodes.element.style.lineHeight=`${h.lineHeight/h.fontSize}`};u(),this._register(me.chain(this.editor.onDidChangeConfiguration.bind(this.editor),h=>h.filter(g=>g.hasChanged(50)))(u)),this._register(this.editor.onDidLayoutChange(h=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var e;(e=this.domNodes)===null||e===void 0||e.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var e;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(e=this.domNodes)===null||e===void 0||e.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const o=e.signatures[e.activeSignature];if(!o)return;const r=ie(this.domNodes.signature,Bs(".code")),s=this.editor.getOption(50);r.style.fontSize=`${s.fontSize}px`,r.style.fontFamily=s.fontFamily;const a=o.parameters.length>0,l=(t=o.activeParameter)!==null&&t!==void 0?t:e.activeParameter;if(a)this.renderParameters(r,o,l);else{const u=ie(r,Bs("span"));u.textContent=o.label}const c=o.parameters[l];if(c!=null&&c.documentation){const u=Bs("span.documentation");if(typeof c.documentation=="string")u.textContent=c.documentation;else{const h=this.renderMarkdownDocs(c.documentation);u.appendChild(h.element)}ie(this.domNodes.docs,Bs("p",{},u))}if(o.documentation!==void 0)if(typeof o.documentation=="string")ie(this.domNodes.docs,Bs("p",{},o.documentation));else{const u=this.renderMarkdownDocs(o.documentation);ie(this.domNodes.docs,u.element)}const d=this.hasDocs(o,c);if(this.domNodes.signature.classList.toggle("has-docs",d),this.domNodes.docs.classList.toggle("empty",!d),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,c){let u="";const h=o.parameters[l];Array.isArray(h.label)?u=o.label.substring(h.label[0],h.label[1]):u=h.label,h.documentation&&(u+=typeof h.documentation=="string"?`, ${h.documentation}`:`, ${h.documentation.value}`),o.documentation&&(u+=typeof o.documentation=="string"?`, ${o.documentation}`:`, ${o.documentation.value}`),this.announcedLabel!==u&&(Es(m("hint","{0}, hint",u)),this.announcedLabel=u)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var i;(i=this.domNodes)===null||i===void 0||i.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&typeof t.documentation=="string"&&ag(t.documentation).length>0||t&&typeof t.documentation=="object"&&ag(t.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&ag(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&ag(e.documentation.value).length>0)}renderParameters(e,t,i){const[o,r]=this.getParameterLabelOffsets(t,i),s=document.createElement("span");s.textContent=t.label.substring(0,o);const a=document.createElement("span");a.textContent=t.label.substring(o,r),a.className="parameter active";const l=document.createElement("span");l.textContent=t.label.substring(r),ie(e,s,a,l)}getParameterLabelOffsets(e,t){const i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){const o=new RegExp(`(\\W|^)${ra(i.label)}(?=\\W|$)`,"g");o.test(e.label);const r=o.lastIndex-i.label.length;return r>=0?[r,o.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return IB.ID}updateMaxHeight(){if(!this.domNodes)return;const t=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=t;const i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}};BE.ID="editor.widget.parameterHintsWidget";BE=IB=_8e([PA(2,Xe),PA(3,gs),PA(4,Bi)],BE);N("editorHoverWidget.highlightForeground",{dark:gl,light:gl,hcDark:gl,hcLight:gl},m("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var w8e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Xq=function(n,e){return function(t,i){e(t,i,n)}},NB;let Fm=NB=class extends z{static get(e){return e.getContribution(NB.ID)}constructor(e,t,i){super(),this.editor=e,this.model=this._register(new UN(e,i.signatureHelpProvider)),this._register(this.model.onChangedHints(o=>{var r;o?(this.widget.value.show(),this.widget.value.render(o)):(r=this.widget.rawValue)===null||r===void 0||r.hide()})),this.widget=new Kd(()=>this._register(t.createInstance(BE,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var e;(e=this.widget.rawValue)===null||e===void 0||e.previous()}next(){var e;(e=this.widget.rawValue)===null||e===void 0||e.next()}trigger(e){this.model.trigger(e,0)}};Fm.ID="editor.controller.parameterHints";Fm=NB=w8e([Xq(1,Ge),Xq(2,Re)],Fm);class S8e extends Le{constructor(){super({id:"editor.action.triggerParameterHints",label:m("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:I.hasSignatureHelpProvider,kbOpts:{kbExpr:I.editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=Fm.get(t);i==null||i.trigger({triggerKind:kd.Invoke})}}Gt(Fm.ID,Fm,2);de(S8e);const WW=175,VW=_o.bindToContribution(Fm.get);ve(new VW({id:"closeParameterHints",precondition:Om.Visible,handler:n=>n.cancel(),kbOpts:{weight:WW,kbExpr:I.focus,primary:9,secondary:[1033]}}));ve(new VW({id:"showPrevParameterHint",precondition:ee.and(Om.Visible,Om.MultipleSignatures),handler:n=>n.previous(),kbOpts:{weight:WW,kbExpr:I.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));ve(new VW({id:"showNextParameterHint",precondition:ee.and(Om.Visible,Om.MultipleSignatures),handler:n=>n.next(),kbOpts:{weight:WW,kbExpr:I.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var x8e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Jk=function(n,e){return function(t,i){e(t,i,n)}};const W0=new we("renameInputVisible",!1,m("renameInputVisible","Whether the rename input widget is visible")),RB=new we("renameInputFocused",!1,m("renameInputFocused","Whether the rename input widget is focused"));let MB=class{constructor(e,t,i,o,r,s){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=o,this._logService=s,this._disposables=new oe,this.allowEditorOverflow=!0,this._visibleContextKey=W0.bindTo(r),this._focusedContextKey=RB.bindTo(r),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(50)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",m("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._disposables.add(j(this._input,"focus",()=>{this._focusedContextKey.set(!0)})),this._disposables.add(j(this._input,"blur",()=>{this._focusedContextKey.reset()})),this._domNode.appendChild(this._input),this._candidatesView=this._disposables.add(new k8e(this._domNode,{fontInfo:this._editor.getOption(50),onSelectionChange:()=>this.acceptInput(!1)})),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(e){var t,i,o,r;if(!this._input||!this._domNode)return;const s=e.getColor(Ru),a=e.getColor(qJ);this._domNode.style.backgroundColor=String((t=e.getColor(wn))!==null&&t!==void 0?t:""),this._domNode.style.boxShadow=s?` 0 0 8px 2px ${s}`:"",this._domNode.style.border=a?`1px solid ${a}`:"",this._domNode.style.color=String((i=e.getColor(ZJ))!==null&&i!==void 0?i:""),this._input.style.backgroundColor=String((o=e.getColor(GJ))!==null&&o!==void 0?o:"");const l=e.getColor(YJ);this._input.style.borderWidth=l?"1px":"0px",this._input.style.borderStyle=l?"solid":"none",this._input.style.borderColor=(r=l==null?void 0:l.toString())!==null&&r!==void 0?r:"none"}_updateFont(){if(!this._input||!this._label||!this._candidatesView)return;const e=this._editor.getOption(50);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._candidatesView.updateFont(e),this._label.style.fontSize=`${this._computeLabelFontSize(e.fontSize)}px`}_computeLabelFontSize(e){return e*.8}getPosition(){if(!this._visible||!this._editor.hasModel()||!this._editor.getDomNode())return null;const e=gh(this.getDomNode().ownerDocument.body),t=In(this._editor.getDomNode()),i=this._getTopForPosition();this._nPxAvailableAbove=i+t.top,this._nPxAvailableBelow=e.height-this._nPxAvailableAbove;const o=this._editor.getOption(67),{totalHeight:r}=Bm.getLayoutInfo({lineHeight:o}),s=this._nPxAvailableBelow>r*6?[2,1]:[1,2];return{position:this._position,preference:s}}beforeRender(){var e,t;const[i,o]=this._acceptKeybindings;return this._label.innerText=m({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(e=this._keybindingService.lookupKeybinding(i))===null||e===void 0?void 0:e.getLabel(),(t=this._keybindingService.lookupKeybinding(o))===null||t===void 0?void 0:t.getLabel()),this._domNode.style.minWidth="200px",null}afterRender(e){if(this._trace("invoking afterRender, position: ",e?"not null":"null"),e===null){this.cancelInput(!0,"afterRender (because position is null)");return}if(!this._editor.hasModel()||!this._editor.getDomNode())return;Jt(this._candidatesView),Jt(this._nPxAvailableAbove!==void 0),Jt(this._nPxAvailableBelow!==void 0);const t=Iu(this._input),i=Iu(this._label);let o;e===2?o=this._nPxAvailableBelow:o=this._nPxAvailableAbove,this._candidatesView.layout({height:o-i-t,width:yr(this._input)})}acceptInput(e){var t;this._trace("invoking acceptInput"),(t=this._currentAcceptInput)===null||t===void 0||t.call(this,e)}cancelInput(e,t){var i;this._trace(`invoking cancelInput, caller: ${t}, _currentCancelInput: ${this._currentAcceptInput?"not undefined":"undefined"}`),(i=this._currentCancelInput)===null||i===void 0||i.call(this,e)}focusNextRenameSuggestion(){var e;(e=this._candidatesView)===null||e===void 0||e.focusNext()}focusPreviousRenameSuggestion(){var e;!((e=this._candidatesView)===null||e===void 0)&&e.focusPrevious()||this._input.focus()}getInput(e,t,i,o,r,s,a){this._domNode.classList.toggle("preview",r),this._position=new W(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",o.toString()),this._input.size=Math.max((e.endColumn-e.startColumn)*1.1,20);const l=new oe;return l.add(je(()=>a.dispose(!0))),this._updateRenameCandidates(s,t,a.token),new Promise(c=>{this._currentCancelInput=d=>{var u;return this._trace("invoking _currentCancelInput"),this._currentAcceptInput=void 0,this._currentCancelInput=void 0,(u=this._candidatesView)===null||u===void 0||u.clearCandidates(),c(d),!0},this._currentAcceptInput=d=>{this._trace("invoking _currentAcceptInput"),Jt(this._input!==void 0),Jt(this._candidatesView!==void 0);const u=this._candidatesView.nCandidates;let h,g;const f=this._candidatesView.focusedCandidate;if(f!==void 0?(this._trace("using new name from renameSuggestion"),h=f,g="renameSuggestion"):(this._trace("using new name from inputField"),h=this._input.value,g="inputField"),h===t||h.trim().length===0){this.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)");return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._candidatesView.clearCandidates(),c({newName:h,wantsPreview:r&&d,source:g,nRenameSuggestions:u})},l.add(a.token.onCancellationRequested(()=>this.cancelInput(!0,"cts.token.onCancellationRequested"))),l.add(this._editor.onDidBlurEditorWidget(()=>{var d;return this.cancelInput(!(!((d=this._domNode)===null||d===void 0)&&d.ownerDocument.hasFocus()),"editor.onDidBlurEditorWidget")})),this._show()}).finally(()=>{l.dispose(),this._hide()})}_show(){this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}async _updateRenameCandidates(e,t,i){const o=(...c)=>this._trace("_updateRenameCandidates",...c);o("start");const r=await yS(Promise.allSettled(e),i);if(r===void 0){o("returning early - received updateRenameCandidates results - undefined");return}const s=r.flatMap(c=>c.status==="fulfilled"&&xd(c.value)?c.value:[]);o(`received updateRenameCandidates results - total (unfiltered) ${s.length} candidates.`);const a=ch(s,c=>c.newSymbolName);o(`distinct candidates - ${a.length} candidates.`);const l=a.filter(({newSymbolName:c})=>{var d;return c.trim().length>0&&c!==((d=this._input)===null||d===void 0?void 0:d.value)&&c!==t});if(o(`valid distinct candidates - ${s.length} candidates.`),l.length<1){o("returning early - no valid distinct candidates");return}o("setting candidates"),this._candidatesView.setCandidates(l),o("asking editor to re-layout"),this._editor.layoutContentWidget(this)}_hide(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}_getTopForPosition(){const e=this._editor.getVisibleRanges();let t;return e.length>0?t=e[0].startLineNumber:(this._logService.warn("RenameInputField#_getTopForPosition: this should not happen - visibleRanges is empty"),t=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(t)}_trace(...e){this._logService.trace("RenameInputField",...e)}};MB=x8e([Jk(2,ao),Jk(3,di),Jk(4,Xe),Jk(5,zr)],MB);class k8e{constructor(e,t){this._disposables=new oe,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=t.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=t.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),this._listContainer.style.fontFamily=t.fontInfo.fontFamily,this._listContainer.style.fontWeight=t.fontInfo.fontWeight,this._listContainer.style.fontSize=`${t.fontInfo.fontSize}px`,e.appendChild(this._listContainer);const i=this,o=new class{getTemplateId(s){return"candidate"}getHeight(s){return i._candidateViewHeight}},r=new class{constructor(){this.templateId="candidate"}renderTemplate(s){return new Bm(s,{lineHeight:i._lineHeight})}renderElement(s,a,l){l.model=s}disposeTemplate(s){s.dispose()}};this._listWidget=new pa("NewSymbolNameCandidates",this._listContainer,o,[r],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1}),this._disposables.add(this._listWidget.onDidChangeSelection(s=>{s.elements.length>0&&t.onSelectionChange()})),this._disposables.add(this._listWidget.onDidBlur(s=>{this._listWidget.setFocus([])})),this._listWidget.style(Wf)}dispose(){this._listWidget.dispose(),this._disposables.dispose()}layout({height:e,width:t}){this._availableHeight=e,this._minimumWidth=t}setCandidates(e){this._listWidget.splice(0,0,e);const t=this._pickListHeight(e.length),i=this._pickListWidth(e);this._listWidget.layout(t,i),this._listContainer.style.height=`${t}px`,this._listContainer.style.width=`${i}px`,Pd(m("renameSuggestionsReceivedAria","Received {0} rename suggestions",e.length))}clearCandidates(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])}get nCandidates(){return this._listWidget.length}get focusedCandidate(){if(this._listWidget.length===0)return;const e=this._listWidget.getSelectedElements()[0];if(e!==void 0)return e.newSymbolName;const t=this._listWidget.getFocusedElements()[0];if(t!==void 0)return t.newSymbolName}updateFont(e){this._listContainer.style.fontFamily=e.fontFamily,this._listContainer.style.fontWeight=e.fontWeight,this._listContainer.style.fontSize=`${e.fontSize}px`,this._lineHeight=e.lineHeight,this._listWidget.rerender()}focusNext(){this._listWidget.length!==0&&(this._listWidget.isDOMFocused()?this._listWidget.focusNext():(this._listWidget.domFocus(),this._listWidget.focusFirst()),this._listWidget.reveal(this._listWidget.getFocus()[0]))}focusPrevious(){if(this._listWidget.length===0)return!1;this._listWidget.domFocus();const e=this._listWidget.getFocus()[0];return e!==0&&(this._listWidget.focusPrevious(),this._listWidget.reveal(this._listWidget.getFocus()[0])),e>0}get _candidateViewHeight(){const{totalHeight:e}=Bm.getLayoutInfo({lineHeight:this._lineHeight});return e}_pickListHeight(e){const t=this._candidateViewHeight*e;return Math.min(t,this._availableHeight,this._candidateViewHeight*7)}_pickListWidth(e){const t=Math.ceil(Math.max(...e.map(o=>o.newSymbolName.length))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+t+10)}}class Bm{constructor(e,{lineHeight:t}){this.domNode=document.createElement("div"),this.domNode.style.display="flex",this.domNode.style.alignItems="center",this.domNode.style.height=`${t}px`,this.domNode.style.padding=`${Bm._PADDING}px`,this._icon=document.createElement("div"),this._icon.style.display="flex",this._icon.style.alignItems="center",this._icon.style.width=this._icon.style.height=`${t*.8}px`,this.domNode.appendChild(this._icon),this._label=document.createElement("div"),this._icon.style.display="flex",this._icon.style.alignItems="center",this._label.style.marginLeft="5px",this.domNode.appendChild(this._label),e.appendChild(this.domNode)}set model(e){this._icon.children.length===0&&this._icon.appendChild(aw(pe.sparkle)),this._label.innerText=e.newSymbolName}static getLayoutInfo({lineHeight:e}){return{totalHeight:e+Bm._PADDING*2}}dispose(){}}Bm._PADDING=2;var L8e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Ph=function(n,e){return function(t,i){e(t,i,n)}},AB;class HW{constructor(e,t,i){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=i.ordered(e)}hasProvider(){return this._providers.length>0}async resolveRenameLocation(e){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const o=this._providers[this._providerRenameIdx];if(!o.resolveRenameLocation)break;const r=await o.resolveRenameLocation(this.model,this.position,e);if(r){if(r.rejectReason){t.push(r.rejectReason);continue}return r}}this._providerRenameIdx=0;const i=this.model.getWordAtPosition(this.position);return i?{range:new D(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join(`
`):void 0}:{range:D.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join(`
`):void 0}}async provideRenameEdits(e,t){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)}async _provideRenameEdits(e,t,i,o){const r=this._providers[t];if(!r)return{edits:[],rejectReason:i.join(`
`)};const s=await r.provideRenameEdits(this.model,this.position,e,o);if(s){if(s.rejectReason)return this._provideRenameEdits(e,t+1,i.concat(s.rejectReason),o)}else return this._provideRenameEdits(e,t+1,i.concat(m("no result","No result.")),o);return s}}async function D8e(n,e,t,i){const o=new HW(e,t,n),r=await o.resolveRenameLocation(Dt.None);return r!=null&&r.rejectReason?{edits:[],rejectReason:r.rejectReason}:o.provideRenameEdits(i,Dt.None)}let mh=AB=class{static get(e){return e.getContribution(AB.ID)}constructor(e,t,i,o,r,s,a,l,c){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=o,this._progressService=r,this._logService=s,this._configService=a,this._languageFeaturesService=l,this._telemetryService=c,this._disposableStore=new oe,this._cts=new gn,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(MB,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}async run(){var e,t;const i=this._logService.trace.bind(this._logService,"[rename]");if(this._cts.dispose(!0),this._cts=new gn,!this.editor.hasModel()){i("editor has no model");return}const o=this.editor.getPosition(),r=new HW(this.editor.getModel(),o,this._languageFeaturesService.renameProvider);if(!r.hasProvider()){i("skeleton has no provider");return}const s=new ff(this.editor,5,void 0,this._cts.token);let a;try{i("resolving rename location");const C=r.resolveRenameLocation(s.token);this._progressService.showWhile(C,250),a=await C,i("resolved rename location")}catch(C){i("resolve rename location failed",JSON.stringify(C,null,"	")),(e=Or.get(this.editor))===null||e===void 0||e.showMessage(C||m("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),o);return}finally{s.dispose()}if(!a){i("returning early - no loc");return}if(a.rejectReason){i(`returning early - rejected with reason: ${a.rejectReason}`,a.rejectReason),(t=Or.get(this.editor))===null||t===void 0||t.showMessage(a.rejectReason,o);return}if(s.token.isCancellationRequested){i("returning early - cts1 cancelled");return}const l=new ff(this.editor,5,a.range,this._cts.token),c=this.editor.getModel(),d=new gn(l.token),u=this._languageFeaturesService.newSymbolNamesProvider.all(c),h=u.map(C=>C.provideNewSymbolNames(c,a.range,d.token));i(`requested new symbol names from ${u.length} providers`);const g=this.editor.getSelection();let f=0,p=a.text.length;!D.isEmpty(g)&&!D.spansMultipleLines(g)&&D.containsRange(a.range,g)&&(f=Math.max(0,g.startColumn-a.range.startColumn),p=Math.min(a.range.endColumn,g.endColumn)-a.range.startColumn),i("creating rename input field and awaiting its result");const b=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),v=await this._renameInputField.getInput(a.range,a.text,f,p,b,h,d);if(i("received response from rename input field"),u.length>0&&this._reportTelemetry(u.length,c.getLanguageId(),v),typeof v=="boolean"){i(`returning early - rename input field response - ${v}`),v&&this.editor.focus(),l.dispose();return}this.editor.focus(),i("requesting rename edits");const _=yS(r.provideRenameEdits(v.newName,l.token),l.token).then(async C=>{if(!C){i("returning early - no rename edits result");return}if(!this.editor.hasModel()){i("returning early - no model after rename edits are provided");return}if(C.rejectReason){i(`returning early - rejected with reason: ${C.rejectReason}`),this._notificationService.info(C.rejectReason);return}this.editor.setSelection(D.fromPositions(this.editor.getSelection().getPosition())),i("applying edits"),this._bulkEditService.apply(C,{editor:this.editor,showPreview:v.wantsPreview,label:m("label","Renaming '{0}' to '{1}'",a==null?void 0:a.text,v.newName),code:"undoredo.rename",quotableLabel:m("quotableLabel","Renaming {0} to {1}",a==null?void 0:a.text,v.newName),respectAutoSaveConfig:!0}).then(y=>{i("edits applied"),y.ariaSummary&&Es(m("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",a.text,v.newName,y.ariaSummary))}).catch(y=>{i(`error when applying edits ${JSON.stringify(y,null,"	")}`),this._notificationService.error(m("rename.failedApply","Rename failed to apply edits")),this._logService.error(y)})},C=>{i("error when providing rename edits",JSON.stringify(C,null,"	")),this._notificationService.error(m("rename.failed","Rename failed to compute edits")),this._logService.error(C)}).finally(()=>{l.dispose()});return i("returning rename operation"),this._progressService.showWhile(_,250),_}acceptRenameInput(e){this._renameInputField.acceptInput(e)}cancelRenameInput(){this._renameInputField.cancelInput(!0,"cancelRenameInput command")}focusNextRenameSuggestion(){this._renameInputField.focusNextRenameSuggestion()}focusPreviousRenameSuggestion(){this._renameInputField.focusPreviousRenameSuggestion()}_reportTelemetry(e,t,i){const o=typeof i=="boolean"?{kind:"cancelled",languageId:t,nRenameSuggestionProviders:e}:{kind:"accepted",languageId:t,nRenameSuggestionProviders:e,source:i.source,nRenameSuggestions:i.nRenameSuggestions,wantsPreview:i.wantsPreview};this._telemetryService.publicLog2("renameInvokedEvent",o)}};mh.ID="editor.contrib.renameController";mh=AB=L8e([Ph(1,Ge),Ph(2,Nn),Ph(3,BS),Ph(4,Ff),Ph(5,zr),Ph(6,m6),Ph(7,Re),Ph(8,fr)],mh);class E8e extends Le{constructor(){super({id:"editor.action.rename",label:m("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:ee.and(I.writable,I.hasRenameProvider),kbOpts:{kbExpr:I.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const i=e.get(qt),[o,r]=Array.isArray(t)&&t||[void 0,void 0];return Ke.isUri(o)&&W.isIPosition(r)?i.openCodeEditor({resource:o},i.getActiveCodeEditor()).then(s=>{s&&(s.setPosition(r),s.invokeWithinContext(a=>(this.reportTelemetry(a,s),this.run(a,s))))},st):super.runCommand(e,t)}run(e,t){const i=e.get(zr),o=mh.get(t);return o?(i.trace("[RenameAction] got controller, running..."),o.run()):(i.trace("[RenameAction] returning early - controller missing"),Promise.resolve())}}Gt(mh.ID,mh,4);de(E8e);const zW=_o.bindToContribution(mh.get);ve(new zW({id:"acceptRenameInput",precondition:W0,handler:n=>n.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:ee.and(I.focus,ee.not("isComposing")),primary:3}}));ve(new zW({id:"acceptRenameInputWithPreview",precondition:ee.and(W0,ee.has("config.editor.rename.enablePreview")),handler:n=>n.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:ee.and(I.focus,ee.not("isComposing")),primary:1027}}));ve(new zW({id:"cancelRenameInput",precondition:W0,handler:n=>n.cancelRenameInput(),kbOpts:{weight:199,kbExpr:I.focus,primary:9,secondary:[1033]}}));Li(class extends hs{constructor(){super({id:"focusNextRenameSuggestion",title:{...Ut("focusNextRenameSuggestion","Focus Next Rename Suggestion")},precondition:W0,keybinding:[{primary:2,secondary:[18],weight:199}]})}run(e){const t=e.get(qt).getFocusedCodeEditor();if(!t)return;const i=mh.get(t);i&&i.focusNextRenameSuggestion()}});Li(class extends hs{constructor(){super({id:"focusPreviousRenameSuggestion",title:{...Ut("focusPreviousRenameSuggestion","Focus Previous Rename Suggestion")},precondition:W0,keybinding:[{when:RB,primary:6,weight:199},{when:RB.toNegated(),primary:1026,secondary:[16],weight:199}]})}run(e){const t=e.get(qt).getFocusedCodeEditor();if(!t)return;const i=mh.get(t);i&&i.focusPreviousRenameSuggestion()}});Zd("_executeDocumentRenameProvider",function(n,e,t,...i){const[o]=i;Jt(typeof o=="string");const{renameProvider:r}=n.get(Re);return D8e(r,e,t,o)});Zd("_executePrepareRename",async function(n,e,t){const{renameProvider:i}=n.get(Re),r=await new HW(e,t,i).resolveRenameLocation(Dt.None);if(r!=null&&r.rejectReason)throw new Error(r.rejectReason);return r});nn.as(Rc.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:m("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});function T8e(n){for(let e=0,t=n.length;e<t;e+=4){const i=n[e+0],o=n[e+1],r=n[e+2],s=n[e+3];n[e+0]=s,n[e+1]=r,n[e+2]=o,n[e+3]=i}}function I8e(n){const e=new Uint8Array(n.buffer,n.byteOffset,n.length*4);return sQ()||T8e(e),nI.wrap(e)}function Sre(n){const e=new Uint32Array(N8e(n));let t=0;if(e[t++]=n.id,n.type==="full")e[t++]=1,e[t++]=n.data.length,e.set(n.data,t),t+=n.data.length;else{e[t++]=2,e[t++]=n.deltas.length;for(const i of n.deltas)e[t++]=i.start,e[t++]=i.deleteCount,i.data?(e[t++]=i.data.length,e.set(i.data,t),t+=i.data.length):e[t++]=0}return I8e(e)}function N8e(n){let e=0;if(e+=2,n.type==="full")e+=1+n.data.length;else{e+=1,e+=3*n.deltas.length;for(const t of n.deltas)t.data&&(e+=t.data.length)}return e}function $N(n){return n&&!!n.data}function xre(n){return n&&Array.isArray(n.edits)}class R8e{constructor(e,t,i){this.provider=e,this.tokens=t,this.error=i}}function kre(n,e){return n.has(e)}function M8e(n,e){const t=n.orderedGroups(e);return t.length>0?t[0]:[]}async function Lre(n,e,t,i,o){const r=M8e(n,e),s=await Promise.all(r.map(async a=>{let l,c=null;try{l=await a.provideDocumentSemanticTokens(e,a===t?i:null,o)}catch(d){c=d,l=null}return(!l||!$N(l)&&!xre(l))&&(l=null),new R8e(a,l,c)}));for(const a of s){if(a.error)throw a.error;if(a.tokens)return a}return s.length>0?s[0]:null}function A8e(n,e){const t=n.orderedGroups(e);return t.length>0?t[0]:null}class P8e{constructor(e,t){this.provider=e,this.tokens=t}}function O8e(n,e){return n.has(e)}function Dre(n,e){const t=n.orderedGroups(e);return t.length>0?t[0]:[]}async function UW(n,e,t,i){const o=Dre(n,e),r=await Promise.all(o.map(async s=>{let a;try{a=await s.provideDocumentRangeSemanticTokens(e,t,i)}catch(l){Bn(l),a=null}return(!a||!$N(a))&&(a=null),new P8e(s,a)}));for(const s of r)if(s.tokens)return s;return r.length>0?r[0]:null}Pt.registerCommand("_provideDocumentSemanticTokensLegend",async(n,...e)=>{const[t]=e;Jt(t instanceof Ke);const i=n.get(Yi).getModel(t);if(!i)return;const{documentSemanticTokensProvider:o}=n.get(Re),r=A8e(o,i);return r?r[0].getLegend():n.get(tn).executeCommand("_provideDocumentRangeSemanticTokensLegend",t)});Pt.registerCommand("_provideDocumentSemanticTokens",async(n,...e)=>{const[t]=e;Jt(t instanceof Ke);const i=n.get(Yi).getModel(t);if(!i)return;const{documentSemanticTokensProvider:o}=n.get(Re);if(!kre(o,i))return n.get(tn).executeCommand("_provideDocumentRangeSemanticTokens",t,i.getFullModelRange());const r=await Lre(o,i,null,null,Dt.None);if(!r)return;const{provider:s,tokens:a}=r;if(!a||!$N(a))return;const l=Sre({id:0,type:"full",data:a.data});return a.resultId&&s.releaseDocumentSemanticTokens(a.resultId),l});Pt.registerCommand("_provideDocumentRangeSemanticTokensLegend",async(n,...e)=>{const[t,i]=e;Jt(t instanceof Ke);const o=n.get(Yi).getModel(t);if(!o)return;const{documentRangeSemanticTokensProvider:r}=n.get(Re),s=Dre(r,o);if(s.length===0)return;if(s.length===1)return s[0].getLegend();if(!i||!D.isIRange(i))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),s[0].getLegend();const a=await UW(r,o,D.lift(i),Dt.None);if(a)return a.provider.getLegend()});Pt.registerCommand("_provideDocumentRangeSemanticTokens",async(n,...e)=>{const[t,i]=e;Jt(t instanceof Ke),Jt(D.isIRange(i));const o=n.get(Yi).getModel(t);if(!o)return;const{documentRangeSemanticTokensProvider:r}=n.get(Re),s=await UW(r,o,D.lift(i),Dt.None);if(!(!s||!s.tokens))return Sre({id:0,type:"full",data:s.tokens.data})});const $W="editor.semanticHighlighting";function iD(n,e,t){var i;const o=(i=t.getValue($W,{overrideIdentifier:n.getLanguageId(),resource:n.uri}))===null||i===void 0?void 0:i.enabled;return typeof o=="boolean"?o:e.getColorTheme().semanticHighlighting}var Ere=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},nd=function(n,e){return function(t,i){e(t,i,n)}},jh;let PB=class extends z{constructor(e,t,i,o,r,s){super(),this._watchers=Object.create(null);const a=d=>{this._watchers[d.uri.toString()]=new Qw(d,e,i,r,s)},l=(d,u)=>{u.dispose(),delete this._watchers[d.uri.toString()]},c=()=>{for(const d of t.getModels()){const u=this._watchers[d.uri.toString()];iD(d,i,o)?u||a(d):u&&l(d,u)}};t.getModels().forEach(d=>{iD(d,i,o)&&a(d)}),this._register(t.onModelAdded(d=>{iD(d,i,o)&&a(d)})),this._register(t.onModelRemoved(d=>{const u=this._watchers[d.uri.toString()];u&&l(d,u)})),this._register(o.onDidChangeConfiguration(d=>{d.affectsConfiguration($W)&&c()})),this._register(i.onDidColorThemeChange(c))}dispose(){for(const e of Object.values(this._watchers))e.dispose();super.dispose()}};PB=Ere([nd(0,SI),nd(1,Yi),nd(2,ao),nd(3,yt),nd(4,Ka),nd(5,Re)],PB);let Qw=jh=class extends z{constructor(e,t,i,o,r){super(),this._semanticTokensStylingService=t,this._isDisposed=!1,this._model=e,this._provider=r.documentSemanticTokensProvider,this._debounceInformation=o.for(this._provider,"DocumentSemanticTokens",{min:jh.REQUEST_MIN_DELAY,max:jh.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new mi(()=>this._fetchDocumentSemanticTokensNow(),jh.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const s=()=>{si(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const a of this._provider.all(e))typeof a.onDidChange=="function"&&this._documentProvidersChangeListeners.push(a.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};s(),this._register(this._provider.onDidChange(()=>{s(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(i.onDidColorThemeChange(a=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),si(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!kre(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const e=new gn,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,o=Lre(this._provider,this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e,this._providersChangedDuringRequest=!1;const r=[],s=this._model.onDidChangeContent(l=>{r.push(l)}),a=new Jo(!1);o.then(l=>{if(this._debounceInformation.update(this._model,a.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,s.dispose(),!l)this._setDocumentSemanticTokens(null,null,null,r);else{const{provider:c,tokens:d}=l,u=this._semanticTokensStylingService.getStyling(c);this._setDocumentSemanticTokens(c,d||null,u,r)}},l=>{l&&(Ic(l)||typeof l.message=="string"&&l.message.indexOf("busy")!==-1)||st(l),this._currentDocumentRequestCancellationTokenSource=null,s.dispose(),(r.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(e,t,i,o,r){r=Math.min(r,i.length-o,e.length-t);for(let s=0;s<r;s++)i[o+s]=e[t+s]}_setDocumentSemanticTokens(e,t,i,o){const r=this._currentDocumentResponse,s=()=>{(o.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&t&&e.releaseDocumentSemanticTokens(t.resultId);return}if(!e||!i){this._model.tokenization.setSemanticTokens(null,!1);return}if(!t){this._model.tokenization.setSemanticTokens(null,!0),s();return}if(xre(t)){if(!r){this._model.tokenization.setSemanticTokens(null,!0);return}if(t.edits.length===0)t={resultId:t.resultId,data:r.data};else{let a=0;for(const h of t.edits)a+=(h.data?h.data.length:0)-h.deleteCount;const l=r.data,c=new Uint32Array(l.length+a);let d=l.length,u=c.length;for(let h=t.edits.length-1;h>=0;h--){const g=t.edits[h];if(g.start>l.length){i.warnInvalidEditStart(r.resultId,t.resultId,h,g.start,l.length),this._model.tokenization.setSemanticTokens(null,!0);return}const f=d-(g.start+g.deleteCount);f>0&&(jh._copy(l,d-f,c,u-f,f),u-=f),g.data&&(jh._copy(g.data,0,c,u-g.data.length,g.data.length),u-=g.data.length),d=g.start}d>0&&jh._copy(l,0,c,0,d),t={resultId:t.resultId,data:c}}}if($N(t)){this._currentDocumentResponse=new F8e(e,t.resultId,t.data);const a=ute(t,i,this._model.getLanguageId());if(o.length>0)for(const l of o)for(const c of a)for(const d of l.changes)c.applyEdit(d.range,d.text);this._model.tokenization.setSemanticTokens(a,!0)}else this._model.tokenization.setSemanticTokens(null,!0);s()}};Qw.REQUEST_MIN_DELAY=300;Qw.REQUEST_MAX_DELAY=2e3;Qw=jh=Ere([nd(1,SI),nd(2,ao),nd(3,Ka),nd(4,Re)],Qw);class F8e{constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}jS(PB);var B8e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},N1=function(n,e){return function(t,i){e(t,i,n)}};let Jw=class extends z{constructor(e,t,i,o,r,s){super(),this._semanticTokensStylingService=t,this._themeService=i,this._configurationService=o,this._editor=e,this._provider=s.documentRangeSemanticTokensProvider,this._debounceInformation=r.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new mi(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const a=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{a()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),a()})),this._register(this._editor.onDidChangeModelContent(l=>{this._cancelAll(),a()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),a()})),this._register(this._configurationService.onDidChangeConfiguration(l=>{l.affectsConfiguration($W)&&(this._cancelAll(),a())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),a()})),a()}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e){this._outstandingRequests.splice(t,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.tokenization.hasCompleteSemanticTokens())return;if(!iD(e,this._themeService,this._configurationService)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}if(!O8e(this._provider,e)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(i=>this._requestRange(e,i)))}_requestRange(e,t){const i=e.getVersionId(),o=ro(s=>Promise.resolve(UW(this._provider,e,t,s))),r=new Jo(!1);return o.then(s=>{if(this._debounceInformation.update(e,r.elapsed()),!s||!s.tokens||e.isDisposed()||e.getVersionId()!==i)return;const{provider:a,tokens:l}=s,c=this._semanticTokensStylingService.getStyling(a);e.tokenization.setPartialSemanticTokens(t,ute(l,c,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(o),()=>this._removeOutstandingRequest(o)),o}};Jw.ID="editor.contrib.viewportSemanticTokens";Jw=B8e([N1(1,SI),N1(2,ao),N1(3,yt),N1(4,Ka),N1(5,Re)],Jw);Gt(Jw.ID,Jw,1);class W8e{constructor(e=!0){this.selectSubwords=e}provideSelectionRanges(e,t){const i=[];for(const o of t){const r=[];i.push(r),this.selectSubwords&&this._addInWordRanges(r,e,o),this._addWordRanges(r,e,o),this._addWhitespaceLine(r,e,o),r.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){const o=t.getWordAtPosition(i);if(!o)return;const{word:r,startColumn:s}=o,a=i.column-s;let l=a,c=a,d=0;for(;l>=0;l--){const u=r.charCodeAt(l);if(l!==a&&(u===95||u===45))break;if(lg(u)&&Jc(d))break;d=u}for(l+=1;c<r.length;c++){const u=r.charCodeAt(c);if(Jc(u)&&lg(d))break;if(u===95||u===45)break;d=u}l<c&&e.push({range:new D(i.lineNumber,s+l,i.lineNumber,s+c)})}_addWordRanges(e,t,i){const o=t.getWordAtPosition(i);o&&e.push({range:new D(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(i.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(i.lineNumber)===0&&e.push({range:new D(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}var V8e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},H8e=function(n,e){return function(t,i){e(t,i,n)}},OB;class jW{constructor(e,t){this.index=e,this.ranges=t}mov(e){const t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const i=new jW(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}}let a0=OB=class{static get(e){return e.getContribution(OB.ID)}constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}dispose(){var e;(e=this._selectionListener)===null||e===void 0||e.dispose()}async run(e){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),i=this._editor.getModel();if(this._state||await Ire(this._languageFeaturesService.selectionRangeProvider,i,t.map(r=>r.getPosition()),this._editor.getOption(113),Dt.None).then(r=>{var s;if(!(!Yo(r)||r.length!==t.length)&&!(!this._editor.hasModel()||!en(this._editor.getSelections(),t,(a,l)=>a.equalsSelection(l)))){for(let a=0;a<r.length;a++)r[a]=r[a].filter(l=>l.containsPosition(t[a].getStartPosition())&&l.containsPosition(t[a].getEndPosition())),r[a].unshift(t[a]);this._state=r.map(a=>new jW(0,a)),(s=this._selectionListener)===null||s===void 0||s.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var a;this._ignoreSelection||((a=this._selectionListener)===null||a===void 0||a.dispose(),this._state=void 0)})}}),!this._state)return;this._state=this._state.map(r=>r.mov(e));const o=this._state.map(r=>Pe.fromPositions(r.ranges[r.index].getStartPosition(),r.ranges[r.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(o)}finally{this._ignoreSelection=!1}}};a0.ID="editor.contrib.smartSelectController";a0=OB=V8e([H8e(1,Re)],a0);class Tre extends Le{constructor(e,t){super(t),this._forward=e}async run(e,t){const i=a0.get(t);i&&await i.run(this._forward)}}class z8e extends Tre{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:m("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:I.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:T.MenubarSelectionMenu,group:"1_basic",title:m({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}Pt.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class U8e extends Tre{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:m("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:I.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:T.MenubarSelectionMenu,group:"1_basic",title:m({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}Gt(a0.ID,a0,4);de(z8e);de(U8e);async function Ire(n,e,t,i,o){const r=n.all(e).concat(new W8e(i.selectSubwords));r.length===1&&r.unshift(new Us);const s=[],a=[];for(const l of r)s.push(Promise.resolve(l.provideSelectionRanges(e,t,o)).then(c=>{if(Yo(c)&&c.length===t.length)for(let d=0;d<t.length;d++){a[d]||(a[d]=[]);for(const u of c[d])D.isIRange(u.range)&&D.containsPosition(u.range,t[d])&&a[d].push(D.lift(u.range))}},Bn));return await Promise.all(s),a.map(l=>{if(l.length===0)return[];l.sort((h,g)=>W.isBefore(h.getStartPosition(),g.getStartPosition())?1:W.isBefore(g.getStartPosition(),h.getStartPosition())||W.isBefore(h.getEndPosition(),g.getEndPosition())?-1:W.isBefore(g.getEndPosition(),h.getEndPosition())?1:0);const c=[];let d;for(const h of l)(!d||D.containsRange(h,d)&&!D.equalsRange(h,d))&&(c.push(h),d=h);if(!i.selectLeadingAndTrailingWhitespace)return c;const u=[c[0]];for(let h=1;h<c.length;h++){const g=c[h-1],f=c[h];if(f.startLineNumber!==g.startLineNumber||f.endLineNumber!==g.endLineNumber){const p=new D(g.startLineNumber,e.getLineFirstNonWhitespaceColumn(g.startLineNumber),g.endLineNumber,e.getLineLastNonWhitespaceColumn(g.endLineNumber));p.containsRange(g)&&!p.equalsRange(g)&&f.containsRange(p)&&!f.equalsRange(p)&&u.push(p);const b=new D(g.startLineNumber,1,g.endLineNumber,e.getLineMaxColumn(g.endLineNumber));b.containsRange(g)&&!b.equalsRange(p)&&f.containsRange(b)&&!f.equalsRange(b)&&u.push(b)}u.push(f)}return u})}Pt.registerCommand("_executeSelectionRangeProvider",async function(n,...e){const[t,i]=e;Jt(Ke.isUri(t));const o=n.get(Re).selectionRangeProvider,r=await n.get(us).createModelReference(t);try{return Ire(o,r.object.textEditorModel,i,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},Dt.None)}finally{r.dispose()}});const $8e=Object.freeze({View:Ut("view","View"),Help:Ut("help","Help"),Test:Ut("test","Test"),File:Ut("file","File"),Preferences:Ut("preferences","Preferences"),Developer:Ut({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});class Qq{constructor(e,t,i,o=null){this.startLineNumbers=e,this.endLineNumbers=t,this.lastLineRelativePosition=i,this.showEndForLine=o}equals(e){return!!e&&this.lastLineRelativePosition===e.lastLineRelativePosition&&this.showEndForLine===e.showEndForLine&&en(this.startLineNumbers,e.startLineNumbers)&&en(this.endLineNumbers,e.endLineNumbers)}}const Jq=yh("stickyScrollViewLayer",{createHTML:n=>n}),OA="data-sticky-line-index",eG="data-sticky-is-line",j8e="data-sticky-is-line-number",tG="data-sticky-is-folding-icon";class K8e extends z{constructor(e){super(),this._editor=e,this._foldingIconStore=new oe,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(67),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",e instanceof vf),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const t=()=>{this._linesDomNode.style.left=this._editor.getOption(115).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(115)&&t(),i.hasChanged(67)&&(this._lineHeight=this._editor.getOption(67))})),this._register(this._editor.onDidScrollChange(i=>{i.scrollLeftChanged&&t(),i.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{t(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),t(),this._register(this._editor.onDidLayoutChange(i=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(e){return this._renderedStickyLines.find(t=>t.lineNumber===e)}getCurrentLines(){return this._lineNumbers}setState(e,t,i){if(i===void 0&&(!this._previousState&&!e||this._previousState&&this._previousState.equals(e)))return;const o=this._isWidgetHeightZero(e),r=o?void 0:e,s=o?0:this._findLineToRebuildWidgetFrom(e,i);this._renderRootNode(r,t,s),this._previousState=e}_isWidgetHeightZero(e){if(!e)return!0;const t=e.startLineNumbers.length*this._lineHeight+e.lastLineRelativePosition;if(t>0){this._lastLineRelativePosition=e.lastLineRelativePosition;const i=[...e.startLineNumbers];e.showEndForLine!==null&&(i[e.showEndForLine]=e.endLineNumbers[e.showEndForLine]),this._lineNumbers=i}else this._lastLineRelativePosition=0,this._lineNumbers=[];return t===0}_findLineToRebuildWidgetFrom(e,t){if(!e||!this._previousState)return 0;if(t!==void 0)return t;const i=this._previousState,o=e.startLineNumbers.findIndex(r=>!i.startLineNumbers.includes(r));return o===-1?0:o}_updateWidgetWidth(){const e=this._editor.getLayoutInfo(),t=e.contentLeft;this._lineNumbersDomNode.style.width=`${t}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-e.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${e.width-e.verticalScrollbarWidth}px`}_clearStickyLinesFromLine(e){this._foldingIconStore.clear();for(let t=e;t<this._renderedStickyLines.length;t++){const i=this._renderedStickyLines[t];i.lineNumberDomNode.remove(),i.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,e),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(e){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${e?.5:0}s`)}_setFoldingIconsVisibility(e){for(const t of this._renderedStickyLines){const i=t.foldingIcon;i&&i.setVisible(e?!0:i.isCollapsed)}}async _renderRootNode(e,t,i){if(this._clearStickyLinesFromLine(i),!e)return;for(const a of this._renderedStickyLines)this._updateTopAndZIndexOfStickyLine(a);const o=this._editor.getLayoutInfo(),r=this._lineNumbers.slice(i);for(const[a,l]of r.entries()){const c=this._renderChildNode(a+i,l,t,o);c&&(this._linesDomNode.appendChild(c.lineDomNode),this._lineNumbersDomNode.appendChild(c.lineNumberDomNode),this._renderedStickyLines.push(c))}t&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const s=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${s}px`,this._linesDomNodeScrollable.style.height=`${s}px`,this._rootDomNode.style.height=`${s}px`,this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max(...this._renderedStickyLines.map(a=>a.scrollWidth))+o.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this)}_setFoldingHoverListeners(){this._editor.getOption(110)==="mouseover"&&(this._foldingIconStore.add(j(this._lineNumbersDomNode,ge.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(j(this._lineNumbersDomNode,ge.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(e,t,i,o){const r=this._editor._getViewModel();if(!r)return;const s=r.coordinatesConverter.convertModelPositionToViewPosition(new W(t,1)).lineNumber,a=r.getViewLineRenderingData(s),l=this._editor.getOption(68);let c;try{c=Rr.filter(a.inlineDecorations,s,a.minColumn,a.maxColumn)}catch{c=[]}const d=new Pf(!0,!0,a.content,a.continuesWithWrappedLine,a.isBasicASCII,a.containsRTL,0,a.tokens,c,a.tabSize,a.startVisibleColumn,1,1,1,500,"none",!0,!0,null),u=new _0(2e3),h=LS(d,u);let g;Jq?g=Jq.createHTML(u.build()):g=u.build();const f=document.createElement("span");f.setAttribute(OA,String(e)),f.setAttribute(eG,""),f.setAttribute("role","listitem"),f.tabIndex=0,f.className="sticky-line-content",f.classList.add(`stickyLine${t}`),f.style.lineHeight=`${this._lineHeight}px`,f.innerHTML=g;const p=document.createElement("span");p.setAttribute(OA,String(e)),p.setAttribute(j8e,""),p.className="sticky-line-number",p.style.lineHeight=`${this._lineHeight}px`;const b=o.contentLeft;p.style.width=`${b}px`;const v=document.createElement("span");l.renderType===1||l.renderType===3&&t%10===0?v.innerText=t.toString():l.renderType===2&&(v.innerText=Math.abs(t-this._editor.getPosition().lineNumber).toString()),v.className="sticky-line-number-inner",v.style.lineHeight=`${this._lineHeight}px`,v.style.width=`${o.lineNumbersWidth}px`,v.style.paddingLeft=`${o.lineNumbersLeft}px`,p.appendChild(v);const _=this._renderFoldingIconForLine(i,t);_&&p.appendChild(_.domNode),this._editor.applyFontInfo(f),this._editor.applyFontInfo(v),p.style.lineHeight=`${this._lineHeight}px`,f.style.lineHeight=`${this._lineHeight}px`,p.style.height=`${this._lineHeight}px`,f.style.height=`${this._lineHeight}px`;const C=new q8e(e,t,f,p,_,h.characterMapping,f.scrollWidth);return this._updateTopAndZIndexOfStickyLine(C)}_updateTopAndZIndexOfStickyLine(e){var t;const i=e.index,o=e.lineDomNode,r=e.lineNumberDomNode,s=i===this._lineNumbers.length-1,a="0",l="1";o.style.zIndex=s?a:l,r.style.zIndex=s?a:l;const c=`${i*this._lineHeight+this._lastLineRelativePosition+(!((t=e.foldingIcon)===null||t===void 0)&&t.isCollapsed?1:0)}px`,d=`${i*this._lineHeight}px`;return o.style.top=s?c:d,r.style.top=s?c:d,e}_renderFoldingIconForLine(e,t){const i=this._editor.getOption(110);if(!e||i==="never")return;const o=e.regions,r=o.findRange(t),s=o.getStartLineNumber(r);if(!(t===s))return;const l=o.isCollapsed(r),c=new G8e(l,s,o.getEndLineNumber(r),this._lineHeight);return c.setVisible(this._isOnGlyphMargin?!0:l||i==="always"),c.domNode.setAttribute(tG,""),c}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(e){0<=e&&e<this._renderedStickyLines.length&&this._renderedStickyLines[e].lineDomNode.focus()}getEditorPositionFromNode(e){if(!e||e.children.length>0)return null;const t=this._getRenderedStickyLineFromChildDomNode(e);if(!t)return null;const i=I6(t.characterMapping,e,0);return new W(t.lineNumber,i)}getLineNumberFromChildDomNode(e){var t,i;return(i=(t=this._getRenderedStickyLineFromChildDomNode(e))===null||t===void 0?void 0:t.lineNumber)!==null&&i!==void 0?i:null}_getRenderedStickyLineFromChildDomNode(e){const t=this.getLineIndexFromChildDomNode(e);return t===null||t<0||t>=this._renderedStickyLines.length?null:this._renderedStickyLines[t]}getLineIndexFromChildDomNode(e){const t=this._getAttributeValue(e,OA);return t?parseInt(t,10):null}isInStickyLine(e){return this._getAttributeValue(e,eG)!==void 0}isInFoldingIconDomNode(e){return this._getAttributeValue(e,tG)!==void 0}_getAttributeValue(e,t){for(;e&&e!==this._rootDomNode;){const i=e.getAttribute(t);if(i!==null)return i;e=e.parentElement}}}class q8e{constructor(e,t,i,o,r,s,a){this.index=e,this.lineNumber=t,this.lineDomNode=i,this.lineNumberDomNode=o,this.foldingIcon=r,this.characterMapping=s,this.scrollWidth=a}}class G8e{constructor(e,t,i,o){this.isCollapsed=e,this.foldingStartLine=t,this.foldingEndLine=i,this.dimension=o,this.domNode=document.createElement("div"),this.domNode.style.width=`${o}px`,this.domNode.style.height=`${o}px`,this.domNode.className=Ze.asClassName(e?kN:xN)}setVisible(e){this.domNode.style.cursor=e?"pointer":"default",this.domNode.style.opacity=e?"1":"0"}}class XC{constructor(e,t){this.startLineNumber=e,this.endLineNumber=t}}class WE{constructor(e,t,i){this.range=e,this.children=t,this.parent=i}}class Nre{constructor(e,t,i,o){this.uri=e,this.version=t,this.element=i,this.outlineProviderId=o}}var jN=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},eS=function(n,e){return function(t,i){e(t,i,n)}},QC;(function(n){n.OUTLINE_MODEL="outlineModel",n.FOLDING_PROVIDER_MODEL="foldingProviderModel",n.INDENTATION_MODEL="indentationModel"})(QC||(QC={}));var wg;(function(n){n[n.VALID=0]="VALID",n[n.INVALID=1]="INVALID",n[n.CANCELED=2]="CANCELED"})(wg||(wg={}));let FB=class extends z{constructor(e,t,i,o){super(),this._editor=e,this._languageConfigurationService=t,this._languageFeaturesService=i,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new Sl(300)),this._updateOperation=this._register(new oe);const r=new BB(i),s=new VB(this._editor,i),a=new WB(this._editor,t);switch(o){case QC.OUTLINE_MODEL:this._modelProviders.push(r),this._modelProviders.push(s),this._modelProviders.push(a);break;case QC.FOLDING_PROVIDER_MODEL:this._modelProviders.push(s),this._modelProviders.push(a);break;case QC.INDENTATION_MODEL:this._modelProviders.push(a);break}}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}async update(e,t,i){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),await this._updateScheduler.trigger(async()=>{for(const o of this._modelProviders){const{statusPromise:r,modelPromise:s}=o.computeStickyModel(e,t,i);this._modelPromise=s;const a=await r;if(this._modelPromise!==s)return null;switch(a){case wg.CANCELED:return this._updateOperation.clear(),null;case wg.VALID:return o.stickyModel}}return null}).catch(o=>(st(o),null))}};FB=jN([eS(1,Di),eS(2,Re)],FB);class Rre{constructor(){this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,wg.INVALID}computeStickyModel(e,t,i){if(i.isCancellationRequested||!this.isProviderValid(e))return{statusPromise:this._invalid(),modelPromise:null};const o=ro(r=>this.createModelFromProvider(e,t,r));return{statusPromise:o.then(r=>this.isModelValid(r)?i.isCancellationRequested?wg.CANCELED:(this._stickyModel=this.createStickyModel(e,t,i,r),wg.VALID):this._invalid()).then(void 0,r=>(st(r),wg.CANCELED)),modelPromise:o}}isModelValid(e){return!0}isProviderValid(e){return!0}}let BB=class extends Rre{constructor(e){super(),this._languageFeaturesService=e}createModelFromProvider(e,t,i){return vu.create(this._languageFeaturesService.documentSymbolProvider,e,i)}createStickyModel(e,t,i,o){var r;const{stickyOutlineElement:s,providerID:a}=this._stickyModelFromOutlineModel(o,(r=this._stickyModel)===null||r===void 0?void 0:r.outlineProviderId);return new Nre(e.uri,t,s,a)}isModelValid(e){return e&&e.children.size>0}_stickyModelFromOutlineModel(e,t){let i;if(Mt.first(e.children.values())instanceof Joe){const a=Mt.find(e.children.values(),l=>l.id===t);if(a)i=a.children;else{let l="",c=-1,d;for(const[u,h]of e.children.entries()){const g=this._findSumOfRangesOfGroup(h);g>c&&(d=h,c=g,l=h.id)}t=l,i=d.children}}else i=e.children;const o=[],r=Array.from(i.values()).sort((a,l)=>{const c=new XC(a.symbol.range.startLineNumber,a.symbol.range.endLineNumber),d=new XC(l.symbol.range.startLineNumber,l.symbol.range.endLineNumber);return this._comparator(c,d)});for(const a of r)o.push(this._stickyModelFromOutlineElement(a,a.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new WE(void 0,o,void 0),providerID:t}}_stickyModelFromOutlineElement(e,t){const i=[];for(const r of e.children.values())if(r.symbol.selectionRange.startLineNumber!==r.symbol.range.endLineNumber)if(r.symbol.selectionRange.startLineNumber!==t)i.push(this._stickyModelFromOutlineElement(r,r.symbol.selectionRange.startLineNumber));else for(const s of r.children.values())i.push(this._stickyModelFromOutlineElement(s,r.symbol.selectionRange.startLineNumber));i.sort((r,s)=>this._comparator(r.range,s.range));const o=new XC(e.symbol.selectionRange.startLineNumber,e.symbol.range.endLineNumber);return new WE(o,i,void 0)}_comparator(e,t){return e.startLineNumber!==t.startLineNumber?e.startLineNumber-t.startLineNumber:t.endLineNumber-e.endLineNumber}_findSumOfRangesOfGroup(e){let t=0;for(const i of e.children.values())t+=this._findSumOfRangesOfGroup(i);return e instanceof sB?t+e.symbol.range.endLineNumber-e.symbol.selectionRange.startLineNumber:t}};BB=jN([eS(0,Re)],BB);class Mre extends Rre{constructor(e){super(),this._foldingLimitReporter=new Yoe(e)}createStickyModel(e,t,i,o){const r=this._fromFoldingRegions(o);return new Nre(e.uri,t,r,void 0)}isModelValid(e){return e!==null}_fromFoldingRegions(e){const t=e.length,i=[],o=new WE(void 0,[],void 0);for(let r=0;r<t;r++){const s=e.getParentIndex(r);let a;s!==-1?a=i[s]:a=o;const l=new WE(new XC(e.getStartLineNumber(r),e.getEndLineNumber(r)+1),[],a);a.children.push(l),i.push(l)}return o}}let WB=class extends Mre{constructor(e,t){super(e),this._languageConfigurationService=t}createModelFromProvider(e,t,i){return new EW(e,this._languageConfigurationService,this._foldingLimitReporter).compute(i)}};WB=jN([eS(1,Di)],WB);let VB=class extends Mre{constructor(e,t){super(e),this._languageFeaturesService=t}isProviderValid(e){return Ud.getFoldingRangeProviders(this._languageFeaturesService,e).length>0}createModelFromProvider(e,t,i){const o=Ud.getFoldingRangeProviders(this._languageFeaturesService,e);return new IW(e,o,()=>this.createModelFromProvider(e,t,i),this._foldingLimitReporter,void 0).compute(i)}};VB=jN([eS(1,Re)],VB);var Z8e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},iG=function(n,e){return function(t,i){e(t,i,n)}};class Y8e{constructor(e,t,i){this.startLineNumber=e,this.endLineNumber=t,this.nestingDepth=i}}let HB=class extends z{constructor(e,t,i){super(),this._languageFeaturesService=t,this._languageConfigurationService=i,this._onDidChangeStickyScroll=this._register(new B),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._options=null,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=e,this._sessionStore=this._register(new oe),this._updateSoon=this._register(new mi(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(115)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._stickyModelProvider=null,this._sessionStore.clear(),this._options=this._editor.getOption(115),this._options.enabled&&(this._stickyModelProvider=this._sessionStore.add(new FB(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel)),this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update())}getVersionId(){var e;return(e=this._model)===null||e===void 0?void 0:e.version}async update(){var e;(e=this._cts)===null||e===void 0||e.dispose(!0),this._cts=new gn,await this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()}async updateStickyModel(e){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}const t=this._editor.getModel(),i=t.getVersionId(),o=await this._stickyModelProvider.update(t,i,e);e.isCancellationRequested||(this._model=o)}updateIndex(e){return e===-1?e=0:e<0&&(e=-e-2),e}getCandidateStickyLinesIntersectingFromStickyModel(e,t,i,o,r){if(t.children.length===0)return;let s=r;const a=[];for(let d=0;d<t.children.length;d++){const u=t.children[d];u.range&&a.push(u.range.startLineNumber)}const l=this.updateIndex(Sy(a,e.startLineNumber,(d,u)=>d-u)),c=this.updateIndex(Sy(a,e.startLineNumber+o,(d,u)=>d-u));for(let d=l;d<=c;d++){const u=t.children[d];if(!u)return;if(u.range){const h=u.range.startLineNumber,g=u.range.endLineNumber;e.startLineNumber<=g+1&&h-1<=e.endLineNumber&&h!==s&&(s=h,i.push(new Y8e(h,g-1,o+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(e,u,i,o+1,h))}else this.getCandidateStickyLinesIntersectingFromStickyModel(e,u,i,o,r)}}getCandidateStickyLinesIntersecting(e){var t,i;if(!(!((t=this._model)===null||t===void 0)&&t.element))return[];let o=[];this.getCandidateStickyLinesIntersectingFromStickyModel(e,this._model.element,o,0,-1);const r=(i=this._editor._getViewModel())===null||i===void 0?void 0:i.getHiddenAreas();if(r)for(const s of r)o=o.filter(a=>!(a.startLineNumber>=s.startLineNumber&&a.endLineNumber<=s.endLineNumber+1));return o}};HB=Z8e([iG(1,Re),iG(2,Di)],HB);var X8e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Ev=function(n,e){return function(t,i){e(t,i,n)}},zB;let $d=zB=class extends z{constructor(e,t,i,o,r,s,a){super(),this._editor=e,this._contextMenuService=t,this._languageFeaturesService=i,this._instaService=o,this._contextKeyService=a,this._sessionStore=new oe,this._foldingModel=null,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new K8e(this._editor),this._stickyLineCandidateProvider=new HB(this._editor,i,r),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new Qq([],[],0),this._onDidResize(),this._readConfiguration();const l=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(d=>{(d.hasChanged(115)||d.hasChanged(73)||d.hasChanged(67)||d.hasChanged(110))&&this._readConfiguration()})),this._register(j(l,ge.CONTEXT_MENU,async d=>{this._onContextMenu(qe(l),d)})),this._stickyScrollFocusedContextKey=I.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=I.stickyScrollVisible.bindTo(this._contextKeyService);const c=this._register(Cc(l));this._register(c.onDidBlur(d=>{this._positionRevealed===!1&&l.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(c.onDidFocus(d=>{this.focus()})),this._registerMouseListeners(),this._register(j(l,ge.MOUSE_DOWN,d=>{this._onMouseDown=!0}))}static get(e){return e.getContribution(zB.ID)}_disposeFocusStickyScrollStore(){var e;this._stickyScrollFocusedContextKey.set(!1),(e=this._focusDisposableStore)===null||e===void 0||e.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new oe,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(e){this._focusedStickyElementIndex=e?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const e=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:e[this._focusedStickyElementIndex],column:1})}_revealPosition(e){this._reveaInEditor(e,()=>this._editor.revealPosition(e))}_revealLineInCenterIfOutsideViewport(e){this._reveaInEditor(e,()=>this._editor.revealLineInCenterIfOutsideViewport(e.lineNumber,0))}_reveaInEditor(e,t){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,t(),this._editor.setSelection(D.fromPositions(e)),this._editor.focus()}_registerMouseListeners(){const e=this._register(new oe),t=this._register(new uN(this._editor,{extractLineNumberFromMouseEvent:r=>{const s=this._stickyScrollWidget.getEditorPositionFromNode(r.target.element);return s?s.lineNumber:0}})),i=r=>{if(!this._editor.hasModel()||r.target.type!==12||r.target.detail!==this._stickyScrollWidget.getId())return null;const s=r.target.element;if(!s||s.innerText!==s.innerHTML)return null;const a=this._stickyScrollWidget.getEditorPositionFromNode(s);return a?{range:new D(a.lineNumber,a.column,a.lineNumber,a.column+s.innerText.length),textElement:s}:null},o=this._stickyScrollWidget.getDomNode();this._register(fn(o,ge.CLICK,r=>{if(r.ctrlKey||r.altKey||r.metaKey||!r.leftButton)return;if(r.shiftKey){const c=this._stickyScrollWidget.getLineIndexFromChildDomNode(r.target);if(c===null)return;const d=new W(this._endLineNumbers[c],1);this._revealLineInCenterIfOutsideViewport(d);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(r.target)){const c=this._stickyScrollWidget.getLineNumberFromChildDomNode(r.target);this._toggleFoldingRegionForLine(c);return}if(!this._stickyScrollWidget.isInStickyLine(r.target))return;let l=this._stickyScrollWidget.getEditorPositionFromNode(r.target);if(!l){const c=this._stickyScrollWidget.getLineNumberFromChildDomNode(r.target);if(c===null)return;l=new W(c,1)}this._revealPosition(l)})),this._register(fn(o,ge.MOUSE_MOVE,r=>{if(r.shiftKey){const s=this._stickyScrollWidget.getLineIndexFromChildDomNode(r.target);if(s===null||this._showEndForLine!==null&&this._showEndForLine===s)return;this._showEndForLine=s,this._renderStickyScroll();return}this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(j(o,ge.MOUSE_LEAVE,r=>{this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(t.onMouseMoveOrRelevantKeyDown(([r,s])=>{const a=i(r);if(!a||!r.hasTriggerModifier||!this._editor.hasModel()){e.clear();return}const{range:l,textElement:c}=a;if(!l.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=l,e.clear();else if(c.style.textDecoration==="underline")return;const d=new gn;e.add(je(()=>d.dispose(!0)));let u;vN(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new W(l.startLineNumber,l.startColumn+1),d.token).then(h=>{if(!d.token.isCancellationRequested)if(h.length!==0){this._candidateDefinitionsLength=h.length;const g=c;u!==g?(e.clear(),u=g,u.style.textDecoration="underline",e.add(je(()=>{u.style.textDecoration="none"}))):u||(u=g,u.style.textDecoration="underline",e.add(je(()=>{u.style.textDecoration="none"})))}else e.clear()})})),this._register(t.onCancel(()=>{e.clear()})),this._register(t.onExecute(async r=>{if(r.target.type!==12||r.target.detail!==this._stickyScrollWidget.getId())return;const s=this._stickyScrollWidget.getEditorPositionFromNode(r.target.element);s&&(!this._editor.hasModel()||!this._stickyRangeProjectedOnEditor||(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:s.lineNumber,column:1})),this._instaService.invokeFunction(dre,r,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})))}))}_onContextMenu(e,t){const i=new dl(e,t);this._contextMenuService.showContextMenu({menuId:T.StickyScrollContext,getAnchor:()=>i})}_toggleFoldingRegionForLine(e){if(!this._foldingModel||e===null)return;const t=this._stickyScrollWidget.getRenderedStickyLine(e),i=t==null?void 0:t.foldingIcon;if(!i)return;joe(this._foldingModel,Number.MAX_VALUE,[e]),i.isCollapsed=!i.isCollapsed;const o=(i.isCollapsed?this._editor.getTopForLineNumber(i.foldingEndLine):this._editor.getTopForLineNumber(i.foldingStartLine))-this._editor.getOption(67)*t.index+1;this._editor.setScrollTop(o),this._renderStickyScroll(e)}_readConfiguration(){const e=this._editor.getOption(115);if(e.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else e.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(i=>{i.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(i=>this._onTokensChange(i))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(68).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll(0)}))}_needsUpdate(e){const t=this._stickyScrollWidget.getCurrentLines();for(const i of t)for(const o of e.ranges)if(i>=o.fromLineNumber&&i<=o.toLineNumber)return!0;return!1}_onTokensChange(e){this._needsUpdate(e)&&this._renderStickyScroll(0)}_onDidResize(){const t=this._editor.getLayoutInfo().height/this._editor.getOption(67);this._maxStickyLines=Math.round(t*.25)}async _renderStickyScroll(e){var t,i;const o=this._editor.getModel();if(!o||o.isTooLargeForTokenization()){this._foldingModel=null,this._stickyScrollWidget.setState(void 0,null);return}const r=this._stickyLineCandidateProvider.getVersionId();if(r===void 0||r===o.getVersionId())if(this._foldingModel=(i=await((t=Ud.get(this._editor))===null||t===void 0?void 0:t.getFoldingModel()))!==null&&i!==void 0?i:null,this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e);else if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const s=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(s)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}}findScrollWidgetState(){const e=this._editor.getOption(67),t=Math.min(this._maxStickyLines,this._editor.getOption(115).maxLineCount),i=this._editor.getScrollTop();let o=0;const r=[],s=[],a=this._editor.getVisibleRanges();if(a.length!==0){const l=new XC(a[0].startLineNumber,a[a.length-1].endLineNumber),c=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(l);for(const d of c){const u=d.startLineNumber,h=d.endLineNumber,g=d.nestingDepth;if(h-u>0){const f=(g-1)*e,p=g*e,b=this._editor.getBottomForLineNumber(u)-i,v=this._editor.getTopForLineNumber(h)-i,_=this._editor.getBottomForLineNumber(h)-i;if(f>v&&f<=_){r.push(u),s.push(h+1),o=_-p;break}else p>b&&p<=_&&(r.push(u),s.push(h+1));if(r.length===t)break}}}return this._endLineNumbers=s,new Qq(r,s,o,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};$d.ID="store.contrib.stickyScrollController";$d=zB=X8e([Ev(1,Ps),Ev(2,Re),Ev(3,Ge),Ev(4,Di),Ev(5,Ka),Ev(6,Xe)],$d);class Q8e extends hs{constructor(){super({id:"editor.action.toggleStickyScroll",title:{...Ut("toggleEditorStickyScroll","Toggle Editor Sticky Scroll"),mnemonicTitle:m({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Editor Sticky Scroll")},category:$8e.View,toggled:{condition:ee.equals("config.editor.stickyScroll.enabled",!0),title:m("stickyScroll","Sticky Scroll"),mnemonicTitle:m({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:T.CommandPalette},{id:T.MenubarAppearanceMenu,group:"4_editor",order:3},{id:T.StickyScrollContext}]})}async run(e){const t=e.get(yt),i=!t.getValue("editor.stickyScroll.enabled");return t.updateValue("editor.stickyScroll.enabled",i)}}const KN=100;class J8e extends Nc{constructor(){super({id:"editor.action.focusStickyScroll",title:{...Ut("focusStickyScroll","Focus Sticky Scroll"),mnemonicTitle:m({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll")},precondition:ee.and(ee.has("config.editor.stickyScroll.enabled"),I.stickyScrollVisible),menu:[{id:T.CommandPalette}]})}runEditorCommand(e,t){var i;(i=$d.get(t))===null||i===void 0||i.focus()}}class e6e extends Nc{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:Ut("selectNextStickyScrollLine.title","Select next sticky scroll line"),precondition:I.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:KN,primary:18}})}runEditorCommand(e,t){var i;(i=$d.get(t))===null||i===void 0||i.focusNext()}}class t6e extends Nc{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:Ut("selectPreviousStickyScrollLine.title","Select previous sticky scroll line"),precondition:I.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:KN,primary:16}})}runEditorCommand(e,t){var i;(i=$d.get(t))===null||i===void 0||i.focusPrevious()}}class i6e extends Nc{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:Ut("goToFocusedStickyScrollLine.title","Go to focused sticky scroll line"),precondition:I.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:KN,primary:3}})}runEditorCommand(e,t){var i;(i=$d.get(t))===null||i===void 0||i.goToFocused()}}class n6e extends Nc{constructor(){super({id:"editor.action.selectEditor",title:Ut("selectEditor.title","Select Editor"),precondition:I.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:KN,primary:9}})}runEditorCommand(e,t){var i;(i=$d.get(t))===null||i===void 0||i.selectEditor()}}Gt($d.ID,$d,1);Li(Q8e);Li(J8e);Li(t6e);Li(e6e);Li(i6e);Li(n6e);var Are=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},sC=function(n,e){return function(t,i){e(t,i,n)}};class o6e{constructor(e,t,i,o,r,s){this.range=e,this.insertText=t,this.filterText=i,this.additionalTextEdits=o,this.command=r,this.completion=s}}let UB=class extends sme{constructor(e,t,i,o,r,s){super(r.disposable),this.model=e,this.line=t,this.word=i,this.completionModel=o,this._suggestMemoryService=s}canBeReused(e,t,i){return this.model===e&&this.line===t&&this.word.word.length>0&&this.word.startColumn===i.startColumn&&this.word.endColumn<i.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var e;const t=[],{items:i}=this.completionModel,o=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},i),r=Mt.slice(i,o),s=Mt.slice(i,0,o);let a=5;for(const l of Mt.concat(r,s)){if(l.score===pc.Default)continue;const c=new D(l.editStart.lineNumber,l.editStart.column,l.editInsertEnd.lineNumber,l.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),d=l.completion.insertTextRules&&l.completion.insertTextRules&4?{snippet:l.completion.insertText}:l.completion.insertText;t.push(new o6e(c,d,(e=l.filterTextLow)!==null&&e!==void 0?e:l.labelLow,l.completion.additionalTextEdits,l.completion.command,l)),a-->=0&&l.resolve(Dt.None)}return t}};UB=Are([sC(5,IN)],UB);let $B=class extends z{constructor(e,t,i,o){super(),this._languageFeatureService=e,this._clipboardService=t,this._suggestMemoryService=i,this._editorService=o,this._store.add(e.inlineCompletionsProvider.register("*",this))}async provideInlineCompletions(e,t,i,o){var r;if(i.selectedSuggestionInfo)return;let s;for(const f of this._editorService.listCodeEditors())if(f.getModel()===e){s=f;break}if(!s)return;const a=s.getOption(89);if(kb.isAllOff(a))return;e.tokenization.tokenizeIfCheap(t.lineNumber);const l=e.tokenization.getLineTokens(t.lineNumber),c=l.getStandardTokenType(l.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(kb.valueFor(a,c)!=="inline")return;let d=e.getWordAtPosition(t),u;if(d!=null&&d.word||(u=this._getTriggerCharacterInfo(e,t)),!(d!=null&&d.word)&&!u||(d||(d=e.getWordUntilPosition(t)),d.endColumn!==t.column))return;let h;const g=e.getValueInRange(new D(t.lineNumber,1,t.lineNumber,t.column));if(!u&&(!((r=this._lastResult)===null||r===void 0)&&r.canBeReused(e,t.lineNumber,d))){const f=new Kq(g,t.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=f,this._lastResult.acquire(),h=this._lastResult}else{const f=await RW(this._languageFeatureService.completionProvider,e,t,new Uw(void 0,PE.createSuggestFilter(s).itemKind,u==null?void 0:u.providers),u&&{triggerKind:1,triggerCharacter:u.ch},o);let p;f.needsClipboard&&(p=await this._clipboardService.readText());const b=new og(f.items,t.column,new Kq(g,0),Xl.None,s.getOption(118),s.getOption(112),{boostFullMatch:!1,firstMatchCanBeWeak:!1},p);h=new UB(e,t.lineNumber,d,b,f,this._suggestMemoryService)}return this._lastResult=h,h}handleItemDidShow(e,t){t.completion.resolve(Dt.None)}freeInlineCompletions(e){e.release()}_getTriggerCharacterInfo(e,t){var i;const o=e.getValueInRange(D.fromPositions({lineNumber:t.lineNumber,column:t.column-1},t)),r=new Set;for(const s of this._languageFeatureService.completionProvider.all(e))!((i=s.triggerCharacters)===null||i===void 0)&&i.includes(o)&&r.add(s);if(r.size!==0)return{providers:r,ch:o}}};$B=Are([sC(0,Re),sC(1,kh),sC(2,IN),sC(3,qt)],$B);jS($B);class r6e extends Le{constructor(){super({id:"editor.action.forceRetokenize",label:m("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getModel();i.tokenization.resetTokenization();const o=new Jo;i.tokenization.forceTokenization(i.getLineCount()),o.stop(),console.log(`tokenization took ${o.elapsed()}`)}}de(r6e);class qN extends hs{constructor(){super({id:qN.ID,title:Ut({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(){const t=!R_.getTabFocusMode();R_.setTabFocusMode(t),Es(t?m("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):m("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}qN.ID="editor.action.toggleTabFocusMode";Li(qN);var s6e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},a6e=function(n,e){return function(t,i){e(t,i,n)}};let jB=class extends z{get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}constructor(e,t,i={},o){var r;super(),this._link=t,this._enabled=!0,this.el=ie(e,ue("a.monaco-link",{tabIndex:(r=t.tabIndex)!==null&&r!==void 0?r:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const s=this._register(new It(this.el,"click")),a=this._register(new It(this.el,"keypress")),l=me.chain(a.event,u=>u.map(h=>new Ni(h)).filter(h=>h.keyCode===3)),c=this._register(new It(this.el,xi.Tap)).event;this._register(Si.addTarget(this.el));const d=me.any(s.event,l,c);this._register(d(u=>{this.enabled&&(_t.stop(u,!0),i!=null&&i.opener?i.opener(this._link.href):o.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};jB=s6e([a6e(3,gs)],jB);var Pre=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Ore=function(n,e){return function(t,i){e(t,i,n)}};const l6e=26;let KB=class extends z{constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(qB))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show({...e,onClose:()=>{var t;this.hide(),(t=e.onClose)===null||t===void 0||t.call(e)}}),this._editor.setBanner(this.banner.element,l6e)}};KB=Pre([Ore(1,Ge)],KB);let qB=class extends z{constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(Bd,{}),this.element=ue("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){if(e.ariaLabel)return e.ariaLabel;if(typeof e.message=="string")return e.message}getBannerMessage(e){if(typeof e=="string"){const t=ue("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){Xo(this.element)}show(e){Xo(this.element);const t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);const i=ie(this.element,ue("div.icon-container"));i.setAttribute("aria-hidden","true"),e.icon&&i.appendChild(ue(`div${Ze.asCSSSelector(e.icon)}`));const o=ie(this.element,ue("div.message-container"));if(o.setAttribute("aria-hidden","true"),o.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=ie(this.element,ue("div.message-actions-container")),e.actions)for(const s of e.actions)this._register(this.instantiationService.createInstance(jB,this.messageActionsContainer,{...s,tabIndex:-1},{}));const r=ie(this.element,ue("div.action-container"));this.actionBar=this._register(new Wa(r)),this.actionBar.push(this._register(new Ss("banner.close","Close Banner",Ze.asClassName(Sie),!0,()=>{typeof e.onClose=="function"&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};qB=Pre([Ore(0,Ge)],qB);var KW=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},s_=function(n,e){return function(t,i){e(t,i,n)}};const c6e=xn("extensions-warning-message",pe.warning,m("warningIcon","Icon shown with a warning message in the extensions editor."));let l0=class extends z{constructor(e,t,i,o){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=r=>{if(r&&r.hasMore){if(this._bannerClosed)return;const s=Math.max(r.ambiguousCharacterCount,r.nonBasicAsciiCharacterCount,r.invisibleCharacterCount);let a;if(r.nonBasicAsciiCharacterCount>=s)a={message:m("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new H0};else if(r.ambiguousCharacterCount>=s)a={message:m("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new $f};else if(r.invisibleCharacterCount>=s)a={message:m("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new V0};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:a.message,icon:c6e,actions:[{label:a.command.shortLabel,href:`command:${a.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(o.createInstance(KB,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(125),this._register(i.onDidChangeTrust(r=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(r=>{r.hasChanged(125)&&(this._options=e.getOption(125),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const e=d6e(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(i=>i===!1))return;const t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map(i=>i.codePointAt(0)),allowedLocales:Object.keys(e.allowedLocales).map(i=>i==="_os"?new Intl.NumberFormat().resolvedOptions().locale:i==="_vscode"?spe:i)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new GB(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new u6e(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};l0.ID="editor.contrib.unicodeHighlighter";l0=KW([s_(1,Tl),s_(2,Rte),s_(3,Ge)],l0);function d6e(n,e){return{nonBasicASCII:e.nonBasicASCII===Vs?!n:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments===Vs?!n:e.includeComments,includeStrings:e.includeStrings===Vs?!n:e.includeStrings,allowedCharacters:e.allowedCharacters,allowedLocales:e.allowedLocales}}let GB=class extends z{constructor(e,t,i,o){super(),this._editor=e,this._options=t,this._updateState=i,this._editorWorkerService=o,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new mi(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);const i=[];if(!t.hasMore)for(const o of t.ranges)i.push({range:o,options:VE.instance.getDecorationFromOptions(this._options)});this._decorations.set(i)})}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel();if(!X6(t,e))return null;const i=t.getValueInRange(e.range);return{reason:Bre(i,this._options),inComment:Q6(t,e),inString:J6(t,e)}}};GB=KW([s_(3,Tl)],GB);class u6e extends z{constructor(e,t,i){super(),this._editor=e,this._options=t,this._updateState=i,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new mi(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const e=this._editor.getVisibleRanges(),t=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const o of e){const r=u6.computeUnicodeHighlights(this._model,this._options,o);for(const s of r.ranges)i.ranges.push(s);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||r.hasMore}if(!i.hasMore)for(const o of i.ranges)t.push({range:o,options:VE.instance.getDecorationFromOptions(this._options)});this._updateState(i),this._decorations.set(t)}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel(),i=t.getValueInRange(e.range);return X6(t,e)?{reason:Bre(i,this._options),inComment:Q6(t,e),inString:J6(t,e)}:null}}const Fre=m("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options");let ZB=class{constructor(e,t,i){this._editor=e,this._languageService=t,this._openerService=i,this.hoverOrdinal=5}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),o=this._editor.getContribution(l0.ID);if(!o)return[];const r=[],s=new Set;let a=300;for(const l of t){const c=o.getDecorationInfo(l);if(!c)continue;const u=i.getValueInRange(l.range).codePointAt(0),h=FA(u);let g;switch(c.reason.kind){case 0:{_S(c.reason.confusableWith)?g=m("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",h,FA(c.reason.confusableWith.codePointAt(0))):g=m("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",h,FA(c.reason.confusableWith.codePointAt(0)));break}case 1:g=m("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",h);break;case 2:g=m("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",h);break}if(s.has(g))continue;s.add(g);const f={codePoint:u,reason:c.reason,inComment:c.inComment,inString:c.inString},p=m("unicodeHighlight.adjustSettings","Adjust settings"),b=`command:${rx.ID}?${encodeURIComponent(JSON.stringify(f))}`,v=new Go("",!0).appendMarkdown(g).appendText(" ").appendLink(b,p,Fre);r.push(new ec(this,l.range,[v],!1,a++))}return r}renderHoverParts(e,t){return yoe(e,t,this._editor,this._languageService,this._openerService)}};ZB=KW([s_(1,Bi),s_(2,gs)],ZB);function YB(n){return`U+${n.toString(16).padStart(4,"0")}`}function FA(n){let e=`\`${YB(n)}\``;return Ld.isInvisibleCharacter(n)||(e+=` "${`${h6e(n)}`}"`),e}function h6e(n){return n===96?"`` ` ``":"`"+String.fromCodePoint(n)+"`"}function Bre(n,e){return u6.computeUnicodeHighlightReason(n,e)}class VE{constructor(){this.map=new Map}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){const i=`${e}${t}`;let o=this.map.get(i);return o||(o=dt.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(i,o)),o}}VE.instance=new VE;class g6e extends Le{constructor(){super({id:$f.ID,label:m("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=m("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}async run(e,t,i){const o=e==null?void 0:e.get(yt);o&&this.runAction(o)}async runAction(e){await e.updateValue(Jr.includeComments,!1,2)}}class f6e extends Le{constructor(){super({id:$f.ID,label:m("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=m("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}async run(e,t,i){const o=e==null?void 0:e.get(yt);o&&this.runAction(o)}async runAction(e){await e.updateValue(Jr.includeStrings,!1,2)}}class $f extends Le{constructor(){super({id:$f.ID,label:m("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=m("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}async run(e,t,i){const o=e==null?void 0:e.get(yt);o&&this.runAction(o)}async runAction(e){await e.updateValue(Jr.ambiguousCharacters,!1,2)}}$f.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class V0 extends Le{constructor(){super({id:V0.ID,label:m("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=m("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}async run(e,t,i){const o=e==null?void 0:e.get(yt);o&&this.runAction(o)}async runAction(e){await e.updateValue(Jr.invisibleCharacters,!1,2)}}V0.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class H0 extends Le{constructor(){super({id:H0.ID,label:m("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=m("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}async run(e,t,i){const o=e==null?void 0:e.get(yt);o&&this.runAction(o)}async runAction(e){await e.updateValue(Jr.nonBasicASCII,!1,2)}}H0.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class rx extends Le{constructor(){super({id:rx.ID,label:m("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}async run(e,t,i){const{codePoint:o,reason:r,inString:s,inComment:a}=i,l=String.fromCodePoint(o),c=e.get(Ac),d=e.get(yt);function u(f){return Ld.isInvisibleCharacter(f)?m("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",YB(f)):m("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${YB(f)} "${l}"`)}const h=[];if(r.kind===0)for(const f of r.notAmbiguousInLocales)h.push({label:m("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',f),run:async()=>{m6e(d,[f])}});if(h.push({label:u(o),run:()=>p6e(d,[o])}),a){const f=new g6e;h.push({label:f.label,run:async()=>f.runAction(d)})}else if(s){const f=new f6e;h.push({label:f.label,run:async()=>f.runAction(d)})}if(r.kind===0){const f=new $f;h.push({label:f.label,run:async()=>f.runAction(d)})}else if(r.kind===1){const f=new V0;h.push({label:f.label,run:async()=>f.runAction(d)})}else if(r.kind===2){const f=new H0;h.push({label:f.label,run:async()=>f.runAction(d)})}else v6e(r);const g=await c.pick(h,{title:Fre});g&&await g.run()}}rx.ID="editor.action.unicodeHighlight.showExcludeOptions";async function p6e(n,e){const t=n.getValue(Jr.allowedCharacters);let i;typeof t=="object"&&t?i=t:i={};for(const o of e)i[String.fromCodePoint(o)]=!0;await n.updateValue(Jr.allowedCharacters,i,2)}async function m6e(n,e){var t;const i=(t=n.inspect(Jr.allowedLocales).user)===null||t===void 0?void 0:t.value;let o;typeof i=="object"&&i?o=Object.assign({},i):o={};for(const r of e)o[r]=!0;await n.updateValue(Jr.allowedLocales,o,2)}function v6e(n){throw new Error(`Unexpected value: ${n}`)}de($f);de(V0);de(H0);de(rx);Gt(l0.ID,l0,1);zf.register(ZB);var b6e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},nG=function(n,e){return function(t,i){e(t,i,n)}};const Wre="ignoreUnusualLineTerminators";function _6e(n,e,t){n.setModelProperty(e.uri,Wre,t)}function C6e(n,e){return n.getModelProperty(e.uri,Wre)}let tS=class extends z{constructor(e,t,i){super(),this._editor=e,this._dialogService=t,this._codeEditorService=i,this._isPresentingDialog=!1,this._config=this._editor.getOption(126),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(126)&&(this._config=this._editor.getOption(126),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(o=>{o.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}async _checkForUnusualLineTerminators(){if(this._config==="off"||!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators()||C6e(this._codeEditorService,e)===!0||this._editor.getOption(91))return;if(this._config==="auto"){e.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let i;try{this._isPresentingDialog=!0,i=await this._dialogService.confirm({title:m("unusualLineTerminators.title","Unusual Line Terminators"),message:m("unusualLineTerminators.message","Detected unusual line terminators"),detail:m("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",Ba(e.uri)),primaryButton:m({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:m("unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}if(!i.confirmed){_6e(this._codeEditorService,e,!0);return}e.removeUnusualLineTerminators(this._editor.getSelections())}};tS.ID="editor.contrib.unusualLineTerminatorsDetector";tS=b6e([nG(1,OS),nG(2,qt)],tS);Gt(tS.ID,tS,1);var Vre=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},nD=function(n,e){return function(t,i){e(t,i,n)}},Gn,XB;const GN=new we("hasWordHighlights",!1);function Hre(n,e,t,i){const o=n.ordered(e);return X8(o.map(r=>()=>Promise.resolve(r.provideDocumentHighlights(e,t,i)).then(void 0,Bn)),Yo).then(r=>{if(r){const s=new Cn;return s.set(e.uri,r),s}return new Cn})}function y6e(n,e,t,i,o,r){const s=n.ordered(e);return X8(s.map(a=>()=>{const l=r.filter(c=>RJ(c)).filter(c=>n7(a.selector,c.uri,c.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(a.provideMultiDocumentHighlights(e,t,l,o)).then(void 0,Bn)}),a=>a instanceof Cn&&a.size>0)}class qW{constructor(e,t,i){this._model=e,this._selection=t,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=ro(e=>this._compute(this._model,this._selection,this._wordSeparators,e))),this._result}_getCurrentWordRange(e,t){const i=e.getWordAtPosition(t.getPosition());return i?new D(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){const o=t.startLineNumber,r=t.startColumn,s=t.endColumn,a=this._getCurrentWordRange(e,t);let l=!!(this._wordRange&&this._wordRange.equalsRange(a));for(let c=0,d=i.length;!l&&c<d;c++){const u=i.getRange(c);u&&u.startLineNumber===o&&u.startColumn<=r&&u.endColumn>=s&&(l=!0)}return l}cancel(){this.result.cancel()}}class w6e extends qW{constructor(e,t,i,o){super(e,t,i),this._providers=o}_compute(e,t,i,o){return Hre(this._providers,e,t.getPosition(),o).then(r=>r||new Cn)}}class S6e extends qW{constructor(e,t,i,o,r){super(e,t,i),this._providers=o,this._otherModels=r}_compute(e,t,i,o){return y6e(this._providers,e,t.getPosition(),i,o,this._otherModels).then(r=>r||new Cn)}}class zre extends qW{constructor(e,t,i,o,r){super(e,t,o),this._otherModels=r,this._selectionIsEmpty=t.isEmpty(),this._word=i}_compute(e,t,i,o){return tf(250,o).then(()=>{const r=new Cn;let s;if(this._word?s=this._word:s=e.getWordAtPosition(t.getPosition()),!s)return new Cn;const a=[e,...this._otherModels];for(const l of a){if(l.isDisposed())continue;const d=l.findMatches(s.word,!0,!1,!0,i,!1).map(u=>({range:u.range,kind:Ty.Text}));d&&r.set(l.uri,d)}return r})}isValid(e,t,i){const o=t.isEmpty();return this._selectionIsEmpty!==o?!1:super.isValid(e,t,i)}}function x6e(n,e,t,i,o){return n.has(e)?new w6e(e,t,o,n):new zre(e,t,i,o,[])}function k6e(n,e,t,i,o,r){return n.has(e)?new S6e(e,t,o,n,r):new zre(e,t,i,o,r)}Zd("_executeDocumentHighlights",async(n,e,t)=>{const i=n.get(Re),o=await Hre(i.documentHighlightProvider,e,t,Dt.None);return o==null?void 0:o.get(e.uri)});let iS=Gn=class{constructor(e,t,i,o,r){this.toUnhook=new oe,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new Cn,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.providers=t,this.multiDocumentProviders=i,this.codeEditorService=r,this._hasWordHighlights=GN.bindTo(o),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(81),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(s=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this._onPositionChanged(s)})),this.toUnhook.add(e.onDidFocusEditorText(s=>{this.occurrencesHighlight!=="off"&&(this.workerRequest||this._run())})),this.toUnhook.add(e.onDidChangeModelContent(s=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeModel(s=>{!s.newModelUrl&&s.oldModelUrl?this._stopSingular():Gn.query&&this._run()})),this.toUnhook.add(e.onDidChangeConfiguration(s=>{const a=this.editor.getOption(81);this.occurrencesHighlight!==a&&(this.occurrencesHighlight=a,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,Gn.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(D.compareRangesUsingStarts)}moveNext(){const e=this._getSortedHighlights(),i=(e.findIndex(r=>r.containsPosition(this.editor.getPosition()))+1)%e.length,o=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);const r=this._getWord();if(r){const s=this.editor.getModel().getLineContent(o.startLineNumber);Es(`${s}, ${i+1} of ${e.length} for '${r.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const e=this._getSortedHighlights(),i=(e.findIndex(r=>r.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,o=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);const r=this._getWord();if(r){const s=this.editor.getModel().getLineContent(o.startLineNumber);Es(`${s}, ${i+1} of ${e.length} for '${r.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;const e=Gn.storedDecorations.get(this.editor.getModel().uri);e&&(this.editor.removeDecorations(e),Gn.storedDecorations.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(){const e=this.codeEditorService.listCodeEditors(),t=[];for(const i of e){if(!i.hasModel())continue;const o=Gn.storedDecorations.get(i.getModel().uri);if(!o)continue;i.removeDecorations(o),t.push(i.getModel().uri);const r=vh.get(i);r!=null&&r.wordHighlighter&&r.wordHighlighter.decorations.length>0&&(r.wordHighlighter.decorations.clear(),r.wordHighlighter.workerRequest=null,r.wordHighlighter._hasWordHighlights.set(!1))}for(const i of t)Gn.storedDecorations.delete(i)}_stopSingular(){var e,t,i,o;this._removeSingleDecorations(),this.editor.hasTextFocus()&&(((e=this.editor.getModel())===null||e===void 0?void 0:e.uri.scheme)!==ft.vscodeNotebookCell&&((i=(t=Gn.query)===null||t===void 0?void 0:t.modelInfo)===null||i===void 0?void 0:i.model.uri.scheme)!==ft.vscodeNotebookCell?(Gn.query=null,this._run()):!((o=Gn.query)===null||o===void 0)&&o.modelInfo&&(Gn.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(){this._removeAllDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){var t;if(this.occurrencesHighlight==="off"){this._stopAll();return}if(e.reason!==3&&((t=this.editor.getModel())===null||t===void 0?void 0:t.uri.scheme)!==ft.vscodeNotebookCell){this._stopAll();return}this._run()}_getWord(){const e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:t,column:i})}getOtherModelsToHighlight(e){if(!e)return[];if(e.uri.scheme===ft.vscodeNotebookCell){const r=[],s=this.codeEditorService.listCodeEditors();for(const a of s){const l=a.getModel();l&&l!==e&&l.uri.scheme===ft.vscodeNotebookCell&&r.push(l)}return r}const i=[],o=this.codeEditorService.listCodeEditors();for(const r of o){if(!tW(r))continue;const s=r.getModel();s&&e===s.modified&&i.push(s.modified)}if(i.length)return i;if(this.occurrencesHighlight==="singleFile")return[];for(const r of o){const s=r.getModel();s&&s!==e&&i.push(s)}return i}_run(){var e;let t;if(this.editor.hasTextFocus()){const o=this.editor.getSelection();if(!o||o.startLineNumber!==o.endLineNumber){Gn.query=null,this._stopAll();return}const r=o.startColumn,s=o.endColumn,a=this._getWord();if(!a||a.startColumn>r||a.endColumn<s){Gn.query=null,this._stopAll();return}t=this.workerRequest&&this.workerRequest.isValid(this.model,o,this.decorations),Gn.query={modelInfo:{model:this.model,selection:o},word:a}}else if(!Gn.query)return;if(this.lastCursorPositionChangeTime=new Date().getTime(),t)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const o=++this.workerRequestTokenId;this.workerRequestCompleted=!1;const r=this.getOtherModelsToHighlight(this.editor.getModel());if(!Gn.query.modelInfo||Gn.query.modelInfo.model.isDisposed())return;this.workerRequest=this.computeWithModel(Gn.query.modelInfo.model,Gn.query.modelInfo.selection,Gn.query.word,r),(e=this.workerRequest)===null||e===void 0||e.result.then(s=>{o===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=s||[],this._beginRenderDecorations())},st)}}computeWithModel(e,t,i,o){return o.length?k6e(this.multiDocumentProviders,e,t,i,this.editor.getOption(130),o):x6e(this.providers,e,t,i,this.editor.getOption(130))}_beginRenderDecorations(){const e=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){var e,t,i;this.renderDecorationsTimer=-1;const o=this.codeEditorService.listCodeEditors();for(const r of o){const s=vh.get(r);if(!s)continue;const a=[],l=(e=r.getModel())===null||e===void 0?void 0:e.uri;if(l&&this.workerRequestValue.has(l)){const c=Gn.storedDecorations.get(l),d=this.workerRequestValue.get(l);if(d)for(const h of d)h.range&&a.push({range:h.range,options:F9e(h.kind)});let u=[];r.changeDecorations(h=>{u=h.deltaDecorations(c??[],a)}),Gn.storedDecorations=Gn.storedDecorations.set(l,u),a.length>0&&((t=s.wordHighlighter)===null||t===void 0||t.decorations.set(a),(i=s.wordHighlighter)===null||i===void 0||i._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}};iS.storedDecorations=new Cn;iS.query=null;iS=Gn=Vre([nD(4,qt)],iS);let vh=XB=class extends z{static get(e){return e.getContribution(XB.ID)}constructor(e,t,i,o){super(),this._wordHighlighter=null;const r=()=>{e.hasModel()&&!e.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new iS(e,i.documentHighlightProvider,i.multiDocumentHighlightProvider,t,o))};this._register(e.onDidChangeModel(s=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),r()})),r()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){var e;(e=this._wordHighlighter)===null||e===void 0||e.moveNext()}moveBack(){var e;(e=this._wordHighlighter)===null||e===void 0||e.moveBack()}restoreViewState(e){this._wordHighlighter&&e&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};vh.ID="editor.contrib.wordHighlighter";vh=XB=Vre([nD(1,Xe),nD(2,Re),nD(3,qt)],vh);class Ure extends Le{constructor(e,t){super(t),this._isNext=e}run(e,t){const i=vh.get(t);i&&(this._isNext?i.moveNext():i.moveBack())}}class L6e extends Ure{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:m("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:GN,kbOpts:{kbExpr:I.editorTextFocus,primary:65,weight:100}})}}class D6e extends Ure{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:m("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:GN,kbOpts:{kbExpr:I.editorTextFocus,primary:1089,weight:100}})}}class E6e extends Le{constructor(){super({id:"editor.action.wordHighlight.trigger",label:m("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:GN.toNegated(),kbOpts:{kbExpr:I.editorTextFocus,primary:0,weight:100}})}run(e,t,i){const o=vh.get(t);o&&o.restoreViewState(!0)}}Gt(vh.ID,vh,0);de(L6e);de(D6e);de(E6e);class ZN extends _o{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const o=Fa(t.getOption(130)),r=t.getModel(),a=t.getSelections().map(l=>{const c=new W(l.positionLineNumber,l.positionColumn),d=this._move(o,r,c,this._wordNavigationType);return this._moveTo(l,d,this._inSelectionMode)});if(r.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,a.map(l=>zt.fromModelSelection(l))),a.length===1){const l=new W(a[0].positionLineNumber,a[0].positionColumn);t.revealPosition(l,0)}}_moveTo(e,t,i){return i?new Pe(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new Pe(t.lineNumber,t.column,t.lineNumber,t.column)}}class jf extends ZN{_move(e,t,i,o){return ti.moveWordLeft(e,t,i,o)}}class Kf extends ZN{_move(e,t,i,o){return ti.moveWordRight(e,t,i,o)}}class T6e extends jf{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class I6e extends jf{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class N6e extends jf{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:ee.and(I.textInputFocus,(e=ee.and(DS,FI))===null||e===void 0?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}class R6e extends jf{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class M6e extends jf{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class A6e extends jf{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:ee.and(I.textInputFocus,(e=ee.and(DS,FI))===null||e===void 0?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class P6e extends jf{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,o){return super._move(Fa(Tc.wordSeparators.defaultValue),t,i,o)}}class O6e extends jf{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,o){return super._move(Fa(Tc.wordSeparators.defaultValue),t,i,o)}}class F6e extends Kf{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class B6e extends Kf{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:ee.and(I.textInputFocus,(e=ee.and(DS,FI))===null||e===void 0?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}class W6e extends Kf{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class V6e extends Kf{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class H6e extends Kf{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:ee.and(I.textInputFocus,(e=ee.and(DS,FI))===null||e===void 0?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class z6e extends Kf{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class U6e extends Kf{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,o){return super._move(Fa(Tc.wordSeparators.defaultValue),t,i,o)}}class $6e extends Kf{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,o){return super._move(Fa(Tc.wordSeparators.defaultValue),t,i,o)}}class YN extends _o{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){const o=e.get(Di);if(!t.hasModel())return;const r=Fa(t.getOption(130)),s=t.getModel(),a=t.getSelections(),l=t.getOption(6),c=t.getOption(11),d=o.getLanguageConfiguration(s.getLanguageId()).getAutoClosingPairs(),u=t._getViewModel(),h=a.map(g=>{const f=this._delete({wordSeparators:r,model:s,selection:g,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(9),autoClosingBrackets:l,autoClosingQuotes:c,autoClosingPairs:d,autoClosedCharacters:u.getCursorAutoClosedCharacters()},this._wordNavigationType);return new Ao(f,"")});t.pushUndoStop(),t.executeCommands(this.id,h),t.pushUndoStop()}}class GW extends YN{_delete(e,t){const i=ti.deleteWordLeft(e,t);return i||new D(1,1,1,1)}}class ZW extends YN{_delete(e,t){const i=ti.deleteWordRight(e,t);if(i)return i;const o=e.model.getLineCount(),r=e.model.getLineMaxColumn(o);return new D(o,r,o,r)}}class j6e extends GW{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:I.writable})}}class K6e extends GW{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:I.writable})}}class q6e extends GW{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:I.writable,kbOpts:{kbExpr:I.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class G6e extends ZW{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:I.writable})}}class Z6e extends ZW{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:I.writable})}}class Y6e extends ZW{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:I.writable,kbOpts:{kbExpr:I.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class X6e extends Le{constructor(){super({id:"deleteInsideWord",precondition:I.writable,label:m("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(!t.hasModel())return;const o=Fa(t.getOption(130)),r=t.getModel(),a=t.getSelections().map(l=>{const c=ti.deleteInsideWord(o,r,l);return new Ao(c,"")});t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}}ve(new T6e);ve(new I6e);ve(new N6e);ve(new R6e);ve(new M6e);ve(new A6e);ve(new F6e);ve(new B6e);ve(new W6e);ve(new V6e);ve(new H6e);ve(new z6e);ve(new P6e);ve(new O6e);ve(new U6e);ve(new $6e);ve(new j6e);ve(new K6e);ve(new q6e);ve(new G6e);ve(new Z6e);ve(new Y6e);de(X6e);class Q6e extends YN{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:I.writable,kbOpts:{kbExpr:I.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){const i=pI.deleteWordPartLeft(e);return i||new D(1,1,1,1)}}class J6e extends YN{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:I.writable,kbOpts:{kbExpr:I.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){const i=pI.deleteWordPartRight(e);if(i)return i;const o=e.model.getLineCount(),r=e.model.getLineMaxColumn(o);return new D(o,r,o,r)}}class $re extends ZN{_move(e,t,i,o){return pI.moveWordPartLeft(e,t,i)}}class e7e extends $re{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:I.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}Pt.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class t7e extends $re{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:I.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}Pt.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class jre extends ZN{_move(e,t,i,o){return pI.moveWordPartRight(e,t,i)}}class i7e extends jre{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:I.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class n7e extends jre{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:I.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}ve(new Q6e);ve(new J6e);ve(new e7e);ve(new t7e);ve(new i7e);ve(new n7e);class QB extends z{constructor(e){super(),this.editor=e,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const e=Or.get(this.editor);if(e&&this.editor.hasModel()){let t=this.editor.getOptions().get(92);t||(this.editor.isSimpleWidget?t=new Go(m("editor.simple.readonly","Cannot edit in read-only input")):t=new Go(m("editor.readonly","Cannot edit in read-only editor"))),e.showMessage(t,this.editor.getPosition())}}}QB.ID="editor.contrib.readOnlyMessageController";Gt(QB.ID,QB,2);var o7e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},oG=function(n,e){return function(t,i){e(t,i,n)}};let JB=class extends z{constructor(e,t,i){super(),this._textModel=e,this._languageFeaturesService=t,this._outlineModelService=i,this._currentModel=$t(this,void 0);const o=Er("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),r=Er("_textModel.onDidChangeContent",me.debounce(s=>this._textModel.onDidChangeContent(s),()=>{},100));this._register(Pc(async(s,a)=>{o.read(s),r.read(s);const l=a.add(new oRe),c=await this._outlineModelService.getOrCreate(this._textModel,l.token);a.isDisposed||this._currentModel.set(c,void 0)}))}getBreadcrumbItems(e,t){const i=this._currentModel.read(t);if(!i)return[];const o=i.asListOfDocumentSymbols().filter(r=>e.contains(r.range.startLineNumber)&&!e.contains(r.range.endLineNumber));return o.sort(XX(Na(r=>r.range.endLineNumber-r.range.startLineNumber,ju))),o.map(r=>({name:r.name,kind:r.kind,startLineNumber:r.range.startLineNumber}))}};JB=o7e([oG(1,Re),oG(2,nx)],JB);Dw.setBreadcrumbsSourceFactory((n,e)=>e.createInstance(JB,n));class e9 extends z{constructor(e){super(),this.editor=e,this.widget=null,bc&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const e=!this.editor.getOption(91);!this.widget&&e?this.widget=new XN(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e9.ID="editor.contrib.iPadShowKeyboard";class XN extends z{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(j(this._domNode,"touchstart",t=>{this.editor.focus()})),this._register(j(this._domNode,"focus",t=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return XN.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}XN.ID="editor.contrib.ShowKeyboardWidget";Gt(e9.ID,e9,3);var r7e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},rG=function(n,e){return function(t,i){e(t,i,n)}},t9;let c0=t9=class extends z{static get(e){return e.getContribution(t9.ID)}constructor(e,t,i){super(),this._editor=e,this._languageService=i,this._widget=null,this._register(this._editor.onDidChangeModel(o=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(o=>this.stop())),this._register(rn.onDidChange(o=>this.stop())),this._register(this._editor.onKeyUp(o=>o.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new QN(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};c0.ID="editor.contrib.inspectTokens";c0=t9=r7e([rG(1,ma),rG(2,Bi)],c0);class s7e extends Le{constructor(){super({id:"editor.action.inspectTokens",label:l3.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){const i=c0.get(t);i==null||i.launch()}}function a7e(n){let e="";for(let t=0,i=n.length;t<i;t++){const o=n.charCodeAt(t);switch(o){case 9:e+="";break;case 32:e+="";break;default:e+=String.fromCharCode(o)}}return e}function l7e(n,e){const t=rn.get(e);if(t)return t;const i=n.encodeLanguageId(e);return{getInitialState:()=>N_,tokenize:(o,r,s)=>b6(e,s),tokenizeEncoded:(o,r,s)=>aI(i,s)}}class QN extends z{constructor(e,t){super(),this.allowEditorOverflow=!0,this._editor=e,this._languageService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=l7e(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(i=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return QN._ID}_compute(e){const t=this._getTokensAtLine(e.lineNumber);let i=0;for(let l=t.tokens1.length-1;l>=0;l--){const c=t.tokens1[l];if(e.column-1>=c.offset){i=l;break}}let o=0;for(let l=t.tokens2.length>>>1;l>=0;l--)if(e.column-1>=t.tokens2[l<<1]){o=l;break}const r=this._model.getLineContent(e.lineNumber);let s="";if(i<t.tokens1.length){const l=t.tokens1[i].offset,c=i+1<t.tokens1.length?t.tokens1[i+1].offset:r.length;s=r.substring(l,c)}Ho(this._domNode,ue("h2.tm-token",void 0,a7e(s),ue("span.tm-token-length",void 0,`${s.length} ${s.length===1?"char":"chars"}`))),ie(this._domNode,ue("hr.tokens-inspect-separator",{style:"clear:both"}));const a=(o<<1)+1<t.tokens2.length?this._decodeMetadata(t.tokens2[(o<<1)+1]):null;ie(this._domNode,ue("table.tm-metadata-table",void 0,ue("tbody",void 0,ue("tr",void 0,ue("td.tm-metadata-key",void 0,"language"),ue("td.tm-metadata-value",void 0,`${a?a.languageId:"-?-"}`)),ue("tr",void 0,ue("td.tm-metadata-key",void 0,"token type"),ue("td.tm-metadata-value",void 0,`${a?this._tokenTypeToString(a.tokenType):"-?-"}`)),ue("tr",void 0,ue("td.tm-metadata-key",void 0,"font style"),ue("td.tm-metadata-value",void 0,`${a?this._fontStyleToString(a.fontStyle):"-?-"}`)),ue("tr",void 0,ue("td.tm-metadata-key",void 0,"foreground"),ue("td.tm-metadata-value",void 0,`${a?U.Format.CSS.formatHex(a.foreground):"-?-"}`)),ue("tr",void 0,ue("td.tm-metadata-key",void 0,"background"),ue("td.tm-metadata-value",void 0,`${a?U.Format.CSS.formatHex(a.background):"-?-"}`))))),ie(this._domNode,ue("hr.tokens-inspect-separator")),i<t.tokens1.length&&ie(this._domNode,ue("span.tm-token-type",void 0,t.tokens1[i].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){const t=rn.getColorMap(),i=Bo.getLanguageId(e),o=Bo.getTokenType(e),r=Bo.getFontStyle(e),s=Bo.getForeground(e),a=Bo.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(i),tokenType:o,fontStyle:r,foreground:t[s],background:t[a]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return e&1&&(t+="italic "),e&2&&(t+="bold "),e&4&&(t+="underline "),e&8&&(t+="strikethrough "),t.length===0&&(t="---"),t}_getTokensAtLine(e){const t=this._getStateBeforeLine(e),i=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t),o=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,t);return{startState:t,tokens1:i.tokens,tokens2:o.tokens,endState:i.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let i=1;i<e;i++)t=this._tokenizationSupport.tokenize(this._model.getLineContent(i),!0,t).endState;return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}QN._ID="editor.contrib.inspectTokensWidget";Gt(c0.ID,c0,4);de(s7e);var c7e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},sG=function(n,e){return function(t,i){e(t,i,n)}},aC;let HE=aC=class{constructor(e,t){this.quickInputService=e,this.keybindingService=t,this.registry=nn.as(ev.Quickaccess)}provide(e){const t=new oe;return t.add(e.onDidAccept(()=>{const[i]=e.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(i=>{const o=this.registry.getQuickAccessProvider(i.substr(aC.PREFIX.length));o&&o.prefix&&o.prefix!==aC.PREFIX&&this.quickInputService.quickAccess.show(o.prefix,{preserveValue:!0})})),e.items=this.getQuickAccessProviders().filter(i=>i.prefix!==aC.PREFIX),t}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((t,i)=>t.prefix.localeCompare(i.prefix)).flatMap(t=>this.createPicks(t))}createPicks(e){return e.helpEntries.map(t=>{const i=t.prefix||e.prefix,o=i||"";return{prefix:i,label:o,keybinding:t.commandId?this.keybindingService.lookupKeybinding(t.commandId):void 0,ariaLabel:m("helpPickAriaLabel","{0}, {1}",o,t.description),description:t.description}})}};HE.PREFIX="?";HE=aC=c7e([sG(0,Ac),sG(1,di)],HE);nn.as(ev.Quickaccess).registerQuickAccessProvider({ctor:HE,prefix:"",helpEntries:[{description:c3.helpQuickAccessActionLabel}]});class Kre{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var i;const o=new oe;e.canAcceptInBackground=!!(!((i=this.options)===null||i===void 0)&&i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const r=o.add(new bo);return r.value=this.doProvide(e,t),o.add(this.onDidActiveTextEditorControlChange(()=>{r.value=void 0,r.value=this.doProvide(e,t)})),o}doProvide(e,t){var i;const o=new oe,r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){const s={editor:r},a=Gie(r);if(a){let l=(i=r.saveViewState())!==null&&i!==void 0?i:void 0;o.add(a.onDidChangeCursorPosition(()=>{var c;l=(c=r.saveViewState())!==null&&c!==void 0?c:void 0})),s.restoreViewState=()=>{l&&r===this.activeTextEditorControl&&r.restoreViewState(l)},o.add(Qg(t.onCancellationRequested)(()=>{var c;return(c=s.restoreViewState)===null||c===void 0?void 0:c.call(s)}))}o.add(je(()=>this.clearDecorations(r))),o.add(this.provideWithTextEditor(s,e,t))}else o.add(this.provideWithoutTextEditor(e,t));return o}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus();const i=e.getModel();i&&"getLineContent"in i&&Pd(`${i.getLineContent(t.range.startLineNumber)}`)}getModel(e){var t;return tW(e)?(t=e.getModel())===null||t===void 0?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(i=>{const o=[];this.rangeHighlightDecorationId&&(o.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),o.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const r=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:sn(pee),position:la.Full}}}],[s,a]=i.deltaDecorations(o,r);this.rangeHighlightDecorationId={rangeHighlightId:s,overviewRulerDecorationId:a}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(i=>{i.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}class JN extends Kre{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=m("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,z.None}provideWithTextEditor(e,t,i){const o=e.editor,r=new oe;r.add(t.onDidAccept(l=>{const[c]=t.selectedItems;if(c){if(!this.isValidLineNumber(o,c.lineNumber))return;this.gotoLocation(e,{range:this.toRange(c.lineNumber,c.column),keyMods:t.keyMods,preserveFocus:l.inBackground}),l.inBackground||t.hide()}}));const s=()=>{const l=this.parsePosition(o,t.value.trim().substr(JN.PREFIX.length)),c=this.getPickLabel(o,l.lineNumber,l.column);if(t.items=[{lineNumber:l.lineNumber,column:l.column,label:c}],t.ariaLabel=c,!this.isValidLineNumber(o,l.lineNumber)){this.clearDecorations(o);return}const d=this.toRange(l.lineNumber,l.column);o.revealRangeInCenter(d,0),this.addDecorations(o,d)};s(),r.add(t.onDidChangeValue(()=>s()));const a=Gie(o);return a&&a.getOptions().get(68).renderType===2&&(a.updateOptions({lineNumbers:"on"}),r.add(je(()=>a.updateOptions({lineNumbers:"relative"})))),r}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const i=t.split(/,|:|#/).map(r=>parseInt(r,10)).filter(r=>!isNaN(r)),o=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:o+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?m("gotoLineColumnLabel","Go to line {0} and character {1}.",t,i):m("gotoLineLabel","Go to line {0}.",t);const o=e.getPosition()||{lineNumber:1,column:1},r=this.lineCount(e);return r>1?m("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",o.lineNumber,o.column,r):m("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",o.lineNumber,o.column)}isValidLineNumber(e,t){return!t||typeof t!="number"?!1:t>0&&t<=this.lineCount(e)}isValidColumn(e,t,i){if(!i||typeof i!="number")return!1;const o=this.getModel(e);if(!o)return!1;const r={lineNumber:t,column:i};return o.validatePosition(r).equals(r)}lineCount(e){var t,i;return(i=(t=this.getModel(e))===null||t===void 0?void 0:t.getLineCount())!==null&&i!==void 0?i:0}}JN.PREFIX=":";var d7e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},u7e=function(n,e){return function(t,i){e(t,i,n)}};let nS=class extends JN{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=me.None}get activeTextEditorControl(){var e;return(e=this.editorService.getFocusedCodeEditor())!==null&&e!==void 0?e:void 0}};nS=d7e([u7e(0,qt)],nS);let YW=class qre extends Le{constructor(){super({id:qre.ID,label:F2.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:I.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(Ac).quickAccess.show(nS.PREFIX)}};YW.ID="editor.action.gotoLine";de(YW);nn.as(ev.Quickaccess).registerQuickAccessProvider({ctor:nS,prefix:nS.PREFIX,helpEntries:[{description:F2.gotoLineActionLabel,commandId:YW.ID}]});const Gre=[void 0,[]];function BA(n,e,t=0,i=0){const o=e;return o.values&&o.values.length>1?h7e(n,o.values,t,i):Zre(n,e,t,i)}function h7e(n,e,t,i){let o=0;const r=[];for(const s of e){const[a,l]=Zre(n,s,t,i);if(typeof a!="number")return Gre;o+=a,r.push(...l)}return[o,g7e(r)]}function Zre(n,e,t,i){const o=_m(e.original,e.originalLowercase,t,n,n.toLowerCase(),i,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return o?[o[0],FS(o)]:Gre}function g7e(n){const e=n.sort((o,r)=>o.start-r.start),t=[];let i;for(const o of e)!i||!f7e(i,o)?(i=o,t.push(o)):(i.start=Math.min(i.start,o.start),i.end=Math.max(i.end,o.end));return t}function f7e(n,e){return!(n.end<e.start||e.end<n.start)}function aG(n){return n.startsWith('"')&&n.endsWith('"')}const Yre=" ";function i9(n){typeof n!="string"&&(n="");const e=n.toLowerCase(),{pathNormalized:t,normalized:i,normalizedLowercase:o}=lG(n),r=t.indexOf(uc)>=0,s=aG(n);let a;const l=n.split(Yre);if(l.length>1)for(const c of l){const d=aG(c),{pathNormalized:u,normalized:h,normalizedLowercase:g}=lG(c);h&&(a||(a=[]),a.push({original:c,originalLowercase:c.toLowerCase(),pathNormalized:u,normalized:h,normalizedLowercase:g,expectContiguousMatch:d}))}return{original:n,originalLowercase:e,pathNormalized:t,normalized:i,normalizedLowercase:o,values:a,containsPathSeparator:r,expectContiguousMatch:s}}function lG(n){let e;Qo?e=n.replace(/\//g,uc):e=n.replace(/\\/g,uc);const t=Zme(e).replace(/\s|"/g,"");return{pathNormalized:e,normalized:t,normalizedLowercase:t.toLowerCase()}}function cG(n){return Array.isArray(n)?i9(n.map(e=>e.original).join(Yre)):i9(n.original)}var p7e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},dG=function(n,e){return function(t,i){e(t,i,n)}},a_;let Id=a_=class extends Kre{constructor(e,t,i=Object.create(null)){super(i),this._languageFeaturesService=e,this._outlineModelService=t,this.options=i,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,m("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),z.None}provideWithTextEditor(e,t,i){const o=e.editor,r=this.getModel(o);return r?this._languageFeaturesService.documentSymbolProvider.has(r)?this.doProvideWithEditorSymbols(e,r,t,i):this.doProvideWithoutEditorSymbols(e,r,t,i):z.None}doProvideWithoutEditorSymbols(e,t,i,o){const r=new oe;return this.provideLabelPick(i,m("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(async()=>!await this.waitForLanguageSymbolRegistry(t,r)||o.isCancellationRequested||r.add(this.doProvideWithEditorSymbols(e,t,i,o)))(),r}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}async waitForLanguageSymbolRegistry(e,t){if(this._languageFeaturesService.documentSymbolProvider.has(e))return!0;const i=new BT,o=t.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(e)&&(o.dispose(),i.complete(!0))}));return t.add(je(()=>i.complete(!1))),i.p}doProvideWithEditorSymbols(e,t,i,o){var r;const s=e.editor,a=new oe;a.add(i.onDidAccept(u=>{const[h]=i.selectedItems;h&&h.range&&(this.gotoLocation(e,{range:h.range.selection,keyMods:i.keyMods,preserveFocus:u.inBackground}),u.inBackground||i.hide())})),a.add(i.onDidTriggerItemButton(({item:u})=>{u&&u.range&&(this.gotoLocation(e,{range:u.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())}));const l=this.getDocumentSymbols(t,o);let c;const d=async u=>{c==null||c.dispose(!0),i.busy=!1,c=new gn(o),i.busy=!0;try{const h=i9(i.value.substr(a_.PREFIX.length).trim()),g=await this.doGetSymbolPicks(l,h,void 0,c.token);if(o.isCancellationRequested)return;if(g.length>0){if(i.items=g,u&&h.original.length===0){const f=Fy(g,p=>!!(p.type!=="separator"&&p.range&&D.containsPosition(p.range.decoration,u)));f&&(i.activeItems=[f])}}else h.original.length>0?this.provideLabelPick(i,m("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(i,m("noSymbolResults","No editor symbols"))}finally{o.isCancellationRequested||(i.busy=!1)}};return a.add(i.onDidChangeValue(()=>d(void 0))),d((r=s.getSelection())===null||r===void 0?void 0:r.getPosition()),a.add(i.onDidChangeActive(()=>{const[u]=i.activeItems;u&&u.range&&(s.revealRangeInCenter(u.range.selection,0),this.addDecorations(s,u.range.decoration))})),a}async doGetSymbolPicks(e,t,i,o){var r,s;const a=await e;if(o.isCancellationRequested)return[];const l=t.original.indexOf(a_.SCOPE_PREFIX)===0,c=l?1:0;let d,u;t.values&&t.values.length>1?(d=cG(t.values[0]),u=cG(t.values.slice(1))):d=t;let h;const g=(s=(r=this.options)===null||r===void 0?void 0:r.openSideBySideDirection)===null||s===void 0?void 0:s.call(r);g&&(h=[{iconClass:g==="right"?Ze.asClassName(pe.splitHorizontal):Ze.asClassName(pe.splitVertical),tooltip:g==="right"?m("openToSide","Open to the Side"):m("openToBottom","Open to the Bottom")}]);const f=[];for(let v=0;v<a.length;v++){const _=a[v],C=qme(_.name),y=`$(${jD.toIcon(_.kind).id}) ${C}`,w=y.length-C.length;let S=_.containerName;i!=null&&i.extraContainerLabel&&(S?S=`${i.extraContainerLabel}  ${S}`:S=i.extraContainerLabel);let x,L,E,O;if(t.original.length>c){let A=!1;if(d!==t&&([x,L]=BA(y,{...t,values:void 0},c,w),typeof x=="number"&&(A=!0)),typeof x!="number"&&([x,L]=BA(y,d,c,w),typeof x!="number"))continue;if(!A&&u){if(S&&u.original.length>0&&([E,O]=BA(S,u)),typeof E!="number")continue;typeof x=="number"&&(x+=E)}}const P=_.tags&&_.tags.indexOf(1)>=0;f.push({index:v,kind:_.kind,score:x,label:y,ariaLabel:Vme(_.name,_.kind),description:S,highlights:P?void 0:{label:L,description:O},range:{selection:D.collapseToStart(_.selectionRange),decoration:_.range},strikethrough:P,buttons:h})}const p=f.sort((v,_)=>l?this.compareByKindAndScore(v,_):this.compareByScore(v,_));let b=[];if(l){let y=function(){_&&typeof v=="number"&&C>0&&(_.label=um(VA[v]||WA,C))},v,_,C=0;for(const w of p)v!==w.kind?(y(),v=w.kind,C=1,_={type:"separator"},b.push(_)):C++,b.push(w);y()}else p.length>0&&(b=[{label:m("symbols","symbols ({0})",f.length),type:"separator"},...p]);return b}compareByScore(e,t){if(typeof e.score!="number"&&typeof t.score=="number")return 1;if(typeof e.score=="number"&&typeof t.score!="number")return-1;if(typeof e.score=="number"&&typeof t.score=="number"){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const i=VA[e.kind]||WA,o=VA[t.kind]||WA,r=i.localeCompare(o);return r===0?this.compareByScore(e,t):r}async getDocumentSymbols(e,t){const i=await this._outlineModelService.getOrCreate(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()}};Id.PREFIX="@";Id.SCOPE_PREFIX=":";Id.PREFIX_BY_CATEGORY=`${a_.PREFIX}${a_.SCOPE_PREFIX}`;Id=a_=p7e([dG(0,Re),dG(1,nx)],Id);const WA=m("property","properties ({0})"),VA={5:m("method","methods ({0})"),11:m("function","functions ({0})"),8:m("_constructor","constructors ({0})"),12:m("variable","variables ({0})"),4:m("class","classes ({0})"),22:m("struct","structs ({0})"),23:m("event","events ({0})"),24:m("operator","operators ({0})"),10:m("interface","interfaces ({0})"),2:m("namespace","namespaces ({0})"),3:m("package","packages ({0})"),25:m("typeParameter","type parameters ({0})"),1:m("modules","modules ({0})"),6:m("property","properties ({0})"),9:m("enum","enumerations ({0})"),21:m("enumMember","enumeration members ({0})"),14:m("string","strings ({0})"),0:m("file","files ({0})"),17:m("array","arrays ({0})"),15:m("number","numbers ({0})"),16:m("boolean","booleans ({0})"),18:m("object","objects ({0})"),19:m("key","keys ({0})"),7:m("field","fields ({0})"),13:m("constant","constants ({0})")};var m7e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},HA=function(n,e){return function(t,i){e(t,i,n)}};let n9=class extends Id{constructor(e,t,i){super(t,i),this.editorService=e,this.onDidActiveTextEditorControlChange=me.None}get activeTextEditorControl(){var e;return(e=this.editorService.getFocusedCodeEditor())!==null&&e!==void 0?e:void 0}};n9=m7e([HA(0,qt),HA(1,Re),HA(2,nx)],n9);class sx extends Le{constructor(){super({id:sx.ID,label:dw.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:I.hasDocumentSymbolProvider,kbOpts:{kbExpr:I.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(Ac).quickAccess.show(Id.PREFIX,{itemActivation:Ul.NONE})}}sx.ID="editor.action.quickOutline";de(sx);nn.as(ev.Quickaccess).registerQuickAccessProvider({ctor:n9,prefix:Id.PREFIX,helpEntries:[{description:dw.quickOutlineActionLabel,prefix:Id.PREFIX,commandId:sx.ID},{description:dw.quickOutlineByCategoryActionLabel,prefix:Id.PREFIX_BY_CATEGORY}]});function zA(n,e){return e&&(n.stack||n.stacktrace)?m("stackTrace.format","{0}: {1}",hG(n),uG(n.stack)||uG(n.stacktrace)):hG(n)}function uG(n){return Array.isArray(n)?n.join(`
`):n}function hG(n){return n.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${n.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof n.code=="string"&&typeof n.errno=="number"&&typeof n.syscall=="string"?m("nodeExceptionMessage","A system error occurred ({0})",n.message):n.message||m("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function Xre(n=null,e=!1){if(!n)return m("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(n)){const t=vc(n),i=Xre(t[0],e);return t.length>1?m("error.moreErrors","{0} ({1} errors in total)",i,t.length):i}if(Pr(n))return n;if(n.detail){const t=n.detail;if(t.error)return zA(t.error,e);if(t.exception)return zA(t.exception,e)}return n.stack?zA(n,e):n.message?n.message:m("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function v7e(n){var e;const t=new Map;for(const i of n)t.set(i,((e=t.get(i))!==null&&e!==void 0?e:0)+1);return t}class JC{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(e,t){const i=this.computeEmbedding(e),o=new Map,r=[];for(const[s,a]of this.documents){if(t.isCancellationRequested)return[];for(const l of a.chunks){const c=this.computeSimilarityScore(l,i,o);c>0&&r.push({key:s,score:c})}}return r}static termFrequencies(e){return v7e(JC.splitTerms(e))}static*splitTerms(e){const t=i=>i.toLowerCase();for(const[i]of e.matchAll(new RegExp("\\b\\p{Letter}[\\p{Letter}\\d]{2,}\\b","gu"))){yield t(i);const o=i.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(o.length>1)for(const r of o)r.length>2&&new RegExp("\\p{Letter}{3,}","gu").test(r)&&(yield t(r))}}updateDocuments(e){var t;for(const{key:i}of e)this.deleteDocument(i);for(const i of e){const o=[];for(const r of i.textChunks){const s=JC.termFrequencies(r);for(const a of s.keys())this.chunkOccurrences.set(a,((t=this.chunkOccurrences.get(a))!==null&&t!==void 0?t:0)+1);o.push({text:r,tf:s})}this.chunkCount+=o.length,this.documents.set(i.key,{chunks:o})}return this}deleteDocument(e){const t=this.documents.get(e);if(t){this.documents.delete(e),this.chunkCount-=t.chunks.length;for(const i of t.chunks)for(const o of i.tf.keys()){const r=this.chunkOccurrences.get(o);if(typeof r=="number"){const s=r-1;s<=0?this.chunkOccurrences.delete(o):this.chunkOccurrences.set(o,s)}}}}computeSimilarityScore(e,t,i){let o=0;for(const[r,s]of Object.entries(t)){const a=e.tf.get(r);if(!a)continue;let l=i.get(r);typeof l!="number"&&(l=this.computeIdf(r),i.set(r,l));const c=a*l;o+=c*s}return o}computeEmbedding(e){const t=JC.termFrequencies(e);return this.computeTfidf(t)}computeIdf(e){var t;const i=(t=this.chunkOccurrences.get(e))!==null&&t!==void 0?t:0;return i>0?Math.log((this.chunkCount+1)/i):0}computeTfidf(e){const t=Object.create(null);for(const[i,o]of e){const r=this.computeIdf(i);r>0&&(t[i]=o*r)}return t}}function b7e(n){var e,t;const i=n.slice(0);i.sort((r,s)=>s.score-r.score);const o=(t=(e=i[0])===null||e===void 0?void 0:e.score)!==null&&t!==void 0?t:0;if(o>0)for(const r of i)r.score/=o;return i}var Lb;(function(n){n[n.NO_ACTION=0]="NO_ACTION",n[n.CLOSE_PICKER=1]="CLOSE_PICKER",n[n.REFRESH_PICKER=2]="REFRESH_PICKER",n[n.REMOVE_ITEM=3]="REMOVE_ITEM"})(Lb||(Lb={}));function UA(n){const e=n;return Array.isArray(e.items)}function gG(n){const e=n;return!!e.picks&&e.additionalPicks instanceof Promise}class _7e extends z{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t,i){var o;const r=new oe;e.canAcceptInBackground=!!(!((o=this.options)===null||o===void 0)&&o.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;let s;const a=r.add(new bo),l=async()=>{var c;const d=a.value=new oe;s==null||s.dispose(!0),e.busy=!1,s=new gn(t);const u=s.token;let h=e.value.substring(this.prefix.length);!((c=this.options)===null||c===void 0)&&c.shouldSkipTrimPickFilter||(h=h.trim());const g=this._getPicks(h,d,u,i),f=(b,v)=>{var _;let C,y;if(UA(b)?(C=b.items,y=b.active):C=b,C.length===0){if(v)return!1;(h.length>0||e.hideInput)&&(!((_=this.options)===null||_===void 0)&&_.noResultsPick)&&(ky(this.options.noResultsPick)?C=[this.options.noResultsPick(h)]:C=[this.options.noResultsPick])}return e.items=C,y&&(e.activeItems=[y]),!0},p=async b=>{let v=!1,_=!1;await Promise.all([(async()=>{typeof b.mergeDelay=="number"&&(await tf(b.mergeDelay),u.isCancellationRequested)||_||(v=f(b.picks,!0))})(),(async()=>{e.busy=!0;try{const C=await b.additionalPicks;if(u.isCancellationRequested)return;let y,w;UA(b.picks)?(y=b.picks.items,w=b.picks.active):y=b.picks;let S,x;if(UA(C)?(S=C.items,x=C.active):S=C,S.length>0||!v){let L;if(!w&&!x){const E=e.activeItems[0];E&&y.indexOf(E)!==-1&&(L=E)}f({items:[...y,...S],active:w||x||L})}}finally{u.isCancellationRequested||(e.busy=!1),_=!0}})()])};if(g!==null)if(gG(g))await p(g);else if(!(g instanceof Promise))f(g);else{e.busy=!0;try{const b=await g;if(u.isCancellationRequested)return;gG(b)?await p(b):f(b)}finally{u.isCancellationRequested||(e.busy=!1)}}};return r.add(e.onDidChangeValue(()=>l())),l(),r.add(e.onDidAccept(c=>{const[d]=e.selectedItems;typeof(d==null?void 0:d.accept)=="function"&&(c.inBackground||e.hide(),d.accept(e.keyMods,c))})),r.add(e.onDidTriggerItemButton(async({button:c,item:d})=>{var u,h;if(typeof d.trigger=="function"){const g=(h=(u=d.buttons)===null||u===void 0?void 0:u.indexOf(c))!==null&&h!==void 0?h:-1;if(g>=0){const f=d.trigger(g,e.keyMods),p=typeof f=="number"?f:await f;if(t.isCancellationRequested)return;switch(p){case Lb.NO_ACTION:break;case Lb.CLOSE_PICKER:e.hide();break;case Lb.REFRESH_PICKER:l();break;case Lb.REMOVE_ITEM:{const b=e.items.indexOf(d);if(b!==-1){const v=e.items.slice(),_=v.splice(b,1),C=e.activeItems.filter(w=>w!==_[0]),y=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=v,C&&(e.activeItems=C),e.keepScrollPosition=y}break}}}}})),r}}var Qre=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},xp=function(n,e){return function(t,i){e(t,i,n)}},gp,Hn;let Wm=gp=class extends _7e{constructor(e,t,i,o,r,s){super(gp.PREFIX,e),this.instantiationService=t,this.keybindingService=i,this.commandService=o,this.telemetryService=r,this.dialogService=s,this.commandsHistory=this._register(this.instantiationService.createInstance(Df)),this.options=e}async _getPicks(e,t,i,o){var r,s,a,l;const c=await this.getCommandPicks(i);if(i.isCancellationRequested)return[];const d=Qg(()=>{const v=new JC;v.updateDocuments(c.map(C=>({key:C.commandId,textChunks:[this.getTfIdfChunk(C)]})));const _=v.calculateScores(e,i);return b7e(_).filter(C=>C.score>gp.TFIDF_THRESHOLD).slice(0,gp.TFIDF_MAX_RESULTS)}),u=[];for(const v of c){const _=(r=gp.WORD_FILTER(e,v.label))!==null&&r!==void 0?r:void 0,C=v.commandAlias&&(s=gp.WORD_FILTER(e,v.commandAlias))!==null&&s!==void 0?s:void 0;if(_||C)v.highlights={label:_,detail:this.options.showAlias?C:void 0},u.push(v);else if(e===v.commandId)u.push(v);else if(e.length>=3){const y=d();if(i.isCancellationRequested)return[];const w=y.find(S=>S.key===v.commandId);w&&(v.tfIdfScore=w.score,u.push(v))}}const h=new Map;for(const v of u){const _=h.get(v.label);_?(v.description=v.commandId,_.description=_.commandId):h.set(v.label,v)}u.sort((v,_)=>{if(v.tfIdfScore&&_.tfIdfScore)return v.tfIdfScore===_.tfIdfScore?v.label.localeCompare(_.label):_.tfIdfScore-v.tfIdfScore;if(v.tfIdfScore)return 1;if(_.tfIdfScore)return-1;const C=this.commandsHistory.peek(v.commandId),y=this.commandsHistory.peek(_.commandId);if(C&&y)return C>y?-1:1;if(C)return-1;if(y)return 1;if(this.options.suggestedCommandIds){const w=this.options.suggestedCommandIds.has(v.commandId),S=this.options.suggestedCommandIds.has(_.commandId);if(w&&S)return 0;if(w)return-1;if(S)return 1}return v.label.localeCompare(_.label)});const g=[];let f=!1,p=!0,b=!!this.options.suggestedCommandIds;for(let v=0;v<u.length;v++){const _=u[v];v===0&&this.commandsHistory.peek(_.commandId)&&(g.push({type:"separator",label:m("recentlyUsed","recently used")}),f=!0),p&&_.tfIdfScore!==void 0&&(g.push({type:"separator",label:m("suggested","similar commands")}),p=!1),b&&_.tfIdfScore===void 0&&!this.commandsHistory.peek(_.commandId)&&(!((a=this.options.suggestedCommandIds)===null||a===void 0)&&a.has(_.commandId))&&(g.push({type:"separator",label:m("commonlyUsed","commonly used")}),f=!0,b=!1),f&&_.tfIdfScore===void 0&&!this.commandsHistory.peek(_.commandId)&&!(!((l=this.options.suggestedCommandIds)===null||l===void 0)&&l.has(_.commandId))&&(g.push({type:"separator",label:m("morecCommands","other commands")}),f=!1),g.push(this.toCommandPick(_,o))}return this.hasAdditionalCommandPicks(e,i)?{picks:g,additionalPicks:(async()=>{var v;const _=await this.getAdditionalCommandPicks(c,u,e,i);if(i.isCancellationRequested)return[];const C=_.map(y=>this.toCommandPick(y,o));return p&&((v=C[0])===null||v===void 0?void 0:v.type)!=="separator"&&C.unshift({type:"separator",label:m("suggested","similar commands")}),C})()}:g}toCommandPick(e,t){if(e.type==="separator")return e;const i=this.keybindingService.lookupKeybinding(e.commandId),o=i?m("commandPickAriaLabelWithKeybinding","{0}, {1}",e.label,i.getAriaLabel()):e.label;return{...e,ariaLabel:o,detail:this.options.showAlias&&e.commandAlias!==e.label?e.commandAlias:void 0,keybinding:i,accept:async()=>{var r,s;this.commandsHistory.push(e.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.commandId,from:(r=t==null?void 0:t.from)!==null&&r!==void 0?r:"quick open"});try{!((s=e.args)===null||s===void 0)&&s.length?await this.commandService.executeCommand(e.commandId,...e.args):await this.commandService.executeCommand(e.commandId)}catch(a){Ic(a)||this.dialogService.error(m("canNotRun","Command '{0}' resulted in an error",e.label),Xre(a))}}}}getTfIdfChunk({label:e,commandAlias:t,commandDescription:i}){let o=e;return t&&t!==e&&(o+=` - ${t}`),i&&i.value!==e&&(o+=` - ${i.value===i.original?i.value:`${i.value} (${i.original})`}`),o}};Wm.PREFIX=">";Wm.TFIDF_THRESHOLD=.5;Wm.TFIDF_MAX_RESULTS=5;Wm.WORD_FILTER=a7(lw,SDe,_te);Wm=gp=Qre([xp(1,Ge),xp(2,di),xp(3,tn),xp(4,fr),xp(5,OS)],Wm);let Df=Hn=class extends z{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>this.updateConfiguration(e))),this._register(this.storageService.onWillSaveState(e=>{e.reason===fw.SHUTDOWN&&this.saveState()}))}updateConfiguration(e){e&&!e.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=Hn.getConfiguredCommandHistoryLength(this.configurationService),Hn.cache&&Hn.cache.limit!==this.configuredCommandsHistoryLength&&(Hn.cache.limit=this.configuredCommandsHistoryLength,Hn.hasChanges=!0))}load(){const e=this.storageService.get(Hn.PREF_KEY_CACHE,0);let t;if(e)try{t=JSON.parse(e)}catch{}const i=Hn.cache=new Af(this.configuredCommandsHistoryLength,1);if(t){let o;t.usesLRU?o=t.entries:o=t.entries.sort((r,s)=>r.value-s.value),o.forEach(r=>i.set(r.key,r.value))}Hn.counter=this.storageService.getNumber(Hn.PREF_KEY_COUNTER,0,Hn.counter)}push(e){Hn.cache&&(Hn.cache.set(e,Hn.counter++),Hn.hasChanges=!0)}peek(e){var t;return(t=Hn.cache)===null||t===void 0?void 0:t.peek(e)}saveState(){if(!Hn.cache||!Hn.hasChanges)return;const e={usesLRU:!0,entries:[]};Hn.cache.forEach((t,i)=>e.entries.push({key:i,value:t})),this.storageService.store(Hn.PREF_KEY_CACHE,JSON.stringify(e),0,0),this.storageService.store(Hn.PREF_KEY_COUNTER,Hn.counter,0,0),Hn.hasChanges=!1}static getConfiguredCommandHistoryLength(e){var t,i;const r=(i=(t=e.getValue().workbench)===null||t===void 0?void 0:t.commandPalette)===null||i===void 0?void 0:i.history;return typeof r=="number"?r:Hn.DEFAULT_COMMANDS_HISTORY_LENGTH}};Df.DEFAULT_COMMANDS_HISTORY_LENGTH=50;Df.PREF_KEY_CACHE="commandPalette.mru.cache";Df.PREF_KEY_COUNTER="commandPalette.mru.counter";Df.counter=1;Df.hasChanges=!1;Df=Hn=Qre([xp(0,El),xp(1,yt)],Df);class C7e extends Wm{constructor(e,t,i,o,r,s){super(e,t,i,o,r,s)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const i of e.getSupportedActions())t.push({commandId:i.id,commandAlias:i.alias,label:g7(i.label)||i.id});return t}}var y7e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Tv=function(n,e){return function(t,i){e(t,i,n)}};let oS=class extends C7e{get activeTextEditorControl(){var e;return(e=this.codeEditorService.getFocusedCodeEditor())!==null&&e!==void 0?e:void 0}constructor(e,t,i,o,r,s){super({showAlias:!1},e,i,o,r,s),this.codeEditorService=t}async getCommandPicks(){return this.getCodeEditorCommandPicks()}hasAdditionalCommandPicks(){return!1}async getAdditionalCommandPicks(){return[]}};oS=y7e([Tv(0,Ge),Tv(1,qt),Tv(2,di),Tv(3,tn),Tv(4,fr),Tv(5,OS)],oS);class ax extends Le{constructor(){super({id:ax.ID,label:B2.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:I.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(Ac).quickAccess.show(oS.PREFIX)}}ax.ID="editor.action.quickCommand";de(ax);nn.as(ev.Quickaccess).registerQuickAccessProvider({ctor:oS,prefix:oS.PREFIX,helpEntries:[{description:B2.quickCommandHelp,commandId:ax.ID}]});var w7e=function(n,e,t,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Iv=function(n,e){return function(t,i){e(t,i,n)}};let o9=class extends _f{constructor(e,t,i,o,r,s,a){super(!0,e,t,i,o,r,s,a)}};o9=w7e([Iv(1,Xe),Iv(2,qt),Iv(3,Nn),Iv(4,Ge),Iv(5,El),Iv(6,yt)],o9);Gt(_f.ID,o9,4);class S7e extends Le{constructor(){super({id:"editor.action.toggleHighContrast",label:d3.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const i=e.get(ma),o=i.getColorTheme();fc(o.type)?(i.setTheme(this._originalThemeName||(P_(o.type)?t_:Su)),this._originalThemeName=null):(i.setTheme(P_(o.type)?Xp:Qp),this._originalThemeName=o.themeName)}}de(S7e);const x7e=`import { Metrics, render } from "@requiemdb/rq";

/**
 *  Instant Vectors
 */
render(
    (new Metrics())
        .name("http_requests_total")
        .query(),
)
`,k7e=n=>{const[e,t]=De.useState(null),i=De.useRef(null);return De.useEffect(()=>(i&&t(o=>o||Jie.create(i.current,{language:"typescript",fontSize:18,value:x7e,automaticLayout:!0,minimap:{enabled:!1}})),()=>e==null?void 0:e.dispose()),[i.current]),mt.jsx(qi,{ref:i,overflow:"hidden",...n})};function av(n){let e=typeof n;if(e=="object"){if(Array.isArray(n))return"array";if(n===null)return"null"}return e}function Jre(n){return n!==null&&typeof n=="object"&&!Array.isArray(n)}let ku="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),eR=[];for(let n=0;n<ku.length;n++)eR[ku[n].charCodeAt(0)]=n;eR[45]=ku.indexOf("+");eR[95]=ku.indexOf("/");function ese(n){let e=n.length*3/4;n[n.length-2]=="="?e-=2:n[n.length-1]=="="&&(e-=1);let t=new Uint8Array(e),i=0,o=0,r,s=0;for(let a=0;a<n.length;a++){if(r=eR[n.charCodeAt(a)],r===void 0)switch(n[a]){case"=":o=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(o){case 0:s=r,o=1;break;case 1:t[i++]=s<<2|(r&48)>>4,s=r,o=2;break;case 2:t[i++]=(s&15)<<4|(r&60)>>2,s=r,o=3;break;case 3:t[i++]=(s&3)<<6|r,o=0;break}}if(o==1)throw Error("invalid base64 string.");return t.subarray(0,i)}function tse(n){let e="",t=0,i,o=0;for(let r=0;r<n.length;r++)switch(i=n[r],t){case 0:e+=ku[i>>2],o=(i&3)<<4,t=1;break;case 1:e+=ku[o|i>>4],o=(i&15)<<2,t=2;break;case 2:e+=ku[o|i>>6],e+=ku[i&63],t=0;break}return t&&(e+=ku[o],e+="=",t==1&&(e+="=")),e}var Ae;(function(n){n.symbol=Symbol.for("protobuf-ts/unknown"),n.onRead=(t,i,o,r,s)=>{(e(i)?i[n.symbol]:i[n.symbol]=[]).push({no:o,wireType:r,data:s})},n.onWrite=(t,i,o)=>{for(let{no:r,wireType:s,data:a}of n.list(i))o.tag(r,s).raw(a)},n.list=(t,i)=>{if(e(t)){let o=t[n.symbol];return i?o.filter(r=>r.no==i):o}return[]},n.last=(t,i)=>n.list(t,i).slice(-1)[0];const e=t=>t&&Array.isArray(t[n.symbol])})(Ae||(Ae={}));function L7e(n,e){return Object.assign(Object.assign({},n),e)}var $;(function(n){n[n.Varint=0]="Varint",n[n.Bit64=1]="Bit64",n[n.LengthDelimited=2]="LengthDelimited",n[n.StartGroup=3]="StartGroup",n[n.EndGroup=4]="EndGroup",n[n.Bit32=5]="Bit32"})($||($={}));function D7e(){let n=0,e=0;for(let i=0;i<28;i+=7){let o=this.buf[this.pos++];if(n|=(o&127)<<i,!(o&128))return this.assertBounds(),[n,e]}let t=this.buf[this.pos++];if(n|=(t&15)<<28,e=(t&112)>>4,!(t&128))return this.assertBounds(),[n,e];for(let i=3;i<=31;i+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<i,!(o&128))return this.assertBounds(),[n,e]}throw new Error("invalid varint")}function $A(n,e,t){for(let r=0;r<28;r=r+7){const s=n>>>r,a=!(!(s>>>7)&&e==0),l=(a?s|128:s)&255;if(t.push(l),!a)return}const i=n>>>28&15|(e&7)<<4,o=!!(e>>3);if(t.push((o?i|128:i)&255),!!o){for(let r=3;r<31;r=r+7){const s=e>>>r,a=!!(s>>>7),l=(a?s|128:s)&255;if(t.push(l),!a)return}t.push(e>>>31&1)}}const oD=65536*65536;function ise(n){let e=n[0]=="-";e&&(n=n.slice(1));const t=1e6;let i=0,o=0;function r(s,a){const l=Number(n.slice(s,a));o*=t,i=i*t+l,i>=oD&&(o=o+(i/oD|0),i=i%oD)}return r(-24,-18),r(-18,-12),r(-12,-6),r(-6),[e,i,o]}function r9(n,e){if(e>>>0<=2097151)return""+(oD*e+(n>>>0));let t=n&16777215,i=(n>>>24|e<<8)>>>0&16777215,o=e>>16&65535,r=t+i*6777216+o*6710656,s=i+o*8147497,a=o*2,l=1e7;r>=l&&(s+=Math.floor(r/l),r%=l),s>=l&&(a+=Math.floor(s/l),s%=l);function c(d,u){let h=d?String(d):"";return u?"0000000".slice(h.length)+h:h}return c(a,0)+c(s,a)+c(r,1)}function fG(n,e){if(n>=0){for(;n>127;)e.push(n&127|128),n=n>>>7;e.push(n)}else{for(let t=0;t<9;t++)e.push(n&127|128),n=n>>7;e.push(1)}}function E7e(){let n=this.buf[this.pos++],e=n&127;if(!(n&128))return this.assertBounds(),e;if(n=this.buf[this.pos++],e|=(n&127)<<7,!(n&128))return this.assertBounds(),e;if(n=this.buf[this.pos++],e|=(n&127)<<14,!(n&128))return this.assertBounds(),e;if(n=this.buf[this.pos++],e|=(n&127)<<21,!(n&128))return this.assertBounds(),e;n=this.buf[this.pos++],e|=(n&15)<<28;for(let t=5;n&128&&t<10;t++)n=this.buf[this.pos++];if(n&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}let En;function T7e(){const n=new DataView(new ArrayBuffer(8));En=globalThis.BigInt!==void 0&&typeof n.getBigInt64=="function"&&typeof n.getBigUint64=="function"&&typeof n.setBigInt64=="function"&&typeof n.setBigUint64=="function"?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:n}:void 0}T7e();function nse(n){if(!n)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}const ose=/^-?[0-9]+$/,zE=4294967296,eL=2147483648;class rse{constructor(e,t){this.lo=e|0,this.hi=t|0}isZero(){return this.lo==0&&this.hi==0}toNumber(){let e=this.hi*zE+(this.lo>>>0);if(!Number.isSafeInteger(e))throw new Error("cannot convert to safe number");return e}}class rs extends rse{static from(e){if(En)switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=="")throw new Error("string is no integer");e=En.C(e);case"number":if(e===0)return this.ZERO;e=En.C(e);case"bigint":if(!e)return this.ZERO;if(e<En.UMIN)throw new Error("signed value for ulong");if(e>En.UMAX)throw new Error("ulong too large");return En.V.setBigUint64(0,e,!0),new rs(En.V.getInt32(0,!0),En.V.getInt32(4,!0))}else switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=e.trim(),!ose.test(e))throw new Error("string is no integer");let[t,i,o]=ise(e);if(t)throw new Error("signed value for ulong");return new rs(i,o);case"number":if(e==0)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new rs(e,e/zE)}throw new Error("unknown value "+typeof e)}toString(){return En?this.toBigInt().toString():r9(this.lo,this.hi)}toBigInt(){return nse(En),En.V.setInt32(0,this.lo,!0),En.V.setInt32(4,this.hi,!0),En.V.getBigUint64(0,!0)}}rs.ZERO=new rs(0,0);class yn extends rse{static from(e){if(En)switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=="")throw new Error("string is no integer");e=En.C(e);case"number":if(e===0)return this.ZERO;e=En.C(e);case"bigint":if(!e)return this.ZERO;if(e<En.MIN)throw new Error("signed long too small");if(e>En.MAX)throw new Error("signed long too large");return En.V.setBigInt64(0,e,!0),new yn(En.V.getInt32(0,!0),En.V.getInt32(4,!0))}else switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=e.trim(),!ose.test(e))throw new Error("string is no integer");let[t,i,o]=ise(e);if(t){if(o>eL||o==eL&&i!=0)throw new Error("signed long too small")}else if(o>=eL)throw new Error("signed long too large");let r=new yn(i,o);return t?r.negate():r;case"number":if(e==0)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");return e>0?new yn(e,e/zE):new yn(-e,-e/zE).negate()}throw new Error("unknown value "+typeof e)}isNegative(){return(this.hi&eL)!==0}negate(){let e=~this.hi,t=this.lo;return t?t=~t+1:e+=1,new yn(t,e)}toString(){if(En)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+r9(e.lo,e.hi)}return r9(this.lo,this.hi)}toBigInt(){return nse(En),En.V.setInt32(0,this.lo,!0),En.V.setInt32(4,this.hi,!0),En.V.getBigInt64(0,!0)}}yn.ZERO=new yn(0,0);const pG={readUnknownField:!0,readerFactory:n=>new N7e(n)};function I7e(n){return n?Object.assign(Object.assign({},pG),n):pG}class N7e{constructor(e,t){this.varint64=D7e,this.uint32=E7e,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=t??new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,i=e&7;if(t<=0||i<0||i>5)throw new Error("illegal tag: field no "+t+" wire type "+i);return[t,i]}skip(e){let t=this.pos;switch(e){case $.Varint:for(;this.buf[this.pos++]&128;);break;case $.Bit64:this.pos+=4;case $.Bit32:this.pos+=4;break;case $.LengthDelimited:let i=this.uint32();this.pos+=i;break;case $.StartGroup:let o;for(;(o=this.tag()[1])!==$.EndGroup;)this.skip(o);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return new yn(...this.varint64())}uint64(){return new rs(...this.varint64())}sint64(){let[e,t]=this.varint64(),i=-(e&1);return e=(e>>>1|(t&1)<<31)^i,t=t>>>1^i,new yn(e,t)}bool(){let[e,t]=this.varint64();return e!==0||t!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new rs(this.sfixed32(),this.sfixed32())}sfixed64(){return new yn(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}function bi(n,e){if(!n)throw new Error(e)}function R7e(n,e){throw new Error(e??"Unexpected object: "+n)}const M7e=34028234663852886e22,A7e=-34028234663852886e22,P7e=4294967295,O7e=2147483647,F7e=-2147483648;function ey(n){if(typeof n!="number")throw new Error("invalid int 32: "+typeof n);if(!Number.isInteger(n)||n>O7e||n<F7e)throw new Error("invalid int 32: "+n)}function UE(n){if(typeof n!="number")throw new Error("invalid uint 32: "+typeof n);if(!Number.isInteger(n)||n>P7e||n<0)throw new Error("invalid uint 32: "+n)}function XW(n){if(typeof n!="number")throw new Error("invalid float 32: "+typeof n);if(Number.isFinite(n)&&(n>M7e||n<A7e))throw new Error("invalid float 32: "+n)}const mG={writeUnknownFields:!0,writerFactory:()=>new W7e};function B7e(n){return n?Object.assign(Object.assign({},mG),n):mG}class W7e{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let t=new Uint8Array(e),i=0;for(let o=0;o<this.chunks.length;o++)t.set(this.chunks[o],i),i+=this.chunks[o].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(UE(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return ey(e),fG(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){XW(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){UE(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){ey(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return ey(e),e=(e<<1^e>>31)>>>0,fG(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),i=new DataView(t.buffer),o=yn.from(e);return i.setInt32(0,o.lo,!0),i.setInt32(4,o.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),i=new DataView(t.buffer),o=rs.from(e);return i.setInt32(0,o.lo,!0),i.setInt32(4,o.hi,!0),this.raw(t)}int64(e){let t=yn.from(e);return $A(t.lo,t.hi,this.buf),this}sint64(e){let t=yn.from(e),i=t.hi>>31,o=t.lo<<1^i,r=(t.hi<<1|t.lo>>>31)^i;return $A(o,r,this.buf),this}uint64(e){let t=rs.from(e);return $A(t.lo,t.hi,this.buf),this}}const vG={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},bG={ignoreUnknownFields:!1};function V7e(n){return n?Object.assign(Object.assign({},bG),n):bG}function H7e(n){return n?Object.assign(Object.assign({},vG),n):vG}function z7e(n,e){var t,i;let o=Object.assign(Object.assign({},n),e);return o.typeRegistry=[...(t=n==null?void 0:n.typeRegistry)!==null&&t!==void 0?t:[],...(i=e==null?void 0:e.typeRegistry)!==null&&i!==void 0?i:[]],o}const Wt=Symbol.for("protobuf-ts/message-type");function s9(n){let e=!1;const t=[];for(let i=0;i<n.length;i++){let o=n.charAt(i);o=="_"?e=!0:/\d/.test(o)?(t.push(o),e=!0):e?(t.push(o.toUpperCase()),e=!1):i==0?t.push(o.toLowerCase()):t.push(o)}return t.join("")}var Ee;(function(n){n[n.DOUBLE=1]="DOUBLE",n[n.FLOAT=2]="FLOAT",n[n.INT64=3]="INT64",n[n.UINT64=4]="UINT64",n[n.INT32=5]="INT32",n[n.FIXED64=6]="FIXED64",n[n.FIXED32=7]="FIXED32",n[n.BOOL=8]="BOOL",n[n.STRING=9]="STRING",n[n.BYTES=12]="BYTES",n[n.UINT32=13]="UINT32",n[n.SFIXED32=15]="SFIXED32",n[n.SFIXED64=16]="SFIXED64",n[n.SINT32=17]="SINT32",n[n.SINT64=18]="SINT64"})(Ee||(Ee={}));var Nd;(function(n){n[n.BIGINT=0]="BIGINT",n[n.STRING=1]="STRING",n[n.NUMBER=2]="NUMBER"})(Nd||(Nd={}));var $E;(function(n){n[n.NO=0]="NO",n[n.PACKED=1]="PACKED",n[n.UNPACKED=2]="UNPACKED"})($E||($E={}));function U7e(n){var e,t,i,o;return n.localName=(e=n.localName)!==null&&e!==void 0?e:s9(n.name),n.jsonName=(t=n.jsonName)!==null&&t!==void 0?t:s9(n.name),n.repeat=(i=n.repeat)!==null&&i!==void 0?i:$E.NO,n.opt=(o=n.opt)!==null&&o!==void 0?o:n.repeat||n.oneof?!1:n.kind=="message",n}function $7e(n){if(typeof n!="object"||n===null||!n.hasOwnProperty("oneofKind"))return!1;switch(typeof n.oneofKind){case"string":return n[n.oneofKind]===void 0?!1:Object.keys(n).length==2;case"undefined":return Object.keys(n).length==1;default:return!1}}class j7e{constructor(e){var t;this.fields=(t=e.fields)!==null&&t!==void 0?t:[]}prepare(){if(this.data)return;const e=[],t=[],i=[];for(let o of this.fields)if(o.oneof)i.includes(o.oneof)||(i.push(o.oneof),e.push(o.oneof),t.push(o.oneof));else switch(t.push(o.localName),o.kind){case"scalar":case"enum":(!o.opt||o.repeat)&&e.push(o.localName);break;case"message":o.repeat&&e.push(o.localName);break;case"map":e.push(o.localName);break}this.data={req:e,known:t,oneofs:Object.values(i)}}is(e,t,i=!1){if(t<0)return!0;if(e==null||typeof e!="object")return!1;this.prepare();let o=Object.keys(e),r=this.data;if(o.length<r.req.length||r.req.some(s=>!o.includes(s))||!i&&o.some(s=>!r.known.includes(s)))return!1;if(t<1)return!0;for(const s of r.oneofs){const a=e[s];if(!$7e(a))return!1;if(a.oneofKind===void 0)continue;const l=this.fields.find(c=>c.localName===a.oneofKind);if(!l||!this.field(a[a.oneofKind],l,i,t))return!1}for(const s of this.fields)if(s.oneof===void 0&&!this.field(e[s.localName],s,i,t))return!1;return!0}field(e,t,i,o){let r=t.repeat;switch(t.kind){case"scalar":return e===void 0?t.opt:r?this.scalars(e,t.T,o,t.L):this.scalar(e,t.T,t.L);case"enum":return e===void 0?t.opt:r?this.scalars(e,Ee.INT32,o):this.scalar(e,Ee.INT32);case"message":return e===void 0?!0:r?this.messages(e,t.T(),i,o):this.message(e,t.T(),i,o);case"map":if(typeof e!="object"||e===null)return!1;if(o<2)return!0;if(!this.mapKeys(e,t.K,o))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,o,t.V.L);case"enum":return this.scalars(Object.values(e),Ee.INT32,o);case"message":return this.messages(Object.values(e),t.V.T(),i,o)}break}return!0}message(e,t,i,o){return i?t.isAssignable(e,o):t.is(e,o)}messages(e,t,i,o){if(!Array.isArray(e))return!1;if(o<2)return!0;if(i){for(let r=0;r<e.length&&r<o;r++)if(!t.isAssignable(e[r],o-1))return!1}else for(let r=0;r<e.length&&r<o;r++)if(!t.is(e[r],o-1))return!1;return!0}scalar(e,t,i){let o=typeof e;switch(t){case Ee.UINT64:case Ee.FIXED64:case Ee.INT64:case Ee.SFIXED64:case Ee.SINT64:switch(i){case Nd.BIGINT:return o=="bigint";case Nd.NUMBER:return o=="number"&&!isNaN(e);default:return o=="string"}case Ee.BOOL:return o=="boolean";case Ee.STRING:return o=="string";case Ee.BYTES:return e instanceof Uint8Array;case Ee.DOUBLE:case Ee.FLOAT:return o=="number"&&!isNaN(e);default:return o=="number"&&Number.isInteger(e)}}scalars(e,t,i,o){if(!Array.isArray(e))return!1;if(i<2)return!0;if(Array.isArray(e)){for(let r=0;r<e.length&&r<i;r++)if(!this.scalar(e[r],t,o))return!1}return!0}mapKeys(e,t,i){let o=Object.keys(e);switch(t){case Ee.INT32:case Ee.FIXED32:case Ee.SFIXED32:case Ee.SINT32:case Ee.UINT32:return this.scalars(o.slice(0,i).map(r=>parseInt(r)),t,i);case Ee.BOOL:return this.scalars(o.slice(0,i).map(r=>r=="true"?!0:r=="false"?!1:r),t,i);default:return this.scalars(o,t,i,Nd.STRING)}}}function ic(n,e){switch(e){case Nd.BIGINT:return n.toBigInt();case Nd.NUMBER:return n.toNumber();default:return n.toString()}}class K7e{constructor(e){this.info=e}prepare(){var e;if(this.fMap===void 0){this.fMap={};const t=(e=this.info.fields)!==null&&e!==void 0?e:[];for(const i of t)this.fMap[i.name]=i,this.fMap[i.jsonName]=i,this.fMap[i.localName]=i}}assert(e,t,i){if(!e){let o=av(i);throw(o=="number"||o=="boolean")&&(o=i.toString()),new Error(`Cannot parse JSON ${o} for ${this.info.typeName}#${t}`)}}read(e,t,i){this.prepare();const o=[];for(const[r,s]of Object.entries(e)){const a=this.fMap[r];if(!a){if(!i.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${r}`);continue}const l=a.localName;let c;if(a.oneof){if(s===null&&(a.kind!=="enum"||a.T()[0]!=="google.protobuf.NullValue"))continue;if(o.includes(a.oneof))throw new Error(`Multiple members of the oneof group "${a.oneof}" of ${this.info.typeName} are present in JSON.`);o.push(a.oneof),c=t[a.oneof]={oneofKind:l}}else c=t;if(a.kind=="map"){if(s===null)continue;this.assert(Jre(s),a.name,s);const d=c[l];for(const[u,h]of Object.entries(s)){this.assert(h!==null,a.name+" map value",null);let g;switch(a.V.kind){case"message":g=a.V.T().internalJsonRead(h,i);break;case"enum":if(g=this.enum(a.V.T(),h,a.name,i.ignoreUnknownFields),g===!1)continue;break;case"scalar":g=this.scalar(h,a.V.T,a.V.L,a.name);break}this.assert(g!==void 0,a.name+" map value",h);let f=u;a.K==Ee.BOOL&&(f=f=="true"?!0:f=="false"?!1:f),f=this.scalar(f,a.K,Nd.STRING,a.name).toString(),d[f]=g}}else if(a.repeat){if(s===null)continue;this.assert(Array.isArray(s),a.name,s);const d=c[l];for(const u of s){this.assert(u!==null,a.name,null);let h;switch(a.kind){case"message":h=a.T().internalJsonRead(u,i);break;case"enum":if(h=this.enum(a.T(),u,a.name,i.ignoreUnknownFields),h===!1)continue;break;case"scalar":h=this.scalar(u,a.T,a.L,a.name);break}this.assert(h!==void 0,a.name,s),d.push(h)}}else switch(a.kind){case"message":if(s===null&&a.T().typeName!="google.protobuf.Value"){this.assert(a.oneof===void 0,a.name+" (oneof member)",null);continue}c[l]=a.T().internalJsonRead(s,i,c[l]);break;case"enum":let d=this.enum(a.T(),s,a.name,i.ignoreUnknownFields);if(d===!1)continue;c[l]=d;break;case"scalar":c[l]=this.scalar(s,a.T,a.L,a.name);break}}}enum(e,t,i,o){if(e[0]=="google.protobuf.NullValue"&&bi(t===null||t==="NULL_VALUE",`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} only accepts null.`),t===null)return 0;switch(typeof t){case"number":return bi(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${i}, enum can only be integral number, got ${t}.`),t;case"string":let r=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(r=t.substring(e[2].length));let s=e[1][r];return typeof s>"u"&&o?!1:(bi(typeof s=="number",`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} has no value for "${t}".`),s)}bi(!1,`Unable to parse field ${this.info.typeName}#${i}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,i,o){let r;try{switch(t){case Ee.DOUBLE:case Ee.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""){r="empty string";break}if(typeof e=="string"&&e.trim().length!==e.length){r="extra whitespace";break}if(typeof e!="string"&&typeof e!="number")break;let s=Number(e);if(Number.isNaN(s)){r="not a number";break}if(!Number.isFinite(s)){r="too large or small";break}return t==Ee.FLOAT&&XW(s),s;case Ee.INT32:case Ee.FIXED32:case Ee.SFIXED32:case Ee.SINT32:case Ee.UINT32:if(e===null)return 0;let a;if(typeof e=="number"?a=e:e===""?r="empty string":typeof e=="string"&&(e.trim().length!==e.length?r="extra whitespace":a=Number(e)),a===void 0)break;return t==Ee.UINT32?UE(a):ey(a),a;case Ee.INT64:case Ee.SFIXED64:case Ee.SINT64:if(e===null)return ic(yn.ZERO,i);if(typeof e!="number"&&typeof e!="string")break;return ic(yn.from(e),i);case Ee.FIXED64:case Ee.UINT64:if(e===null)return ic(rs.ZERO,i);if(typeof e!="number"&&typeof e!="string")break;return ic(rs.from(e),i);case Ee.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case Ee.STRING:if(e===null)return"";if(typeof e!="string"){r="extra whitespace";break}try{encodeURIComponent(e)}catch(l){l="invalid UTF8";break}return e;case Ee.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return ese(e)}}catch(s){r=s.message}this.assert(!1,o+(r?" - "+r:""),e)}}class q7e{constructor(e){var t;this.fields=(t=e.fields)!==null&&t!==void 0?t:[]}write(e,t){const i={},o=e;for(const r of this.fields){if(!r.oneof){let c=this.field(r,o[r.localName],t);c!==void 0&&(i[t.useProtoFieldName?r.name:r.jsonName]=c);continue}const s=o[r.oneof];if(s.oneofKind!==r.localName)continue;const a=r.kind=="scalar"||r.kind=="enum"?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t;let l=this.field(r,s[r.localName],a);bi(l!==void 0),i[t.useProtoFieldName?r.name:r.jsonName]=l}return i}field(e,t,i){let o;if(e.kind=="map"){bi(typeof t=="object"&&t!==null);const r={};switch(e.V.kind){case"scalar":for(const[l,c]of Object.entries(t)){const d=this.scalar(e.V.T,c,e.name,!1,!0);bi(d!==void 0),r[l.toString()]=d}break;case"message":const s=e.V.T();for(const[l,c]of Object.entries(t)){const d=this.message(s,c,e.name,i);bi(d!==void 0),r[l.toString()]=d}break;case"enum":const a=e.V.T();for(const[l,c]of Object.entries(t)){bi(c===void 0||typeof c=="number");const d=this.enum(a,c,e.name,!1,!0,i.enumAsInteger);bi(d!==void 0),r[l.toString()]=d}break}(i.emitDefaultValues||Object.keys(r).length>0)&&(o=r)}else if(e.repeat){bi(Array.isArray(t));const r=[];switch(e.kind){case"scalar":for(let l=0;l<t.length;l++){const c=this.scalar(e.T,t[l],e.name,e.opt,!0);bi(c!==void 0),r.push(c)}break;case"enum":const s=e.T();for(let l=0;l<t.length;l++){bi(t[l]===void 0||typeof t[l]=="number");const c=this.enum(s,t[l],e.name,e.opt,!0,i.enumAsInteger);bi(c!==void 0),r.push(c)}break;case"message":const a=e.T();for(let l=0;l<t.length;l++){const c=this.message(a,t[l],e.name,i);bi(c!==void 0),r.push(c)}break}(i.emitDefaultValues||r.length>0||i.emitDefaultValues)&&(o=r)}else switch(e.kind){case"scalar":o=this.scalar(e.T,t,e.name,e.opt,i.emitDefaultValues);break;case"enum":o=this.enum(e.T(),t,e.name,e.opt,i.emitDefaultValues,i.enumAsInteger);break;case"message":o=this.message(e.T(),t,e.name,i);break}return o}enum(e,t,i,o,r,s){if(e[0]=="google.protobuf.NullValue")return!r&&!o?void 0:null;if(t===void 0){bi(o);return}if(!(t===0&&!r&&!o))return bi(typeof t=="number"),bi(Number.isInteger(t)),s||!e[1].hasOwnProperty(t)?t:e[2]?e[2]+e[1][t]:e[1][t]}message(e,t,i,o){return t===void 0?o.emitDefaultValues?null:void 0:e.internalJsonWrite(t,o)}scalar(e,t,i,o,r){if(t===void 0){bi(o);return}const s=r||o;switch(e){case Ee.INT32:case Ee.SFIXED32:case Ee.SINT32:return t===0?s?0:void 0:(ey(t),t);case Ee.FIXED32:case Ee.UINT32:return t===0?s?0:void 0:(UE(t),t);case Ee.FLOAT:XW(t);case Ee.DOUBLE:return t===0?s?0:void 0:(bi(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t);case Ee.STRING:return t===""?s?"":void 0:(bi(typeof t=="string"),t);case Ee.BOOL:return t===!1?s?!1:void 0:(bi(typeof t=="boolean"),t);case Ee.UINT64:case Ee.FIXED64:bi(typeof t=="number"||typeof t=="string"||typeof t=="bigint");let a=rs.from(t);return a.isZero()&&!s?void 0:a.toString();case Ee.INT64:case Ee.SFIXED64:case Ee.SINT64:bi(typeof t=="number"||typeof t=="string"||typeof t=="bigint");let l=yn.from(t);return l.isZero()&&!s?void 0:l.toString();case Ee.BYTES:return bi(t instanceof Uint8Array),t.byteLength?tse(t):s?"":void 0}}}function a9(n,e=Nd.STRING){switch(n){case Ee.BOOL:return!1;case Ee.UINT64:case Ee.FIXED64:return ic(rs.ZERO,e);case Ee.INT64:case Ee.SFIXED64:case Ee.SINT64:return ic(yn.ZERO,e);case Ee.DOUBLE:case Ee.FLOAT:return 0;case Ee.BYTES:return new Uint8Array(0);case Ee.STRING:return"";default:return 0}}class G7e{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){const t=(e=this.info.fields)!==null&&e!==void 0?e:[];this.fieldNoToField=new Map(t.map(i=>[i.no,i]))}}read(e,t,i,o){this.prepare();const r=o===void 0?e.len:e.pos+o;for(;e.pos<r;){const[s,a]=e.tag(),l=this.fieldNoToField.get(s);if(!l){let h=i.readUnknownField;if(h=="throw")throw new Error(`Unknown field ${s} (wire type ${a}) for ${this.info.typeName}`);let g=e.skip(a);h!==!1&&(h===!0?Ae.onRead:h)(this.info.typeName,t,s,a,g);continue}let c=t,d=l.repeat,u=l.localName;switch(l.oneof&&(c=c[l.oneof],c.oneofKind!==u&&(c=t[l.oneof]={oneofKind:u})),l.kind){case"scalar":case"enum":let h=l.kind=="enum"?Ee.INT32:l.T,g=l.kind=="scalar"?l.L:void 0;if(d){let b=c[u];if(a==$.LengthDelimited&&h!=Ee.STRING&&h!=Ee.BYTES){let v=e.uint32()+e.pos;for(;e.pos<v;)b.push(this.scalar(e,h,g))}else b.push(this.scalar(e,h,g))}else c[u]=this.scalar(e,h,g);break;case"message":if(d){let b=c[u],v=l.T().internalBinaryRead(e,e.uint32(),i);b.push(v)}else c[u]=l.T().internalBinaryRead(e,e.uint32(),i,c[u]);break;case"map":let[f,p]=this.mapEntry(l,e,i);c[u][f]=p;break}}}mapEntry(e,t,i){let o=t.uint32(),r=t.pos+o,s,a;for(;t.pos<r;){let[l,c]=t.tag();switch(l){case 1:e.K==Ee.BOOL?s=t.bool().toString():s=this.scalar(t,e.K,Nd.STRING);break;case 2:switch(e.V.kind){case"scalar":a=this.scalar(t,e.V.T,e.V.L);break;case"enum":a=t.int32();break;case"message":a=e.V.T().internalBinaryRead(t,t.uint32(),i);break}break;default:throw new Error(`Unknown field ${l} (wire type ${c}) in map entry for ${this.info.typeName}#${e.name}`)}}if(s===void 0){let l=a9(e.K);s=e.K==Ee.BOOL?l.toString():l}if(a===void 0)switch(e.V.kind){case"scalar":a=a9(e.V.T,e.V.L);break;case"enum":a=0;break;case"message":a=e.V.T().create();break}return[s,a]}scalar(e,t,i){switch(t){case Ee.INT32:return e.int32();case Ee.STRING:return e.string();case Ee.BOOL:return e.bool();case Ee.DOUBLE:return e.double();case Ee.FLOAT:return e.float();case Ee.INT64:return ic(e.int64(),i);case Ee.UINT64:return ic(e.uint64(),i);case Ee.FIXED64:return ic(e.fixed64(),i);case Ee.FIXED32:return e.fixed32();case Ee.BYTES:return e.bytes();case Ee.UINT32:return e.uint32();case Ee.SFIXED32:return e.sfixed32();case Ee.SFIXED64:return ic(e.sfixed64(),i);case Ee.SINT32:return e.sint32();case Ee.SINT64:return ic(e.sint64(),i)}}}class Z7e{constructor(e){this.info=e}prepare(){if(!this.fields){const e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort((t,i)=>t.no-i.no)}}write(e,t,i){this.prepare();for(const r of this.fields){let s,a,l=r.repeat,c=r.localName;if(r.oneof){const d=e[r.oneof];if(d.oneofKind!==c)continue;s=d[c],a=!0}else s=e[c],a=!1;switch(r.kind){case"scalar":case"enum":let d=r.kind=="enum"?Ee.INT32:r.T;if(l)if(bi(Array.isArray(s)),l==$E.PACKED)this.packed(t,d,r.no,s);else for(const u of s)this.scalar(t,d,r.no,u,!0);else s===void 0?bi(r.opt):this.scalar(t,d,r.no,s,a||r.opt);break;case"message":if(l){bi(Array.isArray(s));for(const u of s)this.message(t,i,r.T(),r.no,u)}else this.message(t,i,r.T(),r.no,s);break;case"map":bi(typeof s=="object"&&s!==null);for(const[u,h]of Object.entries(s))this.mapEntry(t,i,r,u,h);break}}let o=i.writeUnknownFields;o!==!1&&(o===!0?Ae.onWrite:o)(this.info.typeName,e,t)}mapEntry(e,t,i,o,r){e.tag(i.no,$.LengthDelimited),e.fork();let s=o;switch(i.K){case Ee.INT32:case Ee.FIXED32:case Ee.UINT32:case Ee.SFIXED32:case Ee.SINT32:s=Number.parseInt(o);break;case Ee.BOOL:bi(o=="true"||o=="false"),s=o=="true";break}switch(this.scalar(e,i.K,1,s,!0),i.V.kind){case"scalar":this.scalar(e,i.V.T,2,r,!0);break;case"enum":this.scalar(e,Ee.INT32,2,r,!0);break;case"message":this.message(e,t,i.V.T(),2,r);break}e.join()}message(e,t,i,o,r){r!==void 0&&(i.internalBinaryWrite(r,e.tag(o,$.LengthDelimited).fork(),t),e.join())}scalar(e,t,i,o,r){let[s,a,l]=this.scalarInfo(t,o);(!l||r)&&(e.tag(i,s),e[a](o))}packed(e,t,i,o){if(!o.length)return;bi(t!==Ee.BYTES&&t!==Ee.STRING),e.tag(i,$.LengthDelimited),e.fork();let[,r]=this.scalarInfo(t);for(let s=0;s<o.length;s++)e[r](o[s]);e.join()}scalarInfo(e,t){let i=$.Varint,o,r=t===void 0,s=t===0;switch(e){case Ee.INT32:o="int32";break;case Ee.STRING:s=r||!t.length,i=$.LengthDelimited,o="string";break;case Ee.BOOL:s=t===!1,o="bool";break;case Ee.UINT32:o="uint32";break;case Ee.DOUBLE:i=$.Bit64,o="double";break;case Ee.FLOAT:i=$.Bit32,o="float";break;case Ee.INT64:s=r||yn.from(t).isZero(),o="int64";break;case Ee.UINT64:s=r||rs.from(t).isZero(),o="uint64";break;case Ee.FIXED64:s=r||rs.from(t).isZero(),i=$.Bit64,o="fixed64";break;case Ee.BYTES:s=r||!t.byteLength,i=$.LengthDelimited,o="bytes";break;case Ee.FIXED32:i=$.Bit32,o="fixed32";break;case Ee.SFIXED32:i=$.Bit32,o="sfixed32";break;case Ee.SFIXED64:s=r||yn.from(t).isZero(),i=$.Bit64,o="sfixed64";break;case Ee.SINT32:o="sint32";break;case Ee.SINT64:s=r||yn.from(t).isZero(),o="sint64";break}return[i,o,r||s]}}function Y7e(n){const e=n.messagePrototype?Object.create(n.messagePrototype):Object.defineProperty({},Wt,{value:n});for(let t of n.fields){let i=t.localName;if(!t.opt)if(t.oneof)e[t.oneof]={oneofKind:void 0};else if(t.repeat)e[i]=[];else switch(t.kind){case"scalar":e[i]=a9(t.T,t.L);break;case"enum":e[i]=0;break;case"map":e[i]={};break}}return e}function At(n,e,t){let i,o=t,r;for(let s of n.fields){let a=s.localName;if(s.oneof){const l=o[s.oneof];if((l==null?void 0:l.oneofKind)==null)continue;if(i=l[a],r=e[s.oneof],r.oneofKind=l.oneofKind,i==null){delete r[a];continue}}else if(i=o[a],r=e,i==null)continue;switch(s.repeat&&(r[a].length=i.length),s.kind){case"scalar":case"enum":if(s.repeat)for(let c=0;c<i.length;c++)r[a][c]=i[c];else r[a]=i;break;case"message":let l=s.T();if(s.repeat)for(let c=0;c<i.length;c++)r[a][c]=l.create(i[c]);else r[a]===void 0?r[a]=l.create(i):l.mergePartial(r[a],i);break;case"map":switch(s.V.kind){case"scalar":case"enum":Object.assign(r[a],i);break;case"message":let c=s.V.T();for(let d of Object.keys(i))r[a][d]=c.create(i[d]);break}break}}}function X7e(n,e,t){if(e===t)return!0;if(!e||!t)return!1;for(let i of n.fields){let o=i.localName,r=i.oneof?e[i.oneof][o]:e[o],s=i.oneof?t[i.oneof][o]:t[o];switch(i.kind){case"enum":case"scalar":let a=i.kind=="enum"?Ee.INT32:i.T;if(!(i.repeat?_G(a,r,s):sse(a,r,s)))return!1;break;case"map":if(!(i.V.kind=="message"?CG(i.V.T(),tL(r),tL(s)):_G(i.V.kind=="enum"?Ee.INT32:i.V.T,tL(r),tL(s))))return!1;break;case"message":let l=i.T();if(!(i.repeat?CG(l,r,s):l.equals(r,s)))return!1;break}}return!0}const tL=Object.values;function sse(n,e,t){if(e===t)return!0;if(n!==Ee.BYTES)return!1;let i=e,o=t;if(i.length!==o.length)return!1;for(let r=0;r<i.length;r++)if(i[r]!=o[r])return!1;return!0}function _G(n,e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!sse(n,e[i],t[i]))return!1;return!0}function CG(n,e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!n.equals(e[i],t[i]))return!1;return!0}const Q7e=Object.getOwnPropertyDescriptors(Object.getPrototypeOf({}));class jt{constructor(e,t,i){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(U7e),this.options=i??{},this.messagePrototype=Object.create(null,Object.assign(Object.assign({},Q7e),{[Wt]:{value:this}})),this.refTypeCheck=new j7e(this),this.refJsonReader=new K7e(this),this.refJsonWriter=new q7e(this),this.refBinReader=new G7e(this),this.refBinWriter=new Z7e(this)}create(e){let t=Y7e(this);return e!==void 0&&At(this,t,e),t}clone(e){let t=this.create();return At(this,t,e),t}equals(e,t){return X7e(this,e,t)}is(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!1)}isAssignable(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){At(this,e,t)}fromBinary(e,t){let i=I7e(t);return this.internalBinaryRead(i.readerFactory(e),e.byteLength,i)}fromJson(e,t){return this.internalJsonRead(e,V7e(t))}fromJsonString(e,t){let i=JSON.parse(e);return this.fromJson(i,t)}toJson(e,t){return this.internalJsonWrite(e,H7e(t))}toJsonString(e,t){var i;let o=this.toJson(e,t);return JSON.stringify(o,null,(i=t==null?void 0:t.prettySpaces)!==null&&i!==void 0?i:0)}toBinary(e,t){let i=B7e(t);return this.internalBinaryWrite(e,i.writerFactory(),i).finish()}internalJsonRead(e,t,i){if(e!==null&&typeof e=="object"&&!Array.isArray(e)){let o=i??this.create();return this.refJsonReader.read(e,o,t),o}throw new Error(`Unable to parse message ${this.typeName} from JSON ${av(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,i){return this.refBinWriter.write(e,t,i),t}internalBinaryRead(e,t,i,o){let r=o??this.create();return this.refBinReader.read(e,r,i,t),r}}function J7e(n,e){var t,i,o;let r=n;return r.service=e,r.localName=(t=r.localName)!==null&&t!==void 0?t:s9(r.name),r.serverStreaming=!!r.serverStreaming,r.clientStreaming=!!r.clientStreaming,r.options=(i=r.options)!==null&&i!==void 0?i:{},r.idempotency=(o=r.idempotency)!==null&&o!==void 0?o:void 0,r}class eWe{constructor(e,t,i){this.typeName=e,this.methods=t.map(o=>J7e(o,this)),this.options=i??{}}}class Dn extends Error{constructor(e,t="UNKNOWN",i){super(e),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=t,this.meta=i??{}}toString(){const e=[this.name+": "+this.message];this.code&&(e.push(""),e.push("Code: "+this.code)),this.serviceName&&this.methodName&&e.push("Method: "+this.serviceName+"/"+this.methodName);let t=Object.entries(this.meta);if(t.length){e.push(""),e.push("Meta:");for(let[i,o]of t)e.push(`  ${i}: ${o}`)}return e.join(`
`)}}function tWe(n,e){if(!e)return n;let t={};iL(n,t),iL(e,t);for(let i of Object.keys(e)){let o=e[i];switch(i){case"jsonOptions":t.jsonOptions=z7e(n.jsonOptions,t.jsonOptions);break;case"binaryOptions":t.binaryOptions=L7e(n.binaryOptions,t.binaryOptions);break;case"meta":t.meta={},iL(n.meta,t.meta),iL(e.meta,t.meta);break;case"interceptors":t.interceptors=n.interceptors?n.interceptors.concat(o):o.concat();break}}return t}function iL(n,e){if(!n)return;let t=e;for(let[i,o]of Object.entries(n))o instanceof Date?t[i]=new Date(o.getTime()):Array.isArray(o)?t[i]=o.concat():t[i]=o}var tl;(function(n){n[n.PENDING=0]="PENDING",n[n.REJECTED=1]="REJECTED",n[n.RESOLVED=2]="RESOLVED"})(tl||(tl={}));class Kh{constructor(e=!0){this._state=tl.PENDING,this._promise=new Promise((t,i)=>{this._resolve=t,this._reject=i}),e&&this._promise.catch(t=>{})}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==tl.PENDING)throw new Error(`cannot resolve ${tl[this.state].toLowerCase()}`);this._resolve(e),this._state=tl.RESOLVED}reject(e){if(this.state!==tl.PENDING)throw new Error(`cannot reject ${tl[this.state].toLowerCase()}`);this._reject(e),this._state=tl.REJECTED}resolvePending(e){this._state===tl.PENDING&&this.resolve(e)}rejectPending(e){this._state===tl.PENDING&&this.reject(e)}}class iWe{constructor(){this._lis={nxt:[],msg:[],err:[],cmp:[]},this._closed=!1}onNext(e){return this.addLis(e,this._lis.nxt)}onMessage(e){return this.addLis(e,this._lis.msg)}onError(e){return this.addLis(e,this._lis.err)}onComplete(e){return this.addLis(e,this._lis.cmp)}addLis(e,t){return t.push(e),()=>{let i=t.indexOf(e);i>=0&&t.splice(i,1)}}clearLis(){for(let e of Object.values(this._lis))e.splice(0,e.length)}get closed(){return this._closed!==!1}notifyNext(e,t,i){bi((e?1:0)+(t?1:0)+(i?1:0)<=1,"only one emission at a time"),e&&this.notifyMessage(e),t&&this.notifyError(t),i&&this.notifyComplete()}notifyMessage(e){bi(!this.closed,"stream is closed"),this.pushIt({value:e,done:!1}),this._lis.msg.forEach(t=>t(e)),this._lis.nxt.forEach(t=>t(e,void 0,!1))}notifyError(e){bi(!this.closed,"stream is closed"),this._closed=e,this.pushIt(e),this._lis.err.forEach(t=>t(e)),this._lis.nxt.forEach(t=>t(void 0,e,!1)),this.clearLis()}notifyComplete(){bi(!this.closed,"stream is closed"),this._closed=!0,this.pushIt({value:null,done:!0}),this._lis.cmp.forEach(e=>e()),this._lis.nxt.forEach(e=>e(void 0,void 0,!0)),this.clearLis()}[Symbol.asyncIterator](){return this._itState||(this._itState={q:[]}),this._closed===!0?this.pushIt({value:null,done:!0}):this._closed!==!1&&this.pushIt(this._closed),{next:()=>{let e=this._itState;bi(e,"bad state"),bi(!e.p,"iterator contract broken");let t=e.q.shift();return t?"value"in t?Promise.resolve(t):Promise.reject(t):(e.p=new Kh,e.p.promise)}}}pushIt(e){let t=this._itState;if(t)if(t.p){const i=t.p;bi(i.state==tl.PENDING,"iterator contract broken"),"value"in e?i.resolve(e):i.reject(e),delete t.p}else t.q.push(e)}}var nWe=function(n,e,t,i){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(u){s(u)}}function l(d){try{c(i.throw(d))}catch(u){s(u)}}function c(d){d.done?r(d.value):o(d.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class oWe{constructor(e,t,i,o,r,s,a){this.method=e,this.requestHeaders=t,this.request=i,this.headers=o,this.response=r,this.status=s,this.trailers=a}then(e,t){return this.promiseFinished().then(i=>e?Promise.resolve(e(i)):i,i=>t?Promise.resolve(t(i)):Promise.reject(i))}promiseFinished(){return nWe(this,void 0,void 0,function*(){let[e,t,i,o]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,response:t,status:i,trailers:o}})}}var rWe=function(n,e,t,i){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(u){s(u)}}function l(d){try{c(i.throw(d))}catch(u){s(u)}}function c(d){d.done?r(d.value):o(d.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class sWe{constructor(e,t,i,o,r,s,a){this.method=e,this.requestHeaders=t,this.request=i,this.headers=o,this.responses=r,this.status=s,this.trailers=a}then(e,t){return this.promiseFinished().then(i=>e?Promise.resolve(e(i)):i,i=>t?Promise.resolve(t(i)):Promise.reject(i))}promiseFinished(){return rWe(this,void 0,void 0,function*(){let[e,t,i]=yield Promise.all([this.headers,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,status:t,trailers:i}})}}function yG(n,e,t,i,o){var r,s,a,l;if(n=="unary"){let c=(d,u,h)=>e.unary(d,u,h);for(const d of((r=i.interceptors)!==null&&r!==void 0?r:[]).filter(u=>u.interceptUnary).reverse()){const u=c;c=(h,g,f)=>d.interceptUnary(u,h,g,f)}return c(t,o,i)}if(n=="serverStreaming"){let c=(d,u,h)=>e.serverStreaming(d,u,h);for(const d of((s=i.interceptors)!==null&&s!==void 0?s:[]).filter(u=>u.interceptServerStreaming).reverse()){const u=c;c=(h,g,f)=>d.interceptServerStreaming(u,h,g,f)}return c(t,o,i)}if(n=="clientStreaming"){let c=(d,u)=>e.clientStreaming(d,u);for(const d of((a=i.interceptors)!==null&&a!==void 0?a:[]).filter(u=>u.interceptClientStreaming).reverse()){const u=c;c=(h,g)=>d.interceptClientStreaming(u,h,g)}return c(t,i)}if(n=="duplex"){let c=(d,u)=>e.duplex(d,u);for(const d of((l=i.interceptors)!==null&&l!==void 0?l:[]).filter(u=>u.interceptDuplex).reverse()){const u=c;c=(h,g)=>d.interceptDuplex(u,h,g)}return c(t,i)}R7e(n)}var Je;(function(n){n[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS"})(Je||(Je={}));var aWe=function(n,e,t,i){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(u){s(u)}}function l(d){try{c(i.throw(d))}catch(u){s(u)}}function c(d){d.done?r(d.value):o(d.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};function wG(n,e,t,i,o){if(i)for(let[r,s]of Object.entries(i))if(typeof s=="string")n.append(r,s);else for(let a of s)n.append(r,a);if(n.set("Content-Type",e==="text"?"application/grpc-web-text":"application/grpc-web+proto"),e=="text"&&n.set("Accept","application/grpc-web-text"),n.set("X-Grpc-Web","1"),o&&n.set("X-User-Agent",o),typeof t=="number"){if(t<=0)throw new Dn(`timeout ${t} ms exceeded`,Je[Je.DEADLINE_EXCEEDED]);n.set("grpc-timeout",`${t}m`)}else if(t){const r=t.getTime(),s=Date.now();if(r<=s)throw new Dn(`deadline ${t} exceeded`,Je[Je.DEADLINE_EXCEEDED]);n.set("grpc-timeout",`${r-s}m`)}return n}function SG(n,e){let t=new Uint8Array(5+n.length);t[0]=sc.DATA;for(let i=n.length,o=4;o>0;o--)t[o]=i%256,i>>>=8;return t.set(n,5),e==="binary"?t:tse(t)}function l9(n,e,t){if(arguments.length===1){let l=n,c;try{c=l.type}catch{}switch(c){case"error":case"opaque":case"opaqueredirect":throw new Dn(`fetch response type ${l.type}`,Je[Je.UNKNOWN])}return l9(uWe(l.headers),l.status,l.statusText)}let i=n,o=e>=200&&e<300,r=lse(i),[s,a]=ase(i);return(s===void 0||s===Je.OK)&&!o&&(s=hWe(e),a=t),[s,a,r]}function xG(n){let e=dWe(n),[t,i]=ase(e),o=lse(e);return[t??Je.OK,i,o]}var sc;(function(n){n[n.DATA=0]="DATA",n[n.TRAILER=128]="TRAILER"})(sc||(sc={}));function kG(n,e,t){return aWe(this,void 0,void 0,function*(){let i,o="",r=new Uint8Array(0),s=cWe(e);if(lWe(n)){let a=n.getReader();i={next:()=>a.read()}}else i=n[Symbol.asyncIterator]();for(;;){let a=yield i.next();if(a.value!==void 0){if(s==="text"){for(let c=0;c<a.value.length;c++)o+=String.fromCharCode(a.value[c]);let l=o.length-o.length%4;if(l===0)continue;r=LG(r,ese(o.substring(0,l))),o=o.substring(l)}else r=LG(r,a.value);for(;r.length>=5&&r[0]===sc.DATA;){let l=0;for(let c=1;c<5;c++)l=(l<<8)+r[c];if(r.length-5>=l)t(sc.DATA,r.subarray(5,5+l)),r=r.subarray(5+l);else break}}if(a.done){if(r.length===0)break;if(r[0]!==sc.TRAILER||r.length<5)throw new Dn("premature EOF",Je[Je.DATA_LOSS]);t(sc.TRAILER,r.subarray(5));break}}})}const lWe=n=>typeof n.getReader=="function";function LG(n,e){let t=new Uint8Array(n.length+e.length);return t.set(n),t.set(e,n.length),t}function cWe(n){switch(n){case"application/grpc-web-text":case"application/grpc-web-text+proto":return"text";case"application/grpc-web":case"application/grpc-web+proto":return"binary";case void 0:case null:throw new Dn("missing response content type",Je[Je.INTERNAL]);default:throw new Dn("unexpected response content type: "+n,Je[Je.INTERNAL])}}function ase(n){let e,t,i=n["grpc-message"];if(i!==void 0){if(Array.isArray(i))return[Je.INTERNAL,"invalid grpc-web message"];t=i}let o=n["grpc-status"];if(o!==void 0){if(Array.isArray(o))return[Je.INTERNAL,"invalid grpc-web status"];if(e=parseInt(o,10),Je[e]===void 0)return[Je.INTERNAL,"invalid grpc-web status"]}return[e,t]}function lse(n){let e={};for(let[t,i]of Object.entries(n))switch(t){case"grpc-message":case"grpc-status":case"content-type":break;default:e[t]=i}return e}function dWe(n){let e={};for(let t of String.fromCharCode.apply(String,n).trim().split(`\r
`)){if(t=="")continue;let[i,...o]=t.split(":");const r=o.join(":").trim();i=i.trim();let s=e[i];typeof s=="string"?e[i]=[s,r]:Array.isArray(s)?s.push(r):e[i]=r}return e}function uWe(n){let e={};return n.forEach((t,i)=>{let o=e[i];typeof o=="string"?e[i]=[o,t]:Array.isArray(o)?o.push(t):e[i]=t}),e}function hWe(n){switch(n){case 200:return Je.OK;case 400:return Je.INVALID_ARGUMENT;case 401:return Je.UNAUTHENTICATED;case 403:return Je.PERMISSION_DENIED;case 404:return Je.NOT_FOUND;case 409:return Je.ABORTED;case 412:return Je.FAILED_PRECONDITION;case 429:return Je.RESOURCE_EXHAUSTED;case 499:return Je.CANCELLED;case 500:return Je.UNKNOWN;case 501:return Je.UNIMPLEMENTED;case 503:return Je.UNAVAILABLE;case 504:return Je.DEADLINE_EXCEEDED;default:return Je.UNKNOWN}}class gWe{constructor(e){this.defaultOptions=e}mergeOptions(e){return tWe(this.defaultOptions,e)}makeUrl(e,t){let i=t.baseUrl;return i.endsWith("/")&&(i=i.substring(0,i.length-1)),`${i}/${e.service.typeName}/${e.name}`}clientStreaming(e){const t=new Dn("Client streaming is not supported by grpc-web",Je[Je.UNIMPLEMENTED]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}duplex(e){const t=new Dn("Duplex streaming is not supported by grpc-web",Je[Je.UNIMPLEMENTED]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}serverStreaming(e,t,i){var o,r,s,a;let l=i,c=(o=l.format)!==null&&o!==void 0?o:"text",d=(r=l.fetchInit)!==null&&r!==void 0?r:{},u=this.makeUrl(e,l),h=e.I.toBinary(t,l.binaryOptions),g=new Kh,f=new iWe,p=!0,b,v=new Kh,_,C=new Kh;return globalThis.fetch(u,Object.assign(Object.assign({},d),{method:"POST",headers:wG(new globalThis.Headers,c,l.timeout,l.meta),body:SG(h,c),signal:(s=i.abort)!==null&&s!==void 0?s:null})).then(y=>{let[w,S,x]=l9(y);if(g.resolve(x),w!=null&&w!==Je.OK)throw new Dn(S??Je[w],Je[w],x);return w!=null&&(b={code:Je[w],detail:S??Je[w]}),y}).then(y=>{if(!y.body)throw new Dn("missing response body",Je[Je.INTERNAL]);return kG(y.body,y.headers.get("content-type"),(w,S)=>{switch(w){case sc.DATA:f.notifyMessage(e.O.fromBinary(S,l.binaryOptions)),p=!1;break;case sc.TRAILER:let x,L;[x,L,_]=xG(S),b={code:Je[x],detail:L??Je[x]};break}})}).then(()=>{if(!_&&!p)throw new Dn("missing trailers",Je[Je.DATA_LOSS]);if(!b)throw new Dn("missing status",Je[Je.INTERNAL]);if(b.code!=="OK")throw new Dn(b.detail,b.code,_);f.notifyComplete(),v.resolve(b),C.resolve(_||{})}).catch(y=>{let w;y instanceof Dn?w=y:y instanceof Error&&y.name==="AbortError"?w=new Dn(y.message,Je[Je.CANCELLED]):w=new Dn(y instanceof Error?y.message:""+y,Je[Je.INTERNAL]),w.methodName=e.name,w.serviceName=e.service.typeName,g.rejectPending(w),f.notifyError(w),v.rejectPending(w),C.rejectPending(w)}),new sWe(e,(a=l.meta)!==null&&a!==void 0?a:{},t,g.promise,f,v.promise,C.promise)}unary(e,t,i){var o,r,s,a;let l=i,c=(o=l.format)!==null&&o!==void 0?o:"text",d=(r=l.fetchInit)!==null&&r!==void 0?r:{},u=this.makeUrl(e,l),h=e.I.toBinary(t,l.binaryOptions),g=new Kh,f,p=new Kh,b,v=new Kh,_,C=new Kh;return globalThis.fetch(u,Object.assign(Object.assign({},d),{method:"POST",headers:wG(new globalThis.Headers,c,l.timeout,l.meta),body:SG(h,c),signal:(s=i.abort)!==null&&s!==void 0?s:null})).then(y=>{let[w,S,x]=l9(y);if(g.resolve(x),w!=null&&w!==Je.OK)throw new Dn(S??Je[w],Je[w],x);return w!=null&&(b={code:Je[w],detail:S??Je[w]}),y}).then(y=>{if(!y.body)throw new Dn("missing response body",Je[Je.INTERNAL]);return kG(y.body,y.headers.get("content-type"),(w,S)=>{switch(w){case sc.DATA:if(f)throw new Dn("unary call received 2nd message",Je[Je.DATA_LOSS]);f=e.O.fromBinary(S,l.binaryOptions);break;case sc.TRAILER:let x,L;[x,L,_]=xG(S),b={code:Je[x],detail:L??Je[x]};break}})}).then(()=>{if(!_&&f)throw new Dn("missing trailers",Je[Je.DATA_LOSS]);if(!b)throw new Dn("missing status",Je[Je.INTERNAL]);if(!f&&b.code==="OK")throw new Dn("expected error status",Je[Je.DATA_LOSS]);if(!f)throw new Dn(b.detail,b.code,_);if(p.resolve(f),b.code!=="OK")throw new Dn(b.detail,b.code,_);v.resolve(b),C.resolve(_||{})}).catch(y=>{let w;y instanceof Dn?w=y:y instanceof Error&&y.name==="AbortError"?w=new Dn(y.message,Je[Je.CANCELLED]):w=new Dn(y instanceof Error?y.message:""+y,Je[Je.INTERNAL]),w.methodName=e.name,w.serviceName=e.service.typeName,g.rejectPending(w),p.rejectPending(w),v.rejectPending(w),C.rejectPending(w)}),new oWe(e,(a=l.meta)!==null&&a!==void 0?a:{},t,g.promise,p.promise,v.promise,C.promise)}}class fWe extends jt{constructor(){super("google.protobuf.Duration",[{no:1,name:"seconds",kind:"scalar",T:3,L:0},{no:2,name:"nanos",kind:"scalar",T:5}])}internalJsonWrite(e,t){let i=yn.from(e.seconds).toNumber();if(i>315576e6||i<-315576e6)throw new Error("Duration value out of range.");let o=e.seconds.toString();if(i===0&&e.nanos<0&&(o="-"+o),e.nanos!==0){let r=Math.abs(e.nanos).toString();r="0".repeat(9-r.length)+r,r.substring(3)==="000000"?r=r.substring(0,3):r.substring(6)==="000"&&(r=r.substring(0,6)),o+="."+r}return o+"s"}internalJsonRead(e,t,i){if(typeof e!="string")throw new Error("Unable to parse Duration from JSON "+av(e)+". Expected string.");let o=e.match(/^(-?)([0-9]+)(?:\.([0-9]+))?s/);if(o===null)throw new Error("Unable to parse Duration from JSON string. Invalid format.");i||(i=this.create());let[,r,s,a]=o,l=yn.from(r+s);if(l.toNumber()>315576e6||l.toNumber()<-315576e6)throw new Error("Unable to parse Duration from JSON string. Value out of range.");if(i.seconds=l.toBigInt(),typeof a=="string"){let c=r+a+"0".repeat(9-a.length);i.nanos=parseInt(c)}return i}create(e){const t={seconds:0n,nanos:0};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.seconds=e.int64().toBigInt();break;case 2:r.nanos=e.int32();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.seconds!==0n&&t.tag(1,$.Varint).int64(e.seconds),e.nanos!==0&&t.tag(2,$.Varint).int32(e.nanos);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const Nv=new fWe;var cse=(n=>(n[n.NULL_VALUE=0]="NULL_VALUE",n))(cse||{});class pWe extends jt{constructor(){super("google.protobuf.Struct",[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:()=>Ql}}])}internalJsonWrite(e,t){let i={};for(let[o,r]of Object.entries(e.fields))i[o]=Ql.toJson(r);return i}internalJsonRead(e,t,i){if(!Jre(e))throw new globalThis.Error("Unable to parse message "+this.typeName+" from JSON "+av(e)+".");i||(i=this.create());for(let[o,r]of globalThis.Object.entries(e))i.fields[o]=Ql.fromJson(r);return i}create(e){const t={fields:{}};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:this.binaryReadMap1(r.fields,e,i);break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}binaryReadMap1(e,t,i){let o=t.uint32(),r=t.pos+o,s,a;for(;t.pos<r;){let[l,c]=t.tag();switch(l){case 1:s=t.string();break;case 2:a=Ql.internalBinaryRead(t,t.uint32(),i);break;default:throw new globalThis.Error("unknown map entry field for field google.protobuf.Struct.fields")}}e[s??""]=a??Ql.create()}internalBinaryWrite(e,t,i){for(let r of Object.keys(e.fields))t.tag(1,$.LengthDelimited).fork().tag(1,$.LengthDelimited).string(r),t.tag(2,$.LengthDelimited).fork(),Ql.internalBinaryWrite(e.fields[r],t,i),t.join().join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const Hp=new pWe;class mWe extends jt{constructor(){super("google.protobuf.Value",[{no:1,name:"null_value",kind:"enum",oneof:"kind",T:()=>["google.protobuf.NullValue",cse]},{no:2,name:"number_value",kind:"scalar",oneof:"kind",T:1},{no:3,name:"string_value",kind:"scalar",oneof:"kind",T:9},{no:4,name:"bool_value",kind:"scalar",oneof:"kind",T:8},{no:5,name:"struct_value",kind:"message",oneof:"kind",T:()=>Hp},{no:6,name:"list_value",kind:"message",oneof:"kind",T:()=>nL}])}internalJsonWrite(e,t){if(e.kind.oneofKind===void 0)throw new globalThis.Error;switch(e.kind.oneofKind){case void 0:throw new globalThis.Error;case"boolValue":return e.kind.boolValue;case"nullValue":return null;case"numberValue":let i=e.kind.numberValue;if(typeof i=="number"&&!Number.isFinite(i))throw new globalThis.Error;return i;case"stringValue":return e.kind.stringValue;case"listValue":let o=this.fields.find(s=>s.no===6);if((o==null?void 0:o.kind)!=="message")throw new globalThis.Error;return o.T().toJson(e.kind.listValue);case"structValue":let r=this.fields.find(s=>s.no===5);if((r==null?void 0:r.kind)!=="message")throw new globalThis.Error;return r.T().toJson(e.kind.structValue)}}internalJsonRead(e,t,i){switch(i||(i=this.create()),typeof e){case"number":i.kind={oneofKind:"numberValue",numberValue:e};break;case"string":i.kind={oneofKind:"stringValue",stringValue:e};break;case"boolean":i.kind={oneofKind:"boolValue",boolValue:e};break;case"object":e===null?i.kind={oneofKind:"nullValue",nullValue:0}:globalThis.Array.isArray(e)?i.kind={oneofKind:"listValue",listValue:nL.fromJson(e)}:i.kind={oneofKind:"structValue",structValue:Hp.fromJson(e)};break;default:throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+av(e))}return i}create(e){const t={kind:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.kind={oneofKind:"nullValue",nullValue:e.int32()};break;case 2:r.kind={oneofKind:"numberValue",numberValue:e.double()};break;case 3:r.kind={oneofKind:"stringValue",stringValue:e.string()};break;case 4:r.kind={oneofKind:"boolValue",boolValue:e.bool()};break;case 5:r.kind={oneofKind:"structValue",structValue:Hp.internalBinaryRead(e,e.uint32(),i,r.kind.structValue)};break;case 6:r.kind={oneofKind:"listValue",listValue:nL.internalBinaryRead(e,e.uint32(),i,r.kind.listValue)};break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.kind.oneofKind==="nullValue"&&t.tag(1,$.Varint).int32(e.kind.nullValue),e.kind.oneofKind==="numberValue"&&t.tag(2,$.Bit64).double(e.kind.numberValue),e.kind.oneofKind==="stringValue"&&t.tag(3,$.LengthDelimited).string(e.kind.stringValue),e.kind.oneofKind==="boolValue"&&t.tag(4,$.Varint).bool(e.kind.boolValue),e.kind.oneofKind==="structValue"&&Hp.internalBinaryWrite(e.kind.structValue,t.tag(5,$.LengthDelimited).fork(),i).join(),e.kind.oneofKind==="listValue"&&nL.internalBinaryWrite(e.kind.listValue,t.tag(6,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const Ql=new mWe;class vWe extends jt{constructor(){super("google.protobuf.ListValue",[{no:1,name:"values",kind:"message",repeat:1,T:()=>Ql}])}internalJsonWrite(e,t){return e.values.map(i=>Ql.toJson(i))}internalJsonRead(e,t,i){if(!globalThis.Array.isArray(e))throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+av(e));i||(i=this.create());let o=e.map(r=>Ql.fromJson(r));return i.values.push(...o),i}create(e){const t={values:[]};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.values.push(Ql.internalBinaryRead(e,e.uint32(),i));break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.values.length;r++)Ql.internalBinaryWrite(e.values[r],t.tag(1,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const nL=new vWe;class bWe extends jt{constructor(){super("opentelemetry.proto.common.v1.AnyValue",[{no:1,name:"string_value",kind:"scalar",oneof:"value",T:9},{no:2,name:"bool_value",kind:"scalar",oneof:"value",T:8},{no:3,name:"int_value",kind:"scalar",oneof:"value",T:3,L:0},{no:4,name:"double_value",kind:"scalar",oneof:"value",T:1},{no:5,name:"array_value",kind:"message",oneof:"value",T:()=>jA},{no:6,name:"kvlist_value",kind:"message",oneof:"value",T:()=>KA},{no:7,name:"bytes_value",kind:"scalar",oneof:"value",T:12}])}create(e){const t={value:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.value={oneofKind:"stringValue",stringValue:e.string()};break;case 2:r.value={oneofKind:"boolValue",boolValue:e.bool()};break;case 3:r.value={oneofKind:"intValue",intValue:e.int64().toBigInt()};break;case 4:r.value={oneofKind:"doubleValue",doubleValue:e.double()};break;case 5:r.value={oneofKind:"arrayValue",arrayValue:jA.internalBinaryRead(e,e.uint32(),i,r.value.arrayValue)};break;case 6:r.value={oneofKind:"kvlistValue",kvlistValue:KA.internalBinaryRead(e,e.uint32(),i,r.value.kvlistValue)};break;case 7:r.value={oneofKind:"bytesValue",bytesValue:e.bytes()};break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.value.oneofKind==="stringValue"&&t.tag(1,$.LengthDelimited).string(e.value.stringValue),e.value.oneofKind==="boolValue"&&t.tag(2,$.Varint).bool(e.value.boolValue),e.value.oneofKind==="intValue"&&t.tag(3,$.Varint).int64(e.value.intValue),e.value.oneofKind==="doubleValue"&&t.tag(4,$.Bit64).double(e.value.doubleValue),e.value.oneofKind==="arrayValue"&&jA.internalBinaryWrite(e.value.arrayValue,t.tag(5,$.LengthDelimited).fork(),i).join(),e.value.oneofKind==="kvlistValue"&&KA.internalBinaryWrite(e.value.kvlistValue,t.tag(6,$.LengthDelimited).fork(),i).join(),e.value.oneofKind==="bytesValue"&&t.tag(7,$.LengthDelimited).bytes(e.value.bytesValue);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const eh=new bWe;class _We extends jt{constructor(){super("opentelemetry.proto.common.v1.ArrayValue",[{no:1,name:"values",kind:"message",repeat:1,T:()=>eh}])}create(e){const t={values:[]};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.values.push(eh.internalBinaryRead(e,e.uint32(),i));break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.values.length;r++)eh.internalBinaryWrite(e.values[r],t.tag(1,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const jA=new _We;class CWe extends jt{constructor(){super("opentelemetry.proto.common.v1.KeyValueList",[{no:1,name:"values",kind:"message",repeat:1,T:()=>vi}])}create(e){const t={values:[]};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.values.push(vi.internalBinaryRead(e,e.uint32(),i));break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.values.length;r++)vi.internalBinaryWrite(e.values[r],t.tag(1,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const KA=new CWe;class yWe extends jt{constructor(){super("opentelemetry.proto.common.v1.KeyValue",[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"value",kind:"message",T:()=>eh}])}create(e){const t={key:""};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.key=e.string();break;case 2:r.value=eh.internalBinaryRead(e,e.uint32(),i,r.value);break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.key!==""&&t.tag(1,$.LengthDelimited).string(e.key),e.value&&eh.internalBinaryWrite(e.value,t.tag(2,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const vi=new yWe;class wWe extends jt{constructor(){super("opentelemetry.proto.common.v1.InstrumentationScope",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",repeat:1,T:()=>vi},{no:4,name:"dropped_attributes_count",kind:"scalar",T:13}])}create(e){const t={name:"",version:"",attributes:[],droppedAttributesCount:0};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.name=e.string();break;case 2:r.version=e.string();break;case 3:r.attributes.push(vi.internalBinaryRead(e,e.uint32(),i));break;case 4:r.droppedAttributesCount=e.uint32();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.name!==""&&t.tag(1,$.LengthDelimited).string(e.name),e.version!==""&&t.tag(2,$.LengthDelimited).string(e.version);for(let r=0;r<e.attributes.length;r++)vi.internalBinaryWrite(e.attributes[r],t.tag(3,$.LengthDelimited).fork(),i).join();e.droppedAttributesCount!==0&&t.tag(4,$.Varint).uint32(e.droppedAttributesCount);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const th=new wWe;class SWe extends jt{constructor(){super("opentelemetry.proto.resource.v1.Resource",[{no:1,name:"attributes",kind:"message",repeat:1,T:()=>vi},{no:2,name:"dropped_attributes_count",kind:"scalar",T:13}])}create(e){const t={attributes:[],droppedAttributesCount:0};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.attributes.push(vi.internalBinaryRead(e,e.uint32(),i));break;case 2:r.droppedAttributesCount=e.uint32();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.attributes.length;r++)vi.internalBinaryWrite(e.attributes[r],t.tag(1,$.LengthDelimited).fork(),i).join();e.droppedAttributesCount!==0&&t.tag(2,$.Varint).uint32(e.droppedAttributesCount);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const ih=new SWe;var dse=(n=>(n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.INTERNAL=1]="INTERNAL",n[n.SERVER=2]="SERVER",n[n.CLIENT=3]="CLIENT",n[n.PRODUCER=4]="PRODUCER",n[n.CONSUMER=5]="CONSUMER",n))(dse||{}),use=(n=>(n[n.UNSET=0]="UNSET",n[n.OK=1]="OK",n[n.ERROR=2]="ERROR",n))(use||{});class xWe extends jt{constructor(){super("opentelemetry.proto.trace.v1.TracesData",[{no:1,name:"resource_spans",kind:"message",repeat:1,T:()=>GA}])}create(e){const t={resourceSpans:[]};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.resourceSpans.push(GA.internalBinaryRead(e,e.uint32(),i));break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.resourceSpans.length;r++)GA.internalBinaryWrite(e.resourceSpans[r],t.tag(1,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const qA=new xWe;class kWe extends jt{constructor(){super("opentelemetry.proto.trace.v1.ResourceSpans",[{no:1,name:"resource",kind:"message",T:()=>ih},{no:2,name:"scope_spans",kind:"message",repeat:1,T:()=>ZA},{no:3,name:"schema_url",kind:"scalar",T:9}])}create(e){const t={scopeSpans:[],schemaUrl:""};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.resource=ih.internalBinaryRead(e,e.uint32(),i,r.resource);break;case 2:r.scopeSpans.push(ZA.internalBinaryRead(e,e.uint32(),i));break;case 3:r.schemaUrl=e.string();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.resource&&ih.internalBinaryWrite(e.resource,t.tag(1,$.LengthDelimited).fork(),i).join();for(let r=0;r<e.scopeSpans.length;r++)ZA.internalBinaryWrite(e.scopeSpans[r],t.tag(2,$.LengthDelimited).fork(),i).join();e.schemaUrl!==""&&t.tag(3,$.LengthDelimited).string(e.schemaUrl);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const GA=new kWe;class LWe extends jt{constructor(){super("opentelemetry.proto.trace.v1.ScopeSpans",[{no:1,name:"scope",kind:"message",T:()=>th},{no:2,name:"spans",kind:"message",repeat:1,T:()=>YA},{no:3,name:"schema_url",kind:"scalar",T:9}])}create(e){const t={spans:[],schemaUrl:""};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.scope=th.internalBinaryRead(e,e.uint32(),i,r.scope);break;case 2:r.spans.push(YA.internalBinaryRead(e,e.uint32(),i));break;case 3:r.schemaUrl=e.string();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.scope&&th.internalBinaryWrite(e.scope,t.tag(1,$.LengthDelimited).fork(),i).join();for(let r=0;r<e.spans.length;r++)YA.internalBinaryWrite(e.spans[r],t.tag(2,$.LengthDelimited).fork(),i).join();e.schemaUrl!==""&&t.tag(3,$.LengthDelimited).string(e.schemaUrl);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const ZA=new LWe;class DWe extends jt{constructor(){super("opentelemetry.proto.trace.v1.Span",[{no:1,name:"trace_id",kind:"scalar",T:12},{no:2,name:"span_id",kind:"scalar",T:12},{no:3,name:"trace_state",kind:"scalar",T:9},{no:4,name:"parent_span_id",kind:"scalar",T:12},{no:16,name:"flags",kind:"scalar",T:7},{no:5,name:"name",kind:"scalar",T:9},{no:6,name:"kind",kind:"enum",T:()=>["opentelemetry.proto.trace.v1.Span.SpanKind",dse,"SPAN_KIND_"]},{no:7,name:"start_time_unix_nano",kind:"scalar",T:6,L:0},{no:8,name:"end_time_unix_nano",kind:"scalar",T:6,L:0},{no:9,name:"attributes",kind:"message",repeat:1,T:()=>vi},{no:10,name:"dropped_attributes_count",kind:"scalar",T:13},{no:11,name:"events",kind:"message",repeat:1,T:()=>XA},{no:12,name:"dropped_events_count",kind:"scalar",T:13},{no:13,name:"links",kind:"message",repeat:1,T:()=>QA},{no:14,name:"dropped_links_count",kind:"scalar",T:13},{no:15,name:"status",kind:"message",T:()=>JA}])}create(e){const t={traceId:new Uint8Array(0),spanId:new Uint8Array(0),traceState:"",parentSpanId:new Uint8Array(0),flags:0,name:"",kind:0,startTimeUnixNano:0n,endTimeUnixNano:0n,attributes:[],droppedAttributesCount:0,events:[],droppedEventsCount:0,links:[],droppedLinksCount:0};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.traceId=e.bytes();break;case 2:r.spanId=e.bytes();break;case 3:r.traceState=e.string();break;case 4:r.parentSpanId=e.bytes();break;case 16:r.flags=e.fixed32();break;case 5:r.name=e.string();break;case 6:r.kind=e.int32();break;case 7:r.startTimeUnixNano=e.fixed64().toBigInt();break;case 8:r.endTimeUnixNano=e.fixed64().toBigInt();break;case 9:r.attributes.push(vi.internalBinaryRead(e,e.uint32(),i));break;case 10:r.droppedAttributesCount=e.uint32();break;case 11:r.events.push(XA.internalBinaryRead(e,e.uint32(),i));break;case 12:r.droppedEventsCount=e.uint32();break;case 13:r.links.push(QA.internalBinaryRead(e,e.uint32(),i));break;case 14:r.droppedLinksCount=e.uint32();break;case 15:r.status=JA.internalBinaryRead(e,e.uint32(),i,r.status);break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.traceId.length&&t.tag(1,$.LengthDelimited).bytes(e.traceId),e.spanId.length&&t.tag(2,$.LengthDelimited).bytes(e.spanId),e.traceState!==""&&t.tag(3,$.LengthDelimited).string(e.traceState),e.parentSpanId.length&&t.tag(4,$.LengthDelimited).bytes(e.parentSpanId),e.flags!==0&&t.tag(16,$.Bit32).fixed32(e.flags),e.name!==""&&t.tag(5,$.LengthDelimited).string(e.name),e.kind!==0&&t.tag(6,$.Varint).int32(e.kind),e.startTimeUnixNano!==0n&&t.tag(7,$.Bit64).fixed64(e.startTimeUnixNano),e.endTimeUnixNano!==0n&&t.tag(8,$.Bit64).fixed64(e.endTimeUnixNano);for(let r=0;r<e.attributes.length;r++)vi.internalBinaryWrite(e.attributes[r],t.tag(9,$.LengthDelimited).fork(),i).join();e.droppedAttributesCount!==0&&t.tag(10,$.Varint).uint32(e.droppedAttributesCount);for(let r=0;r<e.events.length;r++)XA.internalBinaryWrite(e.events[r],t.tag(11,$.LengthDelimited).fork(),i).join();e.droppedEventsCount!==0&&t.tag(12,$.Varint).uint32(e.droppedEventsCount);for(let r=0;r<e.links.length;r++)QA.internalBinaryWrite(e.links[r],t.tag(13,$.LengthDelimited).fork(),i).join();e.droppedLinksCount!==0&&t.tag(14,$.Varint).uint32(e.droppedLinksCount),e.status&&JA.internalBinaryWrite(e.status,t.tag(15,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const YA=new DWe;class EWe extends jt{constructor(){super("opentelemetry.proto.trace.v1.Span.Event",[{no:1,name:"time_unix_nano",kind:"scalar",T:6,L:0},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",repeat:1,T:()=>vi},{no:4,name:"dropped_attributes_count",kind:"scalar",T:13}])}create(e){const t={timeUnixNano:0n,name:"",attributes:[],droppedAttributesCount:0};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.timeUnixNano=e.fixed64().toBigInt();break;case 2:r.name=e.string();break;case 3:r.attributes.push(vi.internalBinaryRead(e,e.uint32(),i));break;case 4:r.droppedAttributesCount=e.uint32();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.timeUnixNano!==0n&&t.tag(1,$.Bit64).fixed64(e.timeUnixNano),e.name!==""&&t.tag(2,$.LengthDelimited).string(e.name);for(let r=0;r<e.attributes.length;r++)vi.internalBinaryWrite(e.attributes[r],t.tag(3,$.LengthDelimited).fork(),i).join();e.droppedAttributesCount!==0&&t.tag(4,$.Varint).uint32(e.droppedAttributesCount);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const XA=new EWe;class TWe extends jt{constructor(){super("opentelemetry.proto.trace.v1.Span.Link",[{no:1,name:"trace_id",kind:"scalar",T:12},{no:2,name:"span_id",kind:"scalar",T:12},{no:3,name:"trace_state",kind:"scalar",T:9},{no:4,name:"attributes",kind:"message",repeat:1,T:()=>vi},{no:5,name:"dropped_attributes_count",kind:"scalar",T:13},{no:6,name:"flags",kind:"scalar",T:7}])}create(e){const t={traceId:new Uint8Array(0),spanId:new Uint8Array(0),traceState:"",attributes:[],droppedAttributesCount:0,flags:0};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.traceId=e.bytes();break;case 2:r.spanId=e.bytes();break;case 3:r.traceState=e.string();break;case 4:r.attributes.push(vi.internalBinaryRead(e,e.uint32(),i));break;case 5:r.droppedAttributesCount=e.uint32();break;case 6:r.flags=e.fixed32();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.traceId.length&&t.tag(1,$.LengthDelimited).bytes(e.traceId),e.spanId.length&&t.tag(2,$.LengthDelimited).bytes(e.spanId),e.traceState!==""&&t.tag(3,$.LengthDelimited).string(e.traceState);for(let r=0;r<e.attributes.length;r++)vi.internalBinaryWrite(e.attributes[r],t.tag(4,$.LengthDelimited).fork(),i).join();e.droppedAttributesCount!==0&&t.tag(5,$.Varint).uint32(e.droppedAttributesCount),e.flags!==0&&t.tag(6,$.Bit32).fixed32(e.flags);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const QA=new TWe;class IWe extends jt{constructor(){super("opentelemetry.proto.trace.v1.Status",[{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"code",kind:"enum",T:()=>["opentelemetry.proto.trace.v1.Status.StatusCode",use,"STATUS_CODE_"]}])}create(e){const t={message:"",code:0};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 2:r.message=e.string();break;case 3:r.code=e.int32();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.message!==""&&t.tag(2,$.LengthDelimited).string(e.message),e.code!==0&&t.tag(3,$.Varint).int32(e.code);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const JA=new IWe;var hse=(n=>(n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.TRACE=1]="TRACE",n[n.TRACE2=2]="TRACE2",n[n.TRACE3=3]="TRACE3",n[n.TRACE4=4]="TRACE4",n[n.DEBUG=5]="DEBUG",n[n.DEBUG2=6]="DEBUG2",n[n.DEBUG3=7]="DEBUG3",n[n.DEBUG4=8]="DEBUG4",n[n.INFO=9]="INFO",n[n.INFO2=10]="INFO2",n[n.INFO3=11]="INFO3",n[n.INFO4=12]="INFO4",n[n.WARN=13]="WARN",n[n.WARN2=14]="WARN2",n[n.WARN3=15]="WARN3",n[n.WARN4=16]="WARN4",n[n.ERROR=17]="ERROR",n[n.ERROR2=18]="ERROR2",n[n.ERROR3=19]="ERROR3",n[n.ERROR4=20]="ERROR4",n[n.FATAL=21]="FATAL",n[n.FATAL2=22]="FATAL2",n[n.FATAL3=23]="FATAL3",n[n.FATAL4=24]="FATAL4",n))(hse||{});class NWe extends jt{constructor(){super("opentelemetry.proto.logs.v1.LogsData",[{no:1,name:"resource_logs",kind:"message",repeat:1,T:()=>tP}])}create(e){const t={resourceLogs:[]};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.resourceLogs.push(tP.internalBinaryRead(e,e.uint32(),i));break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.resourceLogs.length;r++)tP.internalBinaryWrite(e.resourceLogs[r],t.tag(1,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const eP=new NWe;class RWe extends jt{constructor(){super("opentelemetry.proto.logs.v1.ResourceLogs",[{no:1,name:"resource",kind:"message",T:()=>ih},{no:2,name:"scope_logs",kind:"message",repeat:1,T:()=>iP},{no:3,name:"schema_url",kind:"scalar",T:9}])}create(e){const t={scopeLogs:[],schemaUrl:""};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.resource=ih.internalBinaryRead(e,e.uint32(),i,r.resource);break;case 2:r.scopeLogs.push(iP.internalBinaryRead(e,e.uint32(),i));break;case 3:r.schemaUrl=e.string();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.resource&&ih.internalBinaryWrite(e.resource,t.tag(1,$.LengthDelimited).fork(),i).join();for(let r=0;r<e.scopeLogs.length;r++)iP.internalBinaryWrite(e.scopeLogs[r],t.tag(2,$.LengthDelimited).fork(),i).join();e.schemaUrl!==""&&t.tag(3,$.LengthDelimited).string(e.schemaUrl);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const tP=new RWe;class MWe extends jt{constructor(){super("opentelemetry.proto.logs.v1.ScopeLogs",[{no:1,name:"scope",kind:"message",T:()=>th},{no:2,name:"log_records",kind:"message",repeat:1,T:()=>nP},{no:3,name:"schema_url",kind:"scalar",T:9}])}create(e){const t={logRecords:[],schemaUrl:""};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.scope=th.internalBinaryRead(e,e.uint32(),i,r.scope);break;case 2:r.logRecords.push(nP.internalBinaryRead(e,e.uint32(),i));break;case 3:r.schemaUrl=e.string();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.scope&&th.internalBinaryWrite(e.scope,t.tag(1,$.LengthDelimited).fork(),i).join();for(let r=0;r<e.logRecords.length;r++)nP.internalBinaryWrite(e.logRecords[r],t.tag(2,$.LengthDelimited).fork(),i).join();e.schemaUrl!==""&&t.tag(3,$.LengthDelimited).string(e.schemaUrl);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const iP=new MWe;class AWe extends jt{constructor(){super("opentelemetry.proto.logs.v1.LogRecord",[{no:1,name:"time_unix_nano",kind:"scalar",T:6,L:0},{no:11,name:"observed_time_unix_nano",kind:"scalar",T:6,L:0},{no:2,name:"severity_number",kind:"enum",T:()=>["opentelemetry.proto.logs.v1.SeverityNumber",hse,"SEVERITY_NUMBER_"]},{no:3,name:"severity_text",kind:"scalar",T:9},{no:5,name:"body",kind:"message",T:()=>eh},{no:6,name:"attributes",kind:"message",repeat:1,T:()=>vi},{no:7,name:"dropped_attributes_count",kind:"scalar",T:13},{no:8,name:"flags",kind:"scalar",T:7},{no:9,name:"trace_id",kind:"scalar",T:12},{no:10,name:"span_id",kind:"scalar",T:12}])}create(e){const t={timeUnixNano:0n,observedTimeUnixNano:0n,severityNumber:0,severityText:"",attributes:[],droppedAttributesCount:0,flags:0,traceId:new Uint8Array(0),spanId:new Uint8Array(0)};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.timeUnixNano=e.fixed64().toBigInt();break;case 11:r.observedTimeUnixNano=e.fixed64().toBigInt();break;case 2:r.severityNumber=e.int32();break;case 3:r.severityText=e.string();break;case 5:r.body=eh.internalBinaryRead(e,e.uint32(),i,r.body);break;case 6:r.attributes.push(vi.internalBinaryRead(e,e.uint32(),i));break;case 7:r.droppedAttributesCount=e.uint32();break;case 8:r.flags=e.fixed32();break;case 9:r.traceId=e.bytes();break;case 10:r.spanId=e.bytes();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.timeUnixNano!==0n&&t.tag(1,$.Bit64).fixed64(e.timeUnixNano),e.observedTimeUnixNano!==0n&&t.tag(11,$.Bit64).fixed64(e.observedTimeUnixNano),e.severityNumber!==0&&t.tag(2,$.Varint).int32(e.severityNumber),e.severityText!==""&&t.tag(3,$.LengthDelimited).string(e.severityText),e.body&&eh.internalBinaryWrite(e.body,t.tag(5,$.LengthDelimited).fork(),i).join();for(let r=0;r<e.attributes.length;r++)vi.internalBinaryWrite(e.attributes[r],t.tag(6,$.LengthDelimited).fork(),i).join();e.droppedAttributesCount!==0&&t.tag(7,$.Varint).uint32(e.droppedAttributesCount),e.flags!==0&&t.tag(8,$.Bit32).fixed32(e.flags),e.traceId.length&&t.tag(9,$.LengthDelimited).bytes(e.traceId),e.spanId.length&&t.tag(10,$.LengthDelimited).bytes(e.spanId);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const nP=new AWe;var tR=(n=>(n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.DELTA=1]="DELTA",n[n.CUMULATIVE=2]="CUMULATIVE",n))(tR||{});class PWe extends jt{constructor(){super("opentelemetry.proto.metrics.v1.MetricsData",[{no:1,name:"resource_metrics",kind:"message",repeat:1,T:()=>rP}])}create(e){const t={resourceMetrics:[]};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.resourceMetrics.push(rP.internalBinaryRead(e,e.uint32(),i));break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.resourceMetrics.length;r++)rP.internalBinaryWrite(e.resourceMetrics[r],t.tag(1,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const oP=new PWe;class OWe extends jt{constructor(){super("opentelemetry.proto.metrics.v1.ResourceMetrics",[{no:1,name:"resource",kind:"message",T:()=>ih},{no:2,name:"scope_metrics",kind:"message",repeat:1,T:()=>sP},{no:3,name:"schema_url",kind:"scalar",T:9}])}create(e){const t={scopeMetrics:[],schemaUrl:""};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.resource=ih.internalBinaryRead(e,e.uint32(),i,r.resource);break;case 2:r.scopeMetrics.push(sP.internalBinaryRead(e,e.uint32(),i));break;case 3:r.schemaUrl=e.string();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.resource&&ih.internalBinaryWrite(e.resource,t.tag(1,$.LengthDelimited).fork(),i).join();for(let r=0;r<e.scopeMetrics.length;r++)sP.internalBinaryWrite(e.scopeMetrics[r],t.tag(2,$.LengthDelimited).fork(),i).join();e.schemaUrl!==""&&t.tag(3,$.LengthDelimited).string(e.schemaUrl);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const rP=new OWe;class FWe extends jt{constructor(){super("opentelemetry.proto.metrics.v1.ScopeMetrics",[{no:1,name:"scope",kind:"message",T:()=>th},{no:2,name:"metrics",kind:"message",repeat:1,T:()=>aP},{no:3,name:"schema_url",kind:"scalar",T:9}])}create(e){const t={metrics:[],schemaUrl:""};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.scope=th.internalBinaryRead(e,e.uint32(),i,r.scope);break;case 2:r.metrics.push(aP.internalBinaryRead(e,e.uint32(),i));break;case 3:r.schemaUrl=e.string();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.scope&&th.internalBinaryWrite(e.scope,t.tag(1,$.LengthDelimited).fork(),i).join();for(let r=0;r<e.metrics.length;r++)aP.internalBinaryWrite(e.metrics[r],t.tag(2,$.LengthDelimited).fork(),i).join();e.schemaUrl!==""&&t.tag(3,$.LengthDelimited).string(e.schemaUrl);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const sP=new FWe;class BWe extends jt{constructor(){super("opentelemetry.proto.metrics.v1.Metric",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"unit",kind:"scalar",T:9},{no:5,name:"gauge",kind:"message",oneof:"data",T:()=>lP},{no:7,name:"sum",kind:"message",oneof:"data",T:()=>cP},{no:9,name:"histogram",kind:"message",oneof:"data",T:()=>dP},{no:10,name:"exponential_histogram",kind:"message",oneof:"data",T:()=>uP},{no:11,name:"summary",kind:"message",oneof:"data",T:()=>hP},{no:12,name:"metadata",kind:"message",repeat:1,T:()=>vi}])}create(e){const t={name:"",description:"",unit:"",data:{oneofKind:void 0},metadata:[]};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.name=e.string();break;case 2:r.description=e.string();break;case 3:r.unit=e.string();break;case 5:r.data={oneofKind:"gauge",gauge:lP.internalBinaryRead(e,e.uint32(),i,r.data.gauge)};break;case 7:r.data={oneofKind:"sum",sum:cP.internalBinaryRead(e,e.uint32(),i,r.data.sum)};break;case 9:r.data={oneofKind:"histogram",histogram:dP.internalBinaryRead(e,e.uint32(),i,r.data.histogram)};break;case 10:r.data={oneofKind:"exponentialHistogram",exponentialHistogram:uP.internalBinaryRead(e,e.uint32(),i,r.data.exponentialHistogram)};break;case 11:r.data={oneofKind:"summary",summary:hP.internalBinaryRead(e,e.uint32(),i,r.data.summary)};break;case 12:r.metadata.push(vi.internalBinaryRead(e,e.uint32(),i));break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.name!==""&&t.tag(1,$.LengthDelimited).string(e.name),e.description!==""&&t.tag(2,$.LengthDelimited).string(e.description),e.unit!==""&&t.tag(3,$.LengthDelimited).string(e.unit),e.data.oneofKind==="gauge"&&lP.internalBinaryWrite(e.data.gauge,t.tag(5,$.LengthDelimited).fork(),i).join(),e.data.oneofKind==="sum"&&cP.internalBinaryWrite(e.data.sum,t.tag(7,$.LengthDelimited).fork(),i).join(),e.data.oneofKind==="histogram"&&dP.internalBinaryWrite(e.data.histogram,t.tag(9,$.LengthDelimited).fork(),i).join(),e.data.oneofKind==="exponentialHistogram"&&uP.internalBinaryWrite(e.data.exponentialHistogram,t.tag(10,$.LengthDelimited).fork(),i).join(),e.data.oneofKind==="summary"&&hP.internalBinaryWrite(e.data.summary,t.tag(11,$.LengthDelimited).fork(),i).join();for(let r=0;r<e.metadata.length;r++)vi.internalBinaryWrite(e.metadata[r],t.tag(12,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const aP=new BWe;class WWe extends jt{constructor(){super("opentelemetry.proto.metrics.v1.Gauge",[{no:1,name:"data_points",kind:"message",repeat:1,T:()=>l_}])}create(e){const t={dataPoints:[]};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.dataPoints.push(l_.internalBinaryRead(e,e.uint32(),i));break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.dataPoints.length;r++)l_.internalBinaryWrite(e.dataPoints[r],t.tag(1,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const lP=new WWe;class VWe extends jt{constructor(){super("opentelemetry.proto.metrics.v1.Sum",[{no:1,name:"data_points",kind:"message",repeat:1,T:()=>l_},{no:2,name:"aggregation_temporality",kind:"enum",T:()=>["opentelemetry.proto.metrics.v1.AggregationTemporality",tR,"AGGREGATION_TEMPORALITY_"]},{no:3,name:"is_monotonic",kind:"scalar",T:8}])}create(e){const t={dataPoints:[],aggregationTemporality:0,isMonotonic:!1};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.dataPoints.push(l_.internalBinaryRead(e,e.uint32(),i));break;case 2:r.aggregationTemporality=e.int32();break;case 3:r.isMonotonic=e.bool();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.dataPoints.length;r++)l_.internalBinaryWrite(e.dataPoints[r],t.tag(1,$.LengthDelimited).fork(),i).join();e.aggregationTemporality!==0&&t.tag(2,$.Varint).int32(e.aggregationTemporality),e.isMonotonic!==!1&&t.tag(3,$.Varint).bool(e.isMonotonic);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const cP=new VWe;class HWe extends jt{constructor(){super("opentelemetry.proto.metrics.v1.Histogram",[{no:1,name:"data_points",kind:"message",repeat:1,T:()=>gP},{no:2,name:"aggregation_temporality",kind:"enum",T:()=>["opentelemetry.proto.metrics.v1.AggregationTemporality",tR,"AGGREGATION_TEMPORALITY_"]}])}create(e){const t={dataPoints:[],aggregationTemporality:0};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.dataPoints.push(gP.internalBinaryRead(e,e.uint32(),i));break;case 2:r.aggregationTemporality=e.int32();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.dataPoints.length;r++)gP.internalBinaryWrite(e.dataPoints[r],t.tag(1,$.LengthDelimited).fork(),i).join();e.aggregationTemporality!==0&&t.tag(2,$.Varint).int32(e.aggregationTemporality);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const dP=new HWe;class zWe extends jt{constructor(){super("opentelemetry.proto.metrics.v1.ExponentialHistogram",[{no:1,name:"data_points",kind:"message",repeat:1,T:()=>fP},{no:2,name:"aggregation_temporality",kind:"enum",T:()=>["opentelemetry.proto.metrics.v1.AggregationTemporality",tR,"AGGREGATION_TEMPORALITY_"]}])}create(e){const t={dataPoints:[],aggregationTemporality:0};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.dataPoints.push(fP.internalBinaryRead(e,e.uint32(),i));break;case 2:r.aggregationTemporality=e.int32();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.dataPoints.length;r++)fP.internalBinaryWrite(e.dataPoints[r],t.tag(1,$.LengthDelimited).fork(),i).join();e.aggregationTemporality!==0&&t.tag(2,$.Varint).int32(e.aggregationTemporality);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const uP=new zWe;class UWe extends jt{constructor(){super("opentelemetry.proto.metrics.v1.Summary",[{no:1,name:"data_points",kind:"message",repeat:1,T:()=>pP}])}create(e){const t={dataPoints:[]};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.dataPoints.push(pP.internalBinaryRead(e,e.uint32(),i));break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.dataPoints.length;r++)pP.internalBinaryWrite(e.dataPoints[r],t.tag(1,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const hP=new UWe;class $We extends jt{constructor(){super("opentelemetry.proto.metrics.v1.NumberDataPoint",[{no:7,name:"attributes",kind:"message",repeat:1,T:()=>vi},{no:2,name:"start_time_unix_nano",kind:"scalar",T:6,L:0},{no:3,name:"time_unix_nano",kind:"scalar",T:6,L:0},{no:4,name:"as_double",kind:"scalar",oneof:"value",T:1},{no:6,name:"as_int",kind:"scalar",oneof:"value",T:16,L:0},{no:5,name:"exemplars",kind:"message",repeat:1,T:()=>nh},{no:8,name:"flags",kind:"scalar",T:13}])}create(e){const t={attributes:[],startTimeUnixNano:0n,timeUnixNano:0n,value:{oneofKind:void 0},exemplars:[],flags:0};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 7:r.attributes.push(vi.internalBinaryRead(e,e.uint32(),i));break;case 2:r.startTimeUnixNano=e.fixed64().toBigInt();break;case 3:r.timeUnixNano=e.fixed64().toBigInt();break;case 4:r.value={oneofKind:"asDouble",asDouble:e.double()};break;case 6:r.value={oneofKind:"asInt",asInt:e.sfixed64().toBigInt()};break;case 5:r.exemplars.push(nh.internalBinaryRead(e,e.uint32(),i));break;case 8:r.flags=e.uint32();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.attributes.length;r++)vi.internalBinaryWrite(e.attributes[r],t.tag(7,$.LengthDelimited).fork(),i).join();e.startTimeUnixNano!==0n&&t.tag(2,$.Bit64).fixed64(e.startTimeUnixNano),e.timeUnixNano!==0n&&t.tag(3,$.Bit64).fixed64(e.timeUnixNano),e.value.oneofKind==="asDouble"&&t.tag(4,$.Bit64).double(e.value.asDouble),e.value.oneofKind==="asInt"&&t.tag(6,$.Bit64).sfixed64(e.value.asInt);for(let r=0;r<e.exemplars.length;r++)nh.internalBinaryWrite(e.exemplars[r],t.tag(5,$.LengthDelimited).fork(),i).join();e.flags!==0&&t.tag(8,$.Varint).uint32(e.flags);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const l_=new $We;class jWe extends jt{constructor(){super("opentelemetry.proto.metrics.v1.HistogramDataPoint",[{no:9,name:"attributes",kind:"message",repeat:1,T:()=>vi},{no:2,name:"start_time_unix_nano",kind:"scalar",T:6,L:0},{no:3,name:"time_unix_nano",kind:"scalar",T:6,L:0},{no:4,name:"count",kind:"scalar",T:6,L:0},{no:5,name:"sum",kind:"scalar",opt:!0,T:1},{no:6,name:"bucket_counts",kind:"scalar",repeat:1,T:6,L:0},{no:7,name:"explicit_bounds",kind:"scalar",repeat:1,T:1},{no:8,name:"exemplars",kind:"message",repeat:1,T:()=>nh},{no:10,name:"flags",kind:"scalar",T:13},{no:11,name:"min",kind:"scalar",opt:!0,T:1},{no:12,name:"max",kind:"scalar",opt:!0,T:1}])}create(e){const t={attributes:[],startTimeUnixNano:0n,timeUnixNano:0n,count:0n,bucketCounts:[],explicitBounds:[],exemplars:[],flags:0};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 9:r.attributes.push(vi.internalBinaryRead(e,e.uint32(),i));break;case 2:r.startTimeUnixNano=e.fixed64().toBigInt();break;case 3:r.timeUnixNano=e.fixed64().toBigInt();break;case 4:r.count=e.fixed64().toBigInt();break;case 5:r.sum=e.double();break;case 6:if(l===$.LengthDelimited)for(let u=e.int32()+e.pos;e.pos<u;)r.bucketCounts.push(e.fixed64().toBigInt());else r.bucketCounts.push(e.fixed64().toBigInt());break;case 7:if(l===$.LengthDelimited)for(let u=e.int32()+e.pos;e.pos<u;)r.explicitBounds.push(e.double());else r.explicitBounds.push(e.double());break;case 8:r.exemplars.push(nh.internalBinaryRead(e,e.uint32(),i));break;case 10:r.flags=e.uint32();break;case 11:r.min=e.double();break;case 12:r.max=e.double();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.attributes.length;r++)vi.internalBinaryWrite(e.attributes[r],t.tag(9,$.LengthDelimited).fork(),i).join();if(e.startTimeUnixNano!==0n&&t.tag(2,$.Bit64).fixed64(e.startTimeUnixNano),e.timeUnixNano!==0n&&t.tag(3,$.Bit64).fixed64(e.timeUnixNano),e.count!==0n&&t.tag(4,$.Bit64).fixed64(e.count),e.sum!==void 0&&t.tag(5,$.Bit64).double(e.sum),e.bucketCounts.length){t.tag(6,$.LengthDelimited).fork();for(let r=0;r<e.bucketCounts.length;r++)t.fixed64(e.bucketCounts[r]);t.join()}if(e.explicitBounds.length){t.tag(7,$.LengthDelimited).fork();for(let r=0;r<e.explicitBounds.length;r++)t.double(e.explicitBounds[r]);t.join()}for(let r=0;r<e.exemplars.length;r++)nh.internalBinaryWrite(e.exemplars[r],t.tag(8,$.LengthDelimited).fork(),i).join();e.flags!==0&&t.tag(10,$.Varint).uint32(e.flags),e.min!==void 0&&t.tag(11,$.Bit64).double(e.min),e.max!==void 0&&t.tag(12,$.Bit64).double(e.max);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const gP=new jWe;class KWe extends jt{constructor(){super("opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint",[{no:1,name:"attributes",kind:"message",repeat:1,T:()=>vi},{no:2,name:"start_time_unix_nano",kind:"scalar",T:6,L:0},{no:3,name:"time_unix_nano",kind:"scalar",T:6,L:0},{no:4,name:"count",kind:"scalar",T:6,L:0},{no:5,name:"sum",kind:"scalar",opt:!0,T:1},{no:6,name:"scale",kind:"scalar",T:17},{no:7,name:"zero_count",kind:"scalar",T:6,L:0},{no:8,name:"positive",kind:"message",T:()=>Rv},{no:9,name:"negative",kind:"message",T:()=>Rv},{no:10,name:"flags",kind:"scalar",T:13},{no:11,name:"exemplars",kind:"message",repeat:1,T:()=>nh},{no:12,name:"min",kind:"scalar",opt:!0,T:1},{no:13,name:"max",kind:"scalar",opt:!0,T:1},{no:14,name:"zero_threshold",kind:"scalar",T:1}])}create(e){const t={attributes:[],startTimeUnixNano:0n,timeUnixNano:0n,count:0n,scale:0,zeroCount:0n,flags:0,exemplars:[],zeroThreshold:0};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.attributes.push(vi.internalBinaryRead(e,e.uint32(),i));break;case 2:r.startTimeUnixNano=e.fixed64().toBigInt();break;case 3:r.timeUnixNano=e.fixed64().toBigInt();break;case 4:r.count=e.fixed64().toBigInt();break;case 5:r.sum=e.double();break;case 6:r.scale=e.sint32();break;case 7:r.zeroCount=e.fixed64().toBigInt();break;case 8:r.positive=Rv.internalBinaryRead(e,e.uint32(),i,r.positive);break;case 9:r.negative=Rv.internalBinaryRead(e,e.uint32(),i,r.negative);break;case 10:r.flags=e.uint32();break;case 11:r.exemplars.push(nh.internalBinaryRead(e,e.uint32(),i));break;case 12:r.min=e.double();break;case 13:r.max=e.double();break;case 14:r.zeroThreshold=e.double();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.attributes.length;r++)vi.internalBinaryWrite(e.attributes[r],t.tag(1,$.LengthDelimited).fork(),i).join();e.startTimeUnixNano!==0n&&t.tag(2,$.Bit64).fixed64(e.startTimeUnixNano),e.timeUnixNano!==0n&&t.tag(3,$.Bit64).fixed64(e.timeUnixNano),e.count!==0n&&t.tag(4,$.Bit64).fixed64(e.count),e.sum!==void 0&&t.tag(5,$.Bit64).double(e.sum),e.scale!==0&&t.tag(6,$.Varint).sint32(e.scale),e.zeroCount!==0n&&t.tag(7,$.Bit64).fixed64(e.zeroCount),e.positive&&Rv.internalBinaryWrite(e.positive,t.tag(8,$.LengthDelimited).fork(),i).join(),e.negative&&Rv.internalBinaryWrite(e.negative,t.tag(9,$.LengthDelimited).fork(),i).join(),e.flags!==0&&t.tag(10,$.Varint).uint32(e.flags);for(let r=0;r<e.exemplars.length;r++)nh.internalBinaryWrite(e.exemplars[r],t.tag(11,$.LengthDelimited).fork(),i).join();e.min!==void 0&&t.tag(12,$.Bit64).double(e.min),e.max!==void 0&&t.tag(13,$.Bit64).double(e.max),e.zeroThreshold!==0&&t.tag(14,$.Bit64).double(e.zeroThreshold);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const fP=new KWe;class qWe extends jt{constructor(){super("opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets",[{no:1,name:"offset",kind:"scalar",T:17},{no:2,name:"bucket_counts",kind:"scalar",repeat:1,T:4,L:0}])}create(e){const t={offset:0,bucketCounts:[]};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.offset=e.sint32();break;case 2:if(l===$.LengthDelimited)for(let u=e.int32()+e.pos;e.pos<u;)r.bucketCounts.push(e.uint64().toBigInt());else r.bucketCounts.push(e.uint64().toBigInt());break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){if(e.offset!==0&&t.tag(1,$.Varint).sint32(e.offset),e.bucketCounts.length){t.tag(2,$.LengthDelimited).fork();for(let r=0;r<e.bucketCounts.length;r++)t.uint64(e.bucketCounts[r]);t.join()}let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const Rv=new qWe;class GWe extends jt{constructor(){super("opentelemetry.proto.metrics.v1.SummaryDataPoint",[{no:7,name:"attributes",kind:"message",repeat:1,T:()=>vi},{no:2,name:"start_time_unix_nano",kind:"scalar",T:6,L:0},{no:3,name:"time_unix_nano",kind:"scalar",T:6,L:0},{no:4,name:"count",kind:"scalar",T:6,L:0},{no:5,name:"sum",kind:"scalar",T:1},{no:6,name:"quantile_values",kind:"message",repeat:1,T:()=>mP},{no:8,name:"flags",kind:"scalar",T:13}])}create(e){const t={attributes:[],startTimeUnixNano:0n,timeUnixNano:0n,count:0n,sum:0,quantileValues:[],flags:0};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 7:r.attributes.push(vi.internalBinaryRead(e,e.uint32(),i));break;case 2:r.startTimeUnixNano=e.fixed64().toBigInt();break;case 3:r.timeUnixNano=e.fixed64().toBigInt();break;case 4:r.count=e.fixed64().toBigInt();break;case 5:r.sum=e.double();break;case 6:r.quantileValues.push(mP.internalBinaryRead(e,e.uint32(),i));break;case 8:r.flags=e.uint32();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.attributes.length;r++)vi.internalBinaryWrite(e.attributes[r],t.tag(7,$.LengthDelimited).fork(),i).join();e.startTimeUnixNano!==0n&&t.tag(2,$.Bit64).fixed64(e.startTimeUnixNano),e.timeUnixNano!==0n&&t.tag(3,$.Bit64).fixed64(e.timeUnixNano),e.count!==0n&&t.tag(4,$.Bit64).fixed64(e.count),e.sum!==0&&t.tag(5,$.Bit64).double(e.sum);for(let r=0;r<e.quantileValues.length;r++)mP.internalBinaryWrite(e.quantileValues[r],t.tag(6,$.LengthDelimited).fork(),i).join();e.flags!==0&&t.tag(8,$.Varint).uint32(e.flags);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const pP=new GWe;class ZWe extends jt{constructor(){super("opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile",[{no:1,name:"quantile",kind:"scalar",T:1},{no:2,name:"value",kind:"scalar",T:1}])}create(e){const t={quantile:0,value:0};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.quantile=e.double();break;case 2:r.value=e.double();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.quantile!==0&&t.tag(1,$.Bit64).double(e.quantile),e.value!==0&&t.tag(2,$.Bit64).double(e.value);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const mP=new ZWe;class YWe extends jt{constructor(){super("opentelemetry.proto.metrics.v1.Exemplar",[{no:7,name:"filtered_attributes",kind:"message",repeat:1,T:()=>vi},{no:2,name:"time_unix_nano",kind:"scalar",T:6,L:0},{no:3,name:"as_double",kind:"scalar",oneof:"value",T:1},{no:6,name:"as_int",kind:"scalar",oneof:"value",T:16,L:0},{no:4,name:"span_id",kind:"scalar",T:12},{no:5,name:"trace_id",kind:"scalar",T:12}])}create(e){const t={filteredAttributes:[],timeUnixNano:0n,value:{oneofKind:void 0},spanId:new Uint8Array(0),traceId:new Uint8Array(0)};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 7:r.filteredAttributes.push(vi.internalBinaryRead(e,e.uint32(),i));break;case 2:r.timeUnixNano=e.fixed64().toBigInt();break;case 3:r.value={oneofKind:"asDouble",asDouble:e.double()};break;case 6:r.value={oneofKind:"asInt",asInt:e.sfixed64().toBigInt()};break;case 4:r.spanId=e.bytes();break;case 5:r.traceId=e.bytes();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){for(let r=0;r<e.filteredAttributes.length;r++)vi.internalBinaryWrite(e.filteredAttributes[r],t.tag(7,$.LengthDelimited).fork(),i).join();e.timeUnixNano!==0n&&t.tag(2,$.Bit64).fixed64(e.timeUnixNano),e.value.oneofKind==="asDouble"&&t.tag(3,$.Bit64).double(e.value.asDouble),e.value.oneofKind==="asInt"&&t.tag(6,$.Bit64).sfixed64(e.value.asInt),e.spanId.length&&t.tag(4,$.LengthDelimited).bytes(e.spanId),e.traceId.length&&t.tag(5,$.LengthDelimited).bytes(e.traceId);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const nh=new YWe;class XWe extends jt{constructor(){super("google.protobuf.Timestamp",[{no:1,name:"seconds",kind:"scalar",T:3,L:0},{no:2,name:"nanos",kind:"scalar",T:5}])}now(){const e=this.create(),t=Date.now();return e.seconds=yn.from(Math.floor(t/1e3)).toBigInt(),e.nanos=t%1e3*1e6,e}toDate(e){return new Date(yn.from(e.seconds).toNumber()*1e3+Math.ceil(e.nanos/1e6))}fromDate(e){const t=this.create(),i=e.getTime();return t.seconds=yn.from(Math.floor(i/1e3)).toBigInt(),t.nanos=i%1e3*1e6,t}internalJsonWrite(e,t){let i=yn.from(e.seconds).toNumber()*1e3;if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");if(e.nanos<0)throw new Error("Unable to encode invalid Timestamp to JSON. Nanos must not be negative.");let o="Z";if(e.nanos>0){let r=(e.nanos+1e9).toString().substring(1);r.substring(3)==="000000"?o="."+r.substring(0,3)+"Z":r.substring(6)==="000"?o="."+r.substring(0,6)+"Z":o="."+r+"Z"}return new Date(i).toISOString().replace(".000Z",o)}internalJsonRead(e,t,i){if(typeof e!="string")throw new Error("Unable to parse Timestamp from JSON "+av(e)+".");let o=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!o)throw new Error("Unable to parse Timestamp from JSON. Invalid format.");let r=Date.parse(o[1]+"-"+o[2]+"-"+o[3]+"T"+o[4]+":"+o[5]+":"+o[6]+(o[8]?o[8]:"Z"));if(Number.isNaN(r))throw new Error("Unable to parse Timestamp from JSON. Invalid value.");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new globalThis.Error("Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");return i||(i=this.create()),i.seconds=yn.from(r/1e3).toBigInt(),i.nanos=0,o[7]&&(i.nanos=parseInt("1"+o[7]+"0".repeat(9-o[7].length))-1e9),i}create(e){const t={seconds:0n,nanos:0};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.seconds=e.int64().toBigInt();break;case 2:r.nanos=e.int32();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.seconds!==0n&&t.tag(1,$.Varint).int64(e.seconds),e.nanos!==0&&t.tag(2,$.Varint).int32(e.nanos);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const Mv=new XWe;var gse=(n=>(n[n.METRICS=0]="METRICS",n[n.TRACES=2]="TRACES",n[n.LOGS=3]="LOGS",n[n.SNIPPETS=4]="SNIPPETS",n))(gse||{}),fse=(n=>(n[n.RESOURCE_SCHEMA=0]="RESOURCE_SCHEMA",n[n.SCOPE_SCHEMA=2]="SCOPE_SCHEMA",n[n.SCOPE_NAME=3]="SCOPE_NAME",n[n.SCOPE_VERSION=4]="SCOPE_VERSION",n[n.NAME=6]="NAME",n[n.TRACE_ID=8]="TRACE_ID",n[n.SPAN_ID=9]="SPAN_ID",n[n.PARENT_SPAN_ID=10]="PARENT_SPAN_ID",n[n.LOGS_LEVEL=11]="LOGS_LEVEL",n))(fse||{}),pse=(n=>(n[n.UNKOWN_ATTR=0]="UNKOWN_ATTR",n[n.RESOURCE_ATTRIBUTES=1]="RESOURCE_ATTRIBUTES",n[n.SCOPE_ATTRIBUTES=5]="SCOPE_ATTRIBUTES",n[n.ATTRIBUTES=7]="ATTRIBUTES",n))(pse||{});class QWe extends jt{constructor(){super("v1.Scan",[{no:1,name:"scope",kind:"enum",T:()=>["v1.Scan.SCOPE",gse]},{no:2,name:"time_range",kind:"message",T:()=>CP},{no:3,name:"filters",kind:"message",repeat:1,T:()=>vP},{no:4,name:"limit",kind:"scalar",T:4,L:0},{no:5,name:"reverse",kind:"scalar",T:8}])}create(e){const t={scope:0,filters:[],limit:0n,reverse:!1};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.scope=e.int32();break;case 2:r.timeRange=CP.internalBinaryRead(e,e.uint32(),i,r.timeRange);break;case 3:r.filters.push(vP.internalBinaryRead(e,e.uint32(),i));break;case 4:r.limit=e.uint64().toBigInt();break;case 5:r.reverse=e.bool();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.scope!==0&&t.tag(1,$.Varint).int32(e.scope),e.timeRange&&CP.internalBinaryWrite(e.timeRange,t.tag(2,$.LengthDelimited).fork(),i).join();for(let r=0;r<e.filters.length;r++)vP.internalBinaryWrite(e.filters[r],t.tag(3,$.LengthDelimited).fork(),i).join();e.limit!==0n&&t.tag(4,$.Varint).uint64(e.limit),e.reverse!==!1&&t.tag(5,$.Varint).bool(e.reverse);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}new QWe;class JWe extends jt{constructor(){super("v1.Scan.Filter",[{no:1,name:"base",kind:"message",oneof:"value",T:()=>bP},{no:2,name:"attr",kind:"message",oneof:"value",T:()=>_P}])}create(e){const t={value:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.value={oneofKind:"base",base:bP.internalBinaryRead(e,e.uint32(),i,r.value.base)};break;case 2:r.value={oneofKind:"attr",attr:_P.internalBinaryRead(e,e.uint32(),i,r.value.attr)};break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.value.oneofKind==="base"&&bP.internalBinaryWrite(e.value.base,t.tag(1,$.LengthDelimited).fork(),i).join(),e.value.oneofKind==="attr"&&_P.internalBinaryWrite(e.value.attr,t.tag(2,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const vP=new JWe;class eVe extends jt{constructor(){super("v1.Scan.BaseFilter",[{no:1,name:"prop",kind:"enum",T:()=>["v1.Scan.BaseProp",fse]},{no:2,name:"value",kind:"scalar",T:9}])}create(e){const t={prop:0,value:""};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.prop=e.int32();break;case 2:r.value=e.string();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.prop!==0&&t.tag(1,$.Varint).int32(e.prop),e.value!==""&&t.tag(2,$.LengthDelimited).string(e.value);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const bP=new eVe;class tVe extends jt{constructor(){super("v1.Scan.AttrFilter",[{no:1,name:"prop",kind:"enum",T:()=>["v1.Scan.AttributeProp",pse]},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9}])}create(e){const t={prop:0,key:"",value:""};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.prop=e.int32();break;case 2:r.key=e.string();break;case 3:r.value=e.string();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.prop!==0&&t.tag(1,$.Varint).int32(e.prop),e.key!==""&&t.tag(2,$.LengthDelimited).string(e.key),e.value!==""&&t.tag(3,$.LengthDelimited).string(e.value);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const _P=new tVe;class iVe extends jt{constructor(){super("v1.Scan.TimeRange",[{no:1,name:"start",kind:"message",T:()=>Mv},{no:2,name:"end",kind:"message",T:()=>Mv}])}create(e){const t={};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.start=Mv.internalBinaryRead(e,e.uint32(),i,r.start);break;case 2:r.end=Mv.internalBinaryRead(e,e.uint32(),i,r.end);break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.start&&Mv.internalBinaryWrite(e.start,t.tag(1,$.LengthDelimited).fork(),i).join(),e.end&&Mv.internalBinaryWrite(e.end,t.tag(2,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const CP=new iVe;class nVe extends jt{constructor(){super("v1.Data",[{no:1,name:"metrics",kind:"message",oneof:"data",T:()=>oP},{no:2,name:"logs",kind:"message",oneof:"data",T:()=>eP},{no:3,name:"trace",kind:"message",oneof:"data",T:()=>qA}])}create(e){const t={data:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.data={oneofKind:"metrics",metrics:oP.internalBinaryRead(e,e.uint32(),i,r.data.metrics)};break;case 2:r.data={oneofKind:"logs",logs:eP.internalBinaryRead(e,e.uint32(),i,r.data.logs)};break;case 3:r.data={oneofKind:"trace",trace:qA.internalBinaryRead(e,e.uint32(),i,r.data.trace)};break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.data.oneofKind==="metrics"&&oP.internalBinaryWrite(e.data.metrics,t.tag(1,$.LengthDelimited).fork(),i).join(),e.data.oneofKind==="logs"&&eP.internalBinaryWrite(e.data.logs,t.tag(2,$.LengthDelimited).fork(),i).join(),e.data.oneofKind==="trace"&&qA.internalBinaryWrite(e.data.trace,t.tag(3,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const yP=new nVe;class oVe extends jt{constructor(){super("v1.GetVersionRequest",[])}create(e){const t={};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){return o??this.create()}internalBinaryWrite(e,t,i){let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const rVe=new oVe;class sVe extends jt{constructor(){super("v1.Version",[{no:1,name:"version",kind:"scalar",T:9}])}create(e){const t={version:""};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.version=e.string();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.version!==""&&t.tag(1,$.LengthDelimited).string(e.version);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const aVe=new sVe;class lVe extends jt{constructor(){super("v1.QueryRequest",[{no:1,name:"query",kind:"scalar",T:12},{no:3,name:"include_logs",kind:"scalar",T:8}])}create(e){const t={query:new Uint8Array(0),includeLogs:!1};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.query=e.bytes();break;case 3:r.includeLogs=e.bool();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.query.length&&t.tag(1,$.LengthDelimited).bytes(e.query),e.includeLogs!==!1&&t.tag(3,$.Varint).bool(e.includeLogs);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const cVe=new lVe;class dVe extends jt{constructor(){super("v1.QueryResponse",[{no:1,name:"result",kind:"message",T:()=>wP},{no:2,name:"timings",kind:"message",T:()=>SP},{no:3,name:"logs",kind:"scalar",T:12}])}create(e){const t={logs:new Uint8Array(0)};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.result=wP.internalBinaryRead(e,e.uint32(),i,r.result);break;case 2:r.timings=SP.internalBinaryRead(e,e.uint32(),i,r.timings);break;case 3:r.logs=e.bytes();break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.result&&wP.internalBinaryWrite(e.result,t.tag(1,$.LengthDelimited).fork(),i).join(),e.timings&&SP.internalBinaryWrite(e.timings,t.tag(2,$.LengthDelimited).fork(),i).join(),e.logs.length&&t.tag(3,$.LengthDelimited).bytes(e.logs);let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const uVe=new dVe;class hVe extends jt{constructor(){super("v1.Result",[{no:1,name:"data",kind:"message",oneof:"result",T:()=>yP},{no:2,name:"custom",kind:"message",oneof:"result",T:()=>Hp}])}create(e){const t={result:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.result={oneofKind:"data",data:yP.internalBinaryRead(e,e.uint32(),i,r.result.data)};break;case 2:r.result={oneofKind:"custom",custom:Hp.internalBinaryRead(e,e.uint32(),i,r.result.custom)};break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.result.oneofKind==="data"&&yP.internalBinaryWrite(e.result.data,t.tag(1,$.LengthDelimited).fork(),i).join(),e.result.oneofKind==="custom"&&Hp.internalBinaryWrite(e.result.custom,t.tag(2,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const wP=new hVe;class gVe extends jt{constructor(){super("v1.Timings",[{no:1,name:"compiling",kind:"message",T:()=>Nv},{no:2,name:"evaluating",kind:"message",T:()=>Nv}])}create(e){const t={};return globalThis.Object.defineProperty(t,Wt,{enumerable:!1,value:this}),e!==void 0&&At(this,t,e),t}internalBinaryRead(e,t,i,o){let r=o??this.create(),s=e.pos+t;for(;e.pos<s;){let[a,l]=e.tag();switch(a){case 1:r.compiling=Nv.internalBinaryRead(e,e.uint32(),i,r.compiling);break;case 2:r.evaluating=Nv.internalBinaryRead(e,e.uint32(),i,r.evaluating);break;default:let c=i.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?Ae.onRead:c)(this.typeName,r,a,l,d)}}return r}internalBinaryWrite(e,t,i){e.compiling&&Nv.internalBinaryWrite(e.compiling,t.tag(1,$.LengthDelimited).fork(),i).join(),e.evaluating&&Nv.internalBinaryWrite(e.evaluating,t.tag(2,$.LengthDelimited).fork(),i).join();let o=i.writeUnknownFields;return o!==!1&&(o==!0?Ae.onWrite:o)(this.typeName,e,t),t}}const SP=new gVe,xP=new eWe("v1.RQ",[{name:"Query",options:{"google.api.http":{post:"/api/v1/query",body:"*"}},I:cVe,O:uVe},{name:"GetVersion",options:{"google.api.http":{get:"/api/v1/version"}},I:rVe,O:aVe}]);class fVe{constructor(e){lx(this,"typeName",xP.typeName);lx(this,"methods",xP.methods);lx(this,"options",xP.options);this._transport=e}query(e,t){const i=this.methods[0],o=this._transport.mergeOptions(t);return yG("unary",this._transport,i,o,e)}getVersion(e,t){const i=this.methods[1],o=this._transport.mergeOptions(t);return yG("unary",this._transport,i,o,e)}}const pVe=()=>new gWe({baseUrl:window.location.origin}),mse=()=>new fVe(pVe()),vse=De.createContext({client:mse()}),mVe=({children:n})=>{const[e,t]=De.useState(mse());return mt.jsx(vse.Provider,{value:{client:e},children:n})},vVe=()=>De.useContext(vse),bVe=()=>{const[n,e]=De.useState("unknown"),{client:t}=vVe();return De.useEffect(()=>{t.getVersion({}).then(i=>{e(i.response.version)}).catch(i=>{console.log(i)})},[t]),mt.jsxs(qi,{position:"fixed",zIndex:9999,bottom:0,sx:{display:"flex",height:"45px",backgroundColor:"canvas.subtle"},width:"100%",children:[mt.jsx(qi,{sx:{display:"flex",paddingLeft:"1rem",alignItems:"center",flex:"1"},children:mt.jsxs(x8,{children:["Copyright  ",new Date().getFullYear()," Geofrey Ernest"]})}),mt.jsxs(qi,{sx:{display:"flex",alignItems:"center"},children:[mt.jsxs(Ffe,{variant:"primary",sx:{marginRight:1},children:["requiem: ",n]}),mt.jsx(S8,{href:"https://github.com/gernest/requiem",target:"_blank",rel:"noreferrer",children:mt.jsx(rfe,{size:"medium"})})]})]})},_Ve=()=>mt.jsx(qi,{sx:{position:"sticky",top:0,height:64,backgroundColor:"canvas.subtle",borderBottom:"1px solid",borderColor:"border.default",zIndex:1},children:mt.jsx(JH,{sx:{color:"fg.default",backgroundColor:"canvas.subtle"},children:mt.jsxs(JH.Item,{children:[mt.jsx(qi,{children:mt.jsx(Vfe,{width:32})}),mt.jsx(x8,{sx:{fontWeight:"semibold"},children:"RequiemDB"})]})})}),CVe=()=>mt.jsxs(qi,{children:[mt.jsx(_Ve,{}),mt.jsx(ede,{}),mt.jsx(bVe,{})]}),yVe=()=>mt.jsxs(BR,{containerWidth:"full",children:[mt.jsx(BR.Header,{children:mt.jsx(qi,{display:"flex",justifyContent:"space-between",maxWidth:"100%",children:mt.jsx(qi,{display:"flex",alignItems:"center",flexDirection:"row",px:1,children:mt.jsx(w8,{leadingVisual:sfe,children:mt.jsx(x8,{color:"accent.emphasis",children:"Run"})})})})}),mt.jsx(BR.Content,{children:mt.jsx(k7e,{width:"100%",minHeight:400})})]}),wVe=SO(mt.jsxs(mL,{element:mt.jsx(CVe,{}),errorElement:mt.jsx(Wfe,{}),children:[mt.jsx(mL,{path:"*",element:mt.jsx(KX,{})}),mt.jsx(mL,{index:!0,element:mt.jsx(yVe,{})})]}));function SVe(n){return new Worker("/assets/editor.worker-Dcx5fqOL.js",{name:n==null?void 0:n.name})}function xVe(n){return new Worker("/assets/ts.worker-D85wxyoh.js",{name:n==null?void 0:n.name})}const kVe=`declare module  '@requiemdb/rq'{
 /**
 * AggregationTemporality defines how a metric aggregator reports aggregated
 * values. It describes how those values relate to the time interval over
 * which they are aggregated.
 *
 * @generated from protobuf enum opentelemetry.proto.metrics.v1.AggregationTemporality
 */
export declare enum AggregationTemporality {
    /**
     * UNSPECIFIED is the default AggregationTemporality, it MUST not be used.
     *
     * @generated from protobuf enum value: AGGREGATION_TEMPORALITY_UNSPECIFIED = 0;
     */
    UNSPECIFIED = 0,
    /**
     * DELTA is an AggregationTemporality for a metric aggregator which reports
     * changes since last report time. Successive metrics contain aggregation of
     * values from continuous and non-overlapping intervals.
     *
     * The values for a DELTA metric are based only on the time interval
     * associated with one measurement cycle. There is no dependency on
     * previous measurements like is the case for CUMULATIVE metrics.
     *
     * For example, consider a system measuring the number of requests that
     * it receives and reports the sum of these requests every second as a
     * DELTA metric:
     *
     *   1. The system starts receiving at time=t_0.
     *   2. A request is received, the system measures 1 request.
     *   3. A request is received, the system measures 1 request.
     *   4. A request is received, the system measures 1 request.
     *   5. The 1 second collection cycle ends. A metric is exported for the
     *      number of requests received over the interval of time t_0 to
     *      t_0+1 with a value of 3.
     *   6. A request is received, the system measures 1 request.
     *   7. A request is received, the system measures 1 request.
     *   8. The 1 second collection cycle ends. A metric is exported for the
     *      number of requests received over the interval of time t_0+1 to
     *      t_0+2 with a value of 2.
     *
     * @generated from protobuf enum value: AGGREGATION_TEMPORALITY_DELTA = 1;
     */
    DELTA = 1,
    /**
     * CUMULATIVE is an AggregationTemporality for a metric aggregator which
     * reports changes since a fixed start time. This means that current values
     * of a CUMULATIVE metric depend on all previous measurements since the
     * start time. Because of this, the sender is required to retain this state
     * in some form. If this state is lost or invalidated, the CUMULATIVE metric
     * values MUST be reset and a new fixed start time following the last
     * reported measurement time sent MUST be used.
     *
     * For example, consider a system measuring the number of requests that
     * it receives and reports the sum of these requests every second as a
     * CUMULATIVE metric:
     *
     *   1. The system starts receiving at time=t_0.
     *   2. A request is received, the system measures 1 request.
     *   3. A request is received, the system measures 1 request.
     *   4. A request is received, the system measures 1 request.
     *   5. The 1 second collection cycle ends. A metric is exported for the
     *      number of requests received over the interval of time t_0 to
     *      t_0+1 with a value of 3.
     *   6. A request is received, the system measures 1 request.
     *   7. A request is received, the system measures 1 request.
     *   8. The 1 second collection cycle ends. A metric is exported for the
     *      number of requests received over the interval of time t_0 to
     *      t_0+2 with a value of 5.
     *   9. The system experiences a fault and loses state.
     *   10. The system recovers and resumes receiving at time=t_1.
     *   11. A request is received, the system measures 1 request.
     *   12. The 1 second collection cycle ends. A metric is exported for the
     *      number of requests received over the interval of time t_1 to
     *      t_0+1 with a value of 1.
     *
     * Note: Even though, when reporting changes since last report time, using
     * CUMULATIVE is valid, it is not recommended. This may cause problems for
     * systems that do not use start_time to determine when the aggregation
     * value was reset (e.g. Prometheus).
     *
     * @generated from protobuf enum value: AGGREGATION_TEMPORALITY_CUMULATIVE = 2;
     */
    CUMULATIVE = 2
}

declare class AnyValue$Type extends MessageType<AnyValue> {
    constructor();
    create(value?: PartialMessage<AnyValue>): AnyValue;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: AnyValue): AnyValue;
    internalBinaryWrite(message: AnyValue, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * AnyValue is used to represent any type of attribute value. AnyValue may contain a
 * primitive value such as a string or integer or it may contain an arbitrary nested
 * object containing arrays, key-value lists and primitives.
 *
 * @generated from protobuf message opentelemetry.proto.common.v1.AnyValue
 */
export declare interface AnyValue {
    /**
     * @generated from protobuf oneof: value
     */
    value: {
        oneofKind: "stringValue";
        /**
         * @generated from protobuf field: string string_value = 1;
         */
        stringValue: string;
    } | {
        oneofKind: "boolValue";
        /**
         * @generated from protobuf field: bool bool_value = 2;
         */
        boolValue: boolean;
    } | {
        oneofKind: "intValue";
        /**
         * @generated from protobuf field: int64 int_value = 3;
         */
        intValue: number;
    } | {
        oneofKind: "doubleValue";
        /**
         * @generated from protobuf field: double double_value = 4;
         */
        doubleValue: number;
    } | {
        oneofKind: "arrayValue";
        /**
         * @generated from protobuf field: opentelemetry.proto.common.v1.ArrayValue array_value = 5;
         */
        arrayValue: ArrayValue;
    } | {
        oneofKind: "kvlistValue";
        /**
         * @generated from protobuf field: opentelemetry.proto.common.v1.KeyValueList kvlist_value = 6;
         */
        kvlistValue: KeyValueList;
    } | {
        oneofKind: "bytesValue";
        /**
         * @generated from protobuf field: bytes bytes_value = 7;
         */
        bytesValue: Uint8Array;
    } | {
        oneofKind: undefined;
    };
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.common.v1.AnyValue
 */
export declare const AnyValue: AnyValue$Type;

declare class ArrayValue$Type extends MessageType<ArrayValue> {
    constructor();
    create(value?: PartialMessage<ArrayValue>): ArrayValue;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: ArrayValue): ArrayValue;
    internalBinaryWrite(message: ArrayValue, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * ArrayValue is a list of AnyValue messages. We need ArrayValue as a message
 * since oneof in AnyValue does not allow repeated fields.
 *
 * @generated from protobuf message opentelemetry.proto.common.v1.ArrayValue
 */
export declare interface ArrayValue {
    /**
     * Array of values. The array may be empty (contain 0 elements).
     *
     * @generated from protobuf field: repeated opentelemetry.proto.common.v1.AnyValue values = 1;
     */
    values: AnyValue[];
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.common.v1.ArrayValue
 */
export declare const ArrayValue: ArrayValue$Type;

/**
 * Options for reading binary data.
 */
declare interface BinaryReadOptions {
    /**
     * Shall unknown fields be read, ignored or raise an error?
     *
     * \`true\`: stores the unknown field on a symbol property of the
     * message. This is the default behaviour.
     *
     * \`false\`: ignores the unknown field.
     *
     * \`"throw"\`: throws an error.
     *
     * \`UnknownFieldReader\`: Your own behaviour for unknown fields.
     */
    readUnknownField: boolean | 'throw' | UnknownFieldReader;
    /**
     * Allows to use a custom implementation to parse binary data.
     */
    readerFactory: (bytes: Uint8Array) => IBinaryReader;
}

/**
 * Options for writing binary data.
 */
declare interface BinaryWriteOptions {
    /**
     * Shall unknown fields be written back on wire?
     *
     * \`true\`: unknown fields stored in a symbol property of the message
     * are written back. This is the default behaviour.
     *
     * \`false\`: unknown fields are not written.
     *
     * \`UnknownFieldWriter\`: Your own behaviour for unknown fields.
     */
    writeUnknownFields: boolean | UnknownFieldWriter;
    /**
     * Allows to use a custom implementation to encode binary data.
     */
    writerFactory: () => IBinaryWriter;
}

export declare class Config {
    base: Scan;
    constructor(scope: Scan_SCOPE);
    scan(): ScanData;
    limit(num_samples: number): this;
    reverse(): this;
    resourceSchema(schema: string): this;
    scopeSchema(schema: string): this;
    scopeName(name: string): this;
    scopeVersion(version: string): this;
    name(value: string): this;
    traceId(value: string): this;
    spanId(value: string): this;
    parentSpanId(value: string): this;
    logLevel(value: string): this;
    resourceAttr(key: string, value: string): this;
    scopeAttr(key: string, value: string): this;
    attr(key: string, value: string): this;
    private baseFilter;
    private attrFilter;
    filter(f: Scan_Filter): this;
    /**
     *
     * @returns samples for the last 15 minutes
     */
    latest(): this;
    today(): this;
    thisWeek(): this;
    thisYear(): this;
    /**
     *
     * @param duration is ISO 8601 duration string
     * @returns
     */
    ago(duration: string): this;
    thisMonth(): this;
    protected setRange(ts: any): this;
    private createTimeRange;
}

declare class Data$Type extends MessageType<Data> {
    constructor();
}

/**
 * @generated from protobuf message v1.Data
 */
export declare interface Data {
    /**
     * @generated from protobuf oneof: data
     */
    data: {
        oneofKind: "metrics";
        /**
         * @generated from protobuf field: opentelemetry.proto.metrics.v1.MetricsData metrics = 1;
         */
        metrics: MetricsData;
    } | {
        oneofKind: "logs";
        /**
         * @generated from protobuf field: opentelemetry.proto.logs.v1.LogsData logs = 2;
         */
        logs: LogsData;
    } | {
        oneofKind: "trace";
        /**
         * @generated from protobuf field: opentelemetry.proto.trace.v1.TracesData trace = 3;
         */
        trace: TracesData;
    } | {
        oneofKind: undefined;
    };
}

/**
 * @generated MessageType for protobuf message v1.Data
 */
export declare const Data: Data$Type;

/**
 * DataPointFlags is defined as a protobuf 'uint32' type and is to be used as a
 * bit-field representing 32 distinct boolean flags.  Each flag defined in this
 * enum is a bit-mask.  To test the presence of a single flag in the flags of
 * a data point, for example, use an expression like:
 *
 *   (point.flags & DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK) == DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK
 *
 *
 * @generated from protobuf enum opentelemetry.proto.metrics.v1.DataPointFlags
 */
export declare enum DataPointFlags {
    /**
     * The zero value for the enum. Should not be used for comparisons.
     * Instead use bitwise "and" with the appropriate mask as shown above.
     *
     * @generated from protobuf enum value: DATA_POINT_FLAGS_DO_NOT_USE = 0;
     */
    DO_NOT_USE = 0,
    /**
     * This DataPoint is valid but has no recorded value.  This value
     * SHOULD be used to reflect explicitly missing data in a series, as
     * for an equivalent to the Prometheus "staleness marker".
     *
     * @generated from protobuf enum value: DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK = 1;
     */
    NO_RECORDED_VALUE_MASK = 1
}

/**
 * Describes a protobuf enum for runtime reflection.
 *
 * The tuple consists of:
 *
 *
 * [0] the protobuf type name
 *
 * The type name follows the same rules as message type names.
 * See \`MessageInfo\` for details.
 *
 *
 * [1] the enum object generated by Typescript
 *
 * We generate standard Typescript enums for protobuf enums. They are compiled
 * to lookup objects that map from numerical value to name strings and vice
 * versa and can also contain alias names.
 *
 * See https://www.typescriptlang.org/docs/handbook/enums.html#reverse-mappings
 *
 * We use this lookup feature to when encoding / decoding JSON format. The
 * enum is guaranteed to have a value for 0. We generate an entry for 0 if
 * none was declared in .proto because we would need to support custom default
 * values if we didn't.
 *
 *
 * [2] the prefix shared by all original enum values (optional)
 *
 * If all values of a protobuf enum share a prefix, it is dropped in the
 * generated enum. For example, the protobuf enum \`enum My { MY_FOO, MY_BAR }\`
 * becomes the typescript enum \`enum My { FOO, BAR }\`.
 *
 * Because the JSON format requires the original value name, we store the
 * dropped prefix here, so that the JSON format implementation can restore
 * the original value names.
 */
declare type EnumInfo = readonly [
/**
* The protobuf type name of the enum
*/
string,
/**
* The enum object generated by Typescript
*/
    {
    [key: number]: string;
    [k: string]: number | string;
},
/**
* The prefix shared by all original enum values
*/
string?];

declare class Exemplar$Type extends MessageType<Exemplar> {
    constructor();
    create(value?: PartialMessage<Exemplar>): Exemplar;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: Exemplar): Exemplar;
    internalBinaryWrite(message: Exemplar, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * A representation of an exemplar, which is a sample input measurement.
 * Exemplars also hold information about the environment when the measurement
 * was recorded, for example the span and trace ID of the active span when the
 * exemplar was recorded.
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.Exemplar
 */
export declare interface Exemplar {
    /**
     * The set of key/value pairs that were filtered out by the aggregator, but
     * recorded alongside the original measurement. Only key/value pairs that were
     * filtered out by the aggregator should be included
     *
     * @generated from protobuf field: repeated opentelemetry.proto.common.v1.KeyValue filtered_attributes = 7;
     */
    filteredAttributes: KeyValue[];
    /**
     * time_unix_nano is the exact time when this exemplar was recorded
     *
     * Value is UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January
     * 1970.
     *
     * @generated from protobuf field: fixed64 time_unix_nano = 2;
     */
    timeUnixNano: number;
    /**
     * @generated from protobuf oneof: value
     */
    value: {
        oneofKind: "asDouble";
        /**
         * @generated from protobuf field: double as_double = 3;
         */
        asDouble: number;
    } | {
        oneofKind: "asInt";
        /**
         * @generated from protobuf field: sfixed64 as_int = 6;
         */
        asInt: number;
    } | {
        oneofKind: undefined;
    };
    /**
     * (Optional) Span ID of the exemplar trace.
     * span_id may be missing if the measurement is not recorded inside a trace
     * or if the trace is not sampled.
     *
     * @generated from protobuf field: bytes span_id = 4;
     */
    spanId: Uint8Array;
    /**
     * (Optional) Trace ID of the exemplar trace.
     * trace_id may be missing if the measurement is not recorded inside a trace
     * or if the trace is not sampled.
     *
     * @generated from protobuf field: bytes trace_id = 5;
     */
    traceId: Uint8Array;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.Exemplar
 */
export declare const Exemplar: Exemplar$Type;

declare class ExponentialHistogram$Type extends MessageType<ExponentialHistogram> {
    constructor();
    create(value?: PartialMessage<ExponentialHistogram>): ExponentialHistogram;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: ExponentialHistogram): ExponentialHistogram;
    internalBinaryWrite(message: ExponentialHistogram, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * ExponentialHistogram represents the type of a metric that is calculated by aggregating
 * as a ExponentialHistogram of all reported double measurements over a time interval.
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.ExponentialHistogram
 */
export declare interface ExponentialHistogram {
    /**
     * @generated from protobuf field: repeated opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint data_points = 1;
     */
    dataPoints: ExponentialHistogramDataPoint[];
    /**
     * aggregation_temporality describes if the aggregator reports delta changes
     * since last report time, or cumulative changes since a fixed start time.
     *
     * @generated from protobuf field: opentelemetry.proto.metrics.v1.AggregationTemporality aggregation_temporality = 2;
     */
    aggregationTemporality: AggregationTemporality;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.ExponentialHistogram
 */
export declare const ExponentialHistogram: ExponentialHistogram$Type;

declare class ExponentialHistogramDataPoint$Type extends MessageType<ExponentialHistogramDataPoint> {
    constructor();
    create(value?: PartialMessage<ExponentialHistogramDataPoint>): ExponentialHistogramDataPoint;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: ExponentialHistogramDataPoint): ExponentialHistogramDataPoint;
    internalBinaryWrite(message: ExponentialHistogramDataPoint, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * ExponentialHistogramDataPoint is a single data point in a timeseries that describes the
 * time-varying values of a ExponentialHistogram of double values. A ExponentialHistogram contains
 * summary statistics for a population of values, it may optionally contain the
 * distribution of those values across a set of buckets.
 *
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint
 */
export declare interface ExponentialHistogramDataPoint {
    /**
     * The set of key/value pairs that uniquely identify the timeseries from
     * where this point belongs. The list may be empty (may contain 0 elements).
     * Attribute keys MUST be unique (it is not allowed to have more than one
     * attribute with the same key).
     *
     * @generated from protobuf field: repeated opentelemetry.proto.common.v1.KeyValue attributes = 1;
     */
    attributes: KeyValue[];
    /**
     * StartTimeUnixNano is optional but strongly encouraged, see the
     * the detailed comments above Metric.
     *
     * Value is UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January
     * 1970.
     *
     * @generated from protobuf field: fixed64 start_time_unix_nano = 2;
     */
    startTimeUnixNano: number;
    /**
     * TimeUnixNano is required, see the detailed comments above Metric.
     *
     * Value is UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January
     * 1970.
     *
     * @generated from protobuf field: fixed64 time_unix_nano = 3;
     */
    timeUnixNano: number;
    /**
     * count is the number of values in the population. Must be
     * non-negative. This value must be equal to the sum of the "bucket_counts"
     * values in the positive and negative Buckets plus the "zero_count" field.
     *
     * @generated from protobuf field: fixed64 count = 4;
     */
    count: number;
    /**
     * sum of the values in the population. If count is zero then this field
     * must be zero.
     *
     * Note: Sum should only be filled out when measuring non-negative discrete
     * events, and is assumed to be monotonic over the values of these events.
     * Negative events *can* be recorded, but sum should not be filled out when
     * doing so.  This is specifically to enforce compatibility w/ OpenMetrics,
     * see: https://github.com/OpenObservability/OpenMetrics/blob/main/specification/OpenMetrics.md#histogram
     *
     * @generated from protobuf field: optional double sum = 5;
     */
    sum?: number;
    /**
     * scale describes the resolution of the histogram.  Boundaries are
     * located at powers of the base, where:
     *
     *   base = (2^(2^-scale))
     *
     * The histogram bucket identified by \`index\`, a signed integer,
     * contains values that are greater than (base^index) and
     * less than or equal to (base^(index+1)).
     *
     * The positive and negative ranges of the histogram are expressed
     * separately.  Negative values are mapped by their absolute value
     * into the negative range using the same scale as the positive range.
     *
     * scale is not restricted by the protocol, as the permissible
     * values depend on the range of the data.
     *
     * @generated from protobuf field: sint32 scale = 6;
     */
    scale: number;
    /**
     * zero_count is the count of values that are either exactly zero or
     * within the region considered zero by the instrumentation at the
     * tolerated degree of precision.  This bucket stores values that
     * cannot be expressed using the standard exponential formula as
     * well as values that have been rounded to zero.
     *
     * Implementations MAY consider the zero bucket to have probability
     * mass equal to (zero_count / count).
     *
     * @generated from protobuf field: fixed64 zero_count = 7;
     */
    zeroCount: number;
    /**
     * positive carries the positive range of exponential bucket counts.
     *
     * @generated from protobuf field: opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets positive = 8;
     */
    positive?: ExponentialHistogramDataPoint_Buckets;
    /**
     * negative carries the negative range of exponential bucket counts.
     *
     * @generated from protobuf field: opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets negative = 9;
     */
    negative?: ExponentialHistogramDataPoint_Buckets;
    /**
     * Flags that apply to this specific data point.  See DataPointFlags
     * for the available flags and their meaning.
     *
     * @generated from protobuf field: uint32 flags = 10;
     */
    flags: number;
    /**
     * (Optional) List of exemplars collected from
     * measurements that were used to form the data point
     *
     * @generated from protobuf field: repeated opentelemetry.proto.metrics.v1.Exemplar exemplars = 11;
     */
    exemplars: Exemplar[];
    /**
     * min is the minimum value over (start_time, end_time].
     *
     * @generated from protobuf field: optional double min = 12;
     */
    min?: number;
    /**
     * max is the maximum value over (start_time, end_time].
     *
     * @generated from protobuf field: optional double max = 13;
     */
    max?: number;
    /**
     * ZeroThreshold may be optionally set to convey the width of the zero
     * region. Where the zero region is defined as the closed interval
     * [-ZeroThreshold, ZeroThreshold].
     * When ZeroThreshold is 0, zero count bucket stores values that cannot be
     * expressed using the standard exponential formula as well as values that
     * have been rounded to zero.
     *
     * @generated from protobuf field: double zero_threshold = 14;
     */
    zeroThreshold: number;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint
 */
export declare const ExponentialHistogramDataPoint: ExponentialHistogramDataPoint$Type;

declare class ExponentialHistogramDataPoint_Buckets$Type extends MessageType<ExponentialHistogramDataPoint_Buckets> {
    constructor();
    create(value?: PartialMessage<ExponentialHistogramDataPoint_Buckets>): ExponentialHistogramDataPoint_Buckets;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: ExponentialHistogramDataPoint_Buckets): ExponentialHistogramDataPoint_Buckets;
    internalBinaryWrite(message: ExponentialHistogramDataPoint_Buckets, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * Buckets are a set of bucket counts, encoded in a contiguous array
 * of counts.
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets
 */
export declare interface ExponentialHistogramDataPoint_Buckets {
    /**
     * Offset is the bucket index of the first entry in the bucket_counts array.
     *
     * Note: This uses a varint encoding as a simple form of compression.
     *
     * @generated from protobuf field: sint32 offset = 1;
     */
    offset: number;
    /**
     * bucket_counts is an array of count values, where bucket_counts[i] carries
     * the count of the bucket at index (offset+i). bucket_counts[i] is the count
     * of values greater than base^(offset+i) and less than or equal to
     * base^(offset+i+1).
     *
     * Note: By contrast, the explicit HistogramDataPoint uses
     * fixed64.  This field is expected to have many buckets,
     * especially zeros, so uint64 has been selected to ensure
     * varint encoding.
     *
     * @generated from protobuf field: repeated uint64 bucket_counts = 2;
     */
    bucketCounts: number[];
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets
 */
export declare const ExponentialHistogramDataPoint_Buckets: ExponentialHistogramDataPoint_Buckets$Type;

/**
 * Describes a field of a protobuf message for runtime
 * reflection. We distinguish between the following
 * kinds of fields:
 *
 * "scalar": string, bool, float, int32, etc.
 * See https://developers.google.com/protocol-buffers/docs/proto3#scalar
 *
 * "enum": field was declared with an enum type.
 *
 * "message": field was declared with a message type.
 *
 * "map": field was declared with map<K,V>.
 *
 *
 * Every field, regardless of it's kind, always has the following properties:
 *
 * "no": The field number of the .proto field.
 * "name": The original name of the .proto field.
 * "localName": The name of the field as used in generated code.
 * "jsonName": The name for JSON serialization / deserialization.
 * "options": Custom field options from the .proto source in JSON format.
 *
 *
 * Other properties:
 *
 * - Fields of kind "scalar", "enum" and "message" can have a "repeat" type.
 * - Fields of kind "scalar" and "enum" can have a "repeat" type.
 * - Fields of kind "scalar", "enum" and "message" can be member of a "oneof".
 *
 * A field can be only have one of the above properties set.
 *
 * Options for "scalar" fields:
 *
 * - 64 bit integral types can provide "L" - the JavaScript representation
 *   type.
 *
 */
declare type FieldInfo = fiRules<fiScalar> | fiRules<fiEnum> | fiRules<fiMessage> | fiRules<fiMap>;

declare interface fiEnum extends fiShared {
    kind: 'enum';
    /**
     * Enum type information for the field.
     */
    T: () => EnumInfo;
    /**
     * Is the field repeated?
     */
    repeat: RepeatType;
    /**
     * Is the field optional?
     */
    opt: boolean;
}

declare interface fiMap extends fiShared {
    kind: 'map';
    /**
     * Map key type.
     *
     * The key_type can be any integral or string type
     * (so, any scalar type except for floating point
     * types and bytes)
     */
    K: Exclude<ScalarType, ScalarType.FLOAT | ScalarType.DOUBLE | ScalarType.BYTES>;
    /**
     * Map value type. Can be a \`ScalarType\`, enum type information,
     * or type handler for a message.
     */
    V: {
        kind: 'scalar';
        T: ScalarType;
        L?: LongType;
    } | {
        kind: 'enum';
        T: () => EnumInfo;
    } | {
        kind: 'message';
        T: () => IMessageType<any>;
    };
}

declare interface fiMessage extends fiShared {
    kind: 'message';
    /**
     * Message handler for the field.
     */
    T: () => IMessageType<any>;
    /**
     * Is the field repeated?
     */
    repeat: RepeatType;
}

declare type fiPartialRules<T> = Omit<T, 'jsonName' | 'localName' | 'oneof' | 'repeat' | 'opt'> & ({
    localName?: string;
    jsonName?: string;
    repeat?: RepeatType.NO;
    opt?: false;
    oneof?: undefined;
} | {
    localName?: string;
    jsonName?: string;
    repeat?: RepeatType.NO;
    opt: true;
    oneof?: undefined;
} | {
    localName?: string;
    jsonName?: string;
    repeat: RepeatType.PACKED | RepeatType.UNPACKED;
    opt?: false;
    oneof?: undefined;
} | {
    localName?: string;
    jsonName?: string;
    repeat?: RepeatType.NO;
    opt?: false;
    oneof: string;
});

declare type fiRules<T> = Omit<T, 'oneof' | 'repeat' | 'opt'> & ({
    repeat: RepeatType.NO;
    opt: false;
    oneof: undefined;
} | {
    repeat: RepeatType.NO;
    opt: true;
    oneof: undefined;
} | {
    repeat: RepeatType.PACKED | RepeatType.UNPACKED;
    opt: false;
    oneof: undefined;
} | {
    repeat: RepeatType.NO;
    opt: false;
    oneof: string;
});

declare interface fiScalar extends fiShared {
    kind: 'scalar';
    /**
     * Scalar type of the field.
     */
    T: ScalarType;
    /**
     * Representation of 64 bit integral types (int64, uint64, sint64,
     * fixed64, sfixed64).
     *
     * If this option is set for other scalar types, it is ignored.
     * Omitting this option is equivalent to \`STRING\`.
     */
    L?: LongType;
    /**
     * Is the field repeated?
     */
    repeat: RepeatType;
    /**
     * Is the field optional?
     */
    opt: boolean;
}

declare interface fiShared {
    /**
     * The field number of the .proto field.
     */
    no: number;
    /**
     * The original name of the .proto field.
     */
    name: string;
    /**
     * The name of the field as used in generated code.
     */
    localName: string;
    /**
     * The name for JSON serialization / deserialization.
     */
    jsonName: string;
    /**
     * The name of the \`oneof\` group, if this field belongs to one.
     */
    oneof: string | undefined;
    /**
     * Contains custom field options from the .proto source in JSON format.
     */
    options?: {
        [extensionName: string]: JsonValue;
    };
}

declare class Gauge$Type extends MessageType<Gauge> {
    constructor();
    create(value?: PartialMessage<Gauge>): Gauge;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: Gauge): Gauge;
    internalBinaryWrite(message: Gauge, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * Gauge represents the type of a scalar metric that always exports the
 * "current value" for every data point. It should be used for an "unknown"
 * aggregation.
 *
 * A Gauge does not support different aggregation temporalities. Given the
 * aggregation is unknown, points cannot be combined using the same
 * aggregation, regardless of aggregation temporalities. Therefore,
 * AggregationTemporality is not included. Consequently, this also means
 * "StartTimeUnixNano" is ignored for all data points.
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.Gauge
 */
export declare interface Gauge {
    /**
     * @generated from protobuf field: repeated opentelemetry.proto.metrics.v1.NumberDataPoint data_points = 1;
     */
    dataPoints: NumberDataPoint[];
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.Gauge
 */
export declare const Gauge: Gauge$Type;

declare class Histogram$Type extends MessageType<Histogram> {
    constructor();
    create(value?: PartialMessage<Histogram>): Histogram;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: Histogram): Histogram;
    internalBinaryWrite(message: Histogram, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * Histogram represents the type of a metric that is calculated by aggregating
 * as a Histogram of all reported measurements over a time interval.
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.Histogram
 */
export declare interface Histogram {
    /**
     * @generated from protobuf field: repeated opentelemetry.proto.metrics.v1.HistogramDataPoint data_points = 1;
     */
    dataPoints: HistogramDataPoint[];
    /**
     * aggregation_temporality describes if the aggregator reports delta changes
     * since last report time, or cumulative changes since a fixed start time.
     *
     * @generated from protobuf field: opentelemetry.proto.metrics.v1.AggregationTemporality aggregation_temporality = 2;
     */
    aggregationTemporality: AggregationTemporality;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.Histogram
 */
export declare const Histogram: Histogram$Type;

declare class HistogramDataPoint$Type extends MessageType<HistogramDataPoint> {
    constructor();
    create(value?: PartialMessage<HistogramDataPoint>): HistogramDataPoint;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: HistogramDataPoint): HistogramDataPoint;
    internalBinaryWrite(message: HistogramDataPoint, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * HistogramDataPoint is a single data point in a timeseries that describes the
 * time-varying values of a Histogram. A Histogram contains summary statistics
 * for a population of values, it may optionally contain the distribution of
 * those values across a set of buckets.
 *
 * If the histogram contains the distribution of values, then both
 * "explicit_bounds" and "bucket counts" fields must be defined.
 * If the histogram does not contain the distribution of values, then both
 * "explicit_bounds" and "bucket_counts" must be omitted and only "count" and
 * "sum" are known.
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.HistogramDataPoint
 */
export declare interface HistogramDataPoint {
    /**
     * The set of key/value pairs that uniquely identify the timeseries from
     * where this point belongs. The list may be empty (may contain 0 elements).
     * Attribute keys MUST be unique (it is not allowed to have more than one
     * attribute with the same key).
     *
     * @generated from protobuf field: repeated opentelemetry.proto.common.v1.KeyValue attributes = 9;
     */
    attributes: KeyValue[];
    /**
     * StartTimeUnixNano is optional but strongly encouraged, see the
     * the detailed comments above Metric.
     *
     * Value is UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January
     * 1970.
     *
     * @generated from protobuf field: fixed64 start_time_unix_nano = 2;
     */
    startTimeUnixNano: number;
    /**
     * TimeUnixNano is required, see the detailed comments above Metric.
     *
     * Value is UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January
     * 1970.
     *
     * @generated from protobuf field: fixed64 time_unix_nano = 3;
     */
    timeUnixNano: number;
    /**
     * count is the number of values in the population. Must be non-negative. This
     * value must be equal to the sum of the "count" fields in buckets if a
     * histogram is provided.
     *
     * @generated from protobuf field: fixed64 count = 4;
     */
    count: number;
    /**
     * sum of the values in the population. If count is zero then this field
     * must be zero.
     *
     * Note: Sum should only be filled out when measuring non-negative discrete
     * events, and is assumed to be monotonic over the values of these events.
     * Negative events *can* be recorded, but sum should not be filled out when
     * doing so.  This is specifically to enforce compatibility w/ OpenMetrics,
     * see: https://github.com/OpenObservability/OpenMetrics/blob/main/specification/OpenMetrics.md#histogram
     *
     * @generated from protobuf field: optional double sum = 5;
     */
    sum?: number;
    /**
     * bucket_counts is an optional field contains the count values of histogram
     * for each bucket.
     *
     * The sum of the bucket_counts must equal the value in the count field.
     *
     * The number of elements in bucket_counts array must be by one greater than
     * the number of elements in explicit_bounds array.
     *
     * @generated from protobuf field: repeated fixed64 bucket_counts = 6;
     */
    bucketCounts: number[];
    /**
     * explicit_bounds specifies buckets with explicitly defined bounds for values.
     *
     * The boundaries for bucket at index i are:
     *
     * (-infinity, explicit_bounds[i]] for i == 0
     * (explicit_bounds[i-1], explicit_bounds[i]] for 0 < i < size(explicit_bounds)
     * (explicit_bounds[i-1], +infinity) for i == size(explicit_bounds)
     *
     * The values in the explicit_bounds array must be strictly increasing.
     *
     * Histogram buckets are inclusive of their upper boundary, except the last
     * bucket where the boundary is at infinity. This format is intentionally
     * compatible with the OpenMetrics histogram definition.
     *
     * @generated from protobuf field: repeated double explicit_bounds = 7;
     */
    explicitBounds: number[];
    /**
     * (Optional) List of exemplars collected from
     * measurements that were used to form the data point
     *
     * @generated from protobuf field: repeated opentelemetry.proto.metrics.v1.Exemplar exemplars = 8;
     */
    exemplars: Exemplar[];
    /**
     * Flags that apply to this specific data point.  See DataPointFlags
     * for the available flags and their meaning.
     *
     * @generated from protobuf field: uint32 flags = 10;
     */
    flags: number;
    /**
     * min is the minimum value over (start_time, end_time].
     *
     * @generated from protobuf field: optional double min = 11;
     */
    min?: number;
    /**
     * max is the maximum value over (start_time, end_time].
     *
     * @generated from protobuf field: optional double max = 12;
     */
    max?: number;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.HistogramDataPoint
 */
export declare const HistogramDataPoint: HistogramDataPoint$Type;

/**
 * This interface is used throughout @protobuf-ts to read
 * protobuf binary format.
 *
 * While not completely compatible, this interface is closely aligned
 * with the \`Reader\` class of \`protobufjs\` to make it easier to swap
 * the implementation.
 */
declare interface IBinaryReader {
    /**
     * Current position.
     */
    readonly pos: number;
    /**
     * Number of bytes available in this reader.
     */
    readonly len: number;
    /**
     * Reads a tag - field number and wire type.
     */
    tag(): [number, WireType];
    /**
     * Skip one element on the wire and return the skipped data.
     */
    skip(wireType: WireType): Uint8Array;
    /**
     * Read a \`int32\` field, a signed 32 bit varint.
     */
    uint32(): number;
    /**
     * Read a \`sint32\` field, a signed, zigzag-encoded 32-bit varint.
     */
    int32(): number;
    /**
     * Read a \`sint32\` field, a signed, zigzag-encoded 32-bit varint.
     */
    sint32(): number;
    /**
     * Read a \`int64\` field, a signed 64-bit varint.
     */
    int64(): PbLong;
    /**
     * Read a \`sint64\` field, a signed, zig-zag-encoded 64-bit varint.
     */
    sint64(): PbLong;
    /**
     * Read a \`fixed64\` field, a signed, fixed-length 64-bit integer.
     */
    sfixed64(): PbLong;
    /**
     * Read a \`uint64\` field, an unsigned 64-bit varint.
     */
    uint64(): PbULong;
    /**
     * Read a \`fixed64\` field, an unsigned, fixed-length 64 bit integer.
     */
    fixed64(): PbULong;
    /**
     * Read a \`bool\` field, a variant.
     */
    bool(): boolean;
    /**
     * Read a \`fixed32\` field, an unsigned, fixed-length 32-bit integer.
     */
    fixed32(): number;
    /**
     * Read a \`sfixed32\` field, a signed, fixed-length 32-bit integer.
     */
    sfixed32(): number;
    /**
     * Read a \`float\` field, 32-bit floating point number.
     */
    float(): number;
    /**
     * Read a \`double\` field, a 64-bit floating point number.
     */
    double(): number;
    /**
     * Read a \`bytes\` field, length-delimited arbitrary data.
     */
    bytes(): Uint8Array;
    /**
     * Read a \`string\` field, length-delimited data converted to UTF-8 text.
     */
    string(): string;
}

/**
 * This interface is used throughout @protobuf-ts to write
 * protobuf binary format.
 *
 * While not completely compatible, this interface is closely aligned
 * with the \`Writer\` class of \`protobufjs\` to make it easier to swap
 * the implementation.
 */
declare interface IBinaryWriter {
    /**
     * Return all bytes written and reset this writer.
     */
    finish(): Uint8Array;
    /**
     * Start a new fork for length-delimited data like a message
     * or a packed repeated field.
     *
     * Must be joined later with \`join()\`.
     */
    fork(): IBinaryWriter;
    /**
     * Join the last fork. Write its length and bytes, then
     * return to the previous state.
     */
    join(): IBinaryWriter;
    /**
     * Writes a tag (field number and wire type).
     *
     * Equivalent to \`uint32( (fieldNo << 3 | type) >>> 0 )\`
     *
     * Generated code should compute the tag ahead of time and call \`uint32()\`.
     */
    tag(fieldNo: number, type: WireType): IBinaryWriter;
    /**
     * Write a chunk of raw bytes.
     */
    raw(chunk: Uint8Array): IBinaryWriter;
    /**
     * Write a \`uint32\` value, an unsigned 32 bit varint.
     */
    uint32(value: number): IBinaryWriter;
    /**
     * Write a \`int32\` value, a signed 32 bit varint.
     */
    int32(value: number): IBinaryWriter;
    /**
     * Write a \`sint32\` value, a signed, zigzag-encoded 32-bit varint.
     */
    sint32(value: number): IBinaryWriter;
    /**
     * Write a \`int64\` value, a signed 64-bit varint.
     */
    int64(value: string | number | bigint): IBinaryWriter;
    /**
     * Write a \`uint64\` value, an unsigned 64-bit varint.
     */
    uint64(value: string | number | bigint): IBinaryWriter;
    /**
     * Write a \`sint64\` value, a signed, zig-zag-encoded 64-bit varint.
     */
    sint64(value: string | number | bigint): IBinaryWriter;
    /**
     * Write a \`fixed64\` value, an unsigned, fixed-length 64 bit integer.
     */
    fixed64(value: string | number | bigint): IBinaryWriter;
    /**
     * Write a \`fixed64\` value, a signed, fixed-length 64-bit integer.
     */
    sfixed64(value: string | number | bigint): IBinaryWriter;
    /**
     * Write a \`bool\` value, a variant.
     */
    bool(value: boolean): IBinaryWriter;
    /**
     * Write a \`fixed32\` value, an unsigned, fixed-length 32-bit integer.
     */
    fixed32(value: number): IBinaryWriter;
    /**
     * Write a \`sfixed32\` value, a signed, fixed-length 32-bit integer.
     */
    sfixed32(value: number): IBinaryWriter;
    /**
     * Write a \`float\` value, 32-bit floating point number.
     */
    float(value: number): IBinaryWriter;
    /**
     * Write a \`double\` value, a 64-bit floating point number.
     */
    double(value: number): IBinaryWriter;
    /**
     * Write a \`bytes\` value, length-delimited arbitrary data.
     */
    bytes(value: Uint8Array): IBinaryWriter;
    /**
     * Write a \`string\` value, length-delimited data converted to UTF-8 text.
     */
    string(value: string): IBinaryWriter;
}

/**
 * A message type provides an API to work with messages of a specific type.
 * It also exposes reflection information that can be used to work with a
 * message of unknown type.
 */
declare interface IMessageType<T extends object> extends MessageInfo {
    /**
     * The protobuf type name of the message, including package and
     * parent types if present.
     *
     * Examples:
     * 'MyNamespaceLessMessage'
     * 'my_package.MyMessage'
     * 'my_package.ParentMessage.ChildMessage'
     */
    readonly typeName: string;
    /**
     * Simple information for each message field, in the order
     * of declaration in the .proto.
     */
    readonly fields: readonly FieldInfo[];
    /**
     * Contains custom message options from the .proto source in JSON format.
     */
    readonly options: {
        [extensionName: string]: JsonValue;
    };
    /**
     * Contains the prototype for messages returned by create() which
     * includes the \`MESSAGE_TYPE\` symbol pointing back to \`this\`.
     */
    readonly messagePrototype?: Readonly<{}> | undefined;
    /**
     * Create a new message with default values.
     *
     * For example, a protobuf \`string name = 1;\` has the default value \`""\`.
     */
    create(): T;
    /**
     * Create a new message from partial data.
     *
     * Unknown fields are discarded.
     *
     * \`PartialMessage<T>\` is similar to \`Partial<T>\`,
     * but it is recursive, and it keeps \`oneof\` groups
     * intact.
     */
    create(value: PartialMessage<T>): T;
    /**
     * Create a new message from binary format.
     */
    fromBinary(data: Uint8Array, options?: Partial<BinaryReadOptions>): T;
    /**
     * Write the message to binary format.
     */
    toBinary(message: T, options?: Partial<BinaryWriteOptions>): Uint8Array;
    /**
     * Read a new message from a JSON value.
     */
    fromJson(json: JsonValue, options?: Partial<JsonReadOptions>): T;
    /**
     * Read a new message from a JSON string.
     * This is equivalent to \`T.fromJson(JSON.parse(json))\`.
     */
    fromJsonString(json: string, options?: Partial<JsonReadOptions>): T;
    /**
     * Convert the message to canonical JSON value.
     */
    toJson(message: T, options?: Partial<JsonWriteOptions>): JsonValue;
    /**
     * Convert the message to canonical JSON string.
     * This is equivalent to \`JSON.stringify(T.toJson(t))\`
     */
    toJsonString(message: T, options?: Partial<JsonWriteStringOptions>): string;
    /**
     * Clone the message.
     *
     * Unknown fields are discarded.
     */
    clone(message: T): T;
    /**
     * Copy partial data into the target message.
     *
     * If a singular scalar or enum field is present in the source, it
     * replaces the field in the target.
     *
     * If a singular message field is present in the source, it is merged
     * with the target field by calling mergePartial() of the responsible
     * message type.
     *
     * If a repeated field is present in the source, its values replace
     * all values in the target array, removing extraneous values.
     * Repeated message fields are copied, not merged.
     *
     * If a map field is present in the source, entries are added to the
     * target map, replacing entries with the same key. Entries that only
     * exist in the target remain. Entries with message values are copied,
     * not merged.
     *
     * Note that this function differs from protobuf merge semantics,
     * which appends repeated fields.
     */
    mergePartial(target: T, source: PartialMessage<T>): void;
    /**
     * Determines whether two message of the same type have the same field values.
     * Checks for deep equality, traversing repeated fields, oneof groups, maps
     * and messages recursively.
     * Will also return true if both messages are \`undefined\`.
     */
    equals(a: T | undefined, b: T | undefined): boolean;
    /**
     * Is the given value assignable to our message type
     * and contains no [excess properties](https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks)?
     */
    is(arg: any, depth?: number): arg is T;
    /**
     * Is the given value assignable to our message type,
     * regardless of [excess properties](https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks)?
     */
    isAssignable(arg: any, depth?: number): arg is T;
    /**
     * This is an internal method. If you just want to read a message from
     * JSON, use \`fromJson()\` or \`fromJsonString()\`.
     *
     * Reads JSON value and merges the fields into the target
     * according to protobuf rules. If the target is omitted,
     * a new instance is created first.
     */
    internalJsonRead(json: JsonValue, options: JsonReadOptions, target?: T): T;
    /**
     * This is an internal method. If you just want to write a message
     * to JSON, use \`toJson()\` or \`toJsonString().
     *
     * Writes JSON value and returns it.
     */
    internalJsonWrite(message: T, options: JsonWriteOptions): JsonValue;
    /**
     * This is an internal method. If you just want to write a message
     * in binary format, use \`toBinary()\`.
     *
     * Serializes the message in binary format and appends it to the given
     * writer. Returns passed writer.
     */
    internalBinaryWrite(message: T, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
    /**
     * This is an internal method. If you just want to read a message from
     * binary data, use \`fromBinary()\`.
     *
     * Reads data from binary format and merges the fields into
     * the target according to protobuf rules. If the target is
     * omitted, a new instance is created first.
     */
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: T): T;
}

declare class InstrumentationScope$Type extends MessageType<InstrumentationScope> {
    constructor();
    create(value?: PartialMessage<InstrumentationScope>): InstrumentationScope;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: InstrumentationScope): InstrumentationScope;
    internalBinaryWrite(message: InstrumentationScope, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * InstrumentationScope is a message representing the instrumentation scope information
 * such as the fully qualified name and version.
 *
 * @generated from protobuf message opentelemetry.proto.common.v1.InstrumentationScope
 */
export declare interface InstrumentationScope {
    /**
     * An empty instrumentation scope name means the name is unknown.
     *
     * @generated from protobuf field: string name = 1;
     */
    name: string;
    /**
     * @generated from protobuf field: string version = 2;
     */
    version: string;
    /**
     * Additional attributes that describe the scope. [Optional].
     * Attribute keys MUST be unique (it is not allowed to have more than one
     * attribute with the same key).
     *
     * @generated from protobuf field: repeated opentelemetry.proto.common.v1.KeyValue attributes = 3;
     */
    attributes: KeyValue[];
    /**
     * @generated from protobuf field: uint32 dropped_attributes_count = 4;
     */
    droppedAttributesCount: number;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.common.v1.InstrumentationScope
 */
export declare const InstrumentationScope: InstrumentationScope$Type;

declare interface JsonArray extends Array<JsonValue> {
}

/**
 * Represents a JSON object.
 */
declare type JsonObject = {
    [k: string]: JsonValue;
};

declare type JsonOptionsMap = {
    [extensionName: string]: JsonValue;
};

/**
 * Options for parsing JSON data.
 * All boolean options default to \`false\`.
 */
declare interface JsonReadOptions {
    /**
     * Ignore unknown fields: Proto3 JSON parser should reject unknown fields
     * by default. This option ignores unknown fields in parsing, as well as
     * unrecognized enum string representations.
     */
    ignoreUnknownFields: boolean;
    /**
     * This option is required to read \`google.protobuf.Any\`
     * from JSON format.
     */
    typeRegistry?: readonly IMessageType<any>[];
}

/**
 * Represents any possible JSON value:
 * - number
 * - string
 * - boolean
 * - null
 * - object (with any JSON value as property)
 * - array (with any JSON value as element)
 */
declare type JsonValue = number | string | boolean | null | JsonObject | JsonArray;

/**
 * Options for serializing to JSON object.
 * All boolean options default to \`false\`.
 */
declare interface JsonWriteOptions {
    /**
     * Emit fields with default values: Fields with default values are omitted
     * by default in proto3 JSON output. This option overrides this behavior
     * and outputs fields with their default values.
     */
    emitDefaultValues: boolean;
    /**
     * Emit enum values as integers instead of strings: The name of an enum
     * value is used by default in JSON output. An option may be provided to
     * use the numeric value of the enum value instead.
     */
    enumAsInteger: boolean;
    /**
     * Use proto field name instead of lowerCamelCase name: By default proto3
     * JSON printer should convert the field name to lowerCamelCase and use
     * that as the JSON name. An implementation may provide an option to use
     * proto field name as the JSON name instead. Proto3 JSON parsers are
     * required to accept both the converted lowerCamelCase name and the proto
     * field name.
     */
    useProtoFieldName: boolean;
    /**
     * This option is required to write \`google.protobuf.Any\`
     * to JSON format.
     */
    typeRegistry?: readonly IMessageType<any>[];
}

/**
 * Options for serializing to JSON string.
 * All options default to \`false\` or \`0\`.
 */
declare interface JsonWriteStringOptions extends JsonWriteOptions {
    prettySpaces: number;
}

declare class KeyValue$Type extends MessageType<KeyValue> {
    constructor();
    create(value?: PartialMessage<KeyValue>): KeyValue;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: KeyValue): KeyValue;
    internalBinaryWrite(message: KeyValue, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * KeyValue is a key-value pair that is used to store Span attributes, Link
 * attributes, etc.
 *
 * @generated from protobuf message opentelemetry.proto.common.v1.KeyValue
 */
export declare interface KeyValue {
    /**
     * @generated from protobuf field: string key = 1;
     */
    key: string;
    /**
     * @generated from protobuf field: opentelemetry.proto.common.v1.AnyValue value = 2;
     */
    value?: AnyValue;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.common.v1.KeyValue
 */
export declare const KeyValue: KeyValue$Type;

declare class KeyValueList$Type extends MessageType<KeyValueList> {
    constructor();
    create(value?: PartialMessage<KeyValueList>): KeyValueList;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: KeyValueList): KeyValueList;
    internalBinaryWrite(message: KeyValueList, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * KeyValueList is a list of KeyValue messages. We need KeyValueList as a message
 * since \`oneof\` in AnyValue does not allow repeated fields. Everywhere else where we need
 * a list of KeyValue messages (e.g. in Span) we use \`repeated KeyValue\` directly to
 * avoid unnecessary extra wrapping (which slows down the protocol). The 2 approaches
 * are semantically equivalent.
 *
 * @generated from protobuf message opentelemetry.proto.common.v1.KeyValueList
 */
export declare interface KeyValueList {
    /**
     * A collection of key/value pairs of key-value pairs. The list may be empty (may
     * contain 0 elements).
     * The keys MUST be unique (it is not allowed to have more than one
     * value with the same key).
     *
     * @generated from protobuf field: repeated opentelemetry.proto.common.v1.KeyValue values = 1;
     */
    values: KeyValue[];
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.common.v1.KeyValueList
 */
export declare const KeyValueList: KeyValueList$Type;

declare class ListValue$Type extends MessageType<ListValue> {
    constructor();
    /**
     * Encode \`ListValue\` to JSON array.
     */
    internalJsonWrite(message: ListValue, options: JsonWriteOptions): JsonValue;
    /**
     * Decode \`ListValue\` from JSON array.
     */
    internalJsonRead(json: JsonValue, options: JsonReadOptions, target?: ListValue): ListValue;
}

/**
 * \`ListValue\` is a wrapper around a repeated field of values.
 *
 * The JSON representation for \`ListValue\` is JSON array.
 *
 * @generated from protobuf message google.protobuf.ListValue
 */
declare interface ListValue {
    /**
     * Repeated field of dynamically typed values.
     *
     * @generated from protobuf field: repeated google.protobuf.Value values = 1;
     */
    values: Value[];
}

/**
 * @generated MessageType for protobuf message google.protobuf.ListValue
 */
declare const ListValue: ListValue$Type;

declare class LogRecord$Type extends MessageType<LogRecord> {
    constructor();
    create(value?: PartialMessage<LogRecord>): LogRecord;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: LogRecord): LogRecord;
    internalBinaryWrite(message: LogRecord, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * A log record according to OpenTelemetry Log Data Model:
 * https://github.com/open-telemetry/oteps/blob/main/text/logs/0097-log-data-model.md
 *
 * @generated from protobuf message opentelemetry.proto.logs.v1.LogRecord
 */
export declare interface LogRecord {
    /**
     * time_unix_nano is the time when the event occurred.
     * Value is UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January 1970.
     * Value of 0 indicates unknown or missing timestamp.
     *
     * @generated from protobuf field: fixed64 time_unix_nano = 1;
     */
    timeUnixNano: number;
    /**
     * Time when the event was observed by the collection system.
     * For events that originate in OpenTelemetry (e.g. using OpenTelemetry Logging SDK)
     * this timestamp is typically set at the generation time and is equal to Timestamp.
     * For events originating externally and collected by OpenTelemetry (e.g. using
     * Collector) this is the time when OpenTelemetry's code observed the event measured
     * by the clock of the OpenTelemetry code. This field MUST be set once the event is
     * observed by OpenTelemetry.
     *
     * For converting OpenTelemetry log data to formats that support only one timestamp or
     * when receiving OpenTelemetry log data by recipients that support only one timestamp
     * internally the following logic is recommended:
     *   - Use time_unix_nano if it is present, otherwise use observed_time_unix_nano.
     *
     * Value is UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January 1970.
     * Value of 0 indicates unknown or missing timestamp.
     *
     * @generated from protobuf field: fixed64 observed_time_unix_nano = 11;
     */
    observedTimeUnixNano: number;
    /**
     * Numerical value of the severity, normalized to values described in Log Data Model.
     * [Optional].
     *
     * @generated from protobuf field: opentelemetry.proto.logs.v1.SeverityNumber severity_number = 2;
     */
    severityNumber: SeverityNumber;
    /**
     * The severity text (also known as log level). The original string representation as
     * it is known at the source. [Optional].
     *
     * @generated from protobuf field: string severity_text = 3;
     */
    severityText: string;
    /**
     * A value containing the body of the log record. Can be for example a human-readable
     * string message (including multi-line) describing the event in a free form or it can
     * be a structured data composed of arrays and maps of other values. [Optional].
     *
     * @generated from protobuf field: opentelemetry.proto.common.v1.AnyValue body = 5;
     */
    body?: AnyValue;
    /**
     * Additional attributes that describe the specific event occurrence. [Optional].
     * Attribute keys MUST be unique (it is not allowed to have more than one
     * attribute with the same key).
     *
     * @generated from protobuf field: repeated opentelemetry.proto.common.v1.KeyValue attributes = 6;
     */
    attributes: KeyValue[];
    /**
     * @generated from protobuf field: uint32 dropped_attributes_count = 7;
     */
    droppedAttributesCount: number;
    /**
     * Flags, a bit field. 8 least significant bits are the trace flags as
     * defined in W3C Trace Context specification. 24 most significant bits are reserved
     * and must be set to 0. Readers must not assume that 24 most significant bits
     * will be zero and must correctly mask the bits when reading 8-bit trace flag (use
     * flags & LOG_RECORD_FLAGS_TRACE_FLAGS_MASK). [Optional].
     *
     * @generated from protobuf field: fixed32 flags = 8;
     */
    flags: number;
    /**
     * A unique identifier for a trace. All logs from the same trace share
     * the same \`trace_id\`. The ID is a 16-byte array. An ID with all zeroes OR
     * of length other than 16 bytes is considered invalid (empty string in OTLP/JSON
     * is zero-length and thus is also invalid).
     *
     * This field is optional.
     *
     * The receivers SHOULD assume that the log record is not associated with a
     * trace if any of the following is true:
     *   - the field is not present,
     *   - the field contains an invalid value.
     *
     * @generated from protobuf field: bytes trace_id = 9;
     */
    traceId: Uint8Array;
    /**
     * A unique identifier for a span within a trace, assigned when the span
     * is created. The ID is an 8-byte array. An ID with all zeroes OR of length
     * other than 8 bytes is considered invalid (empty string in OTLP/JSON
     * is zero-length and thus is also invalid).
     *
     * This field is optional. If the sender specifies a valid span_id then it SHOULD also
     * specify a valid trace_id.
     *
     * The receivers SHOULD assume that the log record is not associated with a
     * span if any of the following is true:
     *   - the field is not present,
     *   - the field contains an invalid value.
     *
     * @generated from protobuf field: bytes span_id = 10;
     */
    spanId: Uint8Array;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.logs.v1.LogRecord
 */
export declare const LogRecord: LogRecord$Type;

/**
 * LogRecordFlags represents constants used to interpret the
 * LogRecord.flags field, which is protobuf 'fixed32' type and is to
 * be used as bit-fields. Each non-zero value defined in this enum is
 * a bit-mask.  To extract the bit-field, for example, use an
 * expression like:
 *
 *   (logRecord.flags & LOG_RECORD_FLAGS_TRACE_FLAGS_MASK)
 *
 *
 * @generated from protobuf enum opentelemetry.proto.logs.v1.LogRecordFlags
 */
export declare enum LogRecordFlags {
    /**
     * The zero value for the enum. Should not be used for comparisons.
     * Instead use bitwise "and" with the appropriate mask as shown above.
     *
     * @generated from protobuf enum value: LOG_RECORD_FLAGS_DO_NOT_USE = 0;
     */
    DO_NOT_USE = 0,
    /**
     * Bits 0-7 are used for trace flags.
     *
     * @generated from protobuf enum value: LOG_RECORD_FLAGS_TRACE_FLAGS_MASK = 255;
     */
    TRACE_FLAGS_MASK = 255
}

export declare class Logs extends Config {
    constructor();
}

declare class LogsData$Type extends MessageType<LogsData> {
    constructor();
    create(value?: PartialMessage<LogsData>): LogsData;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: LogsData): LogsData;
    internalBinaryWrite(message: LogsData, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * LogsData represents the logs data that can be stored in a persistent storage,
 * OR can be embedded by other protocols that transfer OTLP logs data but do not
 * implement the OTLP protocol.
 *
 * The main difference between this message and collector protocol is that
 * in this message there will not be any "control" or "metadata" specific to
 * OTLP protocol.
 *
 * When new fields are added into this message, the OTLP request MUST be updated
 * as well.
 *
 * @generated from protobuf message opentelemetry.proto.logs.v1.LogsData
 */
export declare interface LogsData {
    /**
     * An array of ResourceLogs.
     * For data coming from a single resource this array will typically contain
     * one element. Intermediary nodes that receive data from multiple origins
     * typically batch the data before forwarding further and in that case this
     * array will contain multiple elements.
     *
     * @generated from protobuf field: repeated opentelemetry.proto.logs.v1.ResourceLogs resource_logs = 1;
     */
    resourceLogs: ResourceLogs[];
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.logs.v1.LogsData
 */
export declare const LogsData: LogsData$Type;

/**
 * JavaScript representation of 64 bit integral types. Equivalent to the
 * field option "jstype".
 *
 * By default, protobuf-ts represents 64 bit types as \`bigint\`.
 *
 * You can change the default behaviour by enabling the plugin parameter
 * \`long_type_string\`, which will represent 64 bit types as \`string\`.
 *
 * Alternatively, you can change the behaviour for individual fields
 * with the field option "jstype":
 *
 * \`\`\`protobuf
 * uint64 my_field = 1 [jstype = JS_STRING];
 * uint64 other_field = 2 [jstype = JS_NUMBER];
 * \`\`\`
 */
declare enum LongType {
    /**
     * Use JavaScript \`bigint\`.
     *
     * Field option \`[jstype = JS_NORMAL]\`.
     */
    BIGINT = 0,
    /**
     * Use JavaScript \`string\`.
     *
     * Field option \`[jstype = JS_STRING]\`.
     */
    STRING = 1,
    /**
     * Use JavaScript \`number\`.
     *
     * Large values will loose precision.
     *
     * Field option \`[jstype = JS_NUMBER]\`.
     */
    NUMBER = 2
}

/**
 * Describes a protobuf message for runtime reflection.
 */
declare interface MessageInfo {
    /**
     * The protobuf type name of the message, including package and
     * parent types if present.
     *
     * If the .proto file included a \`package\` statement, the type name
     * starts with '.'.
     *
     * Examples:
     * 'MyNamespaceLessMessage'
     * '.my_package.MyMessage'
     * '.my_package.ParentMessage.ChildMessage'
     */
    readonly typeName: string;
    /**
     * Simple information for each message field, in the order
     * of declaration in the source .proto.
     */
    readonly fields: readonly FieldInfo[];
    /**
     * Contains custom message options from the .proto source in JSON format.
     */
    readonly options: {
        [extensionName: string]: JsonValue;
    };
}

/**
 * This standard message type provides reflection-based
 * operations to work with a message.
 */
declare class MessageType<T extends object> implements IMessageType<T> {
    /**
     * The protobuf type name of the message, including package and
     * parent types if present.
     *
     * If the .proto file included a \`package\` statement,
     * the type name will always start with a '.'.
     *
     * Examples:
     * 'MyNamespaceLessMessage'
     * '.my_package.MyMessage'
     * '.my_package.ParentMessage.ChildMessage'
     */
    readonly typeName: string;
    /**
     * Simple information for each message field, in the order
     * of declaration in the .proto.
     */
    readonly fields: readonly FieldInfo[];
    /**
     * Contains custom service options from the .proto source in JSON format.
     */
    readonly options: JsonOptionsMap;
    /**
     * Contains the prototype for messages returned by create() which
     * includes the \`MESSAGE_TYPE\` symbol pointing back to \`this\`.
     */
    readonly messagePrototype?: Readonly<{}> | undefined;
    protected readonly defaultCheckDepth = 16;
    protected readonly refTypeCheck: ReflectionTypeCheck;
    protected readonly refJsonReader: ReflectionJsonReader;
    protected readonly refJsonWriter: ReflectionJsonWriter;
    protected readonly refBinReader: ReflectionBinaryReader;
    protected readonly refBinWriter: ReflectionBinaryWriter;
    constructor(name: string, fields: readonly PartialFieldInfo[], options?: JsonOptionsMap);
    /**
     * Create a new message with default values.
     *
     * For example, a protobuf \`string name = 1;\` has the default value \`""\`.
     */
    create(): T;
    /**
     * Create a new message from partial data.
     * Where a field is omitted, the default value is used.
     *
     * Unknown fields are discarded.
     *
     * \`PartialMessage<T>\` is similar to \`Partial<T>\`,
     * but it is recursive, and it keeps \`oneof\` groups
     * intact.
     */
    create(value: PartialMessage<T>): T;
    /**
     * Clone the message.
     *
     * Unknown fields are discarded.
     */
    clone(message: T): T;
    /**
     * Determines whether two message of the same type have the same field values.
     * Checks for deep equality, traversing repeated fields, oneof groups, maps
     * and messages recursively.
     * Will also return true if both messages are \`undefined\`.
     */
    equals(a: T | undefined, b: T | undefined): boolean;
    /**
     * Is the given value assignable to our message type
     * and contains no [excess properties](https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks)?
     */
    is(arg: any, depth?: number): arg is T;
    /**
     * Is the given value assignable to our message type,
     * regardless of [excess properties](https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks)?
     */
    isAssignable(arg: any, depth?: number): arg is T;
    /**
     * Copy partial data into the target message.
     */
    mergePartial(target: T, source: PartialMessage<T>): void;
    /**
     * Create a new message from binary format.
     */
    fromBinary(data: Uint8Array, options?: Partial<BinaryReadOptions>): T;
    /**
     * Read a new message from a JSON value.
     */
    fromJson(json: JsonValue, options?: Partial<JsonReadOptions>): T;
    /**
     * Read a new message from a JSON string.
     * This is equivalent to \`T.fromJson(JSON.parse(json))\`.
     */
    fromJsonString(json: string, options?: Partial<JsonReadOptions>): T;
    /**
     * Write the message to canonical JSON value.
     */
    toJson(message: T, options?: Partial<JsonWriteOptions>): JsonValue;
    /**
     * Convert the message to canonical JSON string.
     * This is equivalent to \`JSON.stringify(T.toJson(t))\`
     */
    toJsonString(message: T, options?: Partial<JsonWriteStringOptions>): string;
    /**
     * Write the message to binary format.
     */
    toBinary(message: T, options?: Partial<BinaryWriteOptions>): Uint8Array;
    /**
     * This is an internal method. If you just want to read a message from
     * JSON, use \`fromJson()\` or \`fromJsonString()\`.
     *
     * Reads JSON value and merges the fields into the target
     * according to protobuf rules. If the target is omitted,
     * a new instance is created first.
     */
    internalJsonRead(json: JsonValue, options: JsonReadOptions, target?: T): T;
    /**
     * This is an internal method. If you just want to write a message
     * to JSON, use \`toJson()\` or \`toJsonString().
     *
     * Writes JSON value and returns it.
     */
    internalJsonWrite(message: T, options: JsonWriteOptions): JsonValue;
    /**
     * This is an internal method. If you just want to write a message
     * in binary format, use \`toBinary()\`.
     *
     * Serializes the message in binary format and appends it to the given
     * writer. Returns passed writer.
     */
    internalBinaryWrite(message: T, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
    /**
     * This is an internal method. If you just want to read a message from
     * binary data, use \`fromBinary()\`.
     *
     * Reads data from binary format and merges the fields into
     * the target according to protobuf rules. If the target is
     * omitted, a new instance is created first.
     */
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: T): T;
}

declare class Metric$Type extends MessageType<Metric> {
    constructor();
    create(value?: PartialMessage<Metric>): Metric;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: Metric): Metric;
    internalBinaryWrite(message: Metric, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * Defines a Metric which has one or more timeseries.  The following is a
 * brief summary of the Metric data model.  For more details, see:
 *
 *   https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/metrics/data-model.md
 *
 *
 * The data model and relation between entities is shown in the
 * diagram below. Here, "DataPoint" is the term used to refer to any
 * one of the specific data point value types, and "points" is the term used
 * to refer to any one of the lists of points contained in the Metric.
 *
 * - Metric is composed of a metadata and data.
 * - Metadata part contains a name, description, unit.
 * - Data is one of the possible types (Sum, Gauge, Histogram, Summary).
 * - DataPoint contains timestamps, attributes, and one of the possible value type
 *   fields.
 *
 *     Metric
 *  +------------+
 *  |name        |
 *  |description |
 *  |unit        |     +------------------------------------+
 *  |data        |---> |Gauge, Sum, Histogram, Summary, ... |
 *  +------------+     +------------------------------------+
 *
 *    Data [One of Gauge, Sum, Histogram, Summary, ...]
 *  +-----------+
 *  |...        |  // Metadata about the Data.
 *  |points     |--+
 *  +-----------+  |
 *                 |      +---------------------------+
 *                 |      |DataPoint 1                |
 *                 v      |+------+------+   +------+ |
 *              +-----+   ||label |label |...|label | |
 *              |  1  |-->||value1|value2|...|valueN| |
 *              +-----+   |+------+------+   +------+ |
 *              |  .  |   |+-----+                    |
 *              |  .  |   ||value|                    |
 *              |  .  |   |+-----+                    |
 *              |  .  |   +---------------------------+
 *              |  .  |                   .
 *              |  .  |                   .
 *              |  .  |                   .
 *              |  .  |   +---------------------------+
 *              |  .  |   |DataPoint M                |
 *              +-----+   |+------+------+   +------+ |
 *              |  M  |-->||label |label |...|label | |
 *              +-----+   ||value1|value2|...|valueN| |
 *                        |+------+------+   +------+ |
 *                        |+-----+                    |
 *                        ||value|                    |
 *                        |+-----+                    |
 *                        +---------------------------+
 *
 * Each distinct type of DataPoint represents the output of a specific
 * aggregation function, the result of applying the DataPoint's
 * associated function of to one or more measurements.
 *
 * All DataPoint types have three common fields:
 * - Attributes includes key-value pairs associated with the data point
 * - TimeUnixNano is required, set to the end time of the aggregation
 * - StartTimeUnixNano is optional, but strongly encouraged for DataPoints
 *   having an AggregationTemporality field, as discussed below.
 *
 * Both TimeUnixNano and StartTimeUnixNano values are expressed as
 * UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January 1970.
 *
 * # TimeUnixNano
 *
 * This field is required, having consistent interpretation across
 * DataPoint types.  TimeUnixNano is the moment corresponding to when
 * the data point's aggregate value was captured.
 *
 * Data points with the 0 value for TimeUnixNano SHOULD be rejected
 * by consumers.
 *
 * # StartTimeUnixNano
 *
 * StartTimeUnixNano in general allows detecting when a sequence of
 * observations is unbroken.  This field indicates to consumers the
 * start time for points with cumulative and delta
 * AggregationTemporality, and it should be included whenever possible
 * to support correct rate calculation.  Although it may be omitted
 * when the start time is truly unknown, setting StartTimeUnixNano is
 * strongly encouraged.
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.Metric
 */
export declare interface Metric {
    /**
     * name of the metric.
     *
     * @generated from protobuf field: string name = 1;
     */
    name: string;
    /**
     * description of the metric, which can be used in documentation.
     *
     * @generated from protobuf field: string description = 2;
     */
    description: string;
    /**
     * unit in which the metric value is reported. Follows the format
     * described by http://unitsofmeasure.org/ucum.html.
     *
     * @generated from protobuf field: string unit = 3;
     */
    unit: string;
    /**
     * @generated from protobuf oneof: data
     */
    data: {
        oneofKind: "gauge";
        /**
         * @generated from protobuf field: opentelemetry.proto.metrics.v1.Gauge gauge = 5;
         */
        gauge: Gauge;
    } | {
        oneofKind: "sum";
        /**
         * @generated from protobuf field: opentelemetry.proto.metrics.v1.Sum sum = 7;
         */
        sum: Sum;
    } | {
        oneofKind: "histogram";
        /**
         * @generated from protobuf field: opentelemetry.proto.metrics.v1.Histogram histogram = 9;
         */
        histogram: Histogram;
    } | {
        oneofKind: "exponentialHistogram";
        /**
         * @generated from protobuf field: opentelemetry.proto.metrics.v1.ExponentialHistogram exponential_histogram = 10;
         */
        exponentialHistogram: ExponentialHistogram;
    } | {
        oneofKind: "summary";
        /**
         * @generated from protobuf field: opentelemetry.proto.metrics.v1.Summary summary = 11;
         */
        summary: Summary;
    } | {
        oneofKind: undefined;
    };
    /**
     * Additional metadata attributes that describe the metric. [Optional].
     * Attributes are non-identifying.
     * Consumers SHOULD NOT need to be aware of these attributes.
     * These attributes MAY be used to encode information allowing
     * for lossless roundtrip translation to / from another data model.
     * Attribute keys MUST be unique (it is not allowed to have more than one
     * attribute with the same key).
     *
     * @generated from protobuf field: repeated opentelemetry.proto.common.v1.KeyValue metadata = 12;
     */
    metadata: KeyValue[];
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.Metric
 */
export declare const Metric: Metric$Type;

export declare class Metrics extends Config {
    constructor(name?: string);
    query(): ScanData;
}

declare class MetricsData$Type extends MessageType<MetricsData> {
    constructor();
    create(value?: PartialMessage<MetricsData>): MetricsData;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: MetricsData): MetricsData;
    internalBinaryWrite(message: MetricsData, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * MetricsData represents the metrics data that can be stored in a persistent
 * storage, OR can be embedded by other protocols that transfer OTLP metrics
 * data but do not implement the OTLP protocol.
 *
 * The main difference between this message and collector protocol is that
 * in this message there will not be any "control" or "metadata" specific to
 * OTLP protocol.
 *
 * When new fields are added into this message, the OTLP request MUST be updated
 * as well.
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.MetricsData
 */
export declare interface MetricsData {
    /**
     * An array of ResourceMetrics.
     * For data coming from a single resource this array will typically contain
     * one element. Intermediary nodes that receive data from multiple origins
     * typically batch the data before forwarding further and in that case this
     * array will contain multiple elements.
     *
     * @generated from protobuf field: repeated opentelemetry.proto.metrics.v1.ResourceMetrics resource_metrics = 1;
     */
    resourceMetrics: ResourceMetrics[];
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.MetricsData
 */
export declare const MetricsData: MetricsData$Type;

/**
 * \`NullValue\` is a singleton enumeration to represent the null value for the
 * \`Value\` type union.
 *
 *  The JSON representation for \`NullValue\` is JSON \`null\`.
 *
 * @generated from protobuf enum google.protobuf.NullValue
 */
declare enum NullValue {
    /**
     * Null value.
     *
     * @generated from protobuf enum value: NULL_VALUE = 0;
     */
    NULL_VALUE = 0
}

declare class NumberDataPoint$Type extends MessageType<NumberDataPoint> {
    constructor();
    create(value?: PartialMessage<NumberDataPoint>): NumberDataPoint;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: NumberDataPoint): NumberDataPoint;
    internalBinaryWrite(message: NumberDataPoint, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * NumberDataPoint is a single data point in a timeseries that describes the
 * time-varying scalar value of a metric.
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.NumberDataPoint
 */
export declare interface NumberDataPoint {
    /**
     * The set of key/value pairs that uniquely identify the timeseries from
     * where this point belongs. The list may be empty (may contain 0 elements).
     * Attribute keys MUST be unique (it is not allowed to have more than one
     * attribute with the same key).
     *
     * @generated from protobuf field: repeated opentelemetry.proto.common.v1.KeyValue attributes = 7;
     */
    attributes: KeyValue[];
    /**
     * StartTimeUnixNano is optional but strongly encouraged, see the
     * the detailed comments above Metric.
     *
     * Value is UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January
     * 1970.
     *
     * @generated from protobuf field: fixed64 start_time_unix_nano = 2;
     */
    startTimeUnixNano: number;
    /**
     * TimeUnixNano is required, see the detailed comments above Metric.
     *
     * Value is UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January
     * 1970.
     *
     * @generated from protobuf field: fixed64 time_unix_nano = 3;
     */
    timeUnixNano: number;
    /**
     * @generated from protobuf oneof: value
     */
    value: {
        oneofKind: "asDouble";
        /**
         * @generated from protobuf field: double as_double = 4;
         */
        asDouble: number;
    } | {
        oneofKind: "asInt";
        /**
         * @generated from protobuf field: sfixed64 as_int = 6;
         */
        asInt: number;
    } | {
        oneofKind: undefined;
    };
    /**
     * (Optional) List of exemplars collected from
     * measurements that were used to form the data point
     *
     * @generated from protobuf field: repeated opentelemetry.proto.metrics.v1.Exemplar exemplars = 5;
     */
    exemplars: Exemplar[];
    /**
     * Flags that apply to this specific data point.  See DataPointFlags
     * for the available flags and their meaning.
     *
     * @generated from protobuf field: uint32 flags = 8;
     */
    flags: number;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.NumberDataPoint
 */
export declare const NumberDataPoint: NumberDataPoint$Type;

declare type PartialField<T> = T extends (Date | Uint8Array | bigint | boolean | string | number) ? T : T extends Array<infer U> ? Array<PartialField<U>> : T extends ReadonlyArray<infer U> ? ReadonlyArray<PartialField<U>> : T extends {
    oneofKind: string;
} ? T : T extends {
    oneofKind: undefined;
} ? T : T extends object ? PartialMessage<T> : T;

/**
 * Version of \`FieldInfo\` that allows the following properties
 * to be omitted:
 * - "localName", "jsonName": can be omitted if equal to lowerCamelCase(name)
 * - "opt": can be omitted if false
 * - "repeat", can be omitted if RepeatType.NO
 *
 * Use \`normalizeFieldInfo()\` to fill the omitted fields with
 * their standard values.
 */
declare type PartialFieldInfo = fiPartialRules<fiScalar> | fiPartialRules<fiEnum> | fiPartialRules<fiMessage> | fiPartialRules<fiMap>;

/**
 * Similar to \`Partial<T>\`, but recursive, and keeps \`oneof\` groups
 * intact.
 */
declare type PartialMessage<T extends object> = {
    [K in keyof T]?: PartialField<T[K]>;
};

/**
 * Version of \`MessageInfo\` that allows the following properties
 * to be omitted:
 * - "fields": omitting means the message has no fields
 * - "options": omitting means the message has no options
 */
declare type PartialMessageInfo = PartialPartial<MessageInfo, "fields" | "options">;

declare type PartialPartial<T, K extends keyof T> = Partial<Pick<T, K>> & Omit<T, K>;

/**
 * 64-bit signed integer as two 32-bit values.
 * Converts between \`string\`, \`number\` and \`bigint\` representations.
 */
declare class PbLong extends SharedPbLong {
    /**
     * long 0 singleton.
     */
    static ZERO: PbLong;
    /**
     * Create instance from a \`string\`, \`number\` or \`bigint\`.
     */
    static from(value: string | number | bigint): PbLong;
    /**
     * Do we have a minus sign?
     */
    isNegative(): boolean;
    /**
     * Negate two's complement.
     * Invert all the bits and add one to the result.
     */
    negate(): PbLong;
    /**
     * Convert to decimal string.
     */
    toString(): string;
    /**
     * Convert to native bigint.
     */
    toBigInt(): bigint;
}

/**
 * 64-bit unsigned integer as two 32-bit values.
 * Converts between \`string\`, \`number\` and \`bigint\` representations.
 */
declare class PbULong extends SharedPbLong {
    /**
     * ulong 0 singleton.
     */
    static ZERO: PbULong;
    /**
     * Create instance from a \`string\`, \`number\` or \`bigint\`.
     */
    static from(value: string | number | bigint): PbULong;
    /**
     * Convert to decimal string.
     */
    toString(): string;
    /**
     * Convert to native bigint.
     */
    toBigInt(): bigint;
}

/**
 * Reads proto3 messages in binary format using reflection information.
 *
 * https://developers.google.com/protocol-buffers/docs/encoding
 */
declare class ReflectionBinaryReader {
    private readonly info;
    protected fieldNoToField?: ReadonlyMap<number, FieldInfo>;
    constructor(info: PartialMessageInfo);
    protected prepare(): void;
    /**
     * Reads a message from binary format into the target message.
     *
     * Repeated fields are appended. Map entries are added, overwriting
     * existing keys.
     *
     * If a message field is already present, it will be merged with the
     * new data.
     */
    read<T extends object>(reader: IBinaryReader, message: T, options: BinaryReadOptions, length?: number): void;
    /**
     * Read a map field, expecting key field = 1, value field = 2
     */
    protected mapEntry(field: FieldInfo & {
        kind: "map";
    }, reader: IBinaryReader, options: BinaryReadOptions): [string | number, UnknownMap[string]];
    protected scalar(reader: IBinaryReader, type: ScalarType, longType: LongType | undefined): UnknownScalar;
}

/**
 * Writes proto3 messages in binary format using reflection information.
 *
 * https://developers.google.com/protocol-buffers/docs/encoding
 */
declare class ReflectionBinaryWriter {
    private readonly info;
    protected fields?: readonly FieldInfo[];
    constructor(info: PartialMessageInfo);
    protected prepare(): void;
    /**
     * Writes the message to binary format.
     */
    write<T extends object>(message: T, writer: IBinaryWriter, options: BinaryWriteOptions): void;
    protected mapEntry(writer: IBinaryWriter, options: BinaryWriteOptions, field: FieldInfo & {
        kind: 'map';
    }, key: any, value: any): void;
    protected message(writer: IBinaryWriter, options: BinaryWriteOptions, handler: IMessageType<any>, fieldNo: number, value: any): void;
    /**
     * Write a single scalar value.
     */
    protected scalar(writer: IBinaryWriter, type: ScalarType, fieldNo: number, value: any, emitDefault: boolean): void;
    /**
     * Write an array of scalar values in packed format.
     */
    protected packed(writer: IBinaryWriter, type: ScalarType, fieldNo: number, value: any[]): void;
    /**
     * Get information for writing a scalar value.
     *
     * Returns tuple:
     * [0]: appropriate WireType
     * [1]: name of the appropriate method of IBinaryWriter
     * [2]: whether the given value is a default value
     *
     * If argument \`value\` is omitted, [2] is always false.
     */
    protected scalarInfo(type: ScalarType, value?: any): [WireType, "int32" | "string" | "bool" | "uint32" | "double" | "float" | "int64" | "uint64" | "fixed64" | "bytes" | "fixed32" | "sfixed32" | "sfixed64" | "sint32" | "sint64", boolean];
}

/**
 * Reads proto3 messages in canonical JSON format using reflection information.
 *
 * https://developers.google.com/protocol-buffers/docs/proto3#json
 */
declare class ReflectionJsonReader {
    private readonly info;
    /**
     * JSON key to field.
     * Accepts the original proto field name in the .proto, the
     * lowerCamelCase name, or the name specified by the json_name option.
     */
    private fMap?;
    constructor(info: PartialMessageInfo);
    protected prepare(): void;
    assert(condition: any, fieldName: string, jsonValue: JsonValue): asserts condition;
    /**
     * Reads a message from canonical JSON format into the target message.
     *
     * Repeated fields are appended. Map entries are added, overwriting
     * existing keys.
     *
     * If a message field is already present, it will be merged with the
     * new data.
     */
    read<T extends object>(input: JsonObject, message: T, options: JsonReadOptions): void;
    /**
     * Returns \`false\` for unrecognized string representations.
     *
     * google.protobuf.NullValue accepts only JSON \`null\` (or the old \`"NULL_VALUE"\`).
     */
    enum(type: EnumInfo, json: unknown, fieldName: string, ignoreUnknownFields: boolean): UnknownEnum | false;
    scalar(json: JsonValue, type: ScalarType, longType: LongType | undefined, fieldName: string): UnknownScalar;
}

/**
 * Writes proto3 messages in canonical JSON format using reflection
 * information.
 *
 * https://developers.google.com/protocol-buffers/docs/proto3#json
 */
declare class ReflectionJsonWriter {
    private readonly fields;
    constructor(info: PartialMessageInfo);
    /**
     * Converts the message to a JSON object, based on the field descriptors.
     */
    write<T extends object>(message: T, options: JsonWriteOptions): JsonValue;
    field(field: FieldInfo, value: unknown, options: JsonWriteOptions): JsonValue | undefined;
    /**
     * Returns \`null\` as the default for google.protobuf.NullValue.
     */
    enum(type: EnumInfo, value: unknown, fieldName: string, optional: boolean, emitDefaultValues: boolean, enumAsInteger: boolean): JsonValue | undefined;
    message(type: IMessageType<any>, value: unknown, fieldName: string, options: JsonWriteOptions): JsonValue | undefined;
    scalar(type: ScalarType, value: unknown, fieldName: string, optional: false, emitDefaultValues: boolean): JsonValue;
    scalar(type: ScalarType, value: unknown, fieldName: string, optional: boolean, emitDefaultValues: boolean): JsonValue | undefined;
}

declare class ReflectionTypeCheck {
    private readonly fields;
    private data;
    constructor(info: PartialMessageInfo);
    private prepare;
    /**
     * Is the argument a valid message as specified by the
     * reflection information?
     *
     * Checks all field types recursively. The \`depth\`
     * specifies how deep into the structure the check will be.
     *
     * With a depth of 0, only the presence of fields
     * is checked.
     *
     * With a depth of 1 or more, the field types are checked.
     *
     * With a depth of 2 or more, the members of map, repeated
     * and message fields are checked.
     *
     * Message fields will be checked recursively with depth - 1.
     *
     * The number of map entries / repeated values being checked
     * is < depth.
     */
    is(message: any, depth: number, allowExcessProperties?: boolean): boolean;
    private field;
    private message;
    private messages;
    private scalar;
    private scalars;
    private mapKeys;
}

/**
 * Serialize value and exit the script. This must only be called once, subsequent calls have
 * no effect.
 * @param value
 */
export declare const render: (value: Struct | Data | ScanData) => void;

/**
 * Protobuf 2.1.0 introduced packed repeated fields.
 * Setting the field option \`[packed = true]\` enables packing.
 *
 * In proto3, all repeated fields are packed by default.
 * Setting the field option \`[packed = false]\` disables packing.
 *
 * Packed repeated fields are encoded with a single tag,
 * then a length-delimiter, then the element values.
 *
 * Unpacked repeated fields are encoded with a tag and
 * value for each element.
 *
 * \`bytes\` and \`string\` cannot be packed.
 */
declare enum RepeatType {
    /**
     * The field is not repeated.
     */
    NO = 0,
    /**
     * The field is repeated and should be packed.
     * Invalid for \`bytes\` and \`string\`, they cannot be packed.
     */
    PACKED = 1,
    /**
     * The field is repeated but should not be packed.
     * The only valid repeat type for repeated \`bytes\` and \`string\`.
     */
    UNPACKED = 2
}

declare class Resource$Type extends MessageType<Resource> {
    constructor();
    create(value?: PartialMessage<Resource>): Resource;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: Resource): Resource;
    internalBinaryWrite(message: Resource, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * Resource information.
 *
 * @generated from protobuf message opentelemetry.proto.resource.v1.Resource
 */
export declare interface Resource {
    /**
     * Set of attributes that describe the resource.
     * Attribute keys MUST be unique (it is not allowed to have more than one
     * attribute with the same key).
     *
     * @generated from protobuf field: repeated opentelemetry.proto.common.v1.KeyValue attributes = 1;
     */
    attributes: KeyValue[];
    /**
     * dropped_attributes_count is the number of dropped attributes. If the value is 0, then
     * no attributes were dropped.
     *
     * @generated from protobuf field: uint32 dropped_attributes_count = 2;
     */
    droppedAttributesCount: number;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.resource.v1.Resource
 */
export declare const Resource: Resource$Type;

declare class ResourceLogs$Type extends MessageType<ResourceLogs> {
    constructor();
    create(value?: PartialMessage<ResourceLogs>): ResourceLogs;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: ResourceLogs): ResourceLogs;
    internalBinaryWrite(message: ResourceLogs, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * A collection of ScopeLogs from a Resource.
 *
 * @generated from protobuf message opentelemetry.proto.logs.v1.ResourceLogs
 */
export declare interface ResourceLogs {
    /**
     * The resource for the logs in this message.
     * If this field is not set then resource info is unknown.
     *
     * @generated from protobuf field: opentelemetry.proto.resource.v1.Resource resource = 1;
     */
    resource?: Resource;
    /**
     * A list of ScopeLogs that originate from a resource.
     *
     * @generated from protobuf field: repeated opentelemetry.proto.logs.v1.ScopeLogs scope_logs = 2;
     */
    scopeLogs: ScopeLogs[];
    /**
     * The Schema URL, if known. This is the identifier of the Schema that the resource data
     * is recorded in. To learn more about Schema URL see
     * https://opentelemetry.io/docs/specs/otel/schemas/#schema-url
     * This schema_url applies to the data in the "resource" field. It does not apply
     * to the data in the "scope_logs" field which have their own schema_url field.
     *
     * @generated from protobuf field: string schema_url = 3;
     */
    schemaUrl: string;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.logs.v1.ResourceLogs
 */
export declare const ResourceLogs: ResourceLogs$Type;

declare class ResourceMetrics$Type extends MessageType<ResourceMetrics> {
    constructor();
    create(value?: PartialMessage<ResourceMetrics>): ResourceMetrics;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: ResourceMetrics): ResourceMetrics;
    internalBinaryWrite(message: ResourceMetrics, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * A collection of ScopeMetrics from a Resource.
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.ResourceMetrics
 */
export declare interface ResourceMetrics {
    /**
     * The resource for the metrics in this message.
     * If this field is not set then no resource info is known.
     *
     * @generated from protobuf field: opentelemetry.proto.resource.v1.Resource resource = 1;
     */
    resource?: Resource;
    /**
     * A list of metrics that originate from a resource.
     *
     * @generated from protobuf field: repeated opentelemetry.proto.metrics.v1.ScopeMetrics scope_metrics = 2;
     */
    scopeMetrics: ScopeMetrics[];
    /**
     * The Schema URL, if known. This is the identifier of the Schema that the resource data
     * is recorded in. To learn more about Schema URL see
     * https://opentelemetry.io/docs/specs/otel/schemas/#schema-url
     * This schema_url applies to the data in the "resource" field. It does not apply
     * to the data in the "scope_metrics" field which have their own schema_url field.
     *
     * @generated from protobuf field: string schema_url = 3;
     */
    schemaUrl: string;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.ResourceMetrics
 */
export declare const ResourceMetrics: ResourceMetrics$Type;

declare class ResourceSpans$Type extends MessageType<ResourceSpans> {
    constructor();
    create(value?: PartialMessage<ResourceSpans>): ResourceSpans;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: ResourceSpans): ResourceSpans;
    internalBinaryWrite(message: ResourceSpans, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * A collection of ScopeSpans from a Resource.
 *
 * @generated from protobuf message opentelemetry.proto.trace.v1.ResourceSpans
 */
export declare interface ResourceSpans {
    /**
     * The resource for the spans in this message.
     * If this field is not set then no resource info is known.
     *
     * @generated from protobuf field: opentelemetry.proto.resource.v1.Resource resource = 1;
     */
    resource?: Resource;
    /**
     * A list of ScopeSpans that originate from a resource.
     *
     * @generated from protobuf field: repeated opentelemetry.proto.trace.v1.ScopeSpans scope_spans = 2;
     */
    scopeSpans: ScopeSpans[];
    /**
     * The Schema URL, if known. This is the identifier of the Schema that the resource data
     * is recorded in. To learn more about Schema URL see
     * https://opentelemetry.io/docs/specs/otel/schemas/#schema-url
     * This schema_url applies to the data in the "resource" field. It does not apply
     * to the data in the "scope_spans" field which have their own schema_url field.
     *
     * @generated from protobuf field: string schema_url = 3;
     */
    schemaUrl: string;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.trace.v1.ResourceSpans
 */
export declare const ResourceSpans: ResourceSpans$Type;

/**
 * Scalar value types. This is a subset of field types declared by protobuf
 * enum google.protobuf.FieldDescriptorProto.Type The types GROUP and MESSAGE
 * are omitted, but the numerical values are identical.
 */
declare enum ScalarType {
    DOUBLE = 1,
    FLOAT = 2,
    INT64 = 3,
    UINT64 = 4,
    INT32 = 5,
    FIXED64 = 6,
    FIXED32 = 7,
    BOOL = 8,
    STRING = 9,
    BYTES = 12,
    UINT32 = 13,
    SFIXED32 = 15,
    SFIXED64 = 16,
    SINT32 = 17,
    SINT64 = 18
}

declare class Scan$Type extends MessageType<Scan> {
    constructor();
}

/**
 * @generated from protobuf message v1.Scan
 */
export declare interface Scan {
    /**
     * @generated from protobuf field: v1.Scan.SCOPE scope = 1;
     */
    scope: Scan_SCOPE;
    /**
     * @generated from protobuf field: v1.Scan.TimeRange time_range = 2;
     */
    timeRange?: Scan_TimeRange;
    /**
     * @generated from protobuf field: repeated v1.Scan.Filter filters = 3;
     */
    filters: Scan_Filter[];
    /**
     * Number of samples to process. Defauluts to no limit.
     *
     * @generated from protobuf field: uint64 limit = 4;
     */
    limit: number;
    /**
     * Scans in reverse order, with latest samples comming first.  To get the
     * latest sample you can set reverse to true and limit 1.
     *
     * @generated from protobuf field: bool reverse = 5;
     */
    reverse: boolean;
}

/**
 * @generated MessageType for protobuf message v1.Scan
 */
export declare const Scan: Scan$Type;

declare class Scan_AttrFilter$Type extends MessageType<Scan_AttrFilter> {
    constructor();
}

/**
 * @generated from protobuf message v1.Scan.AttrFilter
 */
export declare interface Scan_AttrFilter {
    /**
     * @generated from protobuf field: v1.Scan.AttributeProp prop = 1;
     */
    prop: Scan_AttributeProp;
    /**
     * @generated from protobuf field: string key = 2;
     */
    key: string;
    /**
     * @generated from protobuf field: string value = 3;
     */
    value: string;
}

/**
 * @generated MessageType for protobuf message v1.Scan.AttrFilter
 */
export declare const Scan_AttrFilter: Scan_AttrFilter$Type;

/**
 * @generated from protobuf enum v1.Scan.AttributeProp
 */
export declare enum Scan_AttributeProp {
    /**
     * @generated from protobuf enum value: UNKOWN_ATTR = 0;
     */
    UNKOWN_ATTR = 0,
    /**
     * @generated from protobuf enum value: RESOURCE_ATTRIBUTES = 1;
     */
    RESOURCE_ATTRIBUTES = 1,
    /**
     * @generated from protobuf enum value: SCOPE_ATTRIBUTES = 5;
     */
    SCOPE_ATTRIBUTES = 5,
    /**
     * @generated from protobuf enum value: ATTRIBUTES = 7;
     */
    ATTRIBUTES = 7
}

declare class Scan_BaseFilter$Type extends MessageType<Scan_BaseFilter> {
    constructor();
}

/**
 * @generated from protobuf message v1.Scan.BaseFilter
 */
export declare interface Scan_BaseFilter {
    /**
     * @generated from protobuf field: v1.Scan.BaseProp prop = 1;
     */
    prop: Scan_BaseProp;
    /**
     * @generated from protobuf field: string value = 2;
     */
    value: string;
}

/**
 * @generated MessageType for protobuf message v1.Scan.BaseFilter
 */
export declare const Scan_BaseFilter: Scan_BaseFilter$Type;

/**
 * @generated from protobuf enum v1.Scan.BaseProp
 */
export declare enum Scan_BaseProp {
    /**
     * @generated from protobuf enum value: RESOURCE_SCHEMA = 0;
     */
    RESOURCE_SCHEMA = 0,
    /**
     * @generated from protobuf enum value: SCOPE_SCHEMA = 2;
     */
    SCOPE_SCHEMA = 2,
    /**
     * @generated from protobuf enum value: SCOPE_NAME = 3;
     */
    SCOPE_NAME = 3,
    /**
     * @generated from protobuf enum value: SCOPE_VERSION = 4;
     */
    SCOPE_VERSION = 4,
    /**
     * @generated from protobuf enum value: NAME = 6;
     */
    NAME = 6,
    /**
     * @generated from protobuf enum value: TRACE_ID = 8;
     */
    TRACE_ID = 8,
    /**
     * @generated from protobuf enum value: SPAN_ID = 9;
     */
    SPAN_ID = 9,
    /**
     * @generated from protobuf enum value: PARENT_SPAN_ID = 10;
     */
    PARENT_SPAN_ID = 10,
    /**
     * @generated from protobuf enum value: LOGS_LEVEL = 11;
     */
    LOGS_LEVEL = 11
}

declare class Scan_Filter$Type extends MessageType<Scan_Filter> {
    constructor();
}

/**
 * @generated from protobuf message v1.Scan.Filter
 */
export declare interface Scan_Filter {
    /**
     * @generated from protobuf oneof: value
     */
    value: {
        oneofKind: "base";
        /**
         * @generated from protobuf field: v1.Scan.BaseFilter base = 1;
         */
        base: Scan_BaseFilter;
    } | {
        oneofKind: "attr";
        /**
         * @generated from protobuf field: v1.Scan.AttrFilter attr = 2;
         */
        attr: Scan_AttrFilter;
    } | {
        oneofKind: undefined;
    };
}

/**
 * @generated MessageType for protobuf message v1.Scan.Filter
 */
export declare const Scan_Filter: Scan_Filter$Type;

/**
 * @generated from protobuf enum v1.Scan.SCOPE
 */
export declare enum Scan_SCOPE {
    /**
     * @generated from protobuf enum value: METRICS = 0;
     */
    METRICS = 0,
    /**
     * @generated from protobuf enum value: TRACES = 2;
     */
    TRACES = 2,
    /**
     * @generated from protobuf enum value: LOGS = 3;
     */
    LOGS = 3,
    /**
     * @generated from protobuf enum value: SNIPPETS = 4;
     */
    SNIPPETS = 4
}

declare class Scan_TimeRange$Type extends MessageType<Scan_TimeRange> {
    constructor();
}

/**
 * @generated from protobuf message v1.Scan.TimeRange
 */
export declare interface Scan_TimeRange {
    /**
     * @generated from protobuf field: google.protobuf.Timestamp start = 1;
     */
    start?: Timestamp;
    /**
     * @generated from protobuf field: google.protobuf.Timestamp end = 2;
     */
    end?: Timestamp;
}

/**
 * @generated MessageType for protobuf message v1.Scan.TimeRange
 */
export declare const Scan_TimeRange: Scan_TimeRange$Type;

export declare class ScanData {
    private ptr;
    constructor(ptr: any);
    toData(): Data;
    formData(data: Data): ScanData;
    static is(value: any): boolean;
}

declare class ScopeLogs$Type extends MessageType<ScopeLogs> {
    constructor();
    create(value?: PartialMessage<ScopeLogs>): ScopeLogs;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: ScopeLogs): ScopeLogs;
    internalBinaryWrite(message: ScopeLogs, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * A collection of Logs produced by a Scope.
 *
 * @generated from protobuf message opentelemetry.proto.logs.v1.ScopeLogs
 */
export declare interface ScopeLogs {
    /**
     * The instrumentation scope information for the logs in this message.
     * Semantically when InstrumentationScope isn't set, it is equivalent with
     * an empty instrumentation scope name (unknown).
     *
     * @generated from protobuf field: opentelemetry.proto.common.v1.InstrumentationScope scope = 1;
     */
    scope?: InstrumentationScope;
    /**
     * A list of log records.
     *
     * @generated from protobuf field: repeated opentelemetry.proto.logs.v1.LogRecord log_records = 2;
     */
    logRecords: LogRecord[];
    /**
     * The Schema URL, if known. This is the identifier of the Schema that the log data
     * is recorded in. To learn more about Schema URL see
     * https://opentelemetry.io/docs/specs/otel/schemas/#schema-url
     * This schema_url applies to all logs in the "logs" field.
     *
     * @generated from protobuf field: string schema_url = 3;
     */
    schemaUrl: string;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.logs.v1.ScopeLogs
 */
export declare const ScopeLogs: ScopeLogs$Type;

declare class ScopeMetrics$Type extends MessageType<ScopeMetrics> {
    constructor();
    create(value?: PartialMessage<ScopeMetrics>): ScopeMetrics;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: ScopeMetrics): ScopeMetrics;
    internalBinaryWrite(message: ScopeMetrics, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * A collection of Metrics produced by an Scope.
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.ScopeMetrics
 */
export declare interface ScopeMetrics {
    /**
     * The instrumentation scope information for the metrics in this message.
     * Semantically when InstrumentationScope isn't set, it is equivalent with
     * an empty instrumentation scope name (unknown).
     *
     * @generated from protobuf field: opentelemetry.proto.common.v1.InstrumentationScope scope = 1;
     */
    scope?: InstrumentationScope;
    /**
     * A list of metrics that originate from an instrumentation library.
     *
     * @generated from protobuf field: repeated opentelemetry.proto.metrics.v1.Metric metrics = 2;
     */
    metrics: Metric[];
    /**
     * The Schema URL, if known. This is the identifier of the Schema that the metric data
     * is recorded in. To learn more about Schema URL see
     * https://opentelemetry.io/docs/specs/otel/schemas/#schema-url
     * This schema_url applies to all metrics in the "metrics" field.
     *
     * @generated from protobuf field: string schema_url = 3;
     */
    schemaUrl: string;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.ScopeMetrics
 */
export declare const ScopeMetrics: ScopeMetrics$Type;

declare class ScopeSpans$Type extends MessageType<ScopeSpans> {
    constructor();
    create(value?: PartialMessage<ScopeSpans>): ScopeSpans;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: ScopeSpans): ScopeSpans;
    internalBinaryWrite(message: ScopeSpans, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * A collection of Spans produced by an InstrumentationScope.
 *
 * @generated from protobuf message opentelemetry.proto.trace.v1.ScopeSpans
 */
export declare interface ScopeSpans {
    /**
     * The instrumentation scope information for the spans in this message.
     * Semantically when InstrumentationScope isn't set, it is equivalent with
     * an empty instrumentation scope name (unknown).
     *
     * @generated from protobuf field: opentelemetry.proto.common.v1.InstrumentationScope scope = 1;
     */
    scope?: InstrumentationScope;
    /**
     * A list of Spans that originate from an instrumentation scope.
     *
     * @generated from protobuf field: repeated opentelemetry.proto.trace.v1.Span spans = 2;
     */
    spans: Span[];
    /**
     * The Schema URL, if known. This is the identifier of the Schema that the span data
     * is recorded in. To learn more about Schema URL see
     * https://opentelemetry.io/docs/specs/otel/schemas/#schema-url
     * This schema_url applies to all spans and span events in the "spans" field.
     *
     * @generated from protobuf field: string schema_url = 3;
     */
    schemaUrl: string;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.trace.v1.ScopeSpans
 */
export declare const ScopeSpans: ScopeSpans$Type;

/**
 * Possible values for LogRecord.SeverityNumber.
 *
 * @generated from protobuf enum opentelemetry.proto.logs.v1.SeverityNumber
 */
export declare enum SeverityNumber {
    /**
     * UNSPECIFIED is the default SeverityNumber, it MUST NOT be used.
     *
     * @generated from protobuf enum value: SEVERITY_NUMBER_UNSPECIFIED = 0;
     */
    UNSPECIFIED = 0,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_TRACE = 1;
     */
    TRACE = 1,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_TRACE2 = 2;
     */
    TRACE2 = 2,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_TRACE3 = 3;
     */
    TRACE3 = 3,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_TRACE4 = 4;
     */
    TRACE4 = 4,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_DEBUG = 5;
     */
    DEBUG = 5,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_DEBUG2 = 6;
     */
    DEBUG2 = 6,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_DEBUG3 = 7;
     */
    DEBUG3 = 7,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_DEBUG4 = 8;
     */
    DEBUG4 = 8,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_INFO = 9;
     */
    INFO = 9,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_INFO2 = 10;
     */
    INFO2 = 10,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_INFO3 = 11;
     */
    INFO3 = 11,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_INFO4 = 12;
     */
    INFO4 = 12,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_WARN = 13;
     */
    WARN = 13,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_WARN2 = 14;
     */
    WARN2 = 14,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_WARN3 = 15;
     */
    WARN3 = 15,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_WARN4 = 16;
     */
    WARN4 = 16,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_ERROR = 17;
     */
    ERROR = 17,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_ERROR2 = 18;
     */
    ERROR2 = 18,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_ERROR3 = 19;
     */
    ERROR3 = 19,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_ERROR4 = 20;
     */
    ERROR4 = 20,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_FATAL = 21;
     */
    FATAL = 21,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_FATAL2 = 22;
     */
    FATAL2 = 22,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_FATAL3 = 23;
     */
    FATAL3 = 23,
    /**
     * @generated from protobuf enum value: SEVERITY_NUMBER_FATAL4 = 24;
     */
    FATAL4 = 24
}

declare abstract class SharedPbLong {
    /**
     * Low 32 bits.
     */
    readonly lo: number;
    /**
     * High 32 bits.
     */
    readonly hi: number;
    /**
     * Create a new instance with the given bits.
     */
    constructor(lo: number, hi: number);
    /**
     * Is this instance equal to 0?
     */
    isZero(): boolean;
    /**
     * Convert to a native number.
     */
    toNumber(): number;
    /**
     * Convert to decimal string.
     */
    abstract toString(): string;
    /**
     * Convert to native bigint.
     */
    abstract toBigInt(): bigint;
}

declare class Span$Type extends MessageType<Span> {
    constructor();
    create(value?: PartialMessage<Span>): Span;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: Span): Span;
    internalBinaryWrite(message: Span, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * A Span represents a single operation performed by a single component of the system.
 *
 * The next available field id is 17.
 *
 * @generated from protobuf message opentelemetry.proto.trace.v1.Span
 */
export declare interface Span {
    /**
     * A unique identifier for a trace. All spans from the same trace share
     * the same \`trace_id\`. The ID is a 16-byte array. An ID with all zeroes OR
     * of length other than 16 bytes is considered invalid (empty string in OTLP/JSON
     * is zero-length and thus is also invalid).
     *
     * This field is required.
     *
     * @generated from protobuf field: bytes trace_id = 1;
     */
    traceId: Uint8Array;
    /**
     * A unique identifier for a span within a trace, assigned when the span
     * is created. The ID is an 8-byte array. An ID with all zeroes OR of length
     * other than 8 bytes is considered invalid (empty string in OTLP/JSON
     * is zero-length and thus is also invalid).
     *
     * This field is required.
     *
     * @generated from protobuf field: bytes span_id = 2;
     */
    spanId: Uint8Array;
    /**
     * trace_state conveys information about request position in multiple distributed tracing graphs.
     * It is a trace_state in w3c-trace-context format: https://www.w3.org/TR/trace-context/#tracestate-header
     * See also https://github.com/w3c/distributed-tracing for more details about this field.
     *
     * @generated from protobuf field: string trace_state = 3;
     */
    traceState: string;
    /**
     * The \`span_id\` of this span's parent span. If this is a root span, then this
     * field must be empty. The ID is an 8-byte array.
     *
     * @generated from protobuf field: bytes parent_span_id = 4;
     */
    parentSpanId: Uint8Array;
    /**
     * Flags, a bit field.
     *
     * Bits 0-7 (8 least significant bits) are the trace flags as defined in W3C Trace
     * Context specification. To read the 8-bit W3C trace flag, use
     * \`flags & SPAN_FLAGS_TRACE_FLAGS_MASK\`.
     *
     * See https://www.w3.org/TR/trace-context-2/#trace-flags for the flag definitions.
     *
     * Bits 8 and 9 represent the 3 states of whether a span's parent
     * is remote. The states are (unknown, is not remote, is remote).
     * To read whether the value is known, use \`(flags & SPAN_FLAGS_CONTEXT_HAS_IS_REMOTE_MASK) != 0\`.
     * To read whether the span is remote, use \`(flags & SPAN_FLAGS_CONTEXT_IS_REMOTE_MASK) != 0\`.
     *
     * When creating span messages, if the message is logically forwarded from another source
     * with an equivalent flags fields (i.e., usually another OTLP span message), the field SHOULD
     * be copied as-is. If creating from a source that does not have an equivalent flags field
     * (such as a runtime representation of an OpenTelemetry span), the high 22 bits MUST
     * be set to zero.
     * Readers MUST NOT assume that bits 10-31 (22 most significant bits) will be zero.
     *
     * [Optional].
     *
     * @generated from protobuf field: fixed32 flags = 16;
     */
    flags: number;
    /**
     * A description of the span's operation.
     *
     * For example, the name can be a qualified method name or a file name
     * and a line number where the operation is called. A best practice is to use
     * the same display name at the same call point in an application.
     * This makes it easier to correlate spans in different traces.
     *
     * This field is semantically required to be set to non-empty string.
     * Empty value is equivalent to an unknown span name.
     *
     * This field is required.
     *
     * @generated from protobuf field: string name = 5;
     */
    name: string;
    /**
     * Distinguishes between spans generated in a particular context. For example,
     * two spans with the same name may be distinguished using \`CLIENT\` (caller)
     * and \`SERVER\` (callee) to identify queueing latency associated with the span.
     *
     * @generated from protobuf field: opentelemetry.proto.trace.v1.Span.SpanKind kind = 6;
     */
    kind: Span_SpanKind;
    /**
     * start_time_unix_nano is the start time of the span. On the client side, this is the time
     * kept by the local machine where the span execution starts. On the server side, this
     * is the time when the server's application handler starts running.
     * Value is UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January 1970.
     *
     * This field is semantically required and it is expected that end_time >= start_time.
     *
     * @generated from protobuf field: fixed64 start_time_unix_nano = 7;
     */
    startTimeUnixNano: number;
    /**
     * end_time_unix_nano is the end time of the span. On the client side, this is the time
     * kept by the local machine where the span execution ends. On the server side, this
     * is the time when the server application handler stops running.
     * Value is UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January 1970.
     *
     * This field is semantically required and it is expected that end_time >= start_time.
     *
     * @generated from protobuf field: fixed64 end_time_unix_nano = 8;
     */
    endTimeUnixNano: number;
    /**
     * attributes is a collection of key/value pairs. Note, global attributes
     * like server name can be set using the resource API. Examples of attributes:
     *
     *     "/http/user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36"
     *     "/http/server_latency": 300
     *     "example.com/myattribute": true
     *     "example.com/score": 10.239
     *
     * The OpenTelemetry API specification further restricts the allowed value types:
     * https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/common/README.md#attribute
     * Attribute keys MUST be unique (it is not allowed to have more than one
     * attribute with the same key).
     *
     * @generated from protobuf field: repeated opentelemetry.proto.common.v1.KeyValue attributes = 9;
     */
    attributes: KeyValue[];
    /**
     * dropped_attributes_count is the number of attributes that were discarded. Attributes
     * can be discarded because their keys are too long or because there are too many
     * attributes. If this value is 0, then no attributes were dropped.
     *
     * @generated from protobuf field: uint32 dropped_attributes_count = 10;
     */
    droppedAttributesCount: number;
    /**
     * events is a collection of Event items.
     *
     * @generated from protobuf field: repeated opentelemetry.proto.trace.v1.Span.Event events = 11;
     */
    events: Span_Event[];
    /**
     * dropped_events_count is the number of dropped events. If the value is 0, then no
     * events were dropped.
     *
     * @generated from protobuf field: uint32 dropped_events_count = 12;
     */
    droppedEventsCount: number;
    /**
     * links is a collection of Links, which are references from this span to a span
     * in the same or different trace.
     *
     * @generated from protobuf field: repeated opentelemetry.proto.trace.v1.Span.Link links = 13;
     */
    links: Span_Link[];
    /**
     * dropped_links_count is the number of dropped links after the maximum size was
     * enforced. If this value is 0, then no links were dropped.
     *
     * @generated from protobuf field: uint32 dropped_links_count = 14;
     */
    droppedLinksCount: number;
    /**
     * An optional final status for this span. Semantically when Status isn't set, it means
     * span's status code is unset, i.e. assume STATUS_CODE_UNSET (code = 0).
     *
     * @generated from protobuf field: opentelemetry.proto.trace.v1.Status status = 15;
     */
    status?: Status;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.trace.v1.Span
 */
export declare const Span: Span$Type;

declare class Span_Event$Type extends MessageType<Span_Event> {
    constructor();
    create(value?: PartialMessage<Span_Event>): Span_Event;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: Span_Event): Span_Event;
    internalBinaryWrite(message: Span_Event, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * Event is a time-stamped annotation of the span, consisting of user-supplied
 * text description and key-value pairs.
 *
 * @generated from protobuf message opentelemetry.proto.trace.v1.Span.Event
 */
export declare interface Span_Event {
    /**
     * time_unix_nano is the time the event occurred.
     *
     * @generated from protobuf field: fixed64 time_unix_nano = 1;
     */
    timeUnixNano: number;
    /**
     * name of the event.
     * This field is semantically required to be set to non-empty string.
     *
     * @generated from protobuf field: string name = 2;
     */
    name: string;
    /**
     * attributes is a collection of attribute key/value pairs on the event.
     * Attribute keys MUST be unique (it is not allowed to have more than one
     * attribute with the same key).
     *
     * @generated from protobuf field: repeated opentelemetry.proto.common.v1.KeyValue attributes = 3;
     */
    attributes: KeyValue[];
    /**
     * dropped_attributes_count is the number of dropped attributes. If the value is 0,
     * then no attributes were dropped.
     *
     * @generated from protobuf field: uint32 dropped_attributes_count = 4;
     */
    droppedAttributesCount: number;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.trace.v1.Span.Event
 */
export declare const Span_Event: Span_Event$Type;

declare class Span_Link$Type extends MessageType<Span_Link> {
    constructor();
    create(value?: PartialMessage<Span_Link>): Span_Link;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: Span_Link): Span_Link;
    internalBinaryWrite(message: Span_Link, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * A pointer from the current span to another span in the same trace or in a
 * different trace. For example, this can be used in batching operations,
 * where a single batch handler processes multiple requests from different
 * traces or when the handler receives a request from a different project.
 *
 * @generated from protobuf message opentelemetry.proto.trace.v1.Span.Link
 */
export declare interface Span_Link {
    /**
     * A unique identifier of a trace that this linked span is part of. The ID is a
     * 16-byte array.
     *
     * @generated from protobuf field: bytes trace_id = 1;
     */
    traceId: Uint8Array;
    /**
     * A unique identifier for the linked span. The ID is an 8-byte array.
     *
     * @generated from protobuf field: bytes span_id = 2;
     */
    spanId: Uint8Array;
    /**
     * The trace_state associated with the link.
     *
     * @generated from protobuf field: string trace_state = 3;
     */
    traceState: string;
    /**
     * attributes is a collection of attribute key/value pairs on the link.
     * Attribute keys MUST be unique (it is not allowed to have more than one
     * attribute with the same key).
     *
     * @generated from protobuf field: repeated opentelemetry.proto.common.v1.KeyValue attributes = 4;
     */
    attributes: KeyValue[];
    /**
     * dropped_attributes_count is the number of dropped attributes. If the value is 0,
     * then no attributes were dropped.
     *
     * @generated from protobuf field: uint32 dropped_attributes_count = 5;
     */
    droppedAttributesCount: number;
    /**
     * Flags, a bit field.
     *
     * Bits 0-7 (8 least significant bits) are the trace flags as defined in W3C Trace
     * Context specification. To read the 8-bit W3C trace flag, use
     * \`flags & SPAN_FLAGS_TRACE_FLAGS_MASK\`.
     *
     * See https://www.w3.org/TR/trace-context-2/#trace-flags for the flag definitions.
     *
     * Bits 8 and 9 represent the 3 states of whether the link is remote.
     * The states are (unknown, is not remote, is remote).
     * To read whether the value is known, use \`(flags & SPAN_FLAGS_CONTEXT_HAS_IS_REMOTE_MASK) != 0\`.
     * To read whether the link is remote, use \`(flags & SPAN_FLAGS_CONTEXT_IS_REMOTE_MASK) != 0\`.
     *
     * Readers MUST NOT assume that bits 10-31 (22 most significant bits) will be zero.
     * When creating new spans, bits 10-31 (most-significant 22-bits) MUST be zero.
     *
     * [Optional].
     *
     * @generated from protobuf field: fixed32 flags = 6;
     */
    flags: number;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.trace.v1.Span.Link
 */
export declare const Span_Link: Span_Link$Type;

/**
 * SpanKind is the type of span. Can be used to specify additional relationships between spans
 * in addition to a parent/child relationship.
 *
 * @generated from protobuf enum opentelemetry.proto.trace.v1.Span.SpanKind
 */
export declare enum Span_SpanKind {
    /**
     * Unspecified. Do NOT use as default.
     * Implementations MAY assume SpanKind to be INTERNAL when receiving UNSPECIFIED.
     *
     * @generated from protobuf enum value: SPAN_KIND_UNSPECIFIED = 0;
     */
    UNSPECIFIED = 0,
    /**
     * Indicates that the span represents an internal operation within an application,
     * as opposed to an operation happening at the boundaries. Default value.
     *
     * @generated from protobuf enum value: SPAN_KIND_INTERNAL = 1;
     */
    INTERNAL = 1,
    /**
     * Indicates that the span covers server-side handling of an RPC or other
     * remote network request.
     *
     * @generated from protobuf enum value: SPAN_KIND_SERVER = 2;
     */
    SERVER = 2,
    /**
     * Indicates that the span describes a request to some remote service.
     *
     * @generated from protobuf enum value: SPAN_KIND_CLIENT = 3;
     */
    CLIENT = 3,
    /**
     * Indicates that the span describes a producer sending a message to a broker.
     * Unlike CLIENT and SERVER, there is often no direct critical path latency relationship
     * between producer and consumer spans. A PRODUCER span ends when the message was accepted
     * by the broker while the logical processing of the message might span a much longer time.
     *
     * @generated from protobuf enum value: SPAN_KIND_PRODUCER = 4;
     */
    PRODUCER = 4,
    /**
     * Indicates that the span describes consumer receiving a message from a broker.
     * Like the PRODUCER kind, there is often no direct critical path latency relationship
     * between producer and consumer spans.
     *
     * @generated from protobuf enum value: SPAN_KIND_CONSUMER = 5;
     */
    CONSUMER = 5
}

/**
 * SpanFlags represents constants used to interpret the
 * Span.flags field, which is protobuf 'fixed32' type and is to
 * be used as bit-fields. Each non-zero value defined in this enum is
 * a bit-mask.  To extract the bit-field, for example, use an
 * expression like:
 *
 *   (span.flags & SPAN_FLAGS_TRACE_FLAGS_MASK)
 *
 * See https://www.w3.org/TR/trace-context-2/#trace-flags for the flag definitions.
 *
 * Note that Span flags were introduced in version 1.1 of the
 * OpenTelemetry protocol.  Older Span producers do not set this
 * field, consequently consumers should not rely on the absence of a
 * particular flag bit to indicate the presence of a particular feature.
 *
 * @generated from protobuf enum opentelemetry.proto.trace.v1.SpanFlags
 */
export declare enum SpanFlags {
    /**
     * The zero value for the enum. Should not be used for comparisons.
     * Instead use bitwise "and" with the appropriate mask as shown above.
     *
     * @generated from protobuf enum value: SPAN_FLAGS_DO_NOT_USE = 0;
     */
    DO_NOT_USE = 0,
    /**
     * Bits 0-7 are used for trace flags.
     *
     * @generated from protobuf enum value: SPAN_FLAGS_TRACE_FLAGS_MASK = 255;
     */
    TRACE_FLAGS_MASK = 255,
    /**
     * Bits 8 and 9 are used to indicate that the parent span or link span is remote.
     * Bit 8 (\`HAS_IS_REMOTE\`) indicates whether the value is known.
     * Bit 9 (\`IS_REMOTE\`) indicates whether the span or link is remote.
     *
     * @generated from protobuf enum value: SPAN_FLAGS_CONTEXT_HAS_IS_REMOTE_MASK = 256;
     */
    CONTEXT_HAS_IS_REMOTE_MASK = 256,
    /**
     * @generated from protobuf enum value: SPAN_FLAGS_CONTEXT_IS_REMOTE_MASK = 512;
     */
    CONTEXT_IS_REMOTE_MASK = 512
}

declare class Status$Type extends MessageType<Status> {
    constructor();
    create(value?: PartialMessage<Status>): Status;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: Status): Status;
    internalBinaryWrite(message: Status, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * The Status type defines a logical error model that is suitable for different
 * programming environments, including REST APIs and RPC APIs.
 *
 * @generated from protobuf message opentelemetry.proto.trace.v1.Status
 */
export declare interface Status {
    /**
     * A developer-facing human readable error message.
     *
     * @generated from protobuf field: string message = 2;
     */
    message: string;
    /**
     * The status code.
     *
     * @generated from protobuf field: opentelemetry.proto.trace.v1.Status.StatusCode code = 3;
     */
    code: Status_StatusCode;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.trace.v1.Status
 */
export declare const Status: Status$Type;

/**
 * For the semantics of status codes see
 * https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/trace/api.md#set-status
 *
 * @generated from protobuf enum opentelemetry.proto.trace.v1.Status.StatusCode
 */
export declare enum Status_StatusCode {
    /**
     * The default status.
     *
     * @generated from protobuf enum value: STATUS_CODE_UNSET = 0;
     */
    UNSET = 0,
    /**
     * The Span has been validated by an Application developer or Operator to
     * have completed successfully.
     *
     * @generated from protobuf enum value: STATUS_CODE_OK = 1;
     */
    OK = 1,
    /**
     * The Span contains an error.
     *
     * @generated from protobuf enum value: STATUS_CODE_ERROR = 2;
     */
    ERROR = 2
}

declare class Struct$Type extends MessageType<Struct> {
    constructor();
    /**
     * Encode \`Struct\` to JSON object.
     */
    internalJsonWrite(message: Struct, options: JsonWriteOptions): JsonValue;
    /**
     * Decode \`Struct\` from JSON object.
     */
    internalJsonRead(json: JsonValue, options: JsonReadOptions, target?: Struct): Struct;
}

/**
 * \`Struct\` represents a structured data value, consisting of fields
 * which map to dynamically typed values. In some languages, \`Struct\`
 * might be supported by a native representation. For example, in
 * scripting languages like JS a struct is represented as an
 * object. The details of that representation are described together
 * with the proto support for the language.
 *
 * The JSON representation for \`Struct\` is JSON object.
 *
 * @generated from protobuf message google.protobuf.Struct
 */
declare interface Struct {
    /**
     * Unordered map of dynamically typed values.
     *
     * @generated from protobuf field: map<string, google.protobuf.Value> fields = 1;
     */
    fields: {
        [key: string]: Value;
    };
}

/**
 * @generated MessageType for protobuf message google.protobuf.Struct
 */
declare const Struct: Struct$Type;

declare class Sum$Type extends MessageType<Sum> {
    constructor();
    create(value?: PartialMessage<Sum>): Sum;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: Sum): Sum;
    internalBinaryWrite(message: Sum, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * Sum represents the type of a scalar metric that is calculated as a sum of all
 * reported measurements over a time interval.
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.Sum
 */
export declare interface Sum {
    /**
     * @generated from protobuf field: repeated opentelemetry.proto.metrics.v1.NumberDataPoint data_points = 1;
     */
    dataPoints: NumberDataPoint[];
    /**
     * aggregation_temporality describes if the aggregator reports delta changes
     * since last report time, or cumulative changes since a fixed start time.
     *
     * @generated from protobuf field: opentelemetry.proto.metrics.v1.AggregationTemporality aggregation_temporality = 2;
     */
    aggregationTemporality: AggregationTemporality;
    /**
     * If "true" means that the sum is monotonic.
     *
     * @generated from protobuf field: bool is_monotonic = 3;
     */
    isMonotonic: boolean;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.Sum
 */
export declare const Sum: Sum$Type;

declare class Summary$Type extends MessageType<Summary> {
    constructor();
    create(value?: PartialMessage<Summary>): Summary;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: Summary): Summary;
    internalBinaryWrite(message: Summary, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * Summary metric data are used to convey quantile summaries,
 * a Prometheus (see: https://prometheus.io/docs/concepts/metric_types/#summary)
 * and OpenMetrics (see: https://github.com/OpenObservability/OpenMetrics/blob/4dbf6075567ab43296eed941037c12951faafb92/protos/prometheus.proto#L45)
 * data type. These data points cannot always be merged in a meaningful way.
 * While they can be useful in some applications, histogram data points are
 * recommended for new applications.
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.Summary
 */
export declare interface Summary {
    /**
     * @generated from protobuf field: repeated opentelemetry.proto.metrics.v1.SummaryDataPoint data_points = 1;
     */
    dataPoints: SummaryDataPoint[];
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.Summary
 */
export declare const Summary: Summary$Type;

declare class SummaryDataPoint$Type extends MessageType<SummaryDataPoint> {
    constructor();
    create(value?: PartialMessage<SummaryDataPoint>): SummaryDataPoint;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: SummaryDataPoint): SummaryDataPoint;
    internalBinaryWrite(message: SummaryDataPoint, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * SummaryDataPoint is a single data point in a timeseries that describes the
 * time-varying values of a Summary metric.
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.SummaryDataPoint
 */
export declare interface SummaryDataPoint {
    /**
     * The set of key/value pairs that uniquely identify the timeseries from
     * where this point belongs. The list may be empty (may contain 0 elements).
     * Attribute keys MUST be unique (it is not allowed to have more than one
     * attribute with the same key).
     *
     * @generated from protobuf field: repeated opentelemetry.proto.common.v1.KeyValue attributes = 7;
     */
    attributes: KeyValue[];
    /**
     * StartTimeUnixNano is optional but strongly encouraged, see the
     * the detailed comments above Metric.
     *
     * Value is UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January
     * 1970.
     *
     * @generated from protobuf field: fixed64 start_time_unix_nano = 2;
     */
    startTimeUnixNano: number;
    /**
     * TimeUnixNano is required, see the detailed comments above Metric.
     *
     * Value is UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January
     * 1970.
     *
     * @generated from protobuf field: fixed64 time_unix_nano = 3;
     */
    timeUnixNano: number;
    /**
     * count is the number of values in the population. Must be non-negative.
     *
     * @generated from protobuf field: fixed64 count = 4;
     */
    count: number;
    /**
     * sum of the values in the population. If count is zero then this field
     * must be zero.
     *
     * Note: Sum should only be filled out when measuring non-negative discrete
     * events, and is assumed to be monotonic over the values of these events.
     * Negative events *can* be recorded, but sum should not be filled out when
     * doing so.  This is specifically to enforce compatibility w/ OpenMetrics,
     * see: https://github.com/OpenObservability/OpenMetrics/blob/main/specification/OpenMetrics.md#summary
     *
     * @generated from protobuf field: double sum = 5;
     */
    sum: number;
    /**
     * (Optional) list of values at different quantiles of the distribution calculated
     * from the current snapshot. The quantiles must be strictly increasing.
     *
     * @generated from protobuf field: repeated opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile quantile_values = 6;
     */
    quantileValues: SummaryDataPoint_ValueAtQuantile[];
    /**
     * Flags that apply to this specific data point.  See DataPointFlags
     * for the available flags and their meaning.
     *
     * @generated from protobuf field: uint32 flags = 8;
     */
    flags: number;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.SummaryDataPoint
 */
export declare const SummaryDataPoint: SummaryDataPoint$Type;

declare class SummaryDataPoint_ValueAtQuantile$Type extends MessageType<SummaryDataPoint_ValueAtQuantile> {
    constructor();
    create(value?: PartialMessage<SummaryDataPoint_ValueAtQuantile>): SummaryDataPoint_ValueAtQuantile;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: SummaryDataPoint_ValueAtQuantile): SummaryDataPoint_ValueAtQuantile;
    internalBinaryWrite(message: SummaryDataPoint_ValueAtQuantile, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * Represents the value at a given quantile of a distribution.
 *
 * To record Min and Max values following conventions are used:
 * - The 1.0 quantile is equivalent to the maximum value observed.
 * - The 0.0 quantile is equivalent to the minimum value observed.
 *
 * See the following issue for more context:
 * https://github.com/open-telemetry/opentelemetry-proto/issues/125
 *
 * @generated from protobuf message opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile
 */
export declare interface SummaryDataPoint_ValueAtQuantile {
    /**
     * The quantile of a distribution. Must be in the interval
     * [0.0, 1.0].
     *
     * @generated from protobuf field: double quantile = 1;
     */
    quantile: number;
    /**
     * The value at the given quantile of a distribution.
     *
     * Quantile values must NOT be negative.
     *
     * @generated from protobuf field: double value = 2;
     */
    value: number;
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile
 */
export declare const SummaryDataPoint_ValueAtQuantile: SummaryDataPoint_ValueAtQuantile$Type;

declare class Timestamp$Type extends MessageType<Timestamp> {
    constructor();
    /**
     * Creates a new \`Timestamp\` for the current time.
     */
    now(): Timestamp;
    /**
     * Converts a \`Timestamp\` to a JavaScript Date.
     */
    toDate(message: Timestamp): Date;
    /**
     * Converts a JavaScript Date to a \`Timestamp\`.
     */
    fromDate(date: Date): Timestamp;
    /**
     * In JSON format, the \`Timestamp\` type is encoded as a string
     * in the RFC 3339 format.
     */
    internalJsonWrite(message: Timestamp, options: JsonWriteOptions): JsonValue;
    /**
     * In JSON format, the \`Timestamp\` type is encoded as a string
     * in the RFC 3339 format.
     */
    internalJsonRead(json: JsonValue, options: JsonReadOptions, target?: Timestamp): Timestamp;
}

/**
 * A Timestamp represents a point in time independent of any time zone or local
 * calendar, encoded as a count of seconds and fractions of seconds at
 * nanosecond resolution. The count is relative to an epoch at UTC midnight on
 * January 1, 1970, in the proleptic Gregorian calendar which extends the
 * Gregorian calendar backwards to year one.
 *
 * All minutes are 60 seconds long. Leap seconds are "smeared" so that no leap
 * second table is needed for interpretation, using a [24-hour linear
 * smear](https://developers.google.com/time/smear).
 *
 * The range is from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59.999999999Z. By
 * restricting to that range, we ensure that we can convert to and from [RFC
 * 3339](https://www.ietf.org/rfc/rfc3339.txt) date strings.
 *
 * # Examples
 *
 * Example 1: Compute Timestamp from POSIX \`time()\`.
 *
 *     Timestamp timestamp;
 *     timestamp.set_seconds(time(NULL));
 *     timestamp.set_nanos(0);
 *
 * Example 2: Compute Timestamp from POSIX \`gettimeofday()\`.
 *
 *     struct timeval tv;
 *     gettimeofday(&tv, NULL);
 *
 *     Timestamp timestamp;
 *     timestamp.set_seconds(tv.tv_sec);
 *     timestamp.set_nanos(tv.tv_usec * 1000);
 *
 * Example 3: Compute Timestamp from Win32 \`GetSystemTimeAsFileTime()\`.
 *
 *     FILETIME ft;
 *     GetSystemTimeAsFileTime(&ft);
 *     UINT64 ticks = (((UINT64)ft.dwHighDateTime) << 32) | ft.dwLowDateTime;
 *
 *     // A Windows tick is 100 nanoseconds. Windows epoch 1601-01-01T00:00:00Z
 *     // is 11644473600 seconds before Unix epoch 1970-01-01T00:00:00Z.
 *     Timestamp timestamp;
 *     timestamp.set_seconds((INT64) ((ticks / 10000000) - 11644473600LL));
 *     timestamp.set_nanos((INT32) ((ticks % 10000000) * 100));
 *
 * Example 4: Compute Timestamp from Java \`System.currentTimeMillis()\`.
 *
 *     long millis = System.currentTimeMillis();
 *
 *     Timestamp timestamp = Timestamp.newBuilder().setSeconds(millis / 1000)
 *         .setNanos((int) ((millis % 1000) * 1000000)).build();
 *
 * Example 5: Compute Timestamp from Java \`Instant.now()\`.
 *
 *     Instant now = Instant.now();
 *
 *     Timestamp timestamp =
 *         Timestamp.newBuilder().setSeconds(now.getEpochSecond())
 *             .setNanos(now.getNano()).build();
 *
 * Example 6: Compute Timestamp from current time in Python.
 *
 *     timestamp = Timestamp()
 *     timestamp.GetCurrentTime()
 *
 * # JSON Mapping
 *
 * In JSON format, the Timestamp type is encoded as a string in the
 * [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt) format. That is, the
 * format is "{year}-{month}-{day}T{hour}:{min}:{sec}[.{frac_sec}]Z"
 * where {year} is always expressed using four digits while {month}, {day},
 * {hour}, {min}, and {sec} are zero-padded to two digits each. The fractional
 * seconds, which can go up to 9 digits (i.e. up to 1 nanosecond resolution),
 * are optional. The "Z" suffix indicates the timezone ("UTC"); the timezone
 * is required. A proto3 JSON serializer should always use UTC (as indicated by
 * "Z") when printing the Timestamp type and a proto3 JSON parser should be
 * able to accept both UTC and other timezones (as indicated by an offset).
 *
 * For example, "2017-01-15T01:30:15.01Z" encodes 15.01 seconds past
 * 01:30 UTC on January 15, 2017.
 *
 * In JavaScript, one can convert a Date object to this format using the
 * standard
 * [toISOString()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString)
 * method. In Python, a standard \`datetime.datetime\` object can be converted
 * to this format using
 * [\`strftime\`](https://docs.python.org/2/library/time.html#time.strftime) with
 * the time format spec '%Y-%m-%dT%H:%M:%S.%fZ'. Likewise, in Java, one can use
 * the Joda Time's [\`ISODateTimeFormat.dateTime()\`](
 * http://www.joda.org/joda-time/apidocs/org/joda/time/format/ISODateTimeFormat.html#dateTime%2D%2D
 * ) to obtain a formatter capable of generating timestamps in this format.
 *
 *
 * @generated from protobuf message google.protobuf.Timestamp
 */
export declare interface Timestamp {
    /**
     * Represents seconds of UTC time since Unix epoch
     * 1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to
     * 9999-12-31T23:59:59Z inclusive.
     *
     * @generated from protobuf field: int64 seconds = 1;
     */
    seconds: number;
    /**
     * Non-negative fractions of a second at nanosecond resolution. Negative
     * second values with fractions must still have non-negative nanos values
     * that count forward in time. Must be from 0 to 999,999,999
     * inclusive.
     *
     * @generated from protobuf field: int32 nanos = 2;
     */
    nanos: number;
}

/**
 * @generated MessageType for protobuf message google.protobuf.Timestamp
 */
export declare const Timestamp: Timestamp$Type;

export declare class Trace extends Config {
    constructor();
}

declare class TracesData$Type extends MessageType<TracesData> {
    constructor();
    create(value?: PartialMessage<TracesData>): TracesData;
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: TracesData): TracesData;
    internalBinaryWrite(message: TracesData, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter;
}

/**
 * TracesData represents the traces data that can be stored in a persistent storage,
 * OR can be embedded by other protocols that transfer OTLP traces data but do
 * not implement the OTLP protocol.
 *
 * The main difference between this message and collector protocol is that
 * in this message there will not be any "control" or "metadata" specific to
 * OTLP protocol.
 *
 * When new fields are added into this message, the OTLP request MUST be updated
 * as well.
 *
 * @generated from protobuf message opentelemetry.proto.trace.v1.TracesData
 */
export declare interface TracesData {
    /**
     * An array of ResourceSpans.
     * For data coming from a single resource this array will typically contain
     * one element. Intermediary nodes that receive data from multiple origins
     * typically batch the data before forwarding further and in that case this
     * array will contain multiple elements.
     *
     * @generated from protobuf field: repeated opentelemetry.proto.trace.v1.ResourceSpans resource_spans = 1;
     */
    resourceSpans: ResourceSpans[];
}

/**
 * @generated MessageType for protobuf message opentelemetry.proto.trace.v1.TracesData
 */
export declare const TracesData: TracesData$Type;

/**
 * A enum field of unknown type.
 */
declare type UnknownEnum = number;

/**
 * Store an unknown field for a message somewhere.
 */
declare type UnknownFieldReader = (typeName: string, message: any, fieldNo: number, wireType: WireType, data: Uint8Array) => void;

/**
 * Write unknown fields stored for the message to the writer.
 */
declare type UnknownFieldWriter = (typeName: string, message: any, writer: IBinaryWriter) => void;

/**
 * A map field of unknown type.
 */
declare type UnknownMap<T = UnknownMessage | UnknownScalar | UnknownEnum> = {
    [key: string]: T;
};

/**
 * A message of unknown type.
 */
declare interface UnknownMessage {
    [k: string]: UnknownScalar | UnknownEnum | UnknownMessage | UnknownOneofGroup | UnknownMap | UnknownScalar[] | UnknownMessage[] | UnknownEnum[] | undefined;
}

/**
 * A unknown oneof group. See \`isOneofGroup()\` for details.
 */
declare type UnknownOneofGroup = {
    oneofKind: undefined | string;
    [k: string]: UnknownScalar | UnknownEnum | UnknownMessage | undefined;
};

/**
 * A scalar field of unknown type.
 */
declare type UnknownScalar = string | number | bigint | boolean | Uint8Array;

declare class Value$Type extends MessageType<Value> {
    constructor();
    /**
     * Encode \`Value\` to JSON value.
     */
    internalJsonWrite(message: Value, options: JsonWriteOptions): JsonValue;
    /**
     * Decode \`Value\` from JSON value.
     */
    internalJsonRead(json: JsonValue, options: JsonReadOptions, target?: Value): Value;
}

/**
 * \`Value\` represents a dynamically typed value which can be either
 * null, a number, a string, a boolean, a recursive struct value, or a
 * list of values. A producer of value is expected to set one of these
 * variants. Absence of any variant indicates an error.
 *
 * The JSON representation for \`Value\` is JSON value.
 *
 * @generated from protobuf message google.protobuf.Value
 */
declare interface Value {
    /**
     * @generated from protobuf oneof: kind
     */
    kind: {
        oneofKind: "nullValue";
        /**
         * Represents a null value.
         *
         * @generated from protobuf field: google.protobuf.NullValue null_value = 1;
         */
        nullValue: NullValue;
    } | {
        oneofKind: "numberValue";
        /**
         * Represents a double value.
         *
         * @generated from protobuf field: double number_value = 2;
         */
        numberValue: number;
    } | {
        oneofKind: "stringValue";
        /**
         * Represents a string value.
         *
         * @generated from protobuf field: string string_value = 3;
         */
        stringValue: string;
    } | {
        oneofKind: "boolValue";
        /**
         * Represents a boolean value.
         *
         * @generated from protobuf field: bool bool_value = 4;
         */
        boolValue: boolean;
    } | {
        oneofKind: "structValue";
        /**
         * Represents a structured value.
         *
         * @generated from protobuf field: google.protobuf.Struct struct_value = 5;
         */
        structValue: Struct;
    } | {
        oneofKind: "listValue";
        /**
         * Represents a repeated \`Value\`.
         *
         * @generated from protobuf field: google.protobuf.ListValue list_value = 6;
         */
        listValue: ListValue;
    } | {
        oneofKind: undefined;
    };
}

/**
 * @generated MessageType for protobuf message google.protobuf.Value
 */
declare const Value: Value$Type;

/**
 * Protobuf binary format wire types.
 *
 * A wire type provides just enough information to find the length of the
 * following value.
 *
 * See https://developers.google.com/protocol-buffers/docs/encoding#structure
 */
declare enum WireType {
    /**
     * Used for int32, int64, uint32, uint64, sint32, sint64, bool, enum
     */
    Varint = 0,
    /**
     * Used for fixed64, sfixed64, double.
     * Always 8 bytes with little-endian byte order.
     */
    Bit64 = 1,
    /**
     * Used for string, bytes, embedded messages, packed repeated fields
     *
     * Only repeated numeric types (types which use the varint, 32-bit,
     * or 64-bit wire types) can be packed. In proto3, such fields are
     * packed by default.
     */
    LengthDelimited = 2,
    /**
     * Used for groups
     * @deprecated
     */
    StartGroup = 3,
    /**
     * Used for groups
     * @deprecated
     */
    EndGroup = 4,
    /**
     * Used for fixed32, sfixed32, float.
     * Always 4 bytes with little-endian byte order.
     */
    Bit32 = 5
}

export { }

};`;self.MonacoEnvironment={getWorker(n,e){return e==="typescript"||e==="javascript"?new xVe:new SVe}};T0.typescript.typescriptDefaults.setEagerModelSync(!0);T0.typescript.typescriptDefaults.addExtraLib(kVe);const LVe=kP.createRoot(document.getElementById("root")),DVe=ode(wVe,{future:{v7_normalizeFormMethod:!0}});LVe.render(mt.jsx(Ce.StrictMode,{children:mt.jsx(RX,{children:mt.jsx(mVe,{children:mt.jsx(HX,{children:mt.jsx(Bfe,{children:mt.jsx(gde,{router:DVe})})})})})}));export{eN as m,vne as t};
